var Hd=Object.defineProperty;var Wd=(d,m,g)=>m in d?Hd(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g;var vr=(d,m,g)=>Wd(d,typeof m!="symbol"?m+"":m,g);(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const D of document.querySelectorAll('link[rel="modulepreload"]'))w(D);new MutationObserver(D=>{for(const H of D)if(H.type==="childList")for(const q of H.addedNodes)q.tagName==="LINK"&&q.rel==="modulepreload"&&w(q)}).observe(document,{childList:!0,subtree:!0});function g(D){const H={};return D.integrity&&(H.integrity=D.integrity),D.referrerPolicy&&(H.referrerPolicy=D.referrerPolicy),D.crossOrigin==="use-credentials"?H.credentials="include":D.crossOrigin==="anonymous"?H.credentials="omit":H.credentials="same-origin",H}function w(D){if(D.ep)return;D.ep=!0;const H=g(D);fetch(D.href,H)}})();function getDefaultExportFromCjs$1(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var d=Symbol.for("react.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),q=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ne=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ae=Symbol.iterator;function se(Pe){return Pe===null||typeof Pe!="object"?null:(Pe=ae&&Pe[ae]||Pe["@@iterator"],typeof Pe=="function"?Pe:null)}var le={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ue=Object.assign,fe={};function de(Pe,Ge,it){this.props=Pe,this.context=Ge,this.refs=fe,this.updater=it||le}de.prototype.isReactComponent={},de.prototype.setState=function(Pe,Ge){if(typeof Pe!="object"&&typeof Pe!="function"&&Pe!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Pe,Ge,"setState")},de.prototype.forceUpdate=function(Pe){this.updater.enqueueForceUpdate(this,Pe,"forceUpdate")};function me(){}me.prototype=de.prototype;function ge(Pe,Ge,it){this.props=Pe,this.context=Ge,this.refs=fe,this.updater=it||le}var he=ge.prototype=new me;he.constructor=ge,ue(he,de.prototype),he.isPureReactComponent=!0;var pe=Array.isArray,ve=Object.prototype.hasOwnProperty,ke={current:null},be={key:!0,ref:!0,__self:!0,__source:!0};function Se(Pe,Ge,it){var Je,He={},Qe=null,ut=null;if(Ge!=null)for(Je in Ge.ref!==void 0&&(ut=Ge.ref),Ge.key!==void 0&&(Qe=""+Ge.key),Ge)ve.call(Ge,Je)&&!be.hasOwnProperty(Je)&&(He[Je]=Ge[Je]);var dt=arguments.length-2;if(dt===1)He.children=it;else if(1<dt){for(var kt=Array(dt),Xe=0;Xe<dt;Xe++)kt[Xe]=arguments[Xe+2];He.children=kt}if(Pe&&Pe.defaultProps)for(Je in dt=Pe.defaultProps,dt)He[Je]===void 0&&(He[Je]=dt[Je]);return{$$typeof:d,type:Pe,key:Qe,ref:ut,props:He,_owner:ke.current}}function Ee(Pe,Ge){return{$$typeof:d,type:Pe.type,key:Ge,ref:Pe.ref,props:Pe.props,_owner:Pe._owner}}function Ie(Pe){return typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===d}function _e(Pe){var Ge={"=":"=0",":":"=2"};return"$"+Pe.replace(/[=:]/g,function(it){return Ge[it]})}var Te=/\/+/g;function Le(Pe,Ge){return typeof Pe=="object"&&Pe!==null&&Pe.key!=null?_e(""+Pe.key):Ge.toString(36)}function Be(Pe,Ge,it,Je,He){var Qe=typeof Pe;(Qe==="undefined"||Qe==="boolean")&&(Pe=null);var ut=!1;if(Pe===null)ut=!0;else switch(Qe){case"string":case"number":ut=!0;break;case"object":switch(Pe.$$typeof){case d:case m:ut=!0}}if(ut)return ut=Pe,He=He(ut),Pe=Je===""?"."+Le(ut,0):Je,pe(He)?(it="",Pe!=null&&(it=Pe.replace(Te,"$&/")+"/"),Be(He,Ge,it,"",function(Xe){return Xe})):He!=null&&(Ie(He)&&(He=Ee(He,it+(!He.key||ut&&ut.key===He.key?"":(""+He.key).replace(Te,"$&/")+"/")+Pe)),Ge.push(He)),1;if(ut=0,Je=Je===""?".":Je+":",pe(Pe))for(var dt=0;dt<Pe.length;dt++){Qe=Pe[dt];var kt=Je+Le(Qe,dt);ut+=Be(Qe,Ge,it,kt,He)}else if(kt=se(Pe),typeof kt=="function")for(Pe=kt.call(Pe),dt=0;!(Qe=Pe.next()).done;)Qe=Qe.value,kt=Je+Le(Qe,dt++),ut+=Be(Qe,Ge,it,kt,He);else if(Qe==="object")throw Ge=String(Pe),Error("Objects are not valid as a React child (found: "+(Ge==="[object Object]"?"object with keys {"+Object.keys(Pe).join(", ")+"}":Ge)+"). If you meant to render a collection of children, use an array instead.");return ut}function Ce(Pe,Ge,it){if(Pe==null)return Pe;var Je=[],He=0;return Be(Pe,Je,"","",function(Qe){return Ge.call(it,Qe,He++)}),Je}function ze(Pe){if(Pe._status===-1){var Ge=Pe._result;Ge=Ge(),Ge.then(function(it){(Pe._status===0||Pe._status===-1)&&(Pe._status=1,Pe._result=it)},function(it){(Pe._status===0||Pe._status===-1)&&(Pe._status=2,Pe._result=it)}),Pe._status===-1&&(Pe._status=0,Pe._result=Ge)}if(Pe._status===1)return Pe._result.default;throw Pe._result}var Ke={current:null},je={transition:null},$e={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:je,ReactCurrentOwner:ke};function Ye(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:Ce,forEach:function(Pe,Ge,it){Ce(Pe,function(){Ge.apply(this,arguments)},it)},count:function(Pe){var Ge=0;return Ce(Pe,function(){Ge++}),Ge},toArray:function(Pe){return Ce(Pe,function(Ge){return Ge})||[]},only:function(Pe){if(!Ie(Pe))throw Error("React.Children.only expected to receive a single React element child.");return Pe}},react_production_min.Component=de,react_production_min.Fragment=g,react_production_min.Profiler=D,react_production_min.PureComponent=ge,react_production_min.StrictMode=w,react_production_min.Suspense=re,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$e,react_production_min.act=Ye,react_production_min.cloneElement=function(Pe,Ge,it){if(Pe==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Pe+".");var Je=ue({},Pe.props),He=Pe.key,Qe=Pe.ref,ut=Pe._owner;if(Ge!=null){if(Ge.ref!==void 0&&(Qe=Ge.ref,ut=ke.current),Ge.key!==void 0&&(He=""+Ge.key),Pe.type&&Pe.type.defaultProps)var dt=Pe.type.defaultProps;for(kt in Ge)ve.call(Ge,kt)&&!be.hasOwnProperty(kt)&&(Je[kt]=Ge[kt]===void 0&&dt!==void 0?dt[kt]:Ge[kt])}var kt=arguments.length-2;if(kt===1)Je.children=it;else if(1<kt){dt=Array(kt);for(var Xe=0;Xe<kt;Xe++)dt[Xe]=arguments[Xe+2];Je.children=dt}return{$$typeof:d,type:Pe.type,key:He,ref:Qe,props:Je,_owner:ut}},react_production_min.createContext=function(Pe){return Pe={$$typeof:q,_currentValue:Pe,_currentValue2:Pe,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Pe.Provider={$$typeof:H,_context:Pe},Pe.Consumer=Pe},react_production_min.createElement=Se,react_production_min.createFactory=function(Pe){var Ge=Se.bind(null,Pe);return Ge.type=Pe,Ge},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(Pe){return{$$typeof:te,render:Pe}},react_production_min.isValidElement=Ie,react_production_min.lazy=function(Pe){return{$$typeof:ie,_payload:{_status:-1,_result:Pe},_init:ze}},react_production_min.memo=function(Pe,Ge){return{$$typeof:ne,type:Pe,compare:Ge===void 0?null:Ge}},react_production_min.startTransition=function(Pe){var Ge=je.transition;je.transition={};try{Pe()}finally{je.transition=Ge}},react_production_min.unstable_act=Ye,react_production_min.useCallback=function(Pe,Ge){return Ke.current.useCallback(Pe,Ge)},react_production_min.useContext=function(Pe){return Ke.current.useContext(Pe)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(Pe){return Ke.current.useDeferredValue(Pe)},react_production_min.useEffect=function(Pe,Ge){return Ke.current.useEffect(Pe,Ge)},react_production_min.useId=function(){return Ke.current.useId()},react_production_min.useImperativeHandle=function(Pe,Ge,it){return Ke.current.useImperativeHandle(Pe,Ge,it)},react_production_min.useInsertionEffect=function(Pe,Ge){return Ke.current.useInsertionEffect(Pe,Ge)},react_production_min.useLayoutEffect=function(Pe,Ge){return Ke.current.useLayoutEffect(Pe,Ge)},react_production_min.useMemo=function(Pe,Ge){return Ke.current.useMemo(Pe,Ge)},react_production_min.useReducer=function(Pe,Ge,it){return Ke.current.useReducer(Pe,Ge,it)},react_production_min.useRef=function(Pe){return Ke.current.useRef(Pe)},react_production_min.useState=function(Pe){return Ke.current.useState(Pe)},react_production_min.useSyncExternalStore=function(Pe,Ge,it){return Ke.current.useSyncExternalStore(Pe,Ge,it)},react_production_min.useTransition=function(){return Ke.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var d=requireReact(),m=Symbol.for("react.element"),g=Symbol.for("react.fragment"),w=Object.prototype.hasOwnProperty,D=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H={key:!0,ref:!0,__self:!0,__source:!0};function q(te,re,ne){var ie,ae={},se=null,le=null;ne!==void 0&&(se=""+ne),re.key!==void 0&&(se=""+re.key),re.ref!==void 0&&(le=re.ref);for(ie in re)w.call(re,ie)&&!H.hasOwnProperty(ie)&&(ae[ie]=re[ie]);if(te&&te.defaultProps)for(ie in re=te.defaultProps,re)ae[ie]===void 0&&(ae[ie]=re[ie]);return{$$typeof:m,type:te,key:se,ref:le,props:ae,_owner:D.current}}return reactJsxRuntime_production_min.Fragment=g,reactJsxRuntime_production_min.jsx=q,reactJsxRuntime_production_min.jsxs=q,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(d){function m(je,$e){var Ye=je.length;je.push($e);e:for(;0<Ye;){var Pe=Ye-1>>>1,Ge=je[Pe];if(0<D(Ge,$e))je[Pe]=$e,je[Ye]=Ge,Ye=Pe;else break e}}function g(je){return je.length===0?null:je[0]}function w(je){if(je.length===0)return null;var $e=je[0],Ye=je.pop();if(Ye!==$e){je[0]=Ye;e:for(var Pe=0,Ge=je.length,it=Ge>>>1;Pe<it;){var Je=2*(Pe+1)-1,He=je[Je],Qe=Je+1,ut=je[Qe];if(0>D(He,Ye))Qe<Ge&&0>D(ut,He)?(je[Pe]=ut,je[Qe]=Ye,Pe=Qe):(je[Pe]=He,je[Je]=Ye,Pe=Je);else if(Qe<Ge&&0>D(ut,Ye))je[Pe]=ut,je[Qe]=Ye,Pe=Qe;else break e}}return $e}function D(je,$e){var Ye=je.sortIndex-$e.sortIndex;return Ye!==0?Ye:je.id-$e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var H=performance;d.unstable_now=function(){return H.now()}}else{var q=Date,te=q.now();d.unstable_now=function(){return q.now()-te}}var re=[],ne=[],ie=1,ae=null,se=3,le=!1,ue=!1,fe=!1,de=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function he(je){for(var $e=g(ne);$e!==null;){if($e.callback===null)w(ne);else if($e.startTime<=je)w(ne),$e.sortIndex=$e.expirationTime,m(re,$e);else break;$e=g(ne)}}function pe(je){if(fe=!1,he(je),!ue)if(g(re)!==null)ue=!0,ze(ve);else{var $e=g(ne);$e!==null&&Ke(pe,$e.startTime-je)}}function ve(je,$e){ue=!1,fe&&(fe=!1,me(Se),Se=-1),le=!0;var Ye=se;try{for(he($e),ae=g(re);ae!==null&&(!(ae.expirationTime>$e)||je&&!_e());){var Pe=ae.callback;if(typeof Pe=="function"){ae.callback=null,se=ae.priorityLevel;var Ge=Pe(ae.expirationTime<=$e);$e=d.unstable_now(),typeof Ge=="function"?ae.callback=Ge:ae===g(re)&&w(re),he($e)}else w(re);ae=g(re)}if(ae!==null)var it=!0;else{var Je=g(ne);Je!==null&&Ke(pe,Je.startTime-$e),it=!1}return it}finally{ae=null,se=Ye,le=!1}}var ke=!1,be=null,Se=-1,Ee=5,Ie=-1;function _e(){return!(d.unstable_now()-Ie<Ee)}function Te(){if(be!==null){var je=d.unstable_now();Ie=je;var $e=!0;try{$e=be(!0,je)}finally{$e?Le():(ke=!1,be=null)}}else ke=!1}var Le;if(typeof ge=="function")Le=function(){ge(Te)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Ce=Be.port2;Be.port1.onmessage=Te,Le=function(){Ce.postMessage(null)}}else Le=function(){de(Te,0)};function ze(je){be=je,ke||(ke=!0,Le())}function Ke(je,$e){Se=de(function(){je(d.unstable_now())},$e)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(je){je.callback=null},d.unstable_continueExecution=function(){ue||le||(ue=!0,ze(ve))},d.unstable_forceFrameRate=function(je){0>je||125<je?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ee=0<je?Math.floor(1e3/je):5},d.unstable_getCurrentPriorityLevel=function(){return se},d.unstable_getFirstCallbackNode=function(){return g(re)},d.unstable_next=function(je){switch(se){case 1:case 2:case 3:var $e=3;break;default:$e=se}var Ye=se;se=$e;try{return je()}finally{se=Ye}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(je,$e){switch(je){case 1:case 2:case 3:case 4:case 5:break;default:je=3}var Ye=se;se=je;try{return $e()}finally{se=Ye}},d.unstable_scheduleCallback=function(je,$e,Ye){var Pe=d.unstable_now();switch(typeof Ye=="object"&&Ye!==null?(Ye=Ye.delay,Ye=typeof Ye=="number"&&0<Ye?Pe+Ye:Pe):Ye=Pe,je){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=Ye+Ge,je={id:ie++,callback:$e,priorityLevel:je,startTime:Ye,expirationTime:Ge,sortIndex:-1},Ye>Pe?(je.sortIndex=Ye,m(ne,je),g(re)===null&&je===g(ne)&&(fe?(me(Se),Se=-1):fe=!0,Ke(pe,Ye-Pe))):(je.sortIndex=Ge,m(re,je),ue||le||(ue=!0,ze(ve))),je},d.unstable_shouldYield=_e,d.unstable_wrapCallback=function(je){var $e=se;return function(){var Ye=se;se=$e;try{return je.apply(this,arguments)}finally{se=Ye}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var d=requireReact(),m=requireScheduler();function g(j){for(var ee="https://reactjs.org/docs/error-decoder.html?invariant="+j,oe=1;oe<arguments.length;oe++)ee+="&args[]="+encodeURIComponent(arguments[oe]);return"Minified React error #"+j+"; visit "+ee+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w=new Set,D={};function H(j,ee){q(j,ee),q(j+"Capture",ee)}function q(j,ee){for(D[j]=ee,j=0;j<ee.length;j++)w.add(ee[j])}var te=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),re=Object.prototype.hasOwnProperty,ne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ie={},ae={};function se(j){return re.call(ae,j)?!0:re.call(ie,j)?!1:ne.test(j)?ae[j]=!0:(ie[j]=!0,!1)}function le(j,ee,oe,ce){if(oe!==null&&oe.type===0)return!1;switch(typeof ee){case"function":case"symbol":return!0;case"boolean":return ce?!1:oe!==null?!oe.acceptsBooleans:(j=j.toLowerCase().slice(0,5),j!=="data-"&&j!=="aria-");default:return!1}}function ue(j,ee,oe,ce){if(ee===null||typeof ee>"u"||le(j,ee,oe,ce))return!0;if(ce)return!1;if(oe!==null)switch(oe.type){case 3:return!ee;case 4:return ee===!1;case 5:return isNaN(ee);case 6:return isNaN(ee)||1>ee}return!1}function fe(j,ee,oe,ce,xe,Re,Ve){this.acceptsBooleans=ee===2||ee===3||ee===4,this.attributeName=ce,this.attributeNamespace=xe,this.mustUseProperty=oe,this.propertyName=j,this.type=ee,this.sanitizeURL=Re,this.removeEmptyString=Ve}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(j){de[j]=new fe(j,0,!1,j,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(j){var ee=j[0];de[ee]=new fe(ee,1,!1,j[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(j){de[j]=new fe(j,2,!1,j.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(j){de[j]=new fe(j,2,!1,j,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(j){de[j]=new fe(j,3,!1,j.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(j){de[j]=new fe(j,3,!0,j,null,!1,!1)}),["capture","download"].forEach(function(j){de[j]=new fe(j,4,!1,j,null,!1,!1)}),["cols","rows","size","span"].forEach(function(j){de[j]=new fe(j,6,!1,j,null,!1,!1)}),["rowSpan","start"].forEach(function(j){de[j]=new fe(j,5,!1,j.toLowerCase(),null,!1,!1)});var me=/[\-:]([a-z])/g;function ge(j){return j[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(j){var ee=j.replace(me,ge);de[ee]=new fe(ee,1,!1,j,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(j){var ee=j.replace(me,ge);de[ee]=new fe(ee,1,!1,j,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(j){var ee=j.replace(me,ge);de[ee]=new fe(ee,1,!1,j,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(j){de[j]=new fe(j,1,!1,j.toLowerCase(),null,!1,!1)}),de.xlinkHref=new fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(j){de[j]=new fe(j,1,!1,j.toLowerCase(),null,!0,!0)});function he(j,ee,oe,ce){var xe=de.hasOwnProperty(ee)?de[ee]:null;(xe!==null?xe.type!==0:ce||!(2<ee.length)||ee[0]!=="o"&&ee[0]!=="O"||ee[1]!=="n"&&ee[1]!=="N")&&(ue(ee,oe,xe,ce)&&(oe=null),ce||xe===null?se(ee)&&(oe===null?j.removeAttribute(ee):j.setAttribute(ee,""+oe)):xe.mustUseProperty?j[xe.propertyName]=oe===null?xe.type===3?!1:"":oe:(ee=xe.attributeName,ce=xe.attributeNamespace,oe===null?j.removeAttribute(ee):(xe=xe.type,oe=xe===3||xe===4&&oe===!0?"":""+oe,ce?j.setAttributeNS(ce,ee,oe):j.setAttribute(ee,oe))))}var pe=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ve=Symbol.for("react.element"),ke=Symbol.for("react.portal"),be=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),Ie=Symbol.for("react.provider"),_e=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),Ke=Symbol.for("react.offscreen"),je=Symbol.iterator;function $e(j){return j===null||typeof j!="object"?null:(j=je&&j[je]||j["@@iterator"],typeof j=="function"?j:null)}var Ye=Object.assign,Pe;function Ge(j){if(Pe===void 0)try{throw Error()}catch(oe){var ee=oe.stack.trim().match(/\n( *(at )?)/);Pe=ee&&ee[1]||""}return`
`+Pe+j}var it=!1;function Je(j,ee){if(!j||it)return"";it=!0;var oe=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(ee)if(ee=function(){throw Error()},Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Jt){var ce=Jt}Reflect.construct(j,[],ee)}else{try{ee.call()}catch(Jt){ce=Jt}j.call(ee.prototype)}else{try{throw Error()}catch(Jt){ce=Jt}j()}}catch(Jt){if(Jt&&ce&&typeof Jt.stack=="string"){for(var xe=Jt.stack.split(`
`),Re=ce.stack.split(`
`),Ve=xe.length-1,Rt=Re.length-1;1<=Ve&&0<=Rt&&xe[Ve]!==Re[Rt];)Rt--;for(;1<=Ve&&0<=Rt;Ve--,Rt--)if(xe[Ve]!==Re[Rt]){if(Ve!==1||Rt!==1)do if(Ve--,Rt--,0>Rt||xe[Ve]!==Re[Rt]){var Ft=`
`+xe[Ve].replace(" at new "," at ");return j.displayName&&Ft.includes("<anonymous>")&&(Ft=Ft.replace("<anonymous>",j.displayName)),Ft}while(1<=Ve&&0<=Rt);break}}}finally{it=!1,Error.prepareStackTrace=oe}return(j=j?j.displayName||j.name:"")?Ge(j):""}function He(j){switch(j.tag){case 5:return Ge(j.type);case 16:return Ge("Lazy");case 13:return Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 2:case 15:return j=Je(j.type,!1),j;case 11:return j=Je(j.type.render,!1),j;case 1:return j=Je(j.type,!0),j;default:return""}}function Qe(j){if(j==null)return null;if(typeof j=="function")return j.displayName||j.name||null;if(typeof j=="string")return j;switch(j){case be:return"Fragment";case ke:return"Portal";case Ee:return"Profiler";case Se:return"StrictMode";case Le:return"Suspense";case Be:return"SuspenseList"}if(typeof j=="object")switch(j.$$typeof){case _e:return(j.displayName||"Context")+".Consumer";case Ie:return(j._context.displayName||"Context")+".Provider";case Te:var ee=j.render;return j=j.displayName,j||(j=ee.displayName||ee.name||"",j=j!==""?"ForwardRef("+j+")":"ForwardRef"),j;case Ce:return ee=j.displayName||null,ee!==null?ee:Qe(j.type)||"Memo";case ze:ee=j._payload,j=j._init;try{return Qe(j(ee))}catch{}}return null}function ut(j){var ee=j.type;switch(j.tag){case 24:return"Cache";case 9:return(ee.displayName||"Context")+".Consumer";case 10:return(ee._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return j=ee.render,j=j.displayName||j.name||"",ee.displayName||(j!==""?"ForwardRef("+j+")":"ForwardRef");case 7:return"Fragment";case 5:return ee;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qe(ee);case 8:return ee===Se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof ee=="function")return ee.displayName||ee.name||null;if(typeof ee=="string")return ee}return null}function dt(j){switch(typeof j){case"boolean":case"number":case"string":case"undefined":return j;case"object":return j;default:return""}}function kt(j){var ee=j.type;return(j=j.nodeName)&&j.toLowerCase()==="input"&&(ee==="checkbox"||ee==="radio")}function Xe(j){var ee=kt(j)?"checked":"value",oe=Object.getOwnPropertyDescriptor(j.constructor.prototype,ee),ce=""+j[ee];if(!j.hasOwnProperty(ee)&&typeof oe<"u"&&typeof oe.get=="function"&&typeof oe.set=="function"){var xe=oe.get,Re=oe.set;return Object.defineProperty(j,ee,{configurable:!0,get:function(){return xe.call(this)},set:function(Ve){ce=""+Ve,Re.call(this,Ve)}}),Object.defineProperty(j,ee,{enumerable:oe.enumerable}),{getValue:function(){return ce},setValue:function(Ve){ce=""+Ve},stopTracking:function(){j._valueTracker=null,delete j[ee]}}}}function we(j){j._valueTracker||(j._valueTracker=Xe(j))}function qe(j){if(!j)return!1;var ee=j._valueTracker;if(!ee)return!0;var oe=ee.getValue(),ce="";return j&&(ce=kt(j)?j.checked?"true":"false":j.value),j=ce,j!==oe?(ee.setValue(j),!0):!1}function Ne(j){if(j=j||(typeof document<"u"?document:void 0),typeof j>"u")return null;try{return j.activeElement||j.body}catch{return j.body}}function Fe(j,ee){var oe=ee.checked;return Ye({},ee,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:oe??j._wrapperState.initialChecked})}function Oe(j,ee){var oe=ee.defaultValue==null?"":ee.defaultValue,ce=ee.checked!=null?ee.checked:ee.defaultChecked;oe=dt(ee.value!=null?ee.value:oe),j._wrapperState={initialChecked:ce,initialValue:oe,controlled:ee.type==="checkbox"||ee.type==="radio"?ee.checked!=null:ee.value!=null}}function Ze(j,ee){ee=ee.checked,ee!=null&&he(j,"checked",ee,!1)}function et(j,ee){Ze(j,ee);var oe=dt(ee.value),ce=ee.type;if(oe!=null)ce==="number"?(oe===0&&j.value===""||j.value!=oe)&&(j.value=""+oe):j.value!==""+oe&&(j.value=""+oe);else if(ce==="submit"||ce==="reset"){j.removeAttribute("value");return}ee.hasOwnProperty("value")?Ae(j,ee.type,oe):ee.hasOwnProperty("defaultValue")&&Ae(j,ee.type,dt(ee.defaultValue)),ee.checked==null&&ee.defaultChecked!=null&&(j.defaultChecked=!!ee.defaultChecked)}function ye(j,ee,oe){if(ee.hasOwnProperty("value")||ee.hasOwnProperty("defaultValue")){var ce=ee.type;if(!(ce!=="submit"&&ce!=="reset"||ee.value!==void 0&&ee.value!==null))return;ee=""+j._wrapperState.initialValue,oe||ee===j.value||(j.value=ee),j.defaultValue=ee}oe=j.name,oe!==""&&(j.name=""),j.defaultChecked=!!j._wrapperState.initialChecked,oe!==""&&(j.name=oe)}function Ae(j,ee,oe){(ee!=="number"||Ne(j.ownerDocument)!==j)&&(oe==null?j.defaultValue=""+j._wrapperState.initialValue:j.defaultValue!==""+oe&&(j.defaultValue=""+oe))}var De=Array.isArray;function Ue(j,ee,oe,ce){if(j=j.options,ee){ee={};for(var xe=0;xe<oe.length;xe++)ee["$"+oe[xe]]=!0;for(oe=0;oe<j.length;oe++)xe=ee.hasOwnProperty("$"+j[oe].value),j[oe].selected!==xe&&(j[oe].selected=xe),xe&&ce&&(j[oe].defaultSelected=!0)}else{for(oe=""+dt(oe),ee=null,xe=0;xe<j.length;xe++){if(j[xe].value===oe){j[xe].selected=!0,ce&&(j[xe].defaultSelected=!0);return}ee!==null||j[xe].disabled||(ee=j[xe])}ee!==null&&(ee.selected=!0)}}function St(j,ee){if(ee.dangerouslySetInnerHTML!=null)throw Error(g(91));return Ye({},ee,{value:void 0,defaultValue:void 0,children:""+j._wrapperState.initialValue})}function Bt(j,ee){var oe=ee.value;if(oe==null){if(oe=ee.children,ee=ee.defaultValue,oe!=null){if(ee!=null)throw Error(g(92));if(De(oe)){if(1<oe.length)throw Error(g(93));oe=oe[0]}ee=oe}ee==null&&(ee=""),oe=ee}j._wrapperState={initialValue:dt(oe)}}function tr(j,ee){var oe=dt(ee.value),ce=dt(ee.defaultValue);oe!=null&&(oe=""+oe,oe!==j.value&&(j.value=oe),ee.defaultValue==null&&j.defaultValue!==oe&&(j.defaultValue=oe)),ce!=null&&(j.defaultValue=""+ce)}function ir(j){var ee=j.textContent;ee===j._wrapperState.initialValue&&ee!==""&&ee!==null&&(j.value=ee)}function Kt(j){switch(j){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ar(j,ee){return j==null||j==="http://www.w3.org/1999/xhtml"?Kt(ee):j==="http://www.w3.org/2000/svg"&&ee==="foreignObject"?"http://www.w3.org/1999/xhtml":j}var rr,gr=function(j){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(ee,oe,ce,xe){MSApp.execUnsafeLocalFunction(function(){return j(ee,oe,ce,xe)})}:j}(function(j,ee){if(j.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in j)j.innerHTML=ee;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+ee.valueOf().toString()+"</svg>",ee=rr.firstChild;j.firstChild;)j.removeChild(j.firstChild);for(;ee.firstChild;)j.appendChild(ee.firstChild)}});function dr(j,ee){if(ee){var oe=j.firstChild;if(oe&&oe===j.lastChild&&oe.nodeType===3){oe.nodeValue=ee;return}}j.textContent=ee}var hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kr=["Webkit","ms","Moz","O"];Object.keys(hr).forEach(function(j){kr.forEach(function(ee){ee=ee+j.charAt(0).toUpperCase()+j.substring(1),hr[ee]=hr[j]})});function fr(j,ee,oe){return ee==null||typeof ee=="boolean"||ee===""?"":oe||typeof ee!="number"||ee===0||hr.hasOwnProperty(j)&&hr[j]?(""+ee).trim():ee+"px"}function ot(j,ee){j=j.style;for(var oe in ee)if(ee.hasOwnProperty(oe)){var ce=oe.indexOf("--")===0,xe=fr(oe,ee[oe],ce);oe==="float"&&(oe="cssFloat"),ce?j.setProperty(oe,xe):j[oe]=xe}}var nr=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tt(j,ee){if(ee){if(nr[j]&&(ee.children!=null||ee.dangerouslySetInnerHTML!=null))throw Error(g(137,j));if(ee.dangerouslySetInnerHTML!=null){if(ee.children!=null)throw Error(g(60));if(typeof ee.dangerouslySetInnerHTML!="object"||!("__html"in ee.dangerouslySetInnerHTML))throw Error(g(61))}if(ee.style!=null&&typeof ee.style!="object")throw Error(g(62))}}function Ut(j,ee){if(j.indexOf("-")===-1)return typeof ee.is=="string";switch(j){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var We=null;function er(j){return j=j.target||j.srcElement||window,j.correspondingUseElement&&(j=j.correspondingUseElement),j.nodeType===3?j.parentNode:j}var br=null,Me=null,Zt=null;function zt(j){if(j=ba(j)){if(typeof br!="function")throw Error(g(280));var ee=j.stateNode;ee&&(ee=uo(ee),br(j.stateNode,j.type,ee))}}function ft(j){Me?Zt?Zt.push(j):Zt=[j]:Me=j}function $t(){if(Me){var j=Me,ee=Zt;if(Zt=Me=null,zt(j),ee)for(j=0;j<ee.length;j++)zt(ee[j])}}function jt(j,ee){return j(ee)}function _r(){}var cr=!1;function pr(j,ee,oe){if(cr)return j(ee,oe);cr=!0;try{return jt(j,ee,oe)}finally{cr=!1,(Me!==null||Zt!==null)&&(_r(),$t())}}function Ir(j,ee){var oe=j.stateNode;if(oe===null)return null;var ce=uo(oe);if(ce===null)return null;oe=ce[ee];e:switch(ee){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ce=!ce.disabled)||(j=j.type,ce=!(j==="button"||j==="input"||j==="select"||j==="textarea")),j=!ce;break e;default:j=!1}if(j)return null;if(oe&&typeof oe!="function")throw Error(g(231,ee,typeof oe));return oe}var Xr=!1;if(te)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{Xr=!1}function Nr(j,ee,oe,ce,xe,Re,Ve,Rt,Ft){var Jt=Array.prototype.slice.call(arguments,3);try{ee.apply(oe,Jt)}catch(sr){this.onError(sr)}}var Br=!1,Or=null,xn=!1,Mn=null,Fr={onError:function(j){Br=!0,Or=j}};function rn(j,ee,oe,ce,xe,Re,Ve,Rt,Ft){Br=!1,Or=null,Nr.apply(Fr,arguments)}function _n(j,ee,oe,ce,xe,Re,Ve,Rt,Ft){if(rn.apply(this,arguments),Br){if(Br){var Jt=Or;Br=!1,Or=null}else throw Error(g(198));xn||(xn=!0,Mn=Jt)}}function Zr(j){var ee=j,oe=j;if(j.alternate)for(;ee.return;)ee=ee.return;else{j=ee;do ee=j,ee.flags&4098&&(oe=ee.return),j=ee.return;while(j)}return ee.tag===3?oe:null}function Wr(j){if(j.tag===13){var ee=j.memoizedState;if(ee===null&&(j=j.alternate,j!==null&&(ee=j.memoizedState)),ee!==null)return ee.dehydrated}return null}function $r(j){if(Zr(j)!==j)throw Error(g(188))}function Yn(j){var ee=j.alternate;if(!ee){if(ee=Zr(j),ee===null)throw Error(g(188));return ee!==j?null:j}for(var oe=j,ce=ee;;){var xe=oe.return;if(xe===null)break;var Re=xe.alternate;if(Re===null){if(ce=xe.return,ce!==null){oe=ce;continue}break}if(xe.child===Re.child){for(Re=xe.child;Re;){if(Re===oe)return $r(xe),j;if(Re===ce)return $r(xe),ee;Re=Re.sibling}throw Error(g(188))}if(oe.return!==ce.return)oe=xe,ce=Re;else{for(var Ve=!1,Rt=xe.child;Rt;){if(Rt===oe){Ve=!0,oe=xe,ce=Re;break}if(Rt===ce){Ve=!0,ce=xe,oe=Re;break}Rt=Rt.sibling}if(!Ve){for(Rt=Re.child;Rt;){if(Rt===oe){Ve=!0,oe=Re,ce=xe;break}if(Rt===ce){Ve=!0,ce=Re,oe=xe;break}Rt=Rt.sibling}if(!Ve)throw Error(g(189))}}if(oe.alternate!==ce)throw Error(g(190))}if(oe.tag!==3)throw Error(g(188));return oe.stateNode.current===oe?j:ee}function Ki(j){return j=Yn(j),j!==null?Xi(j):null}function Xi(j){if(j.tag===5||j.tag===6)return j;for(j=j.child;j!==null;){var ee=Xi(j);if(ee!==null)return ee;j=j.sibling}return null}var Ji=m.unstable_scheduleCallback,ea=m.unstable_cancelCallback,za=m.unstable_shouldYield,Na=m.unstable_requestPaint,Ur=m.unstable_now,af=m.unstable_getCurrentPriorityLevel,Ko=m.unstable_ImmediatePriority,Bl=m.unstable_UserBlockingPriority,Oa=m.unstable_NormalPriority,of=m.unstable_LowPriority,zl=m.unstable_IdlePriority,Fa=null,Fn=null;function sf(j){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(Fa,j,void 0,(j.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:cf,lf=Math.log,uf=Math.LN2;function cf(j){return j>>>=0,j===0?32:31-(lf(j)/uf|0)|0}var Da=64,La=4194304;function ta(j){switch(j&-j){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return j&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return j&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return j}}function $a(j,ee){var oe=j.pendingLanes;if(oe===0)return 0;var ce=0,xe=j.suspendedLanes,Re=j.pingedLanes,Ve=oe&268435455;if(Ve!==0){var Rt=Ve&~xe;Rt!==0?ce=ta(Rt):(Re&=Ve,Re!==0&&(ce=ta(Re)))}else Ve=oe&~xe,Ve!==0?ce=ta(Ve):Re!==0&&(ce=ta(Re));if(ce===0)return 0;if(ee!==0&&ee!==ce&&!(ee&xe)&&(xe=ce&-ce,Re=ee&-ee,xe>=Re||xe===16&&(Re&4194240)!==0))return ee;if(ce&4&&(ce|=oe&16),ee=j.entangledLanes,ee!==0)for(j=j.entanglements,ee&=ce;0<ee;)oe=31-Cn(ee),xe=1<<oe,ce|=j[oe],ee&=~xe;return ce}function ff(j,ee){switch(j){case 1:case 2:case 4:return ee+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ee+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function df(j,ee){for(var oe=j.suspendedLanes,ce=j.pingedLanes,xe=j.expirationTimes,Re=j.pendingLanes;0<Re;){var Ve=31-Cn(Re),Rt=1<<Ve,Ft=xe[Ve];Ft===-1?(!(Rt&oe)||Rt&ce)&&(xe[Ve]=ff(Rt,ee)):Ft<=ee&&(j.expiredLanes|=Rt),Re&=~Rt}}function Xo(j){return j=j.pendingLanes&-1073741825,j!==0?j:j&1073741824?1073741824:0}function Nl(){var j=Da;return Da<<=1,!(Da&4194240)&&(Da=64),j}function Jo(j){for(var ee=[],oe=0;31>oe;oe++)ee.push(j);return ee}function ra(j,ee,oe){j.pendingLanes|=ee,ee!==536870912&&(j.suspendedLanes=0,j.pingedLanes=0),j=j.eventTimes,ee=31-Cn(ee),j[ee]=oe}function hf(j,ee){var oe=j.pendingLanes&~ee;j.pendingLanes=ee,j.suspendedLanes=0,j.pingedLanes=0,j.expiredLanes&=ee,j.mutableReadLanes&=ee,j.entangledLanes&=ee,ee=j.entanglements;var ce=j.eventTimes;for(j=j.expirationTimes;0<oe;){var xe=31-Cn(oe),Re=1<<xe;ee[xe]=0,ce[xe]=-1,j[xe]=-1,oe&=~Re}}function es(j,ee){var oe=j.entangledLanes|=ee;for(j=j.entanglements;oe;){var ce=31-Cn(oe),xe=1<<ce;xe&ee|j[ce]&ee&&(j[ce]|=ee),oe&=~xe}}var Rr=0;function Ol(j){return j&=-j,1<j?4<j?j&268435455?16:536870912:4:1}var Fl,ts,Dl,Ll,$l,rs=!1,Ua=[],Kn=null,Xn=null,Jn=null,na=new Map,ia=new Map,ei=[],pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ul(j,ee){switch(j){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":na.delete(ee.pointerId);break;case"gotpointercapture":case"lostpointercapture":ia.delete(ee.pointerId)}}function aa(j,ee,oe,ce,xe,Re){return j===null||j.nativeEvent!==Re?(j={blockedOn:ee,domEventName:oe,eventSystemFlags:ce,nativeEvent:Re,targetContainers:[xe]},ee!==null&&(ee=ba(ee),ee!==null&&ts(ee)),j):(j.eventSystemFlags|=ce,ee=j.targetContainers,xe!==null&&ee.indexOf(xe)===-1&&ee.push(xe),j)}function mf(j,ee,oe,ce,xe){switch(ee){case"focusin":return Kn=aa(Kn,j,ee,oe,ce,xe),!0;case"dragenter":return Xn=aa(Xn,j,ee,oe,ce,xe),!0;case"mouseover":return Jn=aa(Jn,j,ee,oe,ce,xe),!0;case"pointerover":var Re=xe.pointerId;return na.set(Re,aa(na.get(Re)||null,j,ee,oe,ce,xe)),!0;case"gotpointercapture":return Re=xe.pointerId,ia.set(Re,aa(ia.get(Re)||null,j,ee,oe,ce,xe)),!0}return!1}function jl(j){var ee=gi(j.target);if(ee!==null){var oe=Zr(ee);if(oe!==null){if(ee=oe.tag,ee===13){if(ee=Wr(oe),ee!==null){j.blockedOn=ee,$l(j.priority,function(){Dl(oe)});return}}else if(ee===3&&oe.stateNode.current.memoizedState.isDehydrated){j.blockedOn=oe.tag===3?oe.stateNode.containerInfo:null;return}}}j.blockedOn=null}function ja(j){if(j.blockedOn!==null)return!1;for(var ee=j.targetContainers;0<ee.length;){var oe=is(j.domEventName,j.eventSystemFlags,ee[0],j.nativeEvent);if(oe===null){oe=j.nativeEvent;var ce=new oe.constructor(oe.type,oe);We=ce,oe.target.dispatchEvent(ce),We=null}else return ee=ba(oe),ee!==null&&ts(ee),j.blockedOn=oe,!1;ee.shift()}return!0}function Zl(j,ee,oe){ja(j)&&oe.delete(ee)}function gf(){rs=!1,Kn!==null&&ja(Kn)&&(Kn=null),Xn!==null&&ja(Xn)&&(Xn=null),Jn!==null&&ja(Jn)&&(Jn=null),na.forEach(Zl),ia.forEach(Zl)}function oa(j,ee){j.blockedOn===ee&&(j.blockedOn=null,rs||(rs=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,gf)))}function sa(j){function ee(xe){return oa(xe,j)}if(0<Ua.length){oa(Ua[0],j);for(var oe=1;oe<Ua.length;oe++){var ce=Ua[oe];ce.blockedOn===j&&(ce.blockedOn=null)}}for(Kn!==null&&oa(Kn,j),Xn!==null&&oa(Xn,j),Jn!==null&&oa(Jn,j),na.forEach(ee),ia.forEach(ee),oe=0;oe<ei.length;oe++)ce=ei[oe],ce.blockedOn===j&&(ce.blockedOn=null);for(;0<ei.length&&(oe=ei[0],oe.blockedOn===null);)jl(oe),oe.blockedOn===null&&ei.shift()}var Mi=pe.ReactCurrentBatchConfig,Za=!0;function _f(j,ee,oe,ce){var xe=Rr,Re=Mi.transition;Mi.transition=null;try{Rr=1,ns(j,ee,oe,ce)}finally{Rr=xe,Mi.transition=Re}}function yf(j,ee,oe,ce){var xe=Rr,Re=Mi.transition;Mi.transition=null;try{Rr=4,ns(j,ee,oe,ce)}finally{Rr=xe,Mi.transition=Re}}function ns(j,ee,oe,ce){if(Za){var xe=is(j,ee,oe,ce);if(xe===null)ws(j,ee,ce,Ga,oe),Ul(j,ce);else if(mf(xe,j,ee,oe,ce))ce.stopPropagation();else if(Ul(j,ce),ee&4&&-1<pf.indexOf(j)){for(;xe!==null;){var Re=ba(xe);if(Re!==null&&Fl(Re),Re=is(j,ee,oe,ce),Re===null&&ws(j,ee,ce,Ga,oe),Re===xe)break;xe=Re}xe!==null&&ce.stopPropagation()}else ws(j,ee,ce,null,oe)}}var Ga=null;function is(j,ee,oe,ce){if(Ga=null,j=er(ce),j=gi(j),j!==null)if(ee=Zr(j),ee===null)j=null;else if(oe=ee.tag,oe===13){if(j=Wr(ee),j!==null)return j;j=null}else if(oe===3){if(ee.stateNode.current.memoizedState.isDehydrated)return ee.tag===3?ee.stateNode.containerInfo:null;j=null}else ee!==j&&(j=null);return Ga=j,null}function Gl(j){switch(j){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(af()){case Ko:return 1;case Bl:return 4;case Oa:case of:return 16;case zl:return 536870912;default:return 16}default:return 16}}var ti=null,as=null,Ha=null;function Hl(){if(Ha)return Ha;var j,ee=as,oe=ee.length,ce,xe="value"in ti?ti.value:ti.textContent,Re=xe.length;for(j=0;j<oe&&ee[j]===xe[j];j++);var Ve=oe-j;for(ce=1;ce<=Ve&&ee[oe-ce]===xe[Re-ce];ce++);return Ha=xe.slice(j,1<ce?1-ce:void 0)}function Wa(j){var ee=j.keyCode;return"charCode"in j?(j=j.charCode,j===0&&ee===13&&(j=13)):j=ee,j===10&&(j=13),32<=j||j===13?j:0}function Qa(){return!0}function Wl(){return!1}function yn(j){function ee(oe,ce,xe,Re,Ve){this._reactName=oe,this._targetInst=xe,this.type=ce,this.nativeEvent=Re,this.target=Ve,this.currentTarget=null;for(var Rt in j)j.hasOwnProperty(Rt)&&(oe=j[Rt],this[Rt]=oe?oe(Re):Re[Rt]);return this.isDefaultPrevented=(Re.defaultPrevented!=null?Re.defaultPrevented:Re.returnValue===!1)?Qa:Wl,this.isPropagationStopped=Wl,this}return Ye(ee.prototype,{preventDefault:function(){this.defaultPrevented=!0;var oe=this.nativeEvent;oe&&(oe.preventDefault?oe.preventDefault():typeof oe.returnValue!="unknown"&&(oe.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var oe=this.nativeEvent;oe&&(oe.stopPropagation?oe.stopPropagation():typeof oe.cancelBubble!="unknown"&&(oe.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),ee}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(j){return j.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=yn(Ci),la=Ye({},Ci,{view:0,detail:0}),bf=yn(la),ss,ls,ua,qa=Ye({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(j){return j.relatedTarget===void 0?j.fromElement===j.srcElement?j.toElement:j.fromElement:j.relatedTarget},movementX:function(j){return"movementX"in j?j.movementX:(j!==ua&&(ua&&j.type==="mousemove"?(ss=j.screenX-ua.screenX,ls=j.screenY-ua.screenY):ls=ss=0,ua=j),ss)},movementY:function(j){return"movementY"in j?j.movementY:ls}}),Ql=yn(qa),vf=Ye({},qa,{dataTransfer:0}),wf=yn(vf),xf=Ye({},la,{relatedTarget:0}),us=yn(xf),Ef=Ye({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),kf=yn(Ef),Sf=Ye({},Ci,{clipboardData:function(j){return"clipboardData"in j?j.clipboardData:window.clipboardData}}),Tf=yn(Sf),If=Ye({},Ci,{data:0}),ql=yn(If),Af={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pf(j){var ee=this.nativeEvent;return ee.getModifierState?ee.getModifierState(j):(j=Cf[j])?!!ee[j]:!1}function cs(){return Pf}var Rf=Ye({},la,{key:function(j){if(j.key){var ee=Af[j.key]||j.key;if(ee!=="Unidentified")return ee}return j.type==="keypress"?(j=Wa(j),j===13?"Enter":String.fromCharCode(j)):j.type==="keydown"||j.type==="keyup"?Mf[j.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(j){return j.type==="keypress"?Wa(j):0},keyCode:function(j){return j.type==="keydown"||j.type==="keyup"?j.keyCode:0},which:function(j){return j.type==="keypress"?Wa(j):j.type==="keydown"||j.type==="keyup"?j.keyCode:0}}),Bf=yn(Rf),zf=Ye({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vl=yn(zf),Nf=Ye({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),Of=yn(Nf),Ff=Ye({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),Df=yn(Ff),Lf=Ye({},qa,{deltaX:function(j){return"deltaX"in j?j.deltaX:"wheelDeltaX"in j?-j.wheelDeltaX:0},deltaY:function(j){return"deltaY"in j?j.deltaY:"wheelDeltaY"in j?-j.wheelDeltaY:"wheelDelta"in j?-j.wheelDelta:0},deltaZ:0,deltaMode:0}),$f=yn(Lf),Uf=[9,13,27,32],fs=te&&"CompositionEvent"in window,ca=null;te&&"documentMode"in document&&(ca=document.documentMode);var jf=te&&"TextEvent"in window&&!ca,Yl=te&&(!fs||ca&&8<ca&&11>=ca),Kl=" ",Xl=!1;function Jl(j,ee){switch(j){case"keyup":return Uf.indexOf(ee.keyCode)!==-1;case"keydown":return ee.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eu(j){return j=j.detail,typeof j=="object"&&"data"in j?j.data:null}var Pi=!1;function Zf(j,ee){switch(j){case"compositionend":return eu(ee);case"keypress":return ee.which!==32?null:(Xl=!0,Kl);case"textInput":return j=ee.data,j===Kl&&Xl?null:j;default:return null}}function Gf(j,ee){if(Pi)return j==="compositionend"||!fs&&Jl(j,ee)?(j=Hl(),Ha=as=ti=null,Pi=!1,j):null;switch(j){case"paste":return null;case"keypress":if(!(ee.ctrlKey||ee.altKey||ee.metaKey)||ee.ctrlKey&&ee.altKey){if(ee.char&&1<ee.char.length)return ee.char;if(ee.which)return String.fromCharCode(ee.which)}return null;case"compositionend":return Yl&&ee.locale!=="ko"?null:ee.data;default:return null}}var Hf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(j){var ee=j&&j.nodeName&&j.nodeName.toLowerCase();return ee==="input"?!!Hf[j.type]:ee==="textarea"}function ru(j,ee,oe,ce){ft(ce),ee=Ja(ee,"onChange"),0<ee.length&&(oe=new os("onChange","change",null,oe,ce),j.push({event:oe,listeners:ee}))}var fa=null,da=null;function Wf(j){vu(j,0)}function Va(j){var ee=Oi(j);if(qe(ee))return j}function Qf(j,ee){if(j==="change")return ee}var nu=!1;if(te){var ds;if(te){var hs="oninput"in document;if(!hs){var iu=document.createElement("div");iu.setAttribute("oninput","return;"),hs=typeof iu.oninput=="function"}ds=hs}else ds=!1;nu=ds&&(!document.documentMode||9<document.documentMode)}function au(){fa&&(fa.detachEvent("onpropertychange",ou),da=fa=null)}function ou(j){if(j.propertyName==="value"&&Va(da)){var ee=[];ru(ee,da,j,er(j)),pr(Wf,ee)}}function qf(j,ee,oe){j==="focusin"?(au(),fa=ee,da=oe,fa.attachEvent("onpropertychange",ou)):j==="focusout"&&au()}function Vf(j){if(j==="selectionchange"||j==="keyup"||j==="keydown")return Va(da)}function Yf(j,ee){if(j==="click")return Va(ee)}function Kf(j,ee){if(j==="input"||j==="change")return Va(ee)}function Xf(j,ee){return j===ee&&(j!==0||1/j===1/ee)||j!==j&&ee!==ee}var Pn=typeof Object.is=="function"?Object.is:Xf;function ha(j,ee){if(Pn(j,ee))return!0;if(typeof j!="object"||j===null||typeof ee!="object"||ee===null)return!1;var oe=Object.keys(j),ce=Object.keys(ee);if(oe.length!==ce.length)return!1;for(ce=0;ce<oe.length;ce++){var xe=oe[ce];if(!re.call(ee,xe)||!Pn(j[xe],ee[xe]))return!1}return!0}function su(j){for(;j&&j.firstChild;)j=j.firstChild;return j}function lu(j,ee){var oe=su(j);j=0;for(var ce;oe;){if(oe.nodeType===3){if(ce=j+oe.textContent.length,j<=ee&&ce>=ee)return{node:oe,offset:ee-j};j=ce}e:{for(;oe;){if(oe.nextSibling){oe=oe.nextSibling;break e}oe=oe.parentNode}oe=void 0}oe=su(oe)}}function uu(j,ee){return j&&ee?j===ee?!0:j&&j.nodeType===3?!1:ee&&ee.nodeType===3?uu(j,ee.parentNode):"contains"in j?j.contains(ee):j.compareDocumentPosition?!!(j.compareDocumentPosition(ee)&16):!1:!1}function cu(){for(var j=window,ee=Ne();ee instanceof j.HTMLIFrameElement;){try{var oe=typeof ee.contentWindow.location.href=="string"}catch{oe=!1}if(oe)j=ee.contentWindow;else break;ee=Ne(j.document)}return ee}function ps(j){var ee=j&&j.nodeName&&j.nodeName.toLowerCase();return ee&&(ee==="input"&&(j.type==="text"||j.type==="search"||j.type==="tel"||j.type==="url"||j.type==="password")||ee==="textarea"||j.contentEditable==="true")}function Jf(j){var ee=cu(),oe=j.focusedElem,ce=j.selectionRange;if(ee!==oe&&oe&&oe.ownerDocument&&uu(oe.ownerDocument.documentElement,oe)){if(ce!==null&&ps(oe)){if(ee=ce.start,j=ce.end,j===void 0&&(j=ee),"selectionStart"in oe)oe.selectionStart=ee,oe.selectionEnd=Math.min(j,oe.value.length);else if(j=(ee=oe.ownerDocument||document)&&ee.defaultView||window,j.getSelection){j=j.getSelection();var xe=oe.textContent.length,Re=Math.min(ce.start,xe);ce=ce.end===void 0?Re:Math.min(ce.end,xe),!j.extend&&Re>ce&&(xe=ce,ce=Re,Re=xe),xe=lu(oe,Re);var Ve=lu(oe,ce);xe&&Ve&&(j.rangeCount!==1||j.anchorNode!==xe.node||j.anchorOffset!==xe.offset||j.focusNode!==Ve.node||j.focusOffset!==Ve.offset)&&(ee=ee.createRange(),ee.setStart(xe.node,xe.offset),j.removeAllRanges(),Re>ce?(j.addRange(ee),j.extend(Ve.node,Ve.offset)):(ee.setEnd(Ve.node,Ve.offset),j.addRange(ee)))}}for(ee=[],j=oe;j=j.parentNode;)j.nodeType===1&&ee.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<ee.length;oe++)j=ee[oe],j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}var ed=te&&"documentMode"in document&&11>=document.documentMode,Ri=null,ms=null,pa=null,gs=!1;function fu(j,ee,oe){var ce=oe.window===oe?oe.document:oe.nodeType===9?oe:oe.ownerDocument;gs||Ri==null||Ri!==Ne(ce)||(ce=Ri,"selectionStart"in ce&&ps(ce)?ce={start:ce.selectionStart,end:ce.selectionEnd}:(ce=(ce.ownerDocument&&ce.ownerDocument.defaultView||window).getSelection(),ce={anchorNode:ce.anchorNode,anchorOffset:ce.anchorOffset,focusNode:ce.focusNode,focusOffset:ce.focusOffset}),pa&&ha(pa,ce)||(pa=ce,ce=Ja(ms,"onSelect"),0<ce.length&&(ee=new os("onSelect","select",null,ee,oe),j.push({event:ee,listeners:ce}),ee.target=Ri)))}function Ya(j,ee){var oe={};return oe[j.toLowerCase()]=ee.toLowerCase(),oe["Webkit"+j]="webkit"+ee,oe["Moz"+j]="moz"+ee,oe}var Bi={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionend:Ya("Transition","TransitionEnd")},_s={},du={};te&&(du=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Ka(j){if(_s[j])return _s[j];if(!Bi[j])return j;var ee=Bi[j],oe;for(oe in ee)if(ee.hasOwnProperty(oe)&&oe in du)return _s[j]=ee[oe];return j}var hu=Ka("animationend"),pu=Ka("animationiteration"),mu=Ka("animationstart"),gu=Ka("transitionend"),_u=new Map,yu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(j,ee){_u.set(j,ee),H(ee,[j])}for(var ys=0;ys<yu.length;ys++){var bs=yu[ys],td=bs.toLowerCase(),rd=bs[0].toUpperCase()+bs.slice(1);ri(td,"on"+rd)}ri(hu,"onAnimationEnd"),ri(pu,"onAnimationIteration"),ri(mu,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(gu,"onTransitionEnd"),q("onMouseEnter",["mouseout","mouseover"]),q("onMouseLeave",["mouseout","mouseover"]),q("onPointerEnter",["pointerout","pointerover"]),q("onPointerLeave",["pointerout","pointerover"]),H("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),H("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),H("onBeforeInput",["compositionend","keypress","textInput","paste"]),H("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),H("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),H("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nd=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function bu(j,ee,oe){var ce=j.type||"unknown-event";j.currentTarget=oe,_n(ce,ee,void 0,j),j.currentTarget=null}function vu(j,ee){ee=(ee&4)!==0;for(var oe=0;oe<j.length;oe++){var ce=j[oe],xe=ce.event;ce=ce.listeners;e:{var Re=void 0;if(ee)for(var Ve=ce.length-1;0<=Ve;Ve--){var Rt=ce[Ve],Ft=Rt.instance,Jt=Rt.currentTarget;if(Rt=Rt.listener,Ft!==Re&&xe.isPropagationStopped())break e;bu(xe,Rt,Jt),Re=Ft}else for(Ve=0;Ve<ce.length;Ve++){if(Rt=ce[Ve],Ft=Rt.instance,Jt=Rt.currentTarget,Rt=Rt.listener,Ft!==Re&&xe.isPropagationStopped())break e;bu(xe,Rt,Jt),Re=Ft}}}if(xn)throw j=Mn,xn=!1,Mn=null,j}function Dr(j,ee){var oe=ee[Is];oe===void 0&&(oe=ee[Is]=new Set);var ce=j+"__bubble";oe.has(ce)||(wu(ee,j,2,!1),oe.add(ce))}function vs(j,ee,oe){var ce=0;ee&&(ce|=4),wu(oe,j,ce,ee)}var Xa="_reactListening"+Math.random().toString(36).slice(2);function ga(j){if(!j[Xa]){j[Xa]=!0,w.forEach(function(oe){oe!=="selectionchange"&&(nd.has(oe)||vs(oe,!1,j),vs(oe,!0,j))});var ee=j.nodeType===9?j:j.ownerDocument;ee===null||ee[Xa]||(ee[Xa]=!0,vs("selectionchange",!1,ee))}}function wu(j,ee,oe,ce){switch(Gl(ee)){case 1:var xe=_f;break;case 4:xe=yf;break;default:xe=ns}oe=xe.bind(null,ee,oe,j),xe=void 0,!Xr||ee!=="touchstart"&&ee!=="touchmove"&&ee!=="wheel"||(xe=!0),ce?xe!==void 0?j.addEventListener(ee,oe,{capture:!0,passive:xe}):j.addEventListener(ee,oe,!0):xe!==void 0?j.addEventListener(ee,oe,{passive:xe}):j.addEventListener(ee,oe,!1)}function ws(j,ee,oe,ce,xe){var Re=ce;if(!(ee&1)&&!(ee&2)&&ce!==null)e:for(;;){if(ce===null)return;var Ve=ce.tag;if(Ve===3||Ve===4){var Rt=ce.stateNode.containerInfo;if(Rt===xe||Rt.nodeType===8&&Rt.parentNode===xe)break;if(Ve===4)for(Ve=ce.return;Ve!==null;){var Ft=Ve.tag;if((Ft===3||Ft===4)&&(Ft=Ve.stateNode.containerInfo,Ft===xe||Ft.nodeType===8&&Ft.parentNode===xe))return;Ve=Ve.return}for(;Rt!==null;){if(Ve=gi(Rt),Ve===null)return;if(Ft=Ve.tag,Ft===5||Ft===6){ce=Re=Ve;continue e}Rt=Rt.parentNode}}ce=ce.return}pr(function(){var Jt=Re,sr=er(oe),lr=[];e:{var or=_u.get(j);if(or!==void 0){var mr=os,wr=j;switch(j){case"keypress":if(Wa(oe)===0)break e;case"keydown":case"keyup":mr=Bf;break;case"focusin":wr="focus",mr=us;break;case"focusout":wr="blur",mr=us;break;case"beforeblur":case"afterblur":mr=us;break;case"click":if(oe.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mr=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mr=wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mr=Of;break;case hu:case pu:case mu:mr=kf;break;case gu:mr=Df;break;case"scroll":mr=bf;break;case"wheel":mr=$f;break;case"copy":case"cut":case"paste":mr=Tf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mr=Vl}var xr=(ee&4)!==0,qr=!xr&&j==="scroll",Ht=xr?or!==null?or+"Capture":null:or;xr=[];for(var Dt=Jt,Yt;Dt!==null;){Yt=Dt;var ur=Yt.stateNode;if(Yt.tag===5&&ur!==null&&(Yt=ur,Ht!==null&&(ur=Ir(Dt,Ht),ur!=null&&xr.push(_a(Dt,ur,Yt)))),qr)break;Dt=Dt.return}0<xr.length&&(or=new mr(or,wr,null,oe,sr),lr.push({event:or,listeners:xr}))}}if(!(ee&7)){e:{if(or=j==="mouseover"||j==="pointerover",mr=j==="mouseout"||j==="pointerout",or&&oe!==We&&(wr=oe.relatedTarget||oe.fromElement)&&(gi(wr)||wr[jn]))break e;if((mr||or)&&(or=sr.window===sr?sr:(or=sr.ownerDocument)?or.defaultView||or.parentWindow:window,mr?(wr=oe.relatedTarget||oe.toElement,mr=Jt,wr=wr?gi(wr):null,wr!==null&&(qr=Zr(wr),wr!==qr||wr.tag!==5&&wr.tag!==6)&&(wr=null)):(mr=null,wr=Jt),mr!==wr)){if(xr=Ql,ur="onMouseLeave",Ht="onMouseEnter",Dt="mouse",(j==="pointerout"||j==="pointerover")&&(xr=Vl,ur="onPointerLeave",Ht="onPointerEnter",Dt="pointer"),qr=mr==null?or:Oi(mr),Yt=wr==null?or:Oi(wr),or=new xr(ur,Dt+"leave",mr,oe,sr),or.target=qr,or.relatedTarget=Yt,ur=null,gi(sr)===Jt&&(xr=new xr(Ht,Dt+"enter",wr,oe,sr),xr.target=Yt,xr.relatedTarget=qr,ur=xr),qr=ur,mr&&wr)t:{for(xr=mr,Ht=wr,Dt=0,Yt=xr;Yt;Yt=zi(Yt))Dt++;for(Yt=0,ur=Ht;ur;ur=zi(ur))Yt++;for(;0<Dt-Yt;)xr=zi(xr),Dt--;for(;0<Yt-Dt;)Ht=zi(Ht),Yt--;for(;Dt--;){if(xr===Ht||Ht!==null&&xr===Ht.alternate)break t;xr=zi(xr),Ht=zi(Ht)}xr=null}else xr=null;mr!==null&&xu(lr,or,mr,xr,!1),wr!==null&&qr!==null&&xu(lr,qr,wr,xr,!0)}}e:{if(or=Jt?Oi(Jt):window,mr=or.nodeName&&or.nodeName.toLowerCase(),mr==="select"||mr==="input"&&or.type==="file")var Er=Qf;else if(tu(or))if(nu)Er=Kf;else{Er=Vf;var Sr=qf}else(mr=or.nodeName)&&mr.toLowerCase()==="input"&&(or.type==="checkbox"||or.type==="radio")&&(Er=Yf);if(Er&&(Er=Er(j,Jt))){ru(lr,Er,oe,sr);break e}Sr&&Sr(j,or,Jt),j==="focusout"&&(Sr=or._wrapperState)&&Sr.controlled&&or.type==="number"&&Ae(or,"number",or.value)}switch(Sr=Jt?Oi(Jt):window,j){case"focusin":(tu(Sr)||Sr.contentEditable==="true")&&(Ri=Sr,ms=Jt,pa=null);break;case"focusout":pa=ms=Ri=null;break;case"mousedown":gs=!0;break;case"contextmenu":case"mouseup":case"dragend":gs=!1,fu(lr,oe,sr);break;case"selectionchange":if(ed)break;case"keydown":case"keyup":fu(lr,oe,sr)}var Tr;if(fs)e:{switch(j){case"compositionstart":var Ar="onCompositionStart";break e;case"compositionend":Ar="onCompositionEnd";break e;case"compositionupdate":Ar="onCompositionUpdate";break e}Ar=void 0}else Pi?Jl(j,oe)&&(Ar="onCompositionEnd"):j==="keydown"&&oe.keyCode===229&&(Ar="onCompositionStart");Ar&&(Yl&&oe.locale!=="ko"&&(Pi||Ar!=="onCompositionStart"?Ar==="onCompositionEnd"&&Pi&&(Tr=Hl()):(ti=sr,as="value"in ti?ti.value:ti.textContent,Pi=!0)),Sr=Ja(Jt,Ar),0<Sr.length&&(Ar=new ql(Ar,j,null,oe,sr),lr.push({event:Ar,listeners:Sr}),Tr?Ar.data=Tr:(Tr=eu(oe),Tr!==null&&(Ar.data=Tr)))),(Tr=jf?Zf(j,oe):Gf(j,oe))&&(Jt=Ja(Jt,"onBeforeInput"),0<Jt.length&&(sr=new ql("onBeforeInput","beforeinput",null,oe,sr),lr.push({event:sr,listeners:Jt}),sr.data=Tr))}vu(lr,ee)})}function _a(j,ee,oe){return{instance:j,listener:ee,currentTarget:oe}}function Ja(j,ee){for(var oe=ee+"Capture",ce=[];j!==null;){var xe=j,Re=xe.stateNode;xe.tag===5&&Re!==null&&(xe=Re,Re=Ir(j,oe),Re!=null&&ce.unshift(_a(j,Re,xe)),Re=Ir(j,ee),Re!=null&&ce.push(_a(j,Re,xe))),j=j.return}return ce}function zi(j){if(j===null)return null;do j=j.return;while(j&&j.tag!==5);return j||null}function xu(j,ee,oe,ce,xe){for(var Re=ee._reactName,Ve=[];oe!==null&&oe!==ce;){var Rt=oe,Ft=Rt.alternate,Jt=Rt.stateNode;if(Ft!==null&&Ft===ce)break;Rt.tag===5&&Jt!==null&&(Rt=Jt,xe?(Ft=Ir(oe,Re),Ft!=null&&Ve.unshift(_a(oe,Ft,Rt))):xe||(Ft=Ir(oe,Re),Ft!=null&&Ve.push(_a(oe,Ft,Rt)))),oe=oe.return}Ve.length!==0&&j.push({event:ee,listeners:Ve})}var id=/\r\n?/g,ad=/\u0000|\uFFFD/g;function Eu(j){return(typeof j=="string"?j:""+j).replace(id,`
`).replace(ad,"")}function eo(j,ee,oe){if(ee=Eu(ee),Eu(j)!==ee&&oe)throw Error(g(425))}function oo(){}var xs=null,Es=null;function ks(j,ee){return j==="textarea"||j==="noscript"||typeof ee.children=="string"||typeof ee.children=="number"||typeof ee.dangerouslySetInnerHTML=="object"&&ee.dangerouslySetInnerHTML!==null&&ee.dangerouslySetInnerHTML.__html!=null}var Ss=typeof setTimeout=="function"?setTimeout:void 0,od=typeof clearTimeout=="function"?clearTimeout:void 0,ku=typeof Promise=="function"?Promise:void 0,sd=typeof queueMicrotask=="function"?queueMicrotask:typeof ku<"u"?function(j){return ku.resolve(null).then(j).catch(ld)}:Ss;function ld(j){setTimeout(function(){throw j})}function Ts(j,ee){var oe=ee,ce=0;do{var xe=oe.nextSibling;if(j.removeChild(oe),xe&&xe.nodeType===8)if(oe=xe.data,oe==="/$"){if(ce===0){j.removeChild(xe),sa(ee);return}ce--}else oe!=="$"&&oe!=="$?"&&oe!=="$!"||ce++;oe=xe}while(oe);sa(ee)}function ni(j){for(;j!=null;j=j.nextSibling){var ee=j.nodeType;if(ee===1||ee===3)break;if(ee===8){if(ee=j.data,ee==="$"||ee==="$!"||ee==="$?")break;if(ee==="/$")return null}}return j}function Su(j){j=j.previousSibling;for(var ee=0;j;){if(j.nodeType===8){var oe=j.data;if(oe==="$"||oe==="$!"||oe==="$?"){if(ee===0)return j;ee--}else oe==="/$"&&ee++}j=j.previousSibling}return null}var Ni=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Ni,ya="__reactProps$"+Ni,jn="__reactContainer$"+Ni,Is="__reactEvents$"+Ni,ud="__reactListeners$"+Ni,cd="__reactHandles$"+Ni;function gi(j){var ee=j[Dn];if(ee)return ee;for(var oe=j.parentNode;oe;){if(ee=oe[jn]||oe[Dn]){if(oe=ee.alternate,ee.child!==null||oe!==null&&oe.child!==null)for(j=Su(j);j!==null;){if(oe=j[Dn])return oe;j=Su(j)}return ee}j=oe,oe=j.parentNode}return null}function ba(j){return j=j[Dn]||j[jn],!j||j.tag!==5&&j.tag!==6&&j.tag!==13&&j.tag!==3?null:j}function Oi(j){if(j.tag===5||j.tag===6)return j.stateNode;throw Error(g(33))}function uo(j){return j[ya]||null}var As=[],Fi=-1;function ii(j){return{current:j}}function Lr(j){0>Fi||(j.current=As[Fi],As[Fi]=null,Fi--)}function zr(j,ee){Fi++,As[Fi]=j.current,j.current=ee}var ai={},on=ii(ai),dn=ii(!1),_i=ai;function Di(j,ee){var oe=j.type.contextTypes;if(!oe)return ai;var ce=j.stateNode;if(ce&&ce.__reactInternalMemoizedUnmaskedChildContext===ee)return ce.__reactInternalMemoizedMaskedChildContext;var xe={},Re;for(Re in oe)xe[Re]=ee[Re];return ce&&(j=j.stateNode,j.__reactInternalMemoizedUnmaskedChildContext=ee,j.__reactInternalMemoizedMaskedChildContext=xe),xe}function hn(j){return j=j.childContextTypes,j!=null}function co(){Lr(dn),Lr(on)}function Tu(j,ee,oe){if(on.current!==ai)throw Error(g(168));zr(on,ee),zr(dn,oe)}function Iu(j,ee,oe){var ce=j.stateNode;if(ee=ee.childContextTypes,typeof ce.getChildContext!="function")return oe;ce=ce.getChildContext();for(var xe in ce)if(!(xe in ee))throw Error(g(108,ut(j)||"Unknown",xe));return Ye({},oe,ce)}function fo(j){return j=(j=j.stateNode)&&j.__reactInternalMemoizedMergedChildContext||ai,_i=on.current,zr(on,j),zr(dn,dn.current),!0}function Au(j,ee,oe){var ce=j.stateNode;if(!ce)throw Error(g(169));oe?(j=Iu(j,ee,_i),ce.__reactInternalMemoizedMergedChildContext=j,Lr(dn),Lr(on),zr(on,j)):Lr(dn),zr(dn,oe)}var Zn=null,ho=!1,Ms=!1;function Mu(j){Zn===null?Zn=[j]:Zn.push(j)}function fd(j){ho=!0,Mu(j)}function oi(){if(!Ms&&Zn!==null){Ms=!0;var j=0,ee=Rr;try{var oe=Zn;for(Rr=1;j<oe.length;j++){var ce=oe[j];do ce=ce(!0);while(ce!==null)}Zn=null,ho=!1}catch(xe){throw Zn!==null&&(Zn=Zn.slice(j+1)),Ji(Ko,oi),xe}finally{Rr=ee,Ms=!1}}return null}var Li=[],$i=0,po=null,mo=0,En=[],kn=0,yi=null,Gn=1,Hn="";function bi(j,ee){Li[$i++]=mo,Li[$i++]=po,po=j,mo=ee}function Cu(j,ee,oe){En[kn++]=Gn,En[kn++]=Hn,En[kn++]=yi,yi=j;var ce=Gn;j=Hn;var xe=32-Cn(ce)-1;ce&=~(1<<xe),oe+=1;var Re=32-Cn(ee)+xe;if(30<Re){var Ve=xe-xe%5;Re=(ce&(1<<Ve)-1).toString(32),ce>>=Ve,xe-=Ve,Gn=1<<32-Cn(ee)+xe|oe<<xe|ce,Hn=Re+j}else Gn=1<<Re|oe<<xe|ce,Hn=j}function Cs(j){j.return!==null&&(bi(j,1),Cu(j,1,0))}function Ps(j){for(;j===po;)po=Li[--$i],Li[$i]=null,mo=Li[--$i],Li[$i]=null;for(;j===yi;)yi=En[--kn],En[kn]=null,Hn=En[--kn],En[kn]=null,Gn=En[--kn],En[kn]=null}var bn=null,vn=null,jr=!1,Rn=null;function Pu(j,ee){var oe=An(5,null,null,0);oe.elementType="DELETED",oe.stateNode=ee,oe.return=j,ee=j.deletions,ee===null?(j.deletions=[oe],j.flags|=16):ee.push(oe)}function Ru(j,ee){switch(j.tag){case 5:var oe=j.type;return ee=ee.nodeType!==1||oe.toLowerCase()!==ee.nodeName.toLowerCase()?null:ee,ee!==null?(j.stateNode=ee,bn=j,vn=ni(ee.firstChild),!0):!1;case 6:return ee=j.pendingProps===""||ee.nodeType!==3?null:ee,ee!==null?(j.stateNode=ee,bn=j,vn=null,!0):!1;case 13:return ee=ee.nodeType!==8?null:ee,ee!==null?(oe=yi!==null?{id:Gn,overflow:Hn}:null,j.memoizedState={dehydrated:ee,treeContext:oe,retryLane:1073741824},oe=An(18,null,null,0),oe.stateNode=ee,oe.return=j,j.child=oe,bn=j,vn=null,!0):!1;default:return!1}}function Rs(j){return(j.mode&1)!==0&&(j.flags&128)===0}function Bs(j){if(jr){var ee=vn;if(ee){var oe=ee;if(!Ru(j,ee)){if(Rs(j))throw Error(g(418));ee=ni(oe.nextSibling);var ce=bn;ee&&Ru(j,ee)?Pu(ce,oe):(j.flags=j.flags&-4097|2,jr=!1,bn=j)}}else{if(Rs(j))throw Error(g(418));j.flags=j.flags&-4097|2,jr=!1,bn=j}}}function Bu(j){for(j=j.return;j!==null&&j.tag!==5&&j.tag!==3&&j.tag!==13;)j=j.return;bn=j}function go(j){if(j!==bn)return!1;if(!jr)return Bu(j),jr=!0,!1;var ee;if((ee=j.tag!==3)&&!(ee=j.tag!==5)&&(ee=j.type,ee=ee!=="head"&&ee!=="body"&&!ks(j.type,j.memoizedProps)),ee&&(ee=vn)){if(Rs(j))throw zu(),Error(g(418));for(;ee;)Pu(j,ee),ee=ni(ee.nextSibling)}if(Bu(j),j.tag===13){if(j=j.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(g(317));e:{for(j=j.nextSibling,ee=0;j;){if(j.nodeType===8){var oe=j.data;if(oe==="/$"){if(ee===0){vn=ni(j.nextSibling);break e}ee--}else oe!=="$"&&oe!=="$!"&&oe!=="$?"||ee++}j=j.nextSibling}vn=null}}else vn=bn?ni(j.stateNode.nextSibling):null;return!0}function zu(){for(var j=vn;j;)j=ni(j.nextSibling)}function Ui(){vn=bn=null,jr=!1}function zs(j){Rn===null?Rn=[j]:Rn.push(j)}var dd=pe.ReactCurrentBatchConfig;function va(j,ee,oe){if(j=oe.ref,j!==null&&typeof j!="function"&&typeof j!="object"){if(oe._owner){if(oe=oe._owner,oe){if(oe.tag!==1)throw Error(g(309));var ce=oe.stateNode}if(!ce)throw Error(g(147,j));var xe=ce,Re=""+j;return ee!==null&&ee.ref!==null&&typeof ee.ref=="function"&&ee.ref._stringRef===Re?ee.ref:(ee=function(Ve){var Rt=xe.refs;Ve===null?delete Rt[Re]:Rt[Re]=Ve},ee._stringRef=Re,ee)}if(typeof j!="string")throw Error(g(284));if(!oe._owner)throw Error(g(290,j))}return j}function yo(j,ee){throw j=Object.prototype.toString.call(ee),Error(g(31,j==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":j))}function Nu(j){var ee=j._init;return ee(j._payload)}function Ou(j){function ee(Ht,Dt){if(j){var Yt=Ht.deletions;Yt===null?(Ht.deletions=[Dt],Ht.flags|=16):Yt.push(Dt)}}function oe(Ht,Dt){if(!j)return null;for(;Dt!==null;)ee(Ht,Dt),Dt=Dt.sibling;return null}function ce(Ht,Dt){for(Ht=new Map;Dt!==null;)Dt.key!==null?Ht.set(Dt.key,Dt):Ht.set(Dt.index,Dt),Dt=Dt.sibling;return Ht}function xe(Ht,Dt){return Ht=pi(Ht,Dt),Ht.index=0,Ht.sibling=null,Ht}function Re(Ht,Dt,Yt){return Ht.index=Yt,j?(Yt=Ht.alternate,Yt!==null?(Yt=Yt.index,Yt<Dt?(Ht.flags|=2,Dt):Yt):(Ht.flags|=2,Dt)):(Ht.flags|=1048576,Dt)}function Ve(Ht){return j&&Ht.alternate===null&&(Ht.flags|=2),Ht}function Rt(Ht,Dt,Yt,ur){return Dt===null||Dt.tag!==6?(Dt=Sl(Yt,Ht.mode,ur),Dt.return=Ht,Dt):(Dt=xe(Dt,Yt),Dt.return=Ht,Dt)}function Ft(Ht,Dt,Yt,ur){var Er=Yt.type;return Er===be?sr(Ht,Dt,Yt.props.children,ur,Yt.key):Dt!==null&&(Dt.elementType===Er||typeof Er=="object"&&Er!==null&&Er.$$typeof===ze&&Nu(Er)===Dt.type)?(ur=xe(Dt,Yt.props),ur.ref=va(Ht,Dt,Yt),ur.return=Ht,ur):(ur=jo(Yt.type,Yt.key,Yt.props,null,Ht.mode,ur),ur.ref=va(Ht,Dt,Yt),ur.return=Ht,ur)}function Jt(Ht,Dt,Yt,ur){return Dt===null||Dt.tag!==4||Dt.stateNode.containerInfo!==Yt.containerInfo||Dt.stateNode.implementation!==Yt.implementation?(Dt=Tl(Yt,Ht.mode,ur),Dt.return=Ht,Dt):(Dt=xe(Dt,Yt.children||[]),Dt.return=Ht,Dt)}function sr(Ht,Dt,Yt,ur,Er){return Dt===null||Dt.tag!==7?(Dt=Ii(Yt,Ht.mode,ur,Er),Dt.return=Ht,Dt):(Dt=xe(Dt,Yt),Dt.return=Ht,Dt)}function lr(Ht,Dt,Yt){if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number")return Dt=Sl(""+Dt,Ht.mode,Yt),Dt.return=Ht,Dt;if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case ve:return Yt=jo(Dt.type,Dt.key,Dt.props,null,Ht.mode,Yt),Yt.ref=va(Ht,null,Dt),Yt.return=Ht,Yt;case ke:return Dt=Tl(Dt,Ht.mode,Yt),Dt.return=Ht,Dt;case ze:var ur=Dt._init;return lr(Ht,ur(Dt._payload),Yt)}if(De(Dt)||$e(Dt))return Dt=Ii(Dt,Ht.mode,Yt,null),Dt.return=Ht,Dt;yo(Ht,Dt)}return null}function or(Ht,Dt,Yt,ur){var Er=Dt!==null?Dt.key:null;if(typeof Yt=="string"&&Yt!==""||typeof Yt=="number")return Er!==null?null:Rt(Ht,Dt,""+Yt,ur);if(typeof Yt=="object"&&Yt!==null){switch(Yt.$$typeof){case ve:return Yt.key===Er?Ft(Ht,Dt,Yt,ur):null;case ke:return Yt.key===Er?Jt(Ht,Dt,Yt,ur):null;case ze:return Er=Yt._init,or(Ht,Dt,Er(Yt._payload),ur)}if(De(Yt)||$e(Yt))return Er!==null?null:sr(Ht,Dt,Yt,ur,null);yo(Ht,Yt)}return null}function mr(Ht,Dt,Yt,ur,Er){if(typeof ur=="string"&&ur!==""||typeof ur=="number")return Ht=Ht.get(Yt)||null,Rt(Dt,Ht,""+ur,Er);if(typeof ur=="object"&&ur!==null){switch(ur.$$typeof){case ve:return Ht=Ht.get(ur.key===null?Yt:ur.key)||null,Ft(Dt,Ht,ur,Er);case ke:return Ht=Ht.get(ur.key===null?Yt:ur.key)||null,Jt(Dt,Ht,ur,Er);case ze:var Sr=ur._init;return mr(Ht,Dt,Yt,Sr(ur._payload),Er)}if(De(ur)||$e(ur))return Ht=Ht.get(Yt)||null,sr(Dt,Ht,ur,Er,null);yo(Dt,ur)}return null}function wr(Ht,Dt,Yt,ur){for(var Er=null,Sr=null,Tr=Dt,Ar=Dt=0,tn=null;Tr!==null&&Ar<Yt.length;Ar++){Tr.index>Ar?(tn=Tr,Tr=null):tn=Tr.sibling;var Pr=or(Ht,Tr,Yt[Ar],ur);if(Pr===null){Tr===null&&(Tr=tn);break}j&&Tr&&Pr.alternate===null&&ee(Ht,Tr),Dt=Re(Pr,Dt,Ar),Sr===null?Er=Pr:Sr.sibling=Pr,Sr=Pr,Tr=tn}if(Ar===Yt.length)return oe(Ht,Tr),jr&&bi(Ht,Ar),Er;if(Tr===null){for(;Ar<Yt.length;Ar++)Tr=lr(Ht,Yt[Ar],ur),Tr!==null&&(Dt=Re(Tr,Dt,Ar),Sr===null?Er=Tr:Sr.sibling=Tr,Sr=Tr);return jr&&bi(Ht,Ar),Er}for(Tr=ce(Ht,Tr);Ar<Yt.length;Ar++)tn=mr(Tr,Ht,Ar,Yt[Ar],ur),tn!==null&&(j&&tn.alternate!==null&&Tr.delete(tn.key===null?Ar:tn.key),Dt=Re(tn,Dt,Ar),Sr===null?Er=tn:Sr.sibling=tn,Sr=tn);return j&&Tr.forEach(function(mi){return ee(Ht,mi)}),jr&&bi(Ht,Ar),Er}function xr(Ht,Dt,Yt,ur){var Er=$e(Yt);if(typeof Er!="function")throw Error(g(150));if(Yt=Er.call(Yt),Yt==null)throw Error(g(151));for(var Sr=Er=null,Tr=Dt,Ar=Dt=0,tn=null,Pr=Yt.next();Tr!==null&&!Pr.done;Ar++,Pr=Yt.next()){Tr.index>Ar?(tn=Tr,Tr=null):tn=Tr.sibling;var mi=or(Ht,Tr,Pr.value,ur);if(mi===null){Tr===null&&(Tr=tn);break}j&&Tr&&mi.alternate===null&&ee(Ht,Tr),Dt=Re(mi,Dt,Ar),Sr===null?Er=mi:Sr.sibling=mi,Sr=mi,Tr=tn}if(Pr.done)return oe(Ht,Tr),jr&&bi(Ht,Ar),Er;if(Tr===null){for(;!Pr.done;Ar++,Pr=Yt.next())Pr=lr(Ht,Pr.value,ur),Pr!==null&&(Dt=Re(Pr,Dt,Ar),Sr===null?Er=Pr:Sr.sibling=Pr,Sr=Pr);return jr&&bi(Ht,Ar),Er}for(Tr=ce(Ht,Tr);!Pr.done;Ar++,Pr=Yt.next())Pr=mr(Tr,Ht,Ar,Pr.value,ur),Pr!==null&&(j&&Pr.alternate!==null&&Tr.delete(Pr.key===null?Ar:Pr.key),Dt=Re(Pr,Dt,Ar),Sr===null?Er=Pr:Sr.sibling=Pr,Sr=Pr);return j&&Tr.forEach(function(Gd){return ee(Ht,Gd)}),jr&&bi(Ht,Ar),Er}function qr(Ht,Dt,Yt,ur){if(typeof Yt=="object"&&Yt!==null&&Yt.type===be&&Yt.key===null&&(Yt=Yt.props.children),typeof Yt=="object"&&Yt!==null){switch(Yt.$$typeof){case ve:e:{for(var Er=Yt.key,Sr=Dt;Sr!==null;){if(Sr.key===Er){if(Er=Yt.type,Er===be){if(Sr.tag===7){oe(Ht,Sr.sibling),Dt=xe(Sr,Yt.props.children),Dt.return=Ht,Ht=Dt;break e}}else if(Sr.elementType===Er||typeof Er=="object"&&Er!==null&&Er.$$typeof===ze&&Nu(Er)===Sr.type){oe(Ht,Sr.sibling),Dt=xe(Sr,Yt.props),Dt.ref=va(Ht,Sr,Yt),Dt.return=Ht,Ht=Dt;break e}oe(Ht,Sr);break}else ee(Ht,Sr);Sr=Sr.sibling}Yt.type===be?(Dt=Ii(Yt.props.children,Ht.mode,ur,Yt.key),Dt.return=Ht,Ht=Dt):(ur=jo(Yt.type,Yt.key,Yt.props,null,Ht.mode,ur),ur.ref=va(Ht,Dt,Yt),ur.return=Ht,Ht=ur)}return Ve(Ht);case ke:e:{for(Sr=Yt.key;Dt!==null;){if(Dt.key===Sr)if(Dt.tag===4&&Dt.stateNode.containerInfo===Yt.containerInfo&&Dt.stateNode.implementation===Yt.implementation){oe(Ht,Dt.sibling),Dt=xe(Dt,Yt.children||[]),Dt.return=Ht,Ht=Dt;break e}else{oe(Ht,Dt);break}else ee(Ht,Dt);Dt=Dt.sibling}Dt=Tl(Yt,Ht.mode,ur),Dt.return=Ht,Ht=Dt}return Ve(Ht);case ze:return Sr=Yt._init,qr(Ht,Dt,Sr(Yt._payload),ur)}if(De(Yt))return wr(Ht,Dt,Yt,ur);if($e(Yt))return xr(Ht,Dt,Yt,ur);yo(Ht,Yt)}return typeof Yt=="string"&&Yt!==""||typeof Yt=="number"?(Yt=""+Yt,Dt!==null&&Dt.tag===6?(oe(Ht,Dt.sibling),Dt=xe(Dt,Yt),Dt.return=Ht,Ht=Dt):(oe(Ht,Dt),Dt=Sl(Yt,Ht.mode,ur),Dt.return=Ht,Ht=Dt),Ve(Ht)):oe(Ht,Dt)}return qr}var ji=Ou(!0),Fu=Ou(!1),bo=ii(null),vo=null,Zi=null,Ns=null;function Os(){Ns=Zi=vo=null}function Fs(j){var ee=bo.current;Lr(bo),j._currentValue=ee}function Ds(j,ee,oe){for(;j!==null;){var ce=j.alternate;if((j.childLanes&ee)!==ee?(j.childLanes|=ee,ce!==null&&(ce.childLanes|=ee)):ce!==null&&(ce.childLanes&ee)!==ee&&(ce.childLanes|=ee),j===oe)break;j=j.return}}function Gi(j,ee){vo=j,Ns=Zi=null,j=j.dependencies,j!==null&&j.firstContext!==null&&(j.lanes&ee&&(pn=!0),j.firstContext=null)}function Sn(j){var ee=j._currentValue;if(Ns!==j)if(j={context:j,memoizedValue:ee,next:null},Zi===null){if(vo===null)throw Error(g(308));Zi=j,vo.dependencies={lanes:0,firstContext:j}}else Zi=Zi.next=j;return ee}var vi=null;function Ls(j){vi===null?vi=[j]:vi.push(j)}function Du(j,ee,oe,ce){var xe=ee.interleaved;return xe===null?(oe.next=oe,Ls(ee)):(oe.next=xe.next,xe.next=oe),ee.interleaved=oe,Wn(j,ce)}function Wn(j,ee){j.lanes|=ee;var oe=j.alternate;for(oe!==null&&(oe.lanes|=ee),oe=j,j=j.return;j!==null;)j.childLanes|=ee,oe=j.alternate,oe!==null&&(oe.childLanes|=ee),oe=j,j=j.return;return oe.tag===3?oe.stateNode:null}var si=!1;function $s(j){j.updateQueue={baseState:j.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lu(j,ee){j=j.updateQueue,ee.updateQueue===j&&(ee.updateQueue={baseState:j.baseState,firstBaseUpdate:j.firstBaseUpdate,lastBaseUpdate:j.lastBaseUpdate,shared:j.shared,effects:j.effects})}function Qn(j,ee){return{eventTime:j,lane:ee,tag:0,payload:null,callback:null,next:null}}function li(j,ee,oe){var ce=j.updateQueue;if(ce===null)return null;if(ce=ce.shared,Cr&2){var xe=ce.pending;return xe===null?ee.next=ee:(ee.next=xe.next,xe.next=ee),ce.pending=ee,Wn(j,oe)}return xe=ce.interleaved,xe===null?(ee.next=ee,Ls(ce)):(ee.next=xe.next,xe.next=ee),ce.interleaved=ee,Wn(j,oe)}function wo(j,ee,oe){if(ee=ee.updateQueue,ee!==null&&(ee=ee.shared,(oe&4194240)!==0)){var ce=ee.lanes;ce&=j.pendingLanes,oe|=ce,ee.lanes=oe,es(j,oe)}}function $u(j,ee){var oe=j.updateQueue,ce=j.alternate;if(ce!==null&&(ce=ce.updateQueue,oe===ce)){var xe=null,Re=null;if(oe=oe.firstBaseUpdate,oe!==null){do{var Ve={eventTime:oe.eventTime,lane:oe.lane,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null};Re===null?xe=Re=Ve:Re=Re.next=Ve,oe=oe.next}while(oe!==null);Re===null?xe=Re=ee:Re=Re.next=ee}else xe=Re=ee;oe={baseState:ce.baseState,firstBaseUpdate:xe,lastBaseUpdate:Re,shared:ce.shared,effects:ce.effects},j.updateQueue=oe;return}j=oe.lastBaseUpdate,j===null?oe.firstBaseUpdate=ee:j.next=ee,oe.lastBaseUpdate=ee}function xo(j,ee,oe,ce){var xe=j.updateQueue;si=!1;var Re=xe.firstBaseUpdate,Ve=xe.lastBaseUpdate,Rt=xe.shared.pending;if(Rt!==null){xe.shared.pending=null;var Ft=Rt,Jt=Ft.next;Ft.next=null,Ve===null?Re=Jt:Ve.next=Jt,Ve=Ft;var sr=j.alternate;sr!==null&&(sr=sr.updateQueue,Rt=sr.lastBaseUpdate,Rt!==Ve&&(Rt===null?sr.firstBaseUpdate=Jt:Rt.next=Jt,sr.lastBaseUpdate=Ft))}if(Re!==null){var lr=xe.baseState;Ve=0,sr=Jt=Ft=null,Rt=Re;do{var or=Rt.lane,mr=Rt.eventTime;if((ce&or)===or){sr!==null&&(sr=sr.next={eventTime:mr,lane:0,tag:Rt.tag,payload:Rt.payload,callback:Rt.callback,next:null});e:{var wr=j,xr=Rt;switch(or=ee,mr=oe,xr.tag){case 1:if(wr=xr.payload,typeof wr=="function"){lr=wr.call(mr,lr,or);break e}lr=wr;break e;case 3:wr.flags=wr.flags&-65537|128;case 0:if(wr=xr.payload,or=typeof wr=="function"?wr.call(mr,lr,or):wr,or==null)break e;lr=Ye({},lr,or);break e;case 2:si=!0}}Rt.callback!==null&&Rt.lane!==0&&(j.flags|=64,or=xe.effects,or===null?xe.effects=[Rt]:or.push(Rt))}else mr={eventTime:mr,lane:or,tag:Rt.tag,payload:Rt.payload,callback:Rt.callback,next:null},sr===null?(Jt=sr=mr,Ft=lr):sr=sr.next=mr,Ve|=or;if(Rt=Rt.next,Rt===null){if(Rt=xe.shared.pending,Rt===null)break;or=Rt,Rt=or.next,or.next=null,xe.lastBaseUpdate=or,xe.shared.pending=null}}while(!0);if(sr===null&&(Ft=lr),xe.baseState=Ft,xe.firstBaseUpdate=Jt,xe.lastBaseUpdate=sr,ee=xe.shared.interleaved,ee!==null){xe=ee;do Ve|=xe.lane,xe=xe.next;while(xe!==ee)}else Re===null&&(xe.shared.lanes=0);Ei|=Ve,j.lanes=Ve,j.memoizedState=lr}}function Uu(j,ee,oe){if(j=ee.effects,ee.effects=null,j!==null)for(ee=0;ee<j.length;ee++){var ce=j[ee],xe=ce.callback;if(xe!==null){if(ce.callback=null,ce=oe,typeof xe!="function")throw Error(g(191,xe));xe.call(ce)}}}var wa={},Ln=ii(wa),xa=ii(wa),Ea=ii(wa);function wi(j){if(j===wa)throw Error(g(174));return j}function Us(j,ee){switch(zr(Ea,ee),zr(xa,j),zr(Ln,wa),j=ee.nodeType,j){case 9:case 11:ee=(ee=ee.documentElement)?ee.namespaceURI:ar(null,"");break;default:j=j===8?ee.parentNode:ee,ee=j.namespaceURI||null,j=j.tagName,ee=ar(ee,j)}Lr(Ln),zr(Ln,ee)}function Hi(){Lr(Ln),Lr(xa),Lr(Ea)}function ju(j){wi(Ea.current);var ee=wi(Ln.current),oe=ar(ee,j.type);ee!==oe&&(zr(xa,j),zr(Ln,oe))}function js(j){xa.current===j&&(Lr(Ln),Lr(xa))}var Gr=ii(0);function Eo(j){for(var ee=j;ee!==null;){if(ee.tag===13){var oe=ee.memoizedState;if(oe!==null&&(oe=oe.dehydrated,oe===null||oe.data==="$?"||oe.data==="$!"))return ee}else if(ee.tag===19&&ee.memoizedProps.revealOrder!==void 0){if(ee.flags&128)return ee}else if(ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===j)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===j)return null;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}return null}var Zs=[];function Gs(){for(var j=0;j<Zs.length;j++)Zs[j]._workInProgressVersionPrimary=null;Zs.length=0}var ko=pe.ReactCurrentDispatcher,Hs=pe.ReactCurrentBatchConfig,xi=0,Hr=null,Yr=null,Jr=null,So=!1,ka=!1,Sa=0,hd=0;function sn(){throw Error(g(321))}function Ws(j,ee){if(ee===null)return!1;for(var oe=0;oe<ee.length&&oe<j.length;oe++)if(!Pn(j[oe],ee[oe]))return!1;return!0}function Qs(j,ee,oe,ce,xe,Re){if(xi=Re,Hr=ee,ee.memoizedState=null,ee.updateQueue=null,ee.lanes=0,ko.current=j===null||j.memoizedState===null?_d:yd,j=oe(ce,xe),ka){Re=0;do{if(ka=!1,Sa=0,25<=Re)throw Error(g(301));Re+=1,Jr=Yr=null,ee.updateQueue=null,ko.current=bd,j=oe(ce,xe)}while(ka)}if(ko.current=Ao,ee=Yr!==null&&Yr.next!==null,xi=0,Jr=Yr=Hr=null,So=!1,ee)throw Error(g(300));return j}function qs(){var j=Sa!==0;return Sa=0,j}function $n(){var j={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?Hr.memoizedState=Jr=j:Jr=Jr.next=j,Jr}function Tn(){if(Yr===null){var j=Hr.alternate;j=j!==null?j.memoizedState:null}else j=Yr.next;var ee=Jr===null?Hr.memoizedState:Jr.next;if(ee!==null)Jr=ee,Yr=j;else{if(j===null)throw Error(g(310));Yr=j,j={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},Jr===null?Hr.memoizedState=Jr=j:Jr=Jr.next=j}return Jr}function Ta(j,ee){return typeof ee=="function"?ee(j):ee}function Vs(j){var ee=Tn(),oe=ee.queue;if(oe===null)throw Error(g(311));oe.lastRenderedReducer=j;var ce=Yr,xe=ce.baseQueue,Re=oe.pending;if(Re!==null){if(xe!==null){var Ve=xe.next;xe.next=Re.next,Re.next=Ve}ce.baseQueue=xe=Re,oe.pending=null}if(xe!==null){Re=xe.next,ce=ce.baseState;var Rt=Ve=null,Ft=null,Jt=Re;do{var sr=Jt.lane;if((xi&sr)===sr)Ft!==null&&(Ft=Ft.next={lane:0,action:Jt.action,hasEagerState:Jt.hasEagerState,eagerState:Jt.eagerState,next:null}),ce=Jt.hasEagerState?Jt.eagerState:j(ce,Jt.action);else{var lr={lane:sr,action:Jt.action,hasEagerState:Jt.hasEagerState,eagerState:Jt.eagerState,next:null};Ft===null?(Rt=Ft=lr,Ve=ce):Ft=Ft.next=lr,Hr.lanes|=sr,Ei|=sr}Jt=Jt.next}while(Jt!==null&&Jt!==Re);Ft===null?Ve=ce:Ft.next=Rt,Pn(ce,ee.memoizedState)||(pn=!0),ee.memoizedState=ce,ee.baseState=Ve,ee.baseQueue=Ft,oe.lastRenderedState=ce}if(j=oe.interleaved,j!==null){xe=j;do Re=xe.lane,Hr.lanes|=Re,Ei|=Re,xe=xe.next;while(xe!==j)}else xe===null&&(oe.lanes=0);return[ee.memoizedState,oe.dispatch]}function Ys(j){var ee=Tn(),oe=ee.queue;if(oe===null)throw Error(g(311));oe.lastRenderedReducer=j;var ce=oe.dispatch,xe=oe.pending,Re=ee.memoizedState;if(xe!==null){oe.pending=null;var Ve=xe=xe.next;do Re=j(Re,Ve.action),Ve=Ve.next;while(Ve!==xe);Pn(Re,ee.memoizedState)||(pn=!0),ee.memoizedState=Re,ee.baseQueue===null&&(ee.baseState=Re),oe.lastRenderedState=Re}return[Re,ce]}function Zu(){}function Gu(j,ee){var oe=Hr,ce=Tn(),xe=ee(),Re=!Pn(ce.memoizedState,xe);if(Re&&(ce.memoizedState=xe,pn=!0),ce=ce.queue,Ks(Qu.bind(null,oe,ce,j),[j]),ce.getSnapshot!==ee||Re||Jr!==null&&Jr.memoizedState.tag&1){if(oe.flags|=2048,Ia(9,Wu.bind(null,oe,ce,xe,ee),void 0,null),en===null)throw Error(g(349));xi&30||Hu(oe,ee,xe)}return xe}function Hu(j,ee,oe){j.flags|=16384,j={getSnapshot:ee,value:oe},ee=Hr.updateQueue,ee===null?(ee={lastEffect:null,stores:null},Hr.updateQueue=ee,ee.stores=[j]):(oe=ee.stores,oe===null?ee.stores=[j]:oe.push(j))}function Wu(j,ee,oe,ce){ee.value=oe,ee.getSnapshot=ce,qu(ee)&&Vu(j)}function Qu(j,ee,oe){return oe(function(){qu(ee)&&Vu(j)})}function qu(j){var ee=j.getSnapshot;j=j.value;try{var oe=ee();return!Pn(j,oe)}catch{return!0}}function Vu(j){var ee=Wn(j,1);ee!==null&&On(ee,j,1,-1)}function Yu(j){var ee=$n();return typeof j=="function"&&(j=j()),ee.memoizedState=ee.baseState=j,j={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:j},ee.queue=j,j=j.dispatch=gd.bind(null,Hr,j),[ee.memoizedState,j]}function Ia(j,ee,oe,ce){return j={tag:j,create:ee,destroy:oe,deps:ce,next:null},ee=Hr.updateQueue,ee===null?(ee={lastEffect:null,stores:null},Hr.updateQueue=ee,ee.lastEffect=j.next=j):(oe=ee.lastEffect,oe===null?ee.lastEffect=j.next=j:(ce=oe.next,oe.next=j,j.next=ce,ee.lastEffect=j)),j}function Ku(){return Tn().memoizedState}function To(j,ee,oe,ce){var xe=$n();Hr.flags|=j,xe.memoizedState=Ia(1|ee,oe,void 0,ce===void 0?null:ce)}function Io(j,ee,oe,ce){var xe=Tn();ce=ce===void 0?null:ce;var Re=void 0;if(Yr!==null){var Ve=Yr.memoizedState;if(Re=Ve.destroy,ce!==null&&Ws(ce,Ve.deps)){xe.memoizedState=Ia(ee,oe,Re,ce);return}}Hr.flags|=j,xe.memoizedState=Ia(1|ee,oe,Re,ce)}function Xu(j,ee){return To(8390656,8,j,ee)}function Ks(j,ee){return Io(2048,8,j,ee)}function Ju(j,ee){return Io(4,2,j,ee)}function ec(j,ee){return Io(4,4,j,ee)}function tc(j,ee){if(typeof ee=="function")return j=j(),ee(j),function(){ee(null)};if(ee!=null)return j=j(),ee.current=j,function(){ee.current=null}}function rc(j,ee,oe){return oe=oe!=null?oe.concat([j]):null,Io(4,4,tc.bind(null,ee,j),oe)}function Xs(){}function nc(j,ee){var oe=Tn();ee=ee===void 0?null:ee;var ce=oe.memoizedState;return ce!==null&&ee!==null&&Ws(ee,ce[1])?ce[0]:(oe.memoizedState=[j,ee],j)}function ic(j,ee){var oe=Tn();ee=ee===void 0?null:ee;var ce=oe.memoizedState;return ce!==null&&ee!==null&&Ws(ee,ce[1])?ce[0]:(j=j(),oe.memoizedState=[j,ee],j)}function ac(j,ee,oe){return xi&21?(Pn(oe,ee)||(oe=Nl(),Hr.lanes|=oe,Ei|=oe,j.baseState=!0),ee):(j.baseState&&(j.baseState=!1,pn=!0),j.memoizedState=oe)}function pd(j,ee){var oe=Rr;Rr=oe!==0&&4>oe?oe:4,j(!0);var ce=Hs.transition;Hs.transition={};try{j(!1),ee()}finally{Rr=oe,Hs.transition=ce}}function oc(){return Tn().memoizedState}function md(j,ee,oe){var ce=di(j);if(oe={lane:ce,action:oe,hasEagerState:!1,eagerState:null,next:null},sc(j))lc(ee,oe);else if(oe=Du(j,ee,oe,ce),oe!==null){var xe=fn();On(oe,j,ce,xe),uc(oe,ee,ce)}}function gd(j,ee,oe){var ce=di(j),xe={lane:ce,action:oe,hasEagerState:!1,eagerState:null,next:null};if(sc(j))lc(ee,xe);else{var Re=j.alternate;if(j.lanes===0&&(Re===null||Re.lanes===0)&&(Re=ee.lastRenderedReducer,Re!==null))try{var Ve=ee.lastRenderedState,Rt=Re(Ve,oe);if(xe.hasEagerState=!0,xe.eagerState=Rt,Pn(Rt,Ve)){var Ft=ee.interleaved;Ft===null?(xe.next=xe,Ls(ee)):(xe.next=Ft.next,Ft.next=xe),ee.interleaved=xe;return}}catch{}finally{}oe=Du(j,ee,xe,ce),oe!==null&&(xe=fn(),On(oe,j,ce,xe),uc(oe,ee,ce))}}function sc(j){var ee=j.alternate;return j===Hr||ee!==null&&ee===Hr}function lc(j,ee){ka=So=!0;var oe=j.pending;oe===null?ee.next=ee:(ee.next=oe.next,oe.next=ee),j.pending=ee}function uc(j,ee,oe){if(oe&4194240){var ce=ee.lanes;ce&=j.pendingLanes,oe|=ce,ee.lanes=oe,es(j,oe)}}var Ao={readContext:Sn,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},_d={readContext:Sn,useCallback:function(j,ee){return $n().memoizedState=[j,ee===void 0?null:ee],j},useContext:Sn,useEffect:Xu,useImperativeHandle:function(j,ee,oe){return oe=oe!=null?oe.concat([j]):null,To(4194308,4,tc.bind(null,ee,j),oe)},useLayoutEffect:function(j,ee){return To(4194308,4,j,ee)},useInsertionEffect:function(j,ee){return To(4,2,j,ee)},useMemo:function(j,ee){var oe=$n();return ee=ee===void 0?null:ee,j=j(),oe.memoizedState=[j,ee],j},useReducer:function(j,ee,oe){var ce=$n();return ee=oe!==void 0?oe(ee):ee,ce.memoizedState=ce.baseState=ee,j={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:j,lastRenderedState:ee},ce.queue=j,j=j.dispatch=md.bind(null,Hr,j),[ce.memoizedState,j]},useRef:function(j){var ee=$n();return j={current:j},ee.memoizedState=j},useState:Yu,useDebugValue:Xs,useDeferredValue:function(j){return $n().memoizedState=j},useTransition:function(){var j=Yu(!1),ee=j[0];return j=pd.bind(null,j[1]),$n().memoizedState=j,[ee,j]},useMutableSource:function(){},useSyncExternalStore:function(j,ee,oe){var ce=Hr,xe=$n();if(jr){if(oe===void 0)throw Error(g(407));oe=oe()}else{if(oe=ee(),en===null)throw Error(g(349));xi&30||Hu(ce,ee,oe)}xe.memoizedState=oe;var Re={value:oe,getSnapshot:ee};return xe.queue=Re,Xu(Qu.bind(null,ce,Re,j),[j]),ce.flags|=2048,Ia(9,Wu.bind(null,ce,Re,oe,ee),void 0,null),oe},useId:function(){var j=$n(),ee=en.identifierPrefix;if(jr){var oe=Hn,ce=Gn;oe=(ce&~(1<<32-Cn(ce)-1)).toString(32)+oe,ee=":"+ee+"R"+oe,oe=Sa++,0<oe&&(ee+="H"+oe.toString(32)),ee+=":"}else oe=hd++,ee=":"+ee+"r"+oe.toString(32)+":";return j.memoizedState=ee},unstable_isNewReconciler:!1},yd={readContext:Sn,useCallback:nc,useContext:Sn,useEffect:Ks,useImperativeHandle:rc,useInsertionEffect:Ju,useLayoutEffect:ec,useMemo:ic,useReducer:Vs,useRef:Ku,useState:function(){return Vs(Ta)},useDebugValue:Xs,useDeferredValue:function(j){var ee=Tn();return ac(ee,Yr.memoizedState,j)},useTransition:function(){var j=Vs(Ta)[0],ee=Tn().memoizedState;return[j,ee]},useMutableSource:Zu,useSyncExternalStore:Gu,useId:oc,unstable_isNewReconciler:!1},bd={readContext:Sn,useCallback:nc,useContext:Sn,useEffect:Ks,useImperativeHandle:rc,useInsertionEffect:Ju,useLayoutEffect:ec,useMemo:ic,useReducer:Ys,useRef:Ku,useState:function(){return Ys(Ta)},useDebugValue:Xs,useDeferredValue:function(j){var ee=Tn();return Yr===null?ee.memoizedState=j:ac(ee,Yr.memoizedState,j)},useTransition:function(){var j=Ys(Ta)[0],ee=Tn().memoizedState;return[j,ee]},useMutableSource:Zu,useSyncExternalStore:Gu,useId:oc,unstable_isNewReconciler:!1};function Bn(j,ee){if(j&&j.defaultProps){ee=Ye({},ee),j=j.defaultProps;for(var oe in j)ee[oe]===void 0&&(ee[oe]=j[oe]);return ee}return ee}function Js(j,ee,oe,ce){ee=j.memoizedState,oe=oe(ce,ee),oe=oe==null?ee:Ye({},ee,oe),j.memoizedState=oe,j.lanes===0&&(j.updateQueue.baseState=oe)}var Mo={isMounted:function(j){return(j=j._reactInternals)?Zr(j)===j:!1},enqueueSetState:function(j,ee,oe){j=j._reactInternals;var ce=fn(),xe=di(j),Re=Qn(ce,xe);Re.payload=ee,oe!=null&&(Re.callback=oe),ee=li(j,Re,xe),ee!==null&&(On(ee,j,xe,ce),wo(ee,j,xe))},enqueueReplaceState:function(j,ee,oe){j=j._reactInternals;var ce=fn(),xe=di(j),Re=Qn(ce,xe);Re.tag=1,Re.payload=ee,oe!=null&&(Re.callback=oe),ee=li(j,Re,xe),ee!==null&&(On(ee,j,xe,ce),wo(ee,j,xe))},enqueueForceUpdate:function(j,ee){j=j._reactInternals;var oe=fn(),ce=di(j),xe=Qn(oe,ce);xe.tag=2,ee!=null&&(xe.callback=ee),ee=li(j,xe,ce),ee!==null&&(On(ee,j,ce,oe),wo(ee,j,ce))}};function cc(j,ee,oe,ce,xe,Re,Ve){return j=j.stateNode,typeof j.shouldComponentUpdate=="function"?j.shouldComponentUpdate(ce,Re,Ve):ee.prototype&&ee.prototype.isPureReactComponent?!ha(oe,ce)||!ha(xe,Re):!0}function fc(j,ee,oe){var ce=!1,xe=ai,Re=ee.contextType;return typeof Re=="object"&&Re!==null?Re=Sn(Re):(xe=hn(ee)?_i:on.current,ce=ee.contextTypes,Re=(ce=ce!=null)?Di(j,xe):ai),ee=new ee(oe,Re),j.memoizedState=ee.state!==null&&ee.state!==void 0?ee.state:null,ee.updater=Mo,j.stateNode=ee,ee._reactInternals=j,ce&&(j=j.stateNode,j.__reactInternalMemoizedUnmaskedChildContext=xe,j.__reactInternalMemoizedMaskedChildContext=Re),ee}function dc(j,ee,oe,ce){j=ee.state,typeof ee.componentWillReceiveProps=="function"&&ee.componentWillReceiveProps(oe,ce),typeof ee.UNSAFE_componentWillReceiveProps=="function"&&ee.UNSAFE_componentWillReceiveProps(oe,ce),ee.state!==j&&Mo.enqueueReplaceState(ee,ee.state,null)}function el(j,ee,oe,ce){var xe=j.stateNode;xe.props=oe,xe.state=j.memoizedState,xe.refs={},$s(j);var Re=ee.contextType;typeof Re=="object"&&Re!==null?xe.context=Sn(Re):(Re=hn(ee)?_i:on.current,xe.context=Di(j,Re)),xe.state=j.memoizedState,Re=ee.getDerivedStateFromProps,typeof Re=="function"&&(Js(j,ee,Re,oe),xe.state=j.memoizedState),typeof ee.getDerivedStateFromProps=="function"||typeof xe.getSnapshotBeforeUpdate=="function"||typeof xe.UNSAFE_componentWillMount!="function"&&typeof xe.componentWillMount!="function"||(ee=xe.state,typeof xe.componentWillMount=="function"&&xe.componentWillMount(),typeof xe.UNSAFE_componentWillMount=="function"&&xe.UNSAFE_componentWillMount(),ee!==xe.state&&Mo.enqueueReplaceState(xe,xe.state,null),xo(j,oe,xe,ce),xe.state=j.memoizedState),typeof xe.componentDidMount=="function"&&(j.flags|=4194308)}function Wi(j,ee){try{var oe="",ce=ee;do oe+=He(ce),ce=ce.return;while(ce);var xe=oe}catch(Re){xe=`
Error generating stack: `+Re.message+`
`+Re.stack}return{value:j,source:ee,stack:xe,digest:null}}function tl(j,ee,oe){return{value:j,source:null,stack:oe??null,digest:ee??null}}function rl(j,ee){try{console.error(ee.value)}catch(oe){setTimeout(function(){throw oe})}}var vd=typeof WeakMap=="function"?WeakMap:Map;function hc(j,ee,oe){oe=Qn(-1,oe),oe.tag=3,oe.payload={element:null};var ce=ee.value;return oe.callback=function(){Oo||(Oo=!0,_l=ce),rl(j,ee)},oe}function pc(j,ee,oe){oe=Qn(-1,oe),oe.tag=3;var ce=j.type.getDerivedStateFromError;if(typeof ce=="function"){var xe=ee.value;oe.payload=function(){return ce(xe)},oe.callback=function(){rl(j,ee)}}var Re=j.stateNode;return Re!==null&&typeof Re.componentDidCatch=="function"&&(oe.callback=function(){rl(j,ee),typeof ce!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var Ve=ee.stack;this.componentDidCatch(ee.value,{componentStack:Ve!==null?Ve:""})}),oe}function mc(j,ee,oe){var ce=j.pingCache;if(ce===null){ce=j.pingCache=new vd;var xe=new Set;ce.set(ee,xe)}else xe=ce.get(ee),xe===void 0&&(xe=new Set,ce.set(ee,xe));xe.has(oe)||(xe.add(oe),j=zd.bind(null,j,ee,oe),ee.then(j,j))}function gc(j){do{var ee;if((ee=j.tag===13)&&(ee=j.memoizedState,ee=ee!==null?ee.dehydrated!==null:!0),ee)return j;j=j.return}while(j!==null);return null}function _c(j,ee,oe,ce,xe){return j.mode&1?(j.flags|=65536,j.lanes=xe,j):(j===ee?j.flags|=65536:(j.flags|=128,oe.flags|=131072,oe.flags&=-52805,oe.tag===1&&(oe.alternate===null?oe.tag=17:(ee=Qn(-1,1),ee.tag=2,li(oe,ee,1))),oe.lanes|=1),j)}var wd=pe.ReactCurrentOwner,pn=!1;function cn(j,ee,oe,ce){ee.child=j===null?Fu(ee,null,oe,ce):ji(ee,j.child,oe,ce)}function yc(j,ee,oe,ce,xe){oe=oe.render;var Re=ee.ref;return Gi(ee,xe),ce=Qs(j,ee,oe,ce,Re,xe),oe=qs(),j!==null&&!pn?(ee.updateQueue=j.updateQueue,ee.flags&=-2053,j.lanes&=~xe,qn(j,ee,xe)):(jr&&oe&&Cs(ee),ee.flags|=1,cn(j,ee,ce,xe),ee.child)}function bc(j,ee,oe,ce,xe){if(j===null){var Re=oe.type;return typeof Re=="function"&&!kl(Re)&&Re.defaultProps===void 0&&oe.compare===null&&oe.defaultProps===void 0?(ee.tag=15,ee.type=Re,vc(j,ee,Re,ce,xe)):(j=jo(oe.type,null,ce,ee,ee.mode,xe),j.ref=ee.ref,j.return=ee,ee.child=j)}if(Re=j.child,!(j.lanes&xe)){var Ve=Re.memoizedProps;if(oe=oe.compare,oe=oe!==null?oe:ha,oe(Ve,ce)&&j.ref===ee.ref)return qn(j,ee,xe)}return ee.flags|=1,j=pi(Re,ce),j.ref=ee.ref,j.return=ee,ee.child=j}function vc(j,ee,oe,ce,xe){if(j!==null){var Re=j.memoizedProps;if(ha(Re,ce)&&j.ref===ee.ref)if(pn=!1,ee.pendingProps=ce=Re,(j.lanes&xe)!==0)j.flags&131072&&(pn=!0);else return ee.lanes=j.lanes,qn(j,ee,xe)}return nl(j,ee,oe,ce,xe)}function wc(j,ee,oe){var ce=ee.pendingProps,xe=ce.children,Re=j!==null?j.memoizedState:null;if(ce.mode==="hidden")if(!(ee.mode&1))ee.memoizedState={baseLanes:0,cachePool:null,transitions:null},zr(qi,wn),wn|=oe;else{if(!(oe&1073741824))return j=Re!==null?Re.baseLanes|oe:oe,ee.lanes=ee.childLanes=1073741824,ee.memoizedState={baseLanes:j,cachePool:null,transitions:null},ee.updateQueue=null,zr(qi,wn),wn|=j,null;ee.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce=Re!==null?Re.baseLanes:oe,zr(qi,wn),wn|=ce}else Re!==null?(ce=Re.baseLanes|oe,ee.memoizedState=null):ce=oe,zr(qi,wn),wn|=ce;return cn(j,ee,xe,oe),ee.child}function xc(j,ee){var oe=ee.ref;(j===null&&oe!==null||j!==null&&j.ref!==oe)&&(ee.flags|=512,ee.flags|=2097152)}function nl(j,ee,oe,ce,xe){var Re=hn(oe)?_i:on.current;return Re=Di(ee,Re),Gi(ee,xe),oe=Qs(j,ee,oe,ce,Re,xe),ce=qs(),j!==null&&!pn?(ee.updateQueue=j.updateQueue,ee.flags&=-2053,j.lanes&=~xe,qn(j,ee,xe)):(jr&&ce&&Cs(ee),ee.flags|=1,cn(j,ee,oe,xe),ee.child)}function Ec(j,ee,oe,ce,xe){if(hn(oe)){var Re=!0;fo(ee)}else Re=!1;if(Gi(ee,xe),ee.stateNode===null)Po(j,ee),fc(ee,oe,ce),el(ee,oe,ce,xe),ce=!0;else if(j===null){var Ve=ee.stateNode,Rt=ee.memoizedProps;Ve.props=Rt;var Ft=Ve.context,Jt=oe.contextType;typeof Jt=="object"&&Jt!==null?Jt=Sn(Jt):(Jt=hn(oe)?_i:on.current,Jt=Di(ee,Jt));var sr=oe.getDerivedStateFromProps,lr=typeof sr=="function"||typeof Ve.getSnapshotBeforeUpdate=="function";lr||typeof Ve.UNSAFE_componentWillReceiveProps!="function"&&typeof Ve.componentWillReceiveProps!="function"||(Rt!==ce||Ft!==Jt)&&dc(ee,Ve,ce,Jt),si=!1;var or=ee.memoizedState;Ve.state=or,xo(ee,ce,Ve,xe),Ft=ee.memoizedState,Rt!==ce||or!==Ft||dn.current||si?(typeof sr=="function"&&(Js(ee,oe,sr,ce),Ft=ee.memoizedState),(Rt=si||cc(ee,oe,Rt,ce,or,Ft,Jt))?(lr||typeof Ve.UNSAFE_componentWillMount!="function"&&typeof Ve.componentWillMount!="function"||(typeof Ve.componentWillMount=="function"&&Ve.componentWillMount(),typeof Ve.UNSAFE_componentWillMount=="function"&&Ve.UNSAFE_componentWillMount()),typeof Ve.componentDidMount=="function"&&(ee.flags|=4194308)):(typeof Ve.componentDidMount=="function"&&(ee.flags|=4194308),ee.memoizedProps=ce,ee.memoizedState=Ft),Ve.props=ce,Ve.state=Ft,Ve.context=Jt,ce=Rt):(typeof Ve.componentDidMount=="function"&&(ee.flags|=4194308),ce=!1)}else{Ve=ee.stateNode,Lu(j,ee),Rt=ee.memoizedProps,Jt=ee.type===ee.elementType?Rt:Bn(ee.type,Rt),Ve.props=Jt,lr=ee.pendingProps,or=Ve.context,Ft=oe.contextType,typeof Ft=="object"&&Ft!==null?Ft=Sn(Ft):(Ft=hn(oe)?_i:on.current,Ft=Di(ee,Ft));var mr=oe.getDerivedStateFromProps;(sr=typeof mr=="function"||typeof Ve.getSnapshotBeforeUpdate=="function")||typeof Ve.UNSAFE_componentWillReceiveProps!="function"&&typeof Ve.componentWillReceiveProps!="function"||(Rt!==lr||or!==Ft)&&dc(ee,Ve,ce,Ft),si=!1,or=ee.memoizedState,Ve.state=or,xo(ee,ce,Ve,xe);var wr=ee.memoizedState;Rt!==lr||or!==wr||dn.current||si?(typeof mr=="function"&&(Js(ee,oe,mr,ce),wr=ee.memoizedState),(Jt=si||cc(ee,oe,Jt,ce,or,wr,Ft)||!1)?(sr||typeof Ve.UNSAFE_componentWillUpdate!="function"&&typeof Ve.componentWillUpdate!="function"||(typeof Ve.componentWillUpdate=="function"&&Ve.componentWillUpdate(ce,wr,Ft),typeof Ve.UNSAFE_componentWillUpdate=="function"&&Ve.UNSAFE_componentWillUpdate(ce,wr,Ft)),typeof Ve.componentDidUpdate=="function"&&(ee.flags|=4),typeof Ve.getSnapshotBeforeUpdate=="function"&&(ee.flags|=1024)):(typeof Ve.componentDidUpdate!="function"||Rt===j.memoizedProps&&or===j.memoizedState||(ee.flags|=4),typeof Ve.getSnapshotBeforeUpdate!="function"||Rt===j.memoizedProps&&or===j.memoizedState||(ee.flags|=1024),ee.memoizedProps=ce,ee.memoizedState=wr),Ve.props=ce,Ve.state=wr,Ve.context=Ft,ce=Jt):(typeof Ve.componentDidUpdate!="function"||Rt===j.memoizedProps&&or===j.memoizedState||(ee.flags|=4),typeof Ve.getSnapshotBeforeUpdate!="function"||Rt===j.memoizedProps&&or===j.memoizedState||(ee.flags|=1024),ce=!1)}return il(j,ee,oe,ce,Re,xe)}function il(j,ee,oe,ce,xe,Re){xc(j,ee);var Ve=(ee.flags&128)!==0;if(!ce&&!Ve)return xe&&Au(ee,oe,!1),qn(j,ee,Re);ce=ee.stateNode,wd.current=ee;var Rt=Ve&&typeof oe.getDerivedStateFromError!="function"?null:ce.render();return ee.flags|=1,j!==null&&Ve?(ee.child=ji(ee,j.child,null,Re),ee.child=ji(ee,null,Rt,Re)):cn(j,ee,Rt,Re),ee.memoizedState=ce.state,xe&&Au(ee,oe,!0),ee.child}function kc(j){var ee=j.stateNode;ee.pendingContext?Tu(j,ee.pendingContext,ee.pendingContext!==ee.context):ee.context&&Tu(j,ee.context,!1),Us(j,ee.containerInfo)}function Sc(j,ee,oe,ce,xe){return Ui(),zs(xe),ee.flags|=256,cn(j,ee,oe,ce),ee.child}var al={dehydrated:null,treeContext:null,retryLane:0};function ol(j){return{baseLanes:j,cachePool:null,transitions:null}}function Tc(j,ee,oe){var ce=ee.pendingProps,xe=Gr.current,Re=!1,Ve=(ee.flags&128)!==0,Rt;if((Rt=Ve)||(Rt=j!==null&&j.memoizedState===null?!1:(xe&2)!==0),Rt?(Re=!0,ee.flags&=-129):(j===null||j.memoizedState!==null)&&(xe|=1),zr(Gr,xe&1),j===null)return Bs(ee),j=ee.memoizedState,j!==null&&(j=j.dehydrated,j!==null)?(ee.mode&1?j.data==="$!"?ee.lanes=8:ee.lanes=1073741824:ee.lanes=1,null):(Ve=ce.children,j=ce.fallback,Re?(ce=ee.mode,Re=ee.child,Ve={mode:"hidden",children:Ve},!(ce&1)&&Re!==null?(Re.childLanes=0,Re.pendingProps=Ve):Re=Zo(Ve,ce,0,null),j=Ii(j,ce,oe,null),Re.return=ee,j.return=ee,Re.sibling=j,ee.child=Re,ee.child.memoizedState=ol(oe),ee.memoizedState=al,j):sl(ee,Ve));if(xe=j.memoizedState,xe!==null&&(Rt=xe.dehydrated,Rt!==null))return xd(j,ee,Ve,ce,Rt,xe,oe);if(Re){Re=ce.fallback,Ve=ee.mode,xe=j.child,Rt=xe.sibling;var Ft={mode:"hidden",children:ce.children};return!(Ve&1)&&ee.child!==xe?(ce=ee.child,ce.childLanes=0,ce.pendingProps=Ft,ee.deletions=null):(ce=pi(xe,Ft),ce.subtreeFlags=xe.subtreeFlags&14680064),Rt!==null?Re=pi(Rt,Re):(Re=Ii(Re,Ve,oe,null),Re.flags|=2),Re.return=ee,ce.return=ee,ce.sibling=Re,ee.child=ce,ce=Re,Re=ee.child,Ve=j.child.memoizedState,Ve=Ve===null?ol(oe):{baseLanes:Ve.baseLanes|oe,cachePool:null,transitions:Ve.transitions},Re.memoizedState=Ve,Re.childLanes=j.childLanes&~oe,ee.memoizedState=al,ce}return Re=j.child,j=Re.sibling,ce=pi(Re,{mode:"visible",children:ce.children}),!(ee.mode&1)&&(ce.lanes=oe),ce.return=ee,ce.sibling=null,j!==null&&(oe=ee.deletions,oe===null?(ee.deletions=[j],ee.flags|=16):oe.push(j)),ee.child=ce,ee.memoizedState=null,ce}function sl(j,ee){return ee=Zo({mode:"visible",children:ee},j.mode,0,null),ee.return=j,j.child=ee}function Co(j,ee,oe,ce){return ce!==null&&zs(ce),ji(ee,j.child,null,oe),j=sl(ee,ee.pendingProps.children),j.flags|=2,ee.memoizedState=null,j}function xd(j,ee,oe,ce,xe,Re,Ve){if(oe)return ee.flags&256?(ee.flags&=-257,ce=tl(Error(g(422))),Co(j,ee,Ve,ce)):ee.memoizedState!==null?(ee.child=j.child,ee.flags|=128,null):(Re=ce.fallback,xe=ee.mode,ce=Zo({mode:"visible",children:ce.children},xe,0,null),Re=Ii(Re,xe,Ve,null),Re.flags|=2,ce.return=ee,Re.return=ee,ce.sibling=Re,ee.child=ce,ee.mode&1&&ji(ee,j.child,null,Ve),ee.child.memoizedState=ol(Ve),ee.memoizedState=al,Re);if(!(ee.mode&1))return Co(j,ee,Ve,null);if(xe.data==="$!"){if(ce=xe.nextSibling&&xe.nextSibling.dataset,ce)var Rt=ce.dgst;return ce=Rt,Re=Error(g(419)),ce=tl(Re,ce,void 0),Co(j,ee,Ve,ce)}if(Rt=(Ve&j.childLanes)!==0,pn||Rt){if(ce=en,ce!==null){switch(Ve&-Ve){case 4:xe=2;break;case 16:xe=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:xe=32;break;case 536870912:xe=268435456;break;default:xe=0}xe=xe&(ce.suspendedLanes|Ve)?0:xe,xe!==0&&xe!==Re.retryLane&&(Re.retryLane=xe,Wn(j,xe),On(ce,j,xe,-1))}return El(),ce=tl(Error(g(421))),Co(j,ee,Ve,ce)}return xe.data==="$?"?(ee.flags|=128,ee.child=j.child,ee=Nd.bind(null,j),xe._reactRetry=ee,null):(j=Re.treeContext,vn=ni(xe.nextSibling),bn=ee,jr=!0,Rn=null,j!==null&&(En[kn++]=Gn,En[kn++]=Hn,En[kn++]=yi,Gn=j.id,Hn=j.overflow,yi=ee),ee=sl(ee,ce.children),ee.flags|=4096,ee)}function Ic(j,ee,oe){j.lanes|=ee;var ce=j.alternate;ce!==null&&(ce.lanes|=ee),Ds(j.return,ee,oe)}function ll(j,ee,oe,ce,xe){var Re=j.memoizedState;Re===null?j.memoizedState={isBackwards:ee,rendering:null,renderingStartTime:0,last:ce,tail:oe,tailMode:xe}:(Re.isBackwards=ee,Re.rendering=null,Re.renderingStartTime=0,Re.last=ce,Re.tail=oe,Re.tailMode=xe)}function Ac(j,ee,oe){var ce=ee.pendingProps,xe=ce.revealOrder,Re=ce.tail;if(cn(j,ee,ce.children,oe),ce=Gr.current,ce&2)ce=ce&1|2,ee.flags|=128;else{if(j!==null&&j.flags&128)e:for(j=ee.child;j!==null;){if(j.tag===13)j.memoizedState!==null&&Ic(j,oe,ee);else if(j.tag===19)Ic(j,oe,ee);else if(j.child!==null){j.child.return=j,j=j.child;continue}if(j===ee)break e;for(;j.sibling===null;){if(j.return===null||j.return===ee)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}ce&=1}if(zr(Gr,ce),!(ee.mode&1))ee.memoizedState=null;else switch(xe){case"forwards":for(oe=ee.child,xe=null;oe!==null;)j=oe.alternate,j!==null&&Eo(j)===null&&(xe=oe),oe=oe.sibling;oe=xe,oe===null?(xe=ee.child,ee.child=null):(xe=oe.sibling,oe.sibling=null),ll(ee,!1,xe,oe,Re);break;case"backwards":for(oe=null,xe=ee.child,ee.child=null;xe!==null;){if(j=xe.alternate,j!==null&&Eo(j)===null){ee.child=xe;break}j=xe.sibling,xe.sibling=oe,oe=xe,xe=j}ll(ee,!0,oe,null,Re);break;case"together":ll(ee,!1,null,null,void 0);break;default:ee.memoizedState=null}return ee.child}function Po(j,ee){!(ee.mode&1)&&j!==null&&(j.alternate=null,ee.alternate=null,ee.flags|=2)}function qn(j,ee,oe){if(j!==null&&(ee.dependencies=j.dependencies),Ei|=ee.lanes,!(oe&ee.childLanes))return null;if(j!==null&&ee.child!==j.child)throw Error(g(153));if(ee.child!==null){for(j=ee.child,oe=pi(j,j.pendingProps),ee.child=oe,oe.return=ee;j.sibling!==null;)j=j.sibling,oe=oe.sibling=pi(j,j.pendingProps),oe.return=ee;oe.sibling=null}return ee.child}function Ed(j,ee,oe){switch(ee.tag){case 3:kc(ee),Ui();break;case 5:ju(ee);break;case 1:hn(ee.type)&&fo(ee);break;case 4:Us(ee,ee.stateNode.containerInfo);break;case 10:var ce=ee.type._context,xe=ee.memoizedProps.value;zr(bo,ce._currentValue),ce._currentValue=xe;break;case 13:if(ce=ee.memoizedState,ce!==null)return ce.dehydrated!==null?(zr(Gr,Gr.current&1),ee.flags|=128,null):oe&ee.child.childLanes?Tc(j,ee,oe):(zr(Gr,Gr.current&1),j=qn(j,ee,oe),j!==null?j.sibling:null);zr(Gr,Gr.current&1);break;case 19:if(ce=(oe&ee.childLanes)!==0,j.flags&128){if(ce)return Ac(j,ee,oe);ee.flags|=128}if(xe=ee.memoizedState,xe!==null&&(xe.rendering=null,xe.tail=null,xe.lastEffect=null),zr(Gr,Gr.current),ce)break;return null;case 22:case 23:return ee.lanes=0,wc(j,ee,oe)}return qn(j,ee,oe)}var Mc,ul,Cc,Pc;Mc=function(j,ee){for(var oe=ee.child;oe!==null;){if(oe.tag===5||oe.tag===6)j.appendChild(oe.stateNode);else if(oe.tag!==4&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===ee)break;for(;oe.sibling===null;){if(oe.return===null||oe.return===ee)return;oe=oe.return}oe.sibling.return=oe.return,oe=oe.sibling}},ul=function(){},Cc=function(j,ee,oe,ce){var xe=j.memoizedProps;if(xe!==ce){j=ee.stateNode,wi(Ln.current);var Re=null;switch(oe){case"input":xe=Fe(j,xe),ce=Fe(j,ce),Re=[];break;case"select":xe=Ye({},xe,{value:void 0}),ce=Ye({},ce,{value:void 0}),Re=[];break;case"textarea":xe=St(j,xe),ce=St(j,ce),Re=[];break;default:typeof xe.onClick!="function"&&typeof ce.onClick=="function"&&(j.onclick=oo)}Tt(oe,ce);var Ve;oe=null;for(Jt in xe)if(!ce.hasOwnProperty(Jt)&&xe.hasOwnProperty(Jt)&&xe[Jt]!=null)if(Jt==="style"){var Rt=xe[Jt];for(Ve in Rt)Rt.hasOwnProperty(Ve)&&(oe||(oe={}),oe[Ve]="")}else Jt!=="dangerouslySetInnerHTML"&&Jt!=="children"&&Jt!=="suppressContentEditableWarning"&&Jt!=="suppressHydrationWarning"&&Jt!=="autoFocus"&&(D.hasOwnProperty(Jt)?Re||(Re=[]):(Re=Re||[]).push(Jt,null));for(Jt in ce){var Ft=ce[Jt];if(Rt=xe!=null?xe[Jt]:void 0,ce.hasOwnProperty(Jt)&&Ft!==Rt&&(Ft!=null||Rt!=null))if(Jt==="style")if(Rt){for(Ve in Rt)!Rt.hasOwnProperty(Ve)||Ft&&Ft.hasOwnProperty(Ve)||(oe||(oe={}),oe[Ve]="");for(Ve in Ft)Ft.hasOwnProperty(Ve)&&Rt[Ve]!==Ft[Ve]&&(oe||(oe={}),oe[Ve]=Ft[Ve])}else oe||(Re||(Re=[]),Re.push(Jt,oe)),oe=Ft;else Jt==="dangerouslySetInnerHTML"?(Ft=Ft?Ft.__html:void 0,Rt=Rt?Rt.__html:void 0,Ft!=null&&Rt!==Ft&&(Re=Re||[]).push(Jt,Ft)):Jt==="children"?typeof Ft!="string"&&typeof Ft!="number"||(Re=Re||[]).push(Jt,""+Ft):Jt!=="suppressContentEditableWarning"&&Jt!=="suppressHydrationWarning"&&(D.hasOwnProperty(Jt)?(Ft!=null&&Jt==="onScroll"&&Dr("scroll",j),Re||Rt===Ft||(Re=[])):(Re=Re||[]).push(Jt,Ft))}oe&&(Re=Re||[]).push("style",oe);var Jt=Re;(ee.updateQueue=Jt)&&(ee.flags|=4)}},Pc=function(j,ee,oe,ce){oe!==ce&&(ee.flags|=4)};function Aa(j,ee){if(!jr)switch(j.tailMode){case"hidden":ee=j.tail;for(var oe=null;ee!==null;)ee.alternate!==null&&(oe=ee),ee=ee.sibling;oe===null?j.tail=null:oe.sibling=null;break;case"collapsed":oe=j.tail;for(var ce=null;oe!==null;)oe.alternate!==null&&(ce=oe),oe=oe.sibling;ce===null?ee||j.tail===null?j.tail=null:j.tail.sibling=null:ce.sibling=null}}function ln(j){var ee=j.alternate!==null&&j.alternate.child===j.child,oe=0,ce=0;if(ee)for(var xe=j.child;xe!==null;)oe|=xe.lanes|xe.childLanes,ce|=xe.subtreeFlags&14680064,ce|=xe.flags&14680064,xe.return=j,xe=xe.sibling;else for(xe=j.child;xe!==null;)oe|=xe.lanes|xe.childLanes,ce|=xe.subtreeFlags,ce|=xe.flags,xe.return=j,xe=xe.sibling;return j.subtreeFlags|=ce,j.childLanes=oe,ee}function kd(j,ee,oe){var ce=ee.pendingProps;switch(Ps(ee),ee.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(ee),null;case 1:return hn(ee.type)&&co(),ln(ee),null;case 3:return ce=ee.stateNode,Hi(),Lr(dn),Lr(on),Gs(),ce.pendingContext&&(ce.context=ce.pendingContext,ce.pendingContext=null),(j===null||j.child===null)&&(go(ee)?ee.flags|=4:j===null||j.memoizedState.isDehydrated&&!(ee.flags&256)||(ee.flags|=1024,Rn!==null&&(vl(Rn),Rn=null))),ul(j,ee),ln(ee),null;case 5:js(ee);var xe=wi(Ea.current);if(oe=ee.type,j!==null&&ee.stateNode!=null)Cc(j,ee,oe,ce,xe),j.ref!==ee.ref&&(ee.flags|=512,ee.flags|=2097152);else{if(!ce){if(ee.stateNode===null)throw Error(g(166));return ln(ee),null}if(j=wi(Ln.current),go(ee)){ce=ee.stateNode,oe=ee.type;var Re=ee.memoizedProps;switch(ce[Dn]=ee,ce[ya]=Re,j=(ee.mode&1)!==0,oe){case"dialog":Dr("cancel",ce),Dr("close",ce);break;case"iframe":case"object":case"embed":Dr("load",ce);break;case"video":case"audio":for(xe=0;xe<ma.length;xe++)Dr(ma[xe],ce);break;case"source":Dr("error",ce);break;case"img":case"image":case"link":Dr("error",ce),Dr("load",ce);break;case"details":Dr("toggle",ce);break;case"input":Oe(ce,Re),Dr("invalid",ce);break;case"select":ce._wrapperState={wasMultiple:!!Re.multiple},Dr("invalid",ce);break;case"textarea":Bt(ce,Re),Dr("invalid",ce)}Tt(oe,Re),xe=null;for(var Ve in Re)if(Re.hasOwnProperty(Ve)){var Rt=Re[Ve];Ve==="children"?typeof Rt=="string"?ce.textContent!==Rt&&(Re.suppressHydrationWarning!==!0&&eo(ce.textContent,Rt,j),xe=["children",Rt]):typeof Rt=="number"&&ce.textContent!==""+Rt&&(Re.suppressHydrationWarning!==!0&&eo(ce.textContent,Rt,j),xe=["children",""+Rt]):D.hasOwnProperty(Ve)&&Rt!=null&&Ve==="onScroll"&&Dr("scroll",ce)}switch(oe){case"input":we(ce),ye(ce,Re,!0);break;case"textarea":we(ce),ir(ce);break;case"select":case"option":break;default:typeof Re.onClick=="function"&&(ce.onclick=oo)}ce=xe,ee.updateQueue=ce,ce!==null&&(ee.flags|=4)}else{Ve=xe.nodeType===9?xe:xe.ownerDocument,j==="http://www.w3.org/1999/xhtml"&&(j=Kt(oe)),j==="http://www.w3.org/1999/xhtml"?oe==="script"?(j=Ve.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild)):typeof ce.is=="string"?j=Ve.createElement(oe,{is:ce.is}):(j=Ve.createElement(oe),oe==="select"&&(Ve=j,ce.multiple?Ve.multiple=!0:ce.size&&(Ve.size=ce.size))):j=Ve.createElementNS(j,oe),j[Dn]=ee,j[ya]=ce,Mc(j,ee,!1,!1),ee.stateNode=j;e:{switch(Ve=Ut(oe,ce),oe){case"dialog":Dr("cancel",j),Dr("close",j),xe=ce;break;case"iframe":case"object":case"embed":Dr("load",j),xe=ce;break;case"video":case"audio":for(xe=0;xe<ma.length;xe++)Dr(ma[xe],j);xe=ce;break;case"source":Dr("error",j),xe=ce;break;case"img":case"image":case"link":Dr("error",j),Dr("load",j),xe=ce;break;case"details":Dr("toggle",j),xe=ce;break;case"input":Oe(j,ce),xe=Fe(j,ce),Dr("invalid",j);break;case"option":xe=ce;break;case"select":j._wrapperState={wasMultiple:!!ce.multiple},xe=Ye({},ce,{value:void 0}),Dr("invalid",j);break;case"textarea":Bt(j,ce),xe=St(j,ce),Dr("invalid",j);break;default:xe=ce}Tt(oe,xe),Rt=xe;for(Re in Rt)if(Rt.hasOwnProperty(Re)){var Ft=Rt[Re];Re==="style"?ot(j,Ft):Re==="dangerouslySetInnerHTML"?(Ft=Ft?Ft.__html:void 0,Ft!=null&&gr(j,Ft)):Re==="children"?typeof Ft=="string"?(oe!=="textarea"||Ft!=="")&&dr(j,Ft):typeof Ft=="number"&&dr(j,""+Ft):Re!=="suppressContentEditableWarning"&&Re!=="suppressHydrationWarning"&&Re!=="autoFocus"&&(D.hasOwnProperty(Re)?Ft!=null&&Re==="onScroll"&&Dr("scroll",j):Ft!=null&&he(j,Re,Ft,Ve))}switch(oe){case"input":we(j),ye(j,ce,!1);break;case"textarea":we(j),ir(j);break;case"option":ce.value!=null&&j.setAttribute("value",""+dt(ce.value));break;case"select":j.multiple=!!ce.multiple,Re=ce.value,Re!=null?Ue(j,!!ce.multiple,Re,!1):ce.defaultValue!=null&&Ue(j,!!ce.multiple,ce.defaultValue,!0);break;default:typeof xe.onClick=="function"&&(j.onclick=oo)}switch(oe){case"button":case"input":case"select":case"textarea":ce=!!ce.autoFocus;break e;case"img":ce=!0;break e;default:ce=!1}}ce&&(ee.flags|=4)}ee.ref!==null&&(ee.flags|=512,ee.flags|=2097152)}return ln(ee),null;case 6:if(j&&ee.stateNode!=null)Pc(j,ee,j.memoizedProps,ce);else{if(typeof ce!="string"&&ee.stateNode===null)throw Error(g(166));if(oe=wi(Ea.current),wi(Ln.current),go(ee)){if(ce=ee.stateNode,oe=ee.memoizedProps,ce[Dn]=ee,(Re=ce.nodeValue!==oe)&&(j=bn,j!==null))switch(j.tag){case 3:eo(ce.nodeValue,oe,(j.mode&1)!==0);break;case 5:j.memoizedProps.suppressHydrationWarning!==!0&&eo(ce.nodeValue,oe,(j.mode&1)!==0)}Re&&(ee.flags|=4)}else ce=(oe.nodeType===9?oe:oe.ownerDocument).createTextNode(ce),ce[Dn]=ee,ee.stateNode=ce}return ln(ee),null;case 13:if(Lr(Gr),ce=ee.memoizedState,j===null||j.memoizedState!==null&&j.memoizedState.dehydrated!==null){if(jr&&vn!==null&&ee.mode&1&&!(ee.flags&128))zu(),Ui(),ee.flags|=98560,Re=!1;else if(Re=go(ee),ce!==null&&ce.dehydrated!==null){if(j===null){if(!Re)throw Error(g(318));if(Re=ee.memoizedState,Re=Re!==null?Re.dehydrated:null,!Re)throw Error(g(317));Re[Dn]=ee}else Ui(),!(ee.flags&128)&&(ee.memoizedState=null),ee.flags|=4;ln(ee),Re=!1}else Rn!==null&&(vl(Rn),Rn=null),Re=!0;if(!Re)return ee.flags&65536?ee:null}return ee.flags&128?(ee.lanes=oe,ee):(ce=ce!==null,ce!==(j!==null&&j.memoizedState!==null)&&ce&&(ee.child.flags|=8192,ee.mode&1&&(j===null||Gr.current&1?Kr===0&&(Kr=3):El())),ee.updateQueue!==null&&(ee.flags|=4),ln(ee),null);case 4:return Hi(),ul(j,ee),j===null&&ga(ee.stateNode.containerInfo),ln(ee),null;case 10:return Fs(ee.type._context),ln(ee),null;case 17:return hn(ee.type)&&co(),ln(ee),null;case 19:if(Lr(Gr),Re=ee.memoizedState,Re===null)return ln(ee),null;if(ce=(ee.flags&128)!==0,Ve=Re.rendering,Ve===null)if(ce)Aa(Re,!1);else{if(Kr!==0||j!==null&&j.flags&128)for(j=ee.child;j!==null;){if(Ve=Eo(j),Ve!==null){for(ee.flags|=128,Aa(Re,!1),ce=Ve.updateQueue,ce!==null&&(ee.updateQueue=ce,ee.flags|=4),ee.subtreeFlags=0,ce=oe,oe=ee.child;oe!==null;)Re=oe,j=ce,Re.flags&=14680066,Ve=Re.alternate,Ve===null?(Re.childLanes=0,Re.lanes=j,Re.child=null,Re.subtreeFlags=0,Re.memoizedProps=null,Re.memoizedState=null,Re.updateQueue=null,Re.dependencies=null,Re.stateNode=null):(Re.childLanes=Ve.childLanes,Re.lanes=Ve.lanes,Re.child=Ve.child,Re.subtreeFlags=0,Re.deletions=null,Re.memoizedProps=Ve.memoizedProps,Re.memoizedState=Ve.memoizedState,Re.updateQueue=Ve.updateQueue,Re.type=Ve.type,j=Ve.dependencies,Re.dependencies=j===null?null:{lanes:j.lanes,firstContext:j.firstContext}),oe=oe.sibling;return zr(Gr,Gr.current&1|2),ee.child}j=j.sibling}Re.tail!==null&&Ur()>Vi&&(ee.flags|=128,ce=!0,Aa(Re,!1),ee.lanes=4194304)}else{if(!ce)if(j=Eo(Ve),j!==null){if(ee.flags|=128,ce=!0,oe=j.updateQueue,oe!==null&&(ee.updateQueue=oe,ee.flags|=4),Aa(Re,!0),Re.tail===null&&Re.tailMode==="hidden"&&!Ve.alternate&&!jr)return ln(ee),null}else 2*Ur()-Re.renderingStartTime>Vi&&oe!==1073741824&&(ee.flags|=128,ce=!0,Aa(Re,!1),ee.lanes=4194304);Re.isBackwards?(Ve.sibling=ee.child,ee.child=Ve):(oe=Re.last,oe!==null?oe.sibling=Ve:ee.child=Ve,Re.last=Ve)}return Re.tail!==null?(ee=Re.tail,Re.rendering=ee,Re.tail=ee.sibling,Re.renderingStartTime=Ur(),ee.sibling=null,oe=Gr.current,zr(Gr,ce?oe&1|2:oe&1),ee):(ln(ee),null);case 22:case 23:return xl(),ce=ee.memoizedState!==null,j!==null&&j.memoizedState!==null!==ce&&(ee.flags|=8192),ce&&ee.mode&1?wn&1073741824&&(ln(ee),ee.subtreeFlags&6&&(ee.flags|=8192)):ln(ee),null;case 24:return null;case 25:return null}throw Error(g(156,ee.tag))}function Sd(j,ee){switch(Ps(ee),ee.tag){case 1:return hn(ee.type)&&co(),j=ee.flags,j&65536?(ee.flags=j&-65537|128,ee):null;case 3:return Hi(),Lr(dn),Lr(on),Gs(),j=ee.flags,j&65536&&!(j&128)?(ee.flags=j&-65537|128,ee):null;case 5:return js(ee),null;case 13:if(Lr(Gr),j=ee.memoizedState,j!==null&&j.dehydrated!==null){if(ee.alternate===null)throw Error(g(340));Ui()}return j=ee.flags,j&65536?(ee.flags=j&-65537|128,ee):null;case 19:return Lr(Gr),null;case 4:return Hi(),null;case 10:return Fs(ee.type._context),null;case 22:case 23:return xl(),null;case 24:return null;default:return null}}var Ro=!1,un=!1,Td=typeof WeakSet=="function"?WeakSet:Set,yr=null;function Qi(j,ee){var oe=j.ref;if(oe!==null)if(typeof oe=="function")try{oe(null)}catch(ce){Qr(j,ee,ce)}else oe.current=null}function cl(j,ee,oe){try{oe()}catch(ce){Qr(j,ee,ce)}}var Rc=!1;function Id(j,ee){if(xs=Za,j=cu(),ps(j)){if("selectionStart"in j)var oe={start:j.selectionStart,end:j.selectionEnd};else e:{oe=(oe=j.ownerDocument)&&oe.defaultView||window;var ce=oe.getSelection&&oe.getSelection();if(ce&&ce.rangeCount!==0){oe=ce.anchorNode;var xe=ce.anchorOffset,Re=ce.focusNode;ce=ce.focusOffset;try{oe.nodeType,Re.nodeType}catch{oe=null;break e}var Ve=0,Rt=-1,Ft=-1,Jt=0,sr=0,lr=j,or=null;t:for(;;){for(var mr;lr!==oe||xe!==0&&lr.nodeType!==3||(Rt=Ve+xe),lr!==Re||ce!==0&&lr.nodeType!==3||(Ft=Ve+ce),lr.nodeType===3&&(Ve+=lr.nodeValue.length),(mr=lr.firstChild)!==null;)or=lr,lr=mr;for(;;){if(lr===j)break t;if(or===oe&&++Jt===xe&&(Rt=Ve),or===Re&&++sr===ce&&(Ft=Ve),(mr=lr.nextSibling)!==null)break;lr=or,or=lr.parentNode}lr=mr}oe=Rt===-1||Ft===-1?null:{start:Rt,end:Ft}}else oe=null}oe=oe||{start:0,end:0}}else oe=null;for(Es={focusedElem:j,selectionRange:oe},Za=!1,yr=ee;yr!==null;)if(ee=yr,j=ee.child,(ee.subtreeFlags&1028)!==0&&j!==null)j.return=ee,yr=j;else for(;yr!==null;){ee=yr;try{var wr=ee.alternate;if(ee.flags&1024)switch(ee.tag){case 0:case 11:case 15:break;case 1:if(wr!==null){var xr=wr.memoizedProps,qr=wr.memoizedState,Ht=ee.stateNode,Dt=Ht.getSnapshotBeforeUpdate(ee.elementType===ee.type?xr:Bn(ee.type,xr),qr);Ht.__reactInternalSnapshotBeforeUpdate=Dt}break;case 3:var Yt=ee.stateNode.containerInfo;Yt.nodeType===1?Yt.textContent="":Yt.nodeType===9&&Yt.documentElement&&Yt.removeChild(Yt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(g(163))}}catch(ur){Qr(ee,ee.return,ur)}if(j=ee.sibling,j!==null){j.return=ee.return,yr=j;break}yr=ee.return}return wr=Rc,Rc=!1,wr}function Ma(j,ee,oe){var ce=ee.updateQueue;if(ce=ce!==null?ce.lastEffect:null,ce!==null){var xe=ce=ce.next;do{if((xe.tag&j)===j){var Re=xe.destroy;xe.destroy=void 0,Re!==void 0&&cl(ee,oe,Re)}xe=xe.next}while(xe!==ce)}}function Bo(j,ee){if(ee=ee.updateQueue,ee=ee!==null?ee.lastEffect:null,ee!==null){var oe=ee=ee.next;do{if((oe.tag&j)===j){var ce=oe.create;oe.destroy=ce()}oe=oe.next}while(oe!==ee)}}function fl(j){var ee=j.ref;if(ee!==null){var oe=j.stateNode;switch(j.tag){case 5:j=oe;break;default:j=oe}typeof ee=="function"?ee(j):ee.current=j}}function Bc(j){var ee=j.alternate;ee!==null&&(j.alternate=null,Bc(ee)),j.child=null,j.deletions=null,j.sibling=null,j.tag===5&&(ee=j.stateNode,ee!==null&&(delete ee[Dn],delete ee[ya],delete ee[Is],delete ee[ud],delete ee[cd])),j.stateNode=null,j.return=null,j.dependencies=null,j.memoizedProps=null,j.memoizedState=null,j.pendingProps=null,j.stateNode=null,j.updateQueue=null}function zc(j){return j.tag===5||j.tag===3||j.tag===4}function Nc(j){e:for(;;){for(;j.sibling===null;){if(j.return===null||zc(j.return))return null;j=j.return}for(j.sibling.return=j.return,j=j.sibling;j.tag!==5&&j.tag!==6&&j.tag!==18;){if(j.flags&2||j.child===null||j.tag===4)continue e;j.child.return=j,j=j.child}if(!(j.flags&2))return j.stateNode}}function dl(j,ee,oe){var ce=j.tag;if(ce===5||ce===6)j=j.stateNode,ee?oe.nodeType===8?oe.parentNode.insertBefore(j,ee):oe.insertBefore(j,ee):(oe.nodeType===8?(ee=oe.parentNode,ee.insertBefore(j,oe)):(ee=oe,ee.appendChild(j)),oe=oe._reactRootContainer,oe!=null||ee.onclick!==null||(ee.onclick=oo));else if(ce!==4&&(j=j.child,j!==null))for(dl(j,ee,oe),j=j.sibling;j!==null;)dl(j,ee,oe),j=j.sibling}function hl(j,ee,oe){var ce=j.tag;if(ce===5||ce===6)j=j.stateNode,ee?oe.insertBefore(j,ee):oe.appendChild(j);else if(ce!==4&&(j=j.child,j!==null))for(hl(j,ee,oe),j=j.sibling;j!==null;)hl(j,ee,oe),j=j.sibling}var nn=null,zn=!1;function ui(j,ee,oe){for(oe=oe.child;oe!==null;)Oc(j,ee,oe),oe=oe.sibling}function Oc(j,ee,oe){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(Fa,oe)}catch{}switch(oe.tag){case 5:un||Qi(oe,ee);case 6:var ce=nn,xe=zn;nn=null,ui(j,ee,oe),nn=ce,zn=xe,nn!==null&&(zn?(j=nn,oe=oe.stateNode,j.nodeType===8?j.parentNode.removeChild(oe):j.removeChild(oe)):nn.removeChild(oe.stateNode));break;case 18:nn!==null&&(zn?(j=nn,oe=oe.stateNode,j.nodeType===8?Ts(j.parentNode,oe):j.nodeType===1&&Ts(j,oe),sa(j)):Ts(nn,oe.stateNode));break;case 4:ce=nn,xe=zn,nn=oe.stateNode.containerInfo,zn=!0,ui(j,ee,oe),nn=ce,zn=xe;break;case 0:case 11:case 14:case 15:if(!un&&(ce=oe.updateQueue,ce!==null&&(ce=ce.lastEffect,ce!==null))){xe=ce=ce.next;do{var Re=xe,Ve=Re.destroy;Re=Re.tag,Ve!==void 0&&(Re&2||Re&4)&&cl(oe,ee,Ve),xe=xe.next}while(xe!==ce)}ui(j,ee,oe);break;case 1:if(!un&&(Qi(oe,ee),ce=oe.stateNode,typeof ce.componentWillUnmount=="function"))try{ce.props=oe.memoizedProps,ce.state=oe.memoizedState,ce.componentWillUnmount()}catch(Rt){Qr(oe,ee,Rt)}ui(j,ee,oe);break;case 21:ui(j,ee,oe);break;case 22:oe.mode&1?(un=(ce=un)||oe.memoizedState!==null,ui(j,ee,oe),un=ce):ui(j,ee,oe);break;default:ui(j,ee,oe)}}function Fc(j){var ee=j.updateQueue;if(ee!==null){j.updateQueue=null;var oe=j.stateNode;oe===null&&(oe=j.stateNode=new Td),ee.forEach(function(ce){var xe=Od.bind(null,j,ce);oe.has(ce)||(oe.add(ce),ce.then(xe,xe))})}}function Nn(j,ee){var oe=ee.deletions;if(oe!==null)for(var ce=0;ce<oe.length;ce++){var xe=oe[ce];try{var Re=j,Ve=ee,Rt=Ve;e:for(;Rt!==null;){switch(Rt.tag){case 5:nn=Rt.stateNode,zn=!1;break e;case 3:nn=Rt.stateNode.containerInfo,zn=!0;break e;case 4:nn=Rt.stateNode.containerInfo,zn=!0;break e}Rt=Rt.return}if(nn===null)throw Error(g(160));Oc(Re,Ve,xe),nn=null,zn=!1;var Ft=xe.alternate;Ft!==null&&(Ft.return=null),xe.return=null}catch(Jt){Qr(xe,ee,Jt)}}if(ee.subtreeFlags&12854)for(ee=ee.child;ee!==null;)Dc(ee,j),ee=ee.sibling}function Dc(j,ee){var oe=j.alternate,ce=j.flags;switch(j.tag){case 0:case 11:case 14:case 15:if(Nn(ee,j),Un(j),ce&4){try{Ma(3,j,j.return),Bo(3,j)}catch(xr){Qr(j,j.return,xr)}try{Ma(5,j,j.return)}catch(xr){Qr(j,j.return,xr)}}break;case 1:Nn(ee,j),Un(j),ce&512&&oe!==null&&Qi(oe,oe.return);break;case 5:if(Nn(ee,j),Un(j),ce&512&&oe!==null&&Qi(oe,oe.return),j.flags&32){var xe=j.stateNode;try{dr(xe,"")}catch(xr){Qr(j,j.return,xr)}}if(ce&4&&(xe=j.stateNode,xe!=null)){var Re=j.memoizedProps,Ve=oe!==null?oe.memoizedProps:Re,Rt=j.type,Ft=j.updateQueue;if(j.updateQueue=null,Ft!==null)try{Rt==="input"&&Re.type==="radio"&&Re.name!=null&&Ze(xe,Re),Ut(Rt,Ve);var Jt=Ut(Rt,Re);for(Ve=0;Ve<Ft.length;Ve+=2){var sr=Ft[Ve],lr=Ft[Ve+1];sr==="style"?ot(xe,lr):sr==="dangerouslySetInnerHTML"?gr(xe,lr):sr==="children"?dr(xe,lr):he(xe,sr,lr,Jt)}switch(Rt){case"input":et(xe,Re);break;case"textarea":tr(xe,Re);break;case"select":var or=xe._wrapperState.wasMultiple;xe._wrapperState.wasMultiple=!!Re.multiple;var mr=Re.value;mr!=null?Ue(xe,!!Re.multiple,mr,!1):or!==!!Re.multiple&&(Re.defaultValue!=null?Ue(xe,!!Re.multiple,Re.defaultValue,!0):Ue(xe,!!Re.multiple,Re.multiple?[]:"",!1))}xe[ya]=Re}catch(xr){Qr(j,j.return,xr)}}break;case 6:if(Nn(ee,j),Un(j),ce&4){if(j.stateNode===null)throw Error(g(162));xe=j.stateNode,Re=j.memoizedProps;try{xe.nodeValue=Re}catch(xr){Qr(j,j.return,xr)}}break;case 3:if(Nn(ee,j),Un(j),ce&4&&oe!==null&&oe.memoizedState.isDehydrated)try{sa(ee.containerInfo)}catch(xr){Qr(j,j.return,xr)}break;case 4:Nn(ee,j),Un(j);break;case 13:Nn(ee,j),Un(j),xe=j.child,xe.flags&8192&&(Re=xe.memoizedState!==null,xe.stateNode.isHidden=Re,!Re||xe.alternate!==null&&xe.alternate.memoizedState!==null||(gl=Ur())),ce&4&&Fc(j);break;case 22:if(sr=oe!==null&&oe.memoizedState!==null,j.mode&1?(un=(Jt=un)||sr,Nn(ee,j),un=Jt):Nn(ee,j),Un(j),ce&8192){if(Jt=j.memoizedState!==null,(j.stateNode.isHidden=Jt)&&!sr&&j.mode&1)for(yr=j,sr=j.child;sr!==null;){for(lr=yr=sr;yr!==null;){switch(or=yr,mr=or.child,or.tag){case 0:case 11:case 14:case 15:Ma(4,or,or.return);break;case 1:Qi(or,or.return);var wr=or.stateNode;if(typeof wr.componentWillUnmount=="function"){ce=or,oe=or.return;try{ee=ce,wr.props=ee.memoizedProps,wr.state=ee.memoizedState,wr.componentWillUnmount()}catch(xr){Qr(ce,oe,xr)}}break;case 5:Qi(or,or.return);break;case 22:if(or.memoizedState!==null){Uc(lr);continue}}mr!==null?(mr.return=or,yr=mr):Uc(lr)}sr=sr.sibling}e:for(sr=null,lr=j;;){if(lr.tag===5){if(sr===null){sr=lr;try{xe=lr.stateNode,Jt?(Re=xe.style,typeof Re.setProperty=="function"?Re.setProperty("display","none","important"):Re.display="none"):(Rt=lr.stateNode,Ft=lr.memoizedProps.style,Ve=Ft!=null&&Ft.hasOwnProperty("display")?Ft.display:null,Rt.style.display=fr("display",Ve))}catch(xr){Qr(j,j.return,xr)}}}else if(lr.tag===6){if(sr===null)try{lr.stateNode.nodeValue=Jt?"":lr.memoizedProps}catch(xr){Qr(j,j.return,xr)}}else if((lr.tag!==22&&lr.tag!==23||lr.memoizedState===null||lr===j)&&lr.child!==null){lr.child.return=lr,lr=lr.child;continue}if(lr===j)break e;for(;lr.sibling===null;){if(lr.return===null||lr.return===j)break e;sr===lr&&(sr=null),lr=lr.return}sr===lr&&(sr=null),lr.sibling.return=lr.return,lr=lr.sibling}}break;case 19:Nn(ee,j),Un(j),ce&4&&Fc(j);break;case 21:break;default:Nn(ee,j),Un(j)}}function Un(j){var ee=j.flags;if(ee&2){try{e:{for(var oe=j.return;oe!==null;){if(zc(oe)){var ce=oe;break e}oe=oe.return}throw Error(g(160))}switch(ce.tag){case 5:var xe=ce.stateNode;ce.flags&32&&(dr(xe,""),ce.flags&=-33);var Re=Nc(j);hl(j,Re,xe);break;case 3:case 4:var Ve=ce.stateNode.containerInfo,Rt=Nc(j);dl(j,Rt,Ve);break;default:throw Error(g(161))}}catch(Ft){Qr(j,j.return,Ft)}j.flags&=-3}ee&4096&&(j.flags&=-4097)}function Ad(j,ee,oe){yr=j,Lc(j)}function Lc(j,ee,oe){for(var ce=(j.mode&1)!==0;yr!==null;){var xe=yr,Re=xe.child;if(xe.tag===22&&ce){var Ve=xe.memoizedState!==null||Ro;if(!Ve){var Rt=xe.alternate,Ft=Rt!==null&&Rt.memoizedState!==null||un;Rt=Ro;var Jt=un;if(Ro=Ve,(un=Ft)&&!Jt)for(yr=xe;yr!==null;)Ve=yr,Ft=Ve.child,Ve.tag===22&&Ve.memoizedState!==null?jc(xe):Ft!==null?(Ft.return=Ve,yr=Ft):jc(xe);for(;Re!==null;)yr=Re,Lc(Re),Re=Re.sibling;yr=xe,Ro=Rt,un=Jt}$c(j)}else xe.subtreeFlags&8772&&Re!==null?(Re.return=xe,yr=Re):$c(j)}}function $c(j){for(;yr!==null;){var ee=yr;if(ee.flags&8772){var oe=ee.alternate;try{if(ee.flags&8772)switch(ee.tag){case 0:case 11:case 15:un||Bo(5,ee);break;case 1:var ce=ee.stateNode;if(ee.flags&4&&!un)if(oe===null)ce.componentDidMount();else{var xe=ee.elementType===ee.type?oe.memoizedProps:Bn(ee.type,oe.memoizedProps);ce.componentDidUpdate(xe,oe.memoizedState,ce.__reactInternalSnapshotBeforeUpdate)}var Re=ee.updateQueue;Re!==null&&Uu(ee,Re,ce);break;case 3:var Ve=ee.updateQueue;if(Ve!==null){if(oe=null,ee.child!==null)switch(ee.child.tag){case 5:oe=ee.child.stateNode;break;case 1:oe=ee.child.stateNode}Uu(ee,Ve,oe)}break;case 5:var Rt=ee.stateNode;if(oe===null&&ee.flags&4){oe=Rt;var Ft=ee.memoizedProps;switch(ee.type){case"button":case"input":case"select":case"textarea":Ft.autoFocus&&oe.focus();break;case"img":Ft.src&&(oe.src=Ft.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(ee.memoizedState===null){var Jt=ee.alternate;if(Jt!==null){var sr=Jt.memoizedState;if(sr!==null){var lr=sr.dehydrated;lr!==null&&sa(lr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(g(163))}un||ee.flags&512&&fl(ee)}catch(or){Qr(ee,ee.return,or)}}if(ee===j){yr=null;break}if(oe=ee.sibling,oe!==null){oe.return=ee.return,yr=oe;break}yr=ee.return}}function Uc(j){for(;yr!==null;){var ee=yr;if(ee===j){yr=null;break}var oe=ee.sibling;if(oe!==null){oe.return=ee.return,yr=oe;break}yr=ee.return}}function jc(j){for(;yr!==null;){var ee=yr;try{switch(ee.tag){case 0:case 11:case 15:var oe=ee.return;try{Bo(4,ee)}catch(Ft){Qr(ee,oe,Ft)}break;case 1:var ce=ee.stateNode;if(typeof ce.componentDidMount=="function"){var xe=ee.return;try{ce.componentDidMount()}catch(Ft){Qr(ee,xe,Ft)}}var Re=ee.return;try{fl(ee)}catch(Ft){Qr(ee,Re,Ft)}break;case 5:var Ve=ee.return;try{fl(ee)}catch(Ft){Qr(ee,Ve,Ft)}}}catch(Ft){Qr(ee,ee.return,Ft)}if(ee===j){yr=null;break}var Rt=ee.sibling;if(Rt!==null){Rt.return=ee.return,yr=Rt;break}yr=ee.return}}var Md=Math.ceil,zo=pe.ReactCurrentDispatcher,pl=pe.ReactCurrentOwner,In=pe.ReactCurrentBatchConfig,Cr=0,en=null,Vr=null,an=0,wn=0,qi=ii(0),Kr=0,Ca=null,Ei=0,No=0,ml=0,Pa=null,mn=null,gl=0,Vi=1/0,Vn=null,Oo=!1,_l=null,ci=null,Fo=!1,fi=null,Do=0,Ra=0,yl=null,Lo=-1,$o=0;function fn(){return Cr&6?Ur():Lo!==-1?Lo:Lo=Ur()}function di(j){return j.mode&1?Cr&2&&an!==0?an&-an:dd.transition!==null?($o===0&&($o=Nl()),$o):(j=Rr,j!==0||(j=window.event,j=j===void 0?16:Gl(j.type)),j):1}function On(j,ee,oe,ce){if(50<Ra)throw Ra=0,yl=null,Error(g(185));ra(j,oe,ce),(!(Cr&2)||j!==en)&&(j===en&&(!(Cr&2)&&(No|=oe),Kr===4&&hi(j,an)),gn(j,ce),oe===1&&Cr===0&&!(ee.mode&1)&&(Vi=Ur()+500,ho&&oi()))}function gn(j,ee){var oe=j.callbackNode;df(j,ee);var ce=$a(j,j===en?an:0);if(ce===0)oe!==null&&ea(oe),j.callbackNode=null,j.callbackPriority=0;else if(ee=ce&-ce,j.callbackPriority!==ee){if(oe!=null&&ea(oe),ee===1)j.tag===0?fd(Gc.bind(null,j)):Mu(Gc.bind(null,j)),sd(function(){!(Cr&6)&&oi()}),oe=null;else{switch(Ol(ce)){case 1:oe=Ko;break;case 4:oe=Bl;break;case 16:oe=Oa;break;case 536870912:oe=zl;break;default:oe=Oa}oe=Xc(oe,Zc.bind(null,j))}j.callbackPriority=ee,j.callbackNode=oe}}function Zc(j,ee){if(Lo=-1,$o=0,Cr&6)throw Error(g(327));var oe=j.callbackNode;if(Yi()&&j.callbackNode!==oe)return null;var ce=$a(j,j===en?an:0);if(ce===0)return null;if(ce&30||ce&j.expiredLanes||ee)ee=Uo(j,ce);else{ee=ce;var xe=Cr;Cr|=2;var Re=Wc();(en!==j||an!==ee)&&(Vn=null,Vi=Ur()+500,Si(j,ee));do try{Rd();break}catch(Rt){Hc(j,Rt)}while(!0);Os(),zo.current=Re,Cr=xe,Vr!==null?ee=0:(en=null,an=0,ee=Kr)}if(ee!==0){if(ee===2&&(xe=Xo(j),xe!==0&&(ce=xe,ee=bl(j,xe))),ee===1)throw oe=Ca,Si(j,0),hi(j,ce),gn(j,Ur()),oe;if(ee===6)hi(j,ce);else{if(xe=j.current.alternate,!(ce&30)&&!Cd(xe)&&(ee=Uo(j,ce),ee===2&&(Re=Xo(j),Re!==0&&(ce=Re,ee=bl(j,Re))),ee===1))throw oe=Ca,Si(j,0),hi(j,ce),gn(j,Ur()),oe;switch(j.finishedWork=xe,j.finishedLanes=ce,ee){case 0:case 1:throw Error(g(345));case 2:Ti(j,mn,Vn);break;case 3:if(hi(j,ce),(ce&130023424)===ce&&(ee=gl+500-Ur(),10<ee)){if($a(j,0)!==0)break;if(xe=j.suspendedLanes,(xe&ce)!==ce){fn(),j.pingedLanes|=j.suspendedLanes&xe;break}j.timeoutHandle=Ss(Ti.bind(null,j,mn,Vn),ee);break}Ti(j,mn,Vn);break;case 4:if(hi(j,ce),(ce&4194240)===ce)break;for(ee=j.eventTimes,xe=-1;0<ce;){var Ve=31-Cn(ce);Re=1<<Ve,Ve=ee[Ve],Ve>xe&&(xe=Ve),ce&=~Re}if(ce=xe,ce=Ur()-ce,ce=(120>ce?120:480>ce?480:1080>ce?1080:1920>ce?1920:3e3>ce?3e3:4320>ce?4320:1960*Md(ce/1960))-ce,10<ce){j.timeoutHandle=Ss(Ti.bind(null,j,mn,Vn),ce);break}Ti(j,mn,Vn);break;case 5:Ti(j,mn,Vn);break;default:throw Error(g(329))}}}return gn(j,Ur()),j.callbackNode===oe?Zc.bind(null,j):null}function bl(j,ee){var oe=Pa;return j.current.memoizedState.isDehydrated&&(Si(j,ee).flags|=256),j=Uo(j,ee),j!==2&&(ee=mn,mn=oe,ee!==null&&vl(ee)),j}function vl(j){mn===null?mn=j:mn.push.apply(mn,j)}function Cd(j){for(var ee=j;;){if(ee.flags&16384){var oe=ee.updateQueue;if(oe!==null&&(oe=oe.stores,oe!==null))for(var ce=0;ce<oe.length;ce++){var xe=oe[ce],Re=xe.getSnapshot;xe=xe.value;try{if(!Pn(Re(),xe))return!1}catch{return!1}}}if(oe=ee.child,ee.subtreeFlags&16384&&oe!==null)oe.return=ee,ee=oe;else{if(ee===j)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===j)return!0;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}}return!0}function hi(j,ee){for(ee&=~ml,ee&=~No,j.suspendedLanes|=ee,j.pingedLanes&=~ee,j=j.expirationTimes;0<ee;){var oe=31-Cn(ee),ce=1<<oe;j[oe]=-1,ee&=~ce}}function Gc(j){if(Cr&6)throw Error(g(327));Yi();var ee=$a(j,0);if(!(ee&1))return gn(j,Ur()),null;var oe=Uo(j,ee);if(j.tag!==0&&oe===2){var ce=Xo(j);ce!==0&&(ee=ce,oe=bl(j,ce))}if(oe===1)throw oe=Ca,Si(j,0),hi(j,ee),gn(j,Ur()),oe;if(oe===6)throw Error(g(345));return j.finishedWork=j.current.alternate,j.finishedLanes=ee,Ti(j,mn,Vn),gn(j,Ur()),null}function wl(j,ee){var oe=Cr;Cr|=1;try{return j(ee)}finally{Cr=oe,Cr===0&&(Vi=Ur()+500,ho&&oi())}}function ki(j){fi!==null&&fi.tag===0&&!(Cr&6)&&Yi();var ee=Cr;Cr|=1;var oe=In.transition,ce=Rr;try{if(In.transition=null,Rr=1,j)return j()}finally{Rr=ce,In.transition=oe,Cr=ee,!(Cr&6)&&oi()}}function xl(){wn=qi.current,Lr(qi)}function Si(j,ee){j.finishedWork=null,j.finishedLanes=0;var oe=j.timeoutHandle;if(oe!==-1&&(j.timeoutHandle=-1,od(oe)),Vr!==null)for(oe=Vr.return;oe!==null;){var ce=oe;switch(Ps(ce),ce.tag){case 1:ce=ce.type.childContextTypes,ce!=null&&co();break;case 3:Hi(),Lr(dn),Lr(on),Gs();break;case 5:js(ce);break;case 4:Hi();break;case 13:Lr(Gr);break;case 19:Lr(Gr);break;case 10:Fs(ce.type._context);break;case 22:case 23:xl()}oe=oe.return}if(en=j,Vr=j=pi(j.current,null),an=wn=ee,Kr=0,Ca=null,ml=No=Ei=0,mn=Pa=null,vi!==null){for(ee=0;ee<vi.length;ee++)if(oe=vi[ee],ce=oe.interleaved,ce!==null){oe.interleaved=null;var xe=ce.next,Re=oe.pending;if(Re!==null){var Ve=Re.next;Re.next=xe,ce.next=Ve}oe.pending=ce}vi=null}return j}function Hc(j,ee){do{var oe=Vr;try{if(Os(),ko.current=Ao,So){for(var ce=Hr.memoizedState;ce!==null;){var xe=ce.queue;xe!==null&&(xe.pending=null),ce=ce.next}So=!1}if(xi=0,Jr=Yr=Hr=null,ka=!1,Sa=0,pl.current=null,oe===null||oe.return===null){Kr=1,Ca=ee,Vr=null;break}e:{var Re=j,Ve=oe.return,Rt=oe,Ft=ee;if(ee=an,Rt.flags|=32768,Ft!==null&&typeof Ft=="object"&&typeof Ft.then=="function"){var Jt=Ft,sr=Rt,lr=sr.tag;if(!(sr.mode&1)&&(lr===0||lr===11||lr===15)){var or=sr.alternate;or?(sr.updateQueue=or.updateQueue,sr.memoizedState=or.memoizedState,sr.lanes=or.lanes):(sr.updateQueue=null,sr.memoizedState=null)}var mr=gc(Ve);if(mr!==null){mr.flags&=-257,_c(mr,Ve,Rt,Re,ee),mr.mode&1&&mc(Re,Jt,ee),ee=mr,Ft=Jt;var wr=ee.updateQueue;if(wr===null){var xr=new Set;xr.add(Ft),ee.updateQueue=xr}else wr.add(Ft);break e}else{if(!(ee&1)){mc(Re,Jt,ee),El();break e}Ft=Error(g(426))}}else if(jr&&Rt.mode&1){var qr=gc(Ve);if(qr!==null){!(qr.flags&65536)&&(qr.flags|=256),_c(qr,Ve,Rt,Re,ee),zs(Wi(Ft,Rt));break e}}Re=Ft=Wi(Ft,Rt),Kr!==4&&(Kr=2),Pa===null?Pa=[Re]:Pa.push(Re),Re=Ve;do{switch(Re.tag){case 3:Re.flags|=65536,ee&=-ee,Re.lanes|=ee;var Ht=hc(Re,Ft,ee);$u(Re,Ht);break e;case 1:Rt=Ft;var Dt=Re.type,Yt=Re.stateNode;if(!(Re.flags&128)&&(typeof Dt.getDerivedStateFromError=="function"||Yt!==null&&typeof Yt.componentDidCatch=="function"&&(ci===null||!ci.has(Yt)))){Re.flags|=65536,ee&=-ee,Re.lanes|=ee;var ur=pc(Re,Rt,ee);$u(Re,ur);break e}}Re=Re.return}while(Re!==null)}qc(oe)}catch(Er){ee=Er,Vr===oe&&oe!==null&&(Vr=oe=oe.return);continue}break}while(!0)}function Wc(){var j=zo.current;return zo.current=Ao,j===null?Ao:j}function El(){(Kr===0||Kr===3||Kr===2)&&(Kr=4),en===null||!(Ei&268435455)&&!(No&268435455)||hi(en,an)}function Uo(j,ee){var oe=Cr;Cr|=2;var ce=Wc();(en!==j||an!==ee)&&(Vn=null,Si(j,ee));do try{Pd();break}catch(xe){Hc(j,xe)}while(!0);if(Os(),Cr=oe,zo.current=ce,Vr!==null)throw Error(g(261));return en=null,an=0,Kr}function Pd(){for(;Vr!==null;)Qc(Vr)}function Rd(){for(;Vr!==null&&!za();)Qc(Vr)}function Qc(j){var ee=Kc(j.alternate,j,wn);j.memoizedProps=j.pendingProps,ee===null?qc(j):Vr=ee,pl.current=null}function qc(j){var ee=j;do{var oe=ee.alternate;if(j=ee.return,ee.flags&32768){if(oe=Sd(oe,ee),oe!==null){oe.flags&=32767,Vr=oe;return}if(j!==null)j.flags|=32768,j.subtreeFlags=0,j.deletions=null;else{Kr=6,Vr=null;return}}else if(oe=kd(oe,ee,wn),oe!==null){Vr=oe;return}if(ee=ee.sibling,ee!==null){Vr=ee;return}Vr=ee=j}while(ee!==null);Kr===0&&(Kr=5)}function Ti(j,ee,oe){var ce=Rr,xe=In.transition;try{In.transition=null,Rr=1,Bd(j,ee,oe,ce)}finally{In.transition=xe,Rr=ce}return null}function Bd(j,ee,oe,ce){do Yi();while(fi!==null);if(Cr&6)throw Error(g(327));oe=j.finishedWork;var xe=j.finishedLanes;if(oe===null)return null;if(j.finishedWork=null,j.finishedLanes=0,oe===j.current)throw Error(g(177));j.callbackNode=null,j.callbackPriority=0;var Re=oe.lanes|oe.childLanes;if(hf(j,Re),j===en&&(Vr=en=null,an=0),!(oe.subtreeFlags&2064)&&!(oe.flags&2064)||Fo||(Fo=!0,Xc(Oa,function(){return Yi(),null})),Re=(oe.flags&15990)!==0,oe.subtreeFlags&15990||Re){Re=In.transition,In.transition=null;var Ve=Rr;Rr=1;var Rt=Cr;Cr|=4,pl.current=null,Id(j,oe),Dc(oe,j),Jf(Es),Za=!!xs,Es=xs=null,j.current=oe,Ad(oe),Na(),Cr=Rt,Rr=Ve,In.transition=Re}else j.current=oe;if(Fo&&(Fo=!1,fi=j,Do=xe),Re=j.pendingLanes,Re===0&&(ci=null),sf(oe.stateNode),gn(j,Ur()),ee!==null)for(ce=j.onRecoverableError,oe=0;oe<ee.length;oe++)xe=ee[oe],ce(xe.value,{componentStack:xe.stack,digest:xe.digest});if(Oo)throw Oo=!1,j=_l,_l=null,j;return Do&1&&j.tag!==0&&Yi(),Re=j.pendingLanes,Re&1?j===yl?Ra++:(Ra=0,yl=j):Ra=0,oi(),null}function Yi(){if(fi!==null){var j=Ol(Do),ee=In.transition,oe=Rr;try{if(In.transition=null,Rr=16>j?16:j,fi===null)var ce=!1;else{if(j=fi,fi=null,Do=0,Cr&6)throw Error(g(331));var xe=Cr;for(Cr|=4,yr=j.current;yr!==null;){var Re=yr,Ve=Re.child;if(yr.flags&16){var Rt=Re.deletions;if(Rt!==null){for(var Ft=0;Ft<Rt.length;Ft++){var Jt=Rt[Ft];for(yr=Jt;yr!==null;){var sr=yr;switch(sr.tag){case 0:case 11:case 15:Ma(8,sr,Re)}var lr=sr.child;if(lr!==null)lr.return=sr,yr=lr;else for(;yr!==null;){sr=yr;var or=sr.sibling,mr=sr.return;if(Bc(sr),sr===Jt){yr=null;break}if(or!==null){or.return=mr,yr=or;break}yr=mr}}}var wr=Re.alternate;if(wr!==null){var xr=wr.child;if(xr!==null){wr.child=null;do{var qr=xr.sibling;xr.sibling=null,xr=qr}while(xr!==null)}}yr=Re}}if(Re.subtreeFlags&2064&&Ve!==null)Ve.return=Re,yr=Ve;else e:for(;yr!==null;){if(Re=yr,Re.flags&2048)switch(Re.tag){case 0:case 11:case 15:Ma(9,Re,Re.return)}var Ht=Re.sibling;if(Ht!==null){Ht.return=Re.return,yr=Ht;break e}yr=Re.return}}var Dt=j.current;for(yr=Dt;yr!==null;){Ve=yr;var Yt=Ve.child;if(Ve.subtreeFlags&2064&&Yt!==null)Yt.return=Ve,yr=Yt;else e:for(Ve=Dt;yr!==null;){if(Rt=yr,Rt.flags&2048)try{switch(Rt.tag){case 0:case 11:case 15:Bo(9,Rt)}}catch(Er){Qr(Rt,Rt.return,Er)}if(Rt===Ve){yr=null;break e}var ur=Rt.sibling;if(ur!==null){ur.return=Rt.return,yr=ur;break e}yr=Rt.return}}if(Cr=xe,oi(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(Fa,j)}catch{}ce=!0}return ce}finally{Rr=oe,In.transition=ee}}return!1}function Vc(j,ee,oe){ee=Wi(oe,ee),ee=hc(j,ee,1),j=li(j,ee,1),ee=fn(),j!==null&&(ra(j,1,ee),gn(j,ee))}function Qr(j,ee,oe){if(j.tag===3)Vc(j,j,oe);else for(;ee!==null;){if(ee.tag===3){Vc(ee,j,oe);break}else if(ee.tag===1){var ce=ee.stateNode;if(typeof ee.type.getDerivedStateFromError=="function"||typeof ce.componentDidCatch=="function"&&(ci===null||!ci.has(ce))){j=Wi(oe,j),j=pc(ee,j,1),ee=li(ee,j,1),j=fn(),ee!==null&&(ra(ee,1,j),gn(ee,j));break}}ee=ee.return}}function zd(j,ee,oe){var ce=j.pingCache;ce!==null&&ce.delete(ee),ee=fn(),j.pingedLanes|=j.suspendedLanes&oe,en===j&&(an&oe)===oe&&(Kr===4||Kr===3&&(an&130023424)===an&&500>Ur()-gl?Si(j,0):ml|=oe),gn(j,ee)}function Yc(j,ee){ee===0&&(j.mode&1?(ee=La,La<<=1,!(La&130023424)&&(La=4194304)):ee=1);var oe=fn();j=Wn(j,ee),j!==null&&(ra(j,ee,oe),gn(j,oe))}function Nd(j){var ee=j.memoizedState,oe=0;ee!==null&&(oe=ee.retryLane),Yc(j,oe)}function Od(j,ee){var oe=0;switch(j.tag){case 13:var ce=j.stateNode,xe=j.memoizedState;xe!==null&&(oe=xe.retryLane);break;case 19:ce=j.stateNode;break;default:throw Error(g(314))}ce!==null&&ce.delete(ee),Yc(j,oe)}var Kc;Kc=function(j,ee,oe){if(j!==null)if(j.memoizedProps!==ee.pendingProps||dn.current)pn=!0;else{if(!(j.lanes&oe)&&!(ee.flags&128))return pn=!1,Ed(j,ee,oe);pn=!!(j.flags&131072)}else pn=!1,jr&&ee.flags&1048576&&Cu(ee,mo,ee.index);switch(ee.lanes=0,ee.tag){case 2:var ce=ee.type;Po(j,ee),j=ee.pendingProps;var xe=Di(ee,on.current);Gi(ee,oe),xe=Qs(null,ee,ce,j,xe,oe);var Re=qs();return ee.flags|=1,typeof xe=="object"&&xe!==null&&typeof xe.render=="function"&&xe.$$typeof===void 0?(ee.tag=1,ee.memoizedState=null,ee.updateQueue=null,hn(ce)?(Re=!0,fo(ee)):Re=!1,ee.memoizedState=xe.state!==null&&xe.state!==void 0?xe.state:null,$s(ee),xe.updater=Mo,ee.stateNode=xe,xe._reactInternals=ee,el(ee,ce,j,oe),ee=il(null,ee,ce,!0,Re,oe)):(ee.tag=0,jr&&Re&&Cs(ee),cn(null,ee,xe,oe),ee=ee.child),ee;case 16:ce=ee.elementType;e:{switch(Po(j,ee),j=ee.pendingProps,xe=ce._init,ce=xe(ce._payload),ee.type=ce,xe=ee.tag=Dd(ce),j=Bn(ce,j),xe){case 0:ee=nl(null,ee,ce,j,oe);break e;case 1:ee=Ec(null,ee,ce,j,oe);break e;case 11:ee=yc(null,ee,ce,j,oe);break e;case 14:ee=bc(null,ee,ce,Bn(ce.type,j),oe);break e}throw Error(g(306,ce,""))}return ee;case 0:return ce=ee.type,xe=ee.pendingProps,xe=ee.elementType===ce?xe:Bn(ce,xe),nl(j,ee,ce,xe,oe);case 1:return ce=ee.type,xe=ee.pendingProps,xe=ee.elementType===ce?xe:Bn(ce,xe),Ec(j,ee,ce,xe,oe);case 3:e:{if(kc(ee),j===null)throw Error(g(387));ce=ee.pendingProps,Re=ee.memoizedState,xe=Re.element,Lu(j,ee),xo(ee,ce,null,oe);var Ve=ee.memoizedState;if(ce=Ve.element,Re.isDehydrated)if(Re={element:ce,isDehydrated:!1,cache:Ve.cache,pendingSuspenseBoundaries:Ve.pendingSuspenseBoundaries,transitions:Ve.transitions},ee.updateQueue.baseState=Re,ee.memoizedState=Re,ee.flags&256){xe=Wi(Error(g(423)),ee),ee=Sc(j,ee,ce,oe,xe);break e}else if(ce!==xe){xe=Wi(Error(g(424)),ee),ee=Sc(j,ee,ce,oe,xe);break e}else for(vn=ni(ee.stateNode.containerInfo.firstChild),bn=ee,jr=!0,Rn=null,oe=Fu(ee,null,ce,oe),ee.child=oe;oe;)oe.flags=oe.flags&-3|4096,oe=oe.sibling;else{if(Ui(),ce===xe){ee=qn(j,ee,oe);break e}cn(j,ee,ce,oe)}ee=ee.child}return ee;case 5:return ju(ee),j===null&&Bs(ee),ce=ee.type,xe=ee.pendingProps,Re=j!==null?j.memoizedProps:null,Ve=xe.children,ks(ce,xe)?Ve=null:Re!==null&&ks(ce,Re)&&(ee.flags|=32),xc(j,ee),cn(j,ee,Ve,oe),ee.child;case 6:return j===null&&Bs(ee),null;case 13:return Tc(j,ee,oe);case 4:return Us(ee,ee.stateNode.containerInfo),ce=ee.pendingProps,j===null?ee.child=ji(ee,null,ce,oe):cn(j,ee,ce,oe),ee.child;case 11:return ce=ee.type,xe=ee.pendingProps,xe=ee.elementType===ce?xe:Bn(ce,xe),yc(j,ee,ce,xe,oe);case 7:return cn(j,ee,ee.pendingProps,oe),ee.child;case 8:return cn(j,ee,ee.pendingProps.children,oe),ee.child;case 12:return cn(j,ee,ee.pendingProps.children,oe),ee.child;case 10:e:{if(ce=ee.type._context,xe=ee.pendingProps,Re=ee.memoizedProps,Ve=xe.value,zr(bo,ce._currentValue),ce._currentValue=Ve,Re!==null)if(Pn(Re.value,Ve)){if(Re.children===xe.children&&!dn.current){ee=qn(j,ee,oe);break e}}else for(Re=ee.child,Re!==null&&(Re.return=ee);Re!==null;){var Rt=Re.dependencies;if(Rt!==null){Ve=Re.child;for(var Ft=Rt.firstContext;Ft!==null;){if(Ft.context===ce){if(Re.tag===1){Ft=Qn(-1,oe&-oe),Ft.tag=2;var Jt=Re.updateQueue;if(Jt!==null){Jt=Jt.shared;var sr=Jt.pending;sr===null?Ft.next=Ft:(Ft.next=sr.next,sr.next=Ft),Jt.pending=Ft}}Re.lanes|=oe,Ft=Re.alternate,Ft!==null&&(Ft.lanes|=oe),Ds(Re.return,oe,ee),Rt.lanes|=oe;break}Ft=Ft.next}}else if(Re.tag===10)Ve=Re.type===ee.type?null:Re.child;else if(Re.tag===18){if(Ve=Re.return,Ve===null)throw Error(g(341));Ve.lanes|=oe,Rt=Ve.alternate,Rt!==null&&(Rt.lanes|=oe),Ds(Ve,oe,ee),Ve=Re.sibling}else Ve=Re.child;if(Ve!==null)Ve.return=Re;else for(Ve=Re;Ve!==null;){if(Ve===ee){Ve=null;break}if(Re=Ve.sibling,Re!==null){Re.return=Ve.return,Ve=Re;break}Ve=Ve.return}Re=Ve}cn(j,ee,xe.children,oe),ee=ee.child}return ee;case 9:return xe=ee.type,ce=ee.pendingProps.children,Gi(ee,oe),xe=Sn(xe),ce=ce(xe),ee.flags|=1,cn(j,ee,ce,oe),ee.child;case 14:return ce=ee.type,xe=Bn(ce,ee.pendingProps),xe=Bn(ce.type,xe),bc(j,ee,ce,xe,oe);case 15:return vc(j,ee,ee.type,ee.pendingProps,oe);case 17:return ce=ee.type,xe=ee.pendingProps,xe=ee.elementType===ce?xe:Bn(ce,xe),Po(j,ee),ee.tag=1,hn(ce)?(j=!0,fo(ee)):j=!1,Gi(ee,oe),fc(ee,ce,xe),el(ee,ce,xe,oe),il(null,ee,ce,!0,j,oe);case 19:return Ac(j,ee,oe);case 22:return wc(j,ee,oe)}throw Error(g(156,ee.tag))};function Xc(j,ee){return Ji(j,ee)}function Fd(j,ee,oe,ce){this.tag=j,this.key=oe,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=ee,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ce,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(j,ee,oe,ce){return new Fd(j,ee,oe,ce)}function kl(j){return j=j.prototype,!(!j||!j.isReactComponent)}function Dd(j){if(typeof j=="function")return kl(j)?1:0;if(j!=null){if(j=j.$$typeof,j===Te)return 11;if(j===Ce)return 14}return 2}function pi(j,ee){var oe=j.alternate;return oe===null?(oe=An(j.tag,ee,j.key,j.mode),oe.elementType=j.elementType,oe.type=j.type,oe.stateNode=j.stateNode,oe.alternate=j,j.alternate=oe):(oe.pendingProps=ee,oe.type=j.type,oe.flags=0,oe.subtreeFlags=0,oe.deletions=null),oe.flags=j.flags&14680064,oe.childLanes=j.childLanes,oe.lanes=j.lanes,oe.child=j.child,oe.memoizedProps=j.memoizedProps,oe.memoizedState=j.memoizedState,oe.updateQueue=j.updateQueue,ee=j.dependencies,oe.dependencies=ee===null?null:{lanes:ee.lanes,firstContext:ee.firstContext},oe.sibling=j.sibling,oe.index=j.index,oe.ref=j.ref,oe}function jo(j,ee,oe,ce,xe,Re){var Ve=2;if(ce=j,typeof j=="function")kl(j)&&(Ve=1);else if(typeof j=="string")Ve=5;else e:switch(j){case be:return Ii(oe.children,xe,Re,ee);case Se:Ve=8,xe|=8;break;case Ee:return j=An(12,oe,ee,xe|2),j.elementType=Ee,j.lanes=Re,j;case Le:return j=An(13,oe,ee,xe),j.elementType=Le,j.lanes=Re,j;case Be:return j=An(19,oe,ee,xe),j.elementType=Be,j.lanes=Re,j;case Ke:return Zo(oe,xe,Re,ee);default:if(typeof j=="object"&&j!==null)switch(j.$$typeof){case Ie:Ve=10;break e;case _e:Ve=9;break e;case Te:Ve=11;break e;case Ce:Ve=14;break e;case ze:Ve=16,ce=null;break e}throw Error(g(130,j==null?j:typeof j,""))}return ee=An(Ve,oe,ee,xe),ee.elementType=j,ee.type=ce,ee.lanes=Re,ee}function Ii(j,ee,oe,ce){return j=An(7,j,ce,ee),j.lanes=oe,j}function Zo(j,ee,oe,ce){return j=An(22,j,ce,ee),j.elementType=Ke,j.lanes=oe,j.stateNode={isHidden:!1},j}function Sl(j,ee,oe){return j=An(6,j,null,ee),j.lanes=oe,j}function Tl(j,ee,oe){return ee=An(4,j.children!==null?j.children:[],j.key,ee),ee.lanes=oe,ee.stateNode={containerInfo:j.containerInfo,pendingChildren:null,implementation:j.implementation},ee}function Ld(j,ee,oe,ce,xe){this.tag=ee,this.containerInfo=j,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jo(0),this.expirationTimes=Jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jo(0),this.identifierPrefix=ce,this.onRecoverableError=xe,this.mutableSourceEagerHydrationData=null}function Il(j,ee,oe,ce,xe,Re,Ve,Rt,Ft){return j=new Ld(j,ee,oe,Rt,Ft),ee===1?(ee=1,Re===!0&&(ee|=8)):ee=0,Re=An(3,null,null,ee),j.current=Re,Re.stateNode=j,Re.memoizedState={element:ce,isDehydrated:oe,cache:null,transitions:null,pendingSuspenseBoundaries:null},$s(Re),j}function $d(j,ee,oe){var ce=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ke,key:ce==null?null:""+ce,children:j,containerInfo:ee,implementation:oe}}function Jc(j){if(!j)return ai;j=j._reactInternals;e:{if(Zr(j)!==j||j.tag!==1)throw Error(g(170));var ee=j;do{switch(ee.tag){case 3:ee=ee.stateNode.context;break e;case 1:if(hn(ee.type)){ee=ee.stateNode.__reactInternalMemoizedMergedChildContext;break e}}ee=ee.return}while(ee!==null);throw Error(g(171))}if(j.tag===1){var oe=j.type;if(hn(oe))return Iu(j,oe,ee)}return ee}function ef(j,ee,oe,ce,xe,Re,Ve,Rt,Ft){return j=Il(oe,ce,!0,j,xe,Re,Ve,Rt,Ft),j.context=Jc(null),oe=j.current,ce=fn(),xe=di(oe),Re=Qn(ce,xe),Re.callback=ee??null,li(oe,Re,xe),j.current.lanes=xe,ra(j,xe,ce),gn(j,ce),j}function Go(j,ee,oe,ce){var xe=ee.current,Re=fn(),Ve=di(xe);return oe=Jc(oe),ee.context===null?ee.context=oe:ee.pendingContext=oe,ee=Qn(Re,Ve),ee.payload={element:j},ce=ce===void 0?null:ce,ce!==null&&(ee.callback=ce),j=li(xe,ee,Ve),j!==null&&(On(j,xe,Ve,Re),wo(j,xe,Ve)),Ve}function Ho(j){if(j=j.current,!j.child)return null;switch(j.child.tag){case 5:return j.child.stateNode;default:return j.child.stateNode}}function tf(j,ee){if(j=j.memoizedState,j!==null&&j.dehydrated!==null){var oe=j.retryLane;j.retryLane=oe!==0&&oe<ee?oe:ee}}function Al(j,ee){tf(j,ee),(j=j.alternate)&&tf(j,ee)}var rf=typeof reportError=="function"?reportError:function(j){console.error(j)};function Ml(j){this._internalRoot=j}Wo.prototype.render=Ml.prototype.render=function(j){var ee=this._internalRoot;if(ee===null)throw Error(g(409));Go(j,ee,null,null)},Wo.prototype.unmount=Ml.prototype.unmount=function(){var j=this._internalRoot;if(j!==null){this._internalRoot=null;var ee=j.containerInfo;ki(function(){Go(null,j,null,null)}),ee[jn]=null}};function Wo(j){this._internalRoot=j}Wo.prototype.unstable_scheduleHydration=function(j){if(j){var ee=Ll();j={blockedOn:null,target:j,priority:ee};for(var oe=0;oe<ei.length&&ee!==0&&ee<ei[oe].priority;oe++);ei.splice(oe,0,j),oe===0&&jl(j)}};function Cl(j){return!(!j||j.nodeType!==1&&j.nodeType!==9&&j.nodeType!==11)}function Qo(j){return!(!j||j.nodeType!==1&&j.nodeType!==9&&j.nodeType!==11&&(j.nodeType!==8||j.nodeValue!==" react-mount-point-unstable "))}function nf(){}function Ud(j,ee,oe,ce,xe){if(xe){if(typeof ce=="function"){var Re=ce;ce=function(){var Jt=Ho(Ve);Re.call(Jt)}}var Ve=ef(ee,ce,j,0,null,!1,!1,"",nf);return j._reactRootContainer=Ve,j[jn]=Ve.current,ga(j.nodeType===8?j.parentNode:j),ki(),Ve}for(;xe=j.lastChild;)j.removeChild(xe);if(typeof ce=="function"){var Rt=ce;ce=function(){var Jt=Ho(Ft);Rt.call(Jt)}}var Ft=Il(j,0,!1,null,null,!1,!1,"",nf);return j._reactRootContainer=Ft,j[jn]=Ft.current,ga(j.nodeType===8?j.parentNode:j),ki(function(){Go(ee,Ft,oe,ce)}),Ft}function qo(j,ee,oe,ce,xe){var Re=oe._reactRootContainer;if(Re){var Ve=Re;if(typeof xe=="function"){var Rt=xe;xe=function(){var Ft=Ho(Ve);Rt.call(Ft)}}Go(ee,Ve,j,xe)}else Ve=Ud(oe,ee,j,xe,ce);return Ho(Ve)}Fl=function(j){switch(j.tag){case 3:var ee=j.stateNode;if(ee.current.memoizedState.isDehydrated){var oe=ta(ee.pendingLanes);oe!==0&&(es(ee,oe|1),gn(ee,Ur()),!(Cr&6)&&(Vi=Ur()+500,oi()))}break;case 13:ki(function(){var ce=Wn(j,1);if(ce!==null){var xe=fn();On(ce,j,1,xe)}}),Al(j,1)}},ts=function(j){if(j.tag===13){var ee=Wn(j,134217728);if(ee!==null){var oe=fn();On(ee,j,134217728,oe)}Al(j,134217728)}},Dl=function(j){if(j.tag===13){var ee=di(j),oe=Wn(j,ee);if(oe!==null){var ce=fn();On(oe,j,ee,ce)}Al(j,ee)}},Ll=function(){return Rr},$l=function(j,ee){var oe=Rr;try{return Rr=j,ee()}finally{Rr=oe}},br=function(j,ee,oe){switch(ee){case"input":if(et(j,oe),ee=oe.name,oe.type==="radio"&&ee!=null){for(oe=j;oe.parentNode;)oe=oe.parentNode;for(oe=oe.querySelectorAll("input[name="+JSON.stringify(""+ee)+'][type="radio"]'),ee=0;ee<oe.length;ee++){var ce=oe[ee];if(ce!==j&&ce.form===j.form){var xe=uo(ce);if(!xe)throw Error(g(90));qe(ce),et(ce,xe)}}}break;case"textarea":tr(j,oe);break;case"select":ee=oe.value,ee!=null&&Ue(j,!!oe.multiple,ee,!1)}},jt=wl,_r=ki;var jd={usingClientEntryPoint:!1,Events:[ba,Oi,uo,ft,$t,wl]},Ba={findFiberByHostInstance:gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zd={bundleType:Ba.bundleType,version:Ba.version,rendererPackageName:Ba.rendererPackageName,rendererConfig:Ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(j){return j=Ki(j),j===null?null:j.stateNode},findFiberByHostInstance:Ba.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{Fa=Vo.inject(Zd),Fn=Vo}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jd,reactDom_production_min.createPortal=function(j,ee){var oe=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cl(ee))throw Error(g(200));return $d(j,ee,null,oe)},reactDom_production_min.createRoot=function(j,ee){if(!Cl(j))throw Error(g(299));var oe=!1,ce="",xe=rf;return ee!=null&&(ee.unstable_strictMode===!0&&(oe=!0),ee.identifierPrefix!==void 0&&(ce=ee.identifierPrefix),ee.onRecoverableError!==void 0&&(xe=ee.onRecoverableError)),ee=Il(j,1,!1,null,null,oe,!1,ce,xe),j[jn]=ee.current,ga(j.nodeType===8?j.parentNode:j),new Ml(ee)},reactDom_production_min.findDOMNode=function(j){if(j==null)return null;if(j.nodeType===1)return j;var ee=j._reactInternals;if(ee===void 0)throw typeof j.render=="function"?Error(g(188)):(j=Object.keys(j).join(","),Error(g(268,j)));return j=Ki(ee),j=j===null?null:j.stateNode,j},reactDom_production_min.flushSync=function(j){return ki(j)},reactDom_production_min.hydrate=function(j,ee,oe){if(!Qo(ee))throw Error(g(200));return qo(null,j,ee,!0,oe)},reactDom_production_min.hydrateRoot=function(j,ee,oe){if(!Cl(j))throw Error(g(405));var ce=oe!=null&&oe.hydratedSources||null,xe=!1,Re="",Ve=rf;if(oe!=null&&(oe.unstable_strictMode===!0&&(xe=!0),oe.identifierPrefix!==void 0&&(Re=oe.identifierPrefix),oe.onRecoverableError!==void 0&&(Ve=oe.onRecoverableError)),ee=ef(ee,null,j,1,oe??null,xe,!1,Re,Ve),j[jn]=ee.current,ga(j),ce)for(j=0;j<ce.length;j++)oe=ce[j],xe=oe._getVersion,xe=xe(oe._source),ee.mutableSourceEagerHydrationData==null?ee.mutableSourceEagerHydrationData=[oe,xe]:ee.mutableSourceEagerHydrationData.push(oe,xe);return new Wo(ee)},reactDom_production_min.render=function(j,ee,oe){if(!Qo(ee))throw Error(g(200));return qo(null,j,ee,!1,oe)},reactDom_production_min.unmountComponentAtNode=function(j){if(!Qo(j))throw Error(g(40));return j._reactRootContainer?(ki(function(){qo(null,null,j,!1,function(){j._reactRootContainer=null,j[jn]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=wl,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(j,ee,oe,ce){if(!Qo(oe))throw Error(g(200));if(j==null||j._reactInternals===void 0)throw Error(g(38));return qo(j,ee,oe,!1,ce)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(m){console.error(m)}}return d(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var d=requireReactDom();return client.createRoot=d.createRoot,client.hydrateRoot=d.hydrateRoot,client}var clientExports=requireClient(),reactExports=requireReact();const ct=getDefaultExportFromCjs$1(reactExports);var reactFastCompare,hasRequiredReactFastCompare;function requireReactFastCompare(){if(hasRequiredReactFastCompare)return reactFastCompare;hasRequiredReactFastCompare=1;var d=typeof Element<"u",m=typeof Map=="function",g=typeof Set=="function",w=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function D(H,q){if(H===q)return!0;if(H&&q&&typeof H=="object"&&typeof q=="object"){if(H.constructor!==q.constructor)return!1;var te,re,ne;if(Array.isArray(H)){if(te=H.length,te!=q.length)return!1;for(re=te;re--!==0;)if(!D(H[re],q[re]))return!1;return!0}var ie;if(m&&H instanceof Map&&q instanceof Map){if(H.size!==q.size)return!1;for(ie=H.entries();!(re=ie.next()).done;)if(!q.has(re.value[0]))return!1;for(ie=H.entries();!(re=ie.next()).done;)if(!D(re.value[1],q.get(re.value[0])))return!1;return!0}if(g&&H instanceof Set&&q instanceof Set){if(H.size!==q.size)return!1;for(ie=H.entries();!(re=ie.next()).done;)if(!q.has(re.value[0]))return!1;return!0}if(w&&ArrayBuffer.isView(H)&&ArrayBuffer.isView(q)){if(te=H.length,te!=q.length)return!1;for(re=te;re--!==0;)if(H[re]!==q[re])return!1;return!0}if(H.constructor===RegExp)return H.source===q.source&&H.flags===q.flags;if(H.valueOf!==Object.prototype.valueOf&&typeof H.valueOf=="function"&&typeof q.valueOf=="function")return H.valueOf()===q.valueOf();if(H.toString!==Object.prototype.toString&&typeof H.toString=="function"&&typeof q.toString=="function")return H.toString()===q.toString();if(ne=Object.keys(H),te=ne.length,te!==Object.keys(q).length)return!1;for(re=te;re--!==0;)if(!Object.prototype.hasOwnProperty.call(q,ne[re]))return!1;if(d&&H instanceof Element)return!1;for(re=te;re--!==0;)if(!((ne[re]==="_owner"||ne[re]==="__v"||ne[re]==="__o")&&H.$$typeof)&&!D(H[ne[re]],q[ne[re]]))return!1;return!0}return H!==H&&q!==q}return reactFastCompare=function(q,te){try{return D(q,te)}catch(re){if((re.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw re}},reactFastCompare}var reactFastCompareExports=requireReactFastCompare();const fastCompare=getDefaultExportFromCjs$1(reactFastCompareExports);var browser$2,hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$2;hasRequiredBrowser=1;var d=function(m,g,w,D,H,q,te,re){if(!m){var ne;if(g===void 0)ne=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var ie=[w,D,H,q,te,re],ae=0;ne=new Error(g.replace(/%s/g,function(){return ie[ae++]})),ne.name="Invariant Violation"}throw ne.framesToPop=1,ne}};return browser$2=d,browser$2}var browserExports$1=requireBrowser();const invariant=getDefaultExportFromCjs$1(browserExports$1);var shallowequal,hasRequiredShallowequal;function requireShallowequal(){return hasRequiredShallowequal||(hasRequiredShallowequal=1,shallowequal=function(m,g,w,D){var H=w?w.call(D,m,g):void 0;if(H!==void 0)return!!H;if(m===g)return!0;if(typeof m!="object"||!m||typeof g!="object"||!g)return!1;var q=Object.keys(m),te=Object.keys(g);if(q.length!==te.length)return!1;for(var re=Object.prototype.hasOwnProperty.bind(g),ne=0;ne<q.length;ne++){var ie=q[ne];if(!re(ie))return!1;var ae=m[ie],se=g[ie];if(H=w?w.call(D,ae,se,ie):void 0,H===!1||H===void 0&&ae!==se)return!1}return!0}),shallowequal}var shallowequalExports=requireShallowequal();const shallowEqual=getDefaultExportFromCjs$1(shallowequalExports);var TAG_NAMES=(d=>(d.BASE="base",d.BODY="body",d.HEAD="head",d.HTML="html",d.LINK="link",d.META="meta",d.NOSCRIPT="noscript",d.SCRIPT="script",d.STYLE="style",d.TITLE="title",d.FRAGMENT="Symbol(react.fragment)",d))(TAG_NAMES||{}),SEO_PRIORITY_TAGS={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},VALID_TAG_NAMES=Object.values(TAG_NAMES),REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},HTML_TAG_MAP=Object.entries(REACT_TAG_MAP).reduce((d,[m,g])=>(d[g]=m,d),{}),HELMET_ATTRIBUTE="data-rh",HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},getInnermostProperty=(d,m)=>{for(let g=d.length-1;g>=0;g-=1){const w=d[g];if(Object.prototype.hasOwnProperty.call(w,m))return w[m]}return null},getTitleFromPropsList=d=>{let m=getInnermostProperty(d,"title");const g=getInnermostProperty(d,HELMET_PROPS.TITLE_TEMPLATE);if(Array.isArray(m)&&(m=m.join("")),g&&m)return g.replace(/%s/g,()=>m);const w=getInnermostProperty(d,HELMET_PROPS.DEFAULT_TITLE);return m||w||void 0},getOnChangeClientState=d=>getInnermostProperty(d,HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||(()=>{}),getAttributesFromPropsList=(d,m)=>m.filter(g=>typeof g[d]<"u").map(g=>g[d]).reduce((g,w)=>({...g,...w}),{}),getBaseTagFromPropsList=(d,m)=>m.filter(g=>typeof g.base<"u").map(g=>g.base).reverse().reduce((g,w)=>{if(!g.length){const D=Object.keys(w);for(let H=0;H<D.length;H+=1){const te=D[H].toLowerCase();if(d.indexOf(te)!==-1&&w[te])return g.concat(w)}}return g},[]),warn=d=>console&&typeof console.warn=="function"&&console.warn(d),getTagsFromPropsList=(d,m,g)=>{const w={};return g.filter(D=>Array.isArray(D[d])?!0:(typeof D[d]<"u"&&warn(`Helmet: ${d} should be of type "Array". Instead found type "${typeof D[d]}"`),!1)).map(D=>D[d]).reverse().reduce((D,H)=>{const q={};H.filter(re=>{let ne;const ie=Object.keys(re);for(let se=0;se<ie.length;se+=1){const le=ie[se],ue=le.toLowerCase();m.indexOf(ue)!==-1&&!(ne==="rel"&&re[ne].toLowerCase()==="canonical")&&!(ue==="rel"&&re[ue].toLowerCase()==="stylesheet")&&(ne=ue),m.indexOf(le)!==-1&&(le==="innerHTML"||le==="cssText"||le==="itemprop")&&(ne=le)}if(!ne||!re[ne])return!1;const ae=re[ne].toLowerCase();return w[ne]||(w[ne]={}),q[ne]||(q[ne]={}),w[ne][ae]?!1:(q[ne][ae]=!0,!0)}).reverse().forEach(re=>D.push(re));const te=Object.keys(q);for(let re=0;re<te.length;re+=1){const ne=te[re],ie={...w[ne],...q[ne]};w[ne]=ie}return D},[]).reverse()},getAnyTrueFromPropsList=(d,m)=>{if(Array.isArray(d)&&d.length){for(let g=0;g<d.length;g+=1)if(d[g][m])return!0}return!1},reducePropsToState=d=>({baseTag:getBaseTagFromPropsList(["href"],d),bodyAttributes:getAttributesFromPropsList("bodyAttributes",d),defer:getInnermostProperty(d,HELMET_PROPS.DEFER),encode:getInnermostProperty(d,HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:getAttributesFromPropsList("htmlAttributes",d),linkTags:getTagsFromPropsList("link",["rel","href"],d),metaTags:getTagsFromPropsList("meta",["name","charset","http-equiv","property","itemprop"],d),noscriptTags:getTagsFromPropsList("noscript",["innerHTML"],d),onChangeClientState:getOnChangeClientState(d),scriptTags:getTagsFromPropsList("script",["src","innerHTML"],d),styleTags:getTagsFromPropsList("style",["cssText"],d),title:getTitleFromPropsList(d),titleAttributes:getAttributesFromPropsList("titleAttributes",d),prioritizeSeoTags:getAnyTrueFromPropsList(d,HELMET_PROPS.PRIORITIZE_SEO_TAGS)}),flattenArray=d=>Array.isArray(d)?d.join(""):d,checkIfPropsMatch=(d,m)=>{const g=Object.keys(d);for(let w=0;w<g.length;w+=1)if(m[g[w]]&&m[g[w]].includes(d[g[w]]))return!0;return!1},prioritizer=(d,m)=>Array.isArray(d)?d.reduce((g,w)=>(checkIfPropsMatch(w,m)?g.priority.push(w):g.default.push(w),g),{priority:[],default:[]}):{default:d,priority:[]},without=(d,m)=>({...d,[m]:void 0}),SELF_CLOSING_TAGS=["noscript","script","style"],encodeSpecialCharacters=(d,m=!0)=>m===!1?String(d):String(d).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),generateElementAttributesAsString=d=>Object.keys(d).reduce((m,g)=>{const w=typeof d[g]<"u"?`${g}="${d[g]}"`:`${g}`;return m?`${m} ${w}`:w},""),generateTitleAsString=(d,m,g,w)=>{const D=generateElementAttributesAsString(g),H=flattenArray(m);return D?`<${d} ${HELMET_ATTRIBUTE}="true" ${D}>${encodeSpecialCharacters(H,w)}</${d}>`:`<${d} ${HELMET_ATTRIBUTE}="true">${encodeSpecialCharacters(H,w)}</${d}>`},generateTagsAsString=(d,m,g=!0)=>m.reduce((w,D)=>{const H=D,q=Object.keys(H).filter(ne=>!(ne==="innerHTML"||ne==="cssText")).reduce((ne,ie)=>{const ae=typeof H[ie]>"u"?ie:`${ie}="${encodeSpecialCharacters(H[ie],g)}"`;return ne?`${ne} ${ae}`:ae},""),te=H.innerHTML||H.cssText||"",re=SELF_CLOSING_TAGS.indexOf(d)===-1;return`${w}<${d} ${HELMET_ATTRIBUTE}="true" ${q}${re?"/>":`>${te}</${d}>`}`},""),convertElementAttributesToReactProps=(d,m={})=>Object.keys(d).reduce((g,w)=>{const D=REACT_TAG_MAP[w];return g[D||w]=d[w],g},m),generateTitleAsReactComponent=(d,m,g)=>{const w={key:m,[HELMET_ATTRIBUTE]:!0},D=convertElementAttributesToReactProps(g,w);return[ct.createElement("title",D,m)]},generateTagsAsReactComponent=(d,m)=>m.map((g,w)=>{const D={key:w,[HELMET_ATTRIBUTE]:!0};return Object.keys(g).forEach(H=>{const te=REACT_TAG_MAP[H]||H;if(te==="innerHTML"||te==="cssText"){const re=g.innerHTML||g.cssText;D.dangerouslySetInnerHTML={__html:re}}else D[te]=g[H]}),ct.createElement(d,D)}),getMethodsForTag=(d,m,g=!0)=>{switch(d){case"title":return{toComponent:()=>generateTitleAsReactComponent(d,m.title,m.titleAttributes),toString:()=>generateTitleAsString(d,m.title,m.titleAttributes,g)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>convertElementAttributesToReactProps(m),toString:()=>generateElementAttributesAsString(m)};default:return{toComponent:()=>generateTagsAsReactComponent(d,m),toString:()=>generateTagsAsString(d,m,g)}}},getPriorityMethods=({metaTags:d,linkTags:m,scriptTags:g,encode:w})=>{const D=prioritizer(d,SEO_PRIORITY_TAGS.meta),H=prioritizer(m,SEO_PRIORITY_TAGS.link),q=prioritizer(g,SEO_PRIORITY_TAGS.script);return{priorityMethods:{toComponent:()=>[...generateTagsAsReactComponent("meta",D.priority),...generateTagsAsReactComponent("link",H.priority),...generateTagsAsReactComponent("script",q.priority)],toString:()=>`${getMethodsForTag("meta",D.priority,w)} ${getMethodsForTag("link",H.priority,w)} ${getMethodsForTag("script",q.priority,w)}`},metaTags:D.default,linkTags:H.default,scriptTags:q.default}},mapStateOnServer=d=>{const{baseTag:m,bodyAttributes:g,encode:w=!0,htmlAttributes:D,noscriptTags:H,styleTags:q,title:te="",titleAttributes:re,prioritizeSeoTags:ne}=d;let{linkTags:ie,metaTags:ae,scriptTags:se}=d,le={toComponent:()=>{},toString:()=>""};return ne&&({priorityMethods:le,linkTags:ie,metaTags:ae,scriptTags:se}=getPriorityMethods(d)),{priority:le,base:getMethodsForTag("base",m,w),bodyAttributes:getMethodsForTag("bodyAttributes",g,w),htmlAttributes:getMethodsForTag("htmlAttributes",D,w),link:getMethodsForTag("link",ie,w),meta:getMethodsForTag("meta",ae,w),noscript:getMethodsForTag("noscript",H,w),script:getMethodsForTag("script",se,w),style:getMethodsForTag("style",q,w),title:getMethodsForTag("title",{title:te,titleAttributes:re},w)}},server_default=mapStateOnServer,instances=[],isDocument=!!(typeof window<"u"&&window.document&&window.document.createElement),HelmetData=class{constructor(d,m){vr(this,"instances",[]);vr(this,"canUseDOM",isDocument);vr(this,"context");vr(this,"value",{setHelmet:d=>{this.context.helmet=d},helmetInstances:{get:()=>this.canUseDOM?instances:this.instances,add:d=>{(this.canUseDOM?instances:this.instances).push(d)},remove:d=>{const m=(this.canUseDOM?instances:this.instances).indexOf(d);(this.canUseDOM?instances:this.instances).splice(m,1)}}});this.context=d,this.canUseDOM=m||!1,m||(d.helmet=server_default({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},defaultValue={},Context=ct.createContext(defaultValue),Ai,HelmetProvider=(Ai=class extends reactExports.Component{constructor(g){super(g);vr(this,"helmetData");this.helmetData=new HelmetData(this.props.context||{},Ai.canUseDOM)}render(){return ct.createElement(Context.Provider,{value:this.helmetData.value},this.props.children)}},vr(Ai,"canUseDOM",isDocument),Ai),updateTags=(d,m)=>{const g=document.head||document.querySelector("head"),w=g.querySelectorAll(`${d}[${HELMET_ATTRIBUTE}]`),D=[].slice.call(w),H=[];let q;return m&&m.length&&m.forEach(te=>{const re=document.createElement(d);for(const ne in te)if(Object.prototype.hasOwnProperty.call(te,ne))if(ne==="innerHTML")re.innerHTML=te.innerHTML;else if(ne==="cssText")re.styleSheet?re.styleSheet.cssText=te.cssText:re.appendChild(document.createTextNode(te.cssText));else{const ie=ne,ae=typeof te[ie]>"u"?"":te[ie];re.setAttribute(ne,ae)}re.setAttribute(HELMET_ATTRIBUTE,"true"),D.some((ne,ie)=>(q=ie,re.isEqualNode(ne)))?D.splice(q,1):H.push(re)}),D.forEach(te=>{var re;return(re=te.parentNode)==null?void 0:re.removeChild(te)}),H.forEach(te=>g.appendChild(te)),{oldTags:D,newTags:H}},updateAttributes=(d,m)=>{const g=document.getElementsByTagName(d)[0];if(!g)return;const w=g.getAttribute(HELMET_ATTRIBUTE),D=w?w.split(","):[],H=[...D],q=Object.keys(m);for(const te of q){const re=m[te]||"";g.getAttribute(te)!==re&&g.setAttribute(te,re),D.indexOf(te)===-1&&D.push(te);const ne=H.indexOf(te);ne!==-1&&H.splice(ne,1)}for(let te=H.length-1;te>=0;te-=1)g.removeAttribute(H[te]);D.length===H.length?g.removeAttribute(HELMET_ATTRIBUTE):g.getAttribute(HELMET_ATTRIBUTE)!==q.join(",")&&g.setAttribute(HELMET_ATTRIBUTE,q.join(","))},updateTitle=(d,m)=>{typeof d<"u"&&document.title!==d&&(document.title=flattenArray(d)),updateAttributes("title",m)},commitTagChanges=(d,m)=>{const{baseTag:g,bodyAttributes:w,htmlAttributes:D,linkTags:H,metaTags:q,noscriptTags:te,onChangeClientState:re,scriptTags:ne,styleTags:ie,title:ae,titleAttributes:se}=d;updateAttributes("body",w),updateAttributes("html",D),updateTitle(ae,se);const le={baseTag:updateTags("base",g),linkTags:updateTags("link",H),metaTags:updateTags("meta",q),noscriptTags:updateTags("noscript",te),scriptTags:updateTags("script",ne),styleTags:updateTags("style",ie)},ue={},fe={};Object.keys(le).forEach(de=>{const{newTags:me,oldTags:ge}=le[de];me.length&&(ue[de]=me),ge.length&&(fe[de]=le[de].oldTags)}),m&&m(),re(d,ue,fe)},_helmetCallback=null,handleStateChangeOnClient=d=>{_helmetCallback&&cancelAnimationFrame(_helmetCallback),d.defer?_helmetCallback=requestAnimationFrame(()=>{commitTagChanges(d,()=>{_helmetCallback=null})}):(commitTagChanges(d),_helmetCallback=null)},client_default=handleStateChangeOnClient,HelmetDispatcher=class extends reactExports.Component{constructor(){super(...arguments);vr(this,"rendered",!1)}shouldComponentUpdate(m){return!shallowEqual(m,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:m}=this.props.context;m.remove(this),this.emitChange()}emitChange(){const{helmetInstances:m,setHelmet:g}=this.props.context;let w=null;const D=reducePropsToState(m.get().map(H=>{const q={...H.props};return delete q.context,q}));HelmetProvider.canUseDOM?client_default(D):w=server_default(D),g(w)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:m}=this.props.context;m.add(this),this.emitChange()}render(){return this.init(),null}},Pl,Helmet=(Pl=class extends reactExports.Component{shouldComponentUpdate(d){return!fastCompare(without(this.props,"helmetData"),without(d,"helmetData"))}mapNestedChildrenToProps(d,m){if(!m)return null;switch(d.type){case"script":case"noscript":return{innerHTML:m};case"style":return{cssText:m};default:throw new Error(`<${d.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(d,m,g,w){return{...m,[d.type]:[...m[d.type]||[],{...g,...this.mapNestedChildrenToProps(d,w)}]}}mapObjectTypeChildren(d,m,g,w){switch(d.type){case"title":return{...m,[d.type]:w,titleAttributes:{...g}};case"body":return{...m,bodyAttributes:{...g}};case"html":return{...m,htmlAttributes:{...g}};default:return{...m,[d.type]:{...g}}}}mapArrayTypeChildrenToProps(d,m){let g={...m};return Object.keys(d).forEach(w=>{g={...g,[w]:d[w]}}),g}warnOnInvalidChildren(d,m){return invariant(VALID_TAG_NAMES.some(g=>d.type===g),typeof d.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${VALID_TAG_NAMES.join(", ")} are allowed. Helmet does not support rendering <${d.type}> elements. Refer to our API for more information.`),invariant(!m||typeof m=="string"||Array.isArray(m)&&!m.some(g=>typeof g!="string"),`Helmet expects a string as a child of <${d.type}>. Did you forget to wrap your children in braces? ( <${d.type}>{\`\`}</${d.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(d,m){let g={};return ct.Children.forEach(d,w=>{if(!w||!w.props)return;const{children:D,...H}=w.props,q=Object.keys(H).reduce((re,ne)=>(re[HTML_TAG_MAP[ne]||ne]=H[ne],re),{});let{type:te}=w;switch(typeof te=="symbol"?te=te.toString():this.warnOnInvalidChildren(w,D),te){case"Symbol(react.fragment)":m=this.mapChildrenToProps(D,m);break;case"link":case"meta":case"noscript":case"script":case"style":g=this.flattenArrayTypeChildren(w,g,q,D);break;default:m=this.mapObjectTypeChildren(w,m,q,D);break}}),this.mapArrayTypeChildrenToProps(g,m)}render(){const{children:d,...m}=this.props;let g={...m},{helmetData:w}=m;if(d&&(g=this.mapChildrenToProps(d,g)),w&&!(w instanceof HelmetData)){const D=w;w=new HelmetData(D.context,!0),delete g.helmetData}return w?ct.createElement(HelmetDispatcher,{...g,context:w.value}):ct.createElement(Context.Consumer,null,D=>ct.createElement(HelmetDispatcher,{...g,context:D}))}},vr(Pl,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Pl);const metadata=[{project:"/remove_bg/",description:"Remove white Pixels from images with ease! Upload or paste an image, adjust tolerance, and get your processed result. All is done in the browser, without AI, GMO and pesticide!",icon:"/assets/favicon.png",og_image:"/assets/og-image.png",url:"https://project.mara-li.fr/remove_bg/",title:"Remove White Pixel - Image Processing Tool"},{project:"/",title:"Mara-Li's toolbox",description:"Mara-Li's toolbox ; some little website that do stuff.",icon:"/assets/box.png",og_image:"https://www.blog.mara-li.fr/_assets/meta/avatar_index.gif",url:"https://project.mara-li.fr/"}];function Meta({project:d}){const m=metadata.find(g=>g.project===d);if(!m)throw new Error(`No metadata found for project ${d}`);return jsxRuntimeExports.jsxs(Helmet,{children:[jsxRuntimeExports.jsx("meta",{charSet:"UTF-8"}),jsxRuntimeExports.jsx("meta",{content:"width=device-width, initial-scale=1.0",name:"viewport"}),jsxRuntimeExports.jsx("title",{children:m.title}),jsxRuntimeExports.jsx("meta",{name:"description",content:m.description}),jsxRuntimeExports.jsx("meta",{property:"og:title",content:m.title}),jsxRuntimeExports.jsx("meta",{property:"og:description",content:m.description}),jsxRuntimeExports.jsx("meta",{property:"og:image",content:m.og_image}),jsxRuntimeExports.jsx("meta",{property:"og:url",content:m.url}),jsxRuntimeExports.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),jsxRuntimeExports.jsx("meta",{name:"twitter:title",content:m.title}),jsxRuntimeExports.jsx("meta",{name:"twitter:description",content:m.description}),jsxRuntimeExports.jsx("meta",{name:"twitter:image",content:m.og_image}),jsxRuntimeExports.jsx("link",{href:m.icon,rel:"icon",type:"image/x-icon"}),jsxRuntimeExports.jsx("link",{href:m.icon,rel:"apple-touch-icon"})]})}const defaultIconDimensions=Object.freeze({left:0,top:0,width:16,height:16}),defaultIconTransformations=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),defaultIconProps=Object.freeze({...defaultIconDimensions,...defaultIconTransformations}),defaultExtendedIconProps=Object.freeze({...defaultIconProps,body:"",hidden:!1});function mergeIconTransformations(d,m){const g={};!d.hFlip!=!m.hFlip&&(g.hFlip=!0),!d.vFlip!=!m.vFlip&&(g.vFlip=!0);const w=((d.rotate||0)+(m.rotate||0))%4;return w&&(g.rotate=w),g}function mergeIconData(d,m){const g=mergeIconTransformations(d,m);for(const w in defaultExtendedIconProps)w in defaultIconTransformations?w in d&&!(w in g)&&(g[w]=defaultIconTransformations[w]):w in m?g[w]=m[w]:w in d&&(g[w]=d[w]);return g}function getIconsTree(d,m){const g=d.icons,w=d.aliases||Object.create(null),D=Object.create(null);function H(q){if(g[q])return D[q]=[];if(!(q in D)){D[q]=null;const te=w[q]&&w[q].parent,re=te&&H(te);re&&(D[q]=[te].concat(re))}return D[q]}return Object.keys(g).concat(Object.keys(w)).forEach(H),D}function internalGetIconData(d,m,g){const w=d.icons,D=d.aliases||Object.create(null);let H={};function q(te){H=mergeIconData(w[te]||D[te],H)}return q(m),g.forEach(q),mergeIconData(d,H)}function parseIconSet(d,m){const g=[];if(typeof d!="object"||typeof d.icons!="object")return g;d.not_found instanceof Array&&d.not_found.forEach(D=>{m(D,null),g.push(D)});const w=getIconsTree(d);for(const D in w){const H=w[D];H&&(m(D,internalGetIconData(d,D,H)),g.push(D))}return g}const optionalPropertyDefaults={provider:"",aliases:{},not_found:{},...defaultIconDimensions};function checkOptionalProps(d,m){for(const g in m)if(g in d&&typeof d[g]!=typeof m[g])return!1;return!0}function quicklyValidateIconSet(d){if(typeof d!="object"||d===null)return null;const m=d;if(typeof m.prefix!="string"||!d.icons||typeof d.icons!="object"||!checkOptionalProps(d,optionalPropertyDefaults))return null;const g=m.icons;for(const D in g){const H=g[D];if(!D||typeof H.body!="string"||!checkOptionalProps(H,defaultExtendedIconProps))return null}const w=m.aliases||Object.create(null);for(const D in w){const H=w[D],q=H.parent;if(!D||typeof q!="string"||!g[q]&&!w[q]||!checkOptionalProps(H,defaultExtendedIconProps))return null}return m}const matchIconName=/^[a-z0-9]+(-[a-z0-9]+)*$/,stringToIcon=(d,m,g,w="")=>{const D=d.split(":");if(d.slice(0,1)==="@"){if(D.length<2||D.length>3)return null;w=D.shift().slice(1)}if(D.length>3||!D.length)return null;if(D.length>1){const te=D.pop(),re=D.pop(),ne={provider:D.length>0?D[0]:w,prefix:re,name:te};return m&&!validateIconName(ne)?null:ne}const H=D[0],q=H.split("-");if(q.length>1){const te={provider:w,prefix:q.shift(),name:q.join("-")};return m&&!validateIconName(te)?null:te}if(g&&w===""){const te={provider:w,prefix:"",name:H};return m&&!validateIconName(te,g)?null:te}return null},validateIconName=(d,m)=>d?!!((m&&d.prefix===""||d.prefix)&&d.name):!1,dataStorage=Object.create(null);function newStorage(d,m){return{provider:d,prefix:m,icons:Object.create(null),missing:new Set}}function getStorage(d,m){const g=dataStorage[d]||(dataStorage[d]=Object.create(null));return g[m]||(g[m]=newStorage(d,m))}function addIconSet(d,m){return quicklyValidateIconSet(m)?parseIconSet(m,(g,w)=>{w?d.icons[g]=w:d.missing.add(g)}):[]}function addIconToStorage(d,m,g){try{if(typeof g.body=="string")return d.icons[m]={...g},!0}catch{}return!1}let simpleNames=!1;function allowSimpleNames(d){return typeof d=="boolean"&&(simpleNames=d),simpleNames}function getIconData(d){const m=typeof d=="string"?stringToIcon(d,!0,simpleNames):d;if(m){const g=getStorage(m.provider,m.prefix),w=m.name;return g.icons[w]||(g.missing.has(w)?null:void 0)}}function addIcon(d,m){const g=stringToIcon(d,!0,simpleNames);if(!g)return!1;const w=getStorage(g.provider,g.prefix);return m?addIconToStorage(w,g.name,m):(w.missing.add(g.name),!0)}function addCollection(d,m){if(typeof d!="object")return!1;if(typeof m!="string"&&(m=d.provider||""),simpleNames&&!m&&!d.prefix){let D=!1;return quicklyValidateIconSet(d)&&(d.prefix="",parseIconSet(d,(H,q)=>{addIcon(H,q)&&(D=!0)})),D}const g=d.prefix;if(!validateIconName({provider:m,prefix:g,name:"a"}))return!1;const w=getStorage(m,g);return!!addIconSet(w,d)}const defaultIconSizeCustomisations=Object.freeze({width:null,height:null}),defaultIconCustomisations=Object.freeze({...defaultIconSizeCustomisations,...defaultIconTransformations}),unitsSplit=/(-?[0-9.]*[0-9]+[0-9.]*)/g,unitsTest=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize(d,m,g){if(m===1)return d;if(g=g||100,typeof d=="number")return Math.ceil(d*m*g)/g;if(typeof d!="string")return d;const w=d.split(unitsSplit);if(w===null||!w.length)return d;const D=[];let H=w.shift(),q=unitsTest.test(H);for(;;){if(q){const te=parseFloat(H);isNaN(te)?D.push(H):D.push(Math.ceil(te*m*g)/g)}else D.push(H);if(H=w.shift(),H===void 0)return D.join("");q=!q}}function splitSVGDefs(d,m="defs"){let g="";const w=d.indexOf("<"+m);for(;w>=0;){const D=d.indexOf(">",w),H=d.indexOf("</"+m);if(D===-1||H===-1)break;const q=d.indexOf(">",H);if(q===-1)break;g+=d.slice(D+1,H).trim(),d=d.slice(0,w).trim()+d.slice(q+1)}return{defs:g,content:d}}function mergeDefsAndContent(d,m){return d?"<defs>"+d+"</defs>"+m:m}function wrapSVGContent(d,m,g){const w=splitSVGDefs(d);return mergeDefsAndContent(w.defs,m+w.content+g)}const isUnsetKeyword=d=>d==="unset"||d==="undefined"||d==="none";function iconToSVG(d,m){const g={...defaultIconProps,...d},w={...defaultIconCustomisations,...m},D={left:g.left,top:g.top,width:g.width,height:g.height};let H=g.body;[g,w].forEach(fe=>{const de=[],me=fe.hFlip,ge=fe.vFlip;let he=fe.rotate;me?ge?he+=2:(de.push("translate("+(D.width+D.left).toString()+" "+(0-D.top).toString()+")"),de.push("scale(-1 1)"),D.top=D.left=0):ge&&(de.push("translate("+(0-D.left).toString()+" "+(D.height+D.top).toString()+")"),de.push("scale(1 -1)"),D.top=D.left=0);let pe;switch(he<0&&(he-=Math.floor(he/4)*4),he=he%4,he){case 1:pe=D.height/2+D.top,de.unshift("rotate(90 "+pe.toString()+" "+pe.toString()+")");break;case 2:de.unshift("rotate(180 "+(D.width/2+D.left).toString()+" "+(D.height/2+D.top).toString()+")");break;case 3:pe=D.width/2+D.left,de.unshift("rotate(-90 "+pe.toString()+" "+pe.toString()+")");break}he%2===1&&(D.left!==D.top&&(pe=D.left,D.left=D.top,D.top=pe),D.width!==D.height&&(pe=D.width,D.width=D.height,D.height=pe)),de.length&&(H=wrapSVGContent(H,'<g transform="'+de.join(" ")+'">',"</g>"))});const q=w.width,te=w.height,re=D.width,ne=D.height;let ie,ae;q===null?(ae=te===null?"1em":te==="auto"?ne:te,ie=calculateSize(ae,re/ne)):(ie=q==="auto"?re:q,ae=te===null?calculateSize(ie,ne/re):te==="auto"?ne:te);const se={},le=(fe,de)=>{isUnsetKeyword(de)||(se[fe]=de.toString())};le("width",ie),le("height",ae);const ue=[D.left,D.top,re,ne];return se.viewBox=ue.join(" "),{attributes:se,viewBox:ue,body:H}}const regex=/\sid="(\S+)"/g,randomPrefix="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let counter=0;function replaceIDs(d,m=randomPrefix){const g=[];let w;for(;w=regex.exec(d);)g.push(w[1]);if(!g.length)return d;const D="suffix"+(Math.random()*16777216|Date.now()).toString(16);return g.forEach(H=>{const q=typeof m=="function"?m(H):m+(counter++).toString(),te=H.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");d=d.replace(new RegExp('([#;"])('+te+')([")]|\\.[a-z])',"g"),"$1"+q+D+"$3")}),d=d.replace(new RegExp(D,"g"),""),d}const storage=Object.create(null);function setAPIModule(d,m){storage[d]=m}function getAPIModule(d){return storage[d]||storage[""]}function createAPIConfig(d){let m;if(typeof d.resources=="string")m=[d.resources];else if(m=d.resources,!(m instanceof Array)||!m.length)return null;return{resources:m,path:d.path||"/",maxURL:d.maxURL||500,rotate:d.rotate||750,timeout:d.timeout||5e3,random:d.random===!0,index:d.index||0,dataAfterTimeout:d.dataAfterTimeout!==!1}}const configStorage=Object.create(null),fallBackAPISources=["https://api.simplesvg.com","https://api.unisvg.com"],fallBackAPI=[];for(;fallBackAPISources.length>0;)fallBackAPISources.length===1||Math.random()>.5?fallBackAPI.push(fallBackAPISources.shift()):fallBackAPI.push(fallBackAPISources.pop());configStorage[""]=createAPIConfig({resources:["https://api.iconify.design"].concat(fallBackAPI)});function addAPIProvider(d,m){const g=createAPIConfig(m);return g===null?!1:(configStorage[d]=g,!0)}function getAPIConfig(d){return configStorage[d]}const detectFetch=()=>{let d;try{if(d=fetch,typeof d=="function")return d}catch{}};let fetchModule=detectFetch();function calculateMaxLength(d,m){const g=getAPIConfig(d);if(!g)return 0;let w;if(!g.maxURL)w=0;else{let D=0;g.resources.forEach(q=>{D=Math.max(D,q.length)});const H=m+".json?icons=";w=g.maxURL-D-g.path.length-H.length}return w}function shouldAbort(d){return d===404}const prepare=(d,m,g)=>{const w=[],D=calculateMaxLength(d,m),H="icons";let q={type:H,provider:d,prefix:m,icons:[]},te=0;return g.forEach((re,ne)=>{te+=re.length+1,te>=D&&ne>0&&(w.push(q),q={type:H,provider:d,prefix:m,icons:[]},te=re.length),q.icons.push(re)}),w.push(q),w};function getPath(d){if(typeof d=="string"){const m=getAPIConfig(d);if(m)return m.path}return"/"}const send=(d,m,g)=>{if(!fetchModule){g("abort",424);return}let w=getPath(m.provider);switch(m.type){case"icons":{const H=m.prefix,te=m.icons.join(","),re=new URLSearchParams({icons:te});w+=H+".json?"+re.toString();break}case"custom":{const H=m.uri;w+=H.slice(0,1)==="/"?H.slice(1):H;break}default:g("abort",400);return}let D=503;fetchModule(d+w).then(H=>{const q=H.status;if(q!==200){setTimeout(()=>{g(shouldAbort(q)?"abort":"next",q)});return}return D=501,H.json()}).then(H=>{if(typeof H!="object"||H===null){setTimeout(()=>{H===404?g("abort",H):g("next",D)});return}setTimeout(()=>{g("success",H)})}).catch(()=>{g("next",D)})},fetchAPIModule={prepare,send};function sortIcons(d){const m={loaded:[],missing:[],pending:[]},g=Object.create(null);d.sort((D,H)=>D.provider!==H.provider?D.provider.localeCompare(H.provider):D.prefix!==H.prefix?D.prefix.localeCompare(H.prefix):D.name.localeCompare(H.name));let w={provider:"",prefix:"",name:""};return d.forEach(D=>{if(w.name===D.name&&w.prefix===D.prefix&&w.provider===D.provider)return;w=D;const H=D.provider,q=D.prefix,te=D.name,re=g[H]||(g[H]=Object.create(null)),ne=re[q]||(re[q]=getStorage(H,q));let ie;te in ne.icons?ie=m.loaded:q===""||ne.missing.has(te)?ie=m.missing:ie=m.pending;const ae={provider:H,prefix:q,name:te};ie.push(ae)}),m}function removeCallback(d,m){d.forEach(g=>{const w=g.loaderCallbacks;w&&(g.loaderCallbacks=w.filter(D=>D.id!==m))})}function updateCallbacks(d){d.pendingCallbacksFlag||(d.pendingCallbacksFlag=!0,setTimeout(()=>{d.pendingCallbacksFlag=!1;const m=d.loaderCallbacks?d.loaderCallbacks.slice(0):[];if(!m.length)return;let g=!1;const w=d.provider,D=d.prefix;m.forEach(H=>{const q=H.icons,te=q.pending.length;q.pending=q.pending.filter(re=>{if(re.prefix!==D)return!0;const ne=re.name;if(d.icons[ne])q.loaded.push({provider:w,prefix:D,name:ne});else if(d.missing.has(ne))q.missing.push({provider:w,prefix:D,name:ne});else return g=!0,!0;return!1}),q.pending.length!==te&&(g||removeCallback([d],H.id),H.callback(q.loaded.slice(0),q.missing.slice(0),q.pending.slice(0),H.abort))})}))}let idCounter=0;function storeCallback(d,m,g){const w=idCounter++,D=removeCallback.bind(null,g,w);if(!m.pending.length)return D;const H={id:w,icons:m,callback:d,abort:D};return g.forEach(q=>{(q.loaderCallbacks||(q.loaderCallbacks=[])).push(H)}),D}function listToIcons(d,m=!0,g=!1){const w=[];return d.forEach(D=>{const H=typeof D=="string"?stringToIcon(D,m,g):D;H&&w.push(H)}),w}var defaultConfig={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function sendQuery(d,m,g,w){const D=d.resources.length,H=d.random?Math.floor(Math.random()*D):d.index;let q;if(d.random){let ke=d.resources.slice(0);for(q=[];ke.length>1;){const be=Math.floor(Math.random()*ke.length);q.push(ke[be]),ke=ke.slice(0,be).concat(ke.slice(be+1))}q=q.concat(ke)}else q=d.resources.slice(H).concat(d.resources.slice(0,H));const te=Date.now();let re="pending",ne=0,ie,ae=null,se=[],le=[];typeof w=="function"&&le.push(w);function ue(){ae&&(clearTimeout(ae),ae=null)}function fe(){re==="pending"&&(re="aborted"),ue(),se.forEach(ke=>{ke.status==="pending"&&(ke.status="aborted")}),se=[]}function de(ke,be){be&&(le=[]),typeof ke=="function"&&le.push(ke)}function me(){return{startTime:te,payload:m,status:re,queriesSent:ne,queriesPending:se.length,subscribe:de,abort:fe}}function ge(){re="failed",le.forEach(ke=>{ke(void 0,ie)})}function he(){se.forEach(ke=>{ke.status==="pending"&&(ke.status="aborted")}),se=[]}function pe(ke,be,Se){const Ee=be!=="success";switch(se=se.filter(Ie=>Ie!==ke),re){case"pending":break;case"failed":if(Ee||!d.dataAfterTimeout)return;break;default:return}if(be==="abort"){ie=Se,ge();return}if(Ee){ie=Se,se.length||(q.length?ve():ge());return}if(ue(),he(),!d.random){const Ie=d.resources.indexOf(ke.resource);Ie!==-1&&Ie!==d.index&&(d.index=Ie)}re="completed",le.forEach(Ie=>{Ie(Se)})}function ve(){if(re!=="pending")return;ue();const ke=q.shift();if(ke===void 0){if(se.length){ae=setTimeout(()=>{ue(),re==="pending"&&(he(),ge())},d.timeout);return}ge();return}const be={status:"pending",resource:ke,callback:(Se,Ee)=>{pe(be,Se,Ee)}};se.push(be),ne++,ae=setTimeout(ve,d.rotate),g(ke,m,be.callback)}return setTimeout(ve),me}function initRedundancy(d){const m={...defaultConfig,...d};let g=[];function w(){g=g.filter(te=>te().status==="pending")}function D(te,re,ne){const ie=sendQuery(m,te,re,(ae,se)=>{w(),ne&&ne(ae,se)});return g.push(ie),ie}function H(te){return g.find(re=>te(re))||null}return{query:D,find:H,setIndex:te=>{m.index=te},getIndex:()=>m.index,cleanup:w}}function emptyCallback$1(){}const redundancyCache=Object.create(null);function getRedundancyCache(d){if(!redundancyCache[d]){const m=getAPIConfig(d);if(!m)return;const g=initRedundancy(m),w={config:m,redundancy:g};redundancyCache[d]=w}return redundancyCache[d]}function sendAPIQuery(d,m,g){let w,D;if(typeof d=="string"){const H=getAPIModule(d);if(!H)return g(void 0,424),emptyCallback$1;D=H.send;const q=getRedundancyCache(d);q&&(w=q.redundancy)}else{const H=createAPIConfig(d);if(H){w=initRedundancy(H);const q=d.resources?d.resources[0]:"",te=getAPIModule(q);te&&(D=te.send)}}return!w||!D?(g(void 0,424),emptyCallback$1):w.query(m,D,g)().abort}function emptyCallback(){}function loadedNewIcons(d){d.iconsLoaderFlag||(d.iconsLoaderFlag=!0,setTimeout(()=>{d.iconsLoaderFlag=!1,updateCallbacks(d)}))}function checkIconNamesForAPI(d){const m=[],g=[];return d.forEach(w=>{(w.match(matchIconName)?m:g).push(w)}),{valid:m,invalid:g}}function parseLoaderResponse(d,m,g){function w(){const D=d.pendingIcons;m.forEach(H=>{D&&D.delete(H),d.icons[H]||d.missing.add(H)})}if(g&&typeof g=="object")try{if(!addIconSet(d,g).length){w();return}}catch(D){console.error(D)}w(),loadedNewIcons(d)}function parsePossiblyAsyncResponse(d,m){d instanceof Promise?d.then(g=>{m(g)}).catch(()=>{m(null)}):m(d)}function loadNewIcons(d,m){d.iconsToLoad?d.iconsToLoad=d.iconsToLoad.concat(m).sort():d.iconsToLoad=m,d.iconsQueueFlag||(d.iconsQueueFlag=!0,setTimeout(()=>{d.iconsQueueFlag=!1;const{provider:g,prefix:w}=d,D=d.iconsToLoad;if(delete d.iconsToLoad,!D||!D.length)return;const H=d.loadIcon;if(d.loadIcons&&(D.length>1||!H)){parsePossiblyAsyncResponse(d.loadIcons(D,w,g),ie=>{parseLoaderResponse(d,D,ie)});return}if(H){D.forEach(ie=>{const ae=H(ie,w,g);parsePossiblyAsyncResponse(ae,se=>{const le=se?{prefix:w,icons:{[ie]:se}}:null;parseLoaderResponse(d,[ie],le)})});return}const{valid:q,invalid:te}=checkIconNamesForAPI(D);if(te.length&&parseLoaderResponse(d,te,null),!q.length)return;const re=w.match(matchIconName)?getAPIModule(g):null;if(!re){parseLoaderResponse(d,q,null);return}re.prepare(g,w,q).forEach(ie=>{sendAPIQuery(g,ie,ae=>{parseLoaderResponse(d,ie.icons,ae)})})}))}const loadIcons=(d,m)=>{const g=listToIcons(d,!0,allowSimpleNames()),w=sortIcons(g);if(!w.pending.length){let re=!0;return setTimeout(()=>{re&&m(w.loaded,w.missing,w.pending,emptyCallback)}),()=>{re=!1}}const D=Object.create(null),H=[];let q,te;return w.pending.forEach(re=>{const{provider:ne,prefix:ie}=re;if(ie===te&&ne===q)return;q=ne,te=ie,H.push(getStorage(ne,ie));const ae=D[ne]||(D[ne]=Object.create(null));ae[ie]||(ae[ie]=[])}),w.pending.forEach(re=>{const{provider:ne,prefix:ie,name:ae}=re,se=getStorage(ne,ie),le=se.pendingIcons||(se.pendingIcons=new Set);le.has(ae)||(le.add(ae),D[ne][ie].push(ae))}),H.forEach(re=>{const ne=D[re.provider][re.prefix];ne.length&&loadNewIcons(re,ne)}),storeCallback(m,w,H)};function mergeCustomisations(d,m){const g={...d};for(const w in m){const D=m[w],H=typeof D;w in defaultIconSizeCustomisations?(D===null||D&&(H==="string"||H==="number"))&&(g[w]=D):H===typeof g[w]&&(g[w]=w==="rotate"?D%4:D)}return g}const separator=/[\s,]+/;function flipFromString(d,m){m.split(separator).forEach(g=>{switch(g.trim()){case"horizontal":d.hFlip=!0;break;case"vertical":d.vFlip=!0;break}})}function rotateFromString(d,m=0){const g=d.replace(/^-?[0-9.]*/,"");function w(D){for(;D<0;)D+=4;return D%4}if(g===""){const D=parseInt(d);return isNaN(D)?0:w(D)}else if(g!==d){let D=0;switch(g){case"%":D=25;break;case"deg":D=90}if(D){let H=parseFloat(d.slice(0,d.length-g.length));return isNaN(H)?0:(H=H/D,H%1===0?w(H):0)}}return m}function iconToHTML(d,m){let g=d.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const w in m)g+=" "+w+'="'+m[w]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+g+">"+d+"</svg>"}function encodeSVGforURL(d){return d.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function svgToData(d){return"data:image/svg+xml,"+encodeSVGforURL(d)}function svgToURL(d){return'url("'+svgToData(d)+'")'}let policy;function createPolicy(){try{policy=window.trustedTypes.createPolicy("iconify",{createHTML:d=>d})}catch{policy=null}}function cleanUpInnerHTML(d){return policy===void 0&&createPolicy(),policy?policy.createHTML(d):d}const defaultExtendedIconCustomisations={...defaultIconCustomisations,inline:!1},svgDefaults={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},commonProps={display:"inline-block"},monotoneProps={backgroundColor:"currentColor"},coloredProps={backgroundColor:"transparent"},propsToAdd={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},propsToAddTo={WebkitMask:monotoneProps,mask:monotoneProps,background:coloredProps};for(const d in propsToAddTo){const m=propsToAddTo[d];for(const g in propsToAdd)m[d+g]=propsToAdd[g]}const inlineDefaults={...defaultExtendedIconCustomisations,inline:!0};function fixSize(d){return d+(d.match(/^[-0-9.]+$/)?"px":"")}const render=(d,m,g)=>{const w=m.inline?inlineDefaults:defaultExtendedIconCustomisations,D=mergeCustomisations(w,m),H=m.mode||"svg",q={},te=m.style||{},re={...H==="svg"?svgDefaults:{}};if(g){const de=stringToIcon(g,!1,!0);if(de){const me=["iconify"],ge=["provider","prefix"];for(const he of ge)de[he]&&me.push("iconify--"+de[he]);re.className=me.join(" ")}}for(let de in m){const me=m[de];if(me!==void 0)switch(de){case"icon":case"style":case"children":case"onLoad":case"mode":case"ssr":break;case"_ref":re.ref=me;break;case"className":re[de]=(re[de]?re[de]+" ":"")+me;break;case"inline":case"hFlip":case"vFlip":D[de]=me===!0||me==="true"||me===1;break;case"flip":typeof me=="string"&&flipFromString(D,me);break;case"color":q.color=me;break;case"rotate":typeof me=="string"?D[de]=rotateFromString(me):typeof me=="number"&&(D[de]=me);break;case"ariaHidden":case"aria-hidden":me!==!0&&me!=="true"&&delete re["aria-hidden"];break;default:w[de]===void 0&&(re[de]=me)}}const ne=iconToSVG(d,D),ie=ne.attributes;if(D.inline&&(q.verticalAlign="-0.125em"),H==="svg"){re.style={...q,...te},Object.assign(re,ie);let de=0,me=m.id;return typeof me=="string"&&(me=me.replace(/-/g,"_")),re.dangerouslySetInnerHTML={__html:cleanUpInnerHTML(replaceIDs(ne.body,me?()=>me+"ID"+de++:"iconifyReact"))},reactExports.createElement("svg",re)}const{body:ae,width:se,height:le}=d,ue=H==="mask"||(H==="bg"?!1:ae.indexOf("currentColor")!==-1),fe=iconToHTML(ae,{...ie,width:se+"",height:le+""});return re.style={...q,"--svg":svgToURL(fe),width:fixSize(ie.width),height:fixSize(ie.height),...commonProps,...ue?monotoneProps:coloredProps,...te},reactExports.createElement("span",re)};allowSimpleNames(!0);setAPIModule("",fetchAPIModule);if(typeof document<"u"&&typeof window<"u"){const d=window;if(d.IconifyPreload!==void 0){const m=d.IconifyPreload,g="Invalid IconifyPreload syntax.";typeof m=="object"&&m!==null&&(m instanceof Array?m:[m]).forEach(w=>{try{(typeof w!="object"||w===null||w instanceof Array||typeof w.icons!="object"||typeof w.prefix!="string"||!addCollection(w))&&console.error(g)}catch{console.error(g)}})}if(d.IconifyProviders!==void 0){const m=d.IconifyProviders;if(typeof m=="object"&&m!==null)for(let g in m){const w="IconifyProviders["+g+"] is invalid.";try{const D=m[g];if(typeof D!="object"||!D||D.resources===void 0)continue;addAPIProvider(g,D)||console.error(w)}catch{console.error(w)}}}}function IconComponent(d){const[m,g]=reactExports.useState(!!d.ssr),[w,D]=reactExports.useState({});function H(le){if(le){const ue=d.icon;if(typeof ue=="object")return{name:"",data:ue};const fe=getIconData(ue);if(fe)return{name:ue,data:fe}}return{name:""}}const[q,te]=reactExports.useState(H(!!d.ssr));function re(){const le=w.callback;le&&(le(),D({}))}function ne(le){if(JSON.stringify(q)!==JSON.stringify(le))return re(),te(le),!0}function ie(){var le;const ue=d.icon;if(typeof ue=="object"){ne({name:"",data:ue});return}const fe=getIconData(ue);if(ne({name:ue,data:fe}))if(fe===void 0){const de=loadIcons([ue],ie);D({callback:de})}else fe&&((le=d.onLoad)===null||le===void 0||le.call(d,ue))}reactExports.useEffect(()=>(g(!0),re),[]),reactExports.useEffect(()=>{m&&ie()},[d.icon,m]);const{name:ae,data:se}=q;return se?render({...defaultIconProps,...se},d,ae):d.children?d.children:reactExports.createElement("span",{})}const Icon=reactExports.forwardRef((d,m)=>IconComponent({...d,_ref:m}));reactExports.forwardRef((d,m)=>IconComponent({inline:!0,...d,_ref:m}));function r$1(d){var m,g,w="";if(typeof d=="string"||typeof d=="number")w+=d;else if(typeof d=="object")if(Array.isArray(d)){var D=d.length;for(m=0;m<D;m++)d[m]&&(g=r$1(d[m]))&&(w&&(w+=" "),w+=g)}else for(g in d)d[g]&&(w&&(w+=" "),w+=g);return w}function clsx(){for(var d,m,g=0,w="",D=arguments.length;g<D;g++)(d=arguments[g])&&(m=r$1(d))&&(w&&(w+=" "),w+=m);return w}function Mt(d){if(typeof document>"u")return;let m=document.head||document.getElementsByTagName("head")[0],g=document.createElement("style");g.type="text/css",m.firstChild?m.insertBefore(g,m.firstChild):m.appendChild(g),g.styleSheet?g.styleSheet.cssText=d:g.appendChild(document.createTextNode(d))}Mt(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var L$1=d=>typeof d=="number"&&!isNaN(d),N$1=d=>typeof d=="string",P=d=>typeof d=="function",mt=d=>N$1(d)||L$1(d),B$1=d=>N$1(d)||P(d)?d:null,pt=(d,m)=>d===!1||L$1(d)&&d>0?d:m,z$1=d=>reactExports.isValidElement(d)||N$1(d)||P(d)||L$1(d);function Z(d,m,g=300){let{scrollHeight:w,style:D}=d;requestAnimationFrame(()=>{D.minHeight="initial",D.height=w+"px",D.transition=`all ${g}ms`,requestAnimationFrame(()=>{D.height="0",D.padding="0",D.margin="0",setTimeout(m,g)})})}function $({enter:d,exit:m,appendPosition:g=!1,collapse:w=!0,collapseDuration:D=300}){return function({children:H,position:q,preventExitTransition:te,done:re,nodeRef:ne,isIn:ie,playToast:ae}){let se=g?`${d}--${q}`:d,le=g?`${m}--${q}`:m,ue=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{let fe=ne.current,de=se.split(" "),me=ge=>{ge.target===ne.current&&(ae(),fe.removeEventListener("animationend",me),fe.removeEventListener("animationcancel",me),ue.current===0&&ge.type!=="animationcancel"&&fe.classList.remove(...de))};fe.classList.add(...de),fe.addEventListener("animationend",me),fe.addEventListener("animationcancel",me)},[]),reactExports.useEffect(()=>{let fe=ne.current,de=()=>{fe.removeEventListener("animationend",de),w?Z(fe,re,D):re()};ie||(te?de():(ue.current=1,fe.className+=` ${le}`,fe.addEventListener("animationend",de)))},[ie]),ct.createElement(ct.Fragment,null,H)}}function J(d,m){return{content:tt(d.content,d.props),containerId:d.props.containerId,id:d.props.toastId,theme:d.props.theme,type:d.props.type,data:d.props.data||{},isLoading:d.props.isLoading,icon:d.props.icon,reason:d.removalReason,status:m}}function tt(d,m,g=!1){return reactExports.isValidElement(d)&&!N$1(d.type)?reactExports.cloneElement(d,{closeToast:m.closeToast,toastProps:m,data:m.data,isPaused:g}):P(d)?d({closeToast:m.closeToast,toastProps:m,data:m.data,isPaused:g}):d}function yt({closeToast:d,theme:m,ariaLabel:g="close"}){return ct.createElement("button",{className:`Toastify__close-button Toastify__close-button--${m}`,type:"button",onClick:w=>{w.stopPropagation(),d(!0)},"aria-label":g},ct.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ct.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gt({delay:d,isRunning:m,closeToast:g,type:w="default",hide:D,className:H,controlledProgress:q,progress:te,rtl:re,isIn:ne,theme:ie}){let ae=D||q&&te===0,se={animationDuration:`${d}ms`,animationPlayState:m?"running":"paused"};q&&(se.transform=`scaleX(${te})`);let le=clsx("Toastify__progress-bar",q?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${ie}`,`Toastify__progress-bar--${w}`,{"Toastify__progress-bar--rtl":re}),ue=P(H)?H({rtl:re,type:w,defaultClassName:le}):clsx(le,H),fe={[q&&te>=1?"onTransitionEnd":"onAnimationEnd"]:q&&te<1?null:()=>{ne&&g()}};return ct.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":ae},ct.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${ie} Toastify__progress-bar--${w}`}),ct.createElement("div",{role:"progressbar","aria-hidden":ae?"true":"false","aria-label":"notification timer",className:ue,style:se,...fe}))}var Xt=1,at=()=>`${Xt++}`;function _t(d,m,g){let w=1,D=0,H=[],q=[],te=m,re=new Map,ne=new Set,ie=ge=>(ne.add(ge),()=>ne.delete(ge)),ae=()=>{q=Array.from(re.values()),ne.forEach(ge=>ge())},se=({containerId:ge,toastId:he,updateId:pe})=>{let ve=ge?ge!==d:d!==1,ke=re.has(he)&&pe==null;return ve||ke},le=(ge,he)=>{re.forEach(pe=>{var ve;(he==null||he===pe.props.toastId)&&((ve=pe.toggle)==null||ve.call(pe,ge))})},ue=ge=>{var he,pe;(pe=(he=ge.props)==null?void 0:he.onClose)==null||pe.call(he,ge.removalReason),ge.isActive=!1},fe=ge=>{if(ge==null)re.forEach(ue);else{let he=re.get(ge);he&&ue(he)}ae()},de=()=>{D-=H.length,H=[]},me=ge=>{var he,pe;let{toastId:ve,updateId:ke}=ge.props,be=ke==null;ge.staleId&&re.delete(ge.staleId),ge.isActive=!0,re.set(ve,ge),ae(),g(J(ge,be?"added":"updated")),be&&((pe=(he=ge.props).onOpen)==null||pe.call(he))};return{id:d,props:te,observe:ie,toggle:le,removeToast:fe,toasts:re,clearQueue:de,buildToast:(ge,he)=>{if(se(he))return;let{toastId:pe,updateId:ve,data:ke,staleId:be,delay:Se}=he,Ee=ve==null;Ee&&D++;let Ie={...te,style:te.toastStyle,key:w++,...Object.fromEntries(Object.entries(he).filter(([Te,Le])=>Le!=null)),toastId:pe,updateId:ve,data:ke,isIn:!1,className:B$1(he.className||te.toastClassName),progressClassName:B$1(he.progressClassName||te.progressClassName),autoClose:he.isLoading?!1:pt(he.autoClose,te.autoClose),closeToast(Te){re.get(pe).removalReason=Te,fe(pe)},deleteToast(){let Te=re.get(pe);if(Te!=null){if(g(J(Te,"removed")),re.delete(pe),D--,D<0&&(D=0),H.length>0){me(H.shift());return}ae()}}};Ie.closeButton=te.closeButton,he.closeButton===!1||z$1(he.closeButton)?Ie.closeButton=he.closeButton:he.closeButton===!0&&(Ie.closeButton=z$1(te.closeButton)?te.closeButton:!0);let _e={content:ge,props:Ie,staleId:be};te.limit&&te.limit>0&&D>te.limit&&Ee?H.push(_e):L$1(Se)?setTimeout(()=>{me(_e)},Se):me(_e)},setProps(ge){te=ge},setToggle:(ge,he)=>{let pe=re.get(ge);pe&&(pe.toggle=he)},isToastActive:ge=>{var he;return(he=re.get(ge))==null?void 0:he.isActive},getSnapshot:()=>q}}var I=new Map,F=[],st=new Set,Vt=d=>st.forEach(m=>m(d)),bt=()=>I.size>0;function Qt(){F.forEach(d=>nt(d.content,d.options)),F=[]}var vt=(d,{containerId:m})=>{var g;return(g=I.get(m||1))==null?void 0:g.toasts.get(d)};function X(d,m){var g;if(m)return!!((g=I.get(m))!=null&&g.isToastActive(d));let w=!1;return I.forEach(D=>{D.isToastActive(d)&&(w=!0)}),w}function ht(d){if(!bt()){F=F.filter(m=>d!=null&&m.options.toastId!==d);return}if(d==null||mt(d))I.forEach(m=>{m.removeToast(d)});else if(d&&("containerId"in d||"id"in d)){let m=I.get(d.containerId);m?m.removeToast(d.id):I.forEach(g=>{g.removeToast(d.id)})}}var Ct=(d={})=>{I.forEach(m=>{m.props.limit&&(!d.containerId||m.id===d.containerId)&&m.clearQueue()})};function nt(d,m){z$1(d)&&(bt()||F.push({content:d,options:m}),I.forEach(g=>{g.buildToast(d,m)}))}function xt(d){var m;(m=I.get(d.containerId||1))==null||m.setToggle(d.id,d.fn)}function rt(d,m){I.forEach(g=>{(m==null||!(m!=null&&m.containerId)||(m==null?void 0:m.containerId)===g.id)&&g.toggle(d,m==null?void 0:m.id)})}function Et(d){let m=d.containerId||1;return{subscribe(g){let w=_t(m,d,Vt);I.set(m,w);let D=w.observe(g);return Qt(),()=>{D(),I.delete(m)}},setProps(g){var w;(w=I.get(m))==null||w.setProps(g)},getSnapshot(){var g;return(g=I.get(m))==null?void 0:g.getSnapshot()}}}function Pt(d){return st.add(d),()=>{st.delete(d)}}function Wt(d){return d&&(N$1(d.toastId)||L$1(d.toastId))?d.toastId:at()}function U(d,m){return nt(d,m),m.toastId}function V(d,m){return{...m,type:m&&m.type||d,toastId:Wt(m)}}function Q(d){return(m,g)=>U(m,V(d,g))}function y$3(d,m){return U(d,V("default",m))}y$3.loading=(d,m)=>U(d,V("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...m}));function Gt(d,{pending:m,error:g,success:w},D){let H;m&&(H=N$1(m)?y$3.loading(m,D):y$3.loading(m.render,{...D,...m}));let q={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},te=(ne,ie,ae)=>{if(ie==null){y$3.dismiss(H);return}let se={type:ne,...q,...D,data:ae},le=N$1(ie)?{render:ie}:ie;return H?y$3.update(H,{...se,...le}):y$3(le.render,{...se,...le}),ae},re=P(d)?d():d;return re.then(ne=>te("success",w,ne)).catch(ne=>te("error",g,ne)),re}y$3.promise=Gt;y$3.success=Q("success");y$3.info=Q("info");y$3.error=Q("error");y$3.warning=Q("warning");y$3.warn=y$3.warning;y$3.dark=(d,m)=>U(d,V("default",{theme:"dark",...m}));function qt(d){ht(d)}y$3.dismiss=qt;y$3.clearWaitingQueue=Ct;y$3.isActive=X;y$3.update=(d,m={})=>{let g=vt(d,m);if(g){let{props:w,content:D}=g,H={delay:100,...w,...m,toastId:m.toastId||d,updateId:at()};H.toastId!==d&&(H.staleId=d);let q=H.render||D;delete H.render,U(q,H)}};y$3.done=d=>{y$3.update(d,{progress:1})};y$3.onChange=Pt;y$3.play=d=>rt(!0,d);y$3.pause=d=>rt(!1,d);function It(d){var m;let{subscribe:g,getSnapshot:w,setProps:D}=reactExports.useRef(Et(d)).current;D(d);let H=(m=reactExports.useSyncExternalStore(g,w,w))==null?void 0:m.slice();function q(te){if(!H)return[];let re=new Map;return d.newestOnTop&&H.reverse(),H.forEach(ne=>{let{position:ie}=ne.props;re.has(ie)||re.set(ie,[]),re.get(ie).push(ne)}),Array.from(re,ne=>te(ne[0],ne[1]))}return{getToastToRender:q,isToastActive:X,count:H==null?void 0:H.length}}function At(d){let[m,g]=reactExports.useState(!1),[w,D]=reactExports.useState(!1),H=reactExports.useRef(null),q=reactExports.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:te,pauseOnHover:re,closeToast:ne,onClick:ie,closeOnClick:ae}=d;xt({id:d.toastId,containerId:d.containerId,fn:g}),reactExports.useEffect(()=>{if(d.pauseOnFocusLoss)return se(),()=>{le()}},[d.pauseOnFocusLoss]);function se(){document.hasFocus()||me(),window.addEventListener("focus",de),window.addEventListener("blur",me)}function le(){window.removeEventListener("focus",de),window.removeEventListener("blur",me)}function ue(be){if(d.draggable===!0||d.draggable===be.pointerType){ge();let Se=H.current;q.canCloseOnClick=!0,q.canDrag=!0,Se.style.transition="none",d.draggableDirection==="x"?(q.start=be.clientX,q.removalDistance=Se.offsetWidth*(d.draggablePercent/100)):(q.start=be.clientY,q.removalDistance=Se.offsetHeight*(d.draggablePercent===80?d.draggablePercent*1.5:d.draggablePercent)/100)}}function fe(be){let{top:Se,bottom:Ee,left:Ie,right:_e}=H.current.getBoundingClientRect();be.nativeEvent.type!=="touchend"&&d.pauseOnHover&&be.clientX>=Ie&&be.clientX<=_e&&be.clientY>=Se&&be.clientY<=Ee?me():de()}function de(){g(!0)}function me(){g(!1)}function ge(){q.didMove=!1,document.addEventListener("pointermove",pe),document.addEventListener("pointerup",ve)}function he(){document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",ve)}function pe(be){let Se=H.current;if(q.canDrag&&Se){q.didMove=!0,m&&me(),d.draggableDirection==="x"?q.delta=be.clientX-q.start:q.delta=be.clientY-q.start,q.start!==be.clientX&&(q.canCloseOnClick=!1);let Ee=d.draggableDirection==="x"?`${q.delta}px, var(--y)`:`0, calc(${q.delta}px + var(--y))`;Se.style.transform=`translate3d(${Ee},0)`,Se.style.opacity=`${1-Math.abs(q.delta/q.removalDistance)}`}}function ve(){he();let be=H.current;if(q.canDrag&&q.didMove&&be){if(q.canDrag=!1,Math.abs(q.delta)>q.removalDistance){D(!0),d.closeToast(!0),d.collapseAll();return}be.style.transition="transform 0.2s, opacity 0.2s",be.style.removeProperty("transform"),be.style.removeProperty("opacity")}}let ke={onPointerDown:ue,onPointerUp:fe};return te&&re&&(ke.onMouseEnter=me,d.stacked||(ke.onMouseLeave=de)),ae&&(ke.onClick=be=>{ie&&ie(be),q.canCloseOnClick&&ne(!0)}),{playToast:de,pauseToast:me,isRunning:m,preventExitTransition:w,toastRef:H,eventHandlers:ke}}var Ot=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,G=({theme:d,type:m,isLoading:g,...w})=>ct.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:d==="colored"?"currentColor":`var(--toastify-icon-color-${m})`,...w});function ao(d){return ct.createElement(G,{...d},ct.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function so(d){return ct.createElement(G,{...d},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function no(d){return ct.createElement(G,{...d},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ro(d){return ct.createElement(G,{...d},ct.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function io(){return ct.createElement("div",{className:"Toastify__spinner"})}var W={info:so,warning:ao,success:no,error:ro,spinner:io},lo=d=>d in W;function Nt({theme:d,type:m,isLoading:g,icon:w}){let D=null,H={theme:d,type:m};return w===!1||(P(w)?D=w({...H,isLoading:g}):reactExports.isValidElement(w)?D=reactExports.cloneElement(w,H):g?D=W.spinner():lo(m)&&(D=W[m](H))),D}var wt=d=>{let{isRunning:m,preventExitTransition:g,toastRef:w,eventHandlers:D,playToast:H}=At(d),{closeButton:q,children:te,autoClose:re,onClick:ne,type:ie,hideProgressBar:ae,closeToast:se,transition:le,position:ue,className:fe,style:de,progressClassName:me,updateId:ge,role:he,progress:pe,rtl:ve,toastId:ke,deleteToast:be,isIn:Se,isLoading:Ee,closeOnClick:Ie,theme:_e,ariaLabel:Te}=d,Le=clsx("Toastify__toast",`Toastify__toast-theme--${_e}`,`Toastify__toast--${ie}`,{"Toastify__toast--rtl":ve},{"Toastify__toast--close-on-click":Ie}),Be=P(fe)?fe({rtl:ve,position:ue,type:ie,defaultClassName:Le}):clsx(Le,fe),Ce=Nt(d),ze=!!pe||!re,Ke={closeToast:se,type:ie,theme:_e},je=null;return q===!1||(P(q)?je=q(Ke):reactExports.isValidElement(q)?je=reactExports.cloneElement(q,Ke):je=yt(Ke)),ct.createElement(le,{isIn:Se,done:be,position:ue,preventExitTransition:g,nodeRef:w,playToast:H},ct.createElement("div",{id:ke,tabIndex:0,onClick:ne,"data-in":Se,className:Be,...D,style:de,ref:w,...Se&&{role:he,"aria-label":Te}},Ce!=null&&ct.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Ee})},Ce),tt(te,d,!m),je,!d.customProgressBar&&ct.createElement(gt,{...ge&&!ze?{key:`p-${ge}`}:{},rtl:ve,theme:_e,delay:re,isRunning:m,isIn:Se,closeToast:se,hide:ae,type:ie,className:me,controlledProgress:ze,progress:pe||0})))},K=(d,m=!1)=>({enter:`Toastify--animate Toastify__${d}-enter`,exit:`Toastify--animate Toastify__${d}-exit`,appendPosition:m}),lt=$(K("bounce",!0)),_o={position:"top-right",transition:lt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:d=>d.altKey&&d.code==="KeyT"};function Lt(d){let m={..._o,...d},g=d.stacked,[w,D]=reactExports.useState(!0),H=reactExports.useRef(null),{getToastToRender:q,isToastActive:te,count:re}=It(m),{className:ne,style:ie,rtl:ae,containerId:se,hotKeys:le}=m;function ue(de){let me=clsx("Toastify__toast-container",`Toastify__toast-container--${de}`,{"Toastify__toast-container--rtl":ae});return P(ne)?ne({position:de,rtl:ae,defaultClassName:me}):clsx(me,B$1(ne))}function fe(){g&&(D(!0),y$3.play())}return Ot(()=>{var de;if(g){let me=H.current.querySelectorAll('[data-in="true"]'),ge=12,he=(de=m.position)==null?void 0:de.includes("top"),pe=0,ve=0;Array.from(me).reverse().forEach((ke,be)=>{let Se=ke;Se.classList.add("Toastify__toast--stacked"),be>0&&(Se.dataset.collapsed=`${w}`),Se.dataset.pos||(Se.dataset.pos=he?"top":"bot");let Ee=pe*(w?.2:1)+(w?0:ge*be);Se.style.setProperty("--y",`${he?Ee:Ee*-1}px`),Se.style.setProperty("--g",`${ge}`),Se.style.setProperty("--s",`${1-(w?ve:0)}`),pe+=Se.offsetHeight,ve+=.025})}},[w,re,g]),reactExports.useEffect(()=>{function de(me){var ge;let he=H.current;le(me)&&((ge=he.querySelector('[tabIndex="0"]'))==null||ge.focus(),D(!1),y$3.pause()),me.key==="Escape"&&(document.activeElement===he||he!=null&&he.contains(document.activeElement))&&(D(!0),y$3.play())}return document.addEventListener("keydown",de),()=>{document.removeEventListener("keydown",de)}},[le]),ct.createElement("section",{ref:H,className:"Toastify",id:se,onMouseEnter:()=>{g&&(D(!1),y$3.pause())},onMouseLeave:fe,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":m["aria-label"]},q((de,me)=>{let ge=me.length?{...ie}:{...ie,pointerEvents:"none"};return ct.createElement("div",{tabIndex:-1,className:ue(de),"data-stacked":g,style:ge,key:`c-${de}`},me.map(({content:he,props:pe})=>ct.createElement(wt,{...pe,stacked:g,collapseAll:fe,isIn:te(pe.toastId,pe.containerId),key:`t-${pe.key}`},he)))}))}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function getAugmentedNamespace(d){if(d.__esModule)return d;var m=d.default;if(typeof m=="function"){var g=function w(){return this instanceof w?Reflect.construct(m,arguments,this.constructor):m.apply(this,arguments)};g.prototype=m.prototype}else g={};return Object.defineProperty(g,"__esModule",{value:!0}),Object.keys(d).forEach(function(w){var D=Object.getOwnPropertyDescriptor(d,w);Object.defineProperty(g,w,D.get?D:{enumerable:!0,get:function(){return d[w]}})}),g}typeof self>"u"&&typeof commonjsGlobal=="object"&&(commonjsGlobal.self=commonjsGlobal);var global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0;m<64;++m)lookup[m]=d[m],revLookup[d.charCodeAt(m)]=m;revLookup[45]=62,revLookup[95]=63}function toByteArray(d){var m,g,w,D,H,q;inited||init();var te=d.length;if(te%4>0)throw new Error("Invalid string. Length must be a multiple of 4");H=d[te-2]==="="?2:d[te-1]==="="?1:0,q=new Arr(3*te/4-H),w=H>0?te-4:te;var re=0;for(m=0,g=0;m<w;m+=4,g+=3)D=revLookup[d.charCodeAt(m)]<<18|revLookup[d.charCodeAt(m+1)]<<12|revLookup[d.charCodeAt(m+2)]<<6|revLookup[d.charCodeAt(m+3)],q[re++]=D>>16&255,q[re++]=D>>8&255,q[re++]=255&D;return H===2?(D=revLookup[d.charCodeAt(m)]<<2|revLookup[d.charCodeAt(m+1)]>>4,q[re++]=255&D):H===1&&(D=revLookup[d.charCodeAt(m)]<<10|revLookup[d.charCodeAt(m+1)]<<4|revLookup[d.charCodeAt(m+2)]>>2,q[re++]=D>>8&255,q[re++]=255&D),q}function tripletToBase64(d){return lookup[d>>18&63]+lookup[d>>12&63]+lookup[d>>6&63]+lookup[63&d]}function encodeChunk(d,m,g){for(var w,D=[],H=m;H<g;H+=3)w=(d[H]<<16)+(d[H+1]<<8)+d[H+2],D.push(tripletToBase64(w));return D.join("")}function fromByteArray(d){var m;inited||init();for(var g=d.length,w=g%3,D="",H=[],q=16383,te=0,re=g-w;te<re;te+=q)H.push(encodeChunk(d,te,te+q>re?re:te+q));return w===1?(m=d[g-1],D+=lookup[m>>2],D+=lookup[m<<4&63],D+="=="):w===2&&(m=(d[g-2]<<8)+d[g-1],D+=lookup[m>>10],D+=lookup[m>>4&63],D+=lookup[m<<2&63],D+="="),H.push(D),H.join("")}function read(d,m,g,w,D){var H,q,te=8*D-w-1,re=(1<<te)-1,ne=re>>1,ie=-7,ae=g?D-1:0,se=g?-1:1,le=d[m+ae];for(ae+=se,H=le&(1<<-ie)-1,le>>=-ie,ie+=te;ie>0;H=256*H+d[m+ae],ae+=se,ie-=8);for(q=H&(1<<-ie)-1,H>>=-ie,ie+=w;ie>0;q=256*q+d[m+ae],ae+=se,ie-=8);if(H===0)H=1-ne;else{if(H===re)return q?NaN:1/0*(le?-1:1);q+=Math.pow(2,w),H-=ne}return(le?-1:1)*q*Math.pow(2,H-w)}function write(d,m,g,w,D,H){var q,te,re,ne=8*H-D-1,ie=(1<<ne)-1,ae=ie>>1,se=D===23?Math.pow(2,-24)-Math.pow(2,-77):0,le=w?0:H-1,ue=w?1:-1,fe=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(te=isNaN(m)?1:0,q=ie):(q=Math.floor(Math.log(m)/Math.LN2),m*(re=Math.pow(2,-q))<1&&(q--,re*=2),(m+=q+ae>=1?se/re:se*Math.pow(2,1-ae))*re>=2&&(q++,re/=2),q+ae>=ie?(te=0,q=ie):q+ae>=1?(te=(m*re-1)*Math.pow(2,D),q+=ae):(te=m*Math.pow(2,ae-1)*Math.pow(2,D),q=0));D>=8;d[g+le]=255&te,le+=ue,te/=256,D-=8);for(q=q<<D|te,ne+=D;ne>0;d[g+le]=255&q,le+=ue,q/=256,ne-=8);d[g+le-ue]|=128*fe}var toString={}.toString,isArray=Array.isArray||function(d){return toString.call(d)=="[object Array]"},INSPECT_MAX_BYTES=50;function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(d,m){if(kMaxLength()<m)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(d=new Uint8Array(m)).__proto__=Buffer.prototype:(d===null&&(d=new Buffer(m)),d.length=m),d}function Buffer(d,m,g){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(d,m,g);if(typeof d=="number"){if(typeof m=="string")throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,d)}return from(this,d,m,g)}function from(d,m,g,w){if(typeof m=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&m instanceof ArrayBuffer?fromArrayBuffer(d,m,g,w):typeof m=="string"?fromString(d,m,g):fromObject(d,m)}function assertSize(d){if(typeof d!="number")throw new TypeError('"size" argument must be a number');if(d<0)throw new RangeError('"size" argument must not be negative')}function alloc(d,m,g,w){return assertSize(m),m<=0?createBuffer(d,m):g!==void 0?typeof w=="string"?createBuffer(d,m).fill(g,w):createBuffer(d,m).fill(g):createBuffer(d,m)}function allocUnsafe(d,m){if(assertSize(m),d=createBuffer(d,m<0?0:0|checked(m)),!Buffer.TYPED_ARRAY_SUPPORT)for(var g=0;g<m;++g)d[g]=0;return d}function fromString(d,m,g){if(typeof g=="string"&&g!==""||(g="utf8"),!Buffer.isEncoding(g))throw new TypeError('"encoding" must be a valid string encoding');var w=0|byteLength(m,g),D=(d=createBuffer(d,w)).write(m,g);return D!==w&&(d=d.slice(0,D)),d}function fromArrayLike(d,m){var g=m.length<0?0:0|checked(m.length);d=createBuffer(d,g);for(var w=0;w<g;w+=1)d[w]=255&m[w];return d}function fromArrayBuffer(d,m,g,w){if(m.byteLength,g<0||m.byteLength<g)throw new RangeError("'offset' is out of bounds");if(m.byteLength<g+(w||0))throw new RangeError("'length' is out of bounds");return m=g===void 0&&w===void 0?new Uint8Array(m):w===void 0?new Uint8Array(m,g):new Uint8Array(m,g,w),Buffer.TYPED_ARRAY_SUPPORT?(d=m).__proto__=Buffer.prototype:d=fromArrayLike(d,m),d}function fromObject(d,m){if(internalIsBuffer(m)){var g=0|checked(m.length);return(d=createBuffer(d,g)).length===0||m.copy(d,0,0,g),d}if(m){if(typeof ArrayBuffer<"u"&&m.buffer instanceof ArrayBuffer||"length"in m)return typeof m.length!="number"||isnan(m.length)?createBuffer(d,0):fromArrayLike(d,m);if(m.type==="Buffer"&&isArray(m.data))return fromArrayLike(d,m.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(d){if(d>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|d}function internalIsBuffer(d){return!(d==null||!d._isBuffer)}function byteLength(d,m){if(internalIsBuffer(d))return d.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(d)||d instanceof ArrayBuffer))return d.byteLength;typeof d!="string"&&(d=""+d);var g=d.length;if(g===0)return 0;for(var w=!1;;)switch(m){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":case void 0:return utf8ToBytes(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*g;case"hex":return g>>>1;case"base64":return base64ToBytes(d).length;default:if(w)return utf8ToBytes(d).length;m=(""+m).toLowerCase(),w=!0}}function slowToString(d,m,g){var w=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0)<=(m>>>=0))return"";for(d||(d="utf8");;)switch(d){case"hex":return hexSlice(this,m,g);case"utf8":case"utf-8":return utf8Slice(this,m,g);case"ascii":return asciiSlice(this,m,g);case"latin1":case"binary":return latin1Slice(this,m,g);case"base64":return base64Slice(this,m,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,m,g);default:if(w)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),w=!0}}function swap(d,m,g){var w=d[m];d[m]=d[g],d[g]=w}function bidirectionalIndexOf(d,m,g,w,D){if(d.length===0)return-1;if(typeof g=="string"?(w=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,isNaN(g)&&(g=D?0:d.length-1),g<0&&(g=d.length+g),g>=d.length){if(D)return-1;g=d.length-1}else if(g<0){if(!D)return-1;g=0}if(typeof m=="string"&&(m=Buffer.from(m,w)),internalIsBuffer(m))return m.length===0?-1:arrayIndexOf(d,m,g,w,D);if(typeof m=="number")return m&=255,Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?D?Uint8Array.prototype.indexOf.call(d,m,g):Uint8Array.prototype.lastIndexOf.call(d,m,g):arrayIndexOf(d,[m],g,w,D);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(d,m,g,w,D){var H,q=1,te=d.length,re=m.length;if(w!==void 0&&((w=String(w).toLowerCase())==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(d.length<2||m.length<2)return-1;q=2,te/=2,re/=2,g/=2}function ne(le,ue){return q===1?le[ue]:le.readUInt16BE(ue*q)}if(D){var ie=-1;for(H=g;H<te;H++)if(ne(d,H)===ne(m,ie===-1?0:H-ie)){if(ie===-1&&(ie=H),H-ie+1===re)return ie*q}else ie!==-1&&(H-=H-ie),ie=-1}else for(g+re>te&&(g=te-re),H=g;H>=0;H--){for(var ae=!0,se=0;se<re;se++)if(ne(d,H+se)!==ne(m,se)){ae=!1;break}if(ae)return H}return-1}function hexWrite(d,m,g,w){g=Number(g)||0;var D=d.length-g;w?(w=Number(w))>D&&(w=D):w=D;var H=m.length;if(H%2!=0)throw new TypeError("Invalid hex string");w>H/2&&(w=H/2);for(var q=0;q<w;++q){var te=parseInt(m.substr(2*q,2),16);if(isNaN(te))return q;d[g+q]=te}return q}function utf8Write(d,m,g,w){return blitBuffer(utf8ToBytes(m,d.length-g),d,g,w)}function asciiWrite(d,m,g,w){return blitBuffer(asciiToBytes(m),d,g,w)}function latin1Write(d,m,g,w){return asciiWrite(d,m,g,w)}function base64Write(d,m,g,w){return blitBuffer(base64ToBytes(m),d,g,w)}function ucs2Write(d,m,g,w){return blitBuffer(utf16leToBytes(m,d.length-g),d,g,w)}function base64Slice(d,m,g){return m===0&&g===d.length?fromByteArray(d):fromByteArray(d.slice(m,g))}function utf8Slice(d,m,g){g=Math.min(d.length,g);for(var w=[],D=m;D<g;){var H,q,te,re,ne=d[D],ie=null,ae=ne>239?4:ne>223?3:ne>191?2:1;if(D+ae<=g)switch(ae){case 1:ne<128&&(ie=ne);break;case 2:(192&(H=d[D+1]))==128&&(re=(31&ne)<<6|63&H)>127&&(ie=re);break;case 3:H=d[D+1],q=d[D+2],(192&H)==128&&(192&q)==128&&(re=(15&ne)<<12|(63&H)<<6|63&q)>2047&&(re<55296||re>57343)&&(ie=re);break;case 4:H=d[D+1],q=d[D+2],te=d[D+3],(192&H)==128&&(192&q)==128&&(192&te)==128&&(re=(15&ne)<<18|(63&H)<<12|(63&q)<<6|63&te)>65535&&re<1114112&&(ie=re)}ie===null?(ie=65533,ae=1):ie>65535&&(ie-=65536,w.push(ie>>>10&1023|55296),ie=56320|1023&ie),w.push(ie),D+=ae}return decodeCodePointsArray(w)}Buffer.TYPED_ARRAY_SUPPORT=global$1.TYPED_ARRAY_SUPPORT===void 0||global$1.TYPED_ARRAY_SUPPORT,kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(d){return d.__proto__=Buffer.prototype,d},Buffer.from=function(d,m,g){return from(null,d,m,g)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Buffer[Symbol.species]),Buffer.alloc=function(d,m,g){return alloc(null,d,m,g)},Buffer.allocUnsafe=function(d){return allocUnsafe(null,d)},Buffer.allocUnsafeSlow=function(d){return allocUnsafe(null,d)},Buffer.isBuffer=isBuffer,Buffer.compare=function(d,m){if(!internalIsBuffer(d)||!internalIsBuffer(m))throw new TypeError("Arguments must be Buffers");if(d===m)return 0;for(var g=d.length,w=m.length,D=0,H=Math.min(g,w);D<H;++D)if(d[D]!==m[D]){g=d[D],w=m[D];break}return g<w?-1:w<g?1:0},Buffer.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(d,m){if(!isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return Buffer.alloc(0);var g;if(m===void 0)for(m=0,g=0;g<d.length;++g)m+=d[g].length;var w=Buffer.allocUnsafe(m),D=0;for(g=0;g<d.length;++g){var H=d[g];if(!internalIsBuffer(H))throw new TypeError('"list" argument must be an Array of Buffers');H.copy(w,D),D+=H.length}return w},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<d;m+=2)swap(this,m,m+1);return this},Buffer.prototype.swap32=function(){var d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<d;m+=4)swap(this,m,m+3),swap(this,m+1,m+2);return this},Buffer.prototype.swap64=function(){var d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<d;m+=8)swap(this,m,m+7),swap(this,m+1,m+6),swap(this,m+2,m+5),swap(this,m+3,m+4);return this},Buffer.prototype.toString=function(){var d=0|this.length;return d===0?"":arguments.length===0?utf8Slice(this,0,d):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(d){if(!internalIsBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d||Buffer.compare(this,d)===0},Buffer.prototype.inspect=function(){var d="",m=INSPECT_MAX_BYTES;return this.length>0&&(d=this.toString("hex",0,m).match(/.{2}/g).join(" "),this.length>m&&(d+=" ... ")),"<Buffer "+d+">"},Buffer.prototype.compare=function(d,m,g,w,D){if(!internalIsBuffer(d))throw new TypeError("Argument must be a Buffer");if(m===void 0&&(m=0),g===void 0&&(g=d?d.length:0),w===void 0&&(w=0),D===void 0&&(D=this.length),m<0||g>d.length||w<0||D>this.length)throw new RangeError("out of range index");if(w>=D&&m>=g)return 0;if(w>=D)return-1;if(m>=g)return 1;if(this===d)return 0;for(var H=(D>>>=0)-(w>>>=0),q=(g>>>=0)-(m>>>=0),te=Math.min(H,q),re=this.slice(w,D),ne=d.slice(m,g),ie=0;ie<te;++ie)if(re[ie]!==ne[ie]){H=re[ie],q=ne[ie];break}return H<q?-1:q<H?1:0},Buffer.prototype.includes=function(d,m,g){return this.indexOf(d,m,g)!==-1},Buffer.prototype.indexOf=function(d,m,g){return bidirectionalIndexOf(this,d,m,g,!0)},Buffer.prototype.lastIndexOf=function(d,m,g){return bidirectionalIndexOf(this,d,m,g,!1)},Buffer.prototype.write=function(d,m,g,w){if(m===void 0)w="utf8",g=this.length,m=0;else if(g===void 0&&typeof m=="string")w=m,g=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m|=0,isFinite(g)?(g|=0,w===void 0&&(w="utf8")):(w=g,g=void 0)}var D=this.length-m;if((g===void 0||g>D)&&(g=D),d.length>0&&(g<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");w||(w="utf8");for(var H=!1;;)switch(w){case"hex":return hexWrite(this,d,m,g);case"utf8":case"utf-8":return utf8Write(this,d,m,g);case"ascii":return asciiWrite(this,d,m,g);case"latin1":case"binary":return latin1Write(this,d,m,g);case"base64":return base64Write(this,d,m,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,d,m,g);default:if(H)throw new TypeError("Unknown encoding: "+w);w=(""+w).toLowerCase(),H=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(d){var m=d.length;if(m<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,d);for(var g="",w=0;w<m;)g+=String.fromCharCode.apply(String,d.slice(w,w+=MAX_ARGUMENTS_LENGTH));return g}function asciiSlice(d,m,g){var w="";g=Math.min(d.length,g);for(var D=m;D<g;++D)w+=String.fromCharCode(127&d[D]);return w}function latin1Slice(d,m,g){var w="";g=Math.min(d.length,g);for(var D=m;D<g;++D)w+=String.fromCharCode(d[D]);return w}function hexSlice(d,m,g){var w=d.length;(!m||m<0)&&(m=0),(!g||g<0||g>w)&&(g=w);for(var D="",H=m;H<g;++H)D+=toHex(d[H]);return D}function utf16leSlice(d,m,g){for(var w=d.slice(m,g),D="",H=0;H<w.length;H+=2)D+=String.fromCharCode(w[H]+256*w[H+1]);return D}function checkOffset(d,m,g){if(d%1!=0||d<0)throw new RangeError("offset is not uint");if(d+m>g)throw new RangeError("Trying to access beyond buffer length")}function checkInt(d,m,g,w,D,H){if(!internalIsBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>D||m<H)throw new RangeError('"value" argument is out of bounds');if(g+w>d.length)throw new RangeError("Index out of range")}function objectWriteUInt16(d,m,g,w){m<0&&(m=65535+m+1);for(var D=0,H=Math.min(d.length-g,2);D<H;++D)d[g+D]=(m&255<<8*(w?D:1-D))>>>8*(w?D:1-D)}function objectWriteUInt32(d,m,g,w){m<0&&(m=4294967295+m+1);for(var D=0,H=Math.min(d.length-g,4);D<H;++D)d[g+D]=m>>>8*(w?D:3-D)&255}function checkIEEE754(d,m,g,w,D,H){if(g+w>d.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function writeFloat(d,m,g,w,D){return D||checkIEEE754(d,m,g,4),write(d,m,g,w,23,4),g+4}function writeDouble(d,m,g,w,D){return D||checkIEEE754(d,m,g,8),write(d,m,g,w,52,8),g+8}Buffer.prototype.slice=function(d,m){var g,w=this.length;if((d=~~d)<0?(d+=w)<0&&(d=0):d>w&&(d=w),(m=m===void 0?w:~~m)<0?(m+=w)<0&&(m=0):m>w&&(m=w),m<d&&(m=d),Buffer.TYPED_ARRAY_SUPPORT)(g=this.subarray(d,m)).__proto__=Buffer.prototype;else{var D=m-d;g=new Buffer(D,void 0);for(var H=0;H<D;++H)g[H]=this[H+d]}return g},Buffer.prototype.readUIntLE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d],D=1,H=0;++H<m&&(D*=256);)w+=this[d+H]*D;return w},Buffer.prototype.readUIntBE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d+--m],D=1;m>0&&(D*=256);)w+=this[d+--m]*D;return w},Buffer.prototype.readUInt8=function(d,m){return m||checkOffset(d,1,this.length),this[d]},Buffer.prototype.readUInt16LE=function(d,m){return m||checkOffset(d,2,this.length),this[d]|this[d+1]<<8},Buffer.prototype.readUInt16BE=function(d,m){return m||checkOffset(d,2,this.length),this[d]<<8|this[d+1]},Buffer.prototype.readUInt32LE=function(d,m){return m||checkOffset(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+16777216*this[d+3]},Buffer.prototype.readUInt32BE=function(d,m){return m||checkOffset(d,4,this.length),16777216*this[d]+(this[d+1]<<16|this[d+2]<<8|this[d+3])},Buffer.prototype.readIntLE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d],D=1,H=0;++H<m&&(D*=256);)w+=this[d+H]*D;return w>=(D*=128)&&(w-=Math.pow(2,8*m)),w},Buffer.prototype.readIntBE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=m,D=1,H=this[d+--w];w>0&&(D*=256);)H+=this[d+--w]*D;return H>=(D*=128)&&(H-=Math.pow(2,8*m)),H},Buffer.prototype.readInt8=function(d,m){return m||checkOffset(d,1,this.length),128&this[d]?-1*(255-this[d]+1):this[d]},Buffer.prototype.readInt16LE=function(d,m){m||checkOffset(d,2,this.length);var g=this[d]|this[d+1]<<8;return 32768&g?4294901760|g:g},Buffer.prototype.readInt16BE=function(d,m){m||checkOffset(d,2,this.length);var g=this[d+1]|this[d]<<8;return 32768&g?4294901760|g:g},Buffer.prototype.readInt32LE=function(d,m){return m||checkOffset(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},Buffer.prototype.readInt32BE=function(d,m){return m||checkOffset(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},Buffer.prototype.readFloatLE=function(d,m){return m||checkOffset(d,4,this.length),read(this,d,!0,23,4)},Buffer.prototype.readFloatBE=function(d,m){return m||checkOffset(d,4,this.length),read(this,d,!1,23,4)},Buffer.prototype.readDoubleLE=function(d,m){return m||checkOffset(d,8,this.length),read(this,d,!0,52,8)},Buffer.prototype.readDoubleBE=function(d,m){return m||checkOffset(d,8,this.length),read(this,d,!1,52,8)},Buffer.prototype.writeUIntLE=function(d,m,g,w){d=+d,m|=0,g|=0,w||checkInt(this,d,m,g,Math.pow(2,8*g)-1,0);var D=1,H=0;for(this[m]=255&d;++H<g&&(D*=256);)this[m+H]=d/D&255;return m+g},Buffer.prototype.writeUIntBE=function(d,m,g,w){d=+d,m|=0,g|=0,w||checkInt(this,d,m,g,Math.pow(2,8*g)-1,0);var D=g-1,H=1;for(this[m+D]=255&d;--D>=0&&(H*=256);)this[m+D]=d/H&255;return m+g},Buffer.prototype.writeUInt8=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),this[m]=255&d,m+1},Buffer.prototype.writeUInt16LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8):objectWriteUInt16(this,d,m,!0),m+2},Buffer.prototype.writeUInt16BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>8,this[m+1]=255&d):objectWriteUInt16(this,d,m,!1),m+2},Buffer.prototype.writeUInt32LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m+3]=d>>>24,this[m+2]=d>>>16,this[m+1]=d>>>8,this[m]=255&d):objectWriteUInt32(this,d,m,!0),m+4},Buffer.prototype.writeUInt32BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=255&d):objectWriteUInt32(this,d,m,!1),m+4},Buffer.prototype.writeIntLE=function(d,m,g,w){if(d=+d,m|=0,!w){var D=Math.pow(2,8*g-1);checkInt(this,d,m,g,D-1,-D)}var H=0,q=1,te=0;for(this[m]=255&d;++H<g&&(q*=256);)d<0&&te===0&&this[m+H-1]!==0&&(te=1),this[m+H]=(d/q|0)-te&255;return m+g},Buffer.prototype.writeIntBE=function(d,m,g,w){if(d=+d,m|=0,!w){var D=Math.pow(2,8*g-1);checkInt(this,d,m,g,D-1,-D)}var H=g-1,q=1,te=0;for(this[m+H]=255&d;--H>=0&&(q*=256);)d<0&&te===0&&this[m+H+1]!==0&&(te=1),this[m+H]=(d/q|0)-te&255;return m+g},Buffer.prototype.writeInt8=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),d<0&&(d=255+d+1),this[m]=255&d,m+1},Buffer.prototype.writeInt16LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8):objectWriteUInt16(this,d,m,!0),m+2},Buffer.prototype.writeInt16BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>8,this[m+1]=255&d):objectWriteUInt16(this,d,m,!1),m+2},Buffer.prototype.writeInt32LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8,this[m+2]=d>>>16,this[m+3]=d>>>24):objectWriteUInt32(this,d,m,!0),m+4},Buffer.prototype.writeInt32BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=255&d):objectWriteUInt32(this,d,m,!1),m+4},Buffer.prototype.writeFloatLE=function(d,m,g){return writeFloat(this,d,m,!0,g)},Buffer.prototype.writeFloatBE=function(d,m,g){return writeFloat(this,d,m,!1,g)},Buffer.prototype.writeDoubleLE=function(d,m,g){return writeDouble(this,d,m,!0,g)},Buffer.prototype.writeDoubleBE=function(d,m,g){return writeDouble(this,d,m,!1,g)},Buffer.prototype.copy=function(d,m,g,w){if(g||(g=0),w||w===0||(w=this.length),m>=d.length&&(m=d.length),m||(m=0),w>0&&w<g&&(w=g),w===g||d.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("sourceStart out of bounds");if(w<0)throw new RangeError("sourceEnd out of bounds");w>this.length&&(w=this.length),d.length-m<w-g&&(w=d.length-m+g);var D,H=w-g;if(this===d&&g<m&&m<w)for(D=H-1;D>=0;--D)d[D+m]=this[D+g];else if(H<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(D=0;D<H;++D)d[D+m]=this[D+g];else Uint8Array.prototype.set.call(d,this.subarray(g,g+H),m);return H},Buffer.prototype.fill=function(d,m,g,w){if(typeof d=="string"){if(typeof m=="string"?(w=m,m=0,g=this.length):typeof g=="string"&&(w=g,g=this.length),d.length===1){var D=d.charCodeAt(0);D<256&&(d=D)}if(w!==void 0&&typeof w!="string")throw new TypeError("encoding must be a string");if(typeof w=="string"&&!Buffer.isEncoding(w))throw new TypeError("Unknown encoding: "+w)}else typeof d=="number"&&(d&=255);if(m<0||this.length<m||this.length<g)throw new RangeError("Out of range index");if(g<=m)return this;var H;if(m>>>=0,g=g===void 0?this.length:g>>>0,d||(d=0),typeof d=="number")for(H=m;H<g;++H)this[H]=d;else{var q=internalIsBuffer(d)?d:utf8ToBytes(new Buffer(d,w).toString()),te=q.length;for(H=0;H<g-m;++H)this[H+m]=q[H%te]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g,HeaderTypes;function base64clean(d){if((d=stringtrim(d).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;d.length%4!=0;)d+="=";return d}function stringtrim(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function toHex(d){return d<16?"0"+d.toString(16):d.toString(16)}function utf8ToBytes(d,m){var g;m=m||1/0;for(var w=d.length,D=null,H=[],q=0;q<w;++q){if((g=d.charCodeAt(q))>55295&&g<57344){if(!D){if(g>56319){(m-=3)>-1&&H.push(239,191,189);continue}if(q+1===w){(m-=3)>-1&&H.push(239,191,189);continue}D=g;continue}if(g<56320){(m-=3)>-1&&H.push(239,191,189),D=g;continue}g=65536+(D-55296<<10|g-56320)}else D&&(m-=3)>-1&&H.push(239,191,189);if(D=null,g<128){if((m-=1)<0)break;H.push(g)}else if(g<2048){if((m-=2)<0)break;H.push(g>>6|192,63&g|128)}else if(g<65536){if((m-=3)<0)break;H.push(g>>12|224,g>>6&63|128,63&g|128)}else{if(!(g<1114112))throw new Error("Invalid code point");if((m-=4)<0)break;H.push(g>>18|240,g>>12&63|128,g>>6&63|128,63&g|128)}}return H}function asciiToBytes(d){for(var m=[],g=0;g<d.length;++g)m.push(255&d.charCodeAt(g));return m}function utf16leToBytes(d,m){for(var g,w,D,H=[],q=0;q<d.length&&!((m-=2)<0);++q)w=(g=d.charCodeAt(q))>>8,D=g%256,H.push(D),H.push(w);return H}function base64ToBytes(d){return toByteArray(base64clean(d))}function blitBuffer(d,m,g,w){for(var D=0;D<w&&!(D+g>=m.length||D>=d.length);++D)m[D+g]=d[D];return D}function isnan(d){return d!=d}function isBuffer(d){return d!=null&&(!!d._isBuffer||isFastBuffer(d)||isSlowBuffer(d))}function isFastBuffer(d){return!!d.constructor&&typeof d.constructor.isBuffer=="function"&&d.constructor.isBuffer(d)}function isSlowBuffer(d){return typeof d.readFloatLE=="function"&&typeof d.slice=="function"&&isFastBuffer(d.slice(0,0))}(function(d){d[d.BITMAP_INFO_HEADER=40]="BITMAP_INFO_HEADER",d[d.BITMAP_V2_INFO_HEADER=52]="BITMAP_V2_INFO_HEADER",d[d.BITMAP_V3_INFO_HEADER=56]="BITMAP_V3_INFO_HEADER",d[d.BITMAP_V4_HEADER=108]="BITMAP_V4_HEADER",d[d.BITMAP_V5_HEADER=124]="BITMAP_V5_HEADER"})(HeaderTypes||(HeaderTypes={}));var HeaderTypes$1=HeaderTypes,BmpCompression;function maskColor(d,m,g,w){const D=1+~d&d,H=1+~m&m,q=1+~g&g,te=1+~w&w,re=d/D+1,ne=m/H+1,ie=g/q+1,ae=w/te+1;return{shiftRed:se=>(se&d)/D*256/re,shiftGreen:se=>(se&m)/H*256/ne,shiftBlue:se=>(se&g)/q*256/ie,shiftAlpha:w!==0?se=>(se&w)/te*256/ae:()=>255}}(function(d){d[d.NONE=0]="NONE",d[d.BI_RLE8=1]="BI_RLE8",d[d.BI_RLE4=2]="BI_RLE4",d[d.BI_BIT_FIELDS=3]="BI_BIT_FIELDS",d[d.BI_ALPHA_BIT_FIELDS=6]="BI_ALPHA_BIT_FIELDS"})(BmpCompression||(BmpCompression={}));class BmpDecoder{constructor(m,{toRGBA:g}={toRGBA:!1}){vr(this,"flag");vr(this,"fileSize");vr(this,"reserved1");vr(this,"reserved2");vr(this,"offset");vr(this,"headerSize");vr(this,"width");vr(this,"height");vr(this,"planes");vr(this,"bitPP");vr(this,"compression");vr(this,"rawSize");vr(this,"hr");vr(this,"vr");vr(this,"colors");vr(this,"importantColors");vr(this,"palette");vr(this,"data");vr(this,"maskRed");vr(this,"maskGreen");vr(this,"maskBlue");vr(this,"maskAlpha");vr(this,"toRGBA");vr(this,"pos");vr(this,"bottomUp");vr(this,"buffer");vr(this,"locRed");vr(this,"locGreen");vr(this,"locBlue");vr(this,"locAlpha");vr(this,"shiftRed");vr(this,"shiftGreen");vr(this,"shiftBlue");vr(this,"shiftAlpha");if(this.buffer=m,this.toRGBA=!!g,this.pos=0,this.bottomUp=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!=="BM")throw new Error("Invalid BMP File");this.locRed=this.toRGBA?0:3,this.locGreen=this.toRGBA?1:2,this.locBlue=this.toRGBA?2:1,this.locAlpha=this.toRGBA?3:0,this.parseHeader(),this.parseRGBA()}parseHeader(){if(this.fileSize=this.readUInt32LE(),this.reserved1=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.reserved2=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.offset=this.readUInt32LE(),this.headerSize=this.readUInt32LE(),!(this.headerSize in HeaderTypes$1))throw new Error(`Unsupported BMP header size ${this.headerSize}`);if(this.width=this.readUInt32LE(),this.height=this.readUInt32LE(),this.height=this.height>2147483647?this.height-4294967296:this.height,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compression=this.readUInt32LE(),this.rawSize=this.readUInt32LE(),this.hr=this.readUInt32LE(),this.vr=this.readUInt32LE(),this.colors=this.readUInt32LE(),this.importantColors=this.readUInt32LE(),this.bitPP===32?(this.maskAlpha=0,this.maskRed=16711680,this.maskGreen=65280,this.maskBlue=255):this.bitPP===16&&(this.maskAlpha=0,this.maskRed=31744,this.maskGreen=992,this.maskBlue=31),(this.headerSize>HeaderTypes$1.BITMAP_INFO_HEADER||this.compression===BmpCompression.BI_BIT_FIELDS||this.compression===BmpCompression.BI_ALPHA_BIT_FIELDS)&&(this.maskRed=this.readUInt32LE(),this.maskGreen=this.readUInt32LE(),this.maskBlue=this.readUInt32LE()),(this.headerSize>HeaderTypes$1.BITMAP_V2_INFO_HEADER||this.compression===BmpCompression.BI_ALPHA_BIT_FIELDS)&&(this.maskAlpha=this.readUInt32LE()),this.headerSize>HeaderTypes$1.BITMAP_V3_INFO_HEADER&&(this.pos+=HeaderTypes$1.BITMAP_V4_HEADER-HeaderTypes$1.BITMAP_V3_INFO_HEADER),this.headerSize>HeaderTypes$1.BITMAP_V4_HEADER&&(this.pos+=HeaderTypes$1.BITMAP_V5_HEADER-HeaderTypes$1.BITMAP_V4_HEADER),this.bitPP<=8||this.colors>0){const g=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(g);for(let w=0;w<g;w++){const D=this.buffer.readUInt8(this.pos++),H=this.buffer.readUInt8(this.pos++),q=this.buffer.readUInt8(this.pos++),te=this.buffer.readUInt8(this.pos++);this.palette[w]={red:q,green:H,blue:D,quad:te}}}this.height<0&&(this.height*=-1,this.bottomUp=!1);const m=maskColor(this.maskRed,this.maskGreen,this.maskBlue,this.maskAlpha);this.shiftRed=m.shiftRed,this.shiftGreen=m.shiftGreen,this.shiftBlue=m.shiftBlue,this.shiftAlpha=m.shiftAlpha}parseRGBA(){switch(this.data=Buffer.alloc(this.width*this.height*4),this.bitPP){case 1:this.bit1();break;case 4:this.bit4();break;case 8:this.bit8();break;case 16:this.bit16();break;case 24:this.bit24();break;default:this.bit32()}}bit1(){const m=Math.ceil(this.width/8),g=m%4,w=g!==0?4-g:0;this.scanImage(w,m,(D,H)=>{const q=this.buffer.readUInt8(this.pos++),te=H*this.width*4+8*D*4;for(let re=0;re<8&&8*D+re<this.width;re++){const ne=this.palette[q>>7-re&1];this.data[te+re*this.locAlpha]=0,this.data[te+4*re+this.locBlue]=ne.blue,this.data[te+4*re+this.locGreen]=ne.green,this.data[te+4*re+this.locRed]=ne.red}})}bit4(){if(this.compression===BmpCompression.BI_RLE4){this.data.fill(0);let m=!1,g=this.bottomUp?this.height-1:0,w=0;for(;w<this.data.length;){const D=this.buffer.readUInt8(this.pos++),H=this.buffer.readUInt8(this.pos++);if(D===0){if(H===0){g+=this.bottomUp?-1:1,w=g*this.width*4,m=!1;continue}if(H===1)break;if(H===2){const q=this.buffer.readUInt8(this.pos++),te=this.buffer.readUInt8(this.pos++);g+=this.bottomUp?-te:te,w+=te*this.width*4+4*q}else{let q=this.buffer.readUInt8(this.pos++);for(let te=0;te<H;te++)w=this.setPixelData(w,m?15&q:(240&q)>>4),1&te&&te+1<H&&(q=this.buffer.readUInt8(this.pos++)),m=!m;(H+1>>1&1)==1&&this.pos++}}else for(let q=0;q<D;q++)w=this.setPixelData(w,m?15&H:(240&H)>>4),m=!m}}else{const m=Math.ceil(this.width/2),g=m%4,w=g!==0?4-g:0;this.scanImage(w,m,(D,H)=>{const q=this.buffer.readUInt8(this.pos++),te=H*this.width*4+2*D*4,re=q>>4;let ne=this.palette[re];if(this.data[te]=0,this.data[te+1]=ne.blue,this.data[te+2]=ne.green,this.data[te+3]=ne.red,2*D+1>=this.width)return!1;const ie=15&q;ne=this.palette[ie],this.data[te+4]=0,this.data[te+4+1]=ne.blue,this.data[te+4+2]=ne.green,this.data[te+4+3]=ne.red})}}bit8(){if(this.compression===BmpCompression.BI_RLE8){this.data.fill(0);let m=this.bottomUp?this.height-1:0,g=0;for(;g<this.data.length;){const w=this.buffer.readUInt8(this.pos++),D=this.buffer.readUInt8(this.pos++);if(w===0){if(D===0){m+=this.bottomUp?-1:1,g=m*this.width*4;continue}if(D===1)break;if(D===2){const H=this.buffer.readUInt8(this.pos++),q=this.buffer.readUInt8(this.pos++);m+=this.bottomUp?-q:q,g+=q*this.width*4+4*H}else{for(let H=0;H<D;H++){const q=this.buffer.readUInt8(this.pos++);g=this.setPixelData(g,q)}!0&D&&this.pos++}}else for(let H=0;H<w;H++)g=this.setPixelData(g,D)}}else{const m=this.width%4,g=m!==0?4-m:0;this.scanImage(g,this.width,(w,D)=>{const H=this.buffer.readUInt8(this.pos++),q=D*this.width*4+4*w;if(H<this.palette.length){const te=this.palette[H];this.data[q]=0,this.data[q+1]=te.blue,this.data[q+2]=te.green,this.data[q+3]=te.red}else this.data[q]=0,this.data[q+1]=255,this.data[q+2]=255,this.data[q+3]=255})}}bit16(){const m=this.width%2*2;this.scanImage(m,this.width,(g,w)=>{const D=w*this.width*4+4*g,H=this.buffer.readUInt16LE(this.pos);this.pos+=2,this.data[D+this.locRed]=this.shiftRed(H),this.data[D+this.locGreen]=this.shiftGreen(H),this.data[D+this.locBlue]=this.shiftBlue(H),this.data[D+this.locAlpha]=this.shiftAlpha(H)})}bit24(){const m=this.width%4;this.scanImage(m,this.width,(g,w)=>{const D=w*this.width*4+4*g,H=this.buffer.readUInt8(this.pos++),q=this.buffer.readUInt8(this.pos++),te=this.buffer.readUInt8(this.pos++);this.data[D+this.locRed]=te,this.data[D+this.locGreen]=q,this.data[D+this.locBlue]=H,this.data[D+this.locAlpha]=0})}bit32(){this.scanImage(0,this.width,(m,g)=>{const w=g*this.width*4+4*m,D=this.readUInt32LE();this.data[w+this.locRed]=this.shiftRed(D),this.data[w+this.locGreen]=this.shiftGreen(D),this.data[w+this.locBlue]=this.shiftBlue(D),this.data[w+this.locAlpha]=this.shiftAlpha(D)})}scanImage(m=0,g=this.width,w){for(let D=this.height-1;D>=0;D--){const H=this.bottomUp?D:this.height-1-D;for(let q=0;q<g;q++)if(w.call(this,q,H)===!1)return;this.pos+=m}}readUInt32LE(){const m=this.buffer.readUInt32LE(this.pos);return this.pos+=4,m}setPixelData(m,g){const{blue:w,green:D,red:H}=this.palette[g];return this.data[m+this.locAlpha]=0,this.data[m+1+this.locBlue]=w,this.data[m+2+this.locGreen]=D,this.data[m+3+this.locRed]=H,m+4}}function createInteger(d){return d.reduce((m,g)=>m<<1|g,0)}function createColor(d){return d.quad<<24|d.red<<16|d.green<<8|d.blue}class BmpEncoder{constructor(m){vr(this,"fileSize");vr(this,"reserved1");vr(this,"reserved2");vr(this,"offset");vr(this,"width");vr(this,"flag");vr(this,"height");vr(this,"planes");vr(this,"bitPP");vr(this,"compress");vr(this,"hr");vr(this,"vr");vr(this,"colors");vr(this,"importantColors");vr(this,"rawSize");vr(this,"headerSize");vr(this,"data");vr(this,"palette");vr(this,"extraBytes");vr(this,"buffer");vr(this,"bytesInColor");vr(this,"pos");switch(this.buffer=m.data,this.width=m.width,this.height=m.height,this.headerSize=HeaderTypes$1.BITMAP_INFO_HEADER,this.flag="BM",this.bitPP=m.bitPP||24,this.offset=54,this.reserved1=m.reserved1||0,this.reserved2=m.reserved2||0,this.planes=1,this.compress=0,this.hr=m.hr||0,this.vr=m.vr||0,this.importantColors=m.importantColors||0,this.colors=Math.min(2**(this.bitPP-1||1),m.colors||1/0),this.palette=m.palette||[],this.colors&&this.bitPP<16?this.offset+=4*this.colors:this.colors=0,this.bitPP){case 32:this.bytesInColor=4;break;case 16:this.bytesInColor=2;break;case 8:this.bytesInColor=1;break;case 4:this.bytesInColor=.5;break;case 1:this.bytesInColor=1/8;break;default:this.bytesInColor=3,this.bitPP=24}const g=this.width*this.bitPP/32,w=Math.ceil(g);this.extraBytes=4*(w-g),this.rawSize=this.height*w*4+2,this.fileSize=this.rawSize+this.offset,this.data=Buffer.alloc(this.fileSize,1),this.pos=0,this.encode()}encode(){switch(this.pos=0,this.writeHeader(),this.bitPP){case 32:this.bit32();break;case 16:this.bit16();break;case 8:this.bit8();break;case 4:this.bit4();break;case 1:this.bit1();break;default:this.bit24()}}writeHeader(){this.data.write(this.flag,this.pos,2),this.pos+=2,this.writeUInt32LE(this.fileSize),this.writeUInt32LE(this.reserved1<<16|this.reserved2),this.writeUInt32LE(this.offset),this.writeUInt32LE(this.headerSize),this.writeUInt32LE(this.width),this.writeUInt32LE(this.height),this.data.writeUInt16LE(this.planes,this.pos),this.pos+=2,this.data.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,this.writeUInt32LE(this.compress),this.writeUInt32LE(this.rawSize),this.writeUInt32LE(this.hr),this.writeUInt32LE(this.vr),this.writeUInt32LE(this.colors),this.writeUInt32LE(this.importantColors)}bit1(){this.palette.length&&this.colors===2?this.initColors(1):(this.writeUInt32LE(16777215),this.writeUInt32LE(0)),this.pos+=1;let m=[];this.writeImage((g,w,D)=>{let H=w;H++;const q=this.buffer[H++],te=this.buffer[H++],re=.2126*this.buffer[H++]+.7152*te+.0722*q;return m.push(re>127?0:1),(D+1)%8==0?(this.data[g-1]=createInteger(m),m=[]):D===this.width-1&&m.length>0&&(this.data[g-1]=createInteger(m)<<4,m=[]),H})}bit4(){const m=this.initColors(4);let g=[];this.writeImage((w,D,H)=>{let q=D;const te=createColor({quad:this.buffer[q++],blue:this.buffer[q++],green:this.buffer[q++],red:this.buffer[q++]}),re=m.findIndex(ne=>ne===te);return re!==-1?g.push(re):g.push(0),(H+1)%2==0&&(this.data[w]=g[0]<<4|g[1],g=[]),q})}bit8(){const m=this.initColors(8);this.writeImage((g,w)=>{let D=w;const H=createColor({quad:this.buffer[D++],blue:this.buffer[D++],green:this.buffer[D++],red:this.buffer[D++]}),q=m.findIndex(te=>te===H);return this.data[g]=q!==-1?q:0,D})}bit16(){this.writeImage((m,g)=>{let w=g+1;const D=this.buffer[w++]/8,H=this.buffer[w++]/8,q=this.buffer[w++]/8<<10|H<<5|D;return this.data[m]=255&q,this.data[m+1]=(65280&q)>>8,w})}bit24(){this.writeImage((m,g)=>{let w=g+1;return this.data[m]=this.buffer[w++],this.data[m+1]=this.buffer[w++],this.data[m+2]=this.buffer[w++],w})}bit32(){this.writeImage((m,g)=>{let w=g;return this.data[m+3]=this.buffer[w++],this.data[m]=this.buffer[w++],this.data[m+1]=this.buffer[w++],this.data[m+2]=this.buffer[w++],w})}writeImage(m){const g=this.extraBytes+this.width*this.bytesInColor;let w=0;for(let D=0;D<this.height;D++)for(let H=0;H<this.width;H++){const q=Math.floor(this.pos+(this.height-1-D)*g+H*this.bytesInColor);w=m.call(this,q,w,H,D)}}initColors(m){const g=[];if(!this.palette.length)throw new Error(`To encode ${m}-bit BMPs a pallette is needed. Please choose up to ${this.colors} colors. Colors must be 32-bit integers.`);for(let w=0;w<this.colors;w++){const D=createColor(this.palette[w]);this.writeUInt32LE(D),g.push(D)}return g}writeUInt32LE(m){this.data.writeUInt32LE(m,this.pos),this.pos+=4}}function decode$2(d,m){return new BmpDecoder(d,m)}function encode$2(d){return new BmpEncoder(d)}function _typeof(d){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},_typeof(d)}var trimLeft=/^\s+/,trimRight=/\s+$/;function tinycolor(d,m){if(m=m||{},(d=d||"")instanceof tinycolor)return d;if(!(this instanceof tinycolor))return new tinycolor(d,m);var g=inputToRGB(d);this._originalInput=d,this._r=g.r,this._g=g.g,this._b=g.b,this._a=g.a,this._roundA=Math.round(100*this._a)/100,this._format=m.format||g.format,this._gradientType=m.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=g.ok}function inputToRGB(d){var m={r:0,g:0,b:0},g=1,w=null,D=null,H=null,q=!1,te=!1;return typeof d=="string"&&(d=stringInputToObject(d)),_typeof(d)=="object"&&(isValidCSSUnit(d.r)&&isValidCSSUnit(d.g)&&isValidCSSUnit(d.b)?(m=rgbToRgb(d.r,d.g,d.b),q=!0,te=String(d.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(d.h)&&isValidCSSUnit(d.s)&&isValidCSSUnit(d.v)?(w=convertToPercentage(d.s),D=convertToPercentage(d.v),m=hsvToRgb(d.h,w,D),q=!0,te="hsv"):isValidCSSUnit(d.h)&&isValidCSSUnit(d.s)&&isValidCSSUnit(d.l)&&(w=convertToPercentage(d.s),H=convertToPercentage(d.l),m=hslToRgb(d.h,w,H),q=!0,te="hsl"),d.hasOwnProperty("a")&&(g=d.a)),g=boundAlpha(g),{ok:q,format:d.format||te,r:Math.min(255,Math.max(m.r,0)),g:Math.min(255,Math.max(m.g,0)),b:Math.min(255,Math.max(m.b,0)),a:g}}function rgbToRgb(d,m,g){return{r:255*bound01(d,255),g:255*bound01(m,255),b:255*bound01(g,255)}}function rgbToHsl(d,m,g){d=bound01(d,255),m=bound01(m,255),g=bound01(g,255);var w,D,H=Math.max(d,m,g),q=Math.min(d,m,g),te=(H+q)/2;if(H==q)w=D=0;else{var re=H-q;switch(D=te>.5?re/(2-H-q):re/(H+q),H){case d:w=(m-g)/re+(m<g?6:0);break;case m:w=(g-d)/re+2;break;case g:w=(d-m)/re+4}w/=6}return{h:w,s:D,l:te}}function hslToRgb(d,m,g){var w,D,H;function q(ne,ie,ae){return ae<0&&(ae+=1),ae>1&&(ae-=1),ae<1/6?ne+6*(ie-ne)*ae:ae<.5?ie:ae<2/3?ne+(ie-ne)*(2/3-ae)*6:ne}if(d=bound01(d,360),m=bound01(m,100),g=bound01(g,100),m===0)w=D=H=g;else{var te=g<.5?g*(1+m):g+m-g*m,re=2*g-te;w=q(re,te,d+1/3),D=q(re,te,d),H=q(re,te,d-1/3)}return{r:255*w,g:255*D,b:255*H}}function rgbToHsv(d,m,g){d=bound01(d,255),m=bound01(m,255),g=bound01(g,255);var w,D,H=Math.max(d,m,g),q=Math.min(d,m,g),te=H,re=H-q;if(D=H===0?0:re/H,H==q)w=0;else{switch(H){case d:w=(m-g)/re+(m<g?6:0);break;case m:w=(g-d)/re+2;break;case g:w=(d-m)/re+4}w/=6}return{h:w,s:D,v:te}}function hsvToRgb(d,m,g){d=6*bound01(d,360),m=bound01(m,100),g=bound01(g,100);var w=Math.floor(d),D=d-w,H=g*(1-m),q=g*(1-D*m),te=g*(1-(1-D)*m),re=w%6;return{r:255*[g,q,H,H,te,g][re],g:255*[te,g,g,q,H,H][re],b:255*[H,H,te,g,g,q][re]}}function rgbToHex(d,m,g,w){var D=[pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16))];return w&&D[0].charAt(0)==D[0].charAt(1)&&D[1].charAt(0)==D[1].charAt(1)&&D[2].charAt(0)==D[2].charAt(1)?D[0].charAt(0)+D[1].charAt(0)+D[2].charAt(0):D.join("")}function rgbaToHex(d,m,g,w,D){var H=[pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16)),pad2(convertDecimalToHex(w))];return D&&H[0].charAt(0)==H[0].charAt(1)&&H[1].charAt(0)==H[1].charAt(1)&&H[2].charAt(0)==H[2].charAt(1)&&H[3].charAt(0)==H[3].charAt(1)?H[0].charAt(0)+H[1].charAt(0)+H[2].charAt(0)+H[3].charAt(0):H.join("")}function rgbaToArgbHex(d,m,g,w){return[pad2(convertDecimalToHex(w)),pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16))].join("")}function _desaturate(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.s-=m/100,g.s=clamp01(g.s),tinycolor(g)}function _saturate(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.s+=m/100,g.s=clamp01(g.s),tinycolor(g)}function _greyscale(d){return tinycolor(d).desaturate(100)}function _lighten(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.l+=m/100,g.l=clamp01(g.l),tinycolor(g)}function _brighten(d,m){m=m===0?0:m||10;var g=tinycolor(d).toRgb();return g.r=Math.max(0,Math.min(255,g.r-Math.round(-m/100*255))),g.g=Math.max(0,Math.min(255,g.g-Math.round(-m/100*255))),g.b=Math.max(0,Math.min(255,g.b-Math.round(-m/100*255))),tinycolor(g)}function _darken(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.l-=m/100,g.l=clamp01(g.l),tinycolor(g)}function _spin(d,m){var g=tinycolor(d).toHsl(),w=(g.h+m)%360;return g.h=w<0?360+w:w,tinycolor(g)}function _complement(d){var m=tinycolor(d).toHsl();return m.h=(m.h+180)%360,tinycolor(m)}function polyad(d,m){if(isNaN(m)||m<=0)throw new Error("Argument to polyad must be a positive number");for(var g=tinycolor(d).toHsl(),w=[tinycolor(d)],D=360/m,H=1;H<m;H++)w.push(tinycolor({h:(g.h+H*D)%360,s:g.s,l:g.l}));return w}function _splitcomplement(d){var m=tinycolor(d).toHsl(),g=m.h;return[tinycolor(d),tinycolor({h:(g+72)%360,s:m.s,l:m.l}),tinycolor({h:(g+216)%360,s:m.s,l:m.l})]}function _analogous(d,m,g){m=m||6,g=g||30;var w=tinycolor(d).toHsl(),D=360/g,H=[tinycolor(d)];for(w.h=(w.h-(D*m>>1)+720)%360;--m;)w.h=(w.h+D)%360,H.push(tinycolor(w));return H}function _monochromatic(d,m){m=m||6;for(var g=tinycolor(d).toHsv(),w=g.h,D=g.s,H=g.v,q=[],te=1/m;m--;)q.push(tinycolor({h:w,s:D,v:H})),H=(H+te)%1;return q}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var d=this.toRgb();return(299*d.r+587*d.g+114*d.b)/1e3},getLuminance:function(){var d,m,g,w=this.toRgb();return d=w.r/255,m=w.g/255,g=w.b/255,.2126*(d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4))+.7152*(m<=.03928?m/12.92:Math.pow((m+.055)/1.055,2.4))+.0722*(g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4))},setAlpha:function(d){return this._a=boundAlpha(d),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var d=rgbToHsv(this._r,this._g,this._b);return{h:360*d.h,s:d.s,v:d.v,a:this._a}},toHsvString:function(){var d=rgbToHsv(this._r,this._g,this._b),m=Math.round(360*d.h),g=Math.round(100*d.s),w=Math.round(100*d.v);return this._a==1?"hsv("+m+", "+g+"%, "+w+"%)":"hsva("+m+", "+g+"%, "+w+"%, "+this._roundA+")"},toHsl:function(){var d=rgbToHsl(this._r,this._g,this._b);return{h:360*d.h,s:d.s,l:d.l,a:this._a}},toHslString:function(){var d=rgbToHsl(this._r,this._g,this._b),m=Math.round(360*d.h),g=Math.round(100*d.s),w=Math.round(100*d.l);return this._a==1?"hsl("+m+", "+g+"%, "+w+"%)":"hsla("+m+", "+g+"%, "+w+"%, "+this._roundA+")"},toHex:function(d){return rgbToHex(this._r,this._g,this._b,d)},toHexString:function(d){return"#"+this.toHex(d)},toHex8:function(d){return rgbaToHex(this._r,this._g,this._b,this._a,d)},toHex8String:function(d){return"#"+this.toHex8(d)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*bound01(this._r,255))+"%",g:Math.round(100*bound01(this._g,255))+"%",b:Math.round(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%)":"rgba("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(d){var m="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),g=m,w=this._gradientType?"GradientType = 1, ":"";if(d){var D=tinycolor(d);g="#"+rgbaToArgbHex(D._r,D._g,D._b,D._a)}return"progid:DXImageTransform.Microsoft.gradient("+w+"startColorstr="+m+",endColorstr="+g+")"},toString:function(d){var m=!!d;d=d||this._format;var g=!1,w=this._a<1&&this._a>=0;return m||!w||d!=="hex"&&d!=="hex6"&&d!=="hex3"&&d!=="hex4"&&d!=="hex8"&&d!=="name"?(d==="rgb"&&(g=this.toRgbString()),d==="prgb"&&(g=this.toPercentageRgbString()),d!=="hex"&&d!=="hex6"||(g=this.toHexString()),d==="hex3"&&(g=this.toHexString(!0)),d==="hex4"&&(g=this.toHex8String(!0)),d==="hex8"&&(g=this.toHex8String()),d==="name"&&(g=this.toName()),d==="hsl"&&(g=this.toHslString()),d==="hsv"&&(g=this.toHsvString()),g||this.toHexString()):d==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return tinycolor(this.toString())},_applyModification:function(d,m){var g=d.apply(null,[this].concat([].slice.call(m)));return this._r=g._r,this._g=g._g,this._b=g._b,this.setAlpha(g._a),this},lighten:function(){return this._applyModification(_lighten,arguments)},brighten:function(){return this._applyModification(_brighten,arguments)},darken:function(){return this._applyModification(_darken,arguments)},desaturate:function(){return this._applyModification(_desaturate,arguments)},saturate:function(){return this._applyModification(_saturate,arguments)},greyscale:function(){return this._applyModification(_greyscale,arguments)},spin:function(){return this._applyModification(_spin,arguments)},_applyCombination:function(d,m){return d.apply(null,[this].concat([].slice.call(m)))},analogous:function(){return this._applyCombination(_analogous,arguments)},complement:function(){return this._applyCombination(_complement,arguments)},monochromatic:function(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(_splitcomplement,arguments)},triad:function(){return this._applyCombination(polyad,[3])},tetrad:function(){return this._applyCombination(polyad,[4])}},tinycolor.fromRatio=function(d,m){if(_typeof(d)=="object"){var g={};for(var w in d)d.hasOwnProperty(w)&&(g[w]=w==="a"?d[w]:convertToPercentage(d[w]));d=g}return tinycolor(d,m)},tinycolor.equals=function(d,m){return!(!d||!m)&&tinycolor(d).toRgbString()==tinycolor(m).toRgbString()},tinycolor.random=function(){return tinycolor.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},tinycolor.mix=function(d,m,g){g=g===0?0:g||50;var w=tinycolor(d).toRgb(),D=tinycolor(m).toRgb(),H=g/100;return tinycolor({r:(D.r-w.r)*H+w.r,g:(D.g-w.g)*H+w.g,b:(D.b-w.b)*H+w.b,a:(D.a-w.a)*H+w.a})},tinycolor.readability=function(d,m){var g=tinycolor(d),w=tinycolor(m);return(Math.max(g.getLuminance(),w.getLuminance())+.05)/(Math.min(g.getLuminance(),w.getLuminance())+.05)},tinycolor.isReadable=function(d,m,g){var w,D,H=tinycolor.readability(d,m);switch(D=!1,(w=validateWCAG2Parms(g)).level+w.size){case"AAsmall":case"AAAlarge":D=H>=4.5;break;case"AAlarge":D=H>=3;break;case"AAAsmall":D=H>=7}return D},tinycolor.mostReadable=function(d,m,g){var w,D,H,q,te=null,re=0;D=(g=g||{}).includeFallbackColors,H=g.level,q=g.size;for(var ne=0;ne<m.length;ne++)(w=tinycolor.readability(d,m[ne]))>re&&(re=w,te=tinycolor(m[ne]));return tinycolor.isReadable(d,te,{level:H,size:q})||!D?te:(g.includeFallbackColors=!1,tinycolor.mostReadable(d,["#fff","#000"],g))};var names$1=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip(names$1);function flip(d){var m={};for(var g in d)d.hasOwnProperty(g)&&(m[d[g]]=g);return m}function boundAlpha(d){return d=parseFloat(d),(isNaN(d)||d<0||d>1)&&(d=1),d}function bound01(d,m){isOnePointZero(d)&&(d="100%");var g=isPercentage(d);return d=Math.min(m,Math.max(0,parseFloat(d))),g&&(d=parseInt(d*m,10)/100),Math.abs(d-m)<1e-6?1:d%m/parseFloat(m)}function clamp01(d){return Math.min(1,Math.max(0,d))}function parseIntFromHex(d){return parseInt(d,16)}function isOnePointZero(d){return typeof d=="string"&&d.indexOf(".")!=-1&&parseFloat(d)===1}function isPercentage(d){return typeof d=="string"&&d.indexOf("%")!=-1}function pad2(d){return d.length==1?"0"+d:""+d}function convertToPercentage(d){return d<=1&&(d=100*d+"%"),d}function convertDecimalToHex(d){return Math.round(255*parseFloat(d)).toString(16)}function convertHexToDecimal(d){return parseIntFromHex(d)/255}var matchers=(CSS_UNIT="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",{CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}),CSS_UNIT,PERMISSIVE_MATCH3,PERMISSIVE_MATCH4;function isValidCSSUnit(d){return!!matchers.CSS_UNIT.exec(d)}function stringInputToObject(d){d=d.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var m,g=!1;if(names$1[d])d=names$1[d],g=!0;else if(d=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(m=matchers.rgb.exec(d))?{r:m[1],g:m[2],b:m[3]}:(m=matchers.rgba.exec(d))?{r:m[1],g:m[2],b:m[3],a:m[4]}:(m=matchers.hsl.exec(d))?{h:m[1],s:m[2],l:m[3]}:(m=matchers.hsla.exec(d))?{h:m[1],s:m[2],l:m[3],a:m[4]}:(m=matchers.hsv.exec(d))?{h:m[1],s:m[2],v:m[3]}:(m=matchers.hsva.exec(d))?{h:m[1],s:m[2],v:m[3],a:m[4]}:(m=matchers.hex8.exec(d))?{r:parseIntFromHex(m[1]),g:parseIntFromHex(m[2]),b:parseIntFromHex(m[3]),a:convertHexToDecimal(m[4]),format:g?"name":"hex8"}:(m=matchers.hex6.exec(d))?{r:parseIntFromHex(m[1]),g:parseIntFromHex(m[2]),b:parseIntFromHex(m[3]),format:g?"name":"hex"}:(m=matchers.hex4.exec(d))?{r:parseIntFromHex(m[1]+""+m[1]),g:parseIntFromHex(m[2]+""+m[2]),b:parseIntFromHex(m[3]+""+m[3]),a:convertHexToDecimal(m[4]+""+m[4]),format:g?"name":"hex8"}:!!(m=matchers.hex3.exec(d))&&{r:parseIntFromHex(m[1]+""+m[1]),g:parseIntFromHex(m[2]+""+m[2]),b:parseIntFromHex(m[3]+""+m[3]),format:g?"name":"hex"}}function validateWCAG2Parms(d){var m,g;return(m=((d=d||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&m!=="AAA"&&(m="AA"),(g=(d.size||"small").toLowerCase())!=="small"&&g!=="large"&&(g="small"),{level:m,size:g}}function clone(d){const m={width:d.bitmap.width,height:d.bitmap.height,data:Buffer.from(d.bitmap.data)};return new d.constructor(m)}function scan(d,m,g,w,D,H){let q,te,re,ne,ie;if(typeof m=="function")ie=m,q=0,te=0,re=d.bitmap.width,ne=d.bitmap.height;else{if(q=m,typeof g!="number")throw new Error("y must be a number");if(te=g,typeof w!="number")throw new Error("w must be a number");if(re=w,typeof D!="number")throw new Error("h must be a number");if(ne=D,typeof H!="function")throw new Error("cb must be a function");ie=H}q=Math.round(q),te=Math.round(te),re=Math.round(re),ne=Math.round(ne);const ae=ie.bind(d);for(let se=te;se<te+ne;se++)for(let le=q;le<q+re;le++)ae(le,se,d.bitmap.width*se+le<<2);return d}function*scanIterator(d,m,g,w,D){m=Math.round(m),g=Math.round(g),w=Math.round(w),D=Math.round(D);for(let H=g;H<g+D;H++)for(let q=m;q<m+w;q++){const te=d.bitmap.width*H+q<<2;yield{x:q,y:H,idx:te,image:d}}}function intToRGBA$1(d){if(typeof d!="number")throw new Error("i must be a number");const m={r:0,g:0,b:0,a:0};return m.r=Math.floor(d/Math.pow(256,3)),m.g=Math.floor((d-m.r*Math.pow(256,3))/Math.pow(256,2)),m.b=Math.floor((d-m.r*Math.pow(256,3)-m.g*Math.pow(256,2))/Math.pow(256,1)),m.a=Math.floor((d-m.r*Math.pow(256,3)-m.g*Math.pow(256,2)-m.b*Math.pow(256,1))/Math.pow(256,0)),m}function colorDiff(d,m){const g=q=>Math.pow(q,2),{max:w}=Math,D="a"in d?d.a:255,H="a"in m?m.a:255;return(w(g(d.r-m.r),g(d.r-m.r-D+H))+w(g(d.g-m.g),g(d.g-m.g-D+H))+w(g(d.b-m.b),g(d.b-m.b-D+H)))/195075}function limit255(d){return d=Math.max(d,0),d=Math.min(d,255)}function cssColorToHex(d){return typeof d=="number"?d:parseInt(tinycolor(d).toHex8(),16)}function encode$1(d,m={}){return scan({bitmap:d},0,0,d.width,d.height,function(g,w,D){const H=d.data[D+0],q=d.data[D+1],te=d.data[D+2],re=d.data[D+3];d.data[D+0]=re,d.data[D+1]=te,d.data[D+2]=q,d.data[D+3]=H}),encode$2({...d,...m}).data}function decode$1(d,m){const g=decode$2(d,m);return scan({bitmap:g},0,0,g.width,g.height,function(w,D,H){const q=g.data[H+1],te=g.data[H+2],re=g.data[H+3];g.data[H+0]=re,g.data[H+1]=te,g.data[H+2]=q,g.data[H+3]=255}),g}function msBmp(){return{mime:"image/x-ms-bmp",encode:encode$1,decode:decode$1}}function bmp(){return{mime:"image/bmp",encode:encode$1,decode:decode$1}}var omggif={},GifReader_1,GifWriter_1;function GifWriter(d,m,g,w){var D=0,H=(w=w===void 0?{}:w).loop===void 0?null:w.loop,q=w.palette===void 0?null:w.palette;if(m<=0||g<=0||m>65535||g>65535)throw new Error("Width/Height invalid.");function te(fe){var de=fe.length;if(de<2||de>256||de&de-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return de}d[D++]=71,d[D++]=73,d[D++]=70,d[D++]=56,d[D++]=57,d[D++]=97;var re=0,ne=0;if(q!==null){for(var ie=te(q);ie>>=1;)++re;if(ie=1<<re,--re,w.background!==void 0){if((ne=w.background)>=ie)throw new Error("Background index out of range.");if(ne===0)throw new Error("Background index explicitly passed as 0.")}}if(d[D++]=255&m,d[D++]=m>>8&255,d[D++]=255&g,d[D++]=g>>8&255,d[D++]=(q!==null?128:0)|re,d[D++]=ne,d[D++]=0,q!==null)for(var ae=0,se=q.length;ae<se;++ae){var le=q[ae];d[D++]=le>>16&255,d[D++]=le>>8&255,d[D++]=255&le}if(H!==null){if(H<0||H>65535)throw new Error("Loop count invalid.");d[D++]=33,d[D++]=255,d[D++]=11,d[D++]=78,d[D++]=69,d[D++]=84,d[D++]=83,d[D++]=67,d[D++]=65,d[D++]=80,d[D++]=69,d[D++]=50,d[D++]=46,d[D++]=48,d[D++]=3,d[D++]=1,d[D++]=255&H,d[D++]=H>>8&255,d[D++]=0}var ue=!1;this.addFrame=function(fe,de,me,ge,he,pe){if(ue===!0&&(--D,ue=!1),pe=pe===void 0?{}:pe,fe<0||de<0||fe>65535||de>65535)throw new Error("x/y invalid.");if(me<=0||ge<=0||me>65535||ge>65535)throw new Error("Width/Height invalid.");if(he.length<me*ge)throw new Error("Not enough pixels for the frame size.");var ve=!0,ke=pe.palette;if(ke==null&&(ve=!1,ke=q),ke==null)throw new Error("Must supply either a local or global palette.");for(var be=te(ke),Se=0;be>>=1;)++Se;be=1<<Se;var Ee=pe.delay===void 0?0:pe.delay,Ie=pe.disposal===void 0?0:pe.disposal;if(Ie<0||Ie>3)throw new Error("Disposal out of range.");var _e=!1,Te=0;if(pe.transparent!==void 0&&pe.transparent!==null&&(_e=!0,(Te=pe.transparent)<0||Te>=be))throw new Error("Transparent color index.");if((Ie!==0||_e||Ee!==0)&&(d[D++]=33,d[D++]=249,d[D++]=4,d[D++]=Ie<<2|(_e===!0?1:0),d[D++]=255&Ee,d[D++]=Ee>>8&255,d[D++]=Te,d[D++]=0),d[D++]=44,d[D++]=255&fe,d[D++]=fe>>8&255,d[D++]=255&de,d[D++]=de>>8&255,d[D++]=255&me,d[D++]=me>>8&255,d[D++]=255&ge,d[D++]=ge>>8&255,d[D++]=ve===!0?128|Se-1:0,ve===!0)for(var Le=0,Be=ke.length;Le<Be;++Le){var Ce=ke[Le];d[D++]=Ce>>16&255,d[D++]=Ce>>8&255,d[D++]=255&Ce}return D=GifWriterOutputLZWCodeStream(d,D,Se<2?2:Se,he)},this.end=function(){return ue===!1&&(d[D++]=59,ue=!0),D},this.getOutputBuffer=function(){return d},this.setOutputBuffer=function(fe){d=fe},this.getOutputBufferPosition=function(){return D},this.setOutputBufferPosition=function(fe){D=fe}}function GifWriterOutputLZWCodeStream(d,m,g,w){d[m++]=g;var D=m++,H=1<<g,q=H-1,te=H+1,re=te+1,ne=g+1,ie=0,ae=0;function se(ve){for(;ie>=ve;)d[m++]=255&ae,ae>>=8,ie-=8,m===D+256&&(d[D]=255,D=m++)}function le(ve){ae|=ve<<ie,ie+=ne,se(8)}var ue=w[0]&q,fe={};le(H);for(var de=1,me=w.length;de<me;++de){var ge=w[de]&q,he=ue<<8|ge,pe=fe[he];if(pe===void 0){for(ae|=ue<<ie,ie+=ne;ie>=8;)d[m++]=255&ae,ae>>=8,ie-=8,m===D+256&&(d[D]=255,D=m++);re===4096?(le(H),re=te+1,ne=g+1,fe={}):(re>=1<<ne&&++ne,fe[he]=re++),ue=ge}else ue=pe}return le(ue),le(te),se(1),D+1===m?d[D]=0:(d[D]=m-D-1,d[m++]=0),m}function GifReader(d){var m=0;if(d[m++]!==71||d[m++]!==73||d[m++]!==70||d[m++]!==56||(d[m++]+1&253)!=56||d[m++]!==97)throw new Error("Invalid GIF 87a/89a header.");var g=d[m++]|d[m++]<<8,w=d[m++]|d[m++]<<8,D=d[m++],H=D>>7,q=1<<(7&D)+1;d[m++],d[m++];var te=null,re=null;H&&(te=m,re=q,m+=3*q);var ne=!0,ie=[],ae=0,se=null,le=0,ue=null;for(this.width=g,this.height=w;ne&&m<d.length;)switch(d[m++]){case 33:switch(d[m++]){case 255:if(d[m]!==11||d[m+1]==78&&d[m+2]==69&&d[m+3]==84&&d[m+4]==83&&d[m+5]==67&&d[m+6]==65&&d[m+7]==80&&d[m+8]==69&&d[m+9]==50&&d[m+10]==46&&d[m+11]==48&&d[m+12]==3&&d[m+13]==1&&d[m+16]==0)m+=14,ue=d[m++]|d[m++]<<8,m++;else for(m+=12;;){if(!((_e=d[m++])>=0))throw Error("Invalid block size");if(_e===0)break;m+=_e}break;case 249:if(d[m++]!==4||d[m+4]!==0)throw new Error("Invalid graphics extension block.");var fe=d[m++];ae=d[m++]|d[m++]<<8,se=d[m++],1&fe||(se=null),le=fe>>2&7,m++;break;case 254:for(;;){if(!((_e=d[m++])>=0))throw Error("Invalid block size");if(_e===0)break;m+=_e}break;default:throw new Error("Unknown graphic control label: 0x"+d[m-1].toString(16))}break;case 44:var de=d[m++]|d[m++]<<8,me=d[m++]|d[m++]<<8,ge=d[m++]|d[m++]<<8,he=d[m++]|d[m++]<<8,pe=d[m++],ve=pe>>6&1,ke=1<<(7&pe)+1,be=te,Se=re,Ee=!1;pe>>7&&(Ee=!0,be=m,Se=ke,m+=3*ke);var Ie=m;for(m++;;){var _e;if(!((_e=d[m++])>=0))throw Error("Invalid block size");if(_e===0)break;m+=_e}ie.push({x:de,y:me,width:ge,height:he,has_local_palette:Ee,palette_offset:be,palette_size:Se,data_offset:Ie,data_length:m-Ie,transparent_index:se,interlaced:!!ve,delay:ae,disposal:le});break;case 59:ne=!1;break;default:throw new Error("Unknown gif block: 0x"+d[m-1].toString(16))}this.numFrames=function(){return ie.length},this.loopCount=function(){return ue},this.frameInfo=function(Te){if(Te<0||Te>=ie.length)throw new Error("Frame index out of range.");return ie[Te]},this.decodeAndBlitFrameBGRA=function(Te,Le){var Be=this.frameInfo(Te),Ce=Be.width*Be.height,ze=new Uint8Array(Ce);GifReaderLZWOutputIndexStream(d,Be.data_offset,ze,Ce);var Ke=Be.palette_offset,je=Be.transparent_index;je===null&&(je=256);var $e=Be.width,Ye=g-$e,Pe=$e,Ge=4*(Be.y*g+Be.x),it=4*((Be.y+Be.height)*g+Be.x),Je=Ge,He=4*Ye;Be.interlaced===!0&&(He+=4*g*7);for(var Qe=8,ut=0,dt=ze.length;ut<dt;++ut){var kt=ze[ut];if(Pe===0&&(Pe=$e,(Je+=He)>=it&&(He=4*Ye+4*g*(Qe-1),Je=Ge+($e+Ye)*(Qe<<1),Qe>>=1)),kt===je)Je+=4;else{var Xe=d[Ke+3*kt],we=d[Ke+3*kt+1],qe=d[Ke+3*kt+2];Le[Je++]=qe,Le[Je++]=we,Le[Je++]=Xe,Le[Je++]=255}--Pe}},this.decodeAndBlitFrameRGBA=function(Te,Le){var Be=this.frameInfo(Te),Ce=Be.width*Be.height,ze=new Uint8Array(Ce);GifReaderLZWOutputIndexStream(d,Be.data_offset,ze,Ce);var Ke=Be.palette_offset,je=Be.transparent_index;je===null&&(je=256);var $e=Be.width,Ye=g-$e,Pe=$e,Ge=4*(Be.y*g+Be.x),it=4*((Be.y+Be.height)*g+Be.x),Je=Ge,He=4*Ye;Be.interlaced===!0&&(He+=4*g*7);for(var Qe=8,ut=0,dt=ze.length;ut<dt;++ut){var kt=ze[ut];if(Pe===0&&(Pe=$e,(Je+=He)>=it&&(He=4*Ye+4*g*(Qe-1),Je=Ge+($e+Ye)*(Qe<<1),Qe>>=1)),kt===je)Je+=4;else{var Xe=d[Ke+3*kt],we=d[Ke+3*kt+1],qe=d[Ke+3*kt+2];Le[Je++]=Xe,Le[Je++]=we,Le[Je++]=qe,Le[Je++]=255}--Pe}}}function GifReaderLZWOutputIndexStream(d,m,g,w){for(var D=d[m++],H=1<<D,q=H+1,te=q+1,re=D+1,ne=(1<<re)-1,ie=0,ae=0,se=0,le=d[m++],ue=new Int32Array(4096),fe=null;;){for(;ie<16&&le!==0;)ae|=d[m++]<<ie,ie+=8,le===1?le=d[m++]:--le;if(ie<re)break;var de=ae&ne;if(ae>>=re,ie-=re,de!==H){if(de===q)break;for(var me=de<te?de:fe,ge=0,he=me;he>H;)he=ue[he]>>8,++ge;var pe=he;if(se+ge+(me!==de?1:0)>w)return void console.log("Warning, gif stream longer than expected.");g[se++]=pe;var ve=se+=ge;for(me!==de&&(g[se++]=pe),he=me;ge--;)he=ue[he],g[--ve]=255&he,he>>=8;fe!==null&&te<4096&&(ue[te++]=fe<<8|pe,te>=ne+1&&re<12&&(++re,ne=ne<<1|1)),fe=de}else te=q+1,ne=(1<<(re=D+1))-1,fe=null}return se!==w&&console.log("Warning, gif stream shorter than expected."),g}try{GifWriter_1=omggif.GifWriter=GifWriter,GifReader_1=omggif.GifReader=GifReader}catch{}let BitmapImage$2=class Yo{constructor(...m){if(m.length===0)throw new Error("constructor requires parameters");const g=m[0];if(g!==null&&typeof g=="object")if(g instanceof Yo){const w=g.bitmap;this.bitmap={width:w.width,height:w.height,data:new Buffer(w.width*w.height*4)},w.data.copy(this.bitmap.data)}else{if(!(g.width&&g.height&&g.data))throw new Error("unrecognized constructor parameters");this.bitmap=g}else{if(typeof g!="number"||typeof m[1]!="number")throw new Error("unrecognized constructor parameters");{const w=g,D=m[1],H=m[2];this.bitmap={width:w,height:D},Buffer.isBuffer(H)?this.bitmap.data=H:(this.bitmap.data=new Buffer(w*D*4),typeof H=="number"&&this.fillRGBA(H))}}}blit(m,g,w,D,H,q,te){if(D+q>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(g+q>m.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(H+te>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(w+te>m.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const re=this.bitmap.data,ne=m.bitmap.data,ie=4*this.bitmap.width,ae=4*m.bitmap.width,se=4*q;let le=H*ie+4*D,ue=w*ae+4*g;for(;--te>=0;)re.copy(ne,ue,le,le+se),le+=ie,ue+=ae;return this}fillRGBA(m){const g=this.bitmap.data,w=4*this.bitmap.height;let D=0;for(;D<w;)g.writeUInt32BE(m,D),D+=4;for(;D<g.length;)g.copy(g,D,0,w),D+=w;return this}getRGBA(m,g){const w=4*(g*this.bitmap.width+m);return this.bitmap.data.readUInt32BE(w)}getRGBASet(){const m=new Set,g=this.bitmap.data;for(let w=0;w<g.length;w+=4)m.add(g.readUInt32BE(w,!0));return m}greyscale(){const m=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(g,w,D)=>{const H=Math.round(.299*m[D]+.587*m[D+1]+.114*m[D+2]);m[D]=H,m[D+1]=H,m[D+2]=H}),this}reframe(m,g,w,D,H){const q=m<0?0:m,te=g<0?0:g,re=w+q>this.bitmap.width?this.bitmap.width-q:w,ne=D+te>this.bitmap.height?this.bitmap.height-te:D,ie=m<0?-m:0,ae=g<0?-g:0;let se;if(H===void 0){if(q!==m||te!=g||re!==w||ne!==D)throw new GifError("fillRGBA required for this reframing");se=new Yo(w,D)}else se=new Yo(w,D,H);return this.blit(se,ie,ae,q,te,re,ne),this.bitmap=se.bitmap,this}scale(m){if(m===1)return;if(!Number.isInteger(m)||m<1)throw new Error("the scale must be an integer >= 1");const g=this.bitmap.width,w=this.bitmap.height,D=g*m*4,H=this.bitmap.data,q=new Buffer(w*D*m);let te,re=0,ne=0;for(let ie=0;ie<w;++ie){te=ne;for(let ae=0;ae<g;++ae){const se=H.readUInt32BE(re,!0);for(let le=0;le<m;++le)q.writeUInt32BE(se,ne),ne+=4;re+=4}for(let ae=1;ae<m;++ae)q.copy(q,ne,te,ne),ne+=D,te+=D}return this.bitmap={width:g*m,height:w*m,data:q},this}scanAllCoords(m){const g=this.bitmap.width,w=this.bitmap.data.length;let D=0,H=0;for(let q=0;q<w;q+=4)m(D,H,q),++D===g&&(D=0,++H)}scanAllIndexes(m){const g=this.bitmap.data.length;for(let w=0;w<g;w+=4)m(w)}};var bitmapimage=BitmapImage$2,gif$1={};let Gif$1=class{constructor(d,m,g){this.width=g.width,this.height=g.height,this.loops=g.loops,this.usesTransparency=g.usesTransparency,this.colorScope=g.colorScope,this.frames=m,this.buffer=d}};Gif$1.GlobalColorsPreferred=0,Gif$1.GlobalColorsOnly=1,Gif$1.LocalColorsOnly=2;let GifError$2=class extends Error{constructor(d){super(d),d instanceof Error&&(this.stack="Gif"+d.stack)}};gif$1.Gif=Gif$1,gif$1.GifError=GifError$2;var gifcodec={},gifutil={},_polyfillNode_fs={},_polyfillNode_fs$1=Object.freeze({__proto__:null,default:_polyfillNode_fs}),require$$0=getAugmentedNamespace(_polyfillNode_fs$1),__defProp$3=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__defNormalProp$3=(d,m,g)=>m in d?__defProp$3(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__markAsModule=d=>__defProp$3(d,"__esModule",{value:!0}),__export$1=(d,m)=>{for(var g in m)__defProp$3(d,g,{get:m[g],enumerable:!0})},__reExport=(d,m,g,w)=>{if(m&&typeof m=="object"||typeof m=="function")for(let D of __getOwnPropNames(m))!__hasOwnProp.call(d,D)&&g&&__defProp$3(d,D,{get:()=>m[D],enumerable:!(w=__getOwnPropDesc(m,D))||w.enumerable});return d},__toCommonJS=(d=>(m,g)=>d&&d.get(m)||(g=__reExport(__markAsModule({}),m,1),d&&d.set(m,g),g))(typeof WeakMap<"u"?new WeakMap:0),__publicField$3=(d,m,g)=>(__defNormalProp$3(d,typeof m!="symbol"?m+"":m,g),g),src_exports={};__export$1(src_exports,{applyPalette:()=>applyPalette,applyPaletteSync:()=>applyPaletteSync$1,buildPalette:()=>buildPalette,buildPaletteSync:()=>buildPaletteSync$1,constants:()=>constants_exports$1,conversion:()=>conversion_exports$1,distance:()=>distance_exports$1,image:()=>image_exports$1,palette:()=>palette_exports$1,quality:()=>quality_exports$1,utils:()=>utils_exports$1});var constants_exports$1={};__export$1(constants_exports$1,{bt709:()=>bt709_exports$1});var bt709_exports$1={};__export$1(bt709_exports$1,{Y:()=>Y$1,x:()=>x$2,y:()=>y$2});var Y$1=(d=>(d[d.RED=.2126]="RED",d[d.GREEN=.7152]="GREEN",d[d.BLUE=.0722]="BLUE",d[d.WHITE=1]="WHITE",d))(Y$1||{}),x$2=(d=>(d[d.RED=.64]="RED",d[d.GREEN=.3]="GREEN",d[d.BLUE=.15]="BLUE",d[d.WHITE=.3127]="WHITE",d))(x$2||{}),y$2=(d=>(d[d.RED=.33]="RED",d[d.GREEN=.6]="GREEN",d[d.BLUE=.06]="BLUE",d[d.WHITE=.329]="WHITE",d))(y$2||{}),conversion_exports$1={};function correctGamma$1(d){return d>.04045?((d+.055)/1.055)**2.4:d/12.92}function rgb2xyz$1(d,m,g){return{x:.4124*(d=correctGamma$1(d/255))+.3576*(m=correctGamma$1(m/255))+.1805*(g=correctGamma$1(g/255)),y:.2126*d+.7152*m+.0722*g,z:.0193*d+.1192*m+.9505*g}}__export$1(conversion_exports$1,{lab2rgb:()=>lab2rgb$1,lab2xyz:()=>lab2xyz$1,rgb2hsl:()=>rgb2hsl$1,rgb2lab:()=>rgb2lab$1,rgb2xyz:()=>rgb2xyz$1,xyz2lab:()=>xyz2lab$1,xyz2rgb:()=>xyz2rgb$1});var arithmetic_exports$1={};function degrees2radians$1(d){return d*(Math.PI/180)}function max3$1(d,m,g){let w=d;return w<m&&(w=m),w<g&&(w=g),w}function min3$1(d,m,g){let w=d;return w>m&&(w=m),w>g&&(w=g),w}function intInRange$1(d,m,g){return d>g&&(d=g),d<m&&(d=m),0|d}function inRange0to255Rounded$1(d){return(d=Math.round(d))>255?d=255:d<0&&(d=0),d}function inRange0to255$1(d){return d>255?d=255:d<0&&(d=0),d}function stableSort$1(d,m){const g=typeof d[0];let w;if(g==="number"||g==="string"){const D=Object.create(null);for(let H=0,q=d.length;H<q;H++){const te=d[H];D[te]||D[te]===0||(D[te]=H)}w=d.sort((H,q)=>m(H,q)||D[H]-D[q])}else{const D=d.slice(0);w=d.sort((H,q)=>m(H,q)||D.indexOf(H)-D.indexOf(q))}return w}function rgb2hsl$1(d,m,g){const w=min3$1(d,m,g),D=max3$1(d,m,g),H=D-w,q=(w+D)/510;let te=0;q>0&&q<1&&(te=H/(q<.5?D+w:510-D-w));let re=0;return H>0&&(re=D===d?(m-g)/H:D===m?2+(g-d)/H:4+(d-m)/H,re*=60,re<0&&(re+=360)),{h:re,s:te,l:q}}__export$1(arithmetic_exports$1,{degrees2radians:()=>degrees2radians$1,inRange0to255:()=>inRange0to255$1,inRange0to255Rounded:()=>inRange0to255Rounded$1,intInRange:()=>intInRange$1,max3:()=>max3$1,min3:()=>min3$1,stableSort:()=>stableSort$1});var refX$1=.95047,refY$1=1,refZ$1=1.08883;function pivot$1(d){return d>.008856?d**(1/3):7.787*d+16/116}function xyz2lab$1(d,m,g){if(d=pivot$1(d/refX$1),m=pivot$1(m/refY$1),g=pivot$1(g/refZ$1),116*m-16<0)throw new Error("xxx");return{L:Math.max(0,116*m-16),a:500*(d-m),b:200*(m-g)}}function rgb2lab$1(d,m,g){const w=rgb2xyz$1(d,m,g);return xyz2lab$1(w.x,w.y,w.z)}var refX2$1=.95047,refY2$1=1,refZ2$1=1.08883;function pivot2$1(d){return d>.206893034?d**3:(d-16/116)/7.787}function lab2xyz$1(d,m,g){const w=(d+16)/116,D=w-g/200;return{x:refX2$1*pivot2$1(m/500+w),y:refY2$1*pivot2$1(w),z:refZ2$1*pivot2$1(D)}}function correctGamma2$1(d){return d>.0031308?1.055*d**(1/2.4)-.055:12.92*d}function xyz2rgb$1(d,m,g){const w=correctGamma2$1(3.2406*d+-1.5372*m+-.4986*g),D=correctGamma2$1(-.9689*d+1.8758*m+.0415*g),H=correctGamma2$1(.0557*d+-.204*m+1.057*g);return{r:inRange0to255Rounded$1(255*w),g:inRange0to255Rounded$1(255*D),b:inRange0to255Rounded$1(255*H)}}function lab2rgb$1(d,m,g){const w=lab2xyz$1(d,m,g);return xyz2rgb$1(w.x,w.y,w.z)}var distance_exports$1={};__export$1(distance_exports$1,{AbstractDistanceCalculator:()=>AbstractDistanceCalculator$1,AbstractEuclidean:()=>AbstractEuclidean$1,AbstractManhattan:()=>AbstractManhattan$1,CIE94GraphicArts:()=>CIE94GraphicArts$1,CIE94Textiles:()=>CIE94Textiles$1,CIEDE2000:()=>CIEDE2000$1,CMetric:()=>CMetric$1,Euclidean:()=>Euclidean$1,EuclideanBT709:()=>EuclideanBT709$1,EuclideanBT709NoAlpha:()=>EuclideanBT709NoAlpha$1,Manhattan:()=>Manhattan$1,ManhattanBT709:()=>ManhattanBT709$1,ManhattanNommyde:()=>ManhattanNommyde$1,PNGQuant:()=>PNGQuant$1});var AbstractDistanceCalculator$1=class{constructor(){__publicField$3(this,"_maxDistance"),__publicField$3(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(d,m,g,w){this._whitePoint={r:d>0?255/d:0,g:m>0?255/m:0,b:g>0?255/g:0,a:w>0?255/w:0},this._maxDistance=this.calculateRaw(d,m,g,w,0,0,0,0)}calculateNormalized(d,m){return this.calculateRaw(d.r,d.g,d.b,d.a,m.r,m.g,m.b,m.a)/this._maxDistance}},AbstractCIE94$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,H,q,te){const re=rgb2lab$1(inRange0to255$1(d*this._whitePoint.r),inRange0to255$1(m*this._whitePoint.g),inRange0to255$1(g*this._whitePoint.b)),ne=rgb2lab$1(inRange0to255$1(D*this._whitePoint.r),inRange0to255$1(H*this._whitePoint.g),inRange0to255$1(q*this._whitePoint.b)),ie=re.L-ne.L,ae=re.a-ne.a,se=re.b-ne.b,le=Math.sqrt(re.a*re.a+re.b*re.b),ue=le-Math.sqrt(ne.a*ne.a+ne.b*ne.b);let fe=ae*ae+se*se-ue*ue;fe=fe<0?0:Math.sqrt(fe);const de=(te-w)*this._whitePoint.a*this._kA;return Math.sqrt((ie/this._Kl)**2+(ue/(1+this._K1*le))**2+(fe/(1+this._K2*le))**2+de**2)}},CIE94Textiles$1=class extends AbstractCIE94$1{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},CIE94GraphicArts$1=class extends AbstractCIE94$1{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},_CIEDE2000$1=class extends AbstractDistanceCalculator$1{_setDefaults(){}static _calculatehp(d,m){const g=Math.atan2(d,m);return g>=0?g:g+_CIEDE2000$1._deg360InRad}static _calculateRT(d,m){const g=m**7,w=2*Math.sqrt(g/(g+_CIEDE2000$1._pow25to7)),D=_CIEDE2000$1._deg30InRad*Math.exp(-(((d-_CIEDE2000$1._deg275InRad)/_CIEDE2000$1._deg25InRad)**2));return-Math.sin(2*D)*w}static _calculateT(d){return 1-.17*Math.cos(d-_CIEDE2000$1._deg30InRad)+.24*Math.cos(2*d)+.32*Math.cos(3*d+_CIEDE2000$1._deg6InRad)-.2*Math.cos(4*d-_CIEDE2000$1._deg63InRad)}static _calculate_ahp(d,m,g,w){const D=g+w;return d===0?D:m<=_CIEDE2000$1._deg180InRad?D/2:D<_CIEDE2000$1._deg360InRad?(D+_CIEDE2000$1._deg360InRad)/2:(D-_CIEDE2000$1._deg360InRad)/2}static _calculate_dHp(d,m,g,w){let D;return D=d===0?0:m<=_CIEDE2000$1._deg180InRad?g-w:g<=w?g-w+_CIEDE2000$1._deg360InRad:g-w-_CIEDE2000$1._deg360InRad,2*Math.sqrt(d)*Math.sin(D/2)}calculateRaw(d,m,g,w,D,H,q,te){const re=rgb2lab$1(inRange0to255$1(d*this._whitePoint.r),inRange0to255$1(m*this._whitePoint.g),inRange0to255$1(g*this._whitePoint.b)),ne=rgb2lab$1(inRange0to255$1(D*this._whitePoint.r),inRange0to255$1(H*this._whitePoint.g),inRange0to255$1(q*this._whitePoint.b)),ie=(te-w)*this._whitePoint.a*_CIEDE2000$1._kA,ae=this.calculateRawInLab(re,ne);return Math.sqrt(ae+ie*ie)}calculateRawInLab(d,m){const g=d.L,w=d.a,D=d.b,H=m.L,q=m.a,te=m.b,re=((Math.sqrt(w*w+D*D)+Math.sqrt(q*q+te*te))/2)**7,ne=.5*(1-Math.sqrt(re/(re+_CIEDE2000$1._pow25to7))),ie=(1+ne)*w,ae=(1+ne)*q,se=Math.sqrt(ie*ie+D*D),le=Math.sqrt(ae*ae+te*te),ue=se*le,fe=_CIEDE2000$1._calculatehp(D,ie),de=_CIEDE2000$1._calculatehp(te,ae),me=Math.abs(fe-de),ge=H-g,he=le-se,pe=_CIEDE2000$1._calculate_dHp(ue,me,de,fe),ve=_CIEDE2000$1._calculate_ahp(ue,me,fe,de),ke=(se+le)/2,be=((g+H)/2-50)**2,Se=he/(1+.045*ke),Ee=pe/(1+.015*_CIEDE2000$1._calculateT(ve)*ke);return(ge/(1+.015*be/Math.sqrt(20+be)))**2+Se**2+Ee**2+_CIEDE2000$1._calculateRT(ve,ke)*Se*Ee}},CIEDE2000$1=_CIEDE2000$1;__publicField$3(CIEDE2000$1,"_kA",25/255),__publicField$3(CIEDE2000$1,"_pow25to7",25**7),__publicField$3(CIEDE2000$1,"_deg360InRad",degrees2radians$1(360)),__publicField$3(CIEDE2000$1,"_deg180InRad",degrees2radians$1(180)),__publicField$3(CIEDE2000$1,"_deg30InRad",degrees2radians$1(30)),__publicField$3(CIEDE2000$1,"_deg6InRad",degrees2radians$1(6)),__publicField$3(CIEDE2000$1,"_deg63InRad",degrees2radians$1(63)),__publicField$3(CIEDE2000$1,"_deg275InRad",degrees2radians$1(275)),__publicField$3(CIEDE2000$1,"_deg25InRad",degrees2radians$1(25));var CMetric$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,H,q,te){const re=(d+D)/2*this._whitePoint.r,ne=(d-D)*this._whitePoint.r,ie=(m-H)*this._whitePoint.g,ae=(g-q)*this._whitePoint.b,se=((512+re)*ne*ne>>8)+4*ie*ie+((767-re)*ae*ae>>8),le=(te-w)*this._whitePoint.a;return Math.sqrt(se+le*le)}_setDefaults(){}},AbstractEuclidean$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,H,q,te){const re=D-d,ne=H-m,ie=q-g,ae=te-w;return Math.sqrt(this._kR*re*re+this._kG*ne*ne+this._kB*ie*ie+this._kA*ae*ae)}},Euclidean$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},EuclideanBT709$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},EuclideanBT709NoAlpha$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},AbstractManhattan$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,H,q,te){let re=D-d,ne=H-m,ie=q-g,ae=te-w;return re<0&&(re=0-re),ne<0&&(ne=0-ne),ie<0&&(ie=0-ie),ae<0&&(ae=0-ae),this._kR*re+this._kG*ne+this._kB*ie+this._kA*ae}},Manhattan$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},ManhattanNommyde$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ManhattanBT709$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},PNGQuant$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,H,q,te){const re=(te-w)*this._whitePoint.a;return this._colordifferenceCh(d*this._whitePoint.r,D*this._whitePoint.r,re)+this._colordifferenceCh(m*this._whitePoint.g,H*this._whitePoint.g,re)+this._colordifferenceCh(g*this._whitePoint.b,q*this._whitePoint.b,re)}_colordifferenceCh(d,m,g){const w=d-m,D=w+g;return w*w+D*D}_setDefaults(){}},palette_exports$1={};__export$1(palette_exports$1,{AbstractPaletteQuantizer:()=>AbstractPaletteQuantizer$1,ColorHistogram:()=>ColorHistogram$1,NeuQuant:()=>NeuQuant$1,NeuQuantFloat:()=>NeuQuantFloat$1,RGBQuant:()=>RGBQuant$1,WuColorCube:()=>WuColorCube$1,WuQuant:()=>WuQuant$1});var AbstractPaletteQuantizer$1=class{quantizeSync(){for(const d of this.quantize())if(d.palette)return d.palette;throw new Error("unreachable")}},Point$1=class{constructor(){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),__publicField$3(this,"uint32"),__publicField$3(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(d){const m=new Point$1;return m.r=0|d[0],m.g=0|d[1],m.b=0|d[2],m.a=0|d[3],m._loadUINT32(),m._loadQuadruplet(),m}static createByRGBA(d,m,g,w){const D=new Point$1;return D.r=0|d,D.g=0|m,D.b=0|g,D.a=0|w,D._loadUINT32(),D._loadQuadruplet(),D}static createByUint32(d){const m=new Point$1;return m.uint32=d>>>0,m._loadRGBA(),m._loadQuadruplet(),m}from(d){this.r=d.r,this.g=d.g,this.b=d.b,this.a=d.a,this.uint32=d.uint32,this.rgba[0]=d.r,this.rgba[1]=d.g,this.rgba[2]=d.b,this.rgba[3]=d.a}getLuminosity(d){let m=this.r,g=this.g,w=this.b;return d&&(m=Math.min(255,255-this.a+this.a*m/255),g=Math.min(255,255-this.a+this.a*g/255),w=Math.min(255,255-this.a+this.a*w/255)),.2126*m+.7152*g+.0722*w}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},PointContainer$1=class{constructor(){__publicField$3(this,"_pointArray"),__publicField$3(this,"_width"),__publicField$3(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(d){this._width=d}setHeight(d){this._height=d}getPointArray(){return this._pointArray}clone(){const d=new PointContainer$1;d._width=this._width,d._height=this._height;for(let m=0,g=this._pointArray.length;m<g;m++)d._pointArray[m]=Point$1.createByUint32(0|this._pointArray[m].uint32);return d}toUint32Array(){const d=this._pointArray.length,m=new Uint32Array(d);for(let g=0;g<d;g++)m[g]=this._pointArray[g].uint32;return m}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(d){const m=d.naturalWidth,g=d.naturalHeight,w=document.createElement("canvas");return w.width=m,w.height=g,w.getContext("2d").drawImage(d,0,0,m,g,0,0,m,g),PointContainer$1.fromHTMLCanvasElement(w)}static fromHTMLCanvasElement(d){const m=d.width,g=d.height,w=d.getContext("2d").getImageData(0,0,m,g);return PointContainer$1.fromImageData(w)}static fromImageData(d){const m=d.width,g=d.height;return PointContainer$1.fromUint8Array(d.data,m,g)}static fromUint8Array(d,m,g){switch(Object.prototype.toString.call(d)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:d=new Uint8Array(d)}const w=new Uint32Array(d.buffer);return PointContainer$1.fromUint32Array(w,m,g)}static fromUint32Array(d,m,g){const w=new PointContainer$1;w._width=m,w._height=g;for(let D=0,H=d.length;D<H;D++)w._pointArray[D]=Point$1.createByUint32(0|d[D]);return w}static fromBuffer(d,m,g){const w=new Uint32Array(d.buffer,d.byteOffset,d.byteLength/Uint32Array.BYTES_PER_ELEMENT);return PointContainer$1.fromUint32Array(w,m,g)}},hueGroups$1=10;function hueGroup$1(d,m){const g=360/m;for(let w=1,D=g-g/2;w<m;w++,D+=g)if(d>=D&&d<D+g)return w;return 0}var Palette$1=class{constructor(){__publicField$3(this,"_pointContainer"),__publicField$3(this,"_pointArray",[]),__publicField$3(this,"_i32idx",{}),this._pointContainer=new PointContainer$1,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(d){this._pointArray.push(d),this._pointContainer.setWidth(this._pointArray.length)}has(d){for(let m=this._pointArray.length-1;m>=0;m--)if(d.uint32===this._pointArray[m].uint32)return!0;return!1}getNearestColor(d,m){return this._pointArray[0|this._getNearestIndex(d,m)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(d){return typeof this._i32idx[d]=="number"?this._i32idx[d]:-1}_getNearestIndex(d,m){let g=this._nearestPointFromCache(""+m.uint32);if(g>=0)return g;let w=Number.MAX_VALUE;g=0;for(let D=0,H=this._pointArray.length;D<H;D++){const q=this._pointArray[D],te=d.calculateRaw(m.r,m.g,m.b,m.a,q.r,q.g,q.b,q.a);te<w&&(w=te,g=D)}return this._i32idx[m.uint32]=g,g}sort(){this._i32idx={},this._pointArray.sort((d,m)=>{const g=rgb2hsl$1(d.r,d.g,d.b),w=rgb2hsl$1(m.r,m.g,m.b),D=d.r===d.g&&d.g===d.b?0:1+hueGroup$1(g.h,hueGroups$1),H=(m.r===m.g&&m.g===m.b?0:1+hueGroup$1(w.h,hueGroups$1))-D;if(H)return-H;const q=d.getLuminosity(!0),te=m.getLuminosity(!0);if(te-q!=0)return te-q;const re=(100*w.s|0)-(100*g.s|0);return re?-re:0})}},utils_exports$1={};__export$1(utils_exports$1,{HueStatistics:()=>HueStatistics$1,Palette:()=>Palette$1,Point:()=>Point$1,PointContainer:()=>PointContainer$1,ProgressTracker:()=>ProgressTracker$1,arithmetic:()=>arithmetic_exports$1});var HueGroup$1=class{constructor(){__publicField$3(this,"num",0),__publicField$3(this,"cols",[])}},HueStatistics$1=class{constructor(d,m){__publicField$3(this,"_numGroups"),__publicField$3(this,"_minCols"),__publicField$3(this,"_stats"),__publicField$3(this,"_groupsFull"),this._numGroups=d,this._minCols=m,this._stats=[];for(let g=0;g<=d;g++)this._stats[g]=new HueGroup$1;this._groupsFull=0}check(d){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const m=255&d,g=d>>>8&255,w=d>>>16&255,D=m===g&&g===w?0:1+hueGroup$1(rgb2hsl$1(m,g,w).h,this._numGroups),H=this._stats[D],q=this._minCols;H.num++,H.num>q||(H.num===q&&this._groupsFull++,H.num<=q&&this._stats[D].cols.push(d))}injectIntoDictionary(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d[g]?d[g]++:d[g]=1})}injectIntoArray(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d.indexOf(g)===-1&&d.push(g)})}},_ProgressTracker$1=class{constructor(d,m){__publicField$3(this,"progress"),__publicField$3(this,"_step"),__publicField$3(this,"_range"),__publicField$3(this,"_last"),__publicField$3(this,"_progressRange"),this._range=d,this._progressRange=m,this._step=Math.max(1,this._range/(_ProgressTracker$1.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(d){return d-this._last>=this._step&&(this._last=d,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},ProgressTracker$1=_ProgressTracker$1;__publicField$3(ProgressTracker$1,"steps",100);var networkBiasShift$1=3,Neuron$1=class{constructor(d){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point$1.createByRGBA(this.r>>networkBiasShift$1,this.g>>networkBiasShift$1,this.b>>networkBiasShift$1,this.a>>networkBiasShift$1)}subtract(d,m,g,w){this.r-=0|d,this.g-=0|m,this.b-=0|g,this.a-=0|w}},_NeuQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256){super(),__publicField$3(this,"_pointArray"),__publicField$3(this,"_networkSize"),__publicField$3(this,"_network"),__publicField$3(this,"_sampleFactor"),__publicField$3(this,"_radPower"),__publicField$3(this,"_freq"),__publicField$3(this,"_bias"),__publicField$3(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift$1,255<<networkBiasShift$1,255<<networkBiasShift$1,255<<networkBiasShift$1)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new Neuron$1((d<<networkBiasShift$1+8)/this._networkSize|0),this._freq[d]=_NeuQuant$1._initialBias/this._networkSize|0,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuant$1._minpicturebytes&&(d=1);const g=30+(d-1)/3|0,w=m/d|0;let D,H=w/_NeuQuant$1._nCycles|0,q=_NeuQuant$1._initAlpha,te=(this._networkSize>>3)*_NeuQuant$1._radiusBias,re=te>>_NeuQuant$1._radiusBiasShift;re<=1&&(re=0);for(let ie=0;ie<re;ie++)this._radPower[ie]=q*((re*re-ie*ie)*_NeuQuant$1._radBias/(re*re))>>>0;D=m<_NeuQuant$1._minpicturebytes?1:m%_NeuQuant$1._prime1!=0?_NeuQuant$1._prime1:m%_NeuQuant$1._prime2!=0?_NeuQuant$1._prime2:m%_NeuQuant$1._prime3!=0?_NeuQuant$1._prime3:_NeuQuant$1._prime4;const ne=new ProgressTracker$1(w,99);for(let ie=0,ae=0;ie<w;){ne.shouldNotify(ie)&&(yield{progress:ne.progress});const se=this._pointArray[ae],le=se.b<<networkBiasShift$1,ue=se.g<<networkBiasShift$1,fe=se.r<<networkBiasShift$1,de=se.a<<networkBiasShift$1,me=this._contest(le,ue,fe,de);if(this._alterSingle(q,me,le,ue,fe,de),re!==0&&this._alterNeighbour(re,me,le,ue,fe,de),ae+=D,ae>=m&&(ae-=m),ie++,H===0&&(H=1),ie%H==0){q-=q/g|0,te-=te/_NeuQuant$1._radiusDecrease|0,re=te>>_NeuQuant$1._radiusBiasShift,re<=1&&(re=0);for(let ge=0;ge<re;ge++)this._radPower[ge]=q*((re*re-ge*ge)*_NeuQuant$1._radBias/(re*re))>>>0}}}_buildPalette(){const d=new Palette$1;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,D,H){let q=m-d;q<-1&&(q=-1);let te=m+d;te>this._networkSize&&(te=this._networkSize);let re=m+1,ne=m-1,ie=1;for(;re<te||ne>q;){const ae=this._radPower[ie++]/_NeuQuant$1._alphaRadBias;if(re<te){const se=this._network[re++];se.subtract(ae*(se.r-D),ae*(se.g-w),ae*(se.b-g),ae*(se.a-H))}if(ne>q){const se=this._network[ne--];se.subtract(ae*(se.r-D),ae*(se.g-w),ae*(se.b-g),ae*(se.a-H))}}}_alterSingle(d,m,g,w,D,H){d/=_NeuQuant$1._initAlpha;const q=this._network[m];q.subtract(d*(q.r-D),d*(q.g-w),d*(q.b-g),d*(q.a-H))}_contest(d,m,g,w){const D=1020<<networkBiasShift$1;let H=2147483647,q=H,te=-1,re=te;for(let ne=0;ne<this._networkSize;ne++){const ie=this._network[ne],ae=this._distance.calculateNormalized(ie,{r:g,g:m,b:d,a:w})*D|0;ae<H&&(H=ae,te=ne);const se=ae-(this._bias[ne]>>_NeuQuant$1._initialBiasShift-networkBiasShift$1);se<q&&(q=se,re=ne);const le=this._freq[ne]>>_NeuQuant$1._betaShift;this._freq[ne]-=le,this._bias[ne]+=le<<_NeuQuant$1._gammaShift}return this._freq[te]+=_NeuQuant$1._beta,this._bias[te]-=_NeuQuant$1._betaGamma,re}},NeuQuant$1=_NeuQuant$1;__publicField$3(NeuQuant$1,"_prime1",499),__publicField$3(NeuQuant$1,"_prime2",491),__publicField$3(NeuQuant$1,"_prime3",487),__publicField$3(NeuQuant$1,"_prime4",503),__publicField$3(NeuQuant$1,"_minpicturebytes",_NeuQuant$1._prime4),__publicField$3(NeuQuant$1,"_nCycles",100),__publicField$3(NeuQuant$1,"_initialBiasShift",16),__publicField$3(NeuQuant$1,"_initialBias",1<<_NeuQuant$1._initialBiasShift),__publicField$3(NeuQuant$1,"_gammaShift",10),__publicField$3(NeuQuant$1,"_betaShift",10),__publicField$3(NeuQuant$1,"_beta",_NeuQuant$1._initialBias>>_NeuQuant$1._betaShift),__publicField$3(NeuQuant$1,"_betaGamma",_NeuQuant$1._initialBias<<_NeuQuant$1._gammaShift-_NeuQuant$1._betaShift),__publicField$3(NeuQuant$1,"_radiusBiasShift",6),__publicField$3(NeuQuant$1,"_radiusBias",1<<_NeuQuant$1._radiusBiasShift),__publicField$3(NeuQuant$1,"_radiusDecrease",30),__publicField$3(NeuQuant$1,"_alphaBiasShift",10),__publicField$3(NeuQuant$1,"_initAlpha",1<<_NeuQuant$1._alphaBiasShift),__publicField$3(NeuQuant$1,"_radBiasShift",8),__publicField$3(NeuQuant$1,"_radBias",1<<_NeuQuant$1._radBiasShift),__publicField$3(NeuQuant$1,"_alphaRadBiasShift",_NeuQuant$1._alphaBiasShift+_NeuQuant$1._radBiasShift),__publicField$3(NeuQuant$1,"_alphaRadBias",1<<_NeuQuant$1._alphaRadBiasShift);var networkBiasShift2$1=3,NeuronFloat$1=class{constructor(d){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point$1.createByRGBA(this.r>>networkBiasShift2$1,this.g>>networkBiasShift2$1,this.b>>networkBiasShift2$1,this.a>>networkBiasShift2$1)}subtract(d,m,g,w){this.r-=d,this.g-=m,this.b-=g,this.a-=w}},_NeuQuantFloat$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256){super(),__publicField$3(this,"_pointArray"),__publicField$3(this,"_networkSize"),__publicField$3(this,"_network"),__publicField$3(this,"_sampleFactor"),__publicField$3(this,"_radPower"),__publicField$3(this,"_freq"),__publicField$3(this,"_bias"),__publicField$3(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift2$1,255<<networkBiasShift2$1,255<<networkBiasShift2$1,255<<networkBiasShift2$1)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new NeuronFloat$1((d<<networkBiasShift2$1+8)/this._networkSize),this._freq[d]=_NeuQuantFloat$1._initialBias/this._networkSize,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuantFloat$1._minpicturebytes&&(d=1);const g=30+(d-1)/3,w=m/d;let D,H=w/_NeuQuantFloat$1._nCycles|0,q=_NeuQuantFloat$1._initAlpha,te=(this._networkSize>>3)*_NeuQuantFloat$1._radiusBias,re=te>>_NeuQuantFloat$1._radiusBiasShift;re<=1&&(re=0);for(let ie=0;ie<re;ie++)this._radPower[ie]=q*((re*re-ie*ie)*_NeuQuantFloat$1._radBias/(re*re));D=m<_NeuQuantFloat$1._minpicturebytes?1:m%_NeuQuantFloat$1._prime1!=0?_NeuQuantFloat$1._prime1:m%_NeuQuantFloat$1._prime2!=0?_NeuQuantFloat$1._prime2:m%_NeuQuantFloat$1._prime3!=0?_NeuQuantFloat$1._prime3:_NeuQuantFloat$1._prime4;const ne=new ProgressTracker$1(w,99);for(let ie=0,ae=0;ie<w;){ne.shouldNotify(ie)&&(yield{progress:ne.progress});const se=this._pointArray[ae],le=se.b<<networkBiasShift2$1,ue=se.g<<networkBiasShift2$1,fe=se.r<<networkBiasShift2$1,de=se.a<<networkBiasShift2$1,me=this._contest(le,ue,fe,de);if(this._alterSingle(q,me,le,ue,fe,de),re!==0&&this._alterNeighbour(re,me,le,ue,fe,de),ae+=D,ae>=m&&(ae-=m),ie++,H===0&&(H=1),ie%H==0){q-=q/g,te-=te/_NeuQuantFloat$1._radiusDecrease,re=te>>_NeuQuantFloat$1._radiusBiasShift,re<=1&&(re=0);for(let ge=0;ge<re;ge++)this._radPower[ge]=q*((re*re-ge*ge)*_NeuQuantFloat$1._radBias/(re*re))}}}_buildPalette(){const d=new Palette$1;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,D,H){let q=m-d;q<-1&&(q=-1);let te=m+d;te>this._networkSize&&(te=this._networkSize);let re=m+1,ne=m-1,ie=1;for(;re<te||ne>q;){const ae=this._radPower[ie++]/_NeuQuantFloat$1._alphaRadBias;if(re<te){const se=this._network[re++];se.subtract(ae*(se.r-D),ae*(se.g-w),ae*(se.b-g),ae*(se.a-H))}if(ne>q){const se=this._network[ne--];se.subtract(ae*(se.r-D),ae*(se.g-w),ae*(se.b-g),ae*(se.a-H))}}}_alterSingle(d,m,g,w,D,H){d/=_NeuQuantFloat$1._initAlpha;const q=this._network[m];q.subtract(d*(q.r-D),d*(q.g-w),d*(q.b-g),d*(q.a-H))}_contest(d,m,g,w){const D=1020<<networkBiasShift2$1;let H=2147483647,q=H,te=-1,re=te;for(let ne=0;ne<this._networkSize;ne++){const ie=this._network[ne],ae=this._distance.calculateNormalized(ie,{r:g,g:m,b:d,a:w})*D;ae<H&&(H=ae,te=ne);const se=ae-(this._bias[ne]>>_NeuQuantFloat$1._initialBiasShift-networkBiasShift2$1);se<q&&(q=se,re=ne);const le=this._freq[ne]>>_NeuQuantFloat$1._betaShift;this._freq[ne]-=le,this._bias[ne]+=le<<_NeuQuantFloat$1._gammaShift}return this._freq[te]+=_NeuQuantFloat$1._beta,this._bias[te]-=_NeuQuantFloat$1._betaGamma,re}},NeuQuantFloat$1=_NeuQuantFloat$1;__publicField$3(NeuQuantFloat$1,"_prime1",499),__publicField$3(NeuQuantFloat$1,"_prime2",491),__publicField$3(NeuQuantFloat$1,"_prime3",487),__publicField$3(NeuQuantFloat$1,"_prime4",503),__publicField$3(NeuQuantFloat$1,"_minpicturebytes",_NeuQuantFloat$1._prime4),__publicField$3(NeuQuantFloat$1,"_nCycles",100),__publicField$3(NeuQuantFloat$1,"_initialBiasShift",16),__publicField$3(NeuQuantFloat$1,"_initialBias",1<<_NeuQuantFloat$1._initialBiasShift),__publicField$3(NeuQuantFloat$1,"_gammaShift",10),__publicField$3(NeuQuantFloat$1,"_betaShift",10),__publicField$3(NeuQuantFloat$1,"_beta",_NeuQuantFloat$1._initialBias>>_NeuQuantFloat$1._betaShift),__publicField$3(NeuQuantFloat$1,"_betaGamma",_NeuQuantFloat$1._initialBias<<_NeuQuantFloat$1._gammaShift-_NeuQuantFloat$1._betaShift),__publicField$3(NeuQuantFloat$1,"_radiusBiasShift",6),__publicField$3(NeuQuantFloat$1,"_radiusBias",1<<_NeuQuantFloat$1._radiusBiasShift),__publicField$3(NeuQuantFloat$1,"_radiusDecrease",30),__publicField$3(NeuQuantFloat$1,"_alphaBiasShift",10),__publicField$3(NeuQuantFloat$1,"_initAlpha",1<<_NeuQuantFloat$1._alphaBiasShift),__publicField$3(NeuQuantFloat$1,"_radBiasShift",8),__publicField$3(NeuQuantFloat$1,"_radBias",1<<_NeuQuantFloat$1._radBiasShift),__publicField$3(NeuQuantFloat$1,"_alphaRadBiasShift",_NeuQuantFloat$1._alphaBiasShift+_NeuQuantFloat$1._radBiasShift),__publicField$3(NeuQuantFloat$1,"_alphaRadBias",1<<_NeuQuantFloat$1._alphaRadBiasShift);var _ColorHistogram$1=class{constructor(d,m){__publicField$3(this,"_method"),__publicField$3(this,"_hueStats"),__publicField$3(this,"_histogram"),__publicField$3(this,"_initColors"),__publicField$3(this,"_minHueCols"),this._method=d,this._minHueCols=m<<2,this._initColors=m<<2,this._hueStats=new HueStatistics$1(_ColorHistogram$1._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(d){switch(this._method){case 1:this._colorStats1D(d);break;case 2:this._colorStats2D(d)}}getImportanceSortedColorsIDXI32(){const d=stableSort$1(Object.keys(this._histogram),(g,w)=>this._histogram[w]-this._histogram[g]);if(d.length===0)return[];let m;switch(this._method){case 1:const g=Math.min(d.length,this._initColors),w=d[g-1],D=this._histogram[w];m=d.slice(0,g);let H=g;const q=d.length;for(;H<q&&this._histogram[d[H]]===D;)m.push(d[H++]);this._hueStats.injectIntoArray(m);break;case 2:m=d;break;default:throw new Error("Incorrect method")}return m.map(g=>+g)}_colorStats1D(d){const m=this._histogram,g=d.getPointArray(),w=g.length;for(let D=0;D<w;D++){const H=g[D].uint32;this._hueStats.check(H),H in m?m[H]++:m[H]=1}}_colorStats2D(d){const m=d.getWidth(),g=d.getHeight(),w=d.getPointArray(),D=_ColorHistogram$1._boxSize[0],H=_ColorHistogram$1._boxSize[1],q=D*H,te=this._makeBoxes(m,g,D,H),re=this._histogram;te.forEach(ne=>{let ie=Math.round(ne.w*ne.h/q)*_ColorHistogram$1._boxPixels;ie<2&&(ie=2);const ae={};this._iterateBox(ne,m,se=>{const le=w[se].uint32;this._hueStats.check(le),le in re?re[le]++:le in ae?++ae[le]>=ie&&(re[le]=ae[le]):ae[le]=1})}),this._hueStats.injectIntoDictionary(re)}_iterateBox(d,m,g){const w=d,D=w.y*m+w.x,H=(w.y+w.h-1)*m+(w.x+w.w-1),q=m-w.w+1;let te=0,re=D;do g.call(this,re),re+=++te%w.w==0?q:1;while(re<=H)}_makeBoxes(d,m,g,w){const D=d%g,H=m%w,q=d-D,te=m-H,re=[];for(let ne=0;ne<m;ne+=w)for(let ie=0;ie<d;ie+=g)re.push({x:ie,y:ne,w:ie===q?D:g,h:ne===te?H:w});return re}},ColorHistogram$1=_ColorHistogram$1;__publicField$3(ColorHistogram$1,"_boxSize",[64,64]),__publicField$3(ColorHistogram$1,"_boxPixels",2),__publicField$3(ColorHistogram$1,"_hueGroups",10);var RemovedColor$1=class{constructor(d,m,g){__publicField$3(this,"index"),__publicField$3(this,"color"),__publicField$3(this,"distance"),this.index=d,this.color=m,this.distance=g}},RGBQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256,g=2){super(),__publicField$3(this,"_colors"),__publicField$3(this,"_initialDistance"),__publicField$3(this,"_distanceIncrement"),__publicField$3(this,"_histogram"),__publicField$3(this,"_distance"),this._distance=d,this._colors=m,this._histogram=new ColorHistogram$1(g,m),this._initialDistance=.01,this._distanceIncrement=.005}sample(d){this._histogram.sample(d)}*quantize(){const d=this._histogram.getImportanceSortedColorsIDXI32();if(d.length===0)throw new Error("No colors in image");yield*this._buildPalette(d)}*_buildPalette(d){const m=new Palette$1,g=m.getPointContainer().getPointArray(),w=new Array(d.length);for(let ie=0;ie<d.length;ie++)g.push(Point$1.createByUint32(d[ie])),w[ie]=1;const D=g.length,H=[];let q=D,te=this._initialDistance;const re=new ProgressTracker$1(q-this._colors,99);for(;q>this._colors;){H.length=0;for(let ie=0;ie<D;ie++){if(re.shouldNotify(D-q)&&(yield{progress:re.progress}),w[ie]===0)continue;const ae=g[ie];for(let se=ie+1;se<D;se++){if(w[se]===0)continue;const le=g[se],ue=this._distance.calculateNormalized(ae,le);ue<te&&(H.push(new RemovedColor$1(se,le,ue)),w[se]=0,q--)}}te+=q>3*this._colors?this._initialDistance:this._distanceIncrement}if(q<this._colors){stableSort$1(H,(ae,se)=>se.distance-ae.distance);let ie=0;for(;q<this._colors&&ie<H.length;)w[H[ie].index]=1,q++,ie++}let ne=g.length;for(let ie=ne-1;ie>=0;ie--)w[ie]===0&&(ie!==ne-1&&(g[ie]=g[ne-1]),--ne);g.length=ne,m.sort(),yield{palette:m,progress:100}}};function createArray1D$1(d){const m=[];for(let g=0;g<d;g++)m[g]=0;return m}function createArray4D$1(d,m,g,w){const D=new Array(d);for(let H=0;H<d;H++){D[H]=new Array(m);for(let q=0;q<m;q++){D[H][q]=new Array(g);for(let te=0;te<g;te++){D[H][q][te]=new Array(w);for(let re=0;re<w;re++)D[H][q][te][re]=0}}}return D}function createArray3D$1(d,m,g){const w=new Array(d);for(let D=0;D<d;D++){w[D]=new Array(m);for(let H=0;H<m;H++){w[D][H]=new Array(g);for(let q=0;q<g;q++)w[D][H][q]=0}}return w}function fillArray3D$1(d,m,g,w,D){for(let H=0;H<m;H++){d[H]=[];for(let q=0;q<g;q++){d[H][q]=[];for(let te=0;te<w;te++)d[H][q][te]=D}}}function fillArray1D$1(d,m,g){for(let w=0;w<m;w++)d[w]=g}var WuColorCube$1=class{constructor(){__publicField$3(this,"redMinimum"),__publicField$3(this,"redMaximum"),__publicField$3(this,"greenMinimum"),__publicField$3(this,"greenMaximum"),__publicField$3(this,"blueMinimum"),__publicField$3(this,"blueMaximum"),__publicField$3(this,"volume"),__publicField$3(this,"alphaMinimum"),__publicField$3(this,"alphaMaximum")}},_WuQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256,g=5){super(),__publicField$3(this,"_reds"),__publicField$3(this,"_greens"),__publicField$3(this,"_blues"),__publicField$3(this,"_alphas"),__publicField$3(this,"_sums"),__publicField$3(this,"_weights"),__publicField$3(this,"_momentsRed"),__publicField$3(this,"_momentsGreen"),__publicField$3(this,"_momentsBlue"),__publicField$3(this,"_momentsAlpha"),__publicField$3(this,"_moments"),__publicField$3(this,"_table"),__publicField$3(this,"_pixels"),__publicField$3(this,"_cubes"),__publicField$3(this,"_colors"),__publicField$3(this,"_significantBitsPerChannel"),__publicField$3(this,"_maxSideIndex"),__publicField$3(this,"_alphaMaxSideIndex"),__publicField$3(this,"_sideSize"),__publicField$3(this,"_alphaSideSize"),__publicField$3(this,"_distance"),this._distance=d,this._setQuality(g),this._initialize(m)}sample(d){const m=d.getPointArray();for(let g=0,w=m.length;g<w;g++)this._addColor(m[g]);this._pixels=this._pixels.concat(m)}*quantize(){yield*this._preparePalette();const d=new Palette$1;for(let m=0;m<this._colors;m++)if(this._sums[m]>0){const g=this._sums[m],w=this._reds[m]/g,D=this._greens[m]/g,H=this._blues[m]/g,q=this._alphas[m]/g,te=Point$1.createByRGBA(0|w,0|D,0|H,0|q);d.add(te)}d.sort(),yield{palette:d,progress:100}}*_preparePalette(){yield*this._calculateMoments();let d=0;const m=createArray1D$1(this._colors);for(let q=1;q<this._colors;++q){this._cut(this._cubes[d],this._cubes[q])?(m[d]=this._cubes[d].volume>1?this._calculateVariance(this._cubes[d]):0,m[q]=this._cubes[q].volume>1?this._calculateVariance(this._cubes[q]):0):(m[d]=0,q--),d=0;let te=m[0];for(let re=1;re<=q;++re)m[re]>te&&(te=m[re],d=re);if(te<=0){this._colors=q+1;break}}const g=[],w=[],D=[],H=[];for(let q=0;q<this._colors;++q){const te=_WuQuant$1._volume(this._cubes[q],this._weights);te>0?(g[q]=_WuQuant$1._volume(this._cubes[q],this._momentsRed)/te|0,w[q]=_WuQuant$1._volume(this._cubes[q],this._momentsGreen)/te|0,D[q]=_WuQuant$1._volume(this._cubes[q],this._momentsBlue)/te|0,H[q]=_WuQuant$1._volume(this._cubes[q],this._momentsAlpha)/te|0):(g[q]=0,w[q]=0,D[q]=0,H[q]=0)}this._reds=createArray1D$1(this._colors+1),this._greens=createArray1D$1(this._colors+1),this._blues=createArray1D$1(this._colors+1),this._alphas=createArray1D$1(this._colors+1),this._sums=createArray1D$1(this._colors+1);for(let q=0,te=this._pixels.length;q<te;q++){const re=this._pixels[q];let ne=-1,ie=Number.MAX_VALUE;for(let ae=0;ae<this._colors;ae++){const se=g[ae],le=w[ae],ue=D[ae],fe=H[ae],de=this._distance.calculateRaw(se,le,ue,fe,re.r,re.g,re.b,re.a);de<ie&&(ie=de,ne=ae)}this._reds[ne]+=re.r,this._greens[ne]+=re.g,this._blues[ne]+=re.b,this._alphas[ne]+=re.a,this._sums[ne]++}}_addColor(d){const m=8-this._significantBitsPerChannel,g=1+(d.r>>m),w=1+(d.g>>m),D=1+(d.b>>m),H=1+(d.a>>m);this._weights[H][g][w][D]++,this._momentsRed[H][g][w][D]+=d.r,this._momentsGreen[H][g][w][D]+=d.g,this._momentsBlue[H][g][w][D]+=d.b,this._momentsAlpha[H][g][w][D]+=d.a,this._moments[H][g][w][D]+=this._table[d.r]+this._table[d.g]+this._table[d.b]+this._table[d.a]}*_calculateMoments(){const d=[],m=[],g=[],w=[],D=[],H=[],q=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),te=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),re=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),ne=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),ie=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),ae=createArray3D$1(this._sideSize,this._sideSize,this._sideSize);let se=0;const le=new ProgressTracker$1(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let ue=1;ue<=this._alphaMaxSideIndex;++ue){fillArray3D$1(q,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(te,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(re,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(ne,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(ie,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(ae,this._sideSize,this._sideSize,this._sideSize,0);for(let fe=1;fe<=this._maxSideIndex;++fe,++se){le.shouldNotify(se)&&(yield{progress:le.progress}),fillArray1D$1(d,this._sideSize,0),fillArray1D$1(m,this._sideSize,0),fillArray1D$1(g,this._sideSize,0),fillArray1D$1(w,this._sideSize,0),fillArray1D$1(D,this._sideSize,0),fillArray1D$1(H,this._sideSize,0);for(let de=1;de<=this._maxSideIndex;++de){let me=0,ge=0,he=0,pe=0,ve=0,ke=0;for(let be=1;be<=this._maxSideIndex;++be)me+=this._weights[ue][fe][de][be],ge+=this._momentsRed[ue][fe][de][be],he+=this._momentsGreen[ue][fe][de][be],pe+=this._momentsBlue[ue][fe][de][be],ve+=this._momentsAlpha[ue][fe][de][be],ke+=this._moments[ue][fe][de][be],d[be]+=me,m[be]+=ge,g[be]+=he,w[be]+=pe,D[be]+=ve,H[be]+=ke,q[fe][de][be]=q[fe-1][de][be]+d[be],te[fe][de][be]=te[fe-1][de][be]+m[be],re[fe][de][be]=re[fe-1][de][be]+g[be],ne[fe][de][be]=ne[fe-1][de][be]+w[be],ie[fe][de][be]=ie[fe-1][de][be]+D[be],ae[fe][de][be]=ae[fe-1][de][be]+H[be],this._weights[ue][fe][de][be]=this._weights[ue-1][fe][de][be]+q[fe][de][be],this._momentsRed[ue][fe][de][be]=this._momentsRed[ue-1][fe][de][be]+te[fe][de][be],this._momentsGreen[ue][fe][de][be]=this._momentsGreen[ue-1][fe][de][be]+re[fe][de][be],this._momentsBlue[ue][fe][de][be]=this._momentsBlue[ue-1][fe][de][be]+ne[fe][de][be],this._momentsAlpha[ue][fe][de][be]=this._momentsAlpha[ue-1][fe][de][be]+ie[fe][de][be],this._moments[ue][fe][de][be]=this._moments[ue-1][fe][de][be]+ae[fe][de][be]}}}}static _volumeFloat(d,m){return m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMaximum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum])}static _volume(d,m){return 0|_WuQuant$1._volumeFloat(d,m)}static _top(d,m,g,w){let D;switch(m){case _WuQuant$1._alpha:D=w[g][d.redMaximum][d.greenMaximum][d.blueMaximum]-w[g][d.redMaximum][d.greenMinimum][d.blueMaximum]-w[g][d.redMinimum][d.greenMaximum][d.blueMaximum]+w[g][d.redMinimum][d.greenMinimum][d.blueMaximum]-(w[g][d.redMaximum][d.greenMaximum][d.blueMinimum]-w[g][d.redMaximum][d.greenMinimum][d.blueMinimum]-w[g][d.redMinimum][d.greenMaximum][d.blueMinimum]+w[g][d.redMinimum][d.greenMinimum][d.blueMinimum]);break;case _WuQuant$1._red:D=w[d.alphaMaximum][g][d.greenMaximum][d.blueMaximum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMaximum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMaximum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMaximum]-(w[d.alphaMaximum][g][d.greenMaximum][d.blueMinimum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMinimum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMinimum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMinimum]);break;case _WuQuant$1._green:D=w[d.alphaMaximum][d.redMaximum][g][d.blueMaximum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMaximum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMaximum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMaximum]-(w[d.alphaMaximum][d.redMaximum][g][d.blueMinimum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMinimum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMinimum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMinimum]);break;case _WuQuant$1._blue:D=w[d.alphaMaximum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMaximum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMaximum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMaximum][d.redMinimum][d.greenMinimum][g]-(w[d.alphaMinimum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMinimum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMinimum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMinimum][d.redMinimum][d.greenMinimum][g]);break;default:throw new Error("impossible")}return 0|D}static _bottom(d,m,g){switch(m){case _WuQuant$1._alpha:return-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._red:return-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._green:return-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._blue:return-g[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);default:return 0}}_calculateVariance(d){const m=_WuQuant$1._volume(d,this._momentsRed),g=_WuQuant$1._volume(d,this._momentsGreen),w=_WuQuant$1._volume(d,this._momentsBlue),D=_WuQuant$1._volume(d,this._momentsAlpha);return _WuQuant$1._volumeFloat(d,this._moments)-(m*m+g*g+w*w+D*D)/_WuQuant$1._volume(d,this._weights)}_maximize(d,m,g,w,D,H,q,te,re){const ne=0|_WuQuant$1._bottom(d,m,this._momentsRed),ie=0|_WuQuant$1._bottom(d,m,this._momentsGreen),ae=0|_WuQuant$1._bottom(d,m,this._momentsBlue),se=0|_WuQuant$1._bottom(d,m,this._momentsAlpha),le=0|_WuQuant$1._bottom(d,m,this._weights);let ue=0,fe=-1;for(let de=g;de<w;++de){let me=ne+_WuQuant$1._top(d,m,de,this._momentsRed),ge=ie+_WuQuant$1._top(d,m,de,this._momentsGreen),he=ae+_WuQuant$1._top(d,m,de,this._momentsBlue),pe=se+_WuQuant$1._top(d,m,de,this._momentsAlpha),ve=le+_WuQuant$1._top(d,m,de,this._weights);if(ve!==0){let ke=me*me+ge*ge+he*he+pe*pe,be=ke/ve;me=D-me,ge=H-ge,he=q-he,pe=te-pe,ve=re-ve,ve!==0&&(ke=me*me+ge*ge+he*he+pe*pe,be+=ke/ve,be>ue&&(ue=be,fe=de))}}return{max:ue,position:fe}}_cut(d,m){let g;const w=_WuQuant$1._volume(d,this._momentsRed),D=_WuQuant$1._volume(d,this._momentsGreen),H=_WuQuant$1._volume(d,this._momentsBlue),q=_WuQuant$1._volume(d,this._momentsAlpha),te=_WuQuant$1._volume(d,this._weights),re=this._maximize(d,_WuQuant$1._red,d.redMinimum+1,d.redMaximum,w,D,H,q,te),ne=this._maximize(d,_WuQuant$1._green,d.greenMinimum+1,d.greenMaximum,w,D,H,q,te),ie=this._maximize(d,_WuQuant$1._blue,d.blueMinimum+1,d.blueMaximum,w,D,H,q,te),ae=this._maximize(d,_WuQuant$1._alpha,d.alphaMinimum+1,d.alphaMaximum,w,D,H,q,te);if(ae.max>=re.max&&ae.max>=ne.max&&ae.max>=ie.max){if(g=_WuQuant$1._alpha,ae.position<0)return!1}else g=re.max>=ae.max&&re.max>=ne.max&&re.max>=ie.max?_WuQuant$1._red:ne.max>=ae.max&&ne.max>=re.max&&ne.max>=ie.max?_WuQuant$1._green:_WuQuant$1._blue;switch(m.redMaximum=d.redMaximum,m.greenMaximum=d.greenMaximum,m.blueMaximum=d.blueMaximum,m.alphaMaximum=d.alphaMaximum,g){case _WuQuant$1._red:m.redMinimum=d.redMaximum=re.position,m.greenMinimum=d.greenMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._green:m.greenMinimum=d.greenMaximum=ne.position,m.redMinimum=d.redMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._blue:m.blueMinimum=d.blueMaximum=ie.position,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._alpha:m.alphaMinimum=d.alphaMaximum=ae.position,m.blueMinimum=d.blueMinimum,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum}return d.volume=(d.redMaximum-d.redMinimum)*(d.greenMaximum-d.greenMinimum)*(d.blueMaximum-d.blueMinimum)*(d.alphaMaximum-d.alphaMinimum),m.volume=(m.redMaximum-m.redMinimum)*(m.greenMaximum-m.greenMinimum)*(m.blueMaximum-m.blueMinimum)*(m.alphaMaximum-m.alphaMinimum),!0}_initialize(d){this._colors=d,this._cubes=[];for(let m=0;m<d;m++)this._cubes[m]=new WuColorCube$1;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let m=0;m<256;++m)this._table[m]=m*m;this._pixels=[]}_setQuality(d=5){this._significantBitsPerChannel=d,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},WuQuant$1=_WuQuant$1;__publicField$3(WuQuant$1,"_alpha",3),__publicField$3(WuQuant$1,"_red",2),__publicField$3(WuQuant$1,"_green",1),__publicField$3(WuQuant$1,"_blue",0);var image_exports$1={};__export$1(image_exports$1,{AbstractImageQuantizer:()=>AbstractImageQuantizer$1,ErrorDiffusionArray:()=>ErrorDiffusionArray$1,ErrorDiffusionArrayKernel:()=>ErrorDiffusionArrayKernel$1,ErrorDiffusionRiemersma:()=>ErrorDiffusionRiemersma$1,NearestColor:()=>NearestColor$1});var AbstractImageQuantizer$1=class{quantizeSync(d,m){for(const g of this.quantize(d,m))if(g.pointContainer)return g.pointContainer;throw new Error("unreachable")}},NearestColor$1=class extends AbstractImageQuantizer$1{constructor(d){super(),__publicField$3(this,"_distance"),this._distance=d}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),D=d.getHeight(),H=new ProgressTracker$1(D,99);for(let q=0;q<D;q++){H.shouldNotify(q)&&(yield{progress:H.progress});for(let te=0,re=q*w;te<w;te++,re++){const ne=g[re];ne.from(m.getNearestColor(this._distance,ne))}}yield{pointContainer:d,progress:100}}},ErrorDiffusionArrayKernel$1=(d=>(d[d.FloydSteinberg=0]="FloydSteinberg",d[d.FalseFloydSteinberg=1]="FalseFloydSteinberg",d[d.Stucki=2]="Stucki",d[d.Atkinson=3]="Atkinson",d[d.Jarvis=4]="Jarvis",d[d.Burkes=5]="Burkes",d[d.Sierra=6]="Sierra",d[d.TwoSierra=7]="TwoSierra",d[d.SierraLite=8]="SierraLite",d))(ErrorDiffusionArrayKernel$1||{}),ErrorDiffusionArray$1=class extends AbstractImageQuantizer$1{constructor(d,m,g=!0,w=0,D=!1){super(),__publicField$3(this,"_minColorDistance"),__publicField$3(this,"_serpentine"),__publicField$3(this,"_kernel"),__publicField$3(this,"_calculateErrorLikeGIMP"),__publicField$3(this,"_distance"),this._setKernel(m),this._distance=d,this._minColorDistance=w,this._serpentine=g,this._calculateErrorLikeGIMP=D}*quantize(d,m){const g=d.getPointArray(),w=new Point$1,D=d.getWidth(),H=d.getHeight(),q=[];let te=1,re=1;for(const ie of this._kernel){const ae=ie[2]+1;re<ae&&(re=ae)}for(let ie=0;ie<re;ie++)this._fillErrorLine(q[ie]=[],D);const ne=new ProgressTracker$1(H,99);for(let ie=0;ie<H;ie++){ne.shouldNotify(ie)&&(yield{progress:ne.progress}),this._serpentine&&(te*=-1);const ae=ie*D,se=te===1?0:D-1,le=te===1?D:-1;this._fillErrorLine(q[0],D),q.push(q.shift());const ue=q[0];for(let fe=se,de=ae+se;fe!==le;fe+=te,de+=te){const me=g[de],ge=ue[fe];w.from(me);const he=Point$1.createByRGBA(inRange0to255Rounded$1(me.r+ge[0]),inRange0to255Rounded$1(me.g+ge[1]),inRange0to255Rounded$1(me.b+ge[2]),inRange0to255Rounded$1(me.a+ge[3])),pe=m.getNearestColor(this._distance,he);if(me.from(pe),this._minColorDistance&&this._distance.calculateNormalized(w,pe)<this._minColorDistance)continue;let ve,ke,be,Se;this._calculateErrorLikeGIMP?(ve=he.r-pe.r,ke=he.g-pe.g,be=he.b-pe.b,Se=he.a-pe.a):(ve=w.r-pe.r,ke=w.g-pe.g,be=w.b-pe.b,Se=w.a-pe.a);const Ee=te===1?0:this._kernel.length-1,Ie=te===1?this._kernel.length:-1;for(let _e=Ee;_e!==Ie;_e+=te){const Te=this._kernel[_e][1]*te,Le=this._kernel[_e][2];if(Te+fe>=0&&Te+fe<D&&Le+ie>=0&&Le+ie<H){const Be=this._kernel[_e][0],Ce=q[Le][Te+fe];Ce[0]+=ve*Be,Ce[1]+=ke*Be,Ce[2]+=be*Be,Ce[3]+=Se*Be}}}}yield{pointContainer:d,progress:100}}_fillErrorLine(d,m){d.length>m&&(d.length=m);const g=d.length;for(let w=0;w<g;w++){const D=d[w];D[0]=D[1]=D[2]=D[3]=0}for(let w=g;w<m;w++)d[w]=[0,0,0,0]}_setKernel(d){switch(d){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${d}`)}}};function*hilbertCurve$1(d,m,g){const w=Math.max(d,m),D={width:d,height:m,level:Math.floor(Math.log(w)/Math.log(2)+1),callback:g,tracker:new ProgressTracker$1(d*m,99),index:0,x:0,y:0};yield*walkHilbert$1(D,1),visit$1(D,0)}function*walkHilbert$1(d,m){if(!(d.level<1)){switch(d.tracker.shouldNotify(d.index)&&(yield{progress:d.tracker.progress}),d.level--,m){case 2:yield*walkHilbert$1(d,1),visit$1(d,3),yield*walkHilbert$1(d,2),visit$1(d,4),yield*walkHilbert$1(d,2),visit$1(d,2),yield*walkHilbert$1(d,4);break;case 3:yield*walkHilbert$1(d,4),visit$1(d,2),yield*walkHilbert$1(d,3),visit$1(d,1),yield*walkHilbert$1(d,3),visit$1(d,3),yield*walkHilbert$1(d,1);break;case 1:yield*walkHilbert$1(d,2),visit$1(d,4),yield*walkHilbert$1(d,1),visit$1(d,3),yield*walkHilbert$1(d,1),visit$1(d,1),yield*walkHilbert$1(d,3);break;case 4:yield*walkHilbert$1(d,3),visit$1(d,1),yield*walkHilbert$1(d,4),visit$1(d,2),yield*walkHilbert$1(d,4),visit$1(d,4),yield*walkHilbert$1(d,2)}d.level++}}function visit$1(d,m){switch(d.x>=0&&d.x<d.width&&d.y>=0&&d.y<d.height&&(d.callback(d.x,d.y),d.index++),m){case 2:d.x--;break;case 3:d.x++;break;case 1:d.y--;break;case 4:d.y++}}var ErrorDiffusionRiemersma$1=class extends AbstractImageQuantizer$1{constructor(d,m=16,g=1){super(),__publicField$3(this,"_distance"),__publicField$3(this,"_weights"),__publicField$3(this,"_errorQueueSize"),this._distance=d,this._errorQueueSize=m,this._weights=ErrorDiffusionRiemersma$1._createWeights(g,m)}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),D=d.getHeight(),H=[];let q=0;for(let te=0;te<this._errorQueueSize;te++)H[te]={r:0,g:0,b:0,a:0};yield*hilbertCurve$1(w,D,(te,re)=>{const ne=g[te+re*w];let{r:ie,g:ae,b:se,a:le}=ne;for(let me=0;me<this._errorQueueSize;me++){const ge=this._weights[me],he=H[(me+q)%this._errorQueueSize];ie+=he.r*ge,ae+=he.g*ge,se+=he.b*ge,le+=he.a*ge}const ue=Point$1.createByRGBA(inRange0to255Rounded$1(ie),inRange0to255Rounded$1(ae),inRange0to255Rounded$1(se),inRange0to255Rounded$1(le)),fe=m.getNearestColor(this._distance,ue);q=(q+1)%this._errorQueueSize;const de=(q+this._errorQueueSize-1)%this._errorQueueSize;H[de].r=ne.r-fe.r,H[de].g=ne.g-fe.g,H[de].b=ne.b-fe.b,H[de].a=ne.a-fe.a,ne.from(fe)}),yield{pointContainer:d,progress:100}}static _createWeights(d,m){const g=[],w=Math.exp(Math.log(m)/(m-1));for(let D=0,H=1;D<m;D++)g[D]=(H+.5|0)/m*d,H*=w;return g}},quality_exports$1={};__export$1(quality_exports$1,{ssim:()=>ssim$1});var K1$1=.01,K2$1=.03;function ssim$1(d,m){if(d.getHeight()!==m.getHeight()||d.getWidth()!==m.getWidth())throw new Error("Images have different sizes!");const g=(255*K1$1)**2,w=(255*K2$1)**2;let D=0,H=0;return iterate$1(d,m,(q,te,re,ne)=>{let ie=0,ae=0,se=0;for(let ue=0;ue<q.length;ue++)ae+=(q[ue]-re)**2,se+=(te[ue]-ne)**2,ie+=(q[ue]-re)*(te[ue]-ne);const le=q.length-1;ae/=le,se/=le,ie/=le,H+=(2*re*ne+g)*(2*ie+w)/((re**2+ne**2+g)*(ae+se+w)),D++}),H/D}function iterate$1(d,m,g){const w=d.getWidth(),D=d.getHeight();for(let H=0;H<D;H+=8)for(let q=0;q<w;q+=8){const te=Math.min(8,w-q),re=Math.min(8,D-H),ne=calculateLumaValuesForWindow$1(d,q,H,te,re),ie=calculateLumaValuesForWindow$1(m,q,H,te,re);g(ne,ie,calculateAverageLuma$1(ne),calculateAverageLuma$1(ie))}}function calculateLumaValuesForWindow$1(d,m,g,w,D){const H=d.getPointArray(),q=[];let te=0;for(let re=g;re<g+D;re++){const ne=re*d.getWidth();for(let ie=m;ie<m+w;ie++){const ae=H[ne+ie];q[te]=.2126*ae.r+.7152*ae.g+.0722*ae.b,te++}}return q}function calculateAverageLuma$1(d){let m=0;for(const g of d)m+=g;return m/d.length}var setImmediateImpl=typeof setImmediate=="function"?setImmediate:typeof process<"u"&&typeof(process==null?void 0:process.nextTick)=="function"?d=>process.nextTick(d):d=>setTimeout(d,0);function buildPaletteSync$1(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w}={}){const D=paletteQuantizationToPaletteQuantizer$1(colorDistanceFormulaToColorDistance$1(m),g,w);return d.forEach(H=>D.sample(H)),D.quantizeSync()}async function buildPalette(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w,onProgress:D}={}){return new Promise((H,q)=>{const te=paletteQuantizationToPaletteQuantizer$1(colorDistanceFormulaToColorDistance$1(m),g,w);let re;d.forEach(ae=>te.sample(ae));const ne=te.quantize(),ie=()=>{try{const ae=ne.next();ae.done?H(re):(ae.value.palette&&(re=ae.value.palette),D&&D(ae.value.progress),setImmediateImpl(ie))}catch(ae){q(ae)}};setImmediateImpl(ie)})}function applyPaletteSync$1(d,m,{colorDistanceFormula:g,imageQuantization:w}={}){return imageQuantizationToImageQuantizer$1(colorDistanceFormulaToColorDistance$1(g),w).quantizeSync(d,m)}async function applyPalette(d,m,{colorDistanceFormula:g,imageQuantization:w,onProgress:D}={}){return new Promise((H,q)=>{let te;const re=imageQuantizationToImageQuantizer$1(colorDistanceFormulaToColorDistance$1(g),w).quantize(d,m),ne=()=>{try{const ie=re.next();ie.done?H(te):(ie.value.pointContainer&&(te=ie.value.pointContainer),D&&D(ie.value.progress),setImmediateImpl(ne))}catch(ie){q(ie)}};setImmediateImpl(ne)})}function colorDistanceFormulaToColorDistance$1(d="euclidean-bt709"){switch(d){case"cie94-graphic-arts":return new CIE94GraphicArts$1;case"cie94-textiles":return new CIE94Textiles$1;case"ciede2000":return new CIEDE2000$1;case"color-metric":return new CMetric$1;case"euclidean":return new Euclidean$1;case"euclidean-bt709":return new EuclideanBT709$1;case"euclidean-bt709-noalpha":return new EuclideanBT709NoAlpha$1;case"manhattan":return new Manhattan$1;case"manhattan-bt709":return new ManhattanBT709$1;case"manhattan-nommyde":return new ManhattanNommyde$1;case"pngquant":return new PNGQuant$1;default:throw new Error(`Unknown colorDistanceFormula ${d}`)}}function imageQuantizationToImageQuantizer$1(d,m="floyd-steinberg"){switch(m){case"nearest":return new NearestColor$1(d);case"riemersma":return new ErrorDiffusionRiemersma$1(d);case"floyd-steinberg":return new ErrorDiffusionArray$1(d,0);case"false-floyd-steinberg":return new ErrorDiffusionArray$1(d,1);case"stucki":return new ErrorDiffusionArray$1(d,2);case"atkinson":return new ErrorDiffusionArray$1(d,3);case"jarvis":return new ErrorDiffusionArray$1(d,4);case"burkes":return new ErrorDiffusionArray$1(d,5);case"sierra":return new ErrorDiffusionArray$1(d,6);case"two-sierra":return new ErrorDiffusionArray$1(d,7);case"sierra-lite":return new ErrorDiffusionArray$1(d,8);default:throw new Error(`Unknown imageQuantization ${m}`)}}function paletteQuantizationToPaletteQuantizer$1(d,m="wuquant",g=256){switch(m){case"neuquant":return new NeuQuant$1(d,g);case"rgbquant":return new RGBQuant$1(d,g);case"wuquant":return new WuQuant$1(d,g);case"neuquant-float":return new NeuQuantFloat$1(d,g);default:throw new Error(`Unknown paletteQuantization ${m}`)}}var imageQ=__toCommonJS(src_exports),gifframe={};const BitmapImage$1=bitmapimage;let GifFrame$1=class Rl extends BitmapImage$1{constructor(...m){if(super(...m),m[0]instanceof Rl){const g=m[0];this.xOffset=g.xOffset,this.yOffset=g.yOffset,this.disposalMethod=g.disposalMethod,this.delayCentisecs=g.delayCentisecs,this.interlaced=g.interlaced}else{const g=m[m.length-1];let w={};typeof g!="object"||g instanceof BitmapImage$1||(w=g),this.xOffset=w.xOffset||0,this.yOffset=w.yOffset||0,this.disposalMethod=w.disposalMethod!==void 0?w.disposalMethod:Rl.DisposeToBackgroundColor,this.delayCentisecs=w.delayCentisecs||8,this.interlaced=w.interlaced||!1}}getPalette(){const m=new Set,g=this.bitmap.data;let w=0,D=!1;for(;w<g.length;){if(g[w+3]===0)D=!0;else{const re=g.readUInt32BE(w,!0)>>8&16777215;m.add(re)}w+=4}const H=new Array(m.size),q=m.values();for(w=0;w<H.length;++w)H[w]=q.next().value;H.sort((re,ne)=>re-ne);let te=H.length;return D&&++te,{colors:H,usesTransparency:D,indexCount:te}}};var hasRequiredGifutil,hasRequiredGifcodec;function requireGifutil(){return hasRequiredGifutil||(hasRequiredGifutil=1,function(d){const m=require$$0,g=imageQ,w=bitmapimage,{GifFrame:D}=gifframe,{GifError:H}=gif$1,{GifCodec:q}=requireGifcodec(),te=[".jpg",".jpeg",".png",".bmp"],re=new q;function ne(ie,ae,se,le,ue){const fe=Array.isArray(ie)?ie:[ie];if(ue){if(["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"].indexOf(ue.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${ue.ditherAlgorithm}'`);ue.serpentine===void 0&&(ue.serpentine=!0),ue.minimumColorDistanceToDither===void 0&&(ue.minimumColorDistanceToDither=0),ue.calculateErrorLikeGIMP===void 0&&(ue.calculateErrorLikeGIMP=!1)}const de=new g.distance.Euclidean,me=new g.palette[ae](de,se,le);let ge;ge=ue?new g.image.ErrorDiffusionArray(de,g.image.ErrorDiffusionArrayKernel[ue.ditherAlgorithm],ue.serpentine,ue.minimumColorDistanceToDither,ue.calculateErrorLikeGIMP):new g.image.NearestColor(de);const he=[];fe.forEach(ve=>{const ke=ve.bitmap.data,be=new ArrayBuffer(ke.length),Se=new Uint32Array(be);for(let Ie=0,_e=0;Ie<ke.length;Ie+=4,++_e)Se[_e]=ke.readUInt32LE(Ie,!0);const Ee=g.utils.PointContainer.fromUint32Array(Se,ve.bitmap.width,ve.bitmap.height);me.sample(Ee),he.push(Ee)});const pe=me.quantizeSync();for(let ve=0;ve<fe.length;++ve){const ke=fe[ve].bitmap.data,be=ge.quantizeSync(he[ve],pe).toUint32Array();for(let Se=0,Ee=0;Se<ke.length;Se+=4,++Ee)ke.writeUInt32LE(be[Ee],Se)}}d.cloneFrames=function(ie){let ae=[];return ie.forEach(se=>{ae.push(new D(se))}),ae},d.getColorInfo=function(ie,ae){let se=!1;const le=[];for(let ge=0;ge<ie.length;++ge){let he=ie[ge].getPalette();if(he.usesTransparency&&(se=!0),he.indexCount>256)throw new H(`Frame ${ge} uses more than 256 color indexes`);le.push(he)}if(ae===0)return{usesTransparency:se,palettes:le};const ue=new Set;le.forEach(ge=>{ge.colors.forEach(he=>{ue.add(he)})});let fe=ue.size;if(se&&++fe,ae&&fe>ae)return{usesTransparency:se,palettes:le};const de=new Array(ue.size),me=ue.values();for(let ge=0;ge<de.length;++ge)de[ge]=me.next().value;return de.sort((ge,he)=>ge-he),{colors:de,indexCount:fe,usesTransparency:se,palettes:le}},d.copyAsJimp=function(ie,ae){return d.shareAsJimp(ie,new w(ae))},d.getMaxDimensions=function(ie){let ae=0,se=0;return ie.forEach(le=>{const ue=le.xOffset+le.bitmap.width;ue>ae&&(ae=ue);const fe=le.yOffset+le.bitmap.height;fe>se&&(se=fe)}),{maxWidth:ae,maxHeight:se}},d.quantizeDekker=function(ie,ae,se){ne(ie,"NeuQuantFloat",ae=ae||256,0,se)},d.quantizeSorokin=function(ie,ae,se,le){let ue;switch(ae=ae||256,se=se||"min-pop"){case"min-pop":ue=2;break;case"top-pop":ue=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${se}'`)}ne(ie,"RGBQuant",ae,ue,le)},d.quantizeWu=function(ie,ae,se,le){if(ae=ae||256,(se=se||5)<1||se>8)throw new Error("Invalid quantization quality");ne(ie,"WuQuant",ae,se,le)},d.read=function(ie,ae){return ae=ae||re,Buffer.isBuffer(ie)?ae.decodeGif(ie):function(se){return new Promise((le,ue)=>{m.readFile(se,(fe,de)=>fe?ue(fe):le(de))})}(ie).then(se=>ae.decodeGif(se))},d.shareAsJimp=function(ie,ae){const se=new ie(ae.bitmap.width,ae.bitmap.height,0);return se.bitmap.data=ae.bitmap.data,se},d.write=function(ie,ae,se,le){le=le||re;const ue=ie.match(/\.[a-zA-Z]+$/);if(ue!==null&&te.includes(ue[0].toLowerCase()))throw new Error(`GIF '${ie}' has an unexpected suffix`);return le.encodeGif(ae,se).then(fe=>function(de,me){return new Promise((ge,he)=>{m.writeFile(de,me,pe=>pe?he(pe):ge())})}(ie,fe.buffer).then(()=>fe))}}(gifutil)),gifutil}function requireGifcodec(){if(hasRequiredGifcodec)return gifcodec;hasRequiredGifcodec=1;const d=omggif,{Gif:m,GifError:g}=gif$1;function w(){const ae=requireGifutil();return w=function(){return ae},ae}const{GifFrame:D}=gifframe;function H(ae,se){const le=ae.indexOf(se);return le===-1?null:le}function q(ae,se){for(var le,ue=0,fe=ae.length-1;ue<=fe;)if(ae[le=Math.floor((ue+fe)/2)]>se)fe=le-1;else{if(!(ae[le]<se))return le;ue=le+1}return null}function te(ae){const se=ae.colors;ae.usesTransparency&&se.push(0);const le=se.length;let ue=2;for(;le>ue;)ue<<=1;se.length=ue,se.fill(0,le)}function re(ae,se){let le=ae.bitmap.width*ae.bitmap.height;return le=Math.ceil(le*se/8),le+=Math.ceil(le/255),100+le+768}function ne(ae){let se=ae.indexCount,le=0;for(--se;se;)++le,se>>=1;return le>0?le:1}function ie(ae,se,le,ue,fe){if(le.interlaced)throw new g("writing interlaced GIFs is not supported");const de=function(ge,he,pe){const ve=pe.colors,ke=ve.length<=8?H:q,be=he.bitmap.data,Se=new Buffer(be.length/4);let Ee=ve.length,Ie=0,_e=0;for(;Ie<be.length;){if(be[Ie+3]!==0){const Te=be.readUInt32BE(Ie,!0)>>8&16777215;Se[_e]=ke(ve,Te)}else Se[_e]=Ee;Ie+=4,++_e}if(pe.usesTransparency){if(Ee===256)throw new g(`Frame ${ge} already has 256 colorsand so can't use transparency`)}else Ee=null;return{buffer:Se,transparentIndex:Ee}}(se,le,ue),me={delay:le.delayCentisecs,disposal:le.disposalMethod,transparent:de.transparentIndex};fe&&(te(ue),me.palette=ue.colors);try{let ge,he=ae.getOutputBuffer(),pe=ae.getOutputBufferPosition(),ve=!0;for(;ve;)if(ge=ae.addFrame(le.xOffset,le.yOffset,le.bitmap.width,le.bitmap.height,de.buffer,me),ve=!1,ge>=he.length-1){const ke=new Buffer(1.5*he.length);he.copy(ke),ae.setOutputBuffer(ke),ae.setOutputBufferPosition(pe),he=ke,ve=!0}return he}catch(ge){throw new g(ge)}}return gifcodec.GifCodec=class{constructor(ae={}){this._transparentRGB=null,typeof ae.transparentRGB=="number"&&ae.transparentRGB!==0&&(this._transparentRGBA=256*ae.transparentRGB),this._testInitialBufferSize=0}decodeGif(ae){try{let se;try{se=new d.GifReader(ae)}catch(de){throw new g(de)}const le=se.numFrames(),ue=[],fe={width:se.width,height:se.height,loops:se.loopCount(),usesTransparency:!1};for(let de=0;de<le;++de){const me=this._decodeFrame(se,de,fe.usesTransparency);ue.push(me.frame),me.usesTransparency&&(fe.usesTransparency=!0)}return Promise.resolve(new m(ae,ue,fe))}catch(se){return Promise.reject(se)}}encodeGif(ae,se={}){try{if(ae===null||ae.length===0)throw new g("there are no frames");const le=w().getMaxDimensions(ae);return(se=Object.assign({},se)).width=le.maxWidth,se.height=le.maxHeight,se.loops===void 0&&(se.loops=0),se.colorScope=se.colorScope||m.GlobalColorsPreferred,Promise.resolve(this._encodeGif(ae,se))}catch(le){return Promise.reject(le)}}_decodeFrame(ae,se,le){let ue,fe;try{if(ue=ae.frameInfo(se),fe=new Buffer(ae.width*ae.height*4),ae.decodeAndBlitFrameRGBA(se,fe),ue.width!==ae.width||ue.height!==ae.height){if(ue.y&&(fe=fe.slice(ue.y*ae.width*4)),ae.width>ue.width)for(let me=0;me<ue.height;++me)fe.copy(fe,me*ue.width*4,4*(ue.x+me*ae.width),4*(ue.x+me*ae.width)+4*ue.width);fe=fe.slice(0,ue.width*ue.height*4)}}catch(me){throw new g(me)}let de=!1;if(this._transparentRGBA===null){if(!le)for(let me=3;me<fe.length;me+=4)fe[me]===0&&(de=!0,me=fe.length)}else for(let me=3;me<fe.length;me+=4)fe[me]===0&&(fe.writeUInt32BE(this._transparentRGBA,me-3),de=!0);return{frame:new D(ue.width,ue.height,fe,{xOffset:ue.x,yOffset:ue.y,disposalMethod:ue.disposal,interlaced:ue.interlaced,delayCentisecs:ue.delay}),usesTransparency:de}}_encodeGif(ae,se){let le;if(se.colorScope===m.LocalColorsOnly)le=w().getColorInfo(ae,0);else if(le=w().getColorInfo(ae,256),!le.colors){if(se.colorScope===m.GlobalColorsOnly)throw new g("Too many color indexes for global color table");se.colorScope=m.LocalColorsOnly}se.usesTransparency=le.usesTransparency;const ue=le.palettes;return se.colorScope===m.LocalColorsOnly?function(fe,de,me,ge){const he={loop:de.loops};let pe,ve=new Buffer(me);try{pe=new d.GifWriter(ve,de.width,de.height,he)}catch(ke){throw new g(ke)}for(let ke=0;ke<fe.length;++ke)ve=ie(pe,ke,fe[ke],ge[ke],!0);return new m(ve.slice(0,pe.end()),fe,de)}(ae,se,2e3,ue):function(fe,de,me,ge){const he={colors:ge.colors.slice(),usesTransparency:ge.usesTransparency};te(he);const pe={palette:he.colors,loop:de.loops};let ve,ke=new Buffer(me);try{ve=new d.GifWriter(ke,de.width,de.height,pe)}catch(be){throw new g(be)}for(let be=0;be<fe.length;++be)ke=ie(ve,be,fe[be],ge,!1);return new m(ke.slice(0,ve.end()),fe,de)}(ae,se,2e3,le)}_getSizeEstimateGlobal(ae,se){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let le=968;const ue=ne(ae);return se.forEach(fe=>{le+=re(fe,ue)}),le}_getSizeEstimateLocal(ae,se){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let le=200;for(let ue=0;ue<se.length;++ue){const fe=ne(ae[ue]);le+=re(se[ue],fe)}return le}},gifcodec}GifFrame$1.DisposeToAnything=0,GifFrame$1.DisposeNothing=1,GifFrame$1.DisposeToBackgroundColor=2,GifFrame$1.DisposeToPrevious=3,gifframe.GifFrame=GifFrame$1;const BitmapImage=bitmapimage,{Gif,GifError:GifError$1}=gif$1,{GifCodec}=requireGifcodec(),{GifFrame}=gifframe,GifUtil=requireGifutil();var src={BitmapImage,Gif,GifCodec,GifFrame,GifUtil,GifError:GifError$1};function gif(){return{mime:"image/gif",encode:async d=>{const m=new src.BitmapImage(d);src.GifUtil.quantizeDekker(m,256);const g=new src.GifFrame(d);return(await new src.GifCodec().encodeGif([g],{})).buffer},decode:d=>{const m=new omggif.GifReader(d),g=Buffer.alloc(m.width*m.height*4);return m.decodeAndBlitFrameRGBA(0,g),{data:g,width:m.width,height:m.height}}}}var encoder={exports:{}};(function(d){function m(g){var w,D,H,q,te,re=Math.floor,ne=new Array(64),ie=new Array(64),ae=new Array(64),se=new Array(64),le=new Array(65535),ue=new Array(65535),fe=new Array(64),de=new Array(64),me=[],ge=0,he=7,pe=new Array(64),ve=new Array(64),ke=new Array(64),be=new Array(256),Se=new Array(2048),Ee=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Ie=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_e=[0,1,2,3,4,5,6,7,8,9,10,11],Te=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Le=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Be=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ce=[0,1,2,3,4,5,6,7,8,9,10,11],ze=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ke=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function je(Je,He){for(var Qe=0,ut=0,dt=new Array,kt=1;kt<=16;kt++){for(var Xe=1;Xe<=Je[kt];Xe++)dt[He[ut]]=[],dt[He[ut]][0]=Qe,dt[He[ut]][1]=kt,ut++,Qe++;Qe*=2}return dt}function $e(Je){for(var He=Je[0],Qe=Je[1]-1;Qe>=0;)He&1<<Qe&&(ge|=1<<he),Qe--,--he<0&&(ge==255?(Ye(255),Ye(0)):Ye(ge),he=7,ge=0)}function Ye(Je){me.push(Je)}function Pe(Je){Ye(Je>>8&255),Ye(255&Je)}function Ge(Je,He,Qe,ut,dt){for(var kt,Xe=dt[0],we=dt[240],qe=function(Ue,St){var Bt,tr,ir,Kt,ar,rr,gr,dr,hr,kr,fr=0;for(hr=0;hr<8;++hr){Bt=Ue[fr],tr=Ue[fr+1],ir=Ue[fr+2],Kt=Ue[fr+3],ar=Ue[fr+4],rr=Ue[fr+5],gr=Ue[fr+6];var ot=Bt+(dr=Ue[fr+7]),nr=Bt-dr,Tt=tr+gr,Ut=tr-gr,We=ir+rr,er=ir-rr,br=Kt+ar,Me=Kt-ar,Zt=ot+br,zt=ot-br,ft=Tt+We,$t=Tt-We;Ue[fr]=Zt+ft,Ue[fr+4]=Zt-ft;var jt=.707106781*($t+zt);Ue[fr+2]=zt+jt,Ue[fr+6]=zt-jt;var _r=.382683433*((Zt=Me+er)-($t=Ut+nr)),cr=.5411961*Zt+_r,pr=1.306562965*$t+_r,Ir=.707106781*(ft=er+Ut),Xr=nr+Ir,Mr=nr-Ir;Ue[fr+5]=Mr+cr,Ue[fr+3]=Mr-cr,Ue[fr+1]=Xr+pr,Ue[fr+7]=Xr-pr,fr+=8}for(fr=0,hr=0;hr<8;++hr){Bt=Ue[fr],tr=Ue[fr+8],ir=Ue[fr+16],Kt=Ue[fr+24],ar=Ue[fr+32],rr=Ue[fr+40],gr=Ue[fr+48];var Nr=Bt+(dr=Ue[fr+56]),Br=Bt-dr,Or=tr+gr,xn=tr-gr,Mn=ir+rr,Fr=ir-rr,rn=Kt+ar,_n=Kt-ar,Zr=Nr+rn,Wr=Nr-rn,$r=Or+Mn,Yn=Or-Mn;Ue[fr]=Zr+$r,Ue[fr+32]=Zr-$r;var Ki=.707106781*(Yn+Wr);Ue[fr+16]=Wr+Ki,Ue[fr+48]=Wr-Ki;var Xi=.382683433*((Zr=_n+Fr)-(Yn=xn+Br)),Ji=.5411961*Zr+Xi,ea=1.306562965*Yn+Xi,za=.707106781*($r=Fr+xn),Na=Br+za,Ur=Br-za;Ue[fr+40]=Ur+Ji,Ue[fr+24]=Ur-Ji,Ue[fr+8]=Na+ea,Ue[fr+56]=Na-ea,fr++}for(hr=0;hr<64;++hr)kr=Ue[hr]*St[hr],fe[hr]=kr>0?kr+.5|0:kr-.5|0;return fe}(Je,He),Ne=0;Ne<64;++Ne)de[Ee[Ne]]=qe[Ne];var Fe=de[0]-Qe;Qe=de[0],Fe==0?$e(ut[0]):($e(ut[ue[kt=32767+Fe]]),$e(le[kt]));for(var Oe=63;Oe>0&&de[Oe]==0;Oe--);if(Oe==0)return $e(Xe),Qe;for(var Ze,et=1;et<=Oe;){for(var ye=et;de[et]==0&&et<=Oe;++et);var Ae=et-ye;if(Ae>=16){Ze=Ae>>4;for(var De=1;De<=Ze;++De)$e(we);Ae&=15}kt=32767+de[et],$e(dt[(Ae<<4)+ue[kt]]),$e(le[kt]),et++}return Oe!=63&&$e(Xe),Qe}function it(Je){Je<=0&&(Je=1),Je>100&&(Je=100),te!=Je&&(function(He){for(var Qe=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ut=0;ut<64;ut++){var dt=re((Qe[ut]*He+50)/100);dt<1?dt=1:dt>255&&(dt=255),ne[Ee[ut]]=dt}for(var kt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Xe=0;Xe<64;Xe++){var we=re((kt[Xe]*He+50)/100);we<1?we=1:we>255&&(we=255),ie[Ee[Xe]]=we}for(var qe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,Fe=0;Fe<8;Fe++)for(var Oe=0;Oe<8;Oe++)ae[Ne]=1/(ne[Ee[Ne]]*qe[Fe]*qe[Oe]*8),se[Ne]=1/(ie[Ee[Ne]]*qe[Fe]*qe[Oe]*8),Ne++}(Je<50?Math.floor(5e3/Je):Math.floor(200-2*Je)),te=Je)}this.encode=function(Je,He){var Qe;new Date().getTime(),He&&it(He),me=new Array,ge=0,he=7,Pe(65496),Pe(65504),Pe(16),Ye(74),Ye(70),Ye(73),Ye(70),Ye(0),Ye(1),Ye(1),Ye(0),Pe(1),Pe(1),Ye(0),Ye(0),(Qe=Je.comments)!==void 0&&Qe.constructor===Array&&Qe.forEach(ir=>{if(typeof ir=="string"){Pe(65534);var Kt,ar=ir.length;for(Pe(ar+2),Kt=0;Kt<ar;Kt++)Ye(ir.charCodeAt(Kt))}}),function(ir){if(ir){Pe(65505),ir[0]===69&&ir[1]===120&&ir[2]===105&&ir[3]===102?Pe(ir.length+2):(Pe(ir.length+5+2),Ye(69),Ye(120),Ye(105),Ye(102),Ye(0));for(var Kt=0;Kt<ir.length;Kt++)Ye(ir[Kt])}}(Je.exifBuffer),function(){Pe(65499),Pe(132),Ye(0);for(var ir=0;ir<64;ir++)Ye(ne[ir]);Ye(1);for(var Kt=0;Kt<64;Kt++)Ye(ie[Kt])}(),function(ir,Kt){Pe(65472),Pe(17),Ye(8),Pe(Kt),Pe(ir),Ye(3),Ye(1),Ye(17),Ye(0),Ye(2),Ye(17),Ye(1),Ye(3),Ye(17),Ye(1)}(Je.width,Je.height),function(){Pe(65476),Pe(418),Ye(0);for(var ir=0;ir<16;ir++)Ye(Ie[ir+1]);for(var Kt=0;Kt<=11;Kt++)Ye(_e[Kt]);Ye(16);for(var ar=0;ar<16;ar++)Ye(Te[ar+1]);for(var rr=0;rr<=161;rr++)Ye(Le[rr]);Ye(1);for(var gr=0;gr<16;gr++)Ye(Be[gr+1]);for(var dr=0;dr<=11;dr++)Ye(Ce[dr]);Ye(17);for(var hr=0;hr<16;hr++)Ye(ze[hr+1]);for(var kr=0;kr<=161;kr++)Ye(Ke[kr])}(),Pe(65498),Pe(12),Ye(3),Ye(1),Ye(0),Ye(2),Ye(17),Ye(3),Ye(17),Ye(0),Ye(63),Ye(0);var ut=0,dt=0,kt=0;ge=0,he=7,this.encode.displayName="_encode_";for(var Xe,we,qe,Ne,Fe,Oe,Ze,et,ye,Ae=Je.data,De=Je.width,Ue=Je.height,St=4*De,Bt=0;Bt<Ue;){for(Xe=0;Xe<St;){for(Oe=Fe=St*Bt+Xe,Ze=-1,et=0,ye=0;ye<64;ye++)Oe=Fe+(et=ye>>3)*St+(Ze=4*(7&ye)),Bt+et>=Ue&&(Oe-=St*(Bt+1+et-Ue)),Xe+Ze>=St&&(Oe-=Xe+Ze-St+4),we=Ae[Oe++],qe=Ae[Oe++],Ne=Ae[Oe++],pe[ye]=(Se[we]+Se[qe+256|0]+Se[Ne+512|0]>>16)-128,ve[ye]=(Se[we+768|0]+Se[qe+1024|0]+Se[Ne+1280|0]>>16)-128,ke[ye]=(Se[we+1280|0]+Se[qe+1536|0]+Se[Ne+1792|0]>>16)-128;ut=Ge(pe,ae,ut,w,H),dt=Ge(ve,se,dt,D,q),kt=Ge(ke,se,kt,D,q),Xe+=32}Bt+=8}if(he>=0){var tr=[];tr[1]=he+1,tr[0]=(1<<he+1)-1,$e(tr)}return Pe(65497),Buffer.from(me)},new Date().getTime(),g||(g=50),function(){for(var Je=String.fromCharCode,He=0;He<256;He++)be[He]=Je(He)}(),w=je(Ie,_e),D=je(Be,Ce),H=je(Te,Le),q=je(ze,Ke),function(){for(var Je=1,He=2,Qe=1;Qe<=15;Qe++){for(var ut=Je;ut<He;ut++)ue[32767+ut]=Qe,le[32767+ut]=[],le[32767+ut][1]=Qe,le[32767+ut][0]=ut;for(var dt=-(He-1);dt<=-Je;dt++)ue[32767+dt]=Qe,le[32767+dt]=[],le[32767+dt][1]=Qe,le[32767+dt][0]=He-1+dt;Je<<=1,He<<=1}}(),function(){for(var Je=0;Je<256;Je++)Se[Je]=19595*Je,Se[Je+256|0]=38470*Je,Se[Je+512|0]=7471*Je+32768,Se[Je+768|0]=-11059*Je,Se[Je+1024|0]=-21709*Je,Se[Je+1280|0]=32768*Je+8421375,Se[Je+1536|0]=-27439*Je,Se[Je+1792|0]=-5329*Je}(),it(g),new Date().getTime()}encoder.exports=function(g,w){w===void 0&&(w=50);var D=new m(w),H=D.encode(g,w);return{data:H,width:g.width,height:g.height}}})();var encoderExports=encoder.exports,decoder={exports:{}},module,JpegImage;module=decoder,JpegImage=function(){var d=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),m=4017,g=799,w=3406,D=2276,H=1567,q=3784,te=5793,re=2896;function ne(){}function ie(me,ge){for(var he,pe,ve=0,ke=[],be=16;be>0&&!me[be-1];)be--;ke.push({children:[],index:0});var Se,Ee=ke[0];for(he=0;he<be;he++){for(pe=0;pe<me[he];pe++){for((Ee=ke.pop()).children[Ee.index]=ge[ve];Ee.index>0;){if(ke.length===0)throw new Error("Could not recreate Huffman Table");Ee=ke.pop()}for(Ee.index++,ke.push(Ee);ke.length<=he;)ke.push(Se={children:[],index:0}),Ee.children[Ee.index]=Se.children,Ee=Se;ve++}he+1<be&&(ke.push(Se={children:[],index:0}),Ee.children[Ee.index]=Se.children,Ee=Se)}return ke[0].children}function ae(me,ge,he,pe,ve,ke,be,Se,Ee,Ie){he.precision,he.samplesPerLine,he.scanLines;var _e=he.mcusPerLine,Te=he.progressive;he.maxH,he.maxV;var Le=ge,Be=0,Ce=0;function ze(){if(Ce>0)return Ce--,Be>>Ce&1;if((Be=me[ge++])==255){var et=me[ge++];if(et)throw new Error("unexpected marker: "+(Be<<8|et).toString(16))}return Ce=7,Be>>>7}function Ke(et){for(var ye,Ae=et;(ye=ze())!==null;){if(typeof(Ae=Ae[ye])=="number")return Ae;if(typeof Ae!="object")throw new Error("invalid huffman sequence")}return null}function je(et){for(var ye=0;et>0;){var Ae=ze();if(Ae===null)return;ye=ye<<1|Ae,et--}return ye}function $e(et){var ye=je(et);return ye>=1<<et-1?ye:ye+(-1<<et)+1}var Ye,Pe=0,Ge=0;function it(et,ye,Ae,De,Ue){var St=Ae%_e,Bt=(Ae/_e|0)*et.v+De,tr=St*et.h+Ue;et.blocks[Bt]===void 0&&Ie.tolerantDecoding||ye(et,et.blocks[Bt][tr])}function Je(et,ye,Ae){var De=Ae/et.blocksPerLine|0,Ue=Ae%et.blocksPerLine;et.blocks[De]===void 0&&Ie.tolerantDecoding||ye(et,et.blocks[De][Ue])}var He,Qe,ut,dt,kt,Xe,we=pe.length;Xe=Te?ke===0?Se===0?function(et,ye){var Ae=Ke(et.huffmanTableDC),De=Ae===0?0:$e(Ae)<<Ee;ye[0]=et.pred+=De}:function(et,ye){ye[0]|=ze()<<Ee}:Se===0?function(et,ye){if(Pe>0)Pe--;else for(var Ae=ke,De=be;Ae<=De;){var Ue=Ke(et.huffmanTableAC),St=15&Ue,Bt=Ue>>4;if(St!==0)ye[d[Ae+=Bt]]=$e(St)*(1<<Ee),Ae++;else{if(Bt<15){Pe=je(Bt)+(1<<Bt)-1;break}Ae+=16}}}:function(et,ye){for(var Ae=ke,De=be,Ue=0;Ae<=De;){var St=d[Ae],Bt=ye[St]<0?-1:1;switch(Ge){case 0:var tr=Ke(et.huffmanTableAC),ir=15&tr;if(Ue=tr>>4,ir===0)Ue<15?(Pe=je(Ue)+(1<<Ue),Ge=4):(Ue=16,Ge=1);else{if(ir!==1)throw new Error("invalid ACn encoding");Ye=$e(ir),Ge=Ue?2:3}continue;case 1:case 2:ye[St]?ye[St]+=(ze()<<Ee)*Bt:--Ue==0&&(Ge=Ge==2?3:0);break;case 3:ye[St]?ye[St]+=(ze()<<Ee)*Bt:(ye[St]=Ye<<Ee,Ge=0);break;case 4:ye[St]&&(ye[St]+=(ze()<<Ee)*Bt)}Ae++}Ge===4&&--Pe==0&&(Ge=0)}:function(et,ye){var Ae=Ke(et.huffmanTableDC),De=Ae===0?0:$e(Ae);ye[0]=et.pred+=De;for(var Ue=1;Ue<64;){var St=Ke(et.huffmanTableAC),Bt=15&St,tr=St>>4;if(Bt!==0)ye[d[Ue+=tr]]=$e(Bt),Ue++;else{if(tr<15)break;Ue+=16}}};var qe,Ne,Fe,Oe,Ze=0;for(Ne=we==1?pe[0].blocksPerLine*pe[0].blocksPerColumn:_e*he.mcusPerColumn,ve||(ve=Ne);Ze<Ne;){for(Qe=0;Qe<we;Qe++)pe[Qe].pred=0;if(Pe=0,we==1)for(He=pe[0],kt=0;kt<ve;kt++)Je(He,Xe,Ze),Ze++;else for(kt=0;kt<ve;kt++){for(Qe=0;Qe<we;Qe++)for(Fe=(He=pe[Qe]).h,Oe=He.v,ut=0;ut<Oe;ut++)for(dt=0;dt<Fe;dt++)it(He,Xe,Ze,ut,dt);if(++Ze===Ne)break}if(Ze===Ne)do{if(me[ge]===255&&me[ge+1]!==0)break;ge+=1}while(ge<me.length-2);if(Ce=0,(qe=me[ge]<<8|me[ge+1])<65280)throw new Error("marker was not found");if(!(qe>=65488&&qe<=65495))break;ge+=2}return ge-Le}function se(me,ge){var he,pe,ve=[],ke=ge.blocksPerLine,be=ge.blocksPerColumn,Se=ke<<3,Ee=new Int32Array(64),Ie=new Uint8Array(64);function _e(je,$e,Ye){var Pe,Ge,it,Je,He,Qe,ut,dt,kt,Xe,we=ge.quantizationTable,qe=Ye;for(Xe=0;Xe<64;Xe++)qe[Xe]=je[Xe]*we[Xe];for(Xe=0;Xe<8;++Xe){var Ne=8*Xe;qe[1+Ne]!=0||qe[2+Ne]!=0||qe[3+Ne]!=0||qe[4+Ne]!=0||qe[5+Ne]!=0||qe[6+Ne]!=0||qe[7+Ne]!=0?(Pe=te*qe[0+Ne]+128>>8,Ge=te*qe[4+Ne]+128>>8,it=qe[2+Ne],Je=qe[6+Ne],He=re*(qe[1+Ne]-qe[7+Ne])+128>>8,dt=re*(qe[1+Ne]+qe[7+Ne])+128>>8,Qe=qe[3+Ne]<<4,ut=qe[5+Ne]<<4,kt=Pe-Ge+1>>1,Pe=Pe+Ge+1>>1,Ge=kt,kt=it*q+Je*H+128>>8,it=it*H-Je*q+128>>8,Je=kt,kt=He-ut+1>>1,He=He+ut+1>>1,ut=kt,kt=dt+Qe+1>>1,Qe=dt-Qe+1>>1,dt=kt,kt=Pe-Je+1>>1,Pe=Pe+Je+1>>1,Je=kt,kt=Ge-it+1>>1,Ge=Ge+it+1>>1,it=kt,kt=He*D+dt*w+2048>>12,He=He*w-dt*D+2048>>12,dt=kt,kt=Qe*g+ut*m+2048>>12,Qe=Qe*m-ut*g+2048>>12,ut=kt,qe[0+Ne]=Pe+dt,qe[7+Ne]=Pe-dt,qe[1+Ne]=Ge+ut,qe[6+Ne]=Ge-ut,qe[2+Ne]=it+Qe,qe[5+Ne]=it-Qe,qe[3+Ne]=Je+He,qe[4+Ne]=Je-He):(kt=te*qe[0+Ne]+512>>10,qe[0+Ne]=kt,qe[1+Ne]=kt,qe[2+Ne]=kt,qe[3+Ne]=kt,qe[4+Ne]=kt,qe[5+Ne]=kt,qe[6+Ne]=kt,qe[7+Ne]=kt)}for(Xe=0;Xe<8;++Xe){var Fe=Xe;qe[8+Fe]!=0||qe[16+Fe]!=0||qe[24+Fe]!=0||qe[32+Fe]!=0||qe[40+Fe]!=0||qe[48+Fe]!=0||qe[56+Fe]!=0?(Pe=te*qe[0+Fe]+2048>>12,Ge=te*qe[32+Fe]+2048>>12,it=qe[16+Fe],Je=qe[48+Fe],He=re*(qe[8+Fe]-qe[56+Fe])+2048>>12,dt=re*(qe[8+Fe]+qe[56+Fe])+2048>>12,Qe=qe[24+Fe],ut=qe[40+Fe],kt=Pe-Ge+1>>1,Pe=Pe+Ge+1>>1,Ge=kt,kt=it*q+Je*H+2048>>12,it=it*H-Je*q+2048>>12,Je=kt,kt=He-ut+1>>1,He=He+ut+1>>1,ut=kt,kt=dt+Qe+1>>1,Qe=dt-Qe+1>>1,dt=kt,kt=Pe-Je+1>>1,Pe=Pe+Je+1>>1,Je=kt,kt=Ge-it+1>>1,Ge=Ge+it+1>>1,it=kt,kt=He*D+dt*w+2048>>12,He=He*w-dt*D+2048>>12,dt=kt,kt=Qe*g+ut*m+2048>>12,Qe=Qe*m-ut*g+2048>>12,ut=kt,qe[0+Fe]=Pe+dt,qe[56+Fe]=Pe-dt,qe[8+Fe]=Ge+ut,qe[48+Fe]=Ge-ut,qe[16+Fe]=it+Qe,qe[40+Fe]=it-Qe,qe[24+Fe]=Je+He,qe[32+Fe]=Je-He):(kt=te*Ye[Xe+0]+8192>>14,qe[0+Fe]=kt,qe[8+Fe]=kt,qe[16+Fe]=kt,qe[24+Fe]=kt,qe[32+Fe]=kt,qe[40+Fe]=kt,qe[48+Fe]=kt,qe[56+Fe]=kt)}for(Xe=0;Xe<64;++Xe){var Oe=128+(qe[Xe]+8>>4);$e[Xe]=Oe<0?0:Oe>255?255:Oe}}de(Se*be*8);for(var Te=0;Te<be;Te++){var Le=Te<<3;for(he=0;he<8;he++)ve.push(new Uint8Array(Se));for(var Be=0;Be<ke;Be++){_e(ge.blocks[Te][Be],Ie,Ee);var Ce=0,ze=Be<<3;for(pe=0;pe<8;pe++){var Ke=ve[Le+pe];for(he=0;he<8;he++)Ke[ze+he]=Ie[Ce++]}}}return ve}function le(me){return me<0?0:me>255?255:me}ne.prototype={load:function(me){var ge=new XMLHttpRequest;ge.open("GET",me,!0),ge.responseType="arraybuffer",ge.onload=(function(){var he=new Uint8Array(ge.response||ge.mozResponseArrayBuffer);this.parse(he),this.onload&&this.onload()}).bind(this),ge.send(null)},parse:function(me){var ge=1e3*this.opts.maxResolutionInMP*1e3,he=0;function pe(){var Kt=me[he]<<8|me[he+1];return he+=2,Kt}function ve(Kt){var ar,rr,gr=1,dr=1;for(rr in Kt.components)Kt.components.hasOwnProperty(rr)&&(gr<(ar=Kt.components[rr]).h&&(gr=ar.h),dr<ar.v&&(dr=ar.v));var hr=Math.ceil(Kt.samplesPerLine/8/gr),kr=Math.ceil(Kt.scanLines/8/dr);for(rr in Kt.components)if(Kt.components.hasOwnProperty(rr)){ar=Kt.components[rr];var fr=Math.ceil(Math.ceil(Kt.samplesPerLine/8)*ar.h/gr),ot=Math.ceil(Math.ceil(Kt.scanLines/8)*ar.v/dr),nr=hr*ar.h,Tt=kr*ar.v,Ut=[];de(Tt*nr*256);for(var We=0;We<Tt;We++){for(var er=[],br=0;br<nr;br++)er.push(new Int32Array(64));Ut.push(er)}ar.blocksPerLine=fr,ar.blocksPerColumn=ot,ar.blocks=Ut}Kt.maxH=gr,Kt.maxV=dr,Kt.mcusPerLine=hr,Kt.mcusPerColumn=kr}me.length;var ke,be,Se,Ee,Ie=null,_e=null,Te=[],Le=[],Be=[],Ce=[],ze=pe(),Ke=-1;if(this.comments=[],ze!=65496)throw new Error("SOI not found");for(ze=pe();ze!=65497;){switch(ze){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var je=(Se=void 0,Ee=void 0,Se=pe(),Ee=me.subarray(he,he+Se-2),he+=Ee.length,Ee);if(ze===65534){var $e=String.fromCharCode.apply(null,je);this.comments.push($e)}ze===65504&&je[0]===74&&je[1]===70&&je[2]===73&&je[3]===70&&je[4]===0&&(Ie={version:{major:je[5],minor:je[6]},densityUnits:je[7],xDensity:je[8]<<8|je[9],yDensity:je[10]<<8|je[11],thumbWidth:je[12],thumbHeight:je[13],thumbData:je.subarray(14,14+3*je[12]*je[13])}),ze===65505&&je[0]===69&&je[1]===120&&je[2]===105&&je[3]===102&&je[4]===0&&(this.exifBuffer=je.subarray(5,je.length)),ze===65518&&je[0]===65&&je[1]===100&&je[2]===111&&je[3]===98&&je[4]===101&&je[5]===0&&(_e={version:je[6],flags0:je[7]<<8|je[8],flags1:je[9]<<8|je[10],transformCode:je[11]});break;case 65499:for(var Ye=pe()+he-2;he<Ye;){var Pe=me[he++];de(256);var Ge=new Int32Array(64);if(Pe>>4){if(Pe>>4!=1)throw new Error("DQT: invalid table spec");for(tr=0;tr<64;tr++)Ge[d[tr]]=pe()}else for(tr=0;tr<64;tr++)Ge[d[tr]]=me[he++];Te[15&Pe]=Ge}break;case 65472:case 65473:case 65474:pe(),(ke={}).extended=ze===65473,ke.progressive=ze===65474,ke.precision=me[he++],ke.scanLines=pe(),ke.samplesPerLine=pe(),ke.components={},ke.componentsOrder=[];var it=ke.scanLines*ke.samplesPerLine;if(it>ge){var Je=Math.ceil((it-ge)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${Je}MP`)}var He,Qe=me[he++];for(St=0;St<Qe;St++){He=me[he];var ut=me[he+1]>>4,dt=15&me[he+1],kt=me[he+2];if(ut<=0||dt<=0)throw new Error("Invalid sampling factor, expected values above 0");ke.componentsOrder.push(He),ke.components[He]={h:ut,v:dt,quantizationIdx:kt},he+=3}ve(ke),Le.push(ke);break;case 65476:var Xe=pe();for(St=2;St<Xe;){var we=me[he++],qe=new Uint8Array(16),Ne=0;for(tr=0;tr<16;tr++,he++)Ne+=qe[tr]=me[he];de(16+Ne);var Fe=new Uint8Array(Ne);for(tr=0;tr<Ne;tr++,he++)Fe[tr]=me[he];St+=17+Ne,(we>>4?Be:Ce)[15&we]=ie(qe,Fe)}break;case 65501:pe(),be=pe();break;case 65500:pe(),pe();break;case 65498:pe();var Oe=me[he++],Ze=[];for(St=0;St<Oe;St++){ir=ke.components[me[he++]];var et=me[he++];ir.huffmanTableDC=Ce[et>>4],ir.huffmanTableAC=Be[15&et],Ze.push(ir)}var ye=me[he++],Ae=me[he++],De=me[he++],Ue=ae(me,he,ke,Ze,be,ye,Ae,De>>4,15&De,this.opts);he+=Ue;break;case 65535:me[he]!==255&&he--;break;default:if(me[he-3]==255&&me[he-2]>=192&&me[he-2]<=254){he-=3;break}if(ze===224||ze==225){if(Ke!==-1)throw new Error(`first unknown JPEG marker at offset ${Ke.toString(16)}, second unknown JPEG marker ${ze.toString(16)} at offset ${(he-1).toString(16)}`);Ke=he-1;const Kt=pe();if(me[he+Kt-2]===255){he+=Kt-2;break}}throw new Error("unknown JPEG marker "+ze.toString(16))}ze=pe()}if(Le.length!=1)throw new Error("only single frame JPEGs supported");for(var St=0;St<Le.length;St++){var Bt=Le[St].components;for(var tr in Bt)Bt[tr].quantizationTable=Te[Bt[tr].quantizationIdx],delete Bt[tr].quantizationIdx}for(this.width=ke.samplesPerLine,this.height=ke.scanLines,this.jfif=Ie,this.adobe=_e,this.components=[],St=0;St<ke.componentsOrder.length;St++){var ir=ke.components[ke.componentsOrder[St]];this.components.push({lines:se(0,ir),scaleX:ir.h/ke.maxH,scaleY:ir.v/ke.maxV})}},getData:function(me,ge){var he,pe,ve,ke,be,Se,Ee,Ie,_e,Te,Le,Be,Ce,ze,Ke,je,$e,Ye,Pe,Ge,it,Je=this.width/me,He=this.height/ge,Qe=0,ut=me*ge*this.components.length;de(ut);var dt=new Uint8Array(ut);switch(this.components.length){case 1:for(he=this.components[0],Te=0;Te<ge;Te++)for(be=he.lines[0|Te*he.scaleY*He],_e=0;_e<me;_e++)Le=be[0|_e*he.scaleX*Je],dt[Qe++]=Le;break;case 2:for(he=this.components[0],pe=this.components[1],Te=0;Te<ge;Te++)for(be=he.lines[0|Te*he.scaleY*He],Se=pe.lines[0|Te*pe.scaleY*He],_e=0;_e<me;_e++)Le=be[0|_e*he.scaleX*Je],dt[Qe++]=Le,Le=Se[0|_e*pe.scaleX*Je],dt[Qe++]=Le;break;case 3:for(it=!0,this.adobe&&this.adobe.transformCode?it=!0:this.opts.colorTransform!==void 0&&(it=!!this.opts.colorTransform),he=this.components[0],pe=this.components[1],ve=this.components[2],Te=0;Te<ge;Te++)for(be=he.lines[0|Te*he.scaleY*He],Se=pe.lines[0|Te*pe.scaleY*He],Ee=ve.lines[0|Te*ve.scaleY*He],_e=0;_e<me;_e++)it?(Le=be[0|_e*he.scaleX*Je],Be=Se[0|_e*pe.scaleX*Je],Ye=le(Le+1.402*((Ce=Ee[0|_e*ve.scaleX*Je])-128)),Pe=le(Le-.3441363*(Be-128)-.71413636*(Ce-128)),Ge=le(Le+1.772*(Be-128))):(Ye=be[0|_e*he.scaleX*Je],Pe=Se[0|_e*pe.scaleX*Je],Ge=Ee[0|_e*ve.scaleX*Je]),dt[Qe++]=Ye,dt[Qe++]=Pe,dt[Qe++]=Ge;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(it=!1,this.adobe&&this.adobe.transformCode?it=!0:this.opts.colorTransform!==void 0&&(it=!!this.opts.colorTransform),he=this.components[0],pe=this.components[1],ve=this.components[2],ke=this.components[3],Te=0;Te<ge;Te++)for(be=he.lines[0|Te*he.scaleY*He],Se=pe.lines[0|Te*pe.scaleY*He],Ee=ve.lines[0|Te*ve.scaleY*He],Ie=ke.lines[0|Te*ke.scaleY*He],_e=0;_e<me;_e++)it?(Le=be[0|_e*he.scaleX*Je],Be=Se[0|_e*pe.scaleX*Je],Ce=Ee[0|_e*ve.scaleX*Je],ze=Ie[0|_e*ke.scaleX*Je],Ke=255-le(Le+1.402*(Ce-128)),je=255-le(Le-.3441363*(Be-128)-.71413636*(Ce-128)),$e=255-le(Le+1.772*(Be-128))):(Ke=be[0|_e*he.scaleX*Je],je=Se[0|_e*pe.scaleX*Je],$e=Ee[0|_e*ve.scaleX*Je],ze=Ie[0|_e*ke.scaleX*Je]),dt[Qe++]=255-Ke,dt[Qe++]=255-je,dt[Qe++]=255-$e,dt[Qe++]=255-ze;break;default:throw new Error("Unsupported color mode")}return dt},copyToImageData:function(me,ge){var he,pe,ve,ke,be,Se,Ee,Ie,_e,Te=me.width,Le=me.height,Be=me.data,Ce=this.getData(Te,Le),ze=0,Ke=0;switch(this.components.length){case 1:for(pe=0;pe<Le;pe++)for(he=0;he<Te;he++)ve=Ce[ze++],Be[Ke++]=ve,Be[Ke++]=ve,Be[Ke++]=ve,ge&&(Be[Ke++]=255);break;case 3:for(pe=0;pe<Le;pe++)for(he=0;he<Te;he++)Ee=Ce[ze++],Ie=Ce[ze++],_e=Ce[ze++],Be[Ke++]=Ee,Be[Ke++]=Ie,Be[Ke++]=_e,ge&&(Be[Ke++]=255);break;case 4:for(pe=0;pe<Le;pe++)for(he=0;he<Te;he++)be=Ce[ze++],Se=Ce[ze++],ve=Ce[ze++],Ee=255-le(be*(1-(ke=Ce[ze++])/255)+ke),Ie=255-le(Se*(1-ke/255)+ke),_e=255-le(ve*(1-ke/255)+ke),Be[Ke++]=Ee,Be[Ke++]=Ie,Be[Ke++]=_e,ge&&(Be[Ke++]=255);break;default:throw new Error("Unsupported color mode")}}};var ue=0,fe=0;function de(me=0){var ge=ue+me;if(ge>fe){var he=Math.ceil((ge-fe)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${he}MB`)}ue=ge}return ne.resetMaxMemoryUsage=function(me){ue=0,fe=me},ne.getBytesAllocated=function(){return ue},ne.requestMemoryAllocation=de,ne}(),module.exports=function(d,m={}){var g={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...m},w=new Uint8Array(d),D=new JpegImage;D.opts=g,JpegImage.resetMaxMemoryUsage(1024*g.maxMemoryUsageInMB*1024),D.parse(w);var H=g.formatAsRGBA?4:3,q=D.width*D.height*H;try{JpegImage.requestMemoryAllocation(q);var te={width:D.width,height:D.height,exifBuffer:D.exifBuffer,data:g.useTArray?new Uint8Array(q):Buffer.alloc(q)};D.comments.length>0&&(te.comments=D.comments)}catch(re){throw re instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+q):re instanceof ReferenceError&&re.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):re}return D.copyToImageData(te,g.formatAsRGBA),te};var decoderExports=decoder.exports,encode=encoderExports,decode=decoderExports,jpegJs={encode,decode},JPEG=getDefaultExportFromCjs(jpegJs);function jpeg$2(){return{mime:"image/jpeg",encode:(d,{quality:m=100}={})=>JPEG.encode(d,m).data,decode:(d,m)=>JPEG.decode(d,m)}}function commonjsRequire(d){throw new Error('Could not dynamically require "'+d+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var browser$1={exports:{}};browser$1.exports=function(){function d(m,g,w){function D(te,re){if(!g[te]){if(!m[te]){var ne=typeof commonjsRequire=="function"&&commonjsRequire;if(!re&&ne)return ne(te,!0);if(H)return H(te,!0);var ie=new Error("Cannot find module '"+te+"'");throw ie.code="MODULE_NOT_FOUND",ie}var ae=g[te]={exports:{}};m[te][0].call(ae.exports,function(se){return D(m[te][1][se]||se)},ae,ae.exports,d,m,g,w)}return g[te].exports}for(var H=typeof commonjsRequire=="function"&&commonjsRequire,q=0;q<w.length;q++)D(w[q]);return D}return d}()({1:[function(d,m,g){(function(w){(function(){let D=d("./interlace"),H=[function(){},function(ie,ae,se,le){if(le===ae.length)throw new Error("Ran out of data");let ue=ae[le];ie[se]=ue,ie[se+1]=ue,ie[se+2]=ue,ie[se+3]=255},function(ie,ae,se,le){if(le+1>=ae.length)throw new Error("Ran out of data");let ue=ae[le];ie[se]=ue,ie[se+1]=ue,ie[se+2]=ue,ie[se+3]=ae[le+1]},function(ie,ae,se,le){if(le+2>=ae.length)throw new Error("Ran out of data");ie[se]=ae[le],ie[se+1]=ae[le+1],ie[se+2]=ae[le+2],ie[se+3]=255},function(ie,ae,se,le){if(le+3>=ae.length)throw new Error("Ran out of data");ie[se]=ae[le],ie[se+1]=ae[le+1],ie[se+2]=ae[le+2],ie[se+3]=ae[le+3]}],q=[function(){},function(ie,ae,se,le){let ue=ae[0];ie[se]=ue,ie[se+1]=ue,ie[se+2]=ue,ie[se+3]=le},function(ie,ae,se){let le=ae[0];ie[se]=le,ie[se+1]=le,ie[se+2]=le,ie[se+3]=ae[1]},function(ie,ae,se,le){ie[se]=ae[0],ie[se+1]=ae[1],ie[se+2]=ae[2],ie[se+3]=le},function(ie,ae,se){ie[se]=ae[0],ie[se+1]=ae[1],ie[se+2]=ae[2],ie[se+3]=ae[3]}];function te(ie,ae){let se=[],le=0;function ue(){if(le===ie.length)throw new Error("Ran out of data");let fe,de,me,ge,he,pe,ve,ke,be=ie[le];switch(le++,ae){default:throw new Error("unrecognised depth");case 16:ve=ie[le],le++,se.push((be<<8)+ve);break;case 4:ve=15&be,ke=be>>4,se.push(ke,ve);break;case 2:he=3&be,pe=be>>2&3,ve=be>>4&3,ke=be>>6&3,se.push(ke,ve,pe,he);break;case 1:fe=1&be,de=be>>1&1,me=be>>2&1,ge=be>>3&1,he=be>>4&1,pe=be>>5&1,ve=be>>6&1,ke=be>>7&1,se.push(ke,ve,pe,he,ge,me,de,fe)}}return{get:function(fe){for(;se.length<fe;)ue();let de=se.slice(0,fe);return se=se.slice(fe),de},resetAfterLine:function(){se.length=0},end:function(){if(le!==ie.length)throw new Error("extra data found")}}}function re(ie,ae,se,le,ue,fe){let de=ie.width,me=ie.height,ge=ie.index;for(let he=0;he<me;he++)for(let pe=0;pe<de;pe++){let ve=se(pe,he,ge);H[le](ae,ue,ve,fe),fe+=le}return fe}function ne(ie,ae,se,le,ue,fe){let de=ie.width,me=ie.height,ge=ie.index;for(let he=0;he<me;he++){for(let pe=0;pe<de;pe++){let ve=ue.get(le),ke=se(pe,he,ge);q[le](ae,ve,ke,fe)}ue.resetAfterLine()}}g.dataToBitMap=function(ie,ae){let se,le,ue=ae.width,fe=ae.height,de=ae.depth,me=ae.bpp,ge=ae.interlace;de!==8&&(se=te(ie,de)),le=de<=8?w.alloc(ue*fe*4):new Uint16Array(ue*fe*4);let he,pe,ve=Math.pow(2,de)-1,ke=0;if(ge)he=D.getImagePasses(ue,fe),pe=D.getInterlaceIterator(ue,fe);else{let be=0;pe=function(){let Se=be;return be+=4,Se},he=[{width:ue,height:fe}]}for(let be=0;be<he.length;be++)de===8?ke=re(he[be],le,pe,me,ie,ke):ne(he[be],le,pe,me,se,ve);if(de===8){if(ke!==ie.length)throw new Error("extra data found")}else se.end();return le}}).call(this)}).call(this,d("buffer").Buffer)},{"./interlace":11,buffer:32}],2:[function(d,m,g){(function(w){(function(){let D=d("./constants");m.exports=function(H,q,te,re){let ne=[D.COLORTYPE_COLOR_ALPHA,D.COLORTYPE_ALPHA].indexOf(re.colorType)!==-1;if(re.colorType===re.inputColorType){let he=function(){let pe=new ArrayBuffer(2);return new DataView(pe).setInt16(0,256,!0),new Int16Array(pe)[0]!==256}();if(re.bitDepth===8||re.bitDepth===16&&he)return H}let ie=re.bitDepth!==16?H:new Uint16Array(H.buffer),ae=255,se=D.COLORTYPE_TO_BPP_MAP[re.inputColorType];se!==4||re.inputHasAlpha||(se=3);let le=D.COLORTYPE_TO_BPP_MAP[re.colorType];re.bitDepth===16&&(ae=65535,le*=2);let ue=w.alloc(q*te*le),fe=0,de=0,me=re.bgColor||{};function ge(){let he,pe,ve,ke=ae;switch(re.inputColorType){case D.COLORTYPE_COLOR_ALPHA:ke=ie[fe+3],he=ie[fe],pe=ie[fe+1],ve=ie[fe+2];break;case D.COLORTYPE_COLOR:he=ie[fe],pe=ie[fe+1],ve=ie[fe+2];break;case D.COLORTYPE_ALPHA:ke=ie[fe+1],he=ie[fe],pe=he,ve=he;break;case D.COLORTYPE_GRAYSCALE:he=ie[fe],pe=he,ve=he;break;default:throw new Error("input color type:"+re.inputColorType+" is not supported at present")}return re.inputHasAlpha&&(ne||(ke/=ae,he=Math.min(Math.max(Math.round((1-ke)*me.red+ke*he),0),ae),pe=Math.min(Math.max(Math.round((1-ke)*me.green+ke*pe),0),ae),ve=Math.min(Math.max(Math.round((1-ke)*me.blue+ke*ve),0),ae))),{red:he,green:pe,blue:ve,alpha:ke}}me.red===void 0&&(me.red=ae),me.green===void 0&&(me.green=ae),me.blue===void 0&&(me.blue=ae);for(let he=0;he<te;he++)for(let pe=0;pe<q;pe++){let ve=ge();switch(re.colorType){case D.COLORTYPE_COLOR_ALPHA:case D.COLORTYPE_COLOR:re.bitDepth===8?(ue[de]=ve.red,ue[de+1]=ve.green,ue[de+2]=ve.blue,ne&&(ue[de+3]=ve.alpha)):(ue.writeUInt16BE(ve.red,de),ue.writeUInt16BE(ve.green,de+2),ue.writeUInt16BE(ve.blue,de+4),ne&&ue.writeUInt16BE(ve.alpha,de+6));break;case D.COLORTYPE_ALPHA:case D.COLORTYPE_GRAYSCALE:{let ke=(ve.red+ve.green+ve.blue)/3;re.bitDepth===8?(ue[de]=ke,ne&&(ue[de+1]=ve.alpha)):(ue.writeUInt16BE(ke,de),ne&&ue.writeUInt16BE(ve.alpha,de+2));break}default:throw new Error("unrecognised color Type "+re.colorType)}fe+=se,de+=le}return ue}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,buffer:32}],3:[function(d,m,g){(function(w,D){(function(){let H=d("util"),q=d("stream"),te=m.exports=function(){q.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};H.inherits(te,q),te.prototype.read=function(re,ne){this._reads.push({length:Math.abs(re),allowLess:re<0,func:ne}),w.nextTick((function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},te.prototype.write=function(re,ne){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let ie;return ie=D.isBuffer(re)?re:D.from(re,ne||this._encoding),this._buffers.push(ie),this._buffered+=ie.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},te.prototype.end=function(re,ne){re&&this.write(re,ne),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},te.prototype.destroySoon=te.prototype.end,te.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},te.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},te.prototype._processReadAllowingLess=function(re){this._reads.shift();let ne=this._buffers[0];ne.length>re.length?(this._buffered-=re.length,this._buffers[0]=ne.slice(re.length),re.func.call(this,ne.slice(0,re.length))):(this._buffered-=ne.length,this._buffers.shift(),re.func.call(this,ne))},te.prototype._processRead=function(re){this._reads.shift();let ne=0,ie=0,ae=D.alloc(re.length);for(;ne<re.length;){let se=this._buffers[ie++],le=Math.min(se.length,re.length-ne);se.copy(ae,ne,0,le),ne+=le,le!==se.length&&(this._buffers[--ie]=se.slice(le))}ie>0&&this._buffers.splice(0,ie),this._buffered-=re.length,re.func.call(this,ae)},te.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let re=this._reads[0];if(re.allowLess)this._processReadAllowingLess(re);else{if(!(this._buffered>=re.length))break;this._processRead(re)}}this._buffers&&!this.writable&&this._end()}catch(re){this.emit("error",re)}}}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,buffer:32,stream:65,util:84}],4:[function(d,m,g){m.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],5:[function(d,m,g){let w=[];(function(){for(let H=0;H<256;H++){let q=H;for(let te=0;te<8;te++)1&q?q=3988292384^q>>>1:q>>>=1;w[H]=q}})();let D=m.exports=function(){this._crc=-1};D.prototype.write=function(H){for(let q=0;q<H.length;q++)this._crc=w[255&(this._crc^H[q])]^this._crc>>>8;return!0},D.prototype.crc32=function(){return~this._crc},D.crc32=function(H){let q=-1;for(let te=0;te<H.length;te++)q=w[255&(q^H[te])]^q>>>8;return~q}},{}],6:[function(d,m,g){(function(w){(function(){let D=d("./paeth-predictor");function H(me,ge,he,pe,ve){for(let ke=0;ke<he;ke++)pe[ve+ke]=me[ge+ke]}function q(me,ge,he){let pe=0,ve=ge+he;for(let ke=ge;ke<ve;ke++)pe+=Math.abs(me[ke]);return pe}function te(me,ge,he,pe,ve,ke){for(let be=0;be<he;be++){let Se=be>=ke?me[ge+be-ke]:0,Ee=me[ge+be]-Se;pe[ve+be]=Ee}}function re(me,ge,he,pe){let ve=0;for(let ke=0;ke<he;ke++){let be=ke>=pe?me[ge+ke-pe]:0,Se=me[ge+ke]-be;ve+=Math.abs(Se)}return ve}function ne(me,ge,he,pe,ve){for(let ke=0;ke<he;ke++){let be=ge>0?me[ge+ke-he]:0,Se=me[ge+ke]-be;pe[ve+ke]=Se}}function ie(me,ge,he){let pe=0,ve=ge+he;for(let ke=ge;ke<ve;ke++){let be=ge>0?me[ke-he]:0,Se=me[ke]-be;pe+=Math.abs(Se)}return pe}function ae(me,ge,he,pe,ve,ke){for(let be=0;be<he;be++){let Se=be>=ke?me[ge+be-ke]:0,Ee=ge>0?me[ge+be-he]:0,Ie=me[ge+be]-(Se+Ee>>1);pe[ve+be]=Ie}}function se(me,ge,he,pe){let ve=0;for(let ke=0;ke<he;ke++){let be=ke>=pe?me[ge+ke-pe]:0,Se=ge>0?me[ge+ke-he]:0,Ee=me[ge+ke]-(be+Se>>1);ve+=Math.abs(Ee)}return ve}function le(me,ge,he,pe,ve,ke){for(let be=0;be<he;be++){let Se=be>=ke?me[ge+be-ke]:0,Ee=ge>0?me[ge+be-he]:0,Ie=ge>0&&be>=ke?me[ge+be-(he+ke)]:0,_e=me[ge+be]-D(Se,Ee,Ie);pe[ve+be]=_e}}function ue(me,ge,he,pe){let ve=0;for(let ke=0;ke<he;ke++){let be=ke>=pe?me[ge+ke-pe]:0,Se=ge>0?me[ge+ke-he]:0,Ee=ge>0&&ke>=pe?me[ge+ke-(he+pe)]:0,Ie=me[ge+ke]-D(be,Se,Ee);ve+=Math.abs(Ie)}return ve}let fe={0:H,1:te,2:ne,3:ae,4:le},de={0:q,1:re,2:ie,3:se,4:ue};m.exports=function(me,ge,he,pe,ve){let ke;if("filterType"in pe&&pe.filterType!==-1){if(typeof pe.filterType!="number")throw new Error("unrecognised filter types");ke=[pe.filterType]}else ke=[0,1,2,3,4];pe.bitDepth===16&&(ve*=2);let be=ge*ve,Se=0,Ee=0,Ie=w.alloc((be+1)*he),_e=ke[0];for(let Te=0;Te<he;Te++){if(ke.length>1){let Le=1/0;for(let Be=0;Be<ke.length;Be++){let Ce=de[ke[Be]](me,Ee,be,ve);Ce<Le&&(_e=ke[Be],Le=Ce)}}Ie[Se]=_e,Se++,fe[_e](me,Ee,be,Ie,Se,ve),Se+=be,Ee+=be}return Ie}}).call(this)}).call(this,d("buffer").Buffer)},{"./paeth-predictor":15,buffer:32}],7:[function(d,m,g){(function(w){(function(){let D=d("util"),H=d("./chunkstream"),q=d("./filter-parse"),te=m.exports=function(re){H.call(this);let ne=[],ie=this;this._filter=new q(re,{read:this.read.bind(this),write:function(ae){ne.push(ae)},complete:function(){ie.emit("complete",w.concat(ne))}}),this._filter.start()};D.inherits(te,H)}).call(this)}).call(this,d("buffer").Buffer)},{"./chunkstream":3,"./filter-parse":9,buffer:32,util:84}],8:[function(d,m,g){(function(w){(function(){let D=d("./sync-reader"),H=d("./filter-parse");g.process=function(q,te){let re=[],ne=new D(q);return new H(te,{read:ne.read.bind(ne),write:function(ie){re.push(ie)},complete:function(){}}).start(),ne.process(),w.concat(re)}}).call(this)}).call(this,d("buffer").Buffer)},{"./filter-parse":9,"./sync-reader":22,buffer:32}],9:[function(d,m,g){(function(w){(function(){let D=d("./interlace"),H=d("./paeth-predictor");function q(re,ne,ie){let ae=re*ne;return ie!==8&&(ae=Math.ceil(ae/(8/ie))),ae}let te=m.exports=function(re,ne){let ie=re.width,ae=re.height,se=re.interlace,le=re.bpp,ue=re.depth;if(this.read=ne.read,this.write=ne.write,this.complete=ne.complete,this._imageIndex=0,this._images=[],se){let fe=D.getImagePasses(ie,ae);for(let de=0;de<fe.length;de++)this._images.push({byteWidth:q(fe[de].width,le,ue),height:fe[de].height,lineIndex:0})}else this._images.push({byteWidth:q(ie,le,ue),height:ae,lineIndex:0});this._xComparison=ue===8?le:ue===16?2*le:1};te.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},te.prototype._unFilterType1=function(re,ne,ie){let ae=this._xComparison,se=ae-1;for(let le=0;le<ie;le++){let ue=re[1+le],fe=le>se?ne[le-ae]:0;ne[le]=ue+fe}},te.prototype._unFilterType2=function(re,ne,ie){let ae=this._lastLine;for(let se=0;se<ie;se++){let le=re[1+se],ue=ae?ae[se]:0;ne[se]=le+ue}},te.prototype._unFilterType3=function(re,ne,ie){let ae=this._xComparison,se=ae-1,le=this._lastLine;for(let ue=0;ue<ie;ue++){let fe=re[1+ue],de=le?le[ue]:0,me=ue>se?ne[ue-ae]:0,ge=Math.floor((me+de)/2);ne[ue]=fe+ge}},te.prototype._unFilterType4=function(re,ne,ie){let ae=this._xComparison,se=ae-1,le=this._lastLine;for(let ue=0;ue<ie;ue++){let fe=re[1+ue],de=le?le[ue]:0,me=ue>se?ne[ue-ae]:0,ge=ue>se&&le?le[ue-ae]:0,he=H(me,de,ge);ne[ue]=fe+he}},te.prototype._reverseFilterLine=function(re){let ne,ie=re[0],ae=this._images[this._imageIndex],se=ae.byteWidth;if(ie===0)ne=re.slice(1,se+1);else switch(ne=w.alloc(se),ie){case 1:this._unFilterType1(re,ne,se);break;case 2:this._unFilterType2(re,ne,se);break;case 3:this._unFilterType3(re,ne,se);break;case 4:this._unFilterType4(re,ne,se);break;default:throw new Error("Unrecognised filter type - "+ie)}this.write(ne),ae.lineIndex++,ae.lineIndex>=ae.height?(this._lastLine=null,this._imageIndex++,ae=this._images[this._imageIndex]):this._lastLine=ne,ae?this.read(ae.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this)}).call(this,d("buffer").Buffer)},{"./interlace":11,"./paeth-predictor":15,buffer:32}],10:[function(d,m,g){(function(w){(function(){function D(te,re,ne,ie,ae){let se=0;for(let le=0;le<ie;le++)for(let ue=0;ue<ne;ue++){let fe=ae[te[se]];if(!fe)throw new Error("index "+te[se]+" not in palette");for(let de=0;de<4;de++)re[se+de]=fe[de];se+=4}}function H(te,re,ne,ie,ae){let se=0;for(let le=0;le<ie;le++)for(let ue=0;ue<ne;ue++){let fe=!1;if(ae.length===1?ae[0]===te[se]&&(fe=!0):ae[0]===te[se]&&ae[1]===te[se+1]&&ae[2]===te[se+2]&&(fe=!0),fe)for(let de=0;de<4;de++)re[se+de]=0;se+=4}}function q(te,re,ne,ie,ae){let se=255,le=Math.pow(2,ae)-1,ue=0;for(let fe=0;fe<ie;fe++)for(let de=0;de<ne;de++){for(let me=0;me<4;me++)re[ue+me]=Math.floor(te[ue+me]*se/le+.5);ue+=4}}m.exports=function(te,re,ne=!1){let ie=re.depth,ae=re.width,se=re.height,le=re.colorType,ue=re.transColor,fe=re.palette,de=te;return le===3?D(te,de,ae,se,fe):(ue&&H(te,de,ae,se,ue),ie===8||ne||(ie===16&&(de=w.alloc(ae*se*4)),q(te,de,ae,se,ie))),de}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:32}],11:[function(d,m,g){let w=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];g.getImagePasses=function(D,H){let q=[],te=D%8,re=H%8,ne=(D-te)/8,ie=(H-re)/8;for(let ae=0;ae<w.length;ae++){let se=w[ae],le=ne*se.x.length,ue=ie*se.y.length;for(let fe=0;fe<se.x.length&&se.x[fe]<te;fe++)le++;for(let fe=0;fe<se.y.length&&se.y[fe]<re;fe++)ue++;le>0&&ue>0&&q.push({width:le,height:ue,index:ae})}return q},g.getInterlaceIterator=function(D){return function(H,q,te){let re=H%w[te].x.length,ne=(H-re)/w[te].x.length*8+w[te].x[re],ie=q%w[te].y.length;return 4*ne+((q-ie)/w[te].y.length*8+w[te].y[ie])*D*4}}},{}],12:[function(d,m,g){(function(w){(function(){let D=d("util"),H=d("stream"),q=d("./constants"),te=d("./packer"),re=m.exports=function(ne){H.call(this);let ie=ne||{};this._packer=new te(ie),this._deflate=this._packer.createDeflate(),this.readable=!0};D.inherits(re,H),re.prototype.pack=function(ne,ie,ae,se){this.emit("data",w.from(q.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(ie,ae)),se&&this.emit("data",this._packer.packGAMA(se));let le=this._packer.filterData(ne,ie,ae);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(ue){this.emit("data",this._packer.packIDAT(ue))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(le)}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,stream:65,util:84}],13:[function(d,m,g){(function(w){(function(){let D=!0,H=d("zlib");H.deflateSync||(D=!1);let q=d("./constants"),te=d("./packer");m.exports=function(re,ne){if(!D)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let ie=new te(ne||{}),ae=[];ae.push(w.from(q.PNG_SIGNATURE)),ae.push(ie.packIHDR(re.width,re.height)),re.gamma&&ae.push(ie.packGAMA(re.gamma));let se=ie.filterData(re.data,re.width,re.height),le=H.deflateSync(se,ie.getDeflateOptions());if(se=null,!le||!le.length)throw new Error("bad png - invalid compressed data response");return ae.push(ie.packIDAT(le)),ae.push(ie.packIEND()),w.concat(ae)}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,zlib:31}],14:[function(d,m,g){(function(w){(function(){let D=d("./constants"),H=d("./crc"),q=d("./bitpacker"),te=d("./filter-pack"),re=d("zlib"),ne=m.exports=function(ie){if(this._options=ie,ie.deflateChunkSize=ie.deflateChunkSize||32768,ie.deflateLevel=ie.deflateLevel!=null?ie.deflateLevel:9,ie.deflateStrategy=ie.deflateStrategy!=null?ie.deflateStrategy:3,ie.inputHasAlpha=ie.inputHasAlpha==null||ie.inputHasAlpha,ie.deflateFactory=ie.deflateFactory||re.createDeflate,ie.bitDepth=ie.bitDepth||8,ie.colorType=typeof ie.colorType=="number"?ie.colorType:D.COLORTYPE_COLOR_ALPHA,ie.inputColorType=typeof ie.inputColorType=="number"?ie.inputColorType:D.COLORTYPE_COLOR_ALPHA,[D.COLORTYPE_GRAYSCALE,D.COLORTYPE_COLOR,D.COLORTYPE_COLOR_ALPHA,D.COLORTYPE_ALPHA].indexOf(ie.colorType)===-1)throw new Error("option color type:"+ie.colorType+" is not supported at present");if([D.COLORTYPE_GRAYSCALE,D.COLORTYPE_COLOR,D.COLORTYPE_COLOR_ALPHA,D.COLORTYPE_ALPHA].indexOf(ie.inputColorType)===-1)throw new Error("option input color type:"+ie.inputColorType+" is not supported at present");if(ie.bitDepth!==8&&ie.bitDepth!==16)throw new Error("option bit depth:"+ie.bitDepth+" is not supported at present")};ne.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},ne.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},ne.prototype.filterData=function(ie,ae,se){let le=q(ie,ae,se,this._options),ue=D.COLORTYPE_TO_BPP_MAP[this._options.colorType];return te(le,ae,se,this._options,ue)},ne.prototype._packChunk=function(ie,ae){let se=ae?ae.length:0,le=w.alloc(se+12);return le.writeUInt32BE(se,0),le.writeUInt32BE(ie,4),ae&&ae.copy(le,8),le.writeInt32BE(H.crc32(le.slice(4,le.length-4)),le.length-4),le},ne.prototype.packGAMA=function(ie){let ae=w.alloc(4);return ae.writeUInt32BE(Math.floor(ie*D.GAMMA_DIVISION),0),this._packChunk(D.TYPE_gAMA,ae)},ne.prototype.packIHDR=function(ie,ae){let se=w.alloc(13);return se.writeUInt32BE(ie,0),se.writeUInt32BE(ae,4),se[8]=this._options.bitDepth,se[9]=this._options.colorType,se[10]=0,se[11]=0,se[12]=0,this._packChunk(D.TYPE_IHDR,se)},ne.prototype.packIDAT=function(ie){return this._packChunk(D.TYPE_IDAT,ie)},ne.prototype.packIEND=function(){return this._packChunk(D.TYPE_IEND,null)}}).call(this)}).call(this,d("buffer").Buffer)},{"./bitpacker":2,"./constants":4,"./crc":5,"./filter-pack":6,buffer:32,zlib:31}],15:[function(d,m,g){m.exports=function(w,D,H){let q=w+D-H,te=Math.abs(q-w),re=Math.abs(q-D),ne=Math.abs(q-H);return te<=re&&te<=ne?w:re<=ne?D:H}},{}],16:[function(d,m,g){let w=d("util"),D=d("zlib"),H=d("./chunkstream"),q=d("./filter-parse-async"),te=d("./parser"),re=d("./bitmapper"),ne=d("./format-normaliser"),ie=m.exports=function(ae){H.call(this),this._parser=new te(ae,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=ae,this.writable=!0,this._parser.start()};w.inherits(ie,H),ie.prototype._handleError=function(ae){this.emit("error",ae),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},ie.prototype._inflateData=function(ae){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=D.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let se=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,le=Math.max(se,D.Z_MIN_CHUNK);this._inflate=D.createInflate({chunkSize:le});let ue=se,fe=this.emit.bind(this,"error");this._inflate.on("error",function(me){ue&&fe(me)}),this._filter.on("complete",this._complete.bind(this));let de=this._filter.write.bind(this._filter);this._inflate.on("data",function(me){ue&&(me.length>ue&&(me=me.slice(0,ue)),ue-=me.length,de(me))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(ae)},ie.prototype._handleMetaData=function(ae){this._metaData=ae,this._bitmapInfo=Object.create(ae),this._filter=new q(this._bitmapInfo)},ie.prototype._handleTransColor=function(ae){this._bitmapInfo.transColor=ae},ie.prototype._handlePalette=function(ae){this._bitmapInfo.palette=ae},ie.prototype._simpleTransparency=function(){this._metaData.alpha=!0},ie.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},ie.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},ie.prototype._complete=function(ae){if(this.errord)return;let se;try{let le=re.dataToBitMap(ae,this._bitmapInfo);se=ne(le,this._bitmapInfo,this._options.skipRescale),le=null}catch(le){return void this._handleError(le)}this.emit("parsed",se)}},{"./bitmapper":1,"./chunkstream":3,"./filter-parse-async":7,"./format-normaliser":10,"./parser":18,util:84,zlib:31}],17:[function(d,m,g){(function(w){(function(){let D=!0,H=d("zlib"),q=d("./sync-inflate");H.deflateSync||(D=!1);let te=d("./sync-reader"),re=d("./filter-parse-sync"),ne=d("./parser"),ie=d("./bitmapper"),ae=d("./format-normaliser");m.exports=function(se,le){if(!D)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let ue,fe,de;function me(Ce){ue=Ce}function ge(Ce){fe=Ce}function he(Ce){fe.transColor=Ce}function pe(Ce){fe.palette=Ce}function ve(){fe.alpha=!0}function ke(Ce){de=Ce}let be=[];function Se(Ce){be.push(Ce)}let Ee=new te(se);if(new ne(le,{read:Ee.read.bind(Ee),error:me,metadata:ge,gamma:ke,palette:pe,transColor:he,inflateData:Se,simpleTransparency:ve}).start(),Ee.process(),ue)throw ue;let Ie,_e=w.concat(be);if(be.length=0,fe.interlace)Ie=H.inflateSync(_e);else{let Ce=(1+(fe.width*fe.bpp*fe.depth+7>>3))*fe.height;Ie=q(_e,{chunkSize:Ce,maxLength:Ce})}if(_e=null,!Ie||!Ie.length)throw new Error("bad png - invalid inflate data response");let Te=re.process(Ie,fe);_e=null;let Le=ie.dataToBitMap(Te,fe);Te=null;let Be=ae(Le,fe,le.skipRescale);return fe.data=Be,fe.gamma=de||0,fe}}).call(this)}).call(this,d("buffer").Buffer)},{"./bitmapper":1,"./filter-parse-sync":8,"./format-normaliser":10,"./parser":18,"./sync-inflate":21,"./sync-reader":22,buffer:32,zlib:31}],18:[function(d,m,g){(function(w){(function(){let D=d("./constants"),H=d("./crc"),q=m.exports=function(te,re){this._options=te,te.checkCRC=te.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[D.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[D.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[D.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[D.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[D.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[D.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=re.read,this.error=re.error,this.metadata=re.metadata,this.gamma=re.gamma,this.transColor=re.transColor,this.palette=re.palette,this.parsed=re.parsed,this.inflateData=re.inflateData,this.finished=re.finished,this.simpleTransparency=re.simpleTransparency,this.headersFinished=re.headersFinished||function(){}};q.prototype.start=function(){this.read(D.PNG_SIGNATURE.length,this._parseSignature.bind(this))},q.prototype._parseSignature=function(te){let re=D.PNG_SIGNATURE;for(let ne=0;ne<re.length;ne++)if(te[ne]!==re[ne])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},q.prototype._parseChunkBegin=function(te){let re=te.readUInt32BE(0),ne=te.readUInt32BE(4),ie="";for(let se=4;se<8;se++)ie+=String.fromCharCode(te[se]);let ae=!!(32&te[4]);if(this._hasIHDR||ne===D.TYPE_IHDR){if(this._crc=new H,this._crc.write(w.from(ie)),this._chunks[ne])return this._chunks[ne](re);ae?this.read(re+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+ie))}else this.error(new Error("Expected IHDR on beggining"))},q.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},q.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},q.prototype._parseChunkEnd=function(te){let re=te.readInt32BE(0),ne=this._crc.crc32();this._options.checkCRC&&ne!==re?this.error(new Error("Crc error - "+re+" - "+ne)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},q.prototype._handleIHDR=function(te){this.read(te,this._parseIHDR.bind(this))},q.prototype._parseIHDR=function(te){this._crc.write(te);let re=te.readUInt32BE(0),ne=te.readUInt32BE(4),ie=te[8],ae=te[9],se=te[10],le=te[11],ue=te[12];if(ie!==8&&ie!==4&&ie!==2&&ie!==1&&ie!==16)return void this.error(new Error("Unsupported bit depth "+ie));if(!(ae in D.COLORTYPE_TO_BPP_MAP))return void this.error(new Error("Unsupported color type"));if(se!==0)return void this.error(new Error("Unsupported compression method"));if(le!==0)return void this.error(new Error("Unsupported filter method"));if(ue!==0&&ue!==1)return void this.error(new Error("Unsupported interlace method"));this._colorType=ae;let fe=D.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:re,height:ne,depth:ie,interlace:!!ue,palette:!!(ae&D.COLORTYPE_PALETTE),color:!!(ae&D.COLORTYPE_COLOR),alpha:!!(ae&D.COLORTYPE_ALPHA),bpp:fe,colorType:ae}),this._handleChunkEnd()},q.prototype._handlePLTE=function(te){this.read(te,this._parsePLTE.bind(this))},q.prototype._parsePLTE=function(te){this._crc.write(te);let re=Math.floor(te.length/3);for(let ne=0;ne<re;ne++)this._palette.push([te[3*ne],te[3*ne+1],te[3*ne+2],255]);this.palette(this._palette),this._handleChunkEnd()},q.prototype._handleTRNS=function(te){this.simpleTransparency(),this.read(te,this._parseTRNS.bind(this))},q.prototype._parseTRNS=function(te){if(this._crc.write(te),this._colorType===D.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0)return void this.error(new Error("Transparency chunk must be after palette"));if(te.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(let re=0;re<te.length;re++)this._palette[re][3]=te[re];this.palette(this._palette)}this._colorType===D.COLORTYPE_GRAYSCALE&&this.transColor([te.readUInt16BE(0)]),this._colorType===D.COLORTYPE_COLOR&&this.transColor([te.readUInt16BE(0),te.readUInt16BE(2),te.readUInt16BE(4)]),this._handleChunkEnd()},q.prototype._handleGAMA=function(te){this.read(te,this._parseGAMA.bind(this))},q.prototype._parseGAMA=function(te){this._crc.write(te),this.gamma(te.readUInt32BE(0)/D.GAMMA_DIVISION),this._handleChunkEnd()},q.prototype._handleIDAT=function(te){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-te,this._parseIDAT.bind(this,te))},q.prototype._parseIDAT=function(te,re){if(this._crc.write(re),this._colorType===D.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(re);let ne=te-re.length;ne>0?this._handleIDAT(ne):this._handleChunkEnd()},q.prototype._handleIEND=function(te){this.read(te,this._parseIEND.bind(this))},q.prototype._parseIEND=function(te){this._crc.write(te),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./crc":5,buffer:32}],19:[function(d,m,g){let w=d("./parser-sync"),D=d("./packer-sync");g.read=function(H,q){return w(H,q||{})},g.write=function(H,q){return D(H,q)}},{"./packer-sync":13,"./parser-sync":17}],20:[function(d,m,g){(function(w,D){(function(){let H=d("util"),q=d("stream"),te=d("./parser-async"),re=d("./packer-async"),ne=d("./png-sync"),ie=g.PNG=function(ae){q.call(this),ae=ae||{},this.width=0|ae.width,this.height=0|ae.height,this.data=this.width>0&&this.height>0?D.alloc(4*this.width*this.height):null,ae.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new te(ae),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(se){this.data=se,this.emit("parsed",se)}).bind(this)),this._packer=new re(ae),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};H.inherits(ie,q),ie.sync=ne,ie.prototype.pack=function(){return this.data&&this.data.length?(w.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this):(this.emit("error","No data provided"),this)},ie.prototype.parse=function(ae,se){if(se){let le,ue;le=(function(fe){this.removeListener("error",ue),this.data=fe,se(null,this)}).bind(this),ue=(function(fe){this.removeListener("parsed",le),se(fe,null)}).bind(this),this.once("parsed",le),this.once("error",ue)}return this.end(ae),this},ie.prototype.write=function(ae){return this._parser.write(ae),!0},ie.prototype.end=function(ae){this._parser.end(ae)},ie.prototype._metadata=function(ae){this.width=ae.width,this.height=ae.height,this.emit("metadata",ae)},ie.prototype._gamma=function(ae){this.gamma=ae},ie.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},ie.bitblt=function(ae,se,le,ue,fe,de,me,ge){if(ue|=0,fe|=0,de|=0,me|=0,ge|=0,(le|=0)>ae.width||ue>ae.height||le+fe>ae.width||ue+de>ae.height)throw new Error("bitblt reading outside image");if(me>se.width||ge>se.height||me+fe>se.width||ge+de>se.height)throw new Error("bitblt writing outside image");for(let he=0;he<de;he++)ae.data.copy(se.data,(ge+he)*se.width+me<<2,(ue+he)*ae.width+le<<2,(ue+he)*ae.width+le+fe<<2)},ie.prototype.bitblt=function(ae,se,le,ue,fe,de,me){return ie.bitblt(this,ae,se,le,ue,fe,de,me),this},ie.adjustGamma=function(ae){if(ae.gamma){for(let se=0;se<ae.height;se++)for(let le=0;le<ae.width;le++){let ue=ae.width*se+le<<2;for(let fe=0;fe<3;fe++){let de=ae.data[ue+fe]/255;de=Math.pow(de,1/2.2/ae.gamma),ae.data[ue+fe]=Math.round(255*de)}}ae.gamma=0}},ie.prototype.adjustGamma=function(){ie.adjustGamma(this)}}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{"./packer-async":12,"./parser-async":16,"./png-sync":19,_process:63,buffer:32,stream:65,util:84}],21:[function(d,m,g){(function(w,D){(function(){let H=d("assert").ok,q=d("zlib"),te=d("util"),re=d("buffer").kMaxLength;function ne(ue){if(!(this instanceof ne))return new ne(ue);ue&&ue.chunkSize<q.Z_MIN_CHUNK&&(ue.chunkSize=q.Z_MIN_CHUNK),q.Inflate.call(this,ue),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,ue&&ue.maxLength!=null&&(this._maxLength=ue.maxLength)}function ie(ue){return new ne(ue)}function ae(ue,fe){ue._handle&&(ue._handle.close(),ue._handle=null)}function se(ue,fe){if(typeof fe=="string"&&(fe=D.from(fe)),!(fe instanceof D))throw new TypeError("Not a string or buffer");let de=ue._finishFlushFlag;return de==null&&(de=q.Z_FINISH),ue._processChunk(fe,de)}function le(ue,fe){return se(new ne(fe),ue)}ne.prototype._processChunk=function(ue,fe,de){if(typeof de=="function")return q.Inflate._processChunk.call(this,ue,fe,de);let me,ge,he=this,pe=ue&&ue.length,ve=this._chunkSize-this._offset,ke=this._maxLength,be=0,Se=[],Ee=0;function Ie(Te,Le){if(he._hadError)return;let Be=ve-Le;if(H(Be>=0,"have should not go down"),Be>0){let Ce=he._buffer.slice(he._offset,he._offset+Be);if(he._offset+=Be,Ce.length>ke&&(Ce=Ce.slice(0,ke)),Se.push(Ce),Ee+=Ce.length,ke-=Ce.length,ke===0)return!1}return(Le===0||he._offset>=he._chunkSize)&&(ve=he._chunkSize,he._offset=0,he._buffer=D.allocUnsafe(he._chunkSize)),Le===0&&(be+=pe-Te,pe=Te,!0)}this.on("error",function(Te){me=Te}),H(this._handle,"zlib binding closed");do ge=this._handle.writeSync(fe,ue,be,pe,this._buffer,this._offset,ve),ge=ge||this._writeState;while(!this._hadError&&Ie(ge[0],ge[1]));if(this._hadError)throw me;if(Ee>=re)throw ae(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+re.toString(16)+" bytes");let _e=D.concat(Se,Ee);return ae(this),_e},te.inherits(ne,q.Inflate),m.exports=g=le,g.Inflate=ne,g.createInflate=ie,g.inflateSync=le}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,assert:23,buffer:32,util:84,zlib:31}],22:[function(d,m,g){let w=m.exports=function(D){this._buffer=D,this._reads=[]};w.prototype.read=function(D,H){this._reads.push({length:Math.abs(D),allowLess:D<0,func:H})},w.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let D=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=D.length||D.allowLess))break;{this._reads.shift();let H=this._buffer;this._buffer=H.slice(D.length),D.func.call(this,H.slice(0,D.length))}}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}},{}],23:[function(d,m,g){(function(w){(function(){var D=d("object-assign");/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */function H(Be,Ce){if(Be===Ce)return 0;for(var ze=Be.length,Ke=Ce.length,je=0,$e=Math.min(ze,Ke);je<$e;++je)if(Be[je]!==Ce[je]){ze=Be[je],Ke=Ce[je];break}return ze<Ke?-1:Ke<ze?1:0}function q(Be){return w.Buffer&&typeof w.Buffer.isBuffer=="function"?w.Buffer.isBuffer(Be):!(Be==null||!Be._isBuffer)}var te=d("util/"),re=Object.prototype.hasOwnProperty,ne=Array.prototype.slice,ie=(function(){}).name==="foo";function ae(Be){return Object.prototype.toString.call(Be)}function se(Be){return!q(Be)&&typeof w.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(Be):!!Be&&(Be instanceof DataView||!!(Be.buffer&&Be.buffer instanceof ArrayBuffer)))}var le=m.exports=pe,ue=/\s*function\s+([^\(\s]*)\s*/;function fe(Be){if(te.isFunction(Be)){if(ie)return Be.name;var Ce=Be.toString().match(ue);return Ce&&Ce[1]}}function de(Be,Ce){return typeof Be=="string"?Be.length<Ce?Be:Be.slice(0,Ce):Be}function me(Be){if(ie||!te.isFunction(Be))return te.inspect(Be);var Ce=fe(Be);return"[Function"+(Ce?": "+Ce:"")+"]"}function ge(Be){return de(me(Be.actual),128)+" "+Be.operator+" "+de(me(Be.expected),128)}function he(Be,Ce,ze,Ke,je){throw new le.AssertionError({message:ze,actual:Be,expected:Ce,operator:Ke,stackStartFunction:je})}function pe(Be,Ce){Be||he(Be,!0,Ce,"==",le.ok)}function ve(Be,Ce,ze,Ke){if(Be===Ce)return!0;if(q(Be)&&q(Ce))return H(Be,Ce)===0;if(te.isDate(Be)&&te.isDate(Ce))return Be.getTime()===Ce.getTime();if(te.isRegExp(Be)&&te.isRegExp(Ce))return Be.source===Ce.source&&Be.global===Ce.global&&Be.multiline===Ce.multiline&&Be.lastIndex===Ce.lastIndex&&Be.ignoreCase===Ce.ignoreCase;if(Be!==null&&typeof Be=="object"||Ce!==null&&typeof Ce=="object"){if(se(Be)&&se(Ce)&&ae(Be)===ae(Ce)&&!(Be instanceof Float32Array||Be instanceof Float64Array))return H(new Uint8Array(Be.buffer),new Uint8Array(Ce.buffer))===0;if(q(Be)!==q(Ce))return!1;var je=(Ke=Ke||{actual:[],expected:[]}).actual.indexOf(Be);return je!==-1&&je===Ke.expected.indexOf(Ce)||(Ke.actual.push(Be),Ke.expected.push(Ce),be(Be,Ce,ze,Ke))}return ze?Be===Ce:Be==Ce}function ke(Be){return Object.prototype.toString.call(Be)=="[object Arguments]"}function be(Be,Ce,ze,Ke){if(Be==null||Ce==null)return!1;if(te.isPrimitive(Be)||te.isPrimitive(Ce))return Be===Ce;if(ze&&Object.getPrototypeOf(Be)!==Object.getPrototypeOf(Ce))return!1;var je=ke(Be),$e=ke(Ce);if(je&&!$e||!je&&$e)return!1;if(je)return ve(Be=ne.call(Be),Ce=ne.call(Ce),ze);var Ye,Pe,Ge=Le(Be),it=Le(Ce);if(Ge.length!==it.length)return!1;for(Ge.sort(),it.sort(),Pe=Ge.length-1;Pe>=0;Pe--)if(Ge[Pe]!==it[Pe])return!1;for(Pe=Ge.length-1;Pe>=0;Pe--)if(!ve(Be[Ye=Ge[Pe]],Ce[Ye],ze,Ke))return!1;return!0}function Se(Be,Ce,ze){ve(Be,Ce,!0)&&he(Be,Ce,ze,"notDeepStrictEqual",Se)}function Ee(Be,Ce){if(!Be||!Ce)return!1;if(Object.prototype.toString.call(Ce)=="[object RegExp]")return Ce.test(Be);try{if(Be instanceof Ce)return!0}catch{}return!Error.isPrototypeOf(Ce)&&Ce.call({},Be)===!0}function Ie(Be){var Ce;try{Be()}catch(ze){Ce=ze}return Ce}function _e(Be,Ce,ze,Ke){var je;if(typeof Ce!="function")throw new TypeError('"block" argument must be a function');typeof ze=="string"&&(Ke=ze,ze=null),je=Ie(Ce),Ke=(ze&&ze.name?" ("+ze.name+").":".")+(Ke?" "+Ke:"."),Be&&!je&&he(je,ze,"Missing expected exception"+Ke);var $e=typeof Ke=="string",Ye=!Be&&je&&!ze;if((!Be&&te.isError(je)&&$e&&Ee(je,ze)||Ye)&&he(je,ze,"Got unwanted exception"+Ke),Be&&je&&ze&&!Ee(je,ze)||!Be&&je)throw je}function Te(Be,Ce){Be||he(Be,!0,Ce,"==",Te)}le.AssertionError=function(Be){this.name="AssertionError",this.actual=Be.actual,this.expected=Be.expected,this.operator=Be.operator,Be.message?(this.message=Be.message,this.generatedMessage=!1):(this.message=ge(this),this.generatedMessage=!0);var Ce=Be.stackStartFunction||he;if(Error.captureStackTrace)Error.captureStackTrace(this,Ce);else{var ze=new Error;if(ze.stack){var Ke=ze.stack,je=fe(Ce),$e=Ke.indexOf(`
`+je);if($e>=0){var Ye=Ke.indexOf(`
`,$e+1);Ke=Ke.substring(Ye+1)}this.stack=Ke}}},te.inherits(le.AssertionError,Error),le.fail=he,le.ok=pe,le.equal=function(Be,Ce,ze){Be!=Ce&&he(Be,Ce,ze,"==",le.equal)},le.notEqual=function(Be,Ce,ze){Be==Ce&&he(Be,Ce,ze,"!=",le.notEqual)},le.deepEqual=function(Be,Ce,ze){ve(Be,Ce,!1)||he(Be,Ce,ze,"deepEqual",le.deepEqual)},le.deepStrictEqual=function(Be,Ce,ze){ve(Be,Ce,!0)||he(Be,Ce,ze,"deepStrictEqual",le.deepStrictEqual)},le.notDeepEqual=function(Be,Ce,ze){ve(Be,Ce,!1)&&he(Be,Ce,ze,"notDeepEqual",le.notDeepEqual)},le.notDeepStrictEqual=Se,le.strictEqual=function(Be,Ce,ze){Be!==Ce&&he(Be,Ce,ze,"===",le.strictEqual)},le.notStrictEqual=function(Be,Ce,ze){Be===Ce&&he(Be,Ce,ze,"!==",le.notStrictEqual)},le.throws=function(Be,Ce,ze){_e(!0,Be,Ce,ze)},le.doesNotThrow=function(Be,Ce,ze){_e(!1,Be,Ce,ze)},le.ifError=function(Be){if(Be)throw Be},le.strict=D(Te,le,{equal:le.strictEqual,deepEqual:le.deepStrictEqual,notEqual:le.notStrictEqual,notDeepEqual:le.notDeepStrictEqual}),le.strict.strict=le.strict;var Le=Object.keys||function(Be){var Ce=[];for(var ze in Be)re.call(Be,ze)&&Ce.push(ze);return Ce}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"object-assign":51,"util/":26}],24:[function(d,m,g){typeof Object.create=="function"?m.exports=function(w,D){w.super_=D,w.prototype=Object.create(D.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}})}:m.exports=function(w,D){w.super_=D;var H=function(){};H.prototype=D.prototype,w.prototype=new H,w.prototype.constructor=w}},{}],25:[function(d,m,g){m.exports=function(w){return w&&typeof w=="object"&&typeof w.copy=="function"&&typeof w.fill=="function"&&typeof w.readUInt8=="function"}},{}],26:[function(d,m,g){(function(w,D){(function(){var H=/%[sdj%]/g;g.format=function(Pe){if(!be(Pe)){for(var Ge=[],it=0;it<arguments.length;it++)Ge.push(re(arguments[it]));return Ge.join(" ")}it=1;for(var Je=arguments,He=Je.length,Qe=String(Pe).replace(H,function(dt){if(dt==="%%")return"%";if(it>=He)return dt;switch(dt){case"%s":return String(Je[it++]);case"%d":return Number(Je[it++]);case"%j":try{return JSON.stringify(Je[it++])}catch{return"[Circular]"}default:return dt}}),ut=Je[it];it<He;ut=Je[++it])pe(ut)||!_e(ut)?Qe+=" "+ut:Qe+=" "+re(ut);return Qe},g.deprecate=function(Pe,Ge){if(Ee(D.process))return function(){return g.deprecate(Pe,Ge).apply(this,arguments)};if(w.noDeprecation===!0)return Pe;var it=!1;function Je(){if(!it){if(w.throwDeprecation)throw new Error(Ge);w.traceDeprecation?console.trace(Ge):console.error(Ge),it=!0}return Pe.apply(this,arguments)}return Je};var q,te={};function re(Pe,Ge){var it={seen:[],stylize:ie};return arguments.length>=3&&(it.depth=arguments[2]),arguments.length>=4&&(it.colors=arguments[3]),he(Ge)?it.showHidden=Ge:Ge&&g._extend(it,Ge),Ee(it.showHidden)&&(it.showHidden=!1),Ee(it.depth)&&(it.depth=2),Ee(it.colors)&&(it.colors=!1),Ee(it.customInspect)&&(it.customInspect=!0),it.colors&&(it.stylize=ne),se(it,Pe,it.depth)}function ne(Pe,Ge){var it=re.styles[Ge];return it?"\x1B["+re.colors[it][0]+"m"+Pe+"\x1B["+re.colors[it][1]+"m":Pe}function ie(Pe,Ge){return Pe}function ae(Pe){var Ge={};return Pe.forEach(function(it,Je){Ge[it]=!0}),Ge}function se(Pe,Ge,it){if(Pe.customInspect&&Ge&&Be(Ge.inspect)&&Ge.inspect!==g.inspect&&(!Ge.constructor||Ge.constructor.prototype!==Ge)){var Je=Ge.inspect(it,Pe);return be(Je)||(Je=se(Pe,Je,it)),Je}var He=le(Pe,Ge);if(He)return He;var Qe=Object.keys(Ge),ut=ae(Qe);if(Pe.showHidden&&(Qe=Object.getOwnPropertyNames(Ge)),Le(Ge)&&(Qe.indexOf("message")>=0||Qe.indexOf("description")>=0))return ue(Ge);if(Qe.length===0){if(Be(Ge)){var dt=Ge.name?": "+Ge.name:"";return Pe.stylize("[Function"+dt+"]","special")}if(Ie(Ge))return Pe.stylize(RegExp.prototype.toString.call(Ge),"regexp");if(Te(Ge))return Pe.stylize(Date.prototype.toString.call(Ge),"date");if(Le(Ge))return ue(Ge)}var kt,Xe="",we=!1,qe=["{","}"];return ge(Ge)&&(we=!0,qe=["[","]"]),Be(Ge)&&(Xe=" [Function"+(Ge.name?": "+Ge.name:"")+"]"),Ie(Ge)&&(Xe=" "+RegExp.prototype.toString.call(Ge)),Te(Ge)&&(Xe=" "+Date.prototype.toUTCString.call(Ge)),Le(Ge)&&(Xe=" "+ue(Ge)),Qe.length!==0||we&&Ge.length!=0?it<0?Ie(Ge)?Pe.stylize(RegExp.prototype.toString.call(Ge),"regexp"):Pe.stylize("[Object]","special"):(Pe.seen.push(Ge),kt=we?fe(Pe,Ge,it,ut,Qe):Qe.map(function(Ne){return de(Pe,Ge,it,ut,Ne,we)}),Pe.seen.pop(),me(kt,Xe,qe)):qe[0]+Xe+qe[1]}function le(Pe,Ge){if(Ee(Ge))return Pe.stylize("undefined","undefined");if(be(Ge)){var it="'"+JSON.stringify(Ge).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Pe.stylize(it,"string")}return ke(Ge)?Pe.stylize(""+Ge,"number"):he(Ge)?Pe.stylize(""+Ge,"boolean"):pe(Ge)?Pe.stylize("null","null"):void 0}function ue(Pe){return"["+Error.prototype.toString.call(Pe)+"]"}function fe(Pe,Ge,it,Je,He){for(var Qe=[],ut=0,dt=Ge.length;ut<dt;++ut)Ye(Ge,String(ut))?Qe.push(de(Pe,Ge,it,Je,String(ut),!0)):Qe.push("");return He.forEach(function(kt){kt.match(/^\d+$/)||Qe.push(de(Pe,Ge,it,Je,kt,!0))}),Qe}function de(Pe,Ge,it,Je,He,Qe){var ut,dt,kt;if((kt=Object.getOwnPropertyDescriptor(Ge,He)||{value:Ge[He]}).get?dt=kt.set?Pe.stylize("[Getter/Setter]","special"):Pe.stylize("[Getter]","special"):kt.set&&(dt=Pe.stylize("[Setter]","special")),Ye(Je,He)||(ut="["+He+"]"),dt||(Pe.seen.indexOf(kt.value)<0?(dt=pe(it)?se(Pe,kt.value,null):se(Pe,kt.value,it-1)).indexOf(`
`)>-1&&(dt=Qe?dt.split(`
`).map(function(Xe){return"  "+Xe}).join(`
`).substr(2):`
`+dt.split(`
`).map(function(Xe){return"   "+Xe}).join(`
`)):dt=Pe.stylize("[Circular]","special")),Ee(ut)){if(Qe&&He.match(/^\d+$/))return dt;(ut=JSON.stringify(""+He)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ut=ut.substr(1,ut.length-2),ut=Pe.stylize(ut,"name")):(ut=ut.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ut=Pe.stylize(ut,"string"))}return ut+": "+dt}function me(Pe,Ge,it){return Pe.reduce(function(Je,He){return He.indexOf(`
`),Je+He.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?it[0]+(Ge===""?"":Ge+`
 `)+" "+Pe.join(`,
  `)+" "+it[1]:it[0]+Ge+" "+Pe.join(", ")+" "+it[1]}function ge(Pe){return Array.isArray(Pe)}function he(Pe){return typeof Pe=="boolean"}function pe(Pe){return Pe===null}function ve(Pe){return Pe==null}function ke(Pe){return typeof Pe=="number"}function be(Pe){return typeof Pe=="string"}function Se(Pe){return typeof Pe=="symbol"}function Ee(Pe){return Pe===void 0}function Ie(Pe){return _e(Pe)&&ze(Pe)==="[object RegExp]"}function _e(Pe){return typeof Pe=="object"&&Pe!==null}function Te(Pe){return _e(Pe)&&ze(Pe)==="[object Date]"}function Le(Pe){return _e(Pe)&&(ze(Pe)==="[object Error]"||Pe instanceof Error)}function Be(Pe){return typeof Pe=="function"}function Ce(Pe){return Pe===null||typeof Pe=="boolean"||typeof Pe=="number"||typeof Pe=="string"||typeof Pe=="symbol"||Pe===void 0}function ze(Pe){return Object.prototype.toString.call(Pe)}function Ke(Pe){return Pe<10?"0"+Pe.toString(10):Pe.toString(10)}g.debuglog=function(Pe){if(Ee(q)&&(q=w.env.NODE_DEBUG||""),Pe=Pe.toUpperCase(),!te[Pe])if(new RegExp("\\b"+Pe+"\\b","i").test(q)){var Ge=w.pid;te[Pe]=function(){var it=g.format.apply(g,arguments);console.error("%s %d: %s",Pe,Ge,it)}}else te[Pe]=function(){};return te[Pe]},g.inspect=re,re.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},re.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},g.isArray=ge,g.isBoolean=he,g.isNull=pe,g.isNullOrUndefined=ve,g.isNumber=ke,g.isString=be,g.isSymbol=Se,g.isUndefined=Ee,g.isRegExp=Ie,g.isObject=_e,g.isDate=Te,g.isError=Le,g.isFunction=Be,g.isPrimitive=Ce,g.isBuffer=d("./support/isBuffer");var je=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function $e(){var Pe=new Date,Ge=[Ke(Pe.getHours()),Ke(Pe.getMinutes()),Ke(Pe.getSeconds())].join(":");return[Pe.getDate(),je[Pe.getMonth()],Ge].join(" ")}function Ye(Pe,Ge){return Object.prototype.hasOwnProperty.call(Pe,Ge)}g.log=function(){console.log("%s - %s",$e(),g.format.apply(g,arguments))},g.inherits=d("inherits"),g._extend=function(Pe,Ge){if(!Ge||!_e(Ge))return Pe;for(var it=Object.keys(Ge),Je=it.length;Je--;)Pe[it[Je]]=Ge[it[Je]];return Pe}}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":25,_process:63,inherits:24}],27:[function(d,m,g){(function(w){(function(){var D=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],H=typeof globalThis>"u"?w:globalThis;m.exports=function(){for(var q=[],te=0;te<D.length;te++)typeof H[D[te]]=="function"&&(q[q.length]=D[te]);return q}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],28:[function(d,m,g){g.byteLength=ie,g.toByteArray=se,g.fromByteArray=fe;for(var w=[],D=[],H=typeof Uint8Array<"u"?Uint8Array:Array,q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",te=0,re=q.length;te<re;++te)w[te]=q[te],D[q.charCodeAt(te)]=te;function ne(de){var me=de.length;if(me%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ge=de.indexOf("=");return ge===-1&&(ge=me),[ge,ge===me?0:4-ge%4]}function ie(de){var me=ne(de),ge=me[0],he=me[1];return 3*(ge+he)/4-he}function ae(de,me,ge){return 3*(me+ge)/4-ge}function se(de){var me,ge,he=ne(de),pe=he[0],ve=he[1],ke=new H(ae(de,pe,ve)),be=0,Se=ve>0?pe-4:pe;for(ge=0;ge<Se;ge+=4)me=D[de.charCodeAt(ge)]<<18|D[de.charCodeAt(ge+1)]<<12|D[de.charCodeAt(ge+2)]<<6|D[de.charCodeAt(ge+3)],ke[be++]=me>>16&255,ke[be++]=me>>8&255,ke[be++]=255&me;return ve===2&&(me=D[de.charCodeAt(ge)]<<2|D[de.charCodeAt(ge+1)]>>4,ke[be++]=255&me),ve===1&&(me=D[de.charCodeAt(ge)]<<10|D[de.charCodeAt(ge+1)]<<4|D[de.charCodeAt(ge+2)]>>2,ke[be++]=me>>8&255,ke[be++]=255&me),ke}function le(de){return w[de>>18&63]+w[de>>12&63]+w[de>>6&63]+w[63&de]}function ue(de,me,ge){for(var he,pe=[],ve=me;ve<ge;ve+=3)he=(de[ve]<<16&16711680)+(de[ve+1]<<8&65280)+(255&de[ve+2]),pe.push(le(he));return pe.join("")}function fe(de){for(var me,ge=de.length,he=ge%3,pe=[],ve=16383,ke=0,be=ge-he;ke<be;ke+=ve)pe.push(ue(de,ke,ke+ve>be?be:ke+ve));return he===1?(me=de[ge-1],pe.push(w[me>>2]+w[me<<4&63]+"==")):he===2&&(me=(de[ge-2]<<8)+de[ge-1],pe.push(w[me>>10]+w[me>>4&63]+w[me<<2&63]+"=")),pe.join("")}D[45]=62,D[95]=63},{}],29:[function(d,m,g){},{}],30:[function(d,m,g){(function(w,D){(function(){var H=d("assert"),q=d("pako/lib/zlib/zstream"),te=d("pako/lib/zlib/deflate.js"),re=d("pako/lib/zlib/inflate.js"),ne=d("pako/lib/zlib/constants");for(var ie in ne)g[ie]=ne[ie];g.NONE=0,g.DEFLATE=1,g.INFLATE=2,g.GZIP=3,g.GUNZIP=4,g.DEFLATERAW=5,g.INFLATERAW=6,g.UNZIP=7;var ae=31,se=139;function le(ue){if(typeof ue!="number"||ue<g.DEFLATE||ue>g.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=ue,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}le.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,H(this.init_done,"close before init"),H(this.mode<=g.UNZIP),this.mode===g.DEFLATE||this.mode===g.GZIP||this.mode===g.DEFLATERAW?te.deflateEnd(this.strm):this.mode!==g.INFLATE&&this.mode!==g.GUNZIP&&this.mode!==g.INFLATERAW&&this.mode!==g.UNZIP||re.inflateEnd(this.strm),this.mode=g.NONE,this.dictionary=null)},le.prototype.write=function(ue,fe,de,me,ge,he,pe){return this._write(!0,ue,fe,de,me,ge,he,pe)},le.prototype.writeSync=function(ue,fe,de,me,ge,he,pe){return this._write(!1,ue,fe,de,me,ge,he,pe)},le.prototype._write=function(ue,fe,de,me,ge,he,pe,ve){if(H.equal(arguments.length,8),H(this.init_done,"write before init"),H(this.mode!==g.NONE,"already finalized"),H.equal(!1,this.write_in_progress,"write already in progress"),H.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,H.equal(!1,fe===void 0,"must provide flush value"),this.write_in_progress=!0,fe!==g.Z_NO_FLUSH&&fe!==g.Z_PARTIAL_FLUSH&&fe!==g.Z_SYNC_FLUSH&&fe!==g.Z_FULL_FLUSH&&fe!==g.Z_FINISH&&fe!==g.Z_BLOCK)throw new Error("Invalid flush value");if(de==null&&(de=D.alloc(0),ge=0,me=0),this.strm.avail_in=ge,this.strm.input=de,this.strm.next_in=me,this.strm.avail_out=ve,this.strm.output=he,this.strm.next_out=pe,this.flush=fe,!ue)return this._process(),this._checkError()?this._afterSync():void 0;var ke=this;return w.nextTick(function(){ke._process(),ke._after()}),this},le.prototype._afterSync=function(){var ue=this.strm.avail_out,fe=this.strm.avail_in;return this.write_in_progress=!1,[fe,ue]},le.prototype._process=function(){var ue=null;switch(this.mode){case g.DEFLATE:case g.GZIP:case g.DEFLATERAW:this.err=te.deflate(this.strm,this.flush);break;case g.UNZIP:switch(this.strm.avail_in>0&&(ue=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(ue===null)break;if(this.strm.input[ue]!==ae){this.mode=g.INFLATE;break}if(this.gzip_id_bytes_read=1,ue++,this.strm.avail_in===1)break;case 1:if(ue===null)break;this.strm.input[ue]===se?(this.gzip_id_bytes_read=2,this.mode=g.GUNZIP):this.mode=g.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case g.INFLATE:case g.GUNZIP:case g.INFLATERAW:for(this.err=re.inflate(this.strm,this.flush),this.err===g.Z_NEED_DICT&&this.dictionary&&(this.err=re.inflateSetDictionary(this.strm,this.dictionary),this.err===g.Z_OK?this.err=re.inflate(this.strm,this.flush):this.err===g.Z_DATA_ERROR&&(this.err=g.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===g.GUNZIP&&this.err===g.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=re.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},le.prototype._checkError=function(){switch(this.err){case g.Z_OK:case g.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===g.Z_FINISH)return this._error("unexpected end of file"),!1;break;case g.Z_STREAM_END:break;case g.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},le.prototype._after=function(){if(this._checkError()){var ue=this.strm.avail_out,fe=this.strm.avail_in;this.write_in_progress=!1,this.callback(fe,ue),this.pending_close&&this.close()}},le.prototype._error=function(ue){this.strm.msg&&(ue=this.strm.msg),this.onerror(ue,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},le.prototype.init=function(ue,fe,de,me,ge){H(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),H(ue>=8&&ue<=15,"invalid windowBits"),H(fe>=-1&&fe<=9,"invalid compression level"),H(de>=1&&de<=9,"invalid memlevel"),H(me===g.Z_FILTERED||me===g.Z_HUFFMAN_ONLY||me===g.Z_RLE||me===g.Z_FIXED||me===g.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(fe,ue,de,me,ge),this._setDictionary()},le.prototype.params=function(){throw new Error("deflateParams Not supported")},le.prototype.reset=function(){this._reset(),this._setDictionary()},le.prototype._init=function(ue,fe,de,me,ge){switch(this.level=ue,this.windowBits=fe,this.memLevel=de,this.strategy=me,this.flush=g.Z_NO_FLUSH,this.err=g.Z_OK,this.mode!==g.GZIP&&this.mode!==g.GUNZIP||(this.windowBits+=16),this.mode===g.UNZIP&&(this.windowBits+=32),this.mode!==g.DEFLATERAW&&this.mode!==g.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new q,this.mode){case g.DEFLATE:case g.GZIP:case g.DEFLATERAW:this.err=te.deflateInit2(this.strm,this.level,g.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case g.INFLATE:case g.GUNZIP:case g.INFLATERAW:case g.UNZIP:this.err=re.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==g.Z_OK&&this._error("Init error"),this.dictionary=ge,this.write_in_progress=!1,this.init_done=!0},le.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=g.Z_OK,this.mode){case g.DEFLATE:case g.DEFLATERAW:this.err=te.deflateSetDictionary(this.strm,this.dictionary)}this.err!==g.Z_OK&&this._error("Failed to set dictionary")}},le.prototype._reset=function(){switch(this.err=g.Z_OK,this.mode){case g.DEFLATE:case g.DEFLATERAW:case g.GZIP:this.err=te.deflateReset(this.strm);break;case g.INFLATE:case g.INFLATERAW:case g.GUNZIP:this.err=re.inflateReset(this.strm)}this.err!==g.Z_OK&&this._error("Failed to reset stream")},g.Zlib=le}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,assert:23,buffer:32,"pako/lib/zlib/constants":54,"pako/lib/zlib/deflate.js":56,"pako/lib/zlib/inflate.js":58,"pako/lib/zlib/zstream":62}],31:[function(d,m,g){(function(w){(function(){var D=d("buffer").Buffer,H=d("stream").Transform,q=d("./binding"),te=d("util"),re=d("assert").ok,ne=d("buffer").kMaxLength,ie="Cannot create final Buffer. It would be larger than 0x"+ne.toString(16)+" bytes";q.Z_MIN_WINDOWBITS=8,q.Z_MAX_WINDOWBITS=15,q.Z_DEFAULT_WINDOWBITS=15,q.Z_MIN_CHUNK=64,q.Z_MAX_CHUNK=1/0,q.Z_DEFAULT_CHUNK=16384,q.Z_MIN_MEMLEVEL=1,q.Z_MAX_MEMLEVEL=9,q.Z_DEFAULT_MEMLEVEL=8,q.Z_MIN_LEVEL=-1,q.Z_MAX_LEVEL=9,q.Z_DEFAULT_LEVEL=q.Z_DEFAULT_COMPRESSION;for(var ae=Object.keys(q),se=0;se<ae.length;se++){var le=ae[se];le.match(/^Z/)&&Object.defineProperty(g,le,{enumerable:!0,value:q[le],writable:!1})}for(var ue={Z_OK:q.Z_OK,Z_STREAM_END:q.Z_STREAM_END,Z_NEED_DICT:q.Z_NEED_DICT,Z_ERRNO:q.Z_ERRNO,Z_STREAM_ERROR:q.Z_STREAM_ERROR,Z_DATA_ERROR:q.Z_DATA_ERROR,Z_MEM_ERROR:q.Z_MEM_ERROR,Z_BUF_ERROR:q.Z_BUF_ERROR,Z_VERSION_ERROR:q.Z_VERSION_ERROR},fe=Object.keys(ue),de=0;de<fe.length;de++){var me=fe[de];ue[ue[me]]=me}function ge(Ce,ze,Ke){var je=[],$e=0;function Ye(){for(var it;(it=Ce.read())!==null;)je.push(it),$e+=it.length;Ce.once("readable",Ye)}function Pe(it){Ce.removeListener("end",Ge),Ce.removeListener("readable",Ye),Ke(it)}function Ge(){var it,Je=null;$e>=ne?Je=new RangeError(ie):it=D.concat(je,$e),je=[],Ce.close(),Ke(Je,it)}Ce.on("error",Pe),Ce.on("end",Ge),Ce.end(ze),Ye()}function he(Ce,ze){if(typeof ze=="string"&&(ze=D.from(ze)),!D.isBuffer(ze))throw new TypeError("Not a string or buffer");var Ke=Ce._finishFlushFlag;return Ce._processChunk(ze,Ke)}function pe(Ce){if(!(this instanceof pe))return new pe(Ce);Te.call(this,Ce,q.DEFLATE)}function ve(Ce){if(!(this instanceof ve))return new ve(Ce);Te.call(this,Ce,q.INFLATE)}function ke(Ce){if(!(this instanceof ke))return new ke(Ce);Te.call(this,Ce,q.GZIP)}function be(Ce){if(!(this instanceof be))return new be(Ce);Te.call(this,Ce,q.GUNZIP)}function Se(Ce){if(!(this instanceof Se))return new Se(Ce);Te.call(this,Ce,q.DEFLATERAW)}function Ee(Ce){if(!(this instanceof Ee))return new Ee(Ce);Te.call(this,Ce,q.INFLATERAW)}function Ie(Ce){if(!(this instanceof Ie))return new Ie(Ce);Te.call(this,Ce,q.UNZIP)}function _e(Ce){return Ce===q.Z_NO_FLUSH||Ce===q.Z_PARTIAL_FLUSH||Ce===q.Z_SYNC_FLUSH||Ce===q.Z_FULL_FLUSH||Ce===q.Z_FINISH||Ce===q.Z_BLOCK}function Te(Ce,ze){var Ke=this;if(this._opts=Ce=Ce||{},this._chunkSize=Ce.chunkSize||g.Z_DEFAULT_CHUNK,H.call(this,Ce),Ce.flush&&!_e(Ce.flush))throw new Error("Invalid flush flag: "+Ce.flush);if(Ce.finishFlush&&!_e(Ce.finishFlush))throw new Error("Invalid flush flag: "+Ce.finishFlush);if(this._flushFlag=Ce.flush||q.Z_NO_FLUSH,this._finishFlushFlag=Ce.finishFlush!==void 0?Ce.finishFlush:q.Z_FINISH,Ce.chunkSize&&(Ce.chunkSize<g.Z_MIN_CHUNK||Ce.chunkSize>g.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+Ce.chunkSize);if(Ce.windowBits&&(Ce.windowBits<g.Z_MIN_WINDOWBITS||Ce.windowBits>g.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+Ce.windowBits);if(Ce.level&&(Ce.level<g.Z_MIN_LEVEL||Ce.level>g.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+Ce.level);if(Ce.memLevel&&(Ce.memLevel<g.Z_MIN_MEMLEVEL||Ce.memLevel>g.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+Ce.memLevel);if(Ce.strategy&&Ce.strategy!=g.Z_FILTERED&&Ce.strategy!=g.Z_HUFFMAN_ONLY&&Ce.strategy!=g.Z_RLE&&Ce.strategy!=g.Z_FIXED&&Ce.strategy!=g.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+Ce.strategy);if(Ce.dictionary&&!D.isBuffer(Ce.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new q.Zlib(ze);var je=this;this._hadError=!1,this._handle.onerror=function(Pe,Ge){Le(je),je._hadError=!0;var it=new Error(Pe);it.errno=Ge,it.code=g.codes[Ge],je.emit("error",it)};var $e=g.Z_DEFAULT_COMPRESSION;typeof Ce.level=="number"&&($e=Ce.level);var Ye=g.Z_DEFAULT_STRATEGY;typeof Ce.strategy=="number"&&(Ye=Ce.strategy),this._handle.init(Ce.windowBits||g.Z_DEFAULT_WINDOWBITS,$e,Ce.memLevel||g.Z_DEFAULT_MEMLEVEL,Ye,Ce.dictionary),this._buffer=D.allocUnsafe(this._chunkSize),this._offset=0,this._level=$e,this._strategy=Ye,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Ke._handle},configurable:!0,enumerable:!0})}function Le(Ce,ze){ze&&w.nextTick(ze),Ce._handle&&(Ce._handle.close(),Ce._handle=null)}function Be(Ce){Ce.emit("close")}Object.defineProperty(g,"codes",{enumerable:!0,value:Object.freeze(ue),writable:!1}),g.Deflate=pe,g.Inflate=ve,g.Gzip=ke,g.Gunzip=be,g.DeflateRaw=Se,g.InflateRaw=Ee,g.Unzip=Ie,g.createDeflate=function(Ce){return new pe(Ce)},g.createInflate=function(Ce){return new ve(Ce)},g.createDeflateRaw=function(Ce){return new Se(Ce)},g.createInflateRaw=function(Ce){return new Ee(Ce)},g.createGzip=function(Ce){return new ke(Ce)},g.createGunzip=function(Ce){return new be(Ce)},g.createUnzip=function(Ce){return new Ie(Ce)},g.deflate=function(Ce,ze,Ke){return typeof ze=="function"&&(Ke=ze,ze={}),ge(new pe(ze),Ce,Ke)},g.deflateSync=function(Ce,ze){return he(new pe(ze),Ce)},g.gzip=function(Ce,ze,Ke){return typeof ze=="function"&&(Ke=ze,ze={}),ge(new ke(ze),Ce,Ke)},g.gzipSync=function(Ce,ze){return he(new ke(ze),Ce)},g.deflateRaw=function(Ce,ze,Ke){return typeof ze=="function"&&(Ke=ze,ze={}),ge(new Se(ze),Ce,Ke)},g.deflateRawSync=function(Ce,ze){return he(new Se(ze),Ce)},g.unzip=function(Ce,ze,Ke){return typeof ze=="function"&&(Ke=ze,ze={}),ge(new Ie(ze),Ce,Ke)},g.unzipSync=function(Ce,ze){return he(new Ie(ze),Ce)},g.inflate=function(Ce,ze,Ke){return typeof ze=="function"&&(Ke=ze,ze={}),ge(new ve(ze),Ce,Ke)},g.inflateSync=function(Ce,ze){return he(new ve(ze),Ce)},g.gunzip=function(Ce,ze,Ke){return typeof ze=="function"&&(Ke=ze,ze={}),ge(new be(ze),Ce,Ke)},g.gunzipSync=function(Ce,ze){return he(new be(ze),Ce)},g.inflateRaw=function(Ce,ze,Ke){return typeof ze=="function"&&(Ke=ze,ze={}),ge(new Ee(ze),Ce,Ke)},g.inflateRawSync=function(Ce,ze){return he(new Ee(ze),Ce)},te.inherits(Te,H),Te.prototype.params=function(Ce,ze,Ke){if(Ce<g.Z_MIN_LEVEL||Ce>g.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+Ce);if(ze!=g.Z_FILTERED&&ze!=g.Z_HUFFMAN_ONLY&&ze!=g.Z_RLE&&ze!=g.Z_FIXED&&ze!=g.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+ze);if(this._level!==Ce||this._strategy!==ze){var je=this;this.flush(q.Z_SYNC_FLUSH,function(){re(je._handle,"zlib binding closed"),je._handle.params(Ce,ze),je._hadError||(je._level=Ce,je._strategy=ze,Ke&&Ke())})}else w.nextTick(Ke)},Te.prototype.reset=function(){return re(this._handle,"zlib binding closed"),this._handle.reset()},Te.prototype._flush=function(Ce){this._transform(D.alloc(0),"",Ce)},Te.prototype.flush=function(Ce,ze){var Ke=this,je=this._writableState;(typeof Ce=="function"||Ce===void 0&&!ze)&&(ze=Ce,Ce=q.Z_FULL_FLUSH),je.ended?ze&&w.nextTick(ze):je.ending?ze&&this.once("end",ze):je.needDrain?ze&&this.once("drain",function(){return Ke.flush(Ce,ze)}):(this._flushFlag=Ce,this.write(D.alloc(0),"",ze))},Te.prototype.close=function(Ce){Le(this,Ce),w.nextTick(Be,this)},Te.prototype._transform=function(Ce,ze,Ke){var je,$e=this._writableState,Ye=($e.ending||$e.ended)&&(!Ce||$e.length===Ce.length);return Ce===null||D.isBuffer(Ce)?this._handle?(Ye?je=this._finishFlushFlag:(je=this._flushFlag,Ce.length>=$e.length&&(this._flushFlag=this._opts.flush||q.Z_NO_FLUSH)),void this._processChunk(Ce,je,Ke)):Ke(new Error("zlib binding closed")):Ke(new Error("invalid input"))},Te.prototype._processChunk=function(Ce,ze,Ke){var je=Ce&&Ce.length,$e=this._chunkSize-this._offset,Ye=0,Pe=this,Ge=typeof Ke=="function";if(!Ge){var it,Je=[],He=0;this.on("error",function(Xe){it=Xe}),re(this._handle,"zlib binding closed");do var Qe=this._handle.writeSync(ze,Ce,Ye,je,this._buffer,this._offset,$e);while(!this._hadError&&kt(Qe[0],Qe[1]));if(this._hadError)throw it;if(He>=ne)throw Le(this),new RangeError(ie);var ut=D.concat(Je,He);return Le(this),ut}re(this._handle,"zlib binding closed");var dt=this._handle.write(ze,Ce,Ye,je,this._buffer,this._offset,$e);function kt(Xe,we){if(this&&(this.buffer=null,this.callback=null),!Pe._hadError){var qe=$e-we;if(re(qe>=0,"have should not go down"),qe>0){var Ne=Pe._buffer.slice(Pe._offset,Pe._offset+qe);Pe._offset+=qe,Ge?Pe.push(Ne):(Je.push(Ne),He+=Ne.length)}if((we===0||Pe._offset>=Pe._chunkSize)&&($e=Pe._chunkSize,Pe._offset=0,Pe._buffer=D.allocUnsafe(Pe._chunkSize)),we===0){if(Ye+=je-Xe,je=Xe,!Ge)return!0;var Fe=Pe._handle.write(ze,Ce,Ye,je,Pe._buffer,Pe._offset,Pe._chunkSize);return Fe.callback=kt,void(Fe.buffer=Ce)}if(!Ge)return!1;Ke()}}dt.buffer=Ce,dt.callback=kt},te.inherits(pe,Te),te.inherits(ve,Te),te.inherits(ke,Te),te.inherits(be,Te),te.inherits(Se,Te),te.inherits(Ee,Te),te.inherits(Ie,Te)}).call(this)}).call(this,d("_process"))},{"./binding":30,_process:63,assert:23,buffer:32,stream:65,util:84}],32:[function(d,m,g){(function(w){(function(){var D=d("base64-js"),H=d("ieee754");g.Buffer=ne,g.SlowBuffer=he,g.INSPECT_MAX_BYTES=50;var q=2147483647;function te(){try{var ye=new Uint8Array(1);return ye.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},ye.foo()===42}catch{return!1}}function re(ye){if(ye>q)throw new RangeError('The value "'+ye+'" is invalid for option "size"');var Ae=new Uint8Array(ye);return Ae.__proto__=ne.prototype,Ae}function ne(ye,Ae,De){if(typeof ye=="number"){if(typeof Ae=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return le(ye)}return ie(ye,Ae,De)}function ie(ye,Ae,De){if(typeof ye=="string")return ue(ye,Ae);if(ArrayBuffer.isView(ye))return fe(ye);if(ye==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ye);if(Ze(ye,ArrayBuffer)||ye&&Ze(ye.buffer,ArrayBuffer))return de(ye,Ae,De);if(typeof ye=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ue=ye.valueOf&&ye.valueOf();if(Ue!=null&&Ue!==ye)return ne.from(Ue,Ae,De);var St=me(ye);if(St)return St;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ye[Symbol.toPrimitive]=="function")return ne.from(ye[Symbol.toPrimitive]("string"),Ae,De);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ye)}function ae(ye){if(typeof ye!="number")throw new TypeError('"size" argument must be of type number');if(ye<0)throw new RangeError('The value "'+ye+'" is invalid for option "size"')}function se(ye,Ae,De){return ae(ye),ye<=0?re(ye):Ae!==void 0?typeof De=="string"?re(ye).fill(Ae,De):re(ye).fill(Ae):re(ye)}function le(ye){return ae(ye),re(ye<0?0:0|ge(ye))}function ue(ye,Ae){if(typeof Ae=="string"&&Ae!==""||(Ae="utf8"),!ne.isEncoding(Ae))throw new TypeError("Unknown encoding: "+Ae);var De=0|pe(ye,Ae),Ue=re(De),St=Ue.write(ye,Ae);return St!==De&&(Ue=Ue.slice(0,St)),Ue}function fe(ye){for(var Ae=ye.length<0?0:0|ge(ye.length),De=re(Ae),Ue=0;Ue<Ae;Ue+=1)De[Ue]=255&ye[Ue];return De}function de(ye,Ae,De){if(Ae<0||ye.byteLength<Ae)throw new RangeError('"offset" is outside of buffer bounds');if(ye.byteLength<Ae+(De||0))throw new RangeError('"length" is outside of buffer bounds');var Ue;return(Ue=Ae===void 0&&De===void 0?new Uint8Array(ye):De===void 0?new Uint8Array(ye,Ae):new Uint8Array(ye,Ae,De)).__proto__=ne.prototype,Ue}function me(ye){if(ne.isBuffer(ye)){var Ae=0|ge(ye.length),De=re(Ae);return De.length===0||ye.copy(De,0,0,Ae),De}return ye.length!==void 0?typeof ye.length!="number"||et(ye.length)?re(0):fe(ye):ye.type==="Buffer"&&Array.isArray(ye.data)?fe(ye.data):void 0}function ge(ye){if(ye>=q)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+q.toString(16)+" bytes");return 0|ye}function he(ye){return+ye!=ye&&(ye=0),ne.alloc(+ye)}function pe(ye,Ae){if(ne.isBuffer(ye))return ye.length;if(ArrayBuffer.isView(ye)||Ze(ye,ArrayBuffer))return ye.byteLength;if(typeof ye!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ye);var De=ye.length,Ue=arguments.length>2&&arguments[2]===!0;if(!Ue&&De===0)return 0;for(var St=!1;;)switch(Ae){case"ascii":case"latin1":case"binary":return De;case"utf8":case"utf-8":return we(ye).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*De;case"hex":return De>>>1;case"base64":return Fe(ye).length;default:if(St)return Ue?-1:we(ye).length;Ae=(""+Ae).toLowerCase(),St=!0}}function ve(ye,Ae,De){var Ue=!1;if((Ae===void 0||Ae<0)&&(Ae=0),Ae>this.length||((De===void 0||De>this.length)&&(De=this.length),De<=0)||(De>>>=0)<=(Ae>>>=0))return"";for(ye||(ye="utf8");;)switch(ye){case"hex":return Pe(this,Ae,De);case"utf8":case"utf-8":return ze(this,Ae,De);case"ascii":return $e(this,Ae,De);case"latin1":case"binary":return Ye(this,Ae,De);case"base64":return Ce(this,Ae,De);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ge(this,Ae,De);default:if(Ue)throw new TypeError("Unknown encoding: "+ye);ye=(ye+"").toLowerCase(),Ue=!0}}function ke(ye,Ae,De){var Ue=ye[Ae];ye[Ae]=ye[De],ye[De]=Ue}function be(ye,Ae,De,Ue,St){if(ye.length===0)return-1;if(typeof De=="string"?(Ue=De,De=0):De>2147483647?De=2147483647:De<-2147483648&&(De=-2147483648),et(De=+De)&&(De=St?0:ye.length-1),De<0&&(De=ye.length+De),De>=ye.length){if(St)return-1;De=ye.length-1}else if(De<0){if(!St)return-1;De=0}if(typeof Ae=="string"&&(Ae=ne.from(Ae,Ue)),ne.isBuffer(Ae))return Ae.length===0?-1:Se(ye,Ae,De,Ue,St);if(typeof Ae=="number")return Ae&=255,typeof Uint8Array.prototype.indexOf=="function"?St?Uint8Array.prototype.indexOf.call(ye,Ae,De):Uint8Array.prototype.lastIndexOf.call(ye,Ae,De):Se(ye,[Ae],De,Ue,St);throw new TypeError("val must be string, number or Buffer")}function Se(ye,Ae,De,Ue,St){var Bt,tr=1,ir=ye.length,Kt=Ae.length;if(Ue!==void 0&&((Ue=String(Ue).toLowerCase())==="ucs2"||Ue==="ucs-2"||Ue==="utf16le"||Ue==="utf-16le")){if(ye.length<2||Ae.length<2)return-1;tr=2,ir/=2,Kt/=2,De/=2}function ar(hr,kr){return tr===1?hr[kr]:hr.readUInt16BE(kr*tr)}if(St){var rr=-1;for(Bt=De;Bt<ir;Bt++)if(ar(ye,Bt)===ar(Ae,rr===-1?0:Bt-rr)){if(rr===-1&&(rr=Bt),Bt-rr+1===Kt)return rr*tr}else rr!==-1&&(Bt-=Bt-rr),rr=-1}else for(De+Kt>ir&&(De=ir-Kt),Bt=De;Bt>=0;Bt--){for(var gr=!0,dr=0;dr<Kt;dr++)if(ar(ye,Bt+dr)!==ar(Ae,dr)){gr=!1;break}if(gr)return Bt}return-1}function Ee(ye,Ae,De,Ue){De=Number(De)||0;var St=ye.length-De;Ue?(Ue=Number(Ue))>St&&(Ue=St):Ue=St;var Bt=Ae.length;Ue>Bt/2&&(Ue=Bt/2);for(var tr=0;tr<Ue;++tr){var ir=parseInt(Ae.substr(2*tr,2),16);if(et(ir))return tr;ye[De+tr]=ir}return tr}function Ie(ye,Ae,De,Ue){return Oe(we(Ae,ye.length-De),ye,De,Ue)}function _e(ye,Ae,De,Ue){return Oe(qe(Ae),ye,De,Ue)}function Te(ye,Ae,De,Ue){return _e(ye,Ae,De,Ue)}function Le(ye,Ae,De,Ue){return Oe(Fe(Ae),ye,De,Ue)}function Be(ye,Ae,De,Ue){return Oe(Ne(Ae,ye.length-De),ye,De,Ue)}function Ce(ye,Ae,De){return Ae===0&&De===ye.length?D.fromByteArray(ye):D.fromByteArray(ye.slice(Ae,De))}function ze(ye,Ae,De){De=Math.min(ye.length,De);for(var Ue=[],St=Ae;St<De;){var Bt,tr,ir,Kt,ar=ye[St],rr=null,gr=ar>239?4:ar>223?3:ar>191?2:1;if(St+gr<=De)switch(gr){case 1:ar<128&&(rr=ar);break;case 2:(192&(Bt=ye[St+1]))==128&&(Kt=(31&ar)<<6|63&Bt)>127&&(rr=Kt);break;case 3:Bt=ye[St+1],tr=ye[St+2],(192&Bt)==128&&(192&tr)==128&&(Kt=(15&ar)<<12|(63&Bt)<<6|63&tr)>2047&&(Kt<55296||Kt>57343)&&(rr=Kt);break;case 4:Bt=ye[St+1],tr=ye[St+2],ir=ye[St+3],(192&Bt)==128&&(192&tr)==128&&(192&ir)==128&&(Kt=(15&ar)<<18|(63&Bt)<<12|(63&tr)<<6|63&ir)>65535&&Kt<1114112&&(rr=Kt)}rr===null?(rr=65533,gr=1):rr>65535&&(rr-=65536,Ue.push(rr>>>10&1023|55296),rr=56320|1023&rr),Ue.push(rr),St+=gr}return je(Ue)}g.kMaxLength=q,ne.TYPED_ARRAY_SUPPORT=te(),ne.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(ne.prototype,"parent",{enumerable:!0,get:function(){if(ne.isBuffer(this))return this.buffer}}),Object.defineProperty(ne.prototype,"offset",{enumerable:!0,get:function(){if(ne.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&ne[Symbol.species]===ne&&Object.defineProperty(ne,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),ne.poolSize=8192,ne.from=function(ye,Ae,De){return ie(ye,Ae,De)},ne.prototype.__proto__=Uint8Array.prototype,ne.__proto__=Uint8Array,ne.alloc=function(ye,Ae,De){return se(ye,Ae,De)},ne.allocUnsafe=function(ye){return le(ye)},ne.allocUnsafeSlow=function(ye){return le(ye)},ne.isBuffer=function(ye){return ye!=null&&ye._isBuffer===!0&&ye!==ne.prototype},ne.compare=function(ye,Ae){if(Ze(ye,Uint8Array)&&(ye=ne.from(ye,ye.offset,ye.byteLength)),Ze(Ae,Uint8Array)&&(Ae=ne.from(Ae,Ae.offset,Ae.byteLength)),!ne.isBuffer(ye)||!ne.isBuffer(Ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ye===Ae)return 0;for(var De=ye.length,Ue=Ae.length,St=0,Bt=Math.min(De,Ue);St<Bt;++St)if(ye[St]!==Ae[St]){De=ye[St],Ue=Ae[St];break}return De<Ue?-1:Ue<De?1:0},ne.isEncoding=function(ye){switch(String(ye).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ne.concat=function(ye,Ae){if(!Array.isArray(ye))throw new TypeError('"list" argument must be an Array of Buffers');if(ye.length===0)return ne.alloc(0);var De;if(Ae===void 0)for(Ae=0,De=0;De<ye.length;++De)Ae+=ye[De].length;var Ue=ne.allocUnsafe(Ae),St=0;for(De=0;De<ye.length;++De){var Bt=ye[De];if(Ze(Bt,Uint8Array)&&(Bt=ne.from(Bt)),!ne.isBuffer(Bt))throw new TypeError('"list" argument must be an Array of Buffers');Bt.copy(Ue,St),St+=Bt.length}return Ue},ne.byteLength=pe,ne.prototype._isBuffer=!0,ne.prototype.swap16=function(){var ye=this.length;if(ye%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ae=0;Ae<ye;Ae+=2)ke(this,Ae,Ae+1);return this},ne.prototype.swap32=function(){var ye=this.length;if(ye%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ae=0;Ae<ye;Ae+=4)ke(this,Ae,Ae+3),ke(this,Ae+1,Ae+2);return this},ne.prototype.swap64=function(){var ye=this.length;if(ye%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ae=0;Ae<ye;Ae+=8)ke(this,Ae,Ae+7),ke(this,Ae+1,Ae+6),ke(this,Ae+2,Ae+5),ke(this,Ae+3,Ae+4);return this},ne.prototype.toString=function(){var ye=this.length;return ye===0?"":arguments.length===0?ze(this,0,ye):ve.apply(this,arguments)},ne.prototype.toLocaleString=ne.prototype.toString,ne.prototype.equals=function(ye){if(!ne.isBuffer(ye))throw new TypeError("Argument must be a Buffer");return this===ye||ne.compare(this,ye)===0},ne.prototype.inspect=function(){var ye="",Ae=g.INSPECT_MAX_BYTES;return ye=this.toString("hex",0,Ae).replace(/(.{2})/g,"$1 ").trim(),this.length>Ae&&(ye+=" ... "),"<Buffer "+ye+">"},ne.prototype.compare=function(ye,Ae,De,Ue,St){if(Ze(ye,Uint8Array)&&(ye=ne.from(ye,ye.offset,ye.byteLength)),!ne.isBuffer(ye))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ye);if(Ae===void 0&&(Ae=0),De===void 0&&(De=ye?ye.length:0),Ue===void 0&&(Ue=0),St===void 0&&(St=this.length),Ae<0||De>ye.length||Ue<0||St>this.length)throw new RangeError("out of range index");if(Ue>=St&&Ae>=De)return 0;if(Ue>=St)return-1;if(Ae>=De)return 1;if(this===ye)return 0;for(var Bt=(St>>>=0)-(Ue>>>=0),tr=(De>>>=0)-(Ae>>>=0),ir=Math.min(Bt,tr),Kt=this.slice(Ue,St),ar=ye.slice(Ae,De),rr=0;rr<ir;++rr)if(Kt[rr]!==ar[rr]){Bt=Kt[rr],tr=ar[rr];break}return Bt<tr?-1:tr<Bt?1:0},ne.prototype.includes=function(ye,Ae,De){return this.indexOf(ye,Ae,De)!==-1},ne.prototype.indexOf=function(ye,Ae,De){return be(this,ye,Ae,De,!0)},ne.prototype.lastIndexOf=function(ye,Ae,De){return be(this,ye,Ae,De,!1)},ne.prototype.write=function(ye,Ae,De,Ue){if(Ae===void 0)Ue="utf8",De=this.length,Ae=0;else if(De===void 0&&typeof Ae=="string")Ue=Ae,De=this.length,Ae=0;else{if(!isFinite(Ae))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Ae>>>=0,isFinite(De)?(De>>>=0,Ue===void 0&&(Ue="utf8")):(Ue=De,De=void 0)}var St=this.length-Ae;if((De===void 0||De>St)&&(De=St),ye.length>0&&(De<0||Ae<0)||Ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ue||(Ue="utf8");for(var Bt=!1;;)switch(Ue){case"hex":return Ee(this,ye,Ae,De);case"utf8":case"utf-8":return Ie(this,ye,Ae,De);case"ascii":return _e(this,ye,Ae,De);case"latin1":case"binary":return Te(this,ye,Ae,De);case"base64":return Le(this,ye,Ae,De);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Be(this,ye,Ae,De);default:if(Bt)throw new TypeError("Unknown encoding: "+Ue);Ue=(""+Ue).toLowerCase(),Bt=!0}},ne.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ke=4096;function je(ye){var Ae=ye.length;if(Ae<=Ke)return String.fromCharCode.apply(String,ye);for(var De="",Ue=0;Ue<Ae;)De+=String.fromCharCode.apply(String,ye.slice(Ue,Ue+=Ke));return De}function $e(ye,Ae,De){var Ue="";De=Math.min(ye.length,De);for(var St=Ae;St<De;++St)Ue+=String.fromCharCode(127&ye[St]);return Ue}function Ye(ye,Ae,De){var Ue="";De=Math.min(ye.length,De);for(var St=Ae;St<De;++St)Ue+=String.fromCharCode(ye[St]);return Ue}function Pe(ye,Ae,De){var Ue=ye.length;(!Ae||Ae<0)&&(Ae=0),(!De||De<0||De>Ue)&&(De=Ue);for(var St="",Bt=Ae;Bt<De;++Bt)St+=Xe(ye[Bt]);return St}function Ge(ye,Ae,De){for(var Ue=ye.slice(Ae,De),St="",Bt=0;Bt<Ue.length;Bt+=2)St+=String.fromCharCode(Ue[Bt]+256*Ue[Bt+1]);return St}function it(ye,Ae,De){if(ye%1!=0||ye<0)throw new RangeError("offset is not uint");if(ye+Ae>De)throw new RangeError("Trying to access beyond buffer length")}function Je(ye,Ae,De,Ue,St,Bt){if(!ne.isBuffer(ye))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ae>St||Ae<Bt)throw new RangeError('"value" argument is out of bounds');if(De+Ue>ye.length)throw new RangeError("Index out of range")}function He(ye,Ae,De,Ue,St,Bt){if(De+Ue>ye.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("Index out of range")}function Qe(ye,Ae,De,Ue,St){return Ae=+Ae,De>>>=0,St||He(ye,Ae,De,4),H.write(ye,Ae,De,Ue,23,4),De+4}function ut(ye,Ae,De,Ue,St){return Ae=+Ae,De>>>=0,St||He(ye,Ae,De,8),H.write(ye,Ae,De,Ue,52,8),De+8}ne.prototype.slice=function(ye,Ae){var De=this.length;(ye=~~ye)<0?(ye+=De)<0&&(ye=0):ye>De&&(ye=De),(Ae=Ae===void 0?De:~~Ae)<0?(Ae+=De)<0&&(Ae=0):Ae>De&&(Ae=De),Ae<ye&&(Ae=ye);var Ue=this.subarray(ye,Ae);return Ue.__proto__=ne.prototype,Ue},ne.prototype.readUIntLE=function(ye,Ae,De){ye>>>=0,Ae>>>=0,De||it(ye,Ae,this.length);for(var Ue=this[ye],St=1,Bt=0;++Bt<Ae&&(St*=256);)Ue+=this[ye+Bt]*St;return Ue},ne.prototype.readUIntBE=function(ye,Ae,De){ye>>>=0,Ae>>>=0,De||it(ye,Ae,this.length);for(var Ue=this[ye+--Ae],St=1;Ae>0&&(St*=256);)Ue+=this[ye+--Ae]*St;return Ue},ne.prototype.readUInt8=function(ye,Ae){return ye>>>=0,Ae||it(ye,1,this.length),this[ye]},ne.prototype.readUInt16LE=function(ye,Ae){return ye>>>=0,Ae||it(ye,2,this.length),this[ye]|this[ye+1]<<8},ne.prototype.readUInt16BE=function(ye,Ae){return ye>>>=0,Ae||it(ye,2,this.length),this[ye]<<8|this[ye+1]},ne.prototype.readUInt32LE=function(ye,Ae){return ye>>>=0,Ae||it(ye,4,this.length),(this[ye]|this[ye+1]<<8|this[ye+2]<<16)+16777216*this[ye+3]},ne.prototype.readUInt32BE=function(ye,Ae){return ye>>>=0,Ae||it(ye,4,this.length),16777216*this[ye]+(this[ye+1]<<16|this[ye+2]<<8|this[ye+3])},ne.prototype.readIntLE=function(ye,Ae,De){ye>>>=0,Ae>>>=0,De||it(ye,Ae,this.length);for(var Ue=this[ye],St=1,Bt=0;++Bt<Ae&&(St*=256);)Ue+=this[ye+Bt]*St;return Ue>=(St*=128)&&(Ue-=Math.pow(2,8*Ae)),Ue},ne.prototype.readIntBE=function(ye,Ae,De){ye>>>=0,Ae>>>=0,De||it(ye,Ae,this.length);for(var Ue=Ae,St=1,Bt=this[ye+--Ue];Ue>0&&(St*=256);)Bt+=this[ye+--Ue]*St;return Bt>=(St*=128)&&(Bt-=Math.pow(2,8*Ae)),Bt},ne.prototype.readInt8=function(ye,Ae){return ye>>>=0,Ae||it(ye,1,this.length),128&this[ye]?-1*(255-this[ye]+1):this[ye]},ne.prototype.readInt16LE=function(ye,Ae){ye>>>=0,Ae||it(ye,2,this.length);var De=this[ye]|this[ye+1]<<8;return 32768&De?4294901760|De:De},ne.prototype.readInt16BE=function(ye,Ae){ye>>>=0,Ae||it(ye,2,this.length);var De=this[ye+1]|this[ye]<<8;return 32768&De?4294901760|De:De},ne.prototype.readInt32LE=function(ye,Ae){return ye>>>=0,Ae||it(ye,4,this.length),this[ye]|this[ye+1]<<8|this[ye+2]<<16|this[ye+3]<<24},ne.prototype.readInt32BE=function(ye,Ae){return ye>>>=0,Ae||it(ye,4,this.length),this[ye]<<24|this[ye+1]<<16|this[ye+2]<<8|this[ye+3]},ne.prototype.readFloatLE=function(ye,Ae){return ye>>>=0,Ae||it(ye,4,this.length),H.read(this,ye,!0,23,4)},ne.prototype.readFloatBE=function(ye,Ae){return ye>>>=0,Ae||it(ye,4,this.length),H.read(this,ye,!1,23,4)},ne.prototype.readDoubleLE=function(ye,Ae){return ye>>>=0,Ae||it(ye,8,this.length),H.read(this,ye,!0,52,8)},ne.prototype.readDoubleBE=function(ye,Ae){return ye>>>=0,Ae||it(ye,8,this.length),H.read(this,ye,!1,52,8)},ne.prototype.writeUIntLE=function(ye,Ae,De,Ue){ye=+ye,Ae>>>=0,De>>>=0,Ue||Je(this,ye,Ae,De,Math.pow(2,8*De)-1,0);var St=1,Bt=0;for(this[Ae]=255&ye;++Bt<De&&(St*=256);)this[Ae+Bt]=ye/St&255;return Ae+De},ne.prototype.writeUIntBE=function(ye,Ae,De,Ue){ye=+ye,Ae>>>=0,De>>>=0,Ue||Je(this,ye,Ae,De,Math.pow(2,8*De)-1,0);var St=De-1,Bt=1;for(this[Ae+St]=255&ye;--St>=0&&(Bt*=256);)this[Ae+St]=ye/Bt&255;return Ae+De},ne.prototype.writeUInt8=function(ye,Ae,De){return ye=+ye,Ae>>>=0,De||Je(this,ye,Ae,1,255,0),this[Ae]=255&ye,Ae+1},ne.prototype.writeUInt16LE=function(ye,Ae,De){return ye=+ye,Ae>>>=0,De||Je(this,ye,Ae,2,65535,0),this[Ae]=255&ye,this[Ae+1]=ye>>>8,Ae+2},ne.prototype.writeUInt16BE=function(ye,Ae,De){return ye=+ye,Ae>>>=0,De||Je(this,ye,Ae,2,65535,0),this[Ae]=ye>>>8,this[Ae+1]=255&ye,Ae+2},ne.prototype.writeUInt32LE=function(ye,Ae,De){return ye=+ye,Ae>>>=0,De||Je(this,ye,Ae,4,4294967295,0),this[Ae+3]=ye>>>24,this[Ae+2]=ye>>>16,this[Ae+1]=ye>>>8,this[Ae]=255&ye,Ae+4},ne.prototype.writeUInt32BE=function(ye,Ae,De){return ye=+ye,Ae>>>=0,De||Je(this,ye,Ae,4,4294967295,0),this[Ae]=ye>>>24,this[Ae+1]=ye>>>16,this[Ae+2]=ye>>>8,this[Ae+3]=255&ye,Ae+4},ne.prototype.writeIntLE=function(ye,Ae,De,Ue){if(ye=+ye,Ae>>>=0,!Ue){var St=Math.pow(2,8*De-1);Je(this,ye,Ae,De,St-1,-St)}var Bt=0,tr=1,ir=0;for(this[Ae]=255&ye;++Bt<De&&(tr*=256);)ye<0&&ir===0&&this[Ae+Bt-1]!==0&&(ir=1),this[Ae+Bt]=(ye/tr|0)-ir&255;return Ae+De},ne.prototype.writeIntBE=function(ye,Ae,De,Ue){if(ye=+ye,Ae>>>=0,!Ue){var St=Math.pow(2,8*De-1);Je(this,ye,Ae,De,St-1,-St)}var Bt=De-1,tr=1,ir=0;for(this[Ae+Bt]=255&ye;--Bt>=0&&(tr*=256);)ye<0&&ir===0&&this[Ae+Bt+1]!==0&&(ir=1),this[Ae+Bt]=(ye/tr|0)-ir&255;return Ae+De},ne.prototype.writeInt8=function(ye,Ae,De){return ye=+ye,Ae>>>=0,De||Je(this,ye,Ae,1,127,-128),ye<0&&(ye=255+ye+1),this[Ae]=255&ye,Ae+1},ne.prototype.writeInt16LE=function(ye,Ae,De){return ye=+ye,Ae>>>=0,De||Je(this,ye,Ae,2,32767,-32768),this[Ae]=255&ye,this[Ae+1]=ye>>>8,Ae+2},ne.prototype.writeInt16BE=function(ye,Ae,De){return ye=+ye,Ae>>>=0,De||Je(this,ye,Ae,2,32767,-32768),this[Ae]=ye>>>8,this[Ae+1]=255&ye,Ae+2},ne.prototype.writeInt32LE=function(ye,Ae,De){return ye=+ye,Ae>>>=0,De||Je(this,ye,Ae,4,2147483647,-2147483648),this[Ae]=255&ye,this[Ae+1]=ye>>>8,this[Ae+2]=ye>>>16,this[Ae+3]=ye>>>24,Ae+4},ne.prototype.writeInt32BE=function(ye,Ae,De){return ye=+ye,Ae>>>=0,De||Je(this,ye,Ae,4,2147483647,-2147483648),ye<0&&(ye=4294967295+ye+1),this[Ae]=ye>>>24,this[Ae+1]=ye>>>16,this[Ae+2]=ye>>>8,this[Ae+3]=255&ye,Ae+4},ne.prototype.writeFloatLE=function(ye,Ae,De){return Qe(this,ye,Ae,!0,De)},ne.prototype.writeFloatBE=function(ye,Ae,De){return Qe(this,ye,Ae,!1,De)},ne.prototype.writeDoubleLE=function(ye,Ae,De){return ut(this,ye,Ae,!0,De)},ne.prototype.writeDoubleBE=function(ye,Ae,De){return ut(this,ye,Ae,!1,De)},ne.prototype.copy=function(ye,Ae,De,Ue){if(!ne.isBuffer(ye))throw new TypeError("argument should be a Buffer");if(De||(De=0),Ue||Ue===0||(Ue=this.length),Ae>=ye.length&&(Ae=ye.length),Ae||(Ae=0),Ue>0&&Ue<De&&(Ue=De),Ue===De||ye.length===0||this.length===0)return 0;if(Ae<0)throw new RangeError("targetStart out of bounds");if(De<0||De>=this.length)throw new RangeError("Index out of range");if(Ue<0)throw new RangeError("sourceEnd out of bounds");Ue>this.length&&(Ue=this.length),ye.length-Ae<Ue-De&&(Ue=ye.length-Ae+De);var St=Ue-De;if(this===ye&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(Ae,De,Ue);else if(this===ye&&De<Ae&&Ae<Ue)for(var Bt=St-1;Bt>=0;--Bt)ye[Bt+Ae]=this[Bt+De];else Uint8Array.prototype.set.call(ye,this.subarray(De,Ue),Ae);return St},ne.prototype.fill=function(ye,Ae,De,Ue){if(typeof ye=="string"){if(typeof Ae=="string"?(Ue=Ae,Ae=0,De=this.length):typeof De=="string"&&(Ue=De,De=this.length),Ue!==void 0&&typeof Ue!="string")throw new TypeError("encoding must be a string");if(typeof Ue=="string"&&!ne.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue);if(ye.length===1){var St=ye.charCodeAt(0);(Ue==="utf8"&&St<128||Ue==="latin1")&&(ye=St)}}else typeof ye=="number"&&(ye&=255);if(Ae<0||this.length<Ae||this.length<De)throw new RangeError("Out of range index");if(De<=Ae)return this;var Bt;if(Ae>>>=0,De=De===void 0?this.length:De>>>0,ye||(ye=0),typeof ye=="number")for(Bt=Ae;Bt<De;++Bt)this[Bt]=ye;else{var tr=ne.isBuffer(ye)?ye:ne.from(ye,Ue),ir=tr.length;if(ir===0)throw new TypeError('The value "'+ye+'" is invalid for argument "value"');for(Bt=0;Bt<De-Ae;++Bt)this[Bt+Ae]=tr[Bt%ir]}return this};var dt=/[^+/0-9A-Za-z-_]/g;function kt(ye){if((ye=(ye=ye.split("=")[0]).trim().replace(dt,"")).length<2)return"";for(;ye.length%4!=0;)ye+="=";return ye}function Xe(ye){return ye<16?"0"+ye.toString(16):ye.toString(16)}function we(ye,Ae){var De;Ae=Ae||1/0;for(var Ue=ye.length,St=null,Bt=[],tr=0;tr<Ue;++tr){if((De=ye.charCodeAt(tr))>55295&&De<57344){if(!St){if(De>56319){(Ae-=3)>-1&&Bt.push(239,191,189);continue}if(tr+1===Ue){(Ae-=3)>-1&&Bt.push(239,191,189);continue}St=De;continue}if(De<56320){(Ae-=3)>-1&&Bt.push(239,191,189),St=De;continue}De=65536+(St-55296<<10|De-56320)}else St&&(Ae-=3)>-1&&Bt.push(239,191,189);if(St=null,De<128){if((Ae-=1)<0)break;Bt.push(De)}else if(De<2048){if((Ae-=2)<0)break;Bt.push(De>>6|192,63&De|128)}else if(De<65536){if((Ae-=3)<0)break;Bt.push(De>>12|224,De>>6&63|128,63&De|128)}else{if(!(De<1114112))throw new Error("Invalid code point");if((Ae-=4)<0)break;Bt.push(De>>18|240,De>>12&63|128,De>>6&63|128,63&De|128)}}return Bt}function qe(ye){for(var Ae=[],De=0;De<ye.length;++De)Ae.push(255&ye.charCodeAt(De));return Ae}function Ne(ye,Ae){for(var De,Ue,St,Bt=[],tr=0;tr<ye.length&&!((Ae-=2)<0);++tr)Ue=(De=ye.charCodeAt(tr))>>8,St=De%256,Bt.push(St),Bt.push(Ue);return Bt}function Fe(ye){return D.toByteArray(kt(ye))}function Oe(ye,Ae,De,Ue){for(var St=0;St<Ue&&!(St+De>=Ae.length||St>=ye.length);++St)Ae[St+De]=ye[St];return St}function Ze(ye,Ae){return ye instanceof Ae||ye!=null&&ye.constructor!=null&&ye.constructor.name!=null&&ye.constructor.name===Ae.name}function et(ye){return ye!=ye}}).call(this)}).call(this,d("buffer").Buffer)},{"base64-js":28,buffer:32,ieee754:45}],33:[function(d,m,g){var w=d("get-intrinsic"),D=d("./"),H=D(w("String.prototype.indexOf"));m.exports=function(q,te){var re=w(q,!!te);return typeof re=="function"&&H(q,".prototype.")>-1?D(re):re}},{"./":34,"get-intrinsic":39}],34:[function(d,m,g){var w=d("function-bind"),D=d("get-intrinsic"),H=D("%Function.prototype.apply%"),q=D("%Function.prototype.call%"),te=D("%Reflect.apply%",!0)||w.call(q,H),re=D("%Object.getOwnPropertyDescriptor%",!0),ne=D("%Object.defineProperty%",!0),ie=D("%Math.max%");if(ne)try{ne({},"a",{value:1})}catch{ne=null}m.exports=function(se){var le=te(w,q,arguments);return re&&ne&&re(le,"length").configurable&&ne(le,"length",{value:1+ie(0,se.length-(arguments.length-1))}),le};var ae=function(){return te(w,H,arguments)};ne?ne(m.exports,"apply",{value:ae}):m.exports.apply=ae},{"function-bind":38,"get-intrinsic":39}],35:[function(d,m,g){var w,D=typeof Reflect=="object"?Reflect:null,H=D&&typeof D.apply=="function"?D.apply:function(be,Se,Ee){return Function.prototype.apply.call(be,Se,Ee)};function q(be){console&&console.warn&&console.warn(be)}w=D&&typeof D.ownKeys=="function"?D.ownKeys:Object.getOwnPropertySymbols?function(be){return Object.getOwnPropertyNames(be).concat(Object.getOwnPropertySymbols(be))}:function(be){return Object.getOwnPropertyNames(be)};var te=Number.isNaN||function(be){return be!=be};function re(){re.init.call(this)}m.exports=re,m.exports.once=pe,re.EventEmitter=re,re.prototype._events=void 0,re.prototype._eventsCount=0,re.prototype._maxListeners=void 0;var ne=10;function ie(be){if(typeof be!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof be)}function ae(be){return be._maxListeners===void 0?re.defaultMaxListeners:be._maxListeners}function se(be,Se,Ee,Ie){var _e,Te,Le;if(ie(Ee),(Te=be._events)===void 0?(Te=be._events=Object.create(null),be._eventsCount=0):(Te.newListener!==void 0&&(be.emit("newListener",Se,Ee.listener?Ee.listener:Ee),Te=be._events),Le=Te[Se]),Le===void 0)Le=Te[Se]=Ee,++be._eventsCount;else if(typeof Le=="function"?Le=Te[Se]=Ie?[Ee,Le]:[Le,Ee]:Ie?Le.unshift(Ee):Le.push(Ee),(_e=ae(be))>0&&Le.length>_e&&!Le.warned){Le.warned=!0;var Be=new Error("Possible EventEmitter memory leak detected. "+Le.length+" "+String(Se)+" listeners added. Use emitter.setMaxListeners() to increase limit");Be.name="MaxListenersExceededWarning",Be.emitter=be,Be.type=Se,Be.count=Le.length,q(Be)}return be}function le(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ue(be,Se,Ee){var Ie={fired:!1,wrapFn:void 0,target:be,type:Se,listener:Ee},_e=le.bind(Ie);return _e.listener=Ee,Ie.wrapFn=_e,_e}function fe(be,Se,Ee){var Ie=be._events;if(Ie===void 0)return[];var _e=Ie[Se];return _e===void 0?[]:typeof _e=="function"?Ee?[_e.listener||_e]:[_e]:Ee?he(_e):me(_e,_e.length)}function de(be){var Se=this._events;if(Se!==void 0){var Ee=Se[be];if(typeof Ee=="function")return 1;if(Ee!==void 0)return Ee.length}return 0}function me(be,Se){for(var Ee=new Array(Se),Ie=0;Ie<Se;++Ie)Ee[Ie]=be[Ie];return Ee}function ge(be,Se){for(;Se+1<be.length;Se++)be[Se]=be[Se+1];be.pop()}function he(be){for(var Se=new Array(be.length),Ee=0;Ee<Se.length;++Ee)Se[Ee]=be[Ee].listener||be[Ee];return Se}function pe(be,Se){return new Promise(function(Ee,Ie){function _e(Le){be.removeListener(Se,Te),Ie(Le)}function Te(){typeof be.removeListener=="function"&&be.removeListener("error",_e),Ee([].slice.call(arguments))}ke(be,Se,Te,{once:!0}),Se!=="error"&&ve(be,_e,{once:!0})})}function ve(be,Se,Ee){typeof be.on=="function"&&ke(be,"error",Se,Ee)}function ke(be,Se,Ee,Ie){if(typeof be.on=="function")Ie.once?be.once(Se,Ee):be.on(Se,Ee);else{if(typeof be.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof be);be.addEventListener(Se,function _e(Te){Ie.once&&be.removeEventListener(Se,_e),Ee(Te)})}}Object.defineProperty(re,"defaultMaxListeners",{enumerable:!0,get:function(){return ne},set:function(be){if(typeof be!="number"||be<0||te(be))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+be+".");ne=be}}),re.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},re.prototype.setMaxListeners=function(be){if(typeof be!="number"||be<0||te(be))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+be+".");return this._maxListeners=be,this},re.prototype.getMaxListeners=function(){return ae(this)},re.prototype.emit=function(be){for(var Se=[],Ee=1;Ee<arguments.length;Ee++)Se.push(arguments[Ee]);var Ie=be==="error",_e=this._events;if(_e!==void 0)Ie=Ie&&_e.error===void 0;else if(!Ie)return!1;if(Ie){var Te;if(Se.length>0&&(Te=Se[0]),Te instanceof Error)throw Te;var Le=new Error("Unhandled error."+(Te?" ("+Te.message+")":""));throw Le.context=Te,Le}var Be=_e[be];if(Be===void 0)return!1;if(typeof Be=="function")H(Be,this,Se);else{var Ce=Be.length,ze=me(Be,Ce);for(Ee=0;Ee<Ce;++Ee)H(ze[Ee],this,Se)}return!0},re.prototype.addListener=function(be,Se){return se(this,be,Se,!1)},re.prototype.on=re.prototype.addListener,re.prototype.prependListener=function(be,Se){return se(this,be,Se,!0)},re.prototype.once=function(be,Se){return ie(Se),this.on(be,ue(this,be,Se)),this},re.prototype.prependOnceListener=function(be,Se){return ie(Se),this.prependListener(be,ue(this,be,Se)),this},re.prototype.removeListener=function(be,Se){var Ee,Ie,_e,Te,Le;if(ie(Se),(Ie=this._events)===void 0)return this;if((Ee=Ie[be])===void 0)return this;if(Ee===Se||Ee.listener===Se)--this._eventsCount==0?this._events=Object.create(null):(delete Ie[be],Ie.removeListener&&this.emit("removeListener",be,Ee.listener||Se));else if(typeof Ee!="function"){for(_e=-1,Te=Ee.length-1;Te>=0;Te--)if(Ee[Te]===Se||Ee[Te].listener===Se){Le=Ee[Te].listener,_e=Te;break}if(_e<0)return this;_e===0?Ee.shift():ge(Ee,_e),Ee.length===1&&(Ie[be]=Ee[0]),Ie.removeListener!==void 0&&this.emit("removeListener",be,Le||Se)}return this},re.prototype.off=re.prototype.removeListener,re.prototype.removeAllListeners=function(be){var Se,Ee,Ie;if((Ee=this._events)===void 0)return this;if(Ee.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Ee[be]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete Ee[be]),this;if(arguments.length===0){var _e,Te=Object.keys(Ee);for(Ie=0;Ie<Te.length;++Ie)(_e=Te[Ie])!=="removeListener"&&this.removeAllListeners(_e);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(Se=Ee[be])=="function")this.removeListener(be,Se);else if(Se!==void 0)for(Ie=Se.length-1;Ie>=0;Ie--)this.removeListener(be,Se[Ie]);return this},re.prototype.listeners=function(be){return fe(this,be,!0)},re.prototype.rawListeners=function(be){return fe(this,be,!1)},re.listenerCount=function(be,Se){return typeof be.listenerCount=="function"?be.listenerCount(Se):de.call(be,Se)},re.prototype.listenerCount=de,re.prototype.eventNames=function(){return this._eventsCount>0?w(this._events):[]}},{}],36:[function(d,m,g){var w=d("is-callable"),D=Object.prototype.toString,H=Object.prototype.hasOwnProperty,q=function(ie,ae,se){for(var le=0,ue=ie.length;le<ue;le++)H.call(ie,le)&&(se==null?ae(ie[le],le,ie):ae.call(se,ie[le],le,ie))},te=function(ie,ae,se){for(var le=0,ue=ie.length;le<ue;le++)se==null?ae(ie.charAt(le),le,ie):ae.call(se,ie.charAt(le),le,ie)},re=function(ie,ae,se){for(var le in ie)H.call(ie,le)&&(se==null?ae(ie[le],le,ie):ae.call(se,ie[le],le,ie))},ne=function(ie,ae,se){if(!w(ae))throw new TypeError("iterator must be a function");var le;arguments.length>=3&&(le=se),D.call(ie)==="[object Array]"?q(ie,ae,le):typeof ie=="string"?te(ie,ae,le):re(ie,ae,le)};m.exports=ne},{"is-callable":48}],37:[function(d,m,g){var w="Function.prototype.bind called on incompatible ",D=Array.prototype.slice,H=Object.prototype.toString,q="[object Function]";m.exports=function(te){var re=this;if(typeof re!="function"||H.call(re)!==q)throw new TypeError(w+re);for(var ne,ie=D.call(arguments,1),ae=function(){if(this instanceof ne){var de=re.apply(this,ie.concat(D.call(arguments)));return Object(de)===de?de:this}return re.apply(te,ie.concat(D.call(arguments)))},se=Math.max(0,re.length-ie.length),le=[],ue=0;ue<se;ue++)le.push("$"+ue);if(ne=Function("binder","return function ("+le.join(",")+"){ return binder.apply(this,arguments); }")(ae),re.prototype){var fe=function(){};fe.prototype=re.prototype,ne.prototype=new fe,fe.prototype=null}return ne}},{}],38:[function(d,m,g){var w=d("./implementation");m.exports=Function.prototype.bind||w},{"./implementation":37}],39:[function(d,m,g){var w,D=SyntaxError,H=Function,q=TypeError,te=function(Be){try{return H('"use strict"; return ('+Be+").constructor;")()}catch{}},re=Object.getOwnPropertyDescriptor;if(re)try{re({},"")}catch{re=null}var ne=function(){throw new q},ie=re?function(){try{return ne}catch{try{return re(arguments,"callee").get}catch{return ne}}}():ne,ae=d("has-symbols")(),se=Object.getPrototypeOf||function(Be){return Be.__proto__},le={},ue=typeof Uint8Array>"u"?w:se(Uint8Array),fe={"%AggregateError%":typeof AggregateError>"u"?w:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?w:ArrayBuffer,"%ArrayIteratorPrototype%":ae?se([][Symbol.iterator]()):w,"%AsyncFromSyncIteratorPrototype%":w,"%AsyncFunction%":le,"%AsyncGenerator%":le,"%AsyncGeneratorFunction%":le,"%AsyncIteratorPrototype%":le,"%Atomics%":typeof Atomics>"u"?w:Atomics,"%BigInt%":typeof BigInt>"u"?w:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?w:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?w:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?w:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?w:Float32Array,"%Float64Array%":typeof Float64Array>"u"?w:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?w:FinalizationRegistry,"%Function%":H,"%GeneratorFunction%":le,"%Int8Array%":typeof Int8Array>"u"?w:Int8Array,"%Int16Array%":typeof Int16Array>"u"?w:Int16Array,"%Int32Array%":typeof Int32Array>"u"?w:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ae?se(se([][Symbol.iterator]())):w,"%JSON%":typeof JSON=="object"?JSON:w,"%Map%":typeof Map>"u"?w:Map,"%MapIteratorPrototype%":typeof Map<"u"&&ae?se(new Map()[Symbol.iterator]()):w,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?w:Promise,"%Proxy%":typeof Proxy>"u"?w:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?w:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?w:Set,"%SetIteratorPrototype%":typeof Set<"u"&&ae?se(new Set()[Symbol.iterator]()):w,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?w:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ae?se(""[Symbol.iterator]()):w,"%Symbol%":ae?Symbol:w,"%SyntaxError%":D,"%ThrowTypeError%":ie,"%TypedArray%":ue,"%TypeError%":q,"%Uint8Array%":typeof Uint8Array>"u"?w:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?w:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?w:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?w:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?w:WeakMap,"%WeakRef%":typeof WeakRef>"u"?w:WeakRef,"%WeakSet%":typeof WeakSet>"u"?w:WeakSet};try{null.error}catch(Be){var de=se(se(Be));fe["%Error.prototype%"]=de}var me=function Be(Ce){var ze;if(Ce==="%AsyncFunction%")ze=te("async function () {}");else if(Ce==="%GeneratorFunction%")ze=te("function* () {}");else if(Ce==="%AsyncGeneratorFunction%")ze=te("async function* () {}");else if(Ce==="%AsyncGenerator%"){var Ke=Be("%AsyncGeneratorFunction%");Ke&&(ze=Ke.prototype)}else if(Ce==="%AsyncIteratorPrototype%"){var je=Be("%AsyncGenerator%");je&&(ze=se(je.prototype))}return fe[Ce]=ze,ze},ge={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},he=d("function-bind"),pe=d("has"),ve=he.call(Function.call,Array.prototype.concat),ke=he.call(Function.apply,Array.prototype.splice),be=he.call(Function.call,String.prototype.replace),Se=he.call(Function.call,String.prototype.slice),Ee=he.call(Function.call,RegExp.prototype.exec),Ie=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_e=/\\(\\)?/g,Te=function(Be){var Ce=Se(Be,0,1),ze=Se(Be,-1);if(Ce==="%"&&ze!=="%")throw new D("invalid intrinsic syntax, expected closing `%`");if(ze==="%"&&Ce!=="%")throw new D("invalid intrinsic syntax, expected opening `%`");var Ke=[];return be(Be,Ie,function(je,$e,Ye,Pe){Ke[Ke.length]=Ye?be(Pe,_e,"$1"):$e||je}),Ke},Le=function(Be,Ce){var ze,Ke=Be;if(pe(ge,Ke)&&(Ke="%"+(ze=ge[Ke])[0]+"%"),pe(fe,Ke)){var je=fe[Ke];if(je===le&&(je=me(Ke)),je===void 0&&!Ce)throw new q("intrinsic "+Be+" exists, but is not available. Please file an issue!");return{alias:ze,name:Ke,value:je}}throw new D("intrinsic "+Be+" does not exist!")};m.exports=function(Be,Ce){if(typeof Be!="string"||Be.length===0)throw new q("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Ce!="boolean")throw new q('"allowMissing" argument must be a boolean');if(Ee(/^%?[^%]*%?$/,Be)===null)throw new D("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ze=Te(Be),Ke=ze.length>0?ze[0]:"",je=Le("%"+Ke+"%",Ce),$e=je.name,Ye=je.value,Pe=!1,Ge=je.alias;Ge&&(Ke=Ge[0],ke(ze,ve([0,1],Ge)));for(var it=1,Je=!0;it<ze.length;it+=1){var He=ze[it],Qe=Se(He,0,1),ut=Se(He,-1);if((Qe==='"'||Qe==="'"||Qe==="`"||ut==='"'||ut==="'"||ut==="`")&&Qe!==ut)throw new D("property names with quotes must have matching quotes");if(He!=="constructor"&&Je||(Pe=!0),pe(fe,$e="%"+(Ke+="."+He)+"%"))Ye=fe[$e];else if(Ye!=null){if(!(He in Ye)){if(!Ce)throw new q("base intrinsic for "+Be+" exists, but the property is not available.");return}if(re&&it+1>=ze.length){var dt=re(Ye,He);Ye=(Je=!!dt)&&"get"in dt&&!("originalValue"in dt.get)?dt.get:Ye[He]}else Je=pe(Ye,He),Ye=Ye[He];Je&&!Pe&&(fe[$e]=Ye)}}return Ye}},{"function-bind":38,has:44,"has-symbols":41}],40:[function(d,m,g){var w=d("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if(w)try{w([],"length")}catch{w=null}m.exports=w},{"get-intrinsic":39}],41:[function(d,m,g){var w=typeof Symbol<"u"&&Symbol,D=d("./shams");m.exports=function(){return typeof w=="function"&&typeof Symbol=="function"&&typeof w("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&D()}},{"./shams":42}],42:[function(d,m,g){m.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var w={},D=Symbol("test"),H=Object(D);if(typeof D=="string"||Object.prototype.toString.call(D)!=="[object Symbol]"||Object.prototype.toString.call(H)!=="[object Symbol]")return!1;var q=42;for(D in w[D]=q,w)return!1;if(typeof Object.keys=="function"&&Object.keys(w).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(w).length!==0)return!1;var te=Object.getOwnPropertySymbols(w);if(te.length!==1||te[0]!==D||!Object.prototype.propertyIsEnumerable.call(w,D))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var re=Object.getOwnPropertyDescriptor(w,D);if(re.value!==q||re.enumerable!==!0)return!1}return!0}},{}],43:[function(d,m,g){var w=d("has-symbols/shams");m.exports=function(){return w()&&!!Symbol.toStringTag}},{"has-symbols/shams":42}],44:[function(d,m,g){var w=d("function-bind");m.exports=w.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":38}],45:[function(d,m,g){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g.read=function(w,D,H,q,te){var re,ne,ie=8*te-q-1,ae=(1<<ie)-1,se=ae>>1,le=-7,ue=H?te-1:0,fe=H?-1:1,de=w[D+ue];for(ue+=fe,re=de&(1<<-le)-1,de>>=-le,le+=ie;le>0;re=256*re+w[D+ue],ue+=fe,le-=8);for(ne=re&(1<<-le)-1,re>>=-le,le+=q;le>0;ne=256*ne+w[D+ue],ue+=fe,le-=8);if(re===0)re=1-se;else{if(re===ae)return ne?NaN:1/0*(de?-1:1);ne+=Math.pow(2,q),re-=se}return(de?-1:1)*ne*Math.pow(2,re-q)},g.write=function(w,D,H,q,te,re){var ne,ie,ae,se=8*re-te-1,le=(1<<se)-1,ue=le>>1,fe=te===23?Math.pow(2,-24)-Math.pow(2,-77):0,de=q?0:re-1,me=q?1:-1,ge=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(ie=isNaN(D)?1:0,ne=le):(ne=Math.floor(Math.log(D)/Math.LN2),D*(ae=Math.pow(2,-ne))<1&&(ne--,ae*=2),(D+=ne+ue>=1?fe/ae:fe*Math.pow(2,1-ue))*ae>=2&&(ne++,ae/=2),ne+ue>=le?(ie=0,ne=le):ne+ue>=1?(ie=(D*ae-1)*Math.pow(2,te),ne+=ue):(ie=D*Math.pow(2,ue-1)*Math.pow(2,te),ne=0));te>=8;w[H+de]=255&ie,de+=me,ie/=256,te-=8);for(ne=ne<<te|ie,se+=te;se>0;w[H+de]=255&ne,de+=me,ne/=256,se-=8);w[H+de-me]|=128*ge}},{}],46:[function(d,m,g){typeof Object.create=="function"?m.exports=function(w,D){D&&(w.super_=D,w.prototype=Object.create(D.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:m.exports=function(w,D){if(D){w.super_=D;var H=function(){};H.prototype=D.prototype,w.prototype=new H,w.prototype.constructor=w}}},{}],47:[function(d,m,g){var w=d("has-tostringtag/shams")(),D=d("call-bind/callBound")("Object.prototype.toString"),H=function(re){return!(w&&re&&typeof re=="object"&&Symbol.toStringTag in re)&&D(re)==="[object Arguments]"},q=function(re){return!!H(re)||re!==null&&typeof re=="object"&&typeof re.length=="number"&&re.length>=0&&D(re)!=="[object Array]"&&D(re.callee)==="[object Function]"},te=function(){return H(arguments)}();H.isLegacyArguments=q,m.exports=te?H:q},{"call-bind/callBound":33,"has-tostringtag/shams":43}],48:[function(d,m,g){var w,D,H=Function.prototype.toString,q=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof q=="function"&&typeof Object.defineProperty=="function")try{w=Object.defineProperty({},"length",{get:function(){throw D}}),D={},q(function(){throw 42},null,w)}catch(ve){ve!==D&&(q=null)}else q=null;var te=/^\s*class\b/,re=function(ve){try{var ke=H.call(ve);return te.test(ke)}catch{return!1}},ne=function(ve){try{return!re(ve)&&(H.call(ve),!0)}catch{return!1}},ie=Object.prototype.toString,ae="[object Object]",se="[object Function]",le="[object GeneratorFunction]",ue="[object HTMLAllCollection]",fe="[object HTML document.all class]",de="[object HTMLCollection]",me=typeof Symbol=="function"&&!!Symbol.toStringTag,ge=!(0 in[,]),he=function(){return!1};if(typeof document=="object"){var pe=document.all;ie.call(pe)===ie.call(document.all)&&(he=function(ve){if((ge||!ve)&&(ve===void 0||typeof ve=="object"))try{var ke=ie.call(ve);return(ke===ue||ke===fe||ke===de||ke===ae)&&ve("")==null}catch{}return!1})}m.exports=q?function(ve){if(he(ve))return!0;if(!ve||typeof ve!="function"&&typeof ve!="object")return!1;try{q(ve,null,w)}catch(ke){if(ke!==D)return!1}return!re(ve)&&ne(ve)}:function(ve){if(he(ve))return!0;if(!ve||typeof ve!="function"&&typeof ve!="object")return!1;if(me)return ne(ve);if(re(ve))return!1;var ke=ie.call(ve);return!(ke!==se&&ke!==le&&!/^\[object HTML/.test(ke))&&ne(ve)}},{}],49:[function(d,m,g){var w,D=Object.prototype.toString,H=Function.prototype.toString,q=/^\s*(?:function)?\*/,te=d("has-tostringtag/shams")(),re=Object.getPrototypeOf,ne=function(){if(!te)return!1;try{return Function("return function*() {}")()}catch{}};m.exports=function(ie){if(typeof ie!="function")return!1;if(q.test(H.call(ie)))return!0;if(!te)return D.call(ie)==="[object GeneratorFunction]";if(!re)return!1;if(w===void 0){var ae=ne();w=!!ae&&re(ae)}return re(ie)===w}},{"has-tostringtag/shams":43}],50:[function(d,m,g){(function(w){(function(){var D=d("for-each"),H=d("available-typed-arrays"),q=d("call-bind/callBound"),te=q("Object.prototype.toString"),re=d("has-tostringtag/shams")(),ne=d("gopd"),ie=typeof globalThis>"u"?w:globalThis,ae=H(),se=q("Array.prototype.indexOf",!0)||function(me,ge){for(var he=0;he<me.length;he+=1)if(me[he]===ge)return he;return-1},le=q("String.prototype.slice"),ue={},fe=Object.getPrototypeOf;re&&ne&&fe&&D(ae,function(me){var ge=new ie[me];if(Symbol.toStringTag in ge){var he=fe(ge),pe=ne(he,Symbol.toStringTag);if(!pe){var ve=fe(he);pe=ne(ve,Symbol.toStringTag)}ue[me]=pe.get}});var de=function(me){var ge=!1;return D(ue,function(he,pe){if(!ge)try{ge=he.call(me)===pe}catch{}}),ge};m.exports=function(me){if(!me||typeof me!="object")return!1;if(!re||!(Symbol.toStringTag in me)){var ge=le(te(me),8,-1);return se(ae,ge)>-1}return!!ne&&de(me)}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43}],51:[function(d,m,g){var w=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;function q(re){if(re==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(re)}function te(){try{if(!Object.assign)return!1;var re=new String("abc");if(re[5]="de",Object.getOwnPropertyNames(re)[0]==="5")return!1;for(var ne={},ie=0;ie<10;ie++)ne["_"+String.fromCharCode(ie)]=ie;var ae=Object.getOwnPropertyNames(ne).map(function(le){return ne[le]});if(ae.join("")!=="0123456789")return!1;var se={};return"abcdefghijklmnopqrst".split("").forEach(function(le){se[le]=le}),Object.keys(Object.assign({},se)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}m.exports=te()?Object.assign:function(re,ne){for(var ie,ae,se=q(re),le=1;le<arguments.length;le++){for(var ue in ie=Object(arguments[le]))D.call(ie,ue)&&(se[ue]=ie[ue]);if(w){ae=w(ie);for(var fe=0;fe<ae.length;fe++)H.call(ie,ae[fe])&&(se[ae[fe]]=ie[ae[fe]])}}return se}},{}],52:[function(d,m,g){var w=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function D(te,re){return Object.prototype.hasOwnProperty.call(te,re)}g.assign=function(te){for(var re=Array.prototype.slice.call(arguments,1);re.length;){var ne=re.shift();if(ne){if(typeof ne!="object")throw new TypeError(ne+"must be non-object");for(var ie in ne)D(ne,ie)&&(te[ie]=ne[ie])}}return te},g.shrinkBuf=function(te,re){return te.length===re?te:te.subarray?te.subarray(0,re):(te.length=re,te)};var H={arraySet:function(te,re,ne,ie,ae){if(re.subarray&&te.subarray)te.set(re.subarray(ne,ne+ie),ae);else for(var se=0;se<ie;se++)te[ae+se]=re[ne+se]},flattenChunks:function(te){var re,ne,ie,ae,se,le;for(ie=0,re=0,ne=te.length;re<ne;re++)ie+=te[re].length;for(le=new Uint8Array(ie),ae=0,re=0,ne=te.length;re<ne;re++)se=te[re],le.set(se,ae),ae+=se.length;return le}},q={arraySet:function(te,re,ne,ie,ae){for(var se=0;se<ie;se++)te[ae+se]=re[ne+se]},flattenChunks:function(te){return[].concat.apply([],te)}};g.setTyped=function(te){te?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,H)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,q))},g.setTyped(w)},{}],53:[function(d,m,g){function w(D,H,q,te){for(var re=65535&D,ne=D>>>16&65535,ie=0;q!==0;){q-=ie=q>2e3?2e3:q;do ne=ne+(re=re+H[te++]|0)|0;while(--ie);re%=65521,ne%=65521}return re|ne<<16}m.exports=w},{}],54:[function(d,m,g){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],55:[function(d,m,g){function w(){for(var q,te=[],re=0;re<256;re++){q=re;for(var ne=0;ne<8;ne++)q=1&q?3988292384^q>>>1:q>>>1;te[re]=q}return te}var D=w();function H(q,te,re,ne){var ie=D,ae=ne+re;q^=-1;for(var se=ne;se<ae;se++)q=q>>>8^ie[255&(q^te[se])];return~q}m.exports=H},{}],56:[function(d,m,g){var w,D=d("../utils/common"),H=d("./trees"),q=d("./adler32"),te=d("./crc32"),re=d("./messages"),ne=0,ie=1,ae=3,se=4,le=5,ue=0,fe=1,de=-2,me=-3,ge=-5,he=-1,pe=1,ve=2,ke=3,be=4,Se=0,Ee=2,Ie=8,_e=9,Te=15,Le=8,Be=286,Ce=30,ze=19,Ke=2*Be+1,je=15,$e=3,Ye=258,Pe=Ye+$e+1,Ge=32,it=42,Je=69,He=73,Qe=91,ut=103,dt=113,kt=666,Xe=1,we=2,qe=3,Ne=4,Fe=3;function Oe(Me,Zt){return Me.msg=re[Zt],Zt}function Ze(Me){return(Me<<1)-(Me>4?9:0)}function et(Me){for(var Zt=Me.length;--Zt>=0;)Me[Zt]=0}function ye(Me){var Zt=Me.state,zt=Zt.pending;zt>Me.avail_out&&(zt=Me.avail_out),zt!==0&&(D.arraySet(Me.output,Zt.pending_buf,Zt.pending_out,zt,Me.next_out),Me.next_out+=zt,Zt.pending_out+=zt,Me.total_out+=zt,Me.avail_out-=zt,Zt.pending-=zt,Zt.pending===0&&(Zt.pending_out=0))}function Ae(Me,Zt){H._tr_flush_block(Me,Me.block_start>=0?Me.block_start:-1,Me.strstart-Me.block_start,Zt),Me.block_start=Me.strstart,ye(Me.strm)}function De(Me,Zt){Me.pending_buf[Me.pending++]=Zt}function Ue(Me,Zt){Me.pending_buf[Me.pending++]=Zt>>>8&255,Me.pending_buf[Me.pending++]=255&Zt}function St(Me,Zt,zt,ft){var $t=Me.avail_in;return $t>ft&&($t=ft),$t===0?0:(Me.avail_in-=$t,D.arraySet(Zt,Me.input,Me.next_in,$t,zt),Me.state.wrap===1?Me.adler=q(Me.adler,Zt,$t,zt):Me.state.wrap===2&&(Me.adler=te(Me.adler,Zt,$t,zt)),Me.next_in+=$t,Me.total_in+=$t,$t)}function Bt(Me,Zt){var zt,ft,$t=Me.max_chain_length,jt=Me.strstart,_r=Me.prev_length,cr=Me.nice_match,pr=Me.strstart>Me.w_size-Pe?Me.strstart-(Me.w_size-Pe):0,Ir=Me.window,Xr=Me.w_mask,Mr=Me.prev,Nr=Me.strstart+Ye,Br=Ir[jt+_r-1],Or=Ir[jt+_r];Me.prev_length>=Me.good_match&&($t>>=2),cr>Me.lookahead&&(cr=Me.lookahead);do if(Ir[(zt=Zt)+_r]===Or&&Ir[zt+_r-1]===Br&&Ir[zt]===Ir[jt]&&Ir[++zt]===Ir[jt+1]){jt+=2,zt++;do;while(Ir[++jt]===Ir[++zt]&&Ir[++jt]===Ir[++zt]&&Ir[++jt]===Ir[++zt]&&Ir[++jt]===Ir[++zt]&&Ir[++jt]===Ir[++zt]&&Ir[++jt]===Ir[++zt]&&Ir[++jt]===Ir[++zt]&&Ir[++jt]===Ir[++zt]&&jt<Nr);if(ft=Ye-(Nr-jt),jt=Nr-Ye,ft>_r){if(Me.match_start=Zt,_r=ft,ft>=cr)break;Br=Ir[jt+_r-1],Or=Ir[jt+_r]}}while((Zt=Mr[Zt&Xr])>pr&&--$t!=0);return _r<=Me.lookahead?_r:Me.lookahead}function tr(Me){var Zt,zt,ft,$t,jt,_r=Me.w_size;do{if($t=Me.window_size-Me.lookahead-Me.strstart,Me.strstart>=_r+(_r-Pe)){D.arraySet(Me.window,Me.window,_r,_r,0),Me.match_start-=_r,Me.strstart-=_r,Me.block_start-=_r,Zt=zt=Me.hash_size;do ft=Me.head[--Zt],Me.head[Zt]=ft>=_r?ft-_r:0;while(--zt);Zt=zt=_r;do ft=Me.prev[--Zt],Me.prev[Zt]=ft>=_r?ft-_r:0;while(--zt);$t+=_r}if(Me.strm.avail_in===0)break;if(zt=St(Me.strm,Me.window,Me.strstart+Me.lookahead,$t),Me.lookahead+=zt,Me.lookahead+Me.insert>=$e)for(jt=Me.strstart-Me.insert,Me.ins_h=Me.window[jt],Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[jt+1])&Me.hash_mask;Me.insert&&(Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[jt+$e-1])&Me.hash_mask,Me.prev[jt&Me.w_mask]=Me.head[Me.ins_h],Me.head[Me.ins_h]=jt,jt++,Me.insert--,!(Me.lookahead+Me.insert<$e)););}while(Me.lookahead<Pe&&Me.strm.avail_in!==0)}function ir(Me,Zt){var zt=65535;for(zt>Me.pending_buf_size-5&&(zt=Me.pending_buf_size-5);;){if(Me.lookahead<=1){if(tr(Me),Me.lookahead===0&&Zt===ne)return Xe;if(Me.lookahead===0)break}Me.strstart+=Me.lookahead,Me.lookahead=0;var ft=Me.block_start+zt;if((Me.strstart===0||Me.strstart>=ft)&&(Me.lookahead=Me.strstart-ft,Me.strstart=ft,Ae(Me,!1),Me.strm.avail_out===0)||Me.strstart-Me.block_start>=Me.w_size-Pe&&(Ae(Me,!1),Me.strm.avail_out===0))return Xe}return Me.insert=0,Zt===se?(Ae(Me,!0),Me.strm.avail_out===0?qe:Ne):(Me.strstart>Me.block_start&&(Ae(Me,!1),Me.strm.avail_out),Xe)}function Kt(Me,Zt){for(var zt,ft;;){if(Me.lookahead<Pe){if(tr(Me),Me.lookahead<Pe&&Zt===ne)return Xe;if(Me.lookahead===0)break}if(zt=0,Me.lookahead>=$e&&(Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[Me.strstart+$e-1])&Me.hash_mask,zt=Me.prev[Me.strstart&Me.w_mask]=Me.head[Me.ins_h],Me.head[Me.ins_h]=Me.strstart),zt!==0&&Me.strstart-zt<=Me.w_size-Pe&&(Me.match_length=Bt(Me,zt)),Me.match_length>=$e)if(ft=H._tr_tally(Me,Me.strstart-Me.match_start,Me.match_length-$e),Me.lookahead-=Me.match_length,Me.match_length<=Me.max_lazy_match&&Me.lookahead>=$e){Me.match_length--;do Me.strstart++,Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[Me.strstart+$e-1])&Me.hash_mask,zt=Me.prev[Me.strstart&Me.w_mask]=Me.head[Me.ins_h],Me.head[Me.ins_h]=Me.strstart;while(--Me.match_length!=0);Me.strstart++}else Me.strstart+=Me.match_length,Me.match_length=0,Me.ins_h=Me.window[Me.strstart],Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[Me.strstart+1])&Me.hash_mask;else ft=H._tr_tally(Me,0,Me.window[Me.strstart]),Me.lookahead--,Me.strstart++;if(ft&&(Ae(Me,!1),Me.strm.avail_out===0))return Xe}return Me.insert=Me.strstart<$e-1?Me.strstart:$e-1,Zt===se?(Ae(Me,!0),Me.strm.avail_out===0?qe:Ne):Me.last_lit&&(Ae(Me,!1),Me.strm.avail_out===0)?Xe:we}function ar(Me,Zt){for(var zt,ft,$t;;){if(Me.lookahead<Pe){if(tr(Me),Me.lookahead<Pe&&Zt===ne)return Xe;if(Me.lookahead===0)break}if(zt=0,Me.lookahead>=$e&&(Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[Me.strstart+$e-1])&Me.hash_mask,zt=Me.prev[Me.strstart&Me.w_mask]=Me.head[Me.ins_h],Me.head[Me.ins_h]=Me.strstart),Me.prev_length=Me.match_length,Me.prev_match=Me.match_start,Me.match_length=$e-1,zt!==0&&Me.prev_length<Me.max_lazy_match&&Me.strstart-zt<=Me.w_size-Pe&&(Me.match_length=Bt(Me,zt),Me.match_length<=5&&(Me.strategy===pe||Me.match_length===$e&&Me.strstart-Me.match_start>4096)&&(Me.match_length=$e-1)),Me.prev_length>=$e&&Me.match_length<=Me.prev_length){$t=Me.strstart+Me.lookahead-$e,ft=H._tr_tally(Me,Me.strstart-1-Me.prev_match,Me.prev_length-$e),Me.lookahead-=Me.prev_length-1,Me.prev_length-=2;do++Me.strstart<=$t&&(Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[Me.strstart+$e-1])&Me.hash_mask,zt=Me.prev[Me.strstart&Me.w_mask]=Me.head[Me.ins_h],Me.head[Me.ins_h]=Me.strstart);while(--Me.prev_length!=0);if(Me.match_available=0,Me.match_length=$e-1,Me.strstart++,ft&&(Ae(Me,!1),Me.strm.avail_out===0))return Xe}else if(Me.match_available){if((ft=H._tr_tally(Me,0,Me.window[Me.strstart-1]))&&Ae(Me,!1),Me.strstart++,Me.lookahead--,Me.strm.avail_out===0)return Xe}else Me.match_available=1,Me.strstart++,Me.lookahead--}return Me.match_available&&(ft=H._tr_tally(Me,0,Me.window[Me.strstart-1]),Me.match_available=0),Me.insert=Me.strstart<$e-1?Me.strstart:$e-1,Zt===se?(Ae(Me,!0),Me.strm.avail_out===0?qe:Ne):Me.last_lit&&(Ae(Me,!1),Me.strm.avail_out===0)?Xe:we}function rr(Me,Zt){for(var zt,ft,$t,jt,_r=Me.window;;){if(Me.lookahead<=Ye){if(tr(Me),Me.lookahead<=Ye&&Zt===ne)return Xe;if(Me.lookahead===0)break}if(Me.match_length=0,Me.lookahead>=$e&&Me.strstart>0&&(ft=_r[$t=Me.strstart-1])===_r[++$t]&&ft===_r[++$t]&&ft===_r[++$t]){jt=Me.strstart+Ye;do;while(ft===_r[++$t]&&ft===_r[++$t]&&ft===_r[++$t]&&ft===_r[++$t]&&ft===_r[++$t]&&ft===_r[++$t]&&ft===_r[++$t]&&ft===_r[++$t]&&$t<jt);Me.match_length=Ye-(jt-$t),Me.match_length>Me.lookahead&&(Me.match_length=Me.lookahead)}if(Me.match_length>=$e?(zt=H._tr_tally(Me,1,Me.match_length-$e),Me.lookahead-=Me.match_length,Me.strstart+=Me.match_length,Me.match_length=0):(zt=H._tr_tally(Me,0,Me.window[Me.strstart]),Me.lookahead--,Me.strstart++),zt&&(Ae(Me,!1),Me.strm.avail_out===0))return Xe}return Me.insert=0,Zt===se?(Ae(Me,!0),Me.strm.avail_out===0?qe:Ne):Me.last_lit&&(Ae(Me,!1),Me.strm.avail_out===0)?Xe:we}function gr(Me,Zt){for(var zt;;){if(Me.lookahead===0&&(tr(Me),Me.lookahead===0)){if(Zt===ne)return Xe;break}if(Me.match_length=0,zt=H._tr_tally(Me,0,Me.window[Me.strstart]),Me.lookahead--,Me.strstart++,zt&&(Ae(Me,!1),Me.strm.avail_out===0))return Xe}return Me.insert=0,Zt===se?(Ae(Me,!0),Me.strm.avail_out===0?qe:Ne):Me.last_lit&&(Ae(Me,!1),Me.strm.avail_out===0)?Xe:we}function dr(Me,Zt,zt,ft,$t){this.good_length=Me,this.max_lazy=Zt,this.nice_length=zt,this.max_chain=ft,this.func=$t}function hr(Me){Me.window_size=2*Me.w_size,et(Me.head),Me.max_lazy_match=w[Me.level].max_lazy,Me.good_match=w[Me.level].good_length,Me.nice_match=w[Me.level].nice_length,Me.max_chain_length=w[Me.level].max_chain,Me.strstart=0,Me.block_start=0,Me.lookahead=0,Me.insert=0,Me.match_length=Me.prev_length=$e-1,Me.match_available=0,Me.ins_h=0}function kr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ie,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new D.Buf16(2*Ke),this.dyn_dtree=new D.Buf16(2*(2*Ce+1)),this.bl_tree=new D.Buf16(2*(2*ze+1)),et(this.dyn_ltree),et(this.dyn_dtree),et(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new D.Buf16(je+1),this.heap=new D.Buf16(2*Be+1),et(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new D.Buf16(2*Be+1),et(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function fr(Me){var Zt;return Me&&Me.state?(Me.total_in=Me.total_out=0,Me.data_type=Ee,(Zt=Me.state).pending=0,Zt.pending_out=0,Zt.wrap<0&&(Zt.wrap=-Zt.wrap),Zt.status=Zt.wrap?it:dt,Me.adler=Zt.wrap===2?0:1,Zt.last_flush=ne,H._tr_init(Zt),ue):Oe(Me,de)}function ot(Me){var Zt=fr(Me);return Zt===ue&&hr(Me.state),Zt}function nr(Me,Zt){return Me&&Me.state?Me.state.wrap!==2?de:(Me.state.gzhead=Zt,ue):de}function Tt(Me,Zt,zt,ft,$t,jt){if(!Me)return de;var _r=1;if(Zt===he&&(Zt=6),ft<0?(_r=0,ft=-ft):ft>15&&(_r=2,ft-=16),$t<1||$t>_e||zt!==Ie||ft<8||ft>15||Zt<0||Zt>9||jt<0||jt>be)return Oe(Me,de);ft===8&&(ft=9);var cr=new kr;return Me.state=cr,cr.strm=Me,cr.wrap=_r,cr.gzhead=null,cr.w_bits=ft,cr.w_size=1<<cr.w_bits,cr.w_mask=cr.w_size-1,cr.hash_bits=$t+7,cr.hash_size=1<<cr.hash_bits,cr.hash_mask=cr.hash_size-1,cr.hash_shift=~~((cr.hash_bits+$e-1)/$e),cr.window=new D.Buf8(2*cr.w_size),cr.head=new D.Buf16(cr.hash_size),cr.prev=new D.Buf16(cr.w_size),cr.lit_bufsize=1<<$t+6,cr.pending_buf_size=4*cr.lit_bufsize,cr.pending_buf=new D.Buf8(cr.pending_buf_size),cr.d_buf=1*cr.lit_bufsize,cr.l_buf=3*cr.lit_bufsize,cr.level=Zt,cr.strategy=jt,cr.method=zt,ot(Me)}function Ut(Me,Zt){return Tt(Me,Zt,Ie,Te,Le,Se)}function We(Me,Zt){var zt,ft,$t,jt;if(!Me||!Me.state||Zt>le||Zt<0)return Me?Oe(Me,de):de;if(ft=Me.state,!Me.output||!Me.input&&Me.avail_in!==0||ft.status===kt&&Zt!==se)return Oe(Me,Me.avail_out===0?ge:de);if(ft.strm=Me,zt=ft.last_flush,ft.last_flush=Zt,ft.status===it)if(ft.wrap===2)Me.adler=0,De(ft,31),De(ft,139),De(ft,8),ft.gzhead?(De(ft,(ft.gzhead.text?1:0)+(ft.gzhead.hcrc?2:0)+(ft.gzhead.extra?4:0)+(ft.gzhead.name?8:0)+(ft.gzhead.comment?16:0)),De(ft,255&ft.gzhead.time),De(ft,ft.gzhead.time>>8&255),De(ft,ft.gzhead.time>>16&255),De(ft,ft.gzhead.time>>24&255),De(ft,ft.level===9?2:ft.strategy>=ve||ft.level<2?4:0),De(ft,255&ft.gzhead.os),ft.gzhead.extra&&ft.gzhead.extra.length&&(De(ft,255&ft.gzhead.extra.length),De(ft,ft.gzhead.extra.length>>8&255)),ft.gzhead.hcrc&&(Me.adler=te(Me.adler,ft.pending_buf,ft.pending,0)),ft.gzindex=0,ft.status=Je):(De(ft,0),De(ft,0),De(ft,0),De(ft,0),De(ft,0),De(ft,ft.level===9?2:ft.strategy>=ve||ft.level<2?4:0),De(ft,Fe),ft.status=dt);else{var _r=Ie+(ft.w_bits-8<<4)<<8;_r|=(ft.strategy>=ve||ft.level<2?0:ft.level<6?1:ft.level===6?2:3)<<6,ft.strstart!==0&&(_r|=Ge),_r+=31-_r%31,ft.status=dt,Ue(ft,_r),ft.strstart!==0&&(Ue(ft,Me.adler>>>16),Ue(ft,65535&Me.adler)),Me.adler=1}if(ft.status===Je)if(ft.gzhead.extra){for($t=ft.pending;ft.gzindex<(65535&ft.gzhead.extra.length)&&(ft.pending!==ft.pending_buf_size||(ft.gzhead.hcrc&&ft.pending>$t&&(Me.adler=te(Me.adler,ft.pending_buf,ft.pending-$t,$t)),ye(Me),$t=ft.pending,ft.pending!==ft.pending_buf_size));)De(ft,255&ft.gzhead.extra[ft.gzindex]),ft.gzindex++;ft.gzhead.hcrc&&ft.pending>$t&&(Me.adler=te(Me.adler,ft.pending_buf,ft.pending-$t,$t)),ft.gzindex===ft.gzhead.extra.length&&(ft.gzindex=0,ft.status=He)}else ft.status=He;if(ft.status===He)if(ft.gzhead.name){$t=ft.pending;do{if(ft.pending===ft.pending_buf_size&&(ft.gzhead.hcrc&&ft.pending>$t&&(Me.adler=te(Me.adler,ft.pending_buf,ft.pending-$t,$t)),ye(Me),$t=ft.pending,ft.pending===ft.pending_buf_size)){jt=1;break}jt=ft.gzindex<ft.gzhead.name.length?255&ft.gzhead.name.charCodeAt(ft.gzindex++):0,De(ft,jt)}while(jt!==0);ft.gzhead.hcrc&&ft.pending>$t&&(Me.adler=te(Me.adler,ft.pending_buf,ft.pending-$t,$t)),jt===0&&(ft.gzindex=0,ft.status=Qe)}else ft.status=Qe;if(ft.status===Qe)if(ft.gzhead.comment){$t=ft.pending;do{if(ft.pending===ft.pending_buf_size&&(ft.gzhead.hcrc&&ft.pending>$t&&(Me.adler=te(Me.adler,ft.pending_buf,ft.pending-$t,$t)),ye(Me),$t=ft.pending,ft.pending===ft.pending_buf_size)){jt=1;break}jt=ft.gzindex<ft.gzhead.comment.length?255&ft.gzhead.comment.charCodeAt(ft.gzindex++):0,De(ft,jt)}while(jt!==0);ft.gzhead.hcrc&&ft.pending>$t&&(Me.adler=te(Me.adler,ft.pending_buf,ft.pending-$t,$t)),jt===0&&(ft.status=ut)}else ft.status=ut;if(ft.status===ut&&(ft.gzhead.hcrc?(ft.pending+2>ft.pending_buf_size&&ye(Me),ft.pending+2<=ft.pending_buf_size&&(De(ft,255&Me.adler),De(ft,Me.adler>>8&255),Me.adler=0,ft.status=dt)):ft.status=dt),ft.pending!==0){if(ye(Me),Me.avail_out===0)return ft.last_flush=-1,ue}else if(Me.avail_in===0&&Ze(Zt)<=Ze(zt)&&Zt!==se)return Oe(Me,ge);if(ft.status===kt&&Me.avail_in!==0)return Oe(Me,ge);if(Me.avail_in!==0||ft.lookahead!==0||Zt!==ne&&ft.status!==kt){var cr=ft.strategy===ve?gr(ft,Zt):ft.strategy===ke?rr(ft,Zt):w[ft.level].func(ft,Zt);if(cr!==qe&&cr!==Ne||(ft.status=kt),cr===Xe||cr===qe)return Me.avail_out===0&&(ft.last_flush=-1),ue;if(cr===we&&(Zt===ie?H._tr_align(ft):Zt!==le&&(H._tr_stored_block(ft,0,0,!1),Zt===ae&&(et(ft.head),ft.lookahead===0&&(ft.strstart=0,ft.block_start=0,ft.insert=0))),ye(Me),Me.avail_out===0))return ft.last_flush=-1,ue}return Zt!==se?ue:ft.wrap<=0?fe:(ft.wrap===2?(De(ft,255&Me.adler),De(ft,Me.adler>>8&255),De(ft,Me.adler>>16&255),De(ft,Me.adler>>24&255),De(ft,255&Me.total_in),De(ft,Me.total_in>>8&255),De(ft,Me.total_in>>16&255),De(ft,Me.total_in>>24&255)):(Ue(ft,Me.adler>>>16),Ue(ft,65535&Me.adler)),ye(Me),ft.wrap>0&&(ft.wrap=-ft.wrap),ft.pending!==0?ue:fe)}function er(Me){var Zt;return Me&&Me.state?(Zt=Me.state.status)!==it&&Zt!==Je&&Zt!==He&&Zt!==Qe&&Zt!==ut&&Zt!==dt&&Zt!==kt?Oe(Me,de):(Me.state=null,Zt===dt?Oe(Me,me):ue):de}function br(Me,Zt){var zt,ft,$t,jt,_r,cr,pr,Ir,Xr=Zt.length;if(!Me||!Me.state||(jt=(zt=Me.state).wrap)===2||jt===1&&zt.status!==it||zt.lookahead)return de;for(jt===1&&(Me.adler=q(Me.adler,Zt,Xr,0)),zt.wrap=0,Xr>=zt.w_size&&(jt===0&&(et(zt.head),zt.strstart=0,zt.block_start=0,zt.insert=0),Ir=new D.Buf8(zt.w_size),D.arraySet(Ir,Zt,Xr-zt.w_size,zt.w_size,0),Zt=Ir,Xr=zt.w_size),_r=Me.avail_in,cr=Me.next_in,pr=Me.input,Me.avail_in=Xr,Me.next_in=0,Me.input=Zt,tr(zt);zt.lookahead>=$e;){ft=zt.strstart,$t=zt.lookahead-($e-1);do zt.ins_h=(zt.ins_h<<zt.hash_shift^zt.window[ft+$e-1])&zt.hash_mask,zt.prev[ft&zt.w_mask]=zt.head[zt.ins_h],zt.head[zt.ins_h]=ft,ft++;while(--$t);zt.strstart=ft,zt.lookahead=$e-1,tr(zt)}return zt.strstart+=zt.lookahead,zt.block_start=zt.strstart,zt.insert=zt.lookahead,zt.lookahead=0,zt.match_length=zt.prev_length=$e-1,zt.match_available=0,Me.next_in=cr,Me.input=pr,Me.avail_in=_r,zt.wrap=jt,ue}w=[new dr(0,0,0,0,ir),new dr(4,4,8,4,Kt),new dr(4,5,16,8,Kt),new dr(4,6,32,32,Kt),new dr(4,4,16,16,ar),new dr(8,16,32,32,ar),new dr(8,16,128,128,ar),new dr(8,32,128,256,ar),new dr(32,128,258,1024,ar),new dr(32,258,258,4096,ar)],g.deflateInit=Ut,g.deflateInit2=Tt,g.deflateReset=ot,g.deflateResetKeep=fr,g.deflateSetHeader=nr,g.deflate=We,g.deflateEnd=er,g.deflateSetDictionary=br,g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./messages":60,"./trees":61}],57:[function(d,m,g){var w=30,D=12;m.exports=function(H,q){var te,re,ne,ie,ae,se,le,ue,fe,de,me,ge,he,pe,ve,ke,be,Se,Ee,Ie,_e,Te,Le,Be,Ce;te=H.state,re=H.next_in,Be=H.input,ne=re+(H.avail_in-5),ie=H.next_out,Ce=H.output,ae=ie-(q-H.avail_out),se=ie+(H.avail_out-257),le=te.dmax,ue=te.wsize,fe=te.whave,de=te.wnext,me=te.window,ge=te.hold,he=te.bits,pe=te.lencode,ve=te.distcode,ke=(1<<te.lenbits)-1,be=(1<<te.distbits)-1;e:do{he<15&&(ge+=Be[re++]<<he,he+=8,ge+=Be[re++]<<he,he+=8),Se=pe[ge&ke];t:for(;;){if(ge>>>=Ee=Se>>>24,he-=Ee,(Ee=Se>>>16&255)==0)Ce[ie++]=65535&Se;else{if(!(16&Ee)){if(64&Ee){if(32&Ee){te.mode=D;break e}H.msg="invalid literal/length code",te.mode=w;break e}Se=pe[(65535&Se)+(ge&(1<<Ee)-1)];continue t}for(Ie=65535&Se,(Ee&=15)&&(he<Ee&&(ge+=Be[re++]<<he,he+=8),Ie+=ge&(1<<Ee)-1,ge>>>=Ee,he-=Ee),he<15&&(ge+=Be[re++]<<he,he+=8,ge+=Be[re++]<<he,he+=8),Se=ve[ge&be];;){if(ge>>>=Ee=Se>>>24,he-=Ee,16&(Ee=Se>>>16&255)){if(_e=65535&Se,he<(Ee&=15)&&(ge+=Be[re++]<<he,(he+=8)<Ee&&(ge+=Be[re++]<<he,he+=8)),(_e+=ge&(1<<Ee)-1)>le){H.msg="invalid distance too far back",te.mode=w;break e}if(ge>>>=Ee,he-=Ee,_e>(Ee=ie-ae)){if((Ee=_e-Ee)>fe&&te.sane){H.msg="invalid distance too far back",te.mode=w;break e}if(Te=0,Le=me,de===0){if(Te+=ue-Ee,Ee<Ie){Ie-=Ee;do Ce[ie++]=me[Te++];while(--Ee);Te=ie-_e,Le=Ce}}else if(de<Ee){if(Te+=ue+de-Ee,(Ee-=de)<Ie){Ie-=Ee;do Ce[ie++]=me[Te++];while(--Ee);if(Te=0,de<Ie){Ie-=Ee=de;do Ce[ie++]=me[Te++];while(--Ee);Te=ie-_e,Le=Ce}}}else if(Te+=de-Ee,Ee<Ie){Ie-=Ee;do Ce[ie++]=me[Te++];while(--Ee);Te=ie-_e,Le=Ce}for(;Ie>2;)Ce[ie++]=Le[Te++],Ce[ie++]=Le[Te++],Ce[ie++]=Le[Te++],Ie-=3;Ie&&(Ce[ie++]=Le[Te++],Ie>1&&(Ce[ie++]=Le[Te++]))}else{Te=ie-_e;do Ce[ie++]=Ce[Te++],Ce[ie++]=Ce[Te++],Ce[ie++]=Ce[Te++],Ie-=3;while(Ie>2);Ie&&(Ce[ie++]=Ce[Te++],Ie>1&&(Ce[ie++]=Ce[Te++]))}break}if(64&Ee){H.msg="invalid distance code",te.mode=w;break e}Se=ve[(65535&Se)+(ge&(1<<Ee)-1)]}}break}}while(re<ne&&ie<se);re-=Ie=he>>3,ge&=(1<<(he-=Ie<<3))-1,H.next_in=re,H.next_out=ie,H.avail_in=re<ne?ne-re+5:5-(re-ne),H.avail_out=ie<se?se-ie+257:257-(ie-se),te.hold=ge,te.bits=he}},{}],58:[function(d,m,g){var w=d("../utils/common"),D=d("./adler32"),H=d("./crc32"),q=d("./inffast"),te=d("./inftrees"),re=0,ne=1,ie=2,ae=4,se=5,le=6,ue=0,fe=1,de=2,me=-2,ge=-3,he=-4,pe=-5,ve=8,ke=1,be=2,Se=3,Ee=4,Ie=5,_e=6,Te=7,Le=8,Be=9,Ce=10,ze=11,Ke=12,je=13,$e=14,Ye=15,Pe=16,Ge=17,it=18,Je=19,He=20,Qe=21,ut=22,dt=23,kt=24,Xe=25,we=26,qe=27,Ne=28,Fe=29,Oe=30,Ze=31,et=852,ye=592,Ae=15;function De(Tt){return(Tt>>>24&255)+(Tt>>>8&65280)+((65280&Tt)<<8)+((255&Tt)<<24)}function Ue(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new w.Buf16(320),this.work=new w.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function St(Tt){var Ut;return Tt&&Tt.state?(Ut=Tt.state,Tt.total_in=Tt.total_out=Ut.total=0,Tt.msg="",Ut.wrap&&(Tt.adler=1&Ut.wrap),Ut.mode=ke,Ut.last=0,Ut.havedict=0,Ut.dmax=32768,Ut.head=null,Ut.hold=0,Ut.bits=0,Ut.lencode=Ut.lendyn=new w.Buf32(et),Ut.distcode=Ut.distdyn=new w.Buf32(ye),Ut.sane=1,Ut.back=-1,ue):me}function Bt(Tt){var Ut;return Tt&&Tt.state?((Ut=Tt.state).wsize=0,Ut.whave=0,Ut.wnext=0,St(Tt)):me}function tr(Tt,Ut){var We,er;return Tt&&Tt.state?(er=Tt.state,Ut<0?(We=0,Ut=-Ut):(We=1+(Ut>>4),Ut<48&&(Ut&=15)),Ut&&(Ut<8||Ut>15)?me:(er.window!==null&&er.wbits!==Ut&&(er.window=null),er.wrap=We,er.wbits=Ut,Bt(Tt))):me}function ir(Tt,Ut){var We,er;return Tt?(er=new Ue,Tt.state=er,er.window=null,(We=tr(Tt,Ut))!==ue&&(Tt.state=null),We):me}function Kt(Tt){return ir(Tt,Ae)}var ar,rr,gr=!0;function dr(Tt){if(gr){var Ut;for(ar=new w.Buf32(512),rr=new w.Buf32(32),Ut=0;Ut<144;)Tt.lens[Ut++]=8;for(;Ut<256;)Tt.lens[Ut++]=9;for(;Ut<280;)Tt.lens[Ut++]=7;for(;Ut<288;)Tt.lens[Ut++]=8;for(te(ne,Tt.lens,0,288,ar,0,Tt.work,{bits:9}),Ut=0;Ut<32;)Tt.lens[Ut++]=5;te(ie,Tt.lens,0,32,rr,0,Tt.work,{bits:5}),gr=!1}Tt.lencode=ar,Tt.lenbits=9,Tt.distcode=rr,Tt.distbits=5}function hr(Tt,Ut,We,er){var br,Me=Tt.state;return Me.window===null&&(Me.wsize=1<<Me.wbits,Me.wnext=0,Me.whave=0,Me.window=new w.Buf8(Me.wsize)),er>=Me.wsize?(w.arraySet(Me.window,Ut,We-Me.wsize,Me.wsize,0),Me.wnext=0,Me.whave=Me.wsize):((br=Me.wsize-Me.wnext)>er&&(br=er),w.arraySet(Me.window,Ut,We-er,br,Me.wnext),(er-=br)?(w.arraySet(Me.window,Ut,We-er,er,0),Me.wnext=er,Me.whave=Me.wsize):(Me.wnext+=br,Me.wnext===Me.wsize&&(Me.wnext=0),Me.whave<Me.wsize&&(Me.whave+=br))),0}function kr(Tt,Ut){var We,er,br,Me,Zt,zt,ft,$t,jt,_r,cr,pr,Ir,Xr,Mr,Nr,Br,Or,xn,Mn,Fr,rn,_n,Zr,Wr=0,$r=new w.Buf8(4),Yn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Tt||!Tt.state||!Tt.output||!Tt.input&&Tt.avail_in!==0)return me;(We=Tt.state).mode===Ke&&(We.mode=je),Zt=Tt.next_out,br=Tt.output,ft=Tt.avail_out,Me=Tt.next_in,er=Tt.input,zt=Tt.avail_in,$t=We.hold,jt=We.bits,_r=zt,cr=ft,rn=ue;e:for(;;)switch(We.mode){case ke:if(We.wrap===0){We.mode=je;break}for(;jt<16;){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}if(2&We.wrap&&$t===35615){We.check=0,$r[0]=255&$t,$r[1]=$t>>>8&255,We.check=H(We.check,$r,2,0),$t=0,jt=0,We.mode=be;break}if(We.flags=0,We.head&&(We.head.done=!1),!(1&We.wrap)||(((255&$t)<<8)+($t>>8))%31){Tt.msg="incorrect header check",We.mode=Oe;break}if((15&$t)!==ve){Tt.msg="unknown compression method",We.mode=Oe;break}if(jt-=4,Fr=8+(15&($t>>>=4)),We.wbits===0)We.wbits=Fr;else if(Fr>We.wbits){Tt.msg="invalid window size",We.mode=Oe;break}We.dmax=1<<Fr,Tt.adler=We.check=1,We.mode=512&$t?Ce:Ke,$t=0,jt=0;break;case be:for(;jt<16;){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}if(We.flags=$t,(255&We.flags)!==ve){Tt.msg="unknown compression method",We.mode=Oe;break}if(57344&We.flags){Tt.msg="unknown header flags set",We.mode=Oe;break}We.head&&(We.head.text=$t>>8&1),512&We.flags&&($r[0]=255&$t,$r[1]=$t>>>8&255,We.check=H(We.check,$r,2,0)),$t=0,jt=0,We.mode=Se;case Se:for(;jt<32;){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}We.head&&(We.head.time=$t),512&We.flags&&($r[0]=255&$t,$r[1]=$t>>>8&255,$r[2]=$t>>>16&255,$r[3]=$t>>>24&255,We.check=H(We.check,$r,4,0)),$t=0,jt=0,We.mode=Ee;case Ee:for(;jt<16;){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}We.head&&(We.head.xflags=255&$t,We.head.os=$t>>8),512&We.flags&&($r[0]=255&$t,$r[1]=$t>>>8&255,We.check=H(We.check,$r,2,0)),$t=0,jt=0,We.mode=Ie;case Ie:if(1024&We.flags){for(;jt<16;){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}We.length=$t,We.head&&(We.head.extra_len=$t),512&We.flags&&($r[0]=255&$t,$r[1]=$t>>>8&255,We.check=H(We.check,$r,2,0)),$t=0,jt=0}else We.head&&(We.head.extra=null);We.mode=_e;case _e:if(1024&We.flags&&((pr=We.length)>zt&&(pr=zt),pr&&(We.head&&(Fr=We.head.extra_len-We.length,We.head.extra||(We.head.extra=new Array(We.head.extra_len)),w.arraySet(We.head.extra,er,Me,pr,Fr)),512&We.flags&&(We.check=H(We.check,er,pr,Me)),zt-=pr,Me+=pr,We.length-=pr),We.length))break e;We.length=0,We.mode=Te;case Te:if(2048&We.flags){if(zt===0)break e;pr=0;do Fr=er[Me+pr++],We.head&&Fr&&We.length<65536&&(We.head.name+=String.fromCharCode(Fr));while(Fr&&pr<zt);if(512&We.flags&&(We.check=H(We.check,er,pr,Me)),zt-=pr,Me+=pr,Fr)break e}else We.head&&(We.head.name=null);We.length=0,We.mode=Le;case Le:if(4096&We.flags){if(zt===0)break e;pr=0;do Fr=er[Me+pr++],We.head&&Fr&&We.length<65536&&(We.head.comment+=String.fromCharCode(Fr));while(Fr&&pr<zt);if(512&We.flags&&(We.check=H(We.check,er,pr,Me)),zt-=pr,Me+=pr,Fr)break e}else We.head&&(We.head.comment=null);We.mode=Be;case Be:if(512&We.flags){for(;jt<16;){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}if($t!==(65535&We.check)){Tt.msg="header crc mismatch",We.mode=Oe;break}$t=0,jt=0}We.head&&(We.head.hcrc=We.flags>>9&1,We.head.done=!0),Tt.adler=We.check=0,We.mode=Ke;break;case Ce:for(;jt<32;){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}Tt.adler=We.check=De($t),$t=0,jt=0,We.mode=ze;case ze:if(We.havedict===0)return Tt.next_out=Zt,Tt.avail_out=ft,Tt.next_in=Me,Tt.avail_in=zt,We.hold=$t,We.bits=jt,de;Tt.adler=We.check=1,We.mode=Ke;case Ke:if(Ut===se||Ut===le)break e;case je:if(We.last){$t>>>=7&jt,jt-=7&jt,We.mode=qe;break}for(;jt<3;){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}switch(We.last=1&$t,jt-=1,3&($t>>>=1)){case 0:We.mode=$e;break;case 1:if(dr(We),We.mode=He,Ut===le){$t>>>=2,jt-=2;break e}break;case 2:We.mode=Ge;break;case 3:Tt.msg="invalid block type",We.mode=Oe}$t>>>=2,jt-=2;break;case $e:for($t>>>=7&jt,jt-=7&jt;jt<32;){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}if((65535&$t)!=($t>>>16^65535)){Tt.msg="invalid stored block lengths",We.mode=Oe;break}if(We.length=65535&$t,$t=0,jt=0,We.mode=Ye,Ut===le)break e;case Ye:We.mode=Pe;case Pe:if(pr=We.length){if(pr>zt&&(pr=zt),pr>ft&&(pr=ft),pr===0)break e;w.arraySet(br,er,Me,pr,Zt),zt-=pr,Me+=pr,ft-=pr,Zt+=pr,We.length-=pr;break}We.mode=Ke;break;case Ge:for(;jt<14;){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}if(We.nlen=257+(31&$t),$t>>>=5,jt-=5,We.ndist=1+(31&$t),$t>>>=5,jt-=5,We.ncode=4+(15&$t),$t>>>=4,jt-=4,We.nlen>286||We.ndist>30){Tt.msg="too many length or distance symbols",We.mode=Oe;break}We.have=0,We.mode=it;case it:for(;We.have<We.ncode;){for(;jt<3;){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}We.lens[Yn[We.have++]]=7&$t,$t>>>=3,jt-=3}for(;We.have<19;)We.lens[Yn[We.have++]]=0;if(We.lencode=We.lendyn,We.lenbits=7,_n={bits:We.lenbits},rn=te(re,We.lens,0,19,We.lencode,0,We.work,_n),We.lenbits=_n.bits,rn){Tt.msg="invalid code lengths set",We.mode=Oe;break}We.have=0,We.mode=Je;case Je:for(;We.have<We.nlen+We.ndist;){for(;Nr=(Wr=We.lencode[$t&(1<<We.lenbits)-1])>>>16&255,Br=65535&Wr,!((Mr=Wr>>>24)<=jt);){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}if(Br<16)$t>>>=Mr,jt-=Mr,We.lens[We.have++]=Br;else{if(Br===16){for(Zr=Mr+2;jt<Zr;){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}if($t>>>=Mr,jt-=Mr,We.have===0){Tt.msg="invalid bit length repeat",We.mode=Oe;break}Fr=We.lens[We.have-1],pr=3+(3&$t),$t>>>=2,jt-=2}else if(Br===17){for(Zr=Mr+3;jt<Zr;){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}jt-=Mr,Fr=0,pr=3+(7&($t>>>=Mr)),$t>>>=3,jt-=3}else{for(Zr=Mr+7;jt<Zr;){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}jt-=Mr,Fr=0,pr=11+(127&($t>>>=Mr)),$t>>>=7,jt-=7}if(We.have+pr>We.nlen+We.ndist){Tt.msg="invalid bit length repeat",We.mode=Oe;break}for(;pr--;)We.lens[We.have++]=Fr}}if(We.mode===Oe)break;if(We.lens[256]===0){Tt.msg="invalid code -- missing end-of-block",We.mode=Oe;break}if(We.lenbits=9,_n={bits:We.lenbits},rn=te(ne,We.lens,0,We.nlen,We.lencode,0,We.work,_n),We.lenbits=_n.bits,rn){Tt.msg="invalid literal/lengths set",We.mode=Oe;break}if(We.distbits=6,We.distcode=We.distdyn,_n={bits:We.distbits},rn=te(ie,We.lens,We.nlen,We.ndist,We.distcode,0,We.work,_n),We.distbits=_n.bits,rn){Tt.msg="invalid distances set",We.mode=Oe;break}if(We.mode=He,Ut===le)break e;case He:We.mode=Qe;case Qe:if(zt>=6&&ft>=258){Tt.next_out=Zt,Tt.avail_out=ft,Tt.next_in=Me,Tt.avail_in=zt,We.hold=$t,We.bits=jt,q(Tt,cr),Zt=Tt.next_out,br=Tt.output,ft=Tt.avail_out,Me=Tt.next_in,er=Tt.input,zt=Tt.avail_in,$t=We.hold,jt=We.bits,We.mode===Ke&&(We.back=-1);break}for(We.back=0;Nr=(Wr=We.lencode[$t&(1<<We.lenbits)-1])>>>16&255,Br=65535&Wr,!((Mr=Wr>>>24)<=jt);){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}if(Nr&&!(240&Nr)){for(Or=Mr,xn=Nr,Mn=Br;Nr=(Wr=We.lencode[Mn+(($t&(1<<Or+xn)-1)>>Or)])>>>16&255,Br=65535&Wr,!(Or+(Mr=Wr>>>24)<=jt);){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}$t>>>=Or,jt-=Or,We.back+=Or}if($t>>>=Mr,jt-=Mr,We.back+=Mr,We.length=Br,Nr===0){We.mode=we;break}if(32&Nr){We.back=-1,We.mode=Ke;break}if(64&Nr){Tt.msg="invalid literal/length code",We.mode=Oe;break}We.extra=15&Nr,We.mode=ut;case ut:if(We.extra){for(Zr=We.extra;jt<Zr;){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}We.length+=$t&(1<<We.extra)-1,$t>>>=We.extra,jt-=We.extra,We.back+=We.extra}We.was=We.length,We.mode=dt;case dt:for(;Nr=(Wr=We.distcode[$t&(1<<We.distbits)-1])>>>16&255,Br=65535&Wr,!((Mr=Wr>>>24)<=jt);){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}if(!(240&Nr)){for(Or=Mr,xn=Nr,Mn=Br;Nr=(Wr=We.distcode[Mn+(($t&(1<<Or+xn)-1)>>Or)])>>>16&255,Br=65535&Wr,!(Or+(Mr=Wr>>>24)<=jt);){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}$t>>>=Or,jt-=Or,We.back+=Or}if($t>>>=Mr,jt-=Mr,We.back+=Mr,64&Nr){Tt.msg="invalid distance code",We.mode=Oe;break}We.offset=Br,We.extra=15&Nr,We.mode=kt;case kt:if(We.extra){for(Zr=We.extra;jt<Zr;){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}We.offset+=$t&(1<<We.extra)-1,$t>>>=We.extra,jt-=We.extra,We.back+=We.extra}if(We.offset>We.dmax){Tt.msg="invalid distance too far back",We.mode=Oe;break}We.mode=Xe;case Xe:if(ft===0)break e;if(pr=cr-ft,We.offset>pr){if((pr=We.offset-pr)>We.whave&&We.sane){Tt.msg="invalid distance too far back",We.mode=Oe;break}pr>We.wnext?(pr-=We.wnext,Ir=We.wsize-pr):Ir=We.wnext-pr,pr>We.length&&(pr=We.length),Xr=We.window}else Xr=br,Ir=Zt-We.offset,pr=We.length;pr>ft&&(pr=ft),ft-=pr,We.length-=pr;do br[Zt++]=Xr[Ir++];while(--pr);We.length===0&&(We.mode=Qe);break;case we:if(ft===0)break e;br[Zt++]=We.length,ft--,We.mode=Qe;break;case qe:if(We.wrap){for(;jt<32;){if(zt===0)break e;zt--,$t|=er[Me++]<<jt,jt+=8}if(cr-=ft,Tt.total_out+=cr,We.total+=cr,cr&&(Tt.adler=We.check=We.flags?H(We.check,br,cr,Zt-cr):D(We.check,br,cr,Zt-cr)),cr=ft,(We.flags?$t:De($t))!==We.check){Tt.msg="incorrect data check",We.mode=Oe;break}$t=0,jt=0}We.mode=Ne;case Ne:if(We.wrap&&We.flags){for(;jt<32;){if(zt===0)break e;zt--,$t+=er[Me++]<<jt,jt+=8}if($t!==(4294967295&We.total)){Tt.msg="incorrect length check",We.mode=Oe;break}$t=0,jt=0}We.mode=Fe;case Fe:rn=fe;break e;case Oe:rn=ge;break e;case Ze:return he;default:return me}return Tt.next_out=Zt,Tt.avail_out=ft,Tt.next_in=Me,Tt.avail_in=zt,We.hold=$t,We.bits=jt,(We.wsize||cr!==Tt.avail_out&&We.mode<Oe&&(We.mode<qe||Ut!==ae))&&hr(Tt,Tt.output,Tt.next_out,cr-Tt.avail_out),_r-=Tt.avail_in,cr-=Tt.avail_out,Tt.total_in+=_r,Tt.total_out+=cr,We.total+=cr,We.wrap&&cr&&(Tt.adler=We.check=We.flags?H(We.check,br,cr,Tt.next_out-cr):D(We.check,br,cr,Tt.next_out-cr)),Tt.data_type=We.bits+(We.last?64:0)+(We.mode===Ke?128:0)+(We.mode===He||We.mode===Ye?256:0),(_r===0&&cr===0||Ut===ae)&&rn===ue&&(rn=pe),rn}function fr(Tt){if(!Tt||!Tt.state)return me;var Ut=Tt.state;return Ut.window&&(Ut.window=null),Tt.state=null,ue}function ot(Tt,Ut){var We;return Tt&&Tt.state&&2&(We=Tt.state).wrap?(We.head=Ut,Ut.done=!1,ue):me}function nr(Tt,Ut){var We,er=Ut.length;return Tt&&Tt.state?(We=Tt.state).wrap!==0&&We.mode!==ze?me:We.mode===ze&&D(1,Ut,er,0)!==We.check?ge:hr(Tt,Ut,er,er)?(We.mode=Ze,he):(We.havedict=1,ue):me}g.inflateReset=Bt,g.inflateReset2=tr,g.inflateResetKeep=St,g.inflateInit=Kt,g.inflateInit2=ir,g.inflate=kr,g.inflateEnd=fr,g.inflateGetHeader=ot,g.inflateSetDictionary=nr,g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./inffast":57,"./inftrees":59}],59:[function(d,m,g){var w=d("../utils/common"),D=15,H=852,q=592,te=0,re=1,ne=2,ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ae=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],le=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(ue,fe,de,me,ge,he,pe,ve){var ke,be,Se,Ee,Ie,_e,Te,Le,Be,Ce=ve.bits,ze=0,Ke=0,je=0,$e=0,Ye=0,Pe=0,Ge=0,it=0,Je=0,He=0,Qe=null,ut=0,dt=new w.Buf16(D+1),kt=new w.Buf16(D+1),Xe=null,we=0;for(ze=0;ze<=D;ze++)dt[ze]=0;for(Ke=0;Ke<me;Ke++)dt[fe[de+Ke]]++;for(Ye=Ce,$e=D;$e>=1&&dt[$e]===0;$e--);if(Ye>$e&&(Ye=$e),$e===0)return ge[he++]=20971520,ge[he++]=20971520,ve.bits=1,0;for(je=1;je<$e&&dt[je]===0;je++);for(Ye<je&&(Ye=je),it=1,ze=1;ze<=D;ze++)if(it<<=1,(it-=dt[ze])<0)return-1;if(it>0&&(ue===te||$e!==1))return-1;for(kt[1]=0,ze=1;ze<D;ze++)kt[ze+1]=kt[ze]+dt[ze];for(Ke=0;Ke<me;Ke++)fe[de+Ke]!==0&&(pe[kt[fe[de+Ke]]++]=Ke);if(ue===te?(Qe=Xe=pe,_e=19):ue===re?(Qe=ie,ut-=257,Xe=ae,we-=257,_e=256):(Qe=se,Xe=le,_e=-1),He=0,Ke=0,ze=je,Ie=he,Pe=Ye,Ge=0,Se=-1,Ee=(Je=1<<Ye)-1,ue===re&&Je>H||ue===ne&&Je>q)return 1;for(;;){Te=ze-Ge,pe[Ke]<_e?(Le=0,Be=pe[Ke]):pe[Ke]>_e?(Le=Xe[we+pe[Ke]],Be=Qe[ut+pe[Ke]]):(Le=96,Be=0),ke=1<<ze-Ge,je=be=1<<Pe;do ge[Ie+(He>>Ge)+(be-=ke)]=Te<<24|Le<<16|Be;while(be!==0);for(ke=1<<ze-1;He&ke;)ke>>=1;if(ke!==0?(He&=ke-1,He+=ke):He=0,Ke++,--dt[ze]==0){if(ze===$e)break;ze=fe[de+pe[Ke]]}if(ze>Ye&&(He&Ee)!==Se){for(Ge===0&&(Ge=Ye),Ie+=je,it=1<<(Pe=ze-Ge);Pe+Ge<$e&&!((it-=dt[Pe+Ge])<=0);)Pe++,it<<=1;if(Je+=1<<Pe,ue===re&&Je>H||ue===ne&&Je>q)return 1;ge[Se=He&Ee]=Ye<<24|Pe<<16|Ie-he}}return He!==0&&(ge[Ie+He]=ze-Ge<<24|64<<16),ve.bits=Ye,0}},{"../utils/common":52}],60:[function(d,m,g){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],61:[function(d,m,g){var w=d("../utils/common"),D=4,H=0,q=1,te=2;function re(ot){for(var nr=ot.length;--nr>=0;)ot[nr]=0}var ne=0,ie=1,ae=2,se=3,le=258,ue=29,fe=256,de=fe+1+ue,me=30,ge=19,he=2*de+1,pe=15,ve=16,ke=7,be=256,Se=16,Ee=17,Ie=18,_e=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Te=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Be=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ce=512,ze=new Array(2*(de+2));re(ze);var Ke=new Array(2*me);re(Ke);var je=new Array(Ce);re(je);var $e=new Array(le-se+1);re($e);var Ye=new Array(ue);re(Ye);var Pe,Ge,it,Je=new Array(me);function He(ot,nr,Tt,Ut,We){this.static_tree=ot,this.extra_bits=nr,this.extra_base=Tt,this.elems=Ut,this.max_length=We,this.has_stree=ot&&ot.length}function Qe(ot,nr){this.dyn_tree=ot,this.max_code=0,this.stat_desc=nr}function ut(ot){return ot<256?je[ot]:je[256+(ot>>>7)]}function dt(ot,nr){ot.pending_buf[ot.pending++]=255&nr,ot.pending_buf[ot.pending++]=nr>>>8&255}function kt(ot,nr,Tt){ot.bi_valid>ve-Tt?(ot.bi_buf|=nr<<ot.bi_valid&65535,dt(ot,ot.bi_buf),ot.bi_buf=nr>>ve-ot.bi_valid,ot.bi_valid+=Tt-ve):(ot.bi_buf|=nr<<ot.bi_valid&65535,ot.bi_valid+=Tt)}function Xe(ot,nr,Tt){kt(ot,Tt[2*nr],Tt[2*nr+1])}function we(ot,nr){var Tt=0;do Tt|=1&ot,ot>>>=1,Tt<<=1;while(--nr>0);return Tt>>>1}function qe(ot){ot.bi_valid===16?(dt(ot,ot.bi_buf),ot.bi_buf=0,ot.bi_valid=0):ot.bi_valid>=8&&(ot.pending_buf[ot.pending++]=255&ot.bi_buf,ot.bi_buf>>=8,ot.bi_valid-=8)}function Ne(ot,nr){var Tt,Ut,We,er,br,Me,Zt=nr.dyn_tree,zt=nr.max_code,ft=nr.stat_desc.static_tree,$t=nr.stat_desc.has_stree,jt=nr.stat_desc.extra_bits,_r=nr.stat_desc.extra_base,cr=nr.stat_desc.max_length,pr=0;for(er=0;er<=pe;er++)ot.bl_count[er]=0;for(Zt[2*ot.heap[ot.heap_max]+1]=0,Tt=ot.heap_max+1;Tt<he;Tt++)(er=Zt[2*Zt[2*(Ut=ot.heap[Tt])+1]+1]+1)>cr&&(er=cr,pr++),Zt[2*Ut+1]=er,Ut>zt||(ot.bl_count[er]++,br=0,Ut>=_r&&(br=jt[Ut-_r]),Me=Zt[2*Ut],ot.opt_len+=Me*(er+br),$t&&(ot.static_len+=Me*(ft[2*Ut+1]+br)));if(pr!==0){do{for(er=cr-1;ot.bl_count[er]===0;)er--;ot.bl_count[er]--,ot.bl_count[er+1]+=2,ot.bl_count[cr]--,pr-=2}while(pr>0);for(er=cr;er!==0;er--)for(Ut=ot.bl_count[er];Ut!==0;)(We=ot.heap[--Tt])>zt||(Zt[2*We+1]!==er&&(ot.opt_len+=(er-Zt[2*We+1])*Zt[2*We],Zt[2*We+1]=er),Ut--)}}function Fe(ot,nr,Tt){var Ut,We,er=new Array(pe+1),br=0;for(Ut=1;Ut<=pe;Ut++)er[Ut]=br=br+Tt[Ut-1]<<1;for(We=0;We<=nr;We++){var Me=ot[2*We+1];Me!==0&&(ot[2*We]=we(er[Me]++,Me))}}function Oe(){var ot,nr,Tt,Ut,We,er=new Array(pe+1);for(Tt=0,Ut=0;Ut<ue-1;Ut++)for(Ye[Ut]=Tt,ot=0;ot<1<<_e[Ut];ot++)$e[Tt++]=Ut;for($e[Tt-1]=Ut,We=0,Ut=0;Ut<16;Ut++)for(Je[Ut]=We,ot=0;ot<1<<Te[Ut];ot++)je[We++]=Ut;for(We>>=7;Ut<me;Ut++)for(Je[Ut]=We<<7,ot=0;ot<1<<Te[Ut]-7;ot++)je[256+We++]=Ut;for(nr=0;nr<=pe;nr++)er[nr]=0;for(ot=0;ot<=143;)ze[2*ot+1]=8,ot++,er[8]++;for(;ot<=255;)ze[2*ot+1]=9,ot++,er[9]++;for(;ot<=279;)ze[2*ot+1]=7,ot++,er[7]++;for(;ot<=287;)ze[2*ot+1]=8,ot++,er[8]++;for(Fe(ze,de+1,er),ot=0;ot<me;ot++)Ke[2*ot+1]=5,Ke[2*ot]=we(ot,5);Pe=new He(ze,_e,fe+1,de,pe),Ge=new He(Ke,Te,0,me,pe),it=new He(new Array(0),Le,0,ge,ke)}function Ze(ot){var nr;for(nr=0;nr<de;nr++)ot.dyn_ltree[2*nr]=0;for(nr=0;nr<me;nr++)ot.dyn_dtree[2*nr]=0;for(nr=0;nr<ge;nr++)ot.bl_tree[2*nr]=0;ot.dyn_ltree[2*be]=1,ot.opt_len=ot.static_len=0,ot.last_lit=ot.matches=0}function et(ot){ot.bi_valid>8?dt(ot,ot.bi_buf):ot.bi_valid>0&&(ot.pending_buf[ot.pending++]=ot.bi_buf),ot.bi_buf=0,ot.bi_valid=0}function ye(ot,nr,Tt,Ut){et(ot),dt(ot,Tt),dt(ot,~Tt),w.arraySet(ot.pending_buf,ot.window,nr,Tt,ot.pending),ot.pending+=Tt}function Ae(ot,nr,Tt,Ut){var We=2*nr,er=2*Tt;return ot[We]<ot[er]||ot[We]===ot[er]&&Ut[nr]<=Ut[Tt]}function De(ot,nr,Tt){for(var Ut=ot.heap[Tt],We=Tt<<1;We<=ot.heap_len&&(We<ot.heap_len&&Ae(nr,ot.heap[We+1],ot.heap[We],ot.depth)&&We++,!Ae(nr,Ut,ot.heap[We],ot.depth));)ot.heap[Tt]=ot.heap[We],Tt=We,We<<=1;ot.heap[Tt]=Ut}function Ue(ot,nr,Tt){var Ut,We,er,br,Me=0;if(ot.last_lit!==0)do Ut=ot.pending_buf[ot.d_buf+2*Me]<<8|ot.pending_buf[ot.d_buf+2*Me+1],We=ot.pending_buf[ot.l_buf+Me],Me++,Ut===0?Xe(ot,We,nr):(Xe(ot,(er=$e[We])+fe+1,nr),(br=_e[er])!==0&&kt(ot,We-=Ye[er],br),Xe(ot,er=ut(--Ut),Tt),(br=Te[er])!==0&&kt(ot,Ut-=Je[er],br));while(Me<ot.last_lit);Xe(ot,be,nr)}function St(ot,nr){var Tt,Ut,We,er=nr.dyn_tree,br=nr.stat_desc.static_tree,Me=nr.stat_desc.has_stree,Zt=nr.stat_desc.elems,zt=-1;for(ot.heap_len=0,ot.heap_max=he,Tt=0;Tt<Zt;Tt++)er[2*Tt]!==0?(ot.heap[++ot.heap_len]=zt=Tt,ot.depth[Tt]=0):er[2*Tt+1]=0;for(;ot.heap_len<2;)er[2*(We=ot.heap[++ot.heap_len]=zt<2?++zt:0)]=1,ot.depth[We]=0,ot.opt_len--,Me&&(ot.static_len-=br[2*We+1]);for(nr.max_code=zt,Tt=ot.heap_len>>1;Tt>=1;Tt--)De(ot,er,Tt);We=Zt;do Tt=ot.heap[1],ot.heap[1]=ot.heap[ot.heap_len--],De(ot,er,1),Ut=ot.heap[1],ot.heap[--ot.heap_max]=Tt,ot.heap[--ot.heap_max]=Ut,er[2*We]=er[2*Tt]+er[2*Ut],ot.depth[We]=(ot.depth[Tt]>=ot.depth[Ut]?ot.depth[Tt]:ot.depth[Ut])+1,er[2*Tt+1]=er[2*Ut+1]=We,ot.heap[1]=We++,De(ot,er,1);while(ot.heap_len>=2);ot.heap[--ot.heap_max]=ot.heap[1],Ne(ot,nr),Fe(er,zt,ot.bl_count)}function Bt(ot,nr,Tt){var Ut,We,er=-1,br=nr[1],Me=0,Zt=7,zt=4;for(br===0&&(Zt=138,zt=3),nr[2*(Tt+1)+1]=65535,Ut=0;Ut<=Tt;Ut++)We=br,br=nr[2*(Ut+1)+1],++Me<Zt&&We===br||(Me<zt?ot.bl_tree[2*We]+=Me:We!==0?(We!==er&&ot.bl_tree[2*We]++,ot.bl_tree[2*Se]++):Me<=10?ot.bl_tree[2*Ee]++:ot.bl_tree[2*Ie]++,Me=0,er=We,br===0?(Zt=138,zt=3):We===br?(Zt=6,zt=3):(Zt=7,zt=4))}function tr(ot,nr,Tt){var Ut,We,er=-1,br=nr[1],Me=0,Zt=7,zt=4;for(br===0&&(Zt=138,zt=3),Ut=0;Ut<=Tt;Ut++)if(We=br,br=nr[2*(Ut+1)+1],!(++Me<Zt&&We===br)){if(Me<zt)do Xe(ot,We,ot.bl_tree);while(--Me!=0);else We!==0?(We!==er&&(Xe(ot,We,ot.bl_tree),Me--),Xe(ot,Se,ot.bl_tree),kt(ot,Me-3,2)):Me<=10?(Xe(ot,Ee,ot.bl_tree),kt(ot,Me-3,3)):(Xe(ot,Ie,ot.bl_tree),kt(ot,Me-11,7));Me=0,er=We,br===0?(Zt=138,zt=3):We===br?(Zt=6,zt=3):(Zt=7,zt=4)}}function ir(ot){var nr;for(Bt(ot,ot.dyn_ltree,ot.l_desc.max_code),Bt(ot,ot.dyn_dtree,ot.d_desc.max_code),St(ot,ot.bl_desc),nr=ge-1;nr>=3&&ot.bl_tree[2*Be[nr]+1]===0;nr--);return ot.opt_len+=3*(nr+1)+5+5+4,nr}function Kt(ot,nr,Tt,Ut){var We;for(kt(ot,nr-257,5),kt(ot,Tt-1,5),kt(ot,Ut-4,4),We=0;We<Ut;We++)kt(ot,ot.bl_tree[2*Be[We]+1],3);tr(ot,ot.dyn_ltree,nr-1),tr(ot,ot.dyn_dtree,Tt-1)}function ar(ot){var nr,Tt=4093624447;for(nr=0;nr<=31;nr++,Tt>>>=1)if(1&Tt&&ot.dyn_ltree[2*nr]!==0)return H;if(ot.dyn_ltree[18]!==0||ot.dyn_ltree[20]!==0||ot.dyn_ltree[26]!==0)return q;for(nr=32;nr<fe;nr++)if(ot.dyn_ltree[2*nr]!==0)return q;return H}re(Je);var rr=!1;function gr(ot){rr||(Oe(),rr=!0),ot.l_desc=new Qe(ot.dyn_ltree,Pe),ot.d_desc=new Qe(ot.dyn_dtree,Ge),ot.bl_desc=new Qe(ot.bl_tree,it),ot.bi_buf=0,ot.bi_valid=0,Ze(ot)}function dr(ot,nr,Tt,Ut){kt(ot,(ne<<1)+(Ut?1:0),3),ye(ot,nr,Tt)}function hr(ot){kt(ot,ie<<1,3),Xe(ot,be,ze),qe(ot)}function kr(ot,nr,Tt,Ut){var We,er,br=0;ot.level>0?(ot.strm.data_type===te&&(ot.strm.data_type=ar(ot)),St(ot,ot.l_desc),St(ot,ot.d_desc),br=ir(ot),We=ot.opt_len+3+7>>>3,(er=ot.static_len+3+7>>>3)<=We&&(We=er)):We=er=Tt+5,Tt+4<=We&&nr!==-1?dr(ot,nr,Tt,Ut):ot.strategy===D||er===We?(kt(ot,(ie<<1)+(Ut?1:0),3),Ue(ot,ze,Ke)):(kt(ot,(ae<<1)+(Ut?1:0),3),Kt(ot,ot.l_desc.max_code+1,ot.d_desc.max_code+1,br+1),Ue(ot,ot.dyn_ltree,ot.dyn_dtree)),Ze(ot),Ut&&et(ot)}function fr(ot,nr,Tt){return ot.pending_buf[ot.d_buf+2*ot.last_lit]=nr>>>8&255,ot.pending_buf[ot.d_buf+2*ot.last_lit+1]=255&nr,ot.pending_buf[ot.l_buf+ot.last_lit]=255&Tt,ot.last_lit++,nr===0?ot.dyn_ltree[2*Tt]++:(ot.matches++,nr--,ot.dyn_ltree[2*($e[Tt]+fe+1)]++,ot.dyn_dtree[2*ut(nr)]++),ot.last_lit===ot.lit_bufsize-1}g._tr_init=gr,g._tr_stored_block=dr,g._tr_flush_block=kr,g._tr_tally=fr,g._tr_align=hr},{"../utils/common":52}],62:[function(d,m,g){function w(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}m.exports=w},{}],63:[function(d,m,g){var w,D,H=m.exports={};function q(){throw new Error("setTimeout has not been defined")}function te(){throw new Error("clearTimeout has not been defined")}function re(ge){if(w===setTimeout)return setTimeout(ge,0);if((w===q||!w)&&setTimeout)return w=setTimeout,setTimeout(ge,0);try{return w(ge,0)}catch{try{return w.call(null,ge,0)}catch{return w.call(this,ge,0)}}}function ne(ge){if(D===clearTimeout)return clearTimeout(ge);if((D===te||!D)&&clearTimeout)return D=clearTimeout,clearTimeout(ge);try{return D(ge)}catch{try{return D.call(null,ge)}catch{return D.call(this,ge)}}}(function(){try{w=typeof setTimeout=="function"?setTimeout:q}catch{w=q}try{D=typeof clearTimeout=="function"?clearTimeout:te}catch{D=te}})();var ie,ae=[],se=!1,le=-1;function ue(){se&&ie&&(se=!1,ie.length?ae=ie.concat(ae):le=-1,ae.length&&fe())}function fe(){if(!se){var ge=re(ue);se=!0;for(var he=ae.length;he;){for(ie=ae,ae=[];++le<he;)ie&&ie[le].run();le=-1,he=ae.length}ie=null,se=!1,ne(ge)}}function de(ge,he){this.fun=ge,this.array=he}function me(){}H.nextTick=function(ge){var he=new Array(arguments.length-1);if(arguments.length>1)for(var pe=1;pe<arguments.length;pe++)he[pe-1]=arguments[pe];ae.push(new de(ge,he)),ae.length!==1||se||re(fe)},de.prototype.run=function(){this.fun.apply(null,this.array)},H.title="browser",H.browser=!0,H.env={},H.argv=[],H.version="",H.versions={},H.on=me,H.addListener=me,H.once=me,H.off=me,H.removeListener=me,H.removeAllListeners=me,H.emit=me,H.prependListener=me,H.prependOnceListener=me,H.listeners=function(ge){return[]},H.binding=function(ge){throw new Error("process.binding is not supported")},H.cwd=function(){return"/"},H.chdir=function(ge){throw new Error("process.chdir is not supported")},H.umask=function(){return 0}},{}],64:[function(d,m,g){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var w=d("buffer"),D=w.Buffer;function H(te,re){for(var ne in te)re[ne]=te[ne]}function q(te,re,ne){return D(te,re,ne)}D.from&&D.alloc&&D.allocUnsafe&&D.allocUnsafeSlow?m.exports=w:(H(w,g),g.Buffer=q),q.prototype=Object.create(D.prototype),H(D,q),q.from=function(te,re,ne){if(typeof te=="number")throw new TypeError("Argument must not be a number");return D(te,re,ne)},q.alloc=function(te,re,ne){if(typeof te!="number")throw new TypeError("Argument must be a number");var ie=D(te);return re!==void 0?typeof ne=="string"?ie.fill(re,ne):ie.fill(re):ie.fill(0),ie},q.allocUnsafe=function(te){if(typeof te!="number")throw new TypeError("Argument must be a number");return D(te)},q.allocUnsafeSlow=function(te){if(typeof te!="number")throw new TypeError("Argument must be a number");return w.SlowBuffer(te)}},{buffer:32}],65:[function(d,m,g){m.exports=D;var w=d("events").EventEmitter;function D(){w.call(this)}d("inherits")(D,w),D.Readable=d("readable-stream/lib/_stream_readable.js"),D.Writable=d("readable-stream/lib/_stream_writable.js"),D.Duplex=d("readable-stream/lib/_stream_duplex.js"),D.Transform=d("readable-stream/lib/_stream_transform.js"),D.PassThrough=d("readable-stream/lib/_stream_passthrough.js"),D.finished=d("readable-stream/lib/internal/streams/end-of-stream.js"),D.pipeline=d("readable-stream/lib/internal/streams/pipeline.js"),D.Stream=D,D.prototype.pipe=function(H,q){var te=this;function re(fe){H.writable&&H.write(fe)===!1&&te.pause&&te.pause()}function ne(){te.readable&&te.resume&&te.resume()}te.on("data",re),H.on("drain",ne),H._isStdio||q&&q.end===!1||(te.on("end",ae),te.on("close",se));var ie=!1;function ae(){ie||(ie=!0,H.end())}function se(){ie||(ie=!0,typeof H.destroy=="function"&&H.destroy())}function le(fe){if(ue(),w.listenerCount(this,"error")===0)throw fe}function ue(){te.removeListener("data",re),H.removeListener("drain",ne),te.removeListener("end",ae),te.removeListener("close",se),te.removeListener("error",le),H.removeListener("error",le),te.removeListener("end",ue),te.removeListener("close",ue),H.removeListener("close",ue)}return te.on("error",le),H.on("error",le),te.on("end",ue),te.on("close",ue),H.on("close",ue),H.emit("pipe",te),H}},{events:35,inherits:46,"readable-stream/lib/_stream_duplex.js":67,"readable-stream/lib/_stream_passthrough.js":68,"readable-stream/lib/_stream_readable.js":69,"readable-stream/lib/_stream_transform.js":70,"readable-stream/lib/_stream_writable.js":71,"readable-stream/lib/internal/streams/end-of-stream.js":75,"readable-stream/lib/internal/streams/pipeline.js":77}],66:[function(d,m,g){function w(ie,ae){ie.prototype=Object.create(ae.prototype),ie.prototype.constructor=ie,ie.__proto__=ae}var D={};function H(ie,ae,se){function le(fe,de,me){return typeof ae=="string"?ae:ae(fe,de,me)}se||(se=Error);var ue=function(fe){function de(me,ge,he){return fe.call(this,le(me,ge,he))||this}return w(de,fe),de}(se);ue.prototype.name=se.name,ue.prototype.code=ie,D[ie]=ue}function q(ie,ae){if(Array.isArray(ie)){var se=ie.length;return ie=ie.map(function(le){return String(le)}),se>2?"one of ".concat(ae," ").concat(ie.slice(0,se-1).join(", "),", or ")+ie[se-1]:se===2?"one of ".concat(ae," ").concat(ie[0]," or ").concat(ie[1]):"of ".concat(ae," ").concat(ie[0])}return"of ".concat(ae," ").concat(String(ie))}function te(ie,ae,se){return ie.substr(0,ae.length)===ae}function re(ie,ae,se){return(se===void 0||se>ie.length)&&(se=ie.length),ie.substring(se-ae.length,se)===ae}function ne(ie,ae,se){return typeof se!="number"&&(se=0),!(se+ae.length>ie.length)&&ie.indexOf(ae,se)!==-1}H("ERR_INVALID_OPT_VALUE",function(ie,ae){return'The value "'+ae+'" is invalid for option "'+ie+'"'},TypeError),H("ERR_INVALID_ARG_TYPE",function(ie,ae,se){var le,ue;if(typeof ae=="string"&&te(ae,"not ")?(le="must not be",ae=ae.replace(/^not /,"")):le="must be",re(ie," argument"))ue="The ".concat(ie," ").concat(le," ").concat(q(ae,"type"));else{var fe=ne(ie,".")?"property":"argument";ue='The "'.concat(ie,'" ').concat(fe," ").concat(le," ").concat(q(ae,"type"))}return ue+=". Received type ".concat(typeof se)},TypeError),H("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),H("ERR_METHOD_NOT_IMPLEMENTED",function(ie){return"The "+ie+" method is not implemented"}),H("ERR_STREAM_PREMATURE_CLOSE","Premature close"),H("ERR_STREAM_DESTROYED",function(ie){return"Cannot call "+ie+" after a stream was destroyed"}),H("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),H("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),H("ERR_STREAM_WRITE_AFTER_END","write after end"),H("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),H("ERR_UNKNOWN_ENCODING",function(ie){return"Unknown encoding: "+ie},TypeError),H("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),m.exports.codes=D},{}],67:[function(d,m,g){(function(w){(function(){var D=Object.keys||function(le){var ue=[];for(var fe in le)ue.push(fe);return ue};m.exports=ie;var H=d("./_stream_readable"),q=d("./_stream_writable");d("inherits")(ie,H);for(var te=D(q.prototype),re=0;re<te.length;re++){var ne=te[re];ie.prototype[ne]||(ie.prototype[ne]=q.prototype[ne])}function ie(le){if(!(this instanceof ie))return new ie(le);H.call(this,le),q.call(this,le),this.allowHalfOpen=!0,le&&(le.readable===!1&&(this.readable=!1),le.writable===!1&&(this.writable=!1),le.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",ae)))}function ae(){this._writableState.ended||w.nextTick(se,this)}function se(le){le.end()}Object.defineProperty(ie.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ie.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ie.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ie.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(le){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=le,this._writableState.destroyed=le)}})}).call(this)}).call(this,d("_process"))},{"./_stream_readable":69,"./_stream_writable":71,_process:63,inherits:46}],68:[function(d,m,g){m.exports=D;var w=d("./_stream_transform");function D(H){if(!(this instanceof D))return new D(H);w.call(this,H)}d("inherits")(D,w),D.prototype._transform=function(H,q,te){te(null,H)}},{"./_stream_transform":70,inherits:46}],69:[function(d,m,g){(function(w,D){(function(){var H;m.exports=Le,Le.ReadableState=Te,d("events").EventEmitter;var q=function(Oe,Ze){return Oe.listeners(Ze).length},te=d("./internal/streams/stream"),re=d("buffer").Buffer,ne=D.Uint8Array||function(){};function ie(Oe){return re.from(Oe)}function ae(Oe){return re.isBuffer(Oe)||Oe instanceof ne}var se,le=d("util");se=le&&le.debuglog?le.debuglog("stream"):function(){};var ue,fe,de,me=d("./internal/streams/buffer_list"),ge=d("./internal/streams/destroy"),he=d("./internal/streams/state").getHighWaterMark,pe=d("../errors").codes,ve=pe.ERR_INVALID_ARG_TYPE,ke=pe.ERR_STREAM_PUSH_AFTER_EOF,be=pe.ERR_METHOD_NOT_IMPLEMENTED,Se=pe.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;d("inherits")(Le,te);var Ee=ge.errorOrDestroy,Ie=["error","close","destroy","pause","resume"];function _e(Oe,Ze,et){if(typeof Oe.prependListener=="function")return Oe.prependListener(Ze,et);Oe._events&&Oe._events[Ze]?Array.isArray(Oe._events[Ze])?Oe._events[Ze].unshift(et):Oe._events[Ze]=[et,Oe._events[Ze]]:Oe.on(Ze,et)}function Te(Oe,Ze,et){H=H||d("./_stream_duplex"),Oe=Oe||{},typeof et!="boolean"&&(et=Ze instanceof H),this.objectMode=!!Oe.objectMode,et&&(this.objectMode=this.objectMode||!!Oe.readableObjectMode),this.highWaterMark=he(this,Oe,"readableHighWaterMark",et),this.buffer=new me,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Oe.emitClose!==!1,this.autoDestroy=!!Oe.autoDestroy,this.destroyed=!1,this.defaultEncoding=Oe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Oe.encoding&&(ue||(ue=d("string_decoder/").StringDecoder),this.decoder=new ue(Oe.encoding),this.encoding=Oe.encoding)}function Le(Oe){if(H=H||d("./_stream_duplex"),!(this instanceof Le))return new Le(Oe);var Ze=this instanceof H;this._readableState=new Te(Oe,this,Ze),this.readable=!0,Oe&&(typeof Oe.read=="function"&&(this._read=Oe.read),typeof Oe.destroy=="function"&&(this._destroy=Oe.destroy)),te.call(this)}function Be(Oe,Ze,et,ye,Ae){se("readableAddChunk",Ze);var De,Ue=Oe._readableState;if(Ze===null)Ue.reading=!1,Ye(Oe,Ue);else if(Ae||(De=ze(Ue,Ze)),De)Ee(Oe,De);else if(Ue.objectMode||Ze&&Ze.length>0)if(typeof Ze=="string"||Ue.objectMode||Object.getPrototypeOf(Ze)===re.prototype||(Ze=ie(Ze)),ye)Ue.endEmitted?Ee(Oe,new Se):Ce(Oe,Ue,Ze,!0);else if(Ue.ended)Ee(Oe,new ke);else{if(Ue.destroyed)return!1;Ue.reading=!1,Ue.decoder&&!et?(Ze=Ue.decoder.write(Ze),Ue.objectMode||Ze.length!==0?Ce(Oe,Ue,Ze,!1):it(Oe,Ue)):Ce(Oe,Ue,Ze,!1)}else ye||(Ue.reading=!1,it(Oe,Ue));return!Ue.ended&&(Ue.length<Ue.highWaterMark||Ue.length===0)}function Ce(Oe,Ze,et,ye){Ze.flowing&&Ze.length===0&&!Ze.sync?(Ze.awaitDrain=0,Oe.emit("data",et)):(Ze.length+=Ze.objectMode?1:et.length,ye?Ze.buffer.unshift(et):Ze.buffer.push(et),Ze.needReadable&&Pe(Oe)),it(Oe,Ze)}function ze(Oe,Ze){var et;return ae(Ze)||typeof Ze=="string"||Ze===void 0||Oe.objectMode||(et=new ve("chunk",["string","Buffer","Uint8Array"],Ze)),et}Object.defineProperty(Le.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Oe){this._readableState&&(this._readableState.destroyed=Oe)}}),Le.prototype.destroy=ge.destroy,Le.prototype._undestroy=ge.undestroy,Le.prototype._destroy=function(Oe,Ze){Ze(Oe)},Le.prototype.push=function(Oe,Ze){var et,ye=this._readableState;return ye.objectMode?et=!0:typeof Oe=="string"&&((Ze=Ze||ye.defaultEncoding)!==ye.encoding&&(Oe=re.from(Oe,Ze),Ze=""),et=!0),Be(this,Oe,Ze,!1,et)},Le.prototype.unshift=function(Oe){return Be(this,Oe,null,!0,!1)},Le.prototype.isPaused=function(){return this._readableState.flowing===!1},Le.prototype.setEncoding=function(Oe){ue||(ue=d("string_decoder/").StringDecoder);var Ze=new ue(Oe);this._readableState.decoder=Ze,this._readableState.encoding=this._readableState.decoder.encoding;for(var et=this._readableState.buffer.head,ye="";et!==null;)ye+=Ze.write(et.data),et=et.next;return this._readableState.buffer.clear(),ye!==""&&this._readableState.buffer.push(ye),this._readableState.length=ye.length,this};var Ke=1073741824;function je(Oe){return Oe>=Ke?Oe=Ke:(Oe--,Oe|=Oe>>>1,Oe|=Oe>>>2,Oe|=Oe>>>4,Oe|=Oe>>>8,Oe|=Oe>>>16,Oe++),Oe}function $e(Oe,Ze){return Oe<=0||Ze.length===0&&Ze.ended?0:Ze.objectMode?1:Oe!=Oe?Ze.flowing&&Ze.length?Ze.buffer.head.data.length:Ze.length:(Oe>Ze.highWaterMark&&(Ze.highWaterMark=je(Oe)),Oe<=Ze.length?Oe:Ze.ended?Ze.length:(Ze.needReadable=!0,0))}function Ye(Oe,Ze){if(se("onEofChunk"),!Ze.ended){if(Ze.decoder){var et=Ze.decoder.end();et&&et.length&&(Ze.buffer.push(et),Ze.length+=Ze.objectMode?1:et.length)}Ze.ended=!0,Ze.sync?Pe(Oe):(Ze.needReadable=!1,Ze.emittedReadable||(Ze.emittedReadable=!0,Ge(Oe)))}}function Pe(Oe){var Ze=Oe._readableState;se("emitReadable",Ze.needReadable,Ze.emittedReadable),Ze.needReadable=!1,Ze.emittedReadable||(se("emitReadable",Ze.flowing),Ze.emittedReadable=!0,w.nextTick(Ge,Oe))}function Ge(Oe){var Ze=Oe._readableState;se("emitReadable_",Ze.destroyed,Ze.length,Ze.ended),Ze.destroyed||!Ze.length&&!Ze.ended||(Oe.emit("readable"),Ze.emittedReadable=!1),Ze.needReadable=!Ze.flowing&&!Ze.ended&&Ze.length<=Ze.highWaterMark,Xe(Oe)}function it(Oe,Ze){Ze.readingMore||(Ze.readingMore=!0,w.nextTick(Je,Oe,Ze))}function Je(Oe,Ze){for(;!Ze.reading&&!Ze.ended&&(Ze.length<Ze.highWaterMark||Ze.flowing&&Ze.length===0);){var et=Ze.length;if(se("maybeReadMore read 0"),Oe.read(0),et===Ze.length)break}Ze.readingMore=!1}function He(Oe){return function(){var Ze=Oe._readableState;se("pipeOnDrain",Ze.awaitDrain),Ze.awaitDrain&&Ze.awaitDrain--,Ze.awaitDrain===0&&q(Oe,"data")&&(Ze.flowing=!0,Xe(Oe))}}function Qe(Oe){var Ze=Oe._readableState;Ze.readableListening=Oe.listenerCount("readable")>0,Ze.resumeScheduled&&!Ze.paused?Ze.flowing=!0:Oe.listenerCount("data")>0&&Oe.resume()}function ut(Oe){se("readable nexttick read 0"),Oe.read(0)}function dt(Oe,Ze){Ze.resumeScheduled||(Ze.resumeScheduled=!0,w.nextTick(kt,Oe,Ze))}function kt(Oe,Ze){se("resume",Ze.reading),Ze.reading||Oe.read(0),Ze.resumeScheduled=!1,Oe.emit("resume"),Xe(Oe),Ze.flowing&&!Ze.reading&&Oe.read(0)}function Xe(Oe){var Ze=Oe._readableState;for(se("flow",Ze.flowing);Ze.flowing&&Oe.read()!==null;);}function we(Oe,Ze){return Ze.length===0?null:(Ze.objectMode?et=Ze.buffer.shift():!Oe||Oe>=Ze.length?(et=Ze.decoder?Ze.buffer.join(""):Ze.buffer.length===1?Ze.buffer.first():Ze.buffer.concat(Ze.length),Ze.buffer.clear()):et=Ze.buffer.consume(Oe,Ze.decoder),et);var et}function qe(Oe){var Ze=Oe._readableState;se("endReadable",Ze.endEmitted),Ze.endEmitted||(Ze.ended=!0,w.nextTick(Ne,Ze,Oe))}function Ne(Oe,Ze){if(se("endReadableNT",Oe.endEmitted,Oe.length),!Oe.endEmitted&&Oe.length===0&&(Oe.endEmitted=!0,Ze.readable=!1,Ze.emit("end"),Oe.autoDestroy)){var et=Ze._writableState;(!et||et.autoDestroy&&et.finished)&&Ze.destroy()}}function Fe(Oe,Ze){for(var et=0,ye=Oe.length;et<ye;et++)if(Oe[et]===Ze)return et;return-1}Le.prototype.read=function(Oe){se("read",Oe),Oe=parseInt(Oe,10);var Ze=this._readableState,et=Oe;if(Oe!==0&&(Ze.emittedReadable=!1),Oe===0&&Ze.needReadable&&((Ze.highWaterMark!==0?Ze.length>=Ze.highWaterMark:Ze.length>0)||Ze.ended))return se("read: emitReadable",Ze.length,Ze.ended),Ze.length===0&&Ze.ended?qe(this):Pe(this),null;if((Oe=$e(Oe,Ze))===0&&Ze.ended)return Ze.length===0&&qe(this),null;var ye,Ae=Ze.needReadable;return se("need readable",Ae),(Ze.length===0||Ze.length-Oe<Ze.highWaterMark)&&se("length less than watermark",Ae=!0),Ze.ended||Ze.reading?se("reading or ended",Ae=!1):Ae&&(se("do read"),Ze.reading=!0,Ze.sync=!0,Ze.length===0&&(Ze.needReadable=!0),this._read(Ze.highWaterMark),Ze.sync=!1,Ze.reading||(Oe=$e(et,Ze))),(ye=Oe>0?we(Oe,Ze):null)===null?(Ze.needReadable=Ze.length<=Ze.highWaterMark,Oe=0):(Ze.length-=Oe,Ze.awaitDrain=0),Ze.length===0&&(Ze.ended||(Ze.needReadable=!0),et!==Oe&&Ze.ended&&qe(this)),ye!==null&&this.emit("data",ye),ye},Le.prototype._read=function(Oe){Ee(this,new be("_read()"))},Le.prototype.pipe=function(Oe,Ze){var et=this,ye=this._readableState;switch(ye.pipesCount){case 0:ye.pipes=Oe;break;case 1:ye.pipes=[ye.pipes,Oe];break;default:ye.pipes.push(Oe)}ye.pipesCount+=1,se("pipe count=%d opts=%j",ye.pipesCount,Ze);var Ae=Ze&&Ze.end===!1||Oe===w.stdout||Oe===w.stderr?gr:Ue;function De(dr,hr){se("onunpipe"),dr===et&&hr&&hr.hasUnpiped===!1&&(hr.hasUnpiped=!0,tr())}function Ue(){se("onend"),Oe.end()}ye.endEmitted?w.nextTick(Ae):et.once("end",Ae),Oe.on("unpipe",De);var St=He(et);Oe.on("drain",St);var Bt=!1;function tr(){se("cleanup"),Oe.removeListener("close",ar),Oe.removeListener("finish",rr),Oe.removeListener("drain",St),Oe.removeListener("error",Kt),Oe.removeListener("unpipe",De),et.removeListener("end",Ue),et.removeListener("end",gr),et.removeListener("data",ir),Bt=!0,!ye.awaitDrain||Oe._writableState&&!Oe._writableState.needDrain||St()}function ir(dr){se("ondata");var hr=Oe.write(dr);se("dest.write",hr),hr===!1&&((ye.pipesCount===1&&ye.pipes===Oe||ye.pipesCount>1&&Fe(ye.pipes,Oe)!==-1)&&!Bt&&(se("false write response, pause",ye.awaitDrain),ye.awaitDrain++),et.pause())}function Kt(dr){se("onerror",dr),gr(),Oe.removeListener("error",Kt),q(Oe,"error")===0&&Ee(Oe,dr)}function ar(){Oe.removeListener("finish",rr),gr()}function rr(){se("onfinish"),Oe.removeListener("close",ar),gr()}function gr(){se("unpipe"),et.unpipe(Oe)}return et.on("data",ir),_e(Oe,"error",Kt),Oe.once("close",ar),Oe.once("finish",rr),Oe.emit("pipe",et),ye.flowing||(se("pipe resume"),et.resume()),Oe},Le.prototype.unpipe=function(Oe){var Ze=this._readableState,et={hasUnpiped:!1};if(Ze.pipesCount===0)return this;if(Ze.pipesCount===1)return Oe&&Oe!==Ze.pipes||(Oe||(Oe=Ze.pipes),Ze.pipes=null,Ze.pipesCount=0,Ze.flowing=!1,Oe&&Oe.emit("unpipe",this,et)),this;if(!Oe){var ye=Ze.pipes,Ae=Ze.pipesCount;Ze.pipes=null,Ze.pipesCount=0,Ze.flowing=!1;for(var De=0;De<Ae;De++)ye[De].emit("unpipe",this,{hasUnpiped:!1});return this}var Ue=Fe(Ze.pipes,Oe);return Ue===-1||(Ze.pipes.splice(Ue,1),Ze.pipesCount-=1,Ze.pipesCount===1&&(Ze.pipes=Ze.pipes[0]),Oe.emit("unpipe",this,et)),this},Le.prototype.on=function(Oe,Ze){var et=te.prototype.on.call(this,Oe,Ze),ye=this._readableState;return Oe==="data"?(ye.readableListening=this.listenerCount("readable")>0,ye.flowing!==!1&&this.resume()):Oe==="readable"&&(ye.endEmitted||ye.readableListening||(ye.readableListening=ye.needReadable=!0,ye.flowing=!1,ye.emittedReadable=!1,se("on readable",ye.length,ye.reading),ye.length?Pe(this):ye.reading||w.nextTick(ut,this))),et},Le.prototype.addListener=Le.prototype.on,Le.prototype.removeListener=function(Oe,Ze){var et=te.prototype.removeListener.call(this,Oe,Ze);return Oe==="readable"&&w.nextTick(Qe,this),et},Le.prototype.removeAllListeners=function(Oe){var Ze=te.prototype.removeAllListeners.apply(this,arguments);return Oe!=="readable"&&Oe!==void 0||w.nextTick(Qe,this),Ze},Le.prototype.resume=function(){var Oe=this._readableState;return Oe.flowing||(se("resume"),Oe.flowing=!Oe.readableListening,dt(this,Oe)),Oe.paused=!1,this},Le.prototype.pause=function(){return se("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(se("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Le.prototype.wrap=function(Oe){var Ze=this,et=this._readableState,ye=!1;for(var Ae in Oe.on("end",function(){if(se("wrapped end"),et.decoder&&!et.ended){var Ue=et.decoder.end();Ue&&Ue.length&&Ze.push(Ue)}Ze.push(null)}),Oe.on("data",function(Ue){se("wrapped data"),et.decoder&&(Ue=et.decoder.write(Ue)),et.objectMode&&Ue==null||(et.objectMode||Ue&&Ue.length)&&(Ze.push(Ue)||(ye=!0,Oe.pause()))}),Oe)this[Ae]===void 0&&typeof Oe[Ae]=="function"&&(this[Ae]=function(Ue){return function(){return Oe[Ue].apply(Oe,arguments)}}(Ae));for(var De=0;De<Ie.length;De++)Oe.on(Ie[De],this.emit.bind(this,Ie[De]));return this._read=function(Ue){se("wrapped _read",Ue),ye&&(ye=!1,Oe.resume())},this},typeof Symbol=="function"&&(Le.prototype[Symbol.asyncIterator]=function(){return fe===void 0&&(fe=d("./internal/streams/async_iterator")),fe(this)}),Object.defineProperty(Le.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Le.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Le.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Oe){this._readableState&&(this._readableState.flowing=Oe)}}),Le._fromList=we,Object.defineProperty(Le.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(Le.from=function(Oe,Ze){return de===void 0&&(de=d("./internal/streams/from")),de(Le,Oe,Ze)})}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/async_iterator":72,"./internal/streams/buffer_list":73,"./internal/streams/destroy":74,"./internal/streams/from":76,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,events:35,inherits:46,"string_decoder/":80,util:29}],70:[function(d,m,g){m.exports=ie;var w=d("../errors").codes,D=w.ERR_METHOD_NOT_IMPLEMENTED,H=w.ERR_MULTIPLE_CALLBACK,q=w.ERR_TRANSFORM_ALREADY_TRANSFORMING,te=w.ERR_TRANSFORM_WITH_LENGTH_0,re=d("./_stream_duplex");function ne(le,ue){var fe=this._transformState;fe.transforming=!1;var de=fe.writecb;if(de===null)return this.emit("error",new H);fe.writechunk=null,fe.writecb=null,ue!=null&&this.push(ue),de(le);var me=this._readableState;me.reading=!1,(me.needReadable||me.length<me.highWaterMark)&&this._read(me.highWaterMark)}function ie(le){if(!(this instanceof ie))return new ie(le);re.call(this,le),this._transformState={afterTransform:ne.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,le&&(typeof le.transform=="function"&&(this._transform=le.transform),typeof le.flush=="function"&&(this._flush=le.flush)),this.on("prefinish",ae)}function ae(){var le=this;typeof this._flush!="function"||this._readableState.destroyed?se(this,null,null):this._flush(function(ue,fe){se(le,ue,fe)})}function se(le,ue,fe){if(ue)return le.emit("error",ue);if(fe!=null&&le.push(fe),le._writableState.length)throw new te;if(le._transformState.transforming)throw new q;return le.push(null)}d("inherits")(ie,re),ie.prototype.push=function(le,ue){return this._transformState.needTransform=!1,re.prototype.push.call(this,le,ue)},ie.prototype._transform=function(le,ue,fe){fe(new D("_transform()"))},ie.prototype._write=function(le,ue,fe){var de=this._transformState;if(de.writecb=fe,de.writechunk=le,de.writeencoding=ue,!de.transforming){var me=this._readableState;(de.needTransform||me.needReadable||me.length<me.highWaterMark)&&this._read(me.highWaterMark)}},ie.prototype._read=function(le){var ue=this._transformState;ue.writechunk===null||ue.transforming?ue.needTransform=!0:(ue.transforming=!0,this._transform(ue.writechunk,ue.writeencoding,ue.afterTransform))},ie.prototype._destroy=function(le,ue){re.prototype._destroy.call(this,le,function(fe){ue(fe)})}},{"../errors":66,"./_stream_duplex":67,inherits:46}],71:[function(d,m,g){(function(w,D){(function(){function H(Xe){var we=this;this.next=null,this.entry=null,this.finish=function(){kt(we,Xe)}}var q;m.exports=Te,Te.WritableState=_e;var te={deprecate:d("util-deprecate")},re=d("./internal/streams/stream"),ne=d("buffer").Buffer,ie=D.Uint8Array||function(){};function ae(Xe){return ne.from(Xe)}function se(Xe){return ne.isBuffer(Xe)||Xe instanceof ie}var le,ue=d("./internal/streams/destroy"),fe=d("./internal/streams/state").getHighWaterMark,de=d("../errors").codes,me=de.ERR_INVALID_ARG_TYPE,ge=de.ERR_METHOD_NOT_IMPLEMENTED,he=de.ERR_MULTIPLE_CALLBACK,pe=de.ERR_STREAM_CANNOT_PIPE,ve=de.ERR_STREAM_DESTROYED,ke=de.ERR_STREAM_NULL_VALUES,be=de.ERR_STREAM_WRITE_AFTER_END,Se=de.ERR_UNKNOWN_ENCODING,Ee=ue.errorOrDestroy;function Ie(){}function _e(Xe,we,qe){q=q||d("./_stream_duplex"),Xe=Xe||{},typeof qe!="boolean"&&(qe=we instanceof q),this.objectMode=!!Xe.objectMode,qe&&(this.objectMode=this.objectMode||!!Xe.writableObjectMode),this.highWaterMark=fe(this,Xe,"writableHighWaterMark",qe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ne=Xe.decodeStrings===!1;this.decodeStrings=!Ne,this.defaultEncoding=Xe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Fe){Ye(we,Fe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Xe.emitClose!==!1,this.autoDestroy=!!Xe.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new H(this)}function Te(Xe){var we=this instanceof(q=q||d("./_stream_duplex"));if(!we&&!le.call(Te,this))return new Te(Xe);this._writableState=new _e(Xe,this,we),this.writable=!0,Xe&&(typeof Xe.write=="function"&&(this._write=Xe.write),typeof Xe.writev=="function"&&(this._writev=Xe.writev),typeof Xe.destroy=="function"&&(this._destroy=Xe.destroy),typeof Xe.final=="function"&&(this._final=Xe.final)),re.call(this)}function Le(Xe,we){var qe=new be;Ee(Xe,qe),w.nextTick(we,qe)}function Be(Xe,we,qe,Ne){var Fe;return qe===null?Fe=new ke:typeof qe=="string"||we.objectMode||(Fe=new me("chunk",["string","Buffer"],qe)),!Fe||(Ee(Xe,Fe),w.nextTick(Ne,Fe),!1)}function Ce(Xe,we,qe){return Xe.objectMode||Xe.decodeStrings===!1||typeof we!="string"||(we=ne.from(we,qe)),we}function ze(Xe,we,qe,Ne,Fe,Oe){if(!qe){var Ze=Ce(we,Ne,Fe);Ne!==Ze&&(qe=!0,Fe="buffer",Ne=Ze)}var et=we.objectMode?1:Ne.length;we.length+=et;var ye=we.length<we.highWaterMark;if(ye||(we.needDrain=!0),we.writing||we.corked){var Ae=we.lastBufferedRequest;we.lastBufferedRequest={chunk:Ne,encoding:Fe,isBuf:qe,callback:Oe,next:null},Ae?Ae.next=we.lastBufferedRequest:we.bufferedRequest=we.lastBufferedRequest,we.bufferedRequestCount+=1}else Ke(Xe,we,!1,et,Ne,Fe,Oe);return ye}function Ke(Xe,we,qe,Ne,Fe,Oe,Ze){we.writelen=Ne,we.writecb=Ze,we.writing=!0,we.sync=!0,we.destroyed?we.onwrite(new ve("write")):qe?Xe._writev(Fe,we.onwrite):Xe._write(Fe,Oe,we.onwrite),we.sync=!1}function je(Xe,we,qe,Ne,Fe){--we.pendingcb,qe?(w.nextTick(Fe,Ne),w.nextTick(ut,Xe,we),Xe._writableState.errorEmitted=!0,Ee(Xe,Ne)):(Fe(Ne),Xe._writableState.errorEmitted=!0,Ee(Xe,Ne),ut(Xe,we))}function $e(Xe){Xe.writing=!1,Xe.writecb=null,Xe.length-=Xe.writelen,Xe.writelen=0}function Ye(Xe,we){var qe=Xe._writableState,Ne=qe.sync,Fe=qe.writecb;if(typeof Fe!="function")throw new he;if($e(qe),we)je(Xe,qe,Ne,we,Fe);else{var Oe=Je(qe)||Xe.destroyed;Oe||qe.corked||qe.bufferProcessing||!qe.bufferedRequest||it(Xe,qe),Ne?w.nextTick(Pe,Xe,qe,Oe,Fe):Pe(Xe,qe,Oe,Fe)}}function Pe(Xe,we,qe,Ne){qe||Ge(Xe,we),we.pendingcb--,Ne(),ut(Xe,we)}function Ge(Xe,we){we.length===0&&we.needDrain&&(we.needDrain=!1,Xe.emit("drain"))}function it(Xe,we){we.bufferProcessing=!0;var qe=we.bufferedRequest;if(Xe._writev&&qe&&qe.next){var Ne=we.bufferedRequestCount,Fe=new Array(Ne),Oe=we.corkedRequestsFree;Oe.entry=qe;for(var Ze=0,et=!0;qe;)Fe[Ze]=qe,qe.isBuf||(et=!1),qe=qe.next,Ze+=1;Fe.allBuffers=et,Ke(Xe,we,!0,we.length,Fe,"",Oe.finish),we.pendingcb++,we.lastBufferedRequest=null,Oe.next?(we.corkedRequestsFree=Oe.next,Oe.next=null):we.corkedRequestsFree=new H(we),we.bufferedRequestCount=0}else{for(;qe;){var ye=qe.chunk,Ae=qe.encoding,De=qe.callback;if(Ke(Xe,we,!1,we.objectMode?1:ye.length,ye,Ae,De),qe=qe.next,we.bufferedRequestCount--,we.writing)break}qe===null&&(we.lastBufferedRequest=null)}we.bufferedRequest=qe,we.bufferProcessing=!1}function Je(Xe){return Xe.ending&&Xe.length===0&&Xe.bufferedRequest===null&&!Xe.finished&&!Xe.writing}function He(Xe,we){Xe._final(function(qe){we.pendingcb--,qe&&Ee(Xe,qe),we.prefinished=!0,Xe.emit("prefinish"),ut(Xe,we)})}function Qe(Xe,we){we.prefinished||we.finalCalled||(typeof Xe._final!="function"||we.destroyed?(we.prefinished=!0,Xe.emit("prefinish")):(we.pendingcb++,we.finalCalled=!0,w.nextTick(He,Xe,we)))}function ut(Xe,we){var qe=Je(we);if(qe&&(Qe(Xe,we),we.pendingcb===0&&(we.finished=!0,Xe.emit("finish"),we.autoDestroy))){var Ne=Xe._readableState;(!Ne||Ne.autoDestroy&&Ne.endEmitted)&&Xe.destroy()}return qe}function dt(Xe,we,qe){we.ending=!0,ut(Xe,we),qe&&(we.finished?w.nextTick(qe):Xe.once("finish",qe)),we.ended=!0,Xe.writable=!1}function kt(Xe,we,qe){var Ne=Xe.entry;for(Xe.entry=null;Ne;){var Fe=Ne.callback;we.pendingcb--,Fe(qe),Ne=Ne.next}we.corkedRequestsFree.next=Xe}d("inherits")(Te,re),_e.prototype.getBuffer=function(){for(var Xe=this.bufferedRequest,we=[];Xe;)we.push(Xe),Xe=Xe.next;return we},function(){try{Object.defineProperty(_e.prototype,"buffer",{get:te.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(le=Function.prototype[Symbol.hasInstance],Object.defineProperty(Te,Symbol.hasInstance,{value:function(Xe){return!!le.call(this,Xe)||this===Te&&Xe&&Xe._writableState instanceof _e}})):le=function(Xe){return Xe instanceof this},Te.prototype.pipe=function(){Ee(this,new pe)},Te.prototype.write=function(Xe,we,qe){var Ne=this._writableState,Fe=!1,Oe=!Ne.objectMode&&se(Xe);return Oe&&!ne.isBuffer(Xe)&&(Xe=ae(Xe)),typeof we=="function"&&(qe=we,we=null),Oe?we="buffer":we||(we=Ne.defaultEncoding),typeof qe!="function"&&(qe=Ie),Ne.ending?Le(this,qe):(Oe||Be(this,Ne,Xe,qe))&&(Ne.pendingcb++,Fe=ze(this,Ne,Oe,Xe,we,qe)),Fe},Te.prototype.cork=function(){this._writableState.corked++},Te.prototype.uncork=function(){var Xe=this._writableState;Xe.corked&&(Xe.corked--,Xe.writing||Xe.corked||Xe.bufferProcessing||!Xe.bufferedRequest||it(this,Xe))},Te.prototype.setDefaultEncoding=function(Xe){if(typeof Xe=="string"&&(Xe=Xe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Xe+"").toLowerCase())>-1))throw new Se(Xe);return this._writableState.defaultEncoding=Xe,this},Object.defineProperty(Te.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Te.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Te.prototype._write=function(Xe,we,qe){qe(new ge("_write()"))},Te.prototype._writev=null,Te.prototype.end=function(Xe,we,qe){var Ne=this._writableState;return typeof Xe=="function"?(qe=Xe,Xe=null,we=null):typeof we=="function"&&(qe=we,we=null),Xe!=null&&this.write(Xe,we),Ne.corked&&(Ne.corked=1,this.uncork()),Ne.ending||dt(this,Ne,qe),this},Object.defineProperty(Te.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Te.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Xe){this._writableState&&(this._writableState.destroyed=Xe)}}),Te.prototype.destroy=ue.destroy,Te.prototype._undestroy=ue.undestroy,Te.prototype._destroy=function(Xe,we){we(Xe)}}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/destroy":74,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,inherits:46,"util-deprecate":81}],72:[function(d,m,g){(function(w){(function(){var D;function H(ve,ke,be){return ke in ve?Object.defineProperty(ve,ke,{value:be,enumerable:!0,configurable:!0,writable:!0}):ve[ke]=be,ve}var q=d("./end-of-stream"),te=Symbol("lastResolve"),re=Symbol("lastReject"),ne=Symbol("error"),ie=Symbol("ended"),ae=Symbol("lastPromise"),se=Symbol("handlePromise"),le=Symbol("stream");function ue(ve,ke){return{value:ve,done:ke}}function fe(ve){var ke=ve[te];if(ke!==null){var be=ve[le].read();be!==null&&(ve[ae]=null,ve[te]=null,ve[re]=null,ke(ue(be,!1)))}}function de(ve){w.nextTick(fe,ve)}function me(ve,ke){return function(be,Se){ve.then(function(){ke[ie]?be(ue(void 0,!0)):ke[se](be,Se)},Se)}}var ge=Object.getPrototypeOf(function(){}),he=Object.setPrototypeOf((D={get stream(){return this[le]},next:function(){var ve=this,ke=this[ne];if(ke!==null)return Promise.reject(ke);if(this[ie])return Promise.resolve(ue(void 0,!0));if(this[le].destroyed)return new Promise(function(Ie,_e){w.nextTick(function(){ve[ne]?_e(ve[ne]):Ie(ue(void 0,!0))})});var be,Se=this[ae];if(Se)be=new Promise(me(Se,this));else{var Ee=this[le].read();if(Ee!==null)return Promise.resolve(ue(Ee,!1));be=new Promise(this[se])}return this[ae]=be,be}},H(D,Symbol.asyncIterator,function(){return this}),H(D,"return",function(){var ve=this;return new Promise(function(ke,be){ve[le].destroy(null,function(Se){Se?be(Se):ke(ue(void 0,!0))})})}),D),ge),pe=function(ve){var ke,be=Object.create(he,(H(ke={},le,{value:ve,writable:!0}),H(ke,te,{value:null,writable:!0}),H(ke,re,{value:null,writable:!0}),H(ke,ne,{value:null,writable:!0}),H(ke,ie,{value:ve._readableState.endEmitted,writable:!0}),H(ke,se,{value:function(Se,Ee){var Ie=be[le].read();Ie?(be[ae]=null,be[te]=null,be[re]=null,Se(ue(Ie,!1))):(be[te]=Se,be[re]=Ee)},writable:!0}),ke));return be[ae]=null,q(ve,function(Se){if(Se&&Se.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Ee=be[re];return Ee!==null&&(be[ae]=null,be[te]=null,be[re]=null,Ee(Se)),void(be[ne]=Se)}var Ie=be[te];Ie!==null&&(be[ae]=null,be[te]=null,be[re]=null,Ie(ue(void 0,!0))),be[ie]=!0}),ve.on("readable",de.bind(null,be)),be};m.exports=pe}).call(this)}).call(this,d("_process"))},{"./end-of-stream":75,_process:63}],73:[function(d,m,g){function w(le,ue){var fe=Object.keys(le);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(le);ue&&(de=de.filter(function(me){return Object.getOwnPropertyDescriptor(le,me).enumerable})),fe.push.apply(fe,de)}return fe}function D(le){for(var ue=1;ue<arguments.length;ue++){var fe=arguments[ue]!=null?arguments[ue]:{};ue%2?w(Object(fe),!0).forEach(function(de){H(le,de,fe[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(fe)):w(Object(fe)).forEach(function(de){Object.defineProperty(le,de,Object.getOwnPropertyDescriptor(fe,de))})}return le}function H(le,ue,fe){return ue in le?Object.defineProperty(le,ue,{value:fe,enumerable:!0,configurable:!0,writable:!0}):le[ue]=fe,le}function q(le,ue){if(!(le instanceof ue))throw new TypeError("Cannot call a class as a function")}function te(le,ue){for(var fe=0;fe<ue.length;fe++){var de=ue[fe];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(le,de.key,de)}}function re(le,ue,fe){return te(le.prototype,ue),le}var ne=d("buffer").Buffer,ie=d("util").inspect,ae=ie&&ie.custom||"inspect";function se(le,ue,fe){ne.prototype.copy.call(le,ue,fe)}m.exports=function(){function le(){q(this,le),this.head=null,this.tail=null,this.length=0}return re(le,[{key:"push",value:function(ue){var fe={data:ue,next:null};this.length>0?this.tail.next=fe:this.head=fe,this.tail=fe,++this.length}},{key:"unshift",value:function(ue){var fe={data:ue,next:this.head};this.length===0&&(this.tail=fe),this.head=fe,++this.length}},{key:"shift",value:function(){if(this.length!==0){var ue=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ue}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(ue){if(this.length===0)return"";for(var fe=this.head,de=""+fe.data;fe=fe.next;)de+=ue+fe.data;return de}},{key:"concat",value:function(ue){if(this.length===0)return ne.alloc(0);for(var fe=ne.allocUnsafe(ue>>>0),de=this.head,me=0;de;)se(de.data,fe,me),me+=de.data.length,de=de.next;return fe}},{key:"consume",value:function(ue,fe){var de;return ue<this.head.data.length?(de=this.head.data.slice(0,ue),this.head.data=this.head.data.slice(ue)):de=ue===this.head.data.length?this.shift():fe?this._getString(ue):this._getBuffer(ue),de}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(ue){var fe=this.head,de=1,me=fe.data;for(ue-=me.length;fe=fe.next;){var ge=fe.data,he=ue>ge.length?ge.length:ue;if(he===ge.length?me+=ge:me+=ge.slice(0,ue),(ue-=he)==0){he===ge.length?(++de,fe.next?this.head=fe.next:this.head=this.tail=null):(this.head=fe,fe.data=ge.slice(he));break}++de}return this.length-=de,me}},{key:"_getBuffer",value:function(ue){var fe=ne.allocUnsafe(ue),de=this.head,me=1;for(de.data.copy(fe),ue-=de.data.length;de=de.next;){var ge=de.data,he=ue>ge.length?ge.length:ue;if(ge.copy(fe,fe.length-ue,0,he),(ue-=he)==0){he===ge.length?(++me,de.next?this.head=de.next:this.head=this.tail=null):(this.head=de,de.data=ge.slice(he));break}++me}return this.length-=me,fe}},{key:ae,value:function(ue,fe){return ie(this,D({},fe,{depth:0,customInspect:!1}))}}]),le}()},{buffer:32,util:29}],74:[function(d,m,g){(function(w){(function(){function D(ie,ae){var se=this,le=this._readableState&&this._readableState.destroyed,ue=this._writableState&&this._writableState.destroyed;return le||ue?(ae?ae(ie):ie&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,w.nextTick(re,this,ie)):w.nextTick(re,this,ie)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ie||null,function(fe){!ae&&fe?se._writableState?se._writableState.errorEmitted?w.nextTick(q,se):(se._writableState.errorEmitted=!0,w.nextTick(H,se,fe)):w.nextTick(H,se,fe):ae?(w.nextTick(q,se),ae(fe)):w.nextTick(q,se)}),this)}function H(ie,ae){re(ie,ae),q(ie)}function q(ie){ie._writableState&&!ie._writableState.emitClose||ie._readableState&&!ie._readableState.emitClose||ie.emit("close")}function te(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function re(ie,ae){ie.emit("error",ae)}function ne(ie,ae){var se=ie._readableState,le=ie._writableState;se&&se.autoDestroy||le&&le.autoDestroy?ie.destroy(ae):ie.emit("error",ae)}m.exports={destroy:D,undestroy:te,errorOrDestroy:ne}}).call(this)}).call(this,d("_process"))},{_process:63}],75:[function(d,m,g){var w=d("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function D(re){var ne=!1;return function(){if(!ne){ne=!0;for(var ie=arguments.length,ae=new Array(ie),se=0;se<ie;se++)ae[se]=arguments[se];re.apply(this,ae)}}}function H(){}function q(re){return re.setHeader&&typeof re.abort=="function"}function te(re,ne,ie){if(typeof ne=="function")return te(re,null,ne);ne||(ne={}),ie=D(ie||H);var ae=ne.readable||ne.readable!==!1&&re.readable,se=ne.writable||ne.writable!==!1&&re.writable,le=function(){re.writable||fe()},ue=re._writableState&&re._writableState.finished,fe=function(){se=!1,ue=!0,ae||ie.call(re)},de=re._readableState&&re._readableState.endEmitted,me=function(){ae=!1,de=!0,se||ie.call(re)},ge=function(ve){ie.call(re,ve)},he=function(){var ve;return ae&&!de?(re._readableState&&re._readableState.ended||(ve=new w),ie.call(re,ve)):se&&!ue?(re._writableState&&re._writableState.ended||(ve=new w),ie.call(re,ve)):void 0},pe=function(){re.req.on("finish",fe)};return q(re)?(re.on("complete",fe),re.on("abort",he),re.req?pe():re.on("request",pe)):se&&!re._writableState&&(re.on("end",le),re.on("close",le)),re.on("end",me),re.on("finish",fe),ne.error!==!1&&re.on("error",ge),re.on("close",he),function(){re.removeListener("complete",fe),re.removeListener("abort",he),re.removeListener("request",pe),re.req&&re.req.removeListener("finish",fe),re.removeListener("end",le),re.removeListener("close",le),re.removeListener("finish",fe),re.removeListener("end",me),re.removeListener("error",ge),re.removeListener("close",he)}}m.exports=te},{"../../../errors":66}],76:[function(d,m,g){m.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],77:[function(d,m,g){var w;function D(fe){var de=!1;return function(){de||(de=!0,fe.apply(void 0,arguments))}}var H=d("../../../errors").codes,q=H.ERR_MISSING_ARGS,te=H.ERR_STREAM_DESTROYED;function re(fe){if(fe)throw fe}function ne(fe){return fe.setHeader&&typeof fe.abort=="function"}function ie(fe,de,me,ge){ge=D(ge);var he=!1;fe.on("close",function(){he=!0}),w===void 0&&(w=d("./end-of-stream")),w(fe,{readable:de,writable:me},function(ve){if(ve)return ge(ve);he=!0,ge()});var pe=!1;return function(ve){if(!he&&!pe)return pe=!0,ne(fe)?fe.abort():typeof fe.destroy=="function"?fe.destroy():void ge(ve||new te("pipe"))}}function ae(fe){fe()}function se(fe,de){return fe.pipe(de)}function le(fe){return fe.length?typeof fe[fe.length-1]!="function"?re:fe.pop():re}function ue(){for(var fe=arguments.length,de=new Array(fe),me=0;me<fe;me++)de[me]=arguments[me];var ge,he=le(de);if(Array.isArray(de[0])&&(de=de[0]),de.length<2)throw new q("streams");var pe=de.map(function(ve,ke){var be=ke<de.length-1;return ie(ve,be,ke>0,function(Se){ge||(ge=Se),Se&&pe.forEach(ae),be||(pe.forEach(ae),he(ge))})});return de.reduce(se)}m.exports=ue},{"../../../errors":66,"./end-of-stream":75}],78:[function(d,m,g){var w=d("../../../errors").codes.ERR_INVALID_OPT_VALUE;function D(q,te,re){return q.highWaterMark!=null?q.highWaterMark:te?q[re]:null}function H(q,te,re,ne){var ie=D(te,ne,re);if(ie!=null){if(!isFinite(ie)||Math.floor(ie)!==ie||ie<0)throw new w(ne?re:"highWaterMark",ie);return Math.floor(ie)}return q.objectMode?16:16384}m.exports={getHighWaterMark:H}},{"../../../errors":66}],79:[function(d,m,g){m.exports=d("events").EventEmitter},{events:35}],80:[function(d,m,g){var w=d("safe-buffer").Buffer,D=w.isEncoding||function(pe){switch((pe=""+pe)&&pe.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function H(pe){if(!pe)return"utf8";for(var ve;;)switch(pe){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return pe;default:if(ve)return;pe=(""+pe).toLowerCase(),ve=!0}}function q(pe){var ve=H(pe);if(typeof ve!="string"&&(w.isEncoding===D||!D(pe)))throw new Error("Unknown encoding: "+pe);return ve||pe}function te(pe){var ve;switch(this.encoding=q(pe),this.encoding){case"utf16le":this.text=ue,this.end=fe,ve=4;break;case"utf8":this.fillLast=ae,ve=4;break;case"base64":this.text=de,this.end=me,ve=3;break;default:return this.write=ge,void(this.end=he)}this.lastNeed=0,this.lastTotal=0,this.lastChar=w.allocUnsafe(ve)}function re(pe){return pe<=127?0:pe>>5==6?2:pe>>4==14?3:pe>>3==30?4:pe>>6==2?-1:-2}function ne(pe,ve,ke){var be=ve.length-1;if(be<ke)return 0;var Se=re(ve[be]);return Se>=0?(Se>0&&(pe.lastNeed=Se-1),Se):--be<ke||Se===-2?0:(Se=re(ve[be]))>=0?(Se>0&&(pe.lastNeed=Se-2),Se):--be<ke||Se===-2?0:(Se=re(ve[be]))>=0?(Se>0&&(Se===2?Se=0:pe.lastNeed=Se-3),Se):0}function ie(pe,ve,ke){if((192&ve[0])!=128)return pe.lastNeed=0,"�";if(pe.lastNeed>1&&ve.length>1){if((192&ve[1])!=128)return pe.lastNeed=1,"�";if(pe.lastNeed>2&&ve.length>2&&(192&ve[2])!=128)return pe.lastNeed=2,"�"}}function ae(pe){var ve=this.lastTotal-this.lastNeed,ke=ie(this,pe);return ke!==void 0?ke:this.lastNeed<=pe.length?(pe.copy(this.lastChar,ve,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(pe.copy(this.lastChar,ve,0,pe.length),void(this.lastNeed-=pe.length))}function se(pe,ve){var ke=ne(this,pe,ve);if(!this.lastNeed)return pe.toString("utf8",ve);this.lastTotal=ke;var be=pe.length-(ke-this.lastNeed);return pe.copy(this.lastChar,0,be),pe.toString("utf8",ve,be)}function le(pe){var ve=pe&&pe.length?this.write(pe):"";return this.lastNeed?ve+"�":ve}function ue(pe,ve){if((pe.length-ve)%2==0){var ke=pe.toString("utf16le",ve);if(ke){var be=ke.charCodeAt(ke.length-1);if(be>=55296&&be<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=pe[pe.length-2],this.lastChar[1]=pe[pe.length-1],ke.slice(0,-1)}return ke}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=pe[pe.length-1],pe.toString("utf16le",ve,pe.length-1)}function fe(pe){var ve=pe&&pe.length?this.write(pe):"";if(this.lastNeed){var ke=this.lastTotal-this.lastNeed;return ve+this.lastChar.toString("utf16le",0,ke)}return ve}function de(pe,ve){var ke=(pe.length-ve)%3;return ke===0?pe.toString("base64",ve):(this.lastNeed=3-ke,this.lastTotal=3,ke===1?this.lastChar[0]=pe[pe.length-1]:(this.lastChar[0]=pe[pe.length-2],this.lastChar[1]=pe[pe.length-1]),pe.toString("base64",ve,pe.length-ke))}function me(pe){var ve=pe&&pe.length?this.write(pe):"";return this.lastNeed?ve+this.lastChar.toString("base64",0,3-this.lastNeed):ve}function ge(pe){return pe.toString(this.encoding)}function he(pe){return pe&&pe.length?this.write(pe):""}g.StringDecoder=te,te.prototype.write=function(pe){if(pe.length===0)return"";var ve,ke;if(this.lastNeed){if((ve=this.fillLast(pe))===void 0)return"";ke=this.lastNeed,this.lastNeed=0}else ke=0;return ke<pe.length?ve?ve+this.text(pe,ke):this.text(pe,ke):ve||""},te.prototype.end=le,te.prototype.text=se,te.prototype.fillLast=function(pe){if(this.lastNeed<=pe.length)return pe.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);pe.copy(this.lastChar,this.lastTotal-this.lastNeed,0,pe.length),this.lastNeed-=pe.length}},{"safe-buffer":64}],81:[function(d,m,g){(function(w){(function(){function D(q,te){if(H("noDeprecation"))return q;var re=!1;function ne(){if(!re){if(H("throwDeprecation"))throw new Error(te);H("traceDeprecation")?console.trace(te):console.warn(te),re=!0}return q.apply(this,arguments)}return ne}function H(q){try{if(!w.localStorage)return!1}catch{return!1}var te=w.localStorage[q];return te!=null&&String(te).toLowerCase()==="true"}m.exports=D}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],82:[function(d,m,g){arguments[4][25][0].apply(g,arguments)},{dup:25}],83:[function(d,m,g){var w=d("is-arguments"),D=d("is-generator-function"),H=d("which-typed-array"),q=d("is-typed-array");function te(Ue){return Ue.call.bind(Ue)}var re=typeof BigInt<"u",ne=typeof Symbol<"u",ie=te(Object.prototype.toString),ae=te(Number.prototype.valueOf),se=te(String.prototype.valueOf),le=te(Boolean.prototype.valueOf);if(re)var ue=te(BigInt.prototype.valueOf);if(ne)var fe=te(Symbol.prototype.valueOf);function de(Ue,St){if(typeof Ue!="object")return!1;try{return St(Ue),!0}catch{return!1}}function me(Ue){return typeof Promise<"u"&&Ue instanceof Promise||Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"&&typeof Ue.catch=="function"}function ge(Ue){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Ue):q(Ue)||He(Ue)}function he(Ue){return H(Ue)==="Uint8Array"}function pe(Ue){return H(Ue)==="Uint8ClampedArray"}function ve(Ue){return H(Ue)==="Uint16Array"}function ke(Ue){return H(Ue)==="Uint32Array"}function be(Ue){return H(Ue)==="Int8Array"}function Se(Ue){return H(Ue)==="Int16Array"}function Ee(Ue){return H(Ue)==="Int32Array"}function Ie(Ue){return H(Ue)==="Float32Array"}function _e(Ue){return H(Ue)==="Float64Array"}function Te(Ue){return H(Ue)==="BigInt64Array"}function Le(Ue){return H(Ue)==="BigUint64Array"}function Be(Ue){return ie(Ue)==="[object Map]"}function Ce(Ue){return typeof Map<"u"&&(Be.working?Be(Ue):Ue instanceof Map)}function ze(Ue){return ie(Ue)==="[object Set]"}function Ke(Ue){return typeof Set<"u"&&(ze.working?ze(Ue):Ue instanceof Set)}function je(Ue){return ie(Ue)==="[object WeakMap]"}function $e(Ue){return typeof WeakMap<"u"&&(je.working?je(Ue):Ue instanceof WeakMap)}function Ye(Ue){return ie(Ue)==="[object WeakSet]"}function Pe(Ue){return Ye(Ue)}function Ge(Ue){return ie(Ue)==="[object ArrayBuffer]"}function it(Ue){return typeof ArrayBuffer<"u"&&(Ge.working?Ge(Ue):Ue instanceof ArrayBuffer)}function Je(Ue){return ie(Ue)==="[object DataView]"}function He(Ue){return typeof DataView<"u"&&(Je.working?Je(Ue):Ue instanceof DataView)}g.isArgumentsObject=w,g.isGeneratorFunction=D,g.isTypedArray=q,g.isPromise=me,g.isArrayBufferView=ge,g.isUint8Array=he,g.isUint8ClampedArray=pe,g.isUint16Array=ve,g.isUint32Array=ke,g.isInt8Array=be,g.isInt16Array=Se,g.isInt32Array=Ee,g.isFloat32Array=Ie,g.isFloat64Array=_e,g.isBigInt64Array=Te,g.isBigUint64Array=Le,Be.working=typeof Map<"u"&&Be(new Map),g.isMap=Ce,ze.working=typeof Set<"u"&&ze(new Set),g.isSet=Ke,je.working=typeof WeakMap<"u"&&je(new WeakMap),g.isWeakMap=$e,Ye.working=typeof WeakSet<"u"&&Ye(new WeakSet),g.isWeakSet=Pe,Ge.working=typeof ArrayBuffer<"u"&&Ge(new ArrayBuffer),g.isArrayBuffer=it,Je.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Je(new DataView(new ArrayBuffer(1),0,1)),g.isDataView=He;var Qe=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ut(Ue){return ie(Ue)==="[object SharedArrayBuffer]"}function dt(Ue){return Qe!==void 0&&(ut.working===void 0&&(ut.working=ut(new Qe)),ut.working?ut(Ue):Ue instanceof Qe)}function kt(Ue){return ie(Ue)==="[object AsyncFunction]"}function Xe(Ue){return ie(Ue)==="[object Map Iterator]"}function we(Ue){return ie(Ue)==="[object Set Iterator]"}function qe(Ue){return ie(Ue)==="[object Generator]"}function Ne(Ue){return ie(Ue)==="[object WebAssembly.Module]"}function Fe(Ue){return de(Ue,ae)}function Oe(Ue){return de(Ue,se)}function Ze(Ue){return de(Ue,le)}function et(Ue){return re&&de(Ue,ue)}function ye(Ue){return ne&&de(Ue,fe)}function Ae(Ue){return Fe(Ue)||Oe(Ue)||Ze(Ue)||et(Ue)||ye(Ue)}function De(Ue){return typeof Uint8Array<"u"&&(it(Ue)||dt(Ue))}g.isSharedArrayBuffer=dt,g.isAsyncFunction=kt,g.isMapIterator=Xe,g.isSetIterator=we,g.isGeneratorObject=qe,g.isWebAssemblyCompiledModule=Ne,g.isNumberObject=Fe,g.isStringObject=Oe,g.isBooleanObject=Ze,g.isBigIntObject=et,g.isSymbolObject=ye,g.isBoxedPrimitive=Ae,g.isAnyArrayBuffer=De,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ue){Object.defineProperty(g,Ue,{enumerable:!1,value:function(){throw new Error(Ue+" is not supported in userland")}})})},{"is-arguments":47,"is-generator-function":49,"is-typed-array":50,"which-typed-array":85}],84:[function(d,m,g){(function(w){(function(){var D=Object.getOwnPropertyDescriptors||function(He){for(var Qe=Object.keys(He),ut={},dt=0;dt<Qe.length;dt++)ut[Qe[dt]]=Object.getOwnPropertyDescriptor(He,Qe[dt]);return ut},H=/%[sdj%]/g;g.format=function(He){if(!Se(He)){for(var Qe=[],ut=0;ut<arguments.length;ut++)Qe.push(ne(arguments[ut]));return Qe.join(" ")}ut=1;for(var dt=arguments,kt=dt.length,Xe=String(He).replace(H,function(qe){if(qe==="%%")return"%";if(ut>=kt)return qe;switch(qe){case"%s":return String(dt[ut++]);case"%d":return Number(dt[ut++]);case"%j":try{return JSON.stringify(dt[ut++])}catch{return"[Circular]"}default:return qe}}),we=dt[ut];ut<kt;we=dt[++ut])ve(we)||!Te(we)?Xe+=" "+we:Xe+=" "+ne(we);return Xe},g.deprecate=function(He,Qe){if(w!==void 0&&w.noDeprecation===!0)return He;if(w===void 0)return function(){return g.deprecate(He,Qe).apply(this,arguments)};var ut=!1;function dt(){if(!ut){if(w.throwDeprecation)throw new Error(Qe);w.traceDeprecation?console.trace(Qe):console.error(Qe),ut=!0}return He.apply(this,arguments)}return dt};var q={},te=/^$/;if(w.env.NODE_DEBUG){var re=w.env.NODE_DEBUG;re=re.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),te=new RegExp("^"+re+"$","i")}function ne(He,Qe){var ut={seen:[],stylize:ae};return arguments.length>=3&&(ut.depth=arguments[2]),arguments.length>=4&&(ut.colors=arguments[3]),pe(Qe)?ut.showHidden=Qe:Qe&&g._extend(ut,Qe),Ie(ut.showHidden)&&(ut.showHidden=!1),Ie(ut.depth)&&(ut.depth=2),Ie(ut.colors)&&(ut.colors=!1),Ie(ut.customInspect)&&(ut.customInspect=!0),ut.colors&&(ut.stylize=ie),le(ut,He,ut.depth)}function ie(He,Qe){var ut=ne.styles[Qe];return ut?"\x1B["+ne.colors[ut][0]+"m"+He+"\x1B["+ne.colors[ut][1]+"m":He}function ae(He,Qe){return He}function se(He){var Qe={};return He.forEach(function(ut,dt){Qe[ut]=!0}),Qe}function le(He,Qe,ut){if(He.customInspect&&Qe&&Ce(Qe.inspect)&&Qe.inspect!==g.inspect&&(!Qe.constructor||Qe.constructor.prototype!==Qe)){var dt=Qe.inspect(ut,He);return Se(dt)||(dt=le(He,dt,ut)),dt}var kt=ue(He,Qe);if(kt)return kt;var Xe=Object.keys(Qe),we=se(Xe);if(He.showHidden&&(Xe=Object.getOwnPropertyNames(Qe)),Be(Qe)&&(Xe.indexOf("message")>=0||Xe.indexOf("description")>=0))return fe(Qe);if(Xe.length===0){if(Ce(Qe)){var qe=Qe.name?": "+Qe.name:"";return He.stylize("[Function"+qe+"]","special")}if(_e(Qe))return He.stylize(RegExp.prototype.toString.call(Qe),"regexp");if(Le(Qe))return He.stylize(Date.prototype.toString.call(Qe),"date");if(Be(Qe))return fe(Qe)}var Ne,Fe="",Oe=!1,Ze=["{","}"];return he(Qe)&&(Oe=!0,Ze=["[","]"]),Ce(Qe)&&(Fe=" [Function"+(Qe.name?": "+Qe.name:"")+"]"),_e(Qe)&&(Fe=" "+RegExp.prototype.toString.call(Qe)),Le(Qe)&&(Fe=" "+Date.prototype.toUTCString.call(Qe)),Be(Qe)&&(Fe=" "+fe(Qe)),Xe.length!==0||Oe&&Qe.length!=0?ut<0?_e(Qe)?He.stylize(RegExp.prototype.toString.call(Qe),"regexp"):He.stylize("[Object]","special"):(He.seen.push(Qe),Ne=Oe?de(He,Qe,ut,we,Xe):Xe.map(function(et){return me(He,Qe,ut,we,et,Oe)}),He.seen.pop(),ge(Ne,Fe,Ze)):Ze[0]+Fe+Ze[1]}function ue(He,Qe){if(Ie(Qe))return He.stylize("undefined","undefined");if(Se(Qe)){var ut="'"+JSON.stringify(Qe).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return He.stylize(ut,"string")}return be(Qe)?He.stylize(""+Qe,"number"):pe(Qe)?He.stylize(""+Qe,"boolean"):ve(Qe)?He.stylize("null","null"):void 0}function fe(He){return"["+Error.prototype.toString.call(He)+"]"}function de(He,Qe,ut,dt,kt){for(var Xe=[],we=0,qe=Qe.length;we<qe;++we)Pe(Qe,String(we))?Xe.push(me(He,Qe,ut,dt,String(we),!0)):Xe.push("");return kt.forEach(function(Ne){Ne.match(/^\d+$/)||Xe.push(me(He,Qe,ut,dt,Ne,!0))}),Xe}function me(He,Qe,ut,dt,kt,Xe){var we,qe,Ne;if((Ne=Object.getOwnPropertyDescriptor(Qe,kt)||{value:Qe[kt]}).get?qe=Ne.set?He.stylize("[Getter/Setter]","special"):He.stylize("[Getter]","special"):Ne.set&&(qe=He.stylize("[Setter]","special")),Pe(dt,kt)||(we="["+kt+"]"),qe||(He.seen.indexOf(Ne.value)<0?(qe=ve(ut)?le(He,Ne.value,null):le(He,Ne.value,ut-1)).indexOf(`
`)>-1&&(qe=Xe?qe.split(`
`).map(function(Fe){return"  "+Fe}).join(`
`).slice(2):`
`+qe.split(`
`).map(function(Fe){return"   "+Fe}).join(`
`)):qe=He.stylize("[Circular]","special")),Ie(we)){if(Xe&&kt.match(/^\d+$/))return qe;(we=JSON.stringify(""+kt)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(we=we.slice(1,-1),we=He.stylize(we,"name")):(we=we.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),we=He.stylize(we,"string"))}return we+": "+qe}function ge(He,Qe,ut){return He.reduce(function(dt,kt){return kt.indexOf(`
`),dt+kt.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?ut[0]+(Qe===""?"":Qe+`
 `)+" "+He.join(`,
  `)+" "+ut[1]:ut[0]+Qe+" "+He.join(", ")+" "+ut[1]}function he(He){return Array.isArray(He)}function pe(He){return typeof He=="boolean"}function ve(He){return He===null}function ke(He){return He==null}function be(He){return typeof He=="number"}function Se(He){return typeof He=="string"}function Ee(He){return typeof He=="symbol"}function Ie(He){return He===void 0}function _e(He){return Te(He)&&Ke(He)==="[object RegExp]"}function Te(He){return typeof He=="object"&&He!==null}function Le(He){return Te(He)&&Ke(He)==="[object Date]"}function Be(He){return Te(He)&&(Ke(He)==="[object Error]"||He instanceof Error)}function Ce(He){return typeof He=="function"}function ze(He){return He===null||typeof He=="boolean"||typeof He=="number"||typeof He=="string"||typeof He=="symbol"||He===void 0}function Ke(He){return Object.prototype.toString.call(He)}function je(He){return He<10?"0"+He.toString(10):He.toString(10)}g.debuglog=function(He){if(He=He.toUpperCase(),!q[He])if(te.test(He)){var Qe=w.pid;q[He]=function(){var ut=g.format.apply(g,arguments);console.error("%s %d: %s",He,Qe,ut)}}else q[He]=function(){};return q[He]},g.inspect=ne,ne.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ne.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},g.types=d("./support/types"),g.isArray=he,g.isBoolean=pe,g.isNull=ve,g.isNullOrUndefined=ke,g.isNumber=be,g.isString=Se,g.isSymbol=Ee,g.isUndefined=Ie,g.isRegExp=_e,g.types.isRegExp=_e,g.isObject=Te,g.isDate=Le,g.types.isDate=Le,g.isError=Be,g.types.isNativeError=Be,g.isFunction=Ce,g.isPrimitive=ze,g.isBuffer=d("./support/isBuffer");var $e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ye(){var He=new Date,Qe=[je(He.getHours()),je(He.getMinutes()),je(He.getSeconds())].join(":");return[He.getDate(),$e[He.getMonth()],Qe].join(" ")}function Pe(He,Qe){return Object.prototype.hasOwnProperty.call(He,Qe)}g.log=function(){console.log("%s - %s",Ye(),g.format.apply(g,arguments))},g.inherits=d("inherits"),g._extend=function(He,Qe){if(!Qe||!Te(Qe))return He;for(var ut=Object.keys(Qe),dt=ut.length;dt--;)He[ut[dt]]=Qe[ut[dt]];return He};var Ge=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function it(He,Qe){if(!He){var ut=new Error("Promise was rejected with a falsy value");ut.reason=He,He=ut}return Qe(He)}function Je(He){if(typeof He!="function")throw new TypeError('The "original" argument must be of type Function');function Qe(){for(var ut=[],dt=0;dt<arguments.length;dt++)ut.push(arguments[dt]);var kt=ut.pop();if(typeof kt!="function")throw new TypeError("The last argument must be of type Function");var Xe=this,we=function(){return kt.apply(Xe,arguments)};He.apply(this,ut).then(function(qe){w.nextTick(we.bind(null,null,qe))},function(qe){w.nextTick(it.bind(null,qe,we))})}return Object.setPrototypeOf(Qe,Object.getPrototypeOf(He)),Object.defineProperties(Qe,D(He)),Qe}g.promisify=function(He){if(typeof He!="function")throw new TypeError('The "original" argument must be of type Function');if(Ge&&He[Ge]){var Qe;if(typeof(Qe=He[Ge])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Qe,Ge,{value:Qe,enumerable:!1,writable:!1,configurable:!0}),Qe}function Qe(){for(var ut,dt,kt=new Promise(function(qe,Ne){ut=qe,dt=Ne}),Xe=[],we=0;we<arguments.length;we++)Xe.push(arguments[we]);Xe.push(function(qe,Ne){qe?dt(qe):ut(Ne)});try{He.apply(this,Xe)}catch(qe){dt(qe)}return kt}return Object.setPrototypeOf(Qe,Object.getPrototypeOf(He)),Ge&&Object.defineProperty(Qe,Ge,{value:Qe,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Qe,D(He))},g.promisify.custom=Ge,g.callbackify=Je}).call(this)}).call(this,d("_process"))},{"./support/isBuffer":82,"./support/types":83,_process:63,inherits:46}],85:[function(d,m,g){(function(w){(function(){var D=d("for-each"),H=d("available-typed-arrays"),q=d("call-bind/callBound"),te=d("gopd"),re=q("Object.prototype.toString"),ne=d("has-tostringtag/shams")(),ie=typeof globalThis>"u"?w:globalThis,ae=H(),se=q("String.prototype.slice"),le={},ue=Object.getPrototypeOf;ne&&te&&ue&&D(ae,function(me){if(typeof ie[me]=="function"){var ge=new ie[me];if(Symbol.toStringTag in ge){var he=ue(ge),pe=te(he,Symbol.toStringTag);if(!pe){var ve=ue(he);pe=te(ve,Symbol.toStringTag)}le[me]=pe.get}}});var fe=function(me){var ge=!1;return D(le,function(he,pe){if(!ge)try{var ve=he.call(me);ve===pe&&(ge=ve)}catch{}}),ge},de=d("is-typed-array");m.exports=function(me){return!!de(me)&&(ne&&Symbol.toStringTag in me?fe(me):se(re(me),8,-1))}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43,"is-typed-array":50}]},{},[20])(20);var browserExports=browser$1.exports,PNGFilterType,PNGFilterType2,PNGColorType,PNGColorType2;function png(){return{mime:"image/png",hasAlpha:!0,encode:(d,{deflateLevel:m=9,deflateStrategy:g=3,filterType:w=PNGFilterType.AUTO,colorType:D,inputHasAlpha:H=!0,...q}={})=>{const te=new browserExports.PNG({width:d.width,height:d.height});return te.data=d.data,browserExports.PNG.sync.write(te,{...q,deflateLevel:m,deflateStrategy:g,filterType:w,colorType:D!==void 0?D:H?PNGColorType.COLOR_ALPHA:PNGColorType.COLOR,inputHasAlpha:H})},decode:(d,m)=>{const g=browserExports.PNG.sync.read(d,m);return{data:g.data,width:g.width,height:g.height}}}}PNGFilterType2=PNGFilterType||(PNGFilterType={}),PNGFilterType2[PNGFilterType2.AUTO=-1]="AUTO",PNGFilterType2[PNGFilterType2.NONE=0]="NONE",PNGFilterType2[PNGFilterType2.SUB=1]="SUB",PNGFilterType2[PNGFilterType2.UP=2]="UP",PNGFilterType2[PNGFilterType2.AVERAGE=3]="AVERAGE",PNGFilterType2[PNGFilterType2.PATH=4]="PATH",PNGColorType2=PNGColorType||(PNGColorType={}),PNGColorType2[PNGColorType2.GRAYSCALE=0]="GRAYSCALE",PNGColorType2[PNGColorType2.COLOR=2]="COLOR",PNGColorType2[PNGColorType2.GRAYSCALE_ALPHA=4]="GRAYSCALE_ALPHA",PNGColorType2[PNGColorType2.COLOR_ALPHA=6]="COLOR_ALPHA";var UTIF={exports:{}},common={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,function(d){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function g(H,q){return Object.prototype.hasOwnProperty.call(H,q)}d.assign=function(H){for(var q=Array.prototype.slice.call(arguments,1);q.length;){var te=q.shift();if(te){if(typeof te!="object")throw new TypeError(te+"must be non-object");for(var re in te)g(te,re)&&(H[re]=te[re])}}return H},d.shrinkBuf=function(H,q){return H.length===q?H:H.subarray?H.subarray(0,q):(H.length=q,H)};var w={arraySet:function(H,q,te,re,ne){if(q.subarray&&H.subarray)H.set(q.subarray(te,te+re),ne);else for(var ie=0;ie<re;ie++)H[ne+ie]=q[te+ie]},flattenChunks:function(H){var q,te,re,ne,ie,ae;for(re=0,q=0,te=H.length;q<te;q++)re+=H[q].length;for(ae=new Uint8Array(re),ne=0,q=0,te=H.length;q<te;q++)ie=H[q],ae.set(ie,ne),ne+=ie.length;return ae}},D={arraySet:function(H,q,te,re,ne){for(var ie=0;ie<re;ie++)H[ne+ie]=q[te+ie]},flattenChunks:function(H){return[].concat.apply([],H)}};d.setTyped=function(H){H?(d.Buf8=Uint8Array,d.Buf16=Uint16Array,d.Buf32=Int32Array,d.assign(d,w)):(d.Buf8=Array,d.Buf16=Array,d.Buf32=Array,d.assign(d,D))},d.setTyped(m)}(common)),common}var deflate$1={},deflate={},trees={},hasRequiredTrees,adler32_1,hasRequiredAdler32,crc32_1,hasRequiredCrc32,messages,hasRequiredMessages,hasRequiredDeflate$1;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;var d=requireCommon(),m=0,g=1;function w(Ne){for(var Fe=Ne.length;--Fe>=0;)Ne[Fe]=0}var D=0,H=29,q=256,te=q+1+H,re=30,ne=19,ie=2*te+1,ae=15,se=16,le=7,ue=256,fe=16,de=17,me=18,ge=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],he=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ke=new Array(2*(te+2));w(ke);var be=new Array(2*re);w(be);var Se=new Array(512);w(Se);var Ee=new Array(256);w(Ee);var Ie=new Array(H);w(Ie);var _e,Te,Le,Be=new Array(re);function Ce(Ne,Fe,Oe,Ze,et){this.static_tree=Ne,this.extra_bits=Fe,this.extra_base=Oe,this.elems=Ze,this.max_length=et,this.has_stree=Ne&&Ne.length}function ze(Ne,Fe){this.dyn_tree=Ne,this.max_code=0,this.stat_desc=Fe}function Ke(Ne){return Ne<256?Se[Ne]:Se[256+(Ne>>>7)]}function je(Ne,Fe){Ne.pending_buf[Ne.pending++]=255&Fe,Ne.pending_buf[Ne.pending++]=Fe>>>8&255}function $e(Ne,Fe,Oe){Ne.bi_valid>se-Oe?(Ne.bi_buf|=Fe<<Ne.bi_valid&65535,je(Ne,Ne.bi_buf),Ne.bi_buf=Fe>>se-Ne.bi_valid,Ne.bi_valid+=Oe-se):(Ne.bi_buf|=Fe<<Ne.bi_valid&65535,Ne.bi_valid+=Oe)}function Ye(Ne,Fe,Oe){$e(Ne,Oe[2*Fe],Oe[2*Fe+1])}function Pe(Ne,Fe){var Oe=0;do Oe|=1&Ne,Ne>>>=1,Oe<<=1;while(--Fe>0);return Oe>>>1}function Ge(Ne,Fe,Oe){var Ze,et,ye=new Array(ae+1),Ae=0;for(Ze=1;Ze<=ae;Ze++)ye[Ze]=Ae=Ae+Oe[Ze-1]<<1;for(et=0;et<=Fe;et++){var De=Ne[2*et+1];De!==0&&(Ne[2*et]=Pe(ye[De]++,De))}}function it(Ne){var Fe;for(Fe=0;Fe<te;Fe++)Ne.dyn_ltree[2*Fe]=0;for(Fe=0;Fe<re;Fe++)Ne.dyn_dtree[2*Fe]=0;for(Fe=0;Fe<ne;Fe++)Ne.bl_tree[2*Fe]=0;Ne.dyn_ltree[2*ue]=1,Ne.opt_len=Ne.static_len=0,Ne.last_lit=Ne.matches=0}function Je(Ne){Ne.bi_valid>8?je(Ne,Ne.bi_buf):Ne.bi_valid>0&&(Ne.pending_buf[Ne.pending++]=Ne.bi_buf),Ne.bi_buf=0,Ne.bi_valid=0}function He(Ne,Fe,Oe,Ze){var et=2*Fe,ye=2*Oe;return Ne[et]<Ne[ye]||Ne[et]===Ne[ye]&&Ze[Fe]<=Ze[Oe]}function Qe(Ne,Fe,Oe){for(var Ze=Ne.heap[Oe],et=Oe<<1;et<=Ne.heap_len&&(et<Ne.heap_len&&He(Fe,Ne.heap[et+1],Ne.heap[et],Ne.depth)&&et++,!He(Fe,Ze,Ne.heap[et],Ne.depth));)Ne.heap[Oe]=Ne.heap[et],Oe=et,et<<=1;Ne.heap[Oe]=Ze}function ut(Ne,Fe,Oe){var Ze,et,ye,Ae,De=0;if(Ne.last_lit!==0)do Ze=Ne.pending_buf[Ne.d_buf+2*De]<<8|Ne.pending_buf[Ne.d_buf+2*De+1],et=Ne.pending_buf[Ne.l_buf+De],De++,Ze===0?Ye(Ne,et,Fe):(Ye(Ne,(ye=Ee[et])+q+1,Fe),(Ae=ge[ye])!==0&&$e(Ne,et-=Ie[ye],Ae),Ye(Ne,ye=Ke(--Ze),Oe),(Ae=he[ye])!==0&&$e(Ne,Ze-=Be[ye],Ae));while(De<Ne.last_lit);Ye(Ne,ue,Fe)}function dt(Ne,Fe){var Oe,Ze,et,ye=Fe.dyn_tree,Ae=Fe.stat_desc.static_tree,De=Fe.stat_desc.has_stree,Ue=Fe.stat_desc.elems,St=-1;for(Ne.heap_len=0,Ne.heap_max=ie,Oe=0;Oe<Ue;Oe++)ye[2*Oe]!==0?(Ne.heap[++Ne.heap_len]=St=Oe,Ne.depth[Oe]=0):ye[2*Oe+1]=0;for(;Ne.heap_len<2;)ye[2*(et=Ne.heap[++Ne.heap_len]=St<2?++St:0)]=1,Ne.depth[et]=0,Ne.opt_len--,De&&(Ne.static_len-=Ae[2*et+1]);for(Fe.max_code=St,Oe=Ne.heap_len>>1;Oe>=1;Oe--)Qe(Ne,ye,Oe);et=Ue;do Oe=Ne.heap[1],Ne.heap[1]=Ne.heap[Ne.heap_len--],Qe(Ne,ye,1),Ze=Ne.heap[1],Ne.heap[--Ne.heap_max]=Oe,Ne.heap[--Ne.heap_max]=Ze,ye[2*et]=ye[2*Oe]+ye[2*Ze],Ne.depth[et]=(Ne.depth[Oe]>=Ne.depth[Ze]?Ne.depth[Oe]:Ne.depth[Ze])+1,ye[2*Oe+1]=ye[2*Ze+1]=et,Ne.heap[1]=et++,Qe(Ne,ye,1);while(Ne.heap_len>=2);Ne.heap[--Ne.heap_max]=Ne.heap[1],function(Bt,tr){var ir,Kt,ar,rr,gr,dr,hr=tr.dyn_tree,kr=tr.max_code,fr=tr.stat_desc.static_tree,ot=tr.stat_desc.has_stree,nr=tr.stat_desc.extra_bits,Tt=tr.stat_desc.extra_base,Ut=tr.stat_desc.max_length,We=0;for(rr=0;rr<=ae;rr++)Bt.bl_count[rr]=0;for(hr[2*Bt.heap[Bt.heap_max]+1]=0,ir=Bt.heap_max+1;ir<ie;ir++)(rr=hr[2*hr[2*(Kt=Bt.heap[ir])+1]+1]+1)>Ut&&(rr=Ut,We++),hr[2*Kt+1]=rr,Kt>kr||(Bt.bl_count[rr]++,gr=0,Kt>=Tt&&(gr=nr[Kt-Tt]),dr=hr[2*Kt],Bt.opt_len+=dr*(rr+gr),ot&&(Bt.static_len+=dr*(fr[2*Kt+1]+gr)));if(We!==0){do{for(rr=Ut-1;Bt.bl_count[rr]===0;)rr--;Bt.bl_count[rr]--,Bt.bl_count[rr+1]+=2,Bt.bl_count[Ut]--,We-=2}while(We>0);for(rr=Ut;rr!==0;rr--)for(Kt=Bt.bl_count[rr];Kt!==0;)(ar=Bt.heap[--ir])>kr||(hr[2*ar+1]!==rr&&(Bt.opt_len+=(rr-hr[2*ar+1])*hr[2*ar],hr[2*ar+1]=rr),Kt--)}}(Ne,Fe),Ge(ye,St,Ne.bl_count)}function kt(Ne,Fe,Oe){var Ze,et,ye=-1,Ae=Fe[1],De=0,Ue=7,St=4;for(Ae===0&&(Ue=138,St=3),Fe[2*(Oe+1)+1]=65535,Ze=0;Ze<=Oe;Ze++)et=Ae,Ae=Fe[2*(Ze+1)+1],++De<Ue&&et===Ae||(De<St?Ne.bl_tree[2*et]+=De:et!==0?(et!==ye&&Ne.bl_tree[2*et]++,Ne.bl_tree[2*fe]++):De<=10?Ne.bl_tree[2*de]++:Ne.bl_tree[2*me]++,De=0,ye=et,Ae===0?(Ue=138,St=3):et===Ae?(Ue=6,St=3):(Ue=7,St=4))}function Xe(Ne,Fe,Oe){var Ze,et,ye=-1,Ae=Fe[1],De=0,Ue=7,St=4;for(Ae===0&&(Ue=138,St=3),Ze=0;Ze<=Oe;Ze++)if(et=Ae,Ae=Fe[2*(Ze+1)+1],!(++De<Ue&&et===Ae)){if(De<St)do Ye(Ne,et,Ne.bl_tree);while(--De!=0);else et!==0?(et!==ye&&(Ye(Ne,et,Ne.bl_tree),De--),Ye(Ne,fe,Ne.bl_tree),$e(Ne,De-3,2)):De<=10?(Ye(Ne,de,Ne.bl_tree),$e(Ne,De-3,3)):(Ye(Ne,me,Ne.bl_tree),$e(Ne,De-11,7));De=0,ye=et,Ae===0?(Ue=138,St=3):et===Ae?(Ue=6,St=3):(Ue=7,St=4)}}w(Be);var we=!1;function qe(Ne,Fe,Oe,Ze){$e(Ne,(D<<1)+(Ze?1:0),3),function(et,ye,Ae,De){Je(et),je(et,Ae),je(et,~Ae),d.arraySet(et.pending_buf,et.window,ye,Ae,et.pending),et.pending+=Ae}(Ne,Fe,Oe)}return trees._tr_init=function(Ne){we||(function(){var Fe,Oe,Ze,et,ye,Ae=new Array(ae+1);for(Ze=0,et=0;et<H-1;et++)for(Ie[et]=Ze,Fe=0;Fe<1<<ge[et];Fe++)Ee[Ze++]=et;for(Ee[Ze-1]=et,ye=0,et=0;et<16;et++)for(Be[et]=ye,Fe=0;Fe<1<<he[et];Fe++)Se[ye++]=et;for(ye>>=7;et<re;et++)for(Be[et]=ye<<7,Fe=0;Fe<1<<he[et]-7;Fe++)Se[256+ye++]=et;for(Oe=0;Oe<=ae;Oe++)Ae[Oe]=0;for(Fe=0;Fe<=143;)ke[2*Fe+1]=8,Fe++,Ae[8]++;for(;Fe<=255;)ke[2*Fe+1]=9,Fe++,Ae[9]++;for(;Fe<=279;)ke[2*Fe+1]=7,Fe++,Ae[7]++;for(;Fe<=287;)ke[2*Fe+1]=8,Fe++,Ae[8]++;for(Ge(ke,te+1,Ae),Fe=0;Fe<re;Fe++)be[2*Fe+1]=5,be[2*Fe]=Pe(Fe,5);_e=new Ce(ke,ge,q+1,te,ae),Te=new Ce(be,he,0,re,ae),Le=new Ce(new Array(0),pe,0,ne,le)}(),we=!0),Ne.l_desc=new ze(Ne.dyn_ltree,_e),Ne.d_desc=new ze(Ne.dyn_dtree,Te),Ne.bl_desc=new ze(Ne.bl_tree,Le),Ne.bi_buf=0,Ne.bi_valid=0,it(Ne)},trees._tr_stored_block=qe,trees._tr_flush_block=function(Ne,Fe,Oe,Ze){var et,ye,Ae=0;Ne.level>0?(Ne.strm.data_type===2&&(Ne.strm.data_type=function(De){var Ue,St=4093624447;for(Ue=0;Ue<=31;Ue++,St>>>=1)if(1&St&&De.dyn_ltree[2*Ue]!==0)return m;if(De.dyn_ltree[18]!==0||De.dyn_ltree[20]!==0||De.dyn_ltree[26]!==0)return g;for(Ue=32;Ue<q;Ue++)if(De.dyn_ltree[2*Ue]!==0)return g;return m}(Ne)),dt(Ne,Ne.l_desc),dt(Ne,Ne.d_desc),Ae=function(De){var Ue;for(kt(De,De.dyn_ltree,De.l_desc.max_code),kt(De,De.dyn_dtree,De.d_desc.max_code),dt(De,De.bl_desc),Ue=ne-1;Ue>=3&&De.bl_tree[2*ve[Ue]+1]===0;Ue--);return De.opt_len+=3*(Ue+1)+5+5+4,Ue}(Ne),et=Ne.opt_len+3+7>>>3,(ye=Ne.static_len+3+7>>>3)<=et&&(et=ye)):et=ye=Oe+5,Oe+4<=et&&Fe!==-1?qe(Ne,Fe,Oe,Ze):Ne.strategy===4||ye===et?($e(Ne,2+(Ze?1:0),3),ut(Ne,ke,be)):($e(Ne,4+(Ze?1:0),3),function(De,Ue,St,Bt){var tr;for($e(De,Ue-257,5),$e(De,St-1,5),$e(De,Bt-4,4),tr=0;tr<Bt;tr++)$e(De,De.bl_tree[2*ve[tr]+1],3);Xe(De,De.dyn_ltree,Ue-1),Xe(De,De.dyn_dtree,St-1)}(Ne,Ne.l_desc.max_code+1,Ne.d_desc.max_code+1,Ae+1),ut(Ne,Ne.dyn_ltree,Ne.dyn_dtree)),it(Ne),Ze&&Je(Ne)},trees._tr_tally=function(Ne,Fe,Oe){return Ne.pending_buf[Ne.d_buf+2*Ne.last_lit]=Fe>>>8&255,Ne.pending_buf[Ne.d_buf+2*Ne.last_lit+1]=255&Fe,Ne.pending_buf[Ne.l_buf+Ne.last_lit]=255&Oe,Ne.last_lit++,Fe===0?Ne.dyn_ltree[2*Oe]++:(Ne.matches++,Fe--,Ne.dyn_ltree[2*(Ee[Oe]+q+1)]++,Ne.dyn_dtree[2*Ke(Fe)]++),Ne.last_lit===Ne.lit_bufsize-1},trees._tr_align=function(Ne){$e(Ne,2,3),Ye(Ne,ue,ke),function(Fe){Fe.bi_valid===16?(je(Fe,Fe.bi_buf),Fe.bi_buf=0,Fe.bi_valid=0):Fe.bi_valid>=8&&(Fe.pending_buf[Fe.pending++]=255&Fe.bi_buf,Fe.bi_buf>>=8,Fe.bi_valid-=8)}(Ne)},trees}function requireAdler32(){return hasRequiredAdler32||(hasRequiredAdler32=1,adler32_1=function(d,m,g,w){for(var D=65535&d,H=d>>>16&65535,q=0;g!==0;){g-=q=g>2e3?2e3:g;do H=H+(D=D+m[w++]|0)|0;while(--q);D%=65521,H%=65521}return D|H<<16}),adler32_1}function requireCrc32(){if(hasRequiredCrc32)return crc32_1;hasRequiredCrc32=1;var d=function(){for(var m,g=[],w=0;w<256;w++){m=w;for(var D=0;D<8;D++)m=1&m?3988292384^m>>>1:m>>>1;g[w]=m}return g}();return crc32_1=function(m,g,w,D){var H=d,q=D+w;m^=-1;for(var te=D;te<q;te++)m=m>>>8^H[255&(m^g[te])];return~m},crc32_1}function requireMessages(){return hasRequiredMessages?messages:(hasRequiredMessages=1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"})}function requireDeflate$1(){if(hasRequiredDeflate$1)return deflate;hasRequiredDeflate$1=1;var d,m=requireCommon(),g=requireTrees(),w=requireAdler32(),D=requireCrc32(),H=requireMessages(),q=0,te=4,re=0,ne=-2,ie=-1,ae=4,se=2,le=8,ue=9,fe=286,de=30,me=19,ge=2*fe+1,he=15,pe=3,ve=258,ke=ve+pe+1,be=42,Se=103,Ee=113,Ie=666,_e=1,Te=2,Le=3,Be=4;function Ce(we,qe){return we.msg=H[qe],qe}function ze(we){return(we<<1)-(we>4?9:0)}function Ke(we){for(var qe=we.length;--qe>=0;)we[qe]=0}function je(we){var qe=we.state,Ne=qe.pending;Ne>we.avail_out&&(Ne=we.avail_out),Ne!==0&&(m.arraySet(we.output,qe.pending_buf,qe.pending_out,Ne,we.next_out),we.next_out+=Ne,qe.pending_out+=Ne,we.total_out+=Ne,we.avail_out-=Ne,qe.pending-=Ne,qe.pending===0&&(qe.pending_out=0))}function $e(we,qe){g._tr_flush_block(we,we.block_start>=0?we.block_start:-1,we.strstart-we.block_start,qe),we.block_start=we.strstart,je(we.strm)}function Ye(we,qe){we.pending_buf[we.pending++]=qe}function Pe(we,qe){we.pending_buf[we.pending++]=qe>>>8&255,we.pending_buf[we.pending++]=255&qe}function Ge(we,qe){var Ne,Fe,Oe=we.max_chain_length,Ze=we.strstart,et=we.prev_length,ye=we.nice_match,Ae=we.strstart>we.w_size-ke?we.strstart-(we.w_size-ke):0,De=we.window,Ue=we.w_mask,St=we.prev,Bt=we.strstart+ve,tr=De[Ze+et-1],ir=De[Ze+et];we.prev_length>=we.good_match&&(Oe>>=2),ye>we.lookahead&&(ye=we.lookahead);do if(De[(Ne=qe)+et]===ir&&De[Ne+et-1]===tr&&De[Ne]===De[Ze]&&De[++Ne]===De[Ze+1]){Ze+=2,Ne++;do;while(De[++Ze]===De[++Ne]&&De[++Ze]===De[++Ne]&&De[++Ze]===De[++Ne]&&De[++Ze]===De[++Ne]&&De[++Ze]===De[++Ne]&&De[++Ze]===De[++Ne]&&De[++Ze]===De[++Ne]&&De[++Ze]===De[++Ne]&&Ze<Bt);if(Fe=ve-(Bt-Ze),Ze=Bt-ve,Fe>et){if(we.match_start=qe,et=Fe,Fe>=ye)break;tr=De[Ze+et-1],ir=De[Ze+et]}}while((qe=St[qe&Ue])>Ae&&--Oe!=0);return et<=we.lookahead?et:we.lookahead}function it(we){var qe,Ne,Fe,Oe,Ze,et,ye,Ae,De,Ue,St=we.w_size;do{if(Oe=we.window_size-we.lookahead-we.strstart,we.strstart>=St+(St-ke)){m.arraySet(we.window,we.window,St,St,0),we.match_start-=St,we.strstart-=St,we.block_start-=St,qe=Ne=we.hash_size;do Fe=we.head[--qe],we.head[qe]=Fe>=St?Fe-St:0;while(--Ne);qe=Ne=St;do Fe=we.prev[--qe],we.prev[qe]=Fe>=St?Fe-St:0;while(--Ne);Oe+=St}if(we.strm.avail_in===0)break;if(et=we.strm,ye=we.window,Ae=we.strstart+we.lookahead,De=Oe,Ue=void 0,(Ue=et.avail_in)>De&&(Ue=De),Ne=Ue===0?0:(et.avail_in-=Ue,m.arraySet(ye,et.input,et.next_in,Ue,Ae),et.state.wrap===1?et.adler=w(et.adler,ye,Ue,Ae):et.state.wrap===2&&(et.adler=D(et.adler,ye,Ue,Ae)),et.next_in+=Ue,et.total_in+=Ue,Ue),we.lookahead+=Ne,we.lookahead+we.insert>=pe)for(Ze=we.strstart-we.insert,we.ins_h=we.window[Ze],we.ins_h=(we.ins_h<<we.hash_shift^we.window[Ze+1])&we.hash_mask;we.insert&&(we.ins_h=(we.ins_h<<we.hash_shift^we.window[Ze+pe-1])&we.hash_mask,we.prev[Ze&we.w_mask]=we.head[we.ins_h],we.head[we.ins_h]=Ze,Ze++,we.insert--,!(we.lookahead+we.insert<pe)););}while(we.lookahead<ke&&we.strm.avail_in!==0)}function Je(we,qe){for(var Ne,Fe;;){if(we.lookahead<ke){if(it(we),we.lookahead<ke&&qe===q)return _e;if(we.lookahead===0)break}if(Ne=0,we.lookahead>=pe&&(we.ins_h=(we.ins_h<<we.hash_shift^we.window[we.strstart+pe-1])&we.hash_mask,Ne=we.prev[we.strstart&we.w_mask]=we.head[we.ins_h],we.head[we.ins_h]=we.strstart),Ne!==0&&we.strstart-Ne<=we.w_size-ke&&(we.match_length=Ge(we,Ne)),we.match_length>=pe)if(Fe=g._tr_tally(we,we.strstart-we.match_start,we.match_length-pe),we.lookahead-=we.match_length,we.match_length<=we.max_lazy_match&&we.lookahead>=pe){we.match_length--;do we.strstart++,we.ins_h=(we.ins_h<<we.hash_shift^we.window[we.strstart+pe-1])&we.hash_mask,Ne=we.prev[we.strstart&we.w_mask]=we.head[we.ins_h],we.head[we.ins_h]=we.strstart;while(--we.match_length!=0);we.strstart++}else we.strstart+=we.match_length,we.match_length=0,we.ins_h=we.window[we.strstart],we.ins_h=(we.ins_h<<we.hash_shift^we.window[we.strstart+1])&we.hash_mask;else Fe=g._tr_tally(we,0,we.window[we.strstart]),we.lookahead--,we.strstart++;if(Fe&&($e(we,!1),we.strm.avail_out===0))return _e}return we.insert=we.strstart<pe-1?we.strstart:pe-1,qe===te?($e(we,!0),we.strm.avail_out===0?Le:Be):we.last_lit&&($e(we,!1),we.strm.avail_out===0)?_e:Te}function He(we,qe){for(var Ne,Fe,Oe;;){if(we.lookahead<ke){if(it(we),we.lookahead<ke&&qe===q)return _e;if(we.lookahead===0)break}if(Ne=0,we.lookahead>=pe&&(we.ins_h=(we.ins_h<<we.hash_shift^we.window[we.strstart+pe-1])&we.hash_mask,Ne=we.prev[we.strstart&we.w_mask]=we.head[we.ins_h],we.head[we.ins_h]=we.strstart),we.prev_length=we.match_length,we.prev_match=we.match_start,we.match_length=pe-1,Ne!==0&&we.prev_length<we.max_lazy_match&&we.strstart-Ne<=we.w_size-ke&&(we.match_length=Ge(we,Ne),we.match_length<=5&&(we.strategy===1||we.match_length===pe&&we.strstart-we.match_start>4096)&&(we.match_length=pe-1)),we.prev_length>=pe&&we.match_length<=we.prev_length){Oe=we.strstart+we.lookahead-pe,Fe=g._tr_tally(we,we.strstart-1-we.prev_match,we.prev_length-pe),we.lookahead-=we.prev_length-1,we.prev_length-=2;do++we.strstart<=Oe&&(we.ins_h=(we.ins_h<<we.hash_shift^we.window[we.strstart+pe-1])&we.hash_mask,Ne=we.prev[we.strstart&we.w_mask]=we.head[we.ins_h],we.head[we.ins_h]=we.strstart);while(--we.prev_length!=0);if(we.match_available=0,we.match_length=pe-1,we.strstart++,Fe&&($e(we,!1),we.strm.avail_out===0))return _e}else if(we.match_available){if((Fe=g._tr_tally(we,0,we.window[we.strstart-1]))&&$e(we,!1),we.strstart++,we.lookahead--,we.strm.avail_out===0)return _e}else we.match_available=1,we.strstart++,we.lookahead--}return we.match_available&&(Fe=g._tr_tally(we,0,we.window[we.strstart-1]),we.match_available=0),we.insert=we.strstart<pe-1?we.strstart:pe-1,qe===te?($e(we,!0),we.strm.avail_out===0?Le:Be):we.last_lit&&($e(we,!1),we.strm.avail_out===0)?_e:Te}function Qe(we,qe,Ne,Fe,Oe){this.good_length=we,this.max_lazy=qe,this.nice_length=Ne,this.max_chain=Fe,this.func=Oe}function ut(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=le,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(2*ge),this.dyn_dtree=new m.Buf16(2*(2*de+1)),this.bl_tree=new m.Buf16(2*(2*me+1)),Ke(this.dyn_ltree),Ke(this.dyn_dtree),Ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(he+1),this.heap=new m.Buf16(2*fe+1),Ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(2*fe+1),Ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function dt(we){var qe;return we&&we.state?(we.total_in=we.total_out=0,we.data_type=se,(qe=we.state).pending=0,qe.pending_out=0,qe.wrap<0&&(qe.wrap=-qe.wrap),qe.status=qe.wrap?be:Ee,we.adler=qe.wrap===2?0:1,qe.last_flush=q,g._tr_init(qe),re):Ce(we,ne)}function kt(we){var qe=dt(we);return qe===re&&function(Ne){Ne.window_size=2*Ne.w_size,Ke(Ne.head),Ne.max_lazy_match=d[Ne.level].max_lazy,Ne.good_match=d[Ne.level].good_length,Ne.nice_match=d[Ne.level].nice_length,Ne.max_chain_length=d[Ne.level].max_chain,Ne.strstart=0,Ne.block_start=0,Ne.lookahead=0,Ne.insert=0,Ne.match_length=Ne.prev_length=pe-1,Ne.match_available=0,Ne.ins_h=0}(we.state),qe}function Xe(we,qe,Ne,Fe,Oe,Ze){if(!we)return ne;var et=1;if(qe===ie&&(qe=6),Fe<0?(et=0,Fe=-Fe):Fe>15&&(et=2,Fe-=16),Oe<1||Oe>ue||Ne!==le||Fe<8||Fe>15||qe<0||qe>9||Ze<0||Ze>ae)return Ce(we,ne);Fe===8&&(Fe=9);var ye=new ut;return we.state=ye,ye.strm=we,ye.wrap=et,ye.gzhead=null,ye.w_bits=Fe,ye.w_size=1<<ye.w_bits,ye.w_mask=ye.w_size-1,ye.hash_bits=Oe+7,ye.hash_size=1<<ye.hash_bits,ye.hash_mask=ye.hash_size-1,ye.hash_shift=~~((ye.hash_bits+pe-1)/pe),ye.window=new m.Buf8(2*ye.w_size),ye.head=new m.Buf16(ye.hash_size),ye.prev=new m.Buf16(ye.w_size),ye.lit_bufsize=1<<Oe+6,ye.pending_buf_size=4*ye.lit_bufsize,ye.pending_buf=new m.Buf8(ye.pending_buf_size),ye.d_buf=1*ye.lit_bufsize,ye.l_buf=3*ye.lit_bufsize,ye.level=qe,ye.strategy=Ze,ye.method=Ne,kt(we)}return d=[new Qe(0,0,0,0,function(we,qe){var Ne=65535;for(Ne>we.pending_buf_size-5&&(Ne=we.pending_buf_size-5);;){if(we.lookahead<=1){if(it(we),we.lookahead===0&&qe===q)return _e;if(we.lookahead===0)break}we.strstart+=we.lookahead,we.lookahead=0;var Fe=we.block_start+Ne;if((we.strstart===0||we.strstart>=Fe)&&(we.lookahead=we.strstart-Fe,we.strstart=Fe,$e(we,!1),we.strm.avail_out===0)||we.strstart-we.block_start>=we.w_size-ke&&($e(we,!1),we.strm.avail_out===0))return _e}return we.insert=0,qe===te?($e(we,!0),we.strm.avail_out===0?Le:Be):(we.strstart>we.block_start&&($e(we,!1),we.strm.avail_out),_e)}),new Qe(4,4,8,4,Je),new Qe(4,5,16,8,Je),new Qe(4,6,32,32,Je),new Qe(4,4,16,16,He),new Qe(8,16,32,32,He),new Qe(8,16,128,128,He),new Qe(8,32,128,256,He),new Qe(32,128,258,1024,He),new Qe(32,258,258,4096,He)],deflate.deflateInit=function(we,qe){return Xe(we,qe,le,15,8,0)},deflate.deflateInit2=Xe,deflate.deflateReset=kt,deflate.deflateResetKeep=dt,deflate.deflateSetHeader=function(we,qe){return we&&we.state?we.state.wrap!==2?ne:(we.state.gzhead=qe,re):ne},deflate.deflate=function(we,qe){var Ne,Fe,Oe,Ze;if(!we||!we.state||qe>5||qe<0)return we?Ce(we,ne):ne;if(Fe=we.state,!we.output||!we.input&&we.avail_in!==0||Fe.status===Ie&&qe!==te)return Ce(we,we.avail_out===0?-5:ne);if(Fe.strm=we,Ne=Fe.last_flush,Fe.last_flush=qe,Fe.status===be)if(Fe.wrap===2)we.adler=0,Ye(Fe,31),Ye(Fe,139),Ye(Fe,8),Fe.gzhead?(Ye(Fe,(Fe.gzhead.text?1:0)+(Fe.gzhead.hcrc?2:0)+(Fe.gzhead.extra?4:0)+(Fe.gzhead.name?8:0)+(Fe.gzhead.comment?16:0)),Ye(Fe,255&Fe.gzhead.time),Ye(Fe,Fe.gzhead.time>>8&255),Ye(Fe,Fe.gzhead.time>>16&255),Ye(Fe,Fe.gzhead.time>>24&255),Ye(Fe,Fe.level===9?2:Fe.strategy>=2||Fe.level<2?4:0),Ye(Fe,255&Fe.gzhead.os),Fe.gzhead.extra&&Fe.gzhead.extra.length&&(Ye(Fe,255&Fe.gzhead.extra.length),Ye(Fe,Fe.gzhead.extra.length>>8&255)),Fe.gzhead.hcrc&&(we.adler=D(we.adler,Fe.pending_buf,Fe.pending,0)),Fe.gzindex=0,Fe.status=69):(Ye(Fe,0),Ye(Fe,0),Ye(Fe,0),Ye(Fe,0),Ye(Fe,0),Ye(Fe,Fe.level===9?2:Fe.strategy>=2||Fe.level<2?4:0),Ye(Fe,3),Fe.status=Ee);else{var et=le+(Fe.w_bits-8<<4)<<8;et|=(Fe.strategy>=2||Fe.level<2?0:Fe.level<6?1:Fe.level===6?2:3)<<6,Fe.strstart!==0&&(et|=32),et+=31-et%31,Fe.status=Ee,Pe(Fe,et),Fe.strstart!==0&&(Pe(Fe,we.adler>>>16),Pe(Fe,65535&we.adler)),we.adler=1}if(Fe.status===69)if(Fe.gzhead.extra){for(Oe=Fe.pending;Fe.gzindex<(65535&Fe.gzhead.extra.length)&&(Fe.pending!==Fe.pending_buf_size||(Fe.gzhead.hcrc&&Fe.pending>Oe&&(we.adler=D(we.adler,Fe.pending_buf,Fe.pending-Oe,Oe)),je(we),Oe=Fe.pending,Fe.pending!==Fe.pending_buf_size));)Ye(Fe,255&Fe.gzhead.extra[Fe.gzindex]),Fe.gzindex++;Fe.gzhead.hcrc&&Fe.pending>Oe&&(we.adler=D(we.adler,Fe.pending_buf,Fe.pending-Oe,Oe)),Fe.gzindex===Fe.gzhead.extra.length&&(Fe.gzindex=0,Fe.status=73)}else Fe.status=73;if(Fe.status===73)if(Fe.gzhead.name){Oe=Fe.pending;do{if(Fe.pending===Fe.pending_buf_size&&(Fe.gzhead.hcrc&&Fe.pending>Oe&&(we.adler=D(we.adler,Fe.pending_buf,Fe.pending-Oe,Oe)),je(we),Oe=Fe.pending,Fe.pending===Fe.pending_buf_size)){Ze=1;break}Ze=Fe.gzindex<Fe.gzhead.name.length?255&Fe.gzhead.name.charCodeAt(Fe.gzindex++):0,Ye(Fe,Ze)}while(Ze!==0);Fe.gzhead.hcrc&&Fe.pending>Oe&&(we.adler=D(we.adler,Fe.pending_buf,Fe.pending-Oe,Oe)),Ze===0&&(Fe.gzindex=0,Fe.status=91)}else Fe.status=91;if(Fe.status===91)if(Fe.gzhead.comment){Oe=Fe.pending;do{if(Fe.pending===Fe.pending_buf_size&&(Fe.gzhead.hcrc&&Fe.pending>Oe&&(we.adler=D(we.adler,Fe.pending_buf,Fe.pending-Oe,Oe)),je(we),Oe=Fe.pending,Fe.pending===Fe.pending_buf_size)){Ze=1;break}Ze=Fe.gzindex<Fe.gzhead.comment.length?255&Fe.gzhead.comment.charCodeAt(Fe.gzindex++):0,Ye(Fe,Ze)}while(Ze!==0);Fe.gzhead.hcrc&&Fe.pending>Oe&&(we.adler=D(we.adler,Fe.pending_buf,Fe.pending-Oe,Oe)),Ze===0&&(Fe.status=Se)}else Fe.status=Se;if(Fe.status===Se&&(Fe.gzhead.hcrc?(Fe.pending+2>Fe.pending_buf_size&&je(we),Fe.pending+2<=Fe.pending_buf_size&&(Ye(Fe,255&we.adler),Ye(Fe,we.adler>>8&255),we.adler=0,Fe.status=Ee)):Fe.status=Ee),Fe.pending!==0){if(je(we),we.avail_out===0)return Fe.last_flush=-1,re}else if(we.avail_in===0&&ze(qe)<=ze(Ne)&&qe!==te)return Ce(we,-5);if(Fe.status===Ie&&we.avail_in!==0)return Ce(we,-5);if(we.avail_in!==0||Fe.lookahead!==0||qe!==q&&Fe.status!==Ie){var ye=Fe.strategy===2?function(Ae,De){for(var Ue;;){if(Ae.lookahead===0&&(it(Ae),Ae.lookahead===0)){if(De===q)return _e;break}if(Ae.match_length=0,Ue=g._tr_tally(Ae,0,Ae.window[Ae.strstart]),Ae.lookahead--,Ae.strstart++,Ue&&($e(Ae,!1),Ae.strm.avail_out===0))return _e}return Ae.insert=0,De===te?($e(Ae,!0),Ae.strm.avail_out===0?Le:Be):Ae.last_lit&&($e(Ae,!1),Ae.strm.avail_out===0)?_e:Te}(Fe,qe):Fe.strategy===3?function(Ae,De){for(var Ue,St,Bt,tr,ir=Ae.window;;){if(Ae.lookahead<=ve){if(it(Ae),Ae.lookahead<=ve&&De===q)return _e;if(Ae.lookahead===0)break}if(Ae.match_length=0,Ae.lookahead>=pe&&Ae.strstart>0&&(St=ir[Bt=Ae.strstart-1])===ir[++Bt]&&St===ir[++Bt]&&St===ir[++Bt]){tr=Ae.strstart+ve;do;while(St===ir[++Bt]&&St===ir[++Bt]&&St===ir[++Bt]&&St===ir[++Bt]&&St===ir[++Bt]&&St===ir[++Bt]&&St===ir[++Bt]&&St===ir[++Bt]&&Bt<tr);Ae.match_length=ve-(tr-Bt),Ae.match_length>Ae.lookahead&&(Ae.match_length=Ae.lookahead)}if(Ae.match_length>=pe?(Ue=g._tr_tally(Ae,1,Ae.match_length-pe),Ae.lookahead-=Ae.match_length,Ae.strstart+=Ae.match_length,Ae.match_length=0):(Ue=g._tr_tally(Ae,0,Ae.window[Ae.strstart]),Ae.lookahead--,Ae.strstart++),Ue&&($e(Ae,!1),Ae.strm.avail_out===0))return _e}return Ae.insert=0,De===te?($e(Ae,!0),Ae.strm.avail_out===0?Le:Be):Ae.last_lit&&($e(Ae,!1),Ae.strm.avail_out===0)?_e:Te}(Fe,qe):d[Fe.level].func(Fe,qe);if(ye!==Le&&ye!==Be||(Fe.status=Ie),ye===_e||ye===Le)return we.avail_out===0&&(Fe.last_flush=-1),re;if(ye===Te&&(qe===1?g._tr_align(Fe):qe!==5&&(g._tr_stored_block(Fe,0,0,!1),qe===3&&(Ke(Fe.head),Fe.lookahead===0&&(Fe.strstart=0,Fe.block_start=0,Fe.insert=0))),je(we),we.avail_out===0))return Fe.last_flush=-1,re}return qe!==te?re:Fe.wrap<=0?1:(Fe.wrap===2?(Ye(Fe,255&we.adler),Ye(Fe,we.adler>>8&255),Ye(Fe,we.adler>>16&255),Ye(Fe,we.adler>>24&255),Ye(Fe,255&we.total_in),Ye(Fe,we.total_in>>8&255),Ye(Fe,we.total_in>>16&255),Ye(Fe,we.total_in>>24&255)):(Pe(Fe,we.adler>>>16),Pe(Fe,65535&we.adler)),je(we),Fe.wrap>0&&(Fe.wrap=-Fe.wrap),Fe.pending!==0?re:1)},deflate.deflateEnd=function(we){var qe;return we&&we.state?(qe=we.state.status)!==be&&qe!==69&&qe!==73&&qe!==91&&qe!==Se&&qe!==Ee&&qe!==Ie?Ce(we,ne):(we.state=null,qe===Ee?Ce(we,-3):re):ne},deflate.deflateSetDictionary=function(we,qe){var Ne,Fe,Oe,Ze,et,ye,Ae,De,Ue=qe.length;if(!we||!we.state||(Ze=(Ne=we.state).wrap)===2||Ze===1&&Ne.status!==be||Ne.lookahead)return ne;for(Ze===1&&(we.adler=w(we.adler,qe,Ue,0)),Ne.wrap=0,Ue>=Ne.w_size&&(Ze===0&&(Ke(Ne.head),Ne.strstart=0,Ne.block_start=0,Ne.insert=0),De=new m.Buf8(Ne.w_size),m.arraySet(De,qe,Ue-Ne.w_size,Ne.w_size,0),qe=De,Ue=Ne.w_size),et=we.avail_in,ye=we.next_in,Ae=we.input,we.avail_in=Ue,we.next_in=0,we.input=qe,it(Ne);Ne.lookahead>=pe;){Fe=Ne.strstart,Oe=Ne.lookahead-(pe-1);do Ne.ins_h=(Ne.ins_h<<Ne.hash_shift^Ne.window[Fe+pe-1])&Ne.hash_mask,Ne.prev[Fe&Ne.w_mask]=Ne.head[Ne.ins_h],Ne.head[Ne.ins_h]=Fe,Fe++;while(--Oe);Ne.strstart=Fe,Ne.lookahead=pe-1,it(Ne)}return Ne.strstart+=Ne.lookahead,Ne.block_start=Ne.strstart,Ne.insert=Ne.lookahead,Ne.lookahead=0,Ne.match_length=Ne.prev_length=pe-1,Ne.match_available=0,we.next_in=ye,we.input=Ae,we.avail_in=et,Ne.wrap=Ze,re},deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var strings={},hasRequiredStrings,zstream,hasRequiredZstream,hasRequiredDeflate;function requireStrings(){if(hasRequiredStrings)return strings;hasRequiredStrings=1;var d=requireCommon(),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var w=new d.Buf8(256),D=0;D<256;D++)w[D]=D>=252?6:D>=248?5:D>=240?4:D>=224?3:D>=192?2:1;function H(q,te){if(te<65534&&(q.subarray&&g||!q.subarray&&m))return String.fromCharCode.apply(null,d.shrinkBuf(q,te));for(var re="",ne=0;ne<te;ne++)re+=String.fromCharCode(q[ne]);return re}return w[254]=w[254]=1,strings.string2buf=function(q){var te,re,ne,ie,ae,se=q.length,le=0;for(ie=0;ie<se;ie++)(64512&(re=q.charCodeAt(ie)))==55296&&ie+1<se&&(64512&(ne=q.charCodeAt(ie+1)))==56320&&(re=65536+(re-55296<<10)+(ne-56320),ie++),le+=re<128?1:re<2048?2:re<65536?3:4;for(te=new d.Buf8(le),ae=0,ie=0;ae<le;ie++)(64512&(re=q.charCodeAt(ie)))==55296&&ie+1<se&&(64512&(ne=q.charCodeAt(ie+1)))==56320&&(re=65536+(re-55296<<10)+(ne-56320),ie++),re<128?te[ae++]=re:re<2048?(te[ae++]=192|re>>>6,te[ae++]=128|63&re):re<65536?(te[ae++]=224|re>>>12,te[ae++]=128|re>>>6&63,te[ae++]=128|63&re):(te[ae++]=240|re>>>18,te[ae++]=128|re>>>12&63,te[ae++]=128|re>>>6&63,te[ae++]=128|63&re);return te},strings.buf2binstring=function(q){return H(q,q.length)},strings.binstring2buf=function(q){for(var te=new d.Buf8(q.length),re=0,ne=te.length;re<ne;re++)te[re]=q.charCodeAt(re);return te},strings.buf2string=function(q,te){var re,ne,ie,ae,se=te||q.length,le=new Array(2*se);for(ne=0,re=0;re<se;)if((ie=q[re++])<128)le[ne++]=ie;else if((ae=w[ie])>4)le[ne++]=65533,re+=ae-1;else{for(ie&=ae===2?31:ae===3?15:7;ae>1&&re<se;)ie=ie<<6|63&q[re++],ae--;ae>1?le[ne++]=65533:ie<65536?le[ne++]=ie:(ie-=65536,le[ne++]=55296|ie>>10&1023,le[ne++]=56320|1023&ie)}return H(le,ne)},strings.utf8border=function(q,te){var re;for((te=te||q.length)>q.length&&(te=q.length),re=te-1;re>=0&&(192&q[re])==128;)re--;return re<0||re===0?te:re+w[q[re]]>te?re:te},strings}function requireZstream(){return hasRequiredZstream?zstream:(hasRequiredZstream=1,zstream=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0})}function requireDeflate(){if(hasRequiredDeflate)return deflate$1;hasRequiredDeflate=1;var d=requireDeflate$1(),m=requireCommon(),g=requireStrings(),w=requireMessages(),D=requireZstream(),H=Object.prototype.toString,q=0,te=-1,re=0,ne=8;function ie(se){if(!(this instanceof ie))return new ie(se);this.options=m.assign({level:te,method:ne,chunkSize:16384,windowBits:15,memLevel:8,strategy:re,to:""},se||{});var le=this.options;le.raw&&le.windowBits>0?le.windowBits=-le.windowBits:le.gzip&&le.windowBits>0&&le.windowBits<16&&(le.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D,this.strm.avail_out=0;var ue=d.deflateInit2(this.strm,le.level,le.method,le.windowBits,le.memLevel,le.strategy);if(ue!==q)throw new Error(w[ue]);if(le.header&&d.deflateSetHeader(this.strm,le.header),le.dictionary){var fe;if(fe=typeof le.dictionary=="string"?g.string2buf(le.dictionary):H.call(le.dictionary)==="[object ArrayBuffer]"?new Uint8Array(le.dictionary):le.dictionary,(ue=d.deflateSetDictionary(this.strm,fe))!==q)throw new Error(w[ue]);this._dict_set=!0}}function ae(se,le){var ue=new ie(le);if(ue.push(se,!0),ue.err)throw ue.msg||w[ue.err];return ue.result}return ie.prototype.push=function(se,le){var ue,fe,de=this.strm,me=this.options.chunkSize;if(this.ended)return!1;fe=le===~~le?le:le===!0?4:0,typeof se=="string"?de.input=g.string2buf(se):H.call(se)==="[object ArrayBuffer]"?de.input=new Uint8Array(se):de.input=se,de.next_in=0,de.avail_in=de.input.length;do{if(de.avail_out===0&&(de.output=new m.Buf8(me),de.next_out=0,de.avail_out=me),(ue=d.deflate(de,fe))!==1&&ue!==q)return this.onEnd(ue),this.ended=!0,!1;de.avail_out!==0&&(de.avail_in!==0||fe!==4&&fe!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(m.shrinkBuf(de.output,de.next_out))):this.onData(m.shrinkBuf(de.output,de.next_out)))}while((de.avail_in>0||de.avail_out===0)&&ue!==1);return fe===4?(ue=d.deflateEnd(this.strm),this.onEnd(ue),this.ended=!0,ue===q):fe!==2||(this.onEnd(q),de.avail_out=0,!0)},ie.prototype.onData=function(se){this.chunks.push(se)},ie.prototype.onEnd=function(se){se===q&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=se,this.msg=this.strm.msg},deflate$1.Deflate=ie,deflate$1.deflate=ae,deflate$1.deflateRaw=function(se,le){return(le=le||{}).raw=!0,ae(se,le)},deflate$1.gzip=function(se,le){return(le=le||{}).gzip=!0,ae(se,le)},deflate$1}var inflate$1={},inflate={},inffast,hasRequiredInffast,inftrees,hasRequiredInftrees,hasRequiredInflate$1,constants,hasRequiredConstants,gzheader,hasRequiredGzheader,hasRequiredInflate,pako_1,hasRequiredPako;function requireInffast(){return hasRequiredInffast?inffast:(hasRequiredInffast=1,inffast=function(d,m){var g,w,D,H,q,te,re,ne,ie,ae,se,le,ue,fe,de,me,ge,he,pe,ve,ke,be,Se,Ee,Ie;g=d.state,w=d.next_in,Ee=d.input,D=w+(d.avail_in-5),H=d.next_out,Ie=d.output,q=H-(m-d.avail_out),te=H+(d.avail_out-257),re=g.dmax,ne=g.wsize,ie=g.whave,ae=g.wnext,se=g.window,le=g.hold,ue=g.bits,fe=g.lencode,de=g.distcode,me=(1<<g.lenbits)-1,ge=(1<<g.distbits)-1;e:do{ue<15&&(le+=Ee[w++]<<ue,ue+=8,le+=Ee[w++]<<ue,ue+=8),he=fe[le&me];t:for(;;){if(le>>>=pe=he>>>24,ue-=pe,(pe=he>>>16&255)===0)Ie[H++]=65535&he;else{if(!(16&pe)){if(64&pe){if(32&pe){g.mode=12;break e}d.msg="invalid literal/length code",g.mode=30;break e}he=fe[(65535&he)+(le&(1<<pe)-1)];continue t}for(ve=65535&he,(pe&=15)&&(ue<pe&&(le+=Ee[w++]<<ue,ue+=8),ve+=le&(1<<pe)-1,le>>>=pe,ue-=pe),ue<15&&(le+=Ee[w++]<<ue,ue+=8,le+=Ee[w++]<<ue,ue+=8),he=de[le&ge];;){if(le>>>=pe=he>>>24,ue-=pe,16&(pe=he>>>16&255)){if(ke=65535&he,ue<(pe&=15)&&(le+=Ee[w++]<<ue,(ue+=8)<pe&&(le+=Ee[w++]<<ue,ue+=8)),(ke+=le&(1<<pe)-1)>re){d.msg="invalid distance too far back",g.mode=30;break e}if(le>>>=pe,ue-=pe,ke>(pe=H-q)){if((pe=ke-pe)>ie&&g.sane){d.msg="invalid distance too far back",g.mode=30;break e}if(be=0,Se=se,ae===0){if(be+=ne-pe,pe<ve){ve-=pe;do Ie[H++]=se[be++];while(--pe);be=H-ke,Se=Ie}}else if(ae<pe){if(be+=ne+ae-pe,(pe-=ae)<ve){ve-=pe;do Ie[H++]=se[be++];while(--pe);if(be=0,ae<ve){ve-=pe=ae;do Ie[H++]=se[be++];while(--pe);be=H-ke,Se=Ie}}}else if(be+=ae-pe,pe<ve){ve-=pe;do Ie[H++]=se[be++];while(--pe);be=H-ke,Se=Ie}for(;ve>2;)Ie[H++]=Se[be++],Ie[H++]=Se[be++],Ie[H++]=Se[be++],ve-=3;ve&&(Ie[H++]=Se[be++],ve>1&&(Ie[H++]=Se[be++]))}else{be=H-ke;do Ie[H++]=Ie[be++],Ie[H++]=Ie[be++],Ie[H++]=Ie[be++],ve-=3;while(ve>2);ve&&(Ie[H++]=Ie[be++],ve>1&&(Ie[H++]=Ie[be++]))}break}if(64&pe){d.msg="invalid distance code",g.mode=30;break e}he=de[(65535&he)+(le&(1<<pe)-1)]}}break}}while(w<D&&H<te);w-=ve=ue>>3,le&=(1<<(ue-=ve<<3))-1,d.next_in=w,d.next_out=H,d.avail_in=w<D?D-w+5:5-(w-D),d.avail_out=H<te?te-H+257:257-(H-te),g.hold=le,g.bits=ue},inffast)}function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;var d=requireCommon(),m=15,g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],w=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],D=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],H=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees=function(q,te,re,ne,ie,ae,se,le){var ue,fe,de,me,ge,he,pe,ve,ke,be=le.bits,Se=0,Ee=0,Ie=0,_e=0,Te=0,Le=0,Be=0,Ce=0,ze=0,Ke=0,je=null,$e=0,Ye=new d.Buf16(16),Pe=new d.Buf16(16),Ge=null,it=0;for(Se=0;Se<=m;Se++)Ye[Se]=0;for(Ee=0;Ee<ne;Ee++)Ye[te[re+Ee]]++;for(Te=be,_e=m;_e>=1&&Ye[_e]===0;_e--);if(Te>_e&&(Te=_e),_e===0)return ie[ae++]=20971520,ie[ae++]=20971520,le.bits=1,0;for(Ie=1;Ie<_e&&Ye[Ie]===0;Ie++);for(Te<Ie&&(Te=Ie),Ce=1,Se=1;Se<=m;Se++)if(Ce<<=1,(Ce-=Ye[Se])<0)return-1;if(Ce>0&&(q===0||_e!==1))return-1;for(Pe[1]=0,Se=1;Se<m;Se++)Pe[Se+1]=Pe[Se]+Ye[Se];for(Ee=0;Ee<ne;Ee++)te[re+Ee]!==0&&(se[Pe[te[re+Ee]]++]=Ee);if(q===0?(je=Ge=se,he=19):q===1?(je=g,$e-=257,Ge=w,it-=257,he=256):(je=D,Ge=H,he=-1),Ke=0,Ee=0,Se=Ie,ge=ae,Le=Te,Be=0,de=-1,me=(ze=1<<Te)-1,q===1&&ze>852||q===2&&ze>592)return 1;for(;;){pe=Se-Be,se[Ee]<he?(ve=0,ke=se[Ee]):se[Ee]>he?(ve=Ge[it+se[Ee]],ke=je[$e+se[Ee]]):(ve=96,ke=0),ue=1<<Se-Be,Ie=fe=1<<Le;do ie[ge+(Ke>>Be)+(fe-=ue)]=pe<<24|ve<<16|ke;while(fe!==0);for(ue=1<<Se-1;Ke&ue;)ue>>=1;if(ue!==0?(Ke&=ue-1,Ke+=ue):Ke=0,Ee++,--Ye[Se]==0){if(Se===_e)break;Se=te[re+se[Ee]]}if(Se>Te&&(Ke&me)!==de){for(Be===0&&(Be=Te),ge+=Ie,Ce=1<<(Le=Se-Be);Le+Be<_e&&!((Ce-=Ye[Le+Be])<=0);)Le++,Ce<<=1;if(ze+=1<<Le,q===1&&ze>852||q===2&&ze>592)return 1;ie[de=Ke&me]=Te<<24|Le<<16|ge-ae}}return Ke!==0&&(ie[ge+Ke]=Se-Be<<24|64<<16),le.bits=Te,0}}function requireInflate$1(){if(hasRequiredInflate$1)return inflate;hasRequiredInflate$1=1;var d=requireCommon(),m=requireAdler32(),g=requireCrc32(),w=requireInffast(),D=requireInftrees(),H=1,q=2,te=0,re=-2,ne=1,ie=12,ae=30,se=852,le=592;function ue(Ee){return(Ee>>>24&255)+(Ee>>>8&65280)+((65280&Ee)<<8)+((255&Ee)<<24)}function fe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function de(Ee){var Ie;return Ee&&Ee.state?(Ie=Ee.state,Ee.total_in=Ee.total_out=Ie.total=0,Ee.msg="",Ie.wrap&&(Ee.adler=1&Ie.wrap),Ie.mode=ne,Ie.last=0,Ie.havedict=0,Ie.dmax=32768,Ie.head=null,Ie.hold=0,Ie.bits=0,Ie.lencode=Ie.lendyn=new d.Buf32(se),Ie.distcode=Ie.distdyn=new d.Buf32(le),Ie.sane=1,Ie.back=-1,te):re}function me(Ee){var Ie;return Ee&&Ee.state?((Ie=Ee.state).wsize=0,Ie.whave=0,Ie.wnext=0,de(Ee)):re}function ge(Ee,Ie){var _e,Te;return Ee&&Ee.state?(Te=Ee.state,Ie<0?(_e=0,Ie=-Ie):(_e=1+(Ie>>4),Ie<48&&(Ie&=15)),Ie&&(Ie<8||Ie>15)?re:(Te.window!==null&&Te.wbits!==Ie&&(Te.window=null),Te.wrap=_e,Te.wbits=Ie,me(Ee))):re}function he(Ee,Ie){var _e,Te;return Ee?(Te=new fe,Ee.state=Te,Te.window=null,(_e=ge(Ee,Ie))!==te&&(Ee.state=null),_e):re}var pe,ve,ke=!0;function be(Ee){if(ke){var Ie;for(pe=new d.Buf32(512),ve=new d.Buf32(32),Ie=0;Ie<144;)Ee.lens[Ie++]=8;for(;Ie<256;)Ee.lens[Ie++]=9;for(;Ie<280;)Ee.lens[Ie++]=7;for(;Ie<288;)Ee.lens[Ie++]=8;for(D(H,Ee.lens,0,288,pe,0,Ee.work,{bits:9}),Ie=0;Ie<32;)Ee.lens[Ie++]=5;D(q,Ee.lens,0,32,ve,0,Ee.work,{bits:5}),ke=!1}Ee.lencode=pe,Ee.lenbits=9,Ee.distcode=ve,Ee.distbits=5}function Se(Ee,Ie,_e,Te){var Le,Be=Ee.state;return Be.window===null&&(Be.wsize=1<<Be.wbits,Be.wnext=0,Be.whave=0,Be.window=new d.Buf8(Be.wsize)),Te>=Be.wsize?(d.arraySet(Be.window,Ie,_e-Be.wsize,Be.wsize,0),Be.wnext=0,Be.whave=Be.wsize):((Le=Be.wsize-Be.wnext)>Te&&(Le=Te),d.arraySet(Be.window,Ie,_e-Te,Le,Be.wnext),(Te-=Le)?(d.arraySet(Be.window,Ie,_e-Te,Te,0),Be.wnext=Te,Be.whave=Be.wsize):(Be.wnext+=Le,Be.wnext===Be.wsize&&(Be.wnext=0),Be.whave<Be.wsize&&(Be.whave+=Le))),0}return inflate.inflateReset=me,inflate.inflateReset2=ge,inflate.inflateResetKeep=de,inflate.inflateInit=function(Ee){return he(Ee,15)},inflate.inflateInit2=he,inflate.inflate=function(Ee,Ie){var _e,Te,Le,Be,Ce,ze,Ke,je,$e,Ye,Pe,Ge,it,Je,He,Qe,ut,dt,kt,Xe,we,qe,Ne,Fe,Oe=0,Ze=new d.Buf8(4),et=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Ee||!Ee.state||!Ee.output||!Ee.input&&Ee.avail_in!==0)return re;(_e=Ee.state).mode===ie&&(_e.mode=13),Ce=Ee.next_out,Le=Ee.output,Ke=Ee.avail_out,Be=Ee.next_in,Te=Ee.input,ze=Ee.avail_in,je=_e.hold,$e=_e.bits,Ye=ze,Pe=Ke,qe=te;e:for(;;)switch(_e.mode){case ne:if(_e.wrap===0){_e.mode=13;break}for(;$e<16;){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}if(2&_e.wrap&&je===35615){_e.check=0,Ze[0]=255&je,Ze[1]=je>>>8&255,_e.check=g(_e.check,Ze,2,0),je=0,$e=0,_e.mode=2;break}if(_e.flags=0,_e.head&&(_e.head.done=!1),!(1&_e.wrap)||(((255&je)<<8)+(je>>8))%31){Ee.msg="incorrect header check",_e.mode=ae;break}if((15&je)!=8){Ee.msg="unknown compression method",_e.mode=ae;break}if($e-=4,we=8+(15&(je>>>=4)),_e.wbits===0)_e.wbits=we;else if(we>_e.wbits){Ee.msg="invalid window size",_e.mode=ae;break}_e.dmax=1<<we,Ee.adler=_e.check=1,_e.mode=512&je?10:ie,je=0,$e=0;break;case 2:for(;$e<16;){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}if(_e.flags=je,(255&_e.flags)!=8){Ee.msg="unknown compression method",_e.mode=ae;break}if(57344&_e.flags){Ee.msg="unknown header flags set",_e.mode=ae;break}_e.head&&(_e.head.text=je>>8&1),512&_e.flags&&(Ze[0]=255&je,Ze[1]=je>>>8&255,_e.check=g(_e.check,Ze,2,0)),je=0,$e=0,_e.mode=3;case 3:for(;$e<32;){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}_e.head&&(_e.head.time=je),512&_e.flags&&(Ze[0]=255&je,Ze[1]=je>>>8&255,Ze[2]=je>>>16&255,Ze[3]=je>>>24&255,_e.check=g(_e.check,Ze,4,0)),je=0,$e=0,_e.mode=4;case 4:for(;$e<16;){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}_e.head&&(_e.head.xflags=255&je,_e.head.os=je>>8),512&_e.flags&&(Ze[0]=255&je,Ze[1]=je>>>8&255,_e.check=g(_e.check,Ze,2,0)),je=0,$e=0,_e.mode=5;case 5:if(1024&_e.flags){for(;$e<16;){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}_e.length=je,_e.head&&(_e.head.extra_len=je),512&_e.flags&&(Ze[0]=255&je,Ze[1]=je>>>8&255,_e.check=g(_e.check,Ze,2,0)),je=0,$e=0}else _e.head&&(_e.head.extra=null);_e.mode=6;case 6:if(1024&_e.flags&&((Ge=_e.length)>ze&&(Ge=ze),Ge&&(_e.head&&(we=_e.head.extra_len-_e.length,_e.head.extra||(_e.head.extra=new Array(_e.head.extra_len)),d.arraySet(_e.head.extra,Te,Be,Ge,we)),512&_e.flags&&(_e.check=g(_e.check,Te,Ge,Be)),ze-=Ge,Be+=Ge,_e.length-=Ge),_e.length))break e;_e.length=0,_e.mode=7;case 7:if(2048&_e.flags){if(ze===0)break e;Ge=0;do we=Te[Be+Ge++],_e.head&&we&&_e.length<65536&&(_e.head.name+=String.fromCharCode(we));while(we&&Ge<ze);if(512&_e.flags&&(_e.check=g(_e.check,Te,Ge,Be)),ze-=Ge,Be+=Ge,we)break e}else _e.head&&(_e.head.name=null);_e.length=0,_e.mode=8;case 8:if(4096&_e.flags){if(ze===0)break e;Ge=0;do we=Te[Be+Ge++],_e.head&&we&&_e.length<65536&&(_e.head.comment+=String.fromCharCode(we));while(we&&Ge<ze);if(512&_e.flags&&(_e.check=g(_e.check,Te,Ge,Be)),ze-=Ge,Be+=Ge,we)break e}else _e.head&&(_e.head.comment=null);_e.mode=9;case 9:if(512&_e.flags){for(;$e<16;){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}if(je!==(65535&_e.check)){Ee.msg="header crc mismatch",_e.mode=ae;break}je=0,$e=0}_e.head&&(_e.head.hcrc=_e.flags>>9&1,_e.head.done=!0),Ee.adler=_e.check=0,_e.mode=ie;break;case 10:for(;$e<32;){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}Ee.adler=_e.check=ue(je),je=0,$e=0,_e.mode=11;case 11:if(_e.havedict===0)return Ee.next_out=Ce,Ee.avail_out=Ke,Ee.next_in=Be,Ee.avail_in=ze,_e.hold=je,_e.bits=$e,2;Ee.adler=_e.check=1,_e.mode=ie;case ie:if(Ie===5||Ie===6)break e;case 13:if(_e.last){je>>>=7&$e,$e-=7&$e,_e.mode=27;break}for(;$e<3;){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}switch(_e.last=1&je,$e-=1,3&(je>>>=1)){case 0:_e.mode=14;break;case 1:if(be(_e),_e.mode=20,Ie===6){je>>>=2,$e-=2;break e}break;case 2:_e.mode=17;break;case 3:Ee.msg="invalid block type",_e.mode=ae}je>>>=2,$e-=2;break;case 14:for(je>>>=7&$e,$e-=7&$e;$e<32;){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}if((65535&je)!=(je>>>16^65535)){Ee.msg="invalid stored block lengths",_e.mode=ae;break}if(_e.length=65535&je,je=0,$e=0,_e.mode=15,Ie===6)break e;case 15:_e.mode=16;case 16:if(Ge=_e.length){if(Ge>ze&&(Ge=ze),Ge>Ke&&(Ge=Ke),Ge===0)break e;d.arraySet(Le,Te,Be,Ge,Ce),ze-=Ge,Be+=Ge,Ke-=Ge,Ce+=Ge,_e.length-=Ge;break}_e.mode=ie;break;case 17:for(;$e<14;){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}if(_e.nlen=257+(31&je),je>>>=5,$e-=5,_e.ndist=1+(31&je),je>>>=5,$e-=5,_e.ncode=4+(15&je),je>>>=4,$e-=4,_e.nlen>286||_e.ndist>30){Ee.msg="too many length or distance symbols",_e.mode=ae;break}_e.have=0,_e.mode=18;case 18:for(;_e.have<_e.ncode;){for(;$e<3;){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}_e.lens[et[_e.have++]]=7&je,je>>>=3,$e-=3}for(;_e.have<19;)_e.lens[et[_e.have++]]=0;if(_e.lencode=_e.lendyn,_e.lenbits=7,Ne={bits:_e.lenbits},qe=D(0,_e.lens,0,19,_e.lencode,0,_e.work,Ne),_e.lenbits=Ne.bits,qe){Ee.msg="invalid code lengths set",_e.mode=ae;break}_e.have=0,_e.mode=19;case 19:for(;_e.have<_e.nlen+_e.ndist;){for(;Qe=(Oe=_e.lencode[je&(1<<_e.lenbits)-1])>>>16&255,ut=65535&Oe,!((He=Oe>>>24)<=$e);){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}if(ut<16)je>>>=He,$e-=He,_e.lens[_e.have++]=ut;else{if(ut===16){for(Fe=He+2;$e<Fe;){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}if(je>>>=He,$e-=He,_e.have===0){Ee.msg="invalid bit length repeat",_e.mode=ae;break}we=_e.lens[_e.have-1],Ge=3+(3&je),je>>>=2,$e-=2}else if(ut===17){for(Fe=He+3;$e<Fe;){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}$e-=He,we=0,Ge=3+(7&(je>>>=He)),je>>>=3,$e-=3}else{for(Fe=He+7;$e<Fe;){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}$e-=He,we=0,Ge=11+(127&(je>>>=He)),je>>>=7,$e-=7}if(_e.have+Ge>_e.nlen+_e.ndist){Ee.msg="invalid bit length repeat",_e.mode=ae;break}for(;Ge--;)_e.lens[_e.have++]=we}}if(_e.mode===ae)break;if(_e.lens[256]===0){Ee.msg="invalid code -- missing end-of-block",_e.mode=ae;break}if(_e.lenbits=9,Ne={bits:_e.lenbits},qe=D(H,_e.lens,0,_e.nlen,_e.lencode,0,_e.work,Ne),_e.lenbits=Ne.bits,qe){Ee.msg="invalid literal/lengths set",_e.mode=ae;break}if(_e.distbits=6,_e.distcode=_e.distdyn,Ne={bits:_e.distbits},qe=D(q,_e.lens,_e.nlen,_e.ndist,_e.distcode,0,_e.work,Ne),_e.distbits=Ne.bits,qe){Ee.msg="invalid distances set",_e.mode=ae;break}if(_e.mode=20,Ie===6)break e;case 20:_e.mode=21;case 21:if(ze>=6&&Ke>=258){Ee.next_out=Ce,Ee.avail_out=Ke,Ee.next_in=Be,Ee.avail_in=ze,_e.hold=je,_e.bits=$e,w(Ee,Pe),Ce=Ee.next_out,Le=Ee.output,Ke=Ee.avail_out,Be=Ee.next_in,Te=Ee.input,ze=Ee.avail_in,je=_e.hold,$e=_e.bits,_e.mode===ie&&(_e.back=-1);break}for(_e.back=0;Qe=(Oe=_e.lencode[je&(1<<_e.lenbits)-1])>>>16&255,ut=65535&Oe,!((He=Oe>>>24)<=$e);){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}if(Qe&&!(240&Qe)){for(dt=He,kt=Qe,Xe=ut;Qe=(Oe=_e.lencode[Xe+((je&(1<<dt+kt)-1)>>dt)])>>>16&255,ut=65535&Oe,!(dt+(He=Oe>>>24)<=$e);){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}je>>>=dt,$e-=dt,_e.back+=dt}if(je>>>=He,$e-=He,_e.back+=He,_e.length=ut,Qe===0){_e.mode=26;break}if(32&Qe){_e.back=-1,_e.mode=ie;break}if(64&Qe){Ee.msg="invalid literal/length code",_e.mode=ae;break}_e.extra=15&Qe,_e.mode=22;case 22:if(_e.extra){for(Fe=_e.extra;$e<Fe;){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}_e.length+=je&(1<<_e.extra)-1,je>>>=_e.extra,$e-=_e.extra,_e.back+=_e.extra}_e.was=_e.length,_e.mode=23;case 23:for(;Qe=(Oe=_e.distcode[je&(1<<_e.distbits)-1])>>>16&255,ut=65535&Oe,!((He=Oe>>>24)<=$e);){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}if(!(240&Qe)){for(dt=He,kt=Qe,Xe=ut;Qe=(Oe=_e.distcode[Xe+((je&(1<<dt+kt)-1)>>dt)])>>>16&255,ut=65535&Oe,!(dt+(He=Oe>>>24)<=$e);){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}je>>>=dt,$e-=dt,_e.back+=dt}if(je>>>=He,$e-=He,_e.back+=He,64&Qe){Ee.msg="invalid distance code",_e.mode=ae;break}_e.offset=ut,_e.extra=15&Qe,_e.mode=24;case 24:if(_e.extra){for(Fe=_e.extra;$e<Fe;){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}_e.offset+=je&(1<<_e.extra)-1,je>>>=_e.extra,$e-=_e.extra,_e.back+=_e.extra}if(_e.offset>_e.dmax){Ee.msg="invalid distance too far back",_e.mode=ae;break}_e.mode=25;case 25:if(Ke===0)break e;if(Ge=Pe-Ke,_e.offset>Ge){if((Ge=_e.offset-Ge)>_e.whave&&_e.sane){Ee.msg="invalid distance too far back",_e.mode=ae;break}Ge>_e.wnext?(Ge-=_e.wnext,it=_e.wsize-Ge):it=_e.wnext-Ge,Ge>_e.length&&(Ge=_e.length),Je=_e.window}else Je=Le,it=Ce-_e.offset,Ge=_e.length;Ge>Ke&&(Ge=Ke),Ke-=Ge,_e.length-=Ge;do Le[Ce++]=Je[it++];while(--Ge);_e.length===0&&(_e.mode=21);break;case 26:if(Ke===0)break e;Le[Ce++]=_e.length,Ke--,_e.mode=21;break;case 27:if(_e.wrap){for(;$e<32;){if(ze===0)break e;ze--,je|=Te[Be++]<<$e,$e+=8}if(Pe-=Ke,Ee.total_out+=Pe,_e.total+=Pe,Pe&&(Ee.adler=_e.check=_e.flags?g(_e.check,Le,Pe,Ce-Pe):m(_e.check,Le,Pe,Ce-Pe)),Pe=Ke,(_e.flags?je:ue(je))!==_e.check){Ee.msg="incorrect data check",_e.mode=ae;break}je=0,$e=0}_e.mode=28;case 28:if(_e.wrap&&_e.flags){for(;$e<32;){if(ze===0)break e;ze--,je+=Te[Be++]<<$e,$e+=8}if(je!==(4294967295&_e.total)){Ee.msg="incorrect length check",_e.mode=ae;break}je=0,$e=0}_e.mode=29;case 29:qe=1;break e;case ae:qe=-3;break e;case 31:return-4;default:return re}return Ee.next_out=Ce,Ee.avail_out=Ke,Ee.next_in=Be,Ee.avail_in=ze,_e.hold=je,_e.bits=$e,(_e.wsize||Pe!==Ee.avail_out&&_e.mode<ae&&(_e.mode<27||Ie!==4))&&Se(Ee,Ee.output,Ee.next_out,Pe-Ee.avail_out),Ye-=Ee.avail_in,Pe-=Ee.avail_out,Ee.total_in+=Ye,Ee.total_out+=Pe,_e.total+=Pe,_e.wrap&&Pe&&(Ee.adler=_e.check=_e.flags?g(_e.check,Le,Pe,Ee.next_out-Pe):m(_e.check,Le,Pe,Ee.next_out-Pe)),Ee.data_type=_e.bits+(_e.last?64:0)+(_e.mode===ie?128:0)+(_e.mode===20||_e.mode===15?256:0),(Ye===0&&Pe===0||Ie===4)&&qe===te&&(qe=-5),qe},inflate.inflateEnd=function(Ee){if(!Ee||!Ee.state)return re;var Ie=Ee.state;return Ie.window&&(Ie.window=null),Ee.state=null,te},inflate.inflateGetHeader=function(Ee,Ie){var _e;return Ee&&Ee.state&&2&(_e=Ee.state).wrap?(_e.head=Ie,Ie.done=!1,te):re},inflate.inflateSetDictionary=function(Ee,Ie){var _e,Te=Ie.length;return Ee&&Ee.state?(_e=Ee.state).wrap!==0&&_e.mode!==11?re:_e.mode===11&&m(1,Ie,Te,0)!==_e.check?-3:Se(Ee,Ie,Te,Te)?(_e.mode=31,-4):(_e.havedict=1,te):re},inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}function requireConstants(){return hasRequiredConstants?constants:(hasRequiredConstants=1,constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8})}function requireGzheader(){return hasRequiredGzheader?gzheader:(hasRequiredGzheader=1,gzheader=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1})}function requireInflate(){if(hasRequiredInflate)return inflate$1;hasRequiredInflate=1;var d=requireInflate$1(),m=requireCommon(),g=requireStrings(),w=requireConstants(),D=requireMessages(),H=requireZstream(),q=requireGzheader(),te=Object.prototype.toString;function re(ie){if(!(this instanceof re))return new re(ie);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},ie||{});var ae=this.options;ae.raw&&ae.windowBits>=0&&ae.windowBits<16&&(ae.windowBits=-ae.windowBits,ae.windowBits===0&&(ae.windowBits=-15)),!(ae.windowBits>=0&&ae.windowBits<16)||ie&&ie.windowBits||(ae.windowBits+=32),ae.windowBits>15&&ae.windowBits<48&&(15&ae.windowBits||(ae.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new H,this.strm.avail_out=0;var se=d.inflateInit2(this.strm,ae.windowBits);if(se!==w.Z_OK)throw new Error(D[se]);if(this.header=new q,d.inflateGetHeader(this.strm,this.header),ae.dictionary&&(typeof ae.dictionary=="string"?ae.dictionary=g.string2buf(ae.dictionary):te.call(ae.dictionary)==="[object ArrayBuffer]"&&(ae.dictionary=new Uint8Array(ae.dictionary)),ae.raw&&(se=d.inflateSetDictionary(this.strm,ae.dictionary))!==w.Z_OK))throw new Error(D[se])}function ne(ie,ae){var se=new re(ae);if(se.push(ie,!0),se.err)throw se.msg||D[se.err];return se.result}return re.prototype.push=function(ie,ae){var se,le,ue,fe,de,me=this.strm,ge=this.options.chunkSize,he=this.options.dictionary,pe=!1;if(this.ended)return!1;le=ae===~~ae?ae:ae===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof ie=="string"?me.input=g.binstring2buf(ie):te.call(ie)==="[object ArrayBuffer]"?me.input=new Uint8Array(ie):me.input=ie,me.next_in=0,me.avail_in=me.input.length;do{if(me.avail_out===0&&(me.output=new m.Buf8(ge),me.next_out=0,me.avail_out=ge),(se=d.inflate(me,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&he&&(se=d.inflateSetDictionary(this.strm,he)),se===w.Z_BUF_ERROR&&pe===!0&&(se=w.Z_OK,pe=!1),se!==w.Z_STREAM_END&&se!==w.Z_OK)return this.onEnd(se),this.ended=!0,!1;me.next_out&&(me.avail_out!==0&&se!==w.Z_STREAM_END&&(me.avail_in!==0||le!==w.Z_FINISH&&le!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(ue=g.utf8border(me.output,me.next_out),fe=me.next_out-ue,de=g.buf2string(me.output,ue),me.next_out=fe,me.avail_out=ge-fe,fe&&m.arraySet(me.output,me.output,ue,fe,0),this.onData(de)):this.onData(m.shrinkBuf(me.output,me.next_out)))),me.avail_in===0&&me.avail_out===0&&(pe=!0)}while((me.avail_in>0||me.avail_out===0)&&se!==w.Z_STREAM_END);return se===w.Z_STREAM_END&&(le=w.Z_FINISH),le===w.Z_FINISH?(se=d.inflateEnd(this.strm),this.onEnd(se),this.ended=!0,se===w.Z_OK):le!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),me.avail_out=0,!0)},re.prototype.onData=function(ie){this.chunks.push(ie)},re.prototype.onEnd=function(ie){ie===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=ie,this.msg=this.strm.msg},inflate$1.Inflate=re,inflate$1.inflate=ne,inflate$1.inflateRaw=function(ie,ae){return(ae=ae||{}).raw=!0,ne(ie,ae)},inflate$1.ungzip=ne,inflate$1}function requirePako(){if(hasRequiredPako)return pako_1;hasRequiredPako=1;var d={};return(0,requireCommon().assign)(d,requireDeflate(),requireInflate(),requireConstants()),pako_1=d}(function(d){(function(){var m={};function g(){typeof process<"u"||console.log.apply(console,arguments)}d.exports=m,function(w,D){(function(){var H=function(){function re(ne){this.message="JPEG error: "+ne}return re.prototype=new Error,re.prototype.name="JpegError",re.constructor=re,re}(),q=function(){var re=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),ne=4017,ie=799,ae=3406,se=2276,le=1567,ue=3784,fe=5793,de=2896;function me(Se){Se==null&&(Se={}),Se.w==null&&(Se.w=-1),this.V=Se.n,this.N=Se.w}function ge(Se,Ee){for(var Ie,_e,Te,Le=0,Be=[],Ce=16;Ce>0&&!Se[Ce-1];)Ce--;Be.push({children:[],index:0});var ze=Be[0];for(Ie=0;Ie<Ce;Ie++){for(_e=0;_e<Se[Ie];_e++){for((ze=Be.pop()).children[ze.index]=Ee[Le];ze.index>0;)ze=Be.pop();for(ze.index++,Be.push(ze);Be.length<=Ie;)Be.push(Te={children:[],index:0}),ze.children[ze.index]=Te.children,ze=Te;Le++}Ie+1<Ce&&(Be.push(Te={children:[],index:0}),ze.children[ze.index]=Te.children,ze=Te)}return Be[0].children}function he(Se,Ee,Ie){return 64*((Se.P+1)*Ee+Ie)}function pe(Se,Ee,Ie,_e,Te,Le,Be,Ce,ze,Ke){Ke==null&&(Ke=!1);var je,$e,Ye,Pe,Ge,it,Je,He,Qe,ut,dt,kt=Ie.m,Xe=Ie.Z,we=Ee,qe=0,Ne=0,Fe=0,Oe=0,Ze=0,et=0;function ye(){if(Ne>0)return Ne--,qe>>Ne&1;if((qe=Se[Ee++])===255){var Kt=Se[Ee++];if(Kt){if(Kt===220&&Ke){var ar=te(Se,Ee+=2);if(Ee+=2,ar>0&&ar!==Ie.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",ar)}else if(Kt===217){if(Ke){var rr=8*Ze;if(rr>0&&rr<Ie.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",rr)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new H("unexpected marker")}}return Ne=7,qe>>>7}function Ae(Kt){for(var ar=Kt;;){switch(typeof(ar=ar[ye()])){case"number":return ar;case"object":continue}throw new H("invalid huffman sequence")}}function De(Kt){for(var ar=0;Kt>0;)ar=ar<<1|ye(),Kt--;return ar}function Ue(Kt){if(Kt===1)return ye()===1?1:-1;var ar=De(Kt);return ar>=1<<Kt-1?ar:ar+(-1<<Kt)+1}function St(Kt,ar,rr,gr,dr){var hr=rr%kt;Ze=(rr/kt|0)*Kt.A+gr;var kr=hr*Kt.h+dr;ar(Kt,he(Kt,Ze,kr))}function Bt(Kt,ar,rr){Ze=rr/Kt.P|0;var gr=rr%Kt.P;ar(Kt,he(Kt,Ze,gr))}var tr=_e.length;for(Je=Xe?Le===0?Ce===0?function(Kt,ar){var rr=Ae(Kt.J),gr=rr===0?0:Ue(rr)<<ze;Kt.D[ar]=Kt.Q+=gr}:function(Kt,ar){Kt.D[ar]|=ye()<<ze}:Ce===0?function(Kt,ar){if(Fe>0)Fe--;else for(var rr=Le,gr=Be;rr<=gr;){var dr=Ae(Kt.i),hr=15&dr,kr=dr>>4;if(hr!==0){var fr=re[rr+=kr];Kt.D[ar+fr]=Ue(hr)*(1<<ze),rr++}else{if(kr<15){Fe=De(kr)+(1<<kr)-1;break}rr+=16}}}:function(Kt,ar){for(var rr,gr,dr=Le,hr=Be,kr=0;dr<=hr;){var fr=ar+re[dr],ot=Kt.D[fr]<0?-1:1;switch(Oe){case 0:if(kr=(gr=Ae(Kt.i))>>4,(rr=15&gr)==0)kr<15?(Fe=De(kr)+(1<<kr),Oe=4):(kr=16,Oe=1);else{if(rr!==1)throw new H("invalid ACn encoding");je=Ue(rr),Oe=kr?2:3}continue;case 1:case 2:Kt.D[fr]?Kt.D[fr]+=ot*(ye()<<ze):--kr==0&&(Oe=Oe===2?3:0);break;case 3:Kt.D[fr]?Kt.D[fr]+=ot*(ye()<<ze):(Kt.D[fr]=je<<ze,Oe=0);break;case 4:Kt.D[fr]&&(Kt.D[fr]+=ot*(ye()<<ze))}dr++}Oe===4&&--Fe==0&&(Oe=0)}:function(Kt,ar){var rr=Ae(Kt.J),gr=rr===0?0:Ue(rr),dr=1;for(Kt.D[ar]=Kt.Q+=gr;dr<64;){var hr=Ae(Kt.i),kr=15&hr,fr=hr>>4;if(kr!==0){var ot=re[dr+=fr];Kt.D[ar+ot]=Ue(kr),dr++}else{if(fr<15)break;dr+=16}}},Qe=tr===1?_e[0].P*_e[0].c:kt*Ie.R;et<=Qe;){var ir=Te?Math.min(Qe-et,Te):Qe;if(ir>0){for(Ye=0;Ye<tr;Ye++)_e[Ye].Q=0;if(Fe=0,tr===1)for($e=_e[0],it=0;it<ir;it++)Bt($e,Je,et),et++;else for(it=0;it<ir;it++){for(Ye=0;Ye<tr;Ye++)for(ut=($e=_e[Ye]).h,dt=$e.A,Pe=0;Pe<dt;Pe++)for(Ge=0;Ge<ut;Ge++)St($e,Je,et,Pe,Ge);et++}}if(Ne=0,!(He=be(Se,Ee))||(He.u&&(Ee=He.offset),!(He.M>=65488&&He.M<=65495)))break;Ee+=2}return Ee-we}function ve(Se,Ee,Ie){var _e,Te,Le,Be,Ce,ze,Ke,je,$e,Ye,Pe,Ge,it,Je,He,Qe,ut,dt=Se.$,kt=Se.D;if(!dt)throw new H("missing required Quantization Table.");for(var Xe=0;Xe<64;Xe+=8)$e=kt[Ee+Xe],Ye=kt[Ee+Xe+1],Pe=kt[Ee+Xe+2],Ge=kt[Ee+Xe+3],it=kt[Ee+Xe+4],Je=kt[Ee+Xe+5],He=kt[Ee+Xe+6],Qe=kt[Ee+Xe+7],$e*=dt[Xe],Ye|Pe|Ge|it|Je|He|Qe?(Ye*=dt[Xe+1],Pe*=dt[Xe+2],Ge*=dt[Xe+3],it*=dt[Xe+4],Je*=dt[Xe+5],He*=dt[Xe+6],Qe*=dt[Xe+7],Te=(_e=(_e=fe*$e+128>>8)+(Te=fe*it+128>>8)+1>>1)-Te,ut=(Le=Pe)*ue+(Be=He)*le+128>>8,Le=Le*le-Be*ue+128>>8,Ke=(Ce=(Ce=de*(Ye-Qe)+128>>8)+(Ke=Je<<4)+1>>1)-Ke,ze=(je=(je=de*(Ye+Qe)+128>>8)+(ze=Ge<<4)+1>>1)-ze,Be=(_e=_e+(Be=ut)+1>>1)-Be,Le=(Te=Te+Le+1>>1)-Le,ut=Ce*se+je*ae+2048>>12,Ce=Ce*ae-je*se+2048>>12,je=ut,ut=ze*ie+Ke*ne+2048>>12,ze=ze*ne-Ke*ie+2048>>12,Ke=ut,Ie[Xe]=_e+je,Ie[Xe+7]=_e-je,Ie[Xe+1]=Te+Ke,Ie[Xe+6]=Te-Ke,Ie[Xe+2]=Le+ze,Ie[Xe+5]=Le-ze,Ie[Xe+3]=Be+Ce,Ie[Xe+4]=Be-Ce):(ut=fe*$e+512>>10,Ie[Xe]=ut,Ie[Xe+1]=ut,Ie[Xe+2]=ut,Ie[Xe+3]=ut,Ie[Xe+4]=ut,Ie[Xe+5]=ut,Ie[Xe+6]=ut,Ie[Xe+7]=ut);for(var we=0;we<8;++we)$e=Ie[we],(Ye=Ie[we+8])|(Pe=Ie[we+16])|(Ge=Ie[we+24])|(it=Ie[we+32])|(Je=Ie[we+40])|(He=Ie[we+48])|(Qe=Ie[we+56])?(Te=(_e=4112+((_e=fe*$e+2048>>12)+(Te=fe*it+2048>>12)+1>>1))-Te,ut=(Le=Pe)*ue+(Be=He)*le+2048>>12,Le=Le*le-Be*ue+2048>>12,Be=ut,Ke=(Ce=(Ce=de*(Ye-Qe)+2048>>12)+(Ke=Je)+1>>1)-Ke,ze=(je=(je=de*(Ye+Qe)+2048>>12)+(ze=Ge)+1>>1)-ze,ut=Ce*se+je*ae+2048>>12,Ce=Ce*ae-je*se+2048>>12,je=ut,ut=ze*ie+Ke*ne+2048>>12,ze=ze*ne-Ke*ie+2048>>12,($e=(_e=_e+Be+1>>1)+je)<16?$e=0:$e>=4080?$e=255:$e>>=4,(Ye=(Te=Te+Le+1>>1)+(Ke=ut))<16?Ye=0:Ye>=4080?Ye=255:Ye>>=4,(Pe=(Le=Te-Le)+ze)<16?Pe=0:Pe>=4080?Pe=255:Pe>>=4,(Ge=(Be=_e-Be)+Ce)<16?Ge=0:Ge>=4080?Ge=255:Ge>>=4,(it=Be-Ce)<16?it=0:it>=4080?it=255:it>>=4,(Je=Le-ze)<16?Je=0:Je>=4080?Je=255:Je>>=4,(He=Te-Ke)<16?He=0:He>=4080?He=255:He>>=4,(Qe=_e-je)<16?Qe=0:Qe>=4080?Qe=255:Qe>>=4,kt[Ee+we]=$e,kt[Ee+we+8]=Ye,kt[Ee+we+16]=Pe,kt[Ee+we+24]=Ge,kt[Ee+we+32]=it,kt[Ee+we+40]=Je,kt[Ee+we+48]=He,kt[Ee+we+56]=Qe):(ut=(ut=fe*$e+8192>>14)<-2040?0:ut>=2024?255:ut+2056>>4,kt[Ee+we]=ut,kt[Ee+we+8]=ut,kt[Ee+we+16]=ut,kt[Ee+we+24]=ut,kt[Ee+we+32]=ut,kt[Ee+we+40]=ut,kt[Ee+we+48]=ut,kt[Ee+we+56]=ut)}function ke(Se,Ee){for(var Ie=Ee.P,_e=Ee.c,Te=new Int16Array(64),Le=0;Le<_e;Le++)for(var Be=0;Be<Ie;Be++)ve(Ee,he(Ee,Le,Be),Te);return Ee.D}function be(Se,Ee,Ie){Ie==null&&(Ie=Ee);var _e=Se.length-1,Te=Ie<Ee?Ie:Ee;if(Ee>=_e)return null;var Le=te(Se,Ee);if(Le>=65472&&Le<=65534)return{u:null,M:Le,offset:Ee};for(var Be=te(Se,Te);!(Be>=65472&&Be<=65534);){if(++Te>=_e)return null;Be=te(Se,Te)}return{u:Le.toString(16),M:Be,offset:Te}}return me.prototype={parse(Se,Ee){Ee==null&&(Ee={});var Ie,_e,Te=Ee.F,Le=0,Be=null,Ce=null,ze=0;function Ke(){var Tt=te(Se,Le),Ut=(Le+=2)+Tt-2,We=be(Se,Ut,Le);We&&We.u&&(Ut=We.offset);var er=Se.subarray(Le,Ut);return Le+=er.length,er}function je(Tt){for(var Ut=Math.ceil(Tt.o/8/Tt.X),We=Math.ceil(Tt.s/8/Tt.B),er=0;er<Tt.W.length;er++){Bt=Tt.W[er];var br=Math.ceil(Math.ceil(Tt.o/8)*Bt.h/Tt.X),Me=Math.ceil(Math.ceil(Tt.s/8)*Bt.A/Tt.B),Zt=Ut*Bt.h,zt=64*(We*Bt.A)*(Zt+1);Bt.D=new Int16Array(zt),Bt.P=br,Bt.c=Me}Tt.m=Ut,Tt.R=We}var $e=[],Ye=[],Pe=[],Ge=te(Se,Le);if(Le+=2,Ge!==65496)throw new H("SOI not found");Ge=te(Se,Le),Le+=2;e:for(;Ge!==65497;){var it,Je,He;switch(Ge){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Qe=Ke();Ge===65504&&Qe[0]===74&&Qe[1]===70&&Qe[2]===73&&Qe[3]===70&&Qe[4]===0&&(Be={version:{d:Qe[5],T:Qe[6]},K:Qe[7],j:Qe[8]<<8|Qe[9],H:Qe[10]<<8|Qe[11],S:Qe[12],I:Qe[13],C:Qe.subarray(14,14+3*Qe[12]*Qe[13])}),Ge===65518&&Qe[0]===65&&Qe[1]===100&&Qe[2]===111&&Qe[3]===98&&Qe[4]===101&&(Ce={version:Qe[5]<<8|Qe[6],k:Qe[7]<<8|Qe[8],q:Qe[9]<<8|Qe[10],a:Qe[11]});break;case 65499:for(var ut=te(Se,Le)+(Le+=2)-2;Le<ut;){var dt=Se[Le++],kt=new Uint16Array(64);if(dt>>4){if(dt>>4!=1)throw new H("DQT - invalid table spec");for(Je=0;Je<64;Je++)kt[re[Je]]=te(Se,Le),Le+=2}else for(Je=0;Je<64;Je++)kt[re[Je]]=Se[Le++];$e[15&dt]=kt}break;case 65472:case 65473:case 65474:if(Ie)throw new H("Only single frame JPEGs supported");Le+=2,(Ie={}).G=Ge===65473,Ie.Z=Ge===65474,Ie.precision=Se[Le++];var Xe,we=te(Se,Le),qe=0,Ne=0;Le+=2,Ie.s=Te||we,Ie.o=te(Se,Le),Le+=2,Ie.W=[],Ie._={};var Fe=Se[Le++];for(it=0;it<Fe;it++){Xe=Se[Le];var Oe=Se[Le+1]>>4,Ze=15&Se[Le+1];qe<Oe&&(qe=Oe),Ne<Ze&&(Ne=Ze);var et=Se[Le+2];He=Ie.W.push({h:Oe,A:Ze,L:et,$:null}),Ie._[Xe]=He-1,Le+=3}Ie.X=qe,Ie.B=Ne,je(Ie);break;case 65476:var ye=te(Se,Le);for(Le+=2,it=2;it<ye;){var Ae=Se[Le++],De=new Uint8Array(16),Ue=0;for(Je=0;Je<16;Je++,Le++)Ue+=De[Je]=Se[Le];var St=new Uint8Array(Ue);for(Je=0;Je<Ue;Je++,Le++)St[Je]=Se[Le];it+=17+Ue,(Ae>>4?Ye:Pe)[15&Ae]=ge(De,St)}break;case 65501:_e=te(Se,Le+=2),Le+=2;break;case 65498:var Bt,tr=++ze==1&&!Te;Le+=2;var ir=Se[Le++],Kt=[];for(it=0;it<ir;it++){var ar=Se[Le++],rr=Ie._[ar];(Bt=Ie.W[rr]).index=ar;var gr=Se[Le++];Bt.J=Pe[gr>>4],Bt.i=Ye[15&gr],Kt.push(Bt)}var dr=Se[Le++],hr=Se[Le++],kr=Se[Le++];try{var fr=pe(Se,Le,Ie,Kt,_e,dr,hr,kr>>4,15&kr,tr);Le+=fr}catch(Tt){if(Tt instanceof DNLMarkerError)return this.parse(Se,{F:Tt.s});if(Tt instanceof EOIMarkerError)break e;throw Tt}break;case 65500:Le+=4;break;case 65535:Se[Le]!==255&&Le--;break;default:var ot=be(Se,Le-2,Le-3);if(ot&&ot.u){Le=ot.offset;break}if(Le>=Se.length-1)break e;throw new H("JpegImage.parse - unknown marker: "+Ge.toString(16))}Ge=te(Se,Le),Le+=2}for(this.width=Ie.o,this.height=Ie.s,this.g=Be,this.b=Ce,this.W=[],it=0;it<Ie.W.length;it++){var nr=$e[(Bt=Ie.W[it]).L];nr&&(Bt.$=nr),this.W.push({index:Bt.index,e:ke(0,Bt),l:Bt.h/Ie.X,t:Bt.A/Ie.B,P:Bt.P,c:Bt.c})}this.p=this.W.length},Y(Se,Ee,Ie){Ie==null&&(Ie=!1);var _e,Te,Le,Be,Ce,ze,Ke,je,$e,Ye,Pe,Ge,it=this.width/Se,Je=this.height/Ee,He=0,Qe=this.W.length,ut=Se*Ee*Qe,dt=new Uint8ClampedArray(ut),kt=new Uint32Array(Se),Xe=4294967288;for(Ke=0;Ke<Qe;Ke++){if(Te=(_e=this.W[Ke]).l*it,Le=_e.t*Je,He=Ke,Pe=_e.e,Be=_e.P+1<<3,Te!==Ge){for(Ce=0;Ce<Se;Ce++)je=0|Ce*Te,kt[Ce]=(je&Xe)<<3|7&je;Ge=Te}for(ze=0;ze<Ee;ze++)for(Ye=Be*((je=0|ze*Le)&Xe)|(7&je)<<3,Ce=0;Ce<Se;Ce++)dt[He]=Pe[Ye+kt[Ce]],He+=Qe}var we=this.V;if(Ie||Qe!==4||we||(we=new Int32Array([-256,255,-256,255,-256,255,-256,255])),we)for(Ke=0;Ke<ut;)for(je=0,$e=0;je<Qe;je++,Ke++,$e+=2)dt[Ke]=(dt[Ke]*we[$e]>>8)+we[$e+1];return dt},get f(){return this.b?!!this.b.a:this.p===3?this.N!==0&&(this.W[0].index!==82||this.W[1].index!==71||this.W[2].index!==66):this.N===1},z:function(Se){for(var Ee,Ie,_e,Te=0,Le=Se.length;Te<Le;Te+=3)Ee=Se[Te],Ie=Se[Te+1],_e=Se[Te+2],Se[Te]=Ee-179.456+1.402*_e,Se[Te+1]=Ee+135.459-.344*Ie-.714*_e,Se[Te+2]=Ee-226.816+1.772*Ie;return Se},O:function(Se){for(var Ee,Ie,_e,Te,Le=0,Be=0,Ce=Se.length;Be<Ce;Be+=4)Ee=Se[Be],Ie=Se[Be+1],_e=Se[Be+2],Te=Se[Be+3],Se[Le++]=Ie*(-660635669420364e-19*Ie+.000437130475926232*_e-54080610064599e-18*Ee+.00048449797120281*Te-.154362151871126)-122.67195406894+_e*(-.000957964378445773*_e+.000817076911346625*Ee-.00477271405408747*Te+1.53380253221734)+Ee*(.000961250184130688*Ee-.00266257332283933*Te+.48357088451265)+Te*(-.000336197177618394*Te+.484791561490776),Se[Le++]=107.268039397724+Ie*(219927104525741e-19*Ie-.000640992018297945*_e+.000659397001245577*Ee+.000426105652938837*Te-.176491792462875)+_e*(-.000778269941513683*_e+.00130872261408275*Ee+.000770482631801132*Te-.151051492775562)+Ee*(.00126935368114843*Ee-.00265090189010898*Te+.25802910206845)+Te*(-.000318913117588328*Te-.213742400323665),Se[Le++]=Ie*(-.000570115196973677*Ie-263409051004589e-19*_e+.0020741088115012*Ee-.00288260236853442*Te+.814272968359295)-20.810012546947+_e*(-153496057440975e-19*_e-.000132689043961446*Ee+.000560833691242812*Te-.195152027534049)+Ee*(.00174418132927582*Ee-.00255243321439347*Te+.116935020465145)+Te*(-.000343531996510555*Te+.24165260232407);return Se.subarray(0,Le)},r:function(Se){for(var Ee,Ie,_e,Te=0,Le=Se.length;Te<Le;Te+=4)Ee=Se[Te],Ie=Se[Te+1],_e=Se[Te+2],Se[Te]=434.456-Ee-1.402*_e,Se[Te+1]=119.541-Ee+.344*Ie+.714*_e,Se[Te+2]=481.816-Ee-1.772*Ie;return Se},U:function(Se){for(var Ee,Ie,_e,Te,Le=0,Be=0,Ce=Se.length;Be<Ce;Be+=4)Ee=Se[Be],Ie=Se[Be+1],_e=Se[Be+2],Te=Se[Be+3],Se[Le++]=255+Ee*(-6747147073602441e-20*Ee+.0008379262121013727*Ie+.0002894718188643294*_e+.003264231057537806*Te-1.1185611867203937)+Ie*(26374107616089405e-21*Ie-8626949158638572e-20*_e-.0002748769067499491*Te-.02155688794978967)+_e*(-3878099212869363e-20*_e-.0003267808279485286*Te+.0686742238595345)-Te*(.0003361971776183937*Te+.7430659151342254),Se[Le++]=255+Ee*(.00013596372813588848*Ee+.000924537132573585*Ie+.00010567359618683593*_e+.0004791864687436512*Te-.3109689587515875)+Ie*(-.00023545346108370344*Ie+.0002702845253534714*_e+.0020200308977307156*Te-.7488052167015494)+_e*(6834815998235662e-20*_e+.00015168452363460973*Te-.09751927774728933)-Te*(.0003189131175883281*Te+.7364883807733168),Se[Le++]=255+Ee*(13598650411385307e-21*Ee+.00012423956175490851*Ie+.0004751985097583589*_e-36729317476630422e-22*Te-.05562186980264034)+Ie*(.00016141380598724676*Ie+.0009692239130725186*_e+.0007782692450036253*Te-.44015232367526463)+_e*(5068882914068769e-22*_e+.0017778369011375071*Te-.7591454649749609)-Te*(.0003435319965105553*Te+.7063770186160144);return Se.subarray(0,Le)},getData:function(Se){var Ee=Se.width,Ie=Se.height,_e=Se.forceRGB,Te=Se.isSourcePDF;if(this.p>4)throw new H("Unsupported color mode");var Le=this.Y(Ee,Ie,Te);if(this.p===1&&_e){for(var Be=Le.length,Ce=new Uint8ClampedArray(3*Be),ze=0,Ke=0;Ke<Be;Ke++){var je=Le[Ke];Ce[ze++]=je,Ce[ze++]=je,Ce[ze++]=je}return Ce}if(this.p===3&&this.f)return this.z(Le);if(this.p===4){if(this.f)return _e?this.O(Le):this.r(Le);if(_e)return this.U(Le)}return Le}},me}();function te(re,ne){return re[ne]<<8|re[ne+1]}w.JpegDecoder=q})(),w.encodeImage=function(H,q,te,re){var ne={t256:[q],t257:[te],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[te],t279:[q*te*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(re)for(var ie in re)ne[ie]=re[ie];var ae=new Uint8Array(w.encode([ne])),se=new Uint8Array(H),le=new Uint8Array(1e3+q*te*4);for(ie=0;ie<ae.length;ie++)le[ie]=ae[ie];for(ie=0;ie<se.length;ie++)le[1e3+ie]=se[ie];return le.buffer},w.encode=function(H){var q=new Uint8Array(2e4),te=4,re=w._binBE;q[0]=q[1]=77,re.writeUshort(q,2,42);var ne=8;re.writeUint(q,te,ne),te+=4;for(var ie=0;ie<H.length;ie++){var ae=w._writeIFD(re,w._types.basic,q,ne,H[ie]);ne=ae[1],ie<H.length-1&&(3&ne&&(ne+=4-(3&ne)),re.writeUint(q,ae[0],ne))}return q.slice(0,ne).buffer},w.decode=function(H,q){q==null&&(q={parseMN:!0,debug:!1});var te=new Uint8Array(H),re=0,ne=w._binBE.readASCII(te,re,2);re+=2;var ie=ne=="II"?w._binLE:w._binBE;ie.readUshort(te,re),re+=2;var ae=ie.readUint(te,re);re+=4;for(var se=[];;){var le=ie.readUshort(te,ae),ue=ie.readUshort(te,ae+4);if(le!=0&&(ue<1||13<ue)){g("error in TIFF");break}if(w._readIFD(ie,te,ae,se,0,q),(ae=ie.readUint(te,ae+2+12*le))==0)break}return se},w.decodeImage=function(H,q,te){if(!q.data){var re=new Uint8Array(H),ne=w._binBE.readASCII(re,0,2);if(q.t256!=null){q.isLE=ne=="II",q.width=q.t256[0],q.height=q.t257[0];var ie=q.t259?q.t259[0]:1,ae=q.t266?q.t266[0]:1;q.t284&&q.t284[0]==2&&g("PlanarConfiguration 2 should not be used!"),ie==7&&q.t258&&q.t258.length>3&&(q.t258=q.t258.slice(0,3));var se=q.t277?q.t277[0]:1,le=(q.t258?q.t258[0]:1)*se;ie==1&&q.t279!=null&&q.t278&&q.t262[0]==32803&&(le=Math.round(8*q.t279[0]/(q.width*q.t278[0]))),q.t50885&&q.t50885[0]==4&&(le=3*q.t258[0]);var ue=8*Math.ceil(q.width*le/8),fe=q.t273;(fe==null||q.t322)&&(fe=q.t324);var de=q.t279;ie==1&&fe.length==1&&(de=[q.height*(ue>>>3)]),(de==null||q.t322)&&(de=q.t325);var me=new Uint8Array(q.height*(ue>>>3)),ge=0;if(q.t322!=null){var he=q.t322[0],pe=q.t323[0],ve=Math.floor((q.width+he-1)/he),ke=Math.floor((q.height+pe-1)/pe),be=new Uint8Array(0|Math.ceil(he*pe*le/8));console.log("====",ve,ke);for(var Se=0;Se<ke;Se++)for(var Ee=0;Ee<ve;Ee++){var Ie=Se*ve+Ee;be.fill(0),w.decode._decompress(q,te,re,fe[Ie],de[Ie],ie,be,0,ae,he,pe),ie==6?me=be:w._copyTile(be,0|Math.ceil(he*le/8),pe,me,0|Math.ceil(q.width*le/8),q.height,0|Math.ceil(Ee*he*le/8),Se*pe)}ge=8*me.length}else{if(fe==null)return;var _e=q.t278?q.t278[0]:q.height;for(_e=Math.min(_e,q.height),Ie=0;Ie<fe.length;Ie++)w.decode._decompress(q,te,re,fe[Ie],de[Ie],ie,me,0|Math.ceil(ge/8),ae,q.width,_e),ge+=ue*_e;ge=Math.min(ge,8*me.length)}q.data=new Uint8Array(me.buffer,0,0|Math.ceil(ge/8))}}},w.decode._decompress=function(H,q,te,re,ne,ie,ae,se,le,ue,fe){if(H.t271&&H.t271[0]=="Panasonic"&&H.t45&&H.t45[0]==6&&(ie=34316),ie==1)for(var de=0;de<ne;de++)ae[se+de]=te[re+de];else if(ie==2)w.decode._decodeG2(te,re,ne,ae,se,ue,le);else if(ie==3)w.decode._decodeG3(te,re,ne,ae,se,ue,le,!!H.t292&&!(1&~H.t292[0]));else if(ie==4)w.decode._decodeG4(te,re,ne,ae,se,ue,le);else if(ie==5)w.decode._decodeLZW(te,re,ne,ae,se,8);else if(ie==6)w.decode._decodeOldJPEG(H,te,re,ne,ae,se);else if(ie==7||ie==34892)w.decode._decodeNewJPEG(H,te,re,ne,ae,se);else if(ie==8||ie==32946){var me=new Uint8Array(te.buffer,re+2,ne-6),ge=D.inflateRaw(me);se+ge.length<=ae.length&&ae.set(ge,se)}else ie==9?w.decode._decodeVC5(te,re,ne,ae,se,H.t33422):ie==32767?w.decode._decodeARW(H,te,re,ne,ae,se):ie==32773?w.decode._decodePackBits(te,re,ne,ae,se):ie==32809?w.decode._decodeThunder(te,re,ne,ae,se):ie==34316?w.decode._decodePanasonic(H,te,re,ne,ae,se):ie==34713?w.decode._decodeNikon(H,q,te,re,ne,ae,se):ie==34676?w.decode._decodeLogLuv32(H,te,re,ne,ae,se):g("Unknown compression",ie);var he=H.t258?Math.min(32,H.t258[0]):1,pe=H.t277?H.t277[0]:1,ve=he*pe>>>3,ke=Math.ceil(he*pe*ue/8);if(he==16&&!H.isLE&&H.t33422==null)for(var be=0;be<fe;be++)for(var Se=se+be*ke,Ee=1;Ee<ke;Ee+=2){var Ie=ae[Se+Ee];ae[Se+Ee]=ae[Se+Ee-1],ae[Se+Ee-1]=Ie}if(H.t317&&H.t317[0]==2)for(be=0;be<fe;be++){var _e=se+be*ke;if(he==16)for(de=ve;de<ke;de+=2){var Te=(ae[_e+de+1]<<8|ae[_e+de])+(ae[_e+de-ve+1]<<8|ae[_e+de-ve]);ae[_e+de]=255&Te,ae[_e+de+1]=Te>>>8&255}else if(pe==3)for(de=3;de<ke;de+=3)ae[_e+de]=ae[_e+de]+ae[_e+de-3]&255,ae[_e+de+1]=ae[_e+de+1]+ae[_e+de-2]&255,ae[_e+de+2]=ae[_e+de+2]+ae[_e+de-1]&255;else for(de=ve;de<ke;de++)ae[_e+de]=ae[_e+de]+ae[_e+de-ve]&255}},w.decode._decodePanasonic=function(H,q,te,re,ne,ie){var ae,se,le,ue,fe,de,me,ge,he=q.buffer,pe=H.t2[0],ve=H.t3[0],ke=H.t10[0],be=H.t45[0],Se=0,Ee=0,Ie=0,_e=0,Te=be==6?new Uint32Array(18):new Uint8Array(16),Le=[0,0],Be=[0,0],Ce=0,ze=new Uint8Array(16384),Ke=new Uint16Array(ne.buffer);function je(et){if(Ie==0){var ye=new Uint8Array(he,te+Ee+8184,8200),Ae=new Uint8Array(he,te+Ee,8184);ze.set(ye),ze.set(Ae,ye.length),Ee+=16384}if(be!=5)return(ze[_e=(Ie=Ie-et&131071)>>3^16368]|ze[_e+1]<<8)>>(7&Ie)&~(-1<<et);for(ae=0;ae<16;ae++)Te[ae]=ze[Ie++],Ie&=16383}function $e(et){return ze[Ie+15-et]}function Ye(){Le[0]=0,Le[1]=0,Be[0]=0,Be[1]=0}if(be==7)throw be;if(be==6){var Pe=ke==12,Ge=Pe?function(){Te[0]=$e(0)<<4|$e(1)>>4,Te[1]=4095&((15&$e(1))<<8|$e(2)),Te[2]=$e(3)>>6&3,Te[3]=(63&$e(3))<<2|$e(4)>>6,Te[4]=(63&$e(4))<<2|$e(5)>>6,Te[5]=(63&$e(5))<<2|$e(6)>>6,Te[6]=$e(6)>>4&3,Te[7]=(15&$e(6))<<4|$e(7)>>4,Te[8]=(15&$e(7))<<4|$e(8)>>4,Te[9]=(15&$e(8))<<4|$e(9)>>4,Te[10]=$e(9)>>2&3,Te[11]=(3&$e(9))<<6|$e(10)>>2,Te[12]=(3&$e(10))<<6|$e(11)>>2,Te[13]=(3&$e(11))<<6|$e(12)>>2,Te[14]=3&$e(12),Te[15]=$e(13),Te[16]=$e(14),Te[17]=$e(15),Ie+=16,_e=0}:function(){Te[0]=$e(0)<<6|$e(1)>>2,Te[1]=16383&((3&$e(1))<<12|$e(2)<<4|$e(3)>>4),Te[2]=$e(3)>>2&3,Te[3]=(3&$e(3))<<8|$e(4),Te[4]=$e(5)<<2|$e(6)>>6,Te[5]=(63&$e(6))<<4|$e(7)>>4,Te[6]=$e(7)>>2&3,Te[7]=(3&$e(7))<<8|$e(8),Te[8]=$e(9)<<2&1020|$e(10)>>6,Te[9]=1023&($e(10)<<4|$e(11)>>4),Te[10]=$e(11)>>2&3,Te[11]=(3&$e(11))<<8|$e(12),Te[12]=1023&($e(13)<<2&1020|$e(14)>>6),Te[13]=1023&($e(14)<<4|$e(15)>>4),Ie+=16,_e=0},it=Pe?14:11,Je=Pe?128:512,He=Pe?2048:8192,Qe=Pe?16383:65535,ut=Pe?4095:16383,dt=pe/it,kt=16*dt,Xe=Pe?18:14;for(de=0;de<ve-15;de+=16){var we=Math.min(16,ve-de),qe=kt*we;for(ze=new Uint8Array(he,te+Se,qe),Ie=0,Se+=qe,ge=0,me=0;ge<we;ge++,me=0){Ce=(de+ge)*pe;for(var Ne=0;Ne<dt;Ne++)for(Ge(),Ye(),le=0,fe=0,ae=0;ae<it;ae++){if(ue=1&ae,ae%3==2){var Fe=_e<Xe?Te[_e++]:0;Fe==3&&(Fe=4),fe=Je<<Fe,le=1<<Fe}var Oe=_e<Xe?Te[_e++]:0;Le[ue]?(Oe*=le,fe<He&&Be[ue]>fe&&(Oe+=Be[ue]-fe),Be[ue]=Oe):(Le[ue]=Oe,Oe?Be[ue]=Oe:Oe=Be[ue]),Ke[Ce+me++]=Oe-15<=Qe?Oe-15&Qe:Oe+2147483633>>31&ut}}}}else if(be==5){var Ze=ke==12?10:9;for(de=0;de<ve;de++)for(me=0;me<pe;me+=Ze)je(0),ke==12?(Ke[Ce++]=((15&Te[1])<<8)+Te[0],Ke[Ce++]=16*Te[2]+(Te[1]>>4),Ke[Ce++]=((15&Te[4])<<8)+Te[3],Ke[Ce++]=16*Te[5]+(Te[4]>>4),Ke[Ce++]=((15&Te[7])<<8)+Te[6],Ke[Ce++]=16*Te[8]+(Te[7]>>4),Ke[Ce++]=((15&Te[10])<<8)+Te[9],Ke[Ce++]=16*Te[11]+(Te[10]>>4),Ke[Ce++]=((15&Te[13])<<8)+Te[12],Ke[Ce++]=16*Te[14]+(Te[13]>>4)):ke==14&&(Ke[Ce++]=Te[0]+((63&Te[1])<<8),Ke[Ce++]=(Te[1]>>6)+4*Te[2]+((15&Te[3])<<10),Ke[Ce++]=(Te[3]>>4)+16*Te[4]+((3&Te[5])<<12),Ke[Ce++]=((252&Te[5])>>2)+(Te[6]<<6),Ke[Ce++]=Te[7]+((63&Te[8])<<8),Ke[Ce++]=(Te[8]>>6)+4*Te[9]+((15&Te[10])<<10),Ke[Ce++]=(Te[10]>>4)+16*Te[11]+((3&Te[12])<<12),Ke[Ce++]=((252&Te[12])>>2)+(Te[13]<<6),Ke[Ce++]=Te[14]+((63&Te[15])<<8))}else{if(be!=4)throw be;for(de=0;de<ve;de++)for(me=0;me<pe;me++)ue=1&(ae=me%14),ae==0&&Ye(),ae%3==2&&(le=4>>3-je(2)),Be[ue]?(se=je(8))!=0&&(Le[ue]-=128<<le,(Le[ue]<0||le==4)&&(Le[ue]&=~(-1<<le)),Le[ue]+=se<<le):(Be[ue]=je(8),(Be[ue]||ae>11)&&(Le[ue]=Be[ue]<<4|je(4))),Ke[Ce++]=Le[1&me]}},w.decode._decodeVC5=function(){var H,q,te,re=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],ne=[3,3,3,3,2,2,2,1,1,1];function ie(ge){var he=ge[1],pe=ge[0][he>>>3]>>>7-(7&he)&1;return ge[1]++,pe}function ae(ge,he){if(H==null){H={};for(var pe=0;pe<re.length;pe+=4)H[re[pe+1]]=re.slice(pe,pe+4)}for(var ve=ie(ge),ke=H[ve];ke==null;)ve=ve<<1|ie(ge),ke=H[ve];var be=ke[3];be!=0&&(be=ie(ge)==0?be:-be),he[0]=ke[2],he[1]=be}function se(ge,he){for(var pe=0;pe<he;pe++)1&~ge||ge++,ge>>>=1;return ge}function le(ge,he){return ge>>he}function ue(ge,he,pe,ve,ke,be){he[pe]=le(le(11*ge[ke]-4*ge[ke+be]+ge[ke+be+be]+4,3)+ge[ve],1),he[pe+be]=le(le(5*ge[ke]+4*ge[ke+be]-ge[ke+be+be]+4,3)-ge[ve],1)}function fe(ge,he,pe,ve,ke,be){var Se=ge[ke-be]-ge[ke+be],Ee=ge[ke],Ie=ge[ve];he[pe]=le(le(Se+4,3)+Ee+Ie,1),he[pe+be]=le(le(4-Se,3)+Ee-Ie,1)}function de(ge,he,pe,ve,ke,be){he[pe]=le(le(5*ge[ke]+4*ge[ke-be]-ge[ke-be-be]+4,3)+ge[ve],1),he[pe+be]=le(le(11*ge[ke]-4*ge[ke-be]+ge[ke-be-be]+4,3)-ge[ve],1)}function me(ge){return ge=te[ge=ge<0?0:ge>4095?4095:ge]>>>2}return function(ge,he,pe,ve,ke,be){ve=new Uint16Array(ve.buffer);var Se,Ee,Ie,_e,Te,Le,Be,Ce,ze=Date.now(),Ke=w._binBE,je=he+pe;he+=4;for(var $e=be[0]==1;he<je;){var Ye=Ke.readShort(ge,he),Pe=Ke.readUshort(ge,he+2);if(he+=4,Ye==12)dt=Pe;else if(Ye==20)Se=Pe;else if(Ye==21)Ee=Pe;else if(Ye==48)Ie=Pe;else if(Ye==53)_e=Pe;else if(Ye!=35){if(Ye==62)Te=Pe;else if(Ye!=101){if(Ye==109)Le=Pe;else if(Ye!=84){if(Ye!=106){if(Ye!=107){if(Ye!=108){if(Ye!=102){if(Ye==104)rr=Pe;else if(Ye!=105){var Ge=Ye<0?-Ye:Ye,it=65280&Ge,Je=0;if(24576&Ge&&(8192&Ge?(Je=65535&Pe,Je+=(255&Ge)<<16):Je=65535&Pe),24576&~Ge){if(Ge==16388)he+=4*Je;else if(it!=8192&&it!=8448&&it!=9216)throw Ge.toString(16)}else{if(Be==null){Be=[];for(var He=0;He<4;He++)Be[He]=new Int16Array((Se>>>1)*(Ee>>>1));for(Ce=new Int16Array((Se>>>1)*(Ee>>>1)),q=new Int16Array(1024),He=0;He<1024;He++){var Qe=He-512,ut=Math.abs(Qe),dt=Math.floor(768*ut*ut*ut/16581375)+ut;q[He]=Math.sign(Qe)*dt}for(te=new Uint16Array(4096),He=0;He<4096;He++){var kt=He,Xe=65535*(Math.pow(113,kt/4095)-1)/112;te[He]=Math.min(Xe,65535)}}var we=Be[Te],qe=se(Se,1+ne[Ie]),Ne=se(Ee,1+ne[Ie]);if(Ie==0)for(var Fe=0;Fe<Ne;Fe++)for(var Oe=0;Oe<qe;Oe++){var Ze=he+2*(Fe*qe+Oe);we[Fe*(Se>>>1)+Oe]=ge[Ze]<<8|ge[Ze+1]}else{var et=[ge,8*he],ye=[],Ae=0,De=qe*Ne,Ue=[0,0],St=0;for(Pe=0;Ae<De;)for(ae(et,Ue),St=Ue[0],Pe=Ue[1];St>0;)ye[Ae++]=Pe,St--;var Bt=(Ie-1)%3,tr=Bt!=1?qe:0,ir=Bt!=0?Ne:0;for(Fe=0;Fe<Ne;Fe++){var Kt=(Fe+ir)*(Se>>>1)+tr,ar=Fe*qe;for(Oe=0;Oe<qe;Oe++)we[Kt+Oe]=q[ye[ar+Oe]+512]*_e}if(Bt==2){var rr=Se>>>1,gr=2*qe,dr=2*Ne;for(Fe=0;Fe<Ne;Fe++)for(Oe=0;Oe<gr;Oe++){He=2*Fe*rr+Oe;var hr=Ne*rr+(fr=Fe*rr+Oe);Fe==0?ue(we,Ce,He,hr,fr,rr):Fe==Ne-1?de(we,Ce,He,hr,fr,rr):fe(we,Ce,He,hr,fr,rr)}var kr=we;for(we=Ce,Ce=kr,Fe=0;Fe<dr;Fe++)for(Oe=0;Oe<qe;Oe++){var fr;He=Fe*rr+2*Oe,hr=qe+(fr=Fe*rr+Oe),Oe==0?ue(we,Ce,He,hr,fr,1):Oe==qe-1?de(we,Ce,He,hr,fr,1):fe(we,Ce,He,hr,fr,1)}kr=we,we=Ce,Ce=kr;for(var ot=[],nr=2-~~((Ie-1)/3),Tt=0;Tt<3;Tt++)ot[Tt]=Le>>14-2*Tt&3;var Ut=ot[nr];if(Ut!=0)for(Fe=0;Fe<dr;Fe++)for(Oe=0;Oe<gr;Oe++)we[He=Fe*rr+Oe]=we[He]<<Ut}}if(Ie==9&&Te==3){var We=Be[0],er=Be[1],br=Be[2],Me=Be[3];for(Fe=0;Fe<Ee;Fe+=2)for(Oe=0;Oe<Se;Oe+=2){var Zt=Fe*Se+Oe,zt=We[Ze=(Fe>>>1)*(Se>>>1)+(Oe>>>1)],ft=er[Ze]-2048,$t=br[Ze]-2048,jt=Me[Ze]-2048,_r=(ft<<1)+zt,cr=($t<<1)+zt,pr=zt+jt,Ir=zt-jt;$e?(ve[Zt]=me(pr),ve[Zt+1]=me(cr),ve[Zt+Se]=me(_r),ve[Zt+Se+1]=me(Ir)):(ve[Zt]=me(_r),ve[Zt+1]=me(pr),ve[Zt+Se]=me(Ir),ve[Zt+Se+1]=me(cr))}}he+=4*Je}}}}}}}}}}console.log(Date.now()-ze)}}(),w.decode._decodeLogLuv32=function(H,q,te,re,ne,ie){for(var ae=H.width,se=4*ae,le=0,ue=new Uint8Array(se);le<re;){for(var fe=0;fe<se;){var de=q[te+le];if(le++,de<128){for(var me=0;me<de;me++)ue[fe+me]=q[te+le+me];fe+=de,le+=de}else{for(de-=126,me=0;me<de;me++)ue[fe+me]=q[te+le];fe+=de,le++}}for(var ge=0;ge<ae;ge++)ne[ie+0]=ue[ge],ne[ie+1]=ue[ge+ae],ne[ie+2]=ue[ge+2*ae],ne[ie+4]=ue[ge+3*ae],ie+=6}},w.decode._ljpeg_diff=function(H,q,te){var re,ne,ie=w.decode._getbithuff;return re=ie(H,q,te[0],te),(ne=ie(H,q,re,0))&1<<re-1||(ne-=(1<<re)-1),ne},w.decode._decodeARW=function(H,q,te,re,ne,ie){var ae=H.t256[0],se=H.t257[0],le=H.t258[0],ue=H.isLE?w._binLE:w._binBE;if(ae*se==re||ae*se*1.5==re)if(ae*se*1.5!=re){var fe,de,me,ge,he,pe,ve,ke,be=new Uint16Array(16),Se=new Uint8Array(ae+1);for(ze=0;ze<se;ze++){for(var Ee=0;Ee<ae;Ee++)Se[Ee]=q[te++];for(ke=0,Ce=0;Ce<ae-30;ke+=16){for(de=2047&(fe=ue.readUint(Se,ke)),me=2047&fe>>>11,ge=15&fe>>>22,he=15&fe>>>26,pe=0;pe<4&&128<<pe<=de-me;pe++);for(ve=30,Ie=0;Ie<16;Ie++)Ie==ge?be[Ie]=de:Ie==he?be[Ie]=me:(be[Ie]=((ue.readUshort(Se,ke+(ve>>3))>>>(7&ve)&127)<<pe)+me,be[Ie]>2047&&(be[Ie]=2047),ve+=7);for(Ie=0;Ie<16;Ie++,Ce+=2)Je=be[Ie]<<1,w.decode._putsF(ne,(ze*ae+Ce)*le,Je<<16-le);Ce-=1&Ce?1:31}}}else for(var Ie=0;Ie<re;Ie+=3){var _e=q[te+Ie+0],Te=q[te+Ie+1],Le=q[te+Ie+2];ne[ie+Ie]=Te<<4|_e>>>4,ne[ie+Ie+1]=_e<<4|Le>>>4,ne[ie+Ie+2]=Le<<4|Te>>>4}else{se+=8;var Be,Ce,ze,Ke=[te,0,0,0],je=new Uint16Array(32770),$e=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],Ye=0,Pe=w.decode._ljpeg_diff;for(je[0]=15,Be=Ie=0;Ie<18;Ie++)for(var Ge=32768>>>($e[Ie]>>>8),it=0;it<Ge;it++)je[++Be]=$e[Ie];for(Ce=ae;Ce--;)for(ze=0;ze<se+1;ze+=2)if(ze==se&&(ze=1),Ye+=Pe(q,Ke,je),ze<se){var Je=4095&Ye;w.decode._putsF(ne,(ze*ae+Ce)*le,Je<<16-le)}}},w.decode._decodeNikon=function(H,q,te,re,ne,ie,ae){var se=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],le=H.t256[0],ue=H.t257[0],fe=H.t258[0],de=0,me=0,ge=w.decode._make_decoder,he=w.decode._getbithuff,pe=q[0].exifIFD.makerNote,ve=pe.t150?pe.t150:pe.t140,ke=0,be=ve[ke++],Se=ve[ke++];be!=73&&Se!=88||(ke+=2110),be==70&&(de=2),fe==14&&(de+=3);for(var Ee=[[0,0],[0,0]],Ie=H.isLE?w._binLE:w._binBE,_e=0;_e<2;_e++)for(var Te=0;Te<2;Te++)Ee[_e][Te]=Ie.readShort(ve,ke),ke+=2;var Le,Be,Ce,ze,Ke,je=1<<fe&32767,$e=0,Ye=Ie.readShort(ve,ke);ke+=2,Ye>1&&($e=Math.floor(je/(Ye-1))),be==68&&Se==32&&$e>0&&(me=Ie.readShort(ve,562));var Pe=[0,0],Ge=ge(se[de]),it=[re,0,0,0];for(Le=0;Le<ue;Le++)for(me&&Le==me&&(Ge=ge(se[de+1])),Be=0;Be<le;Be++){_e=he(te,it,Ge[0],Ge),(Ke=1+(he(te,it,(Ce=15&_e)-(ze=_e>>>4),0)<<1)<<ze>>>1)&1<<Ce-1||(Ke-=(1<<Ce)-(ze==0?1:0)),Be<2?Pe[Be]=Ee[1&Le][Be]+=Ke:Pe[1&Be]+=Ke;var Je=Math.min(Math.max(Pe[1&Be],0),(1<<fe)-1),He=(Le*le+Be)*fe;w.decode._putsF(ie,He,Je<<16-fe)}},w.decode._putsF=function(H,q,te){te<<=8-(7&q);var re=q>>>3;H[re]|=te>>>16,H[re+1]|=te>>>8,H[re+2]|=te},w.decode._getbithuff=function(H,q,te,re){var ne;w.decode._get_byte;var ie=q[0],ae=q[1],se=q[2],le=q[3];if(te==0||se<0)return 0;for(;!le&&se<te&&(ne=H[ie++])!=-1&&!(le=0);)ae=(ae<<8)+ne,se+=8;if(ne=ae<<32-se>>>32-te,re?(se-=re[ne+1]>>>8,ne=255&re[ne+1]):se-=te,se<0)throw"e";return q[0]=ie,q[1]=ae,q[2]=se,q[3]=le,ne},w.decode._make_decoder=function(H){var q,te,re,ne,ie,ae=[];for(q=16;q!=0&&!H[q];q--);var se=17;for(ae[0]=q,re=te=1;te<=q;te++)for(ne=0;ne<H[te];ne++,++se)for(ie=0;ie<1<<q-te;ie++)re<=1<<q&&(ae[re++]=te<<8|H[se]);return ae},w.decode._decodeNewJPEG=function(H,q,te,re,ne,ie){re=Math.min(re,q.length-te);var ae=H.t347,se=ae?ae.length:0,le=new Uint8Array(se+re);if(ae){for(var ue=0,fe=0;fe<se-1&&(ae[fe]!=255||ae[fe+1]!=217);fe++)le[ue++]=ae[fe];var de=q[te],me=q[te+1];for(de==255&&me==216||(le[ue++]=de,le[ue++]=me),fe=2;fe<re;fe++)le[ue++]=q[te+fe]}else for(fe=0;fe<re;fe++)le[fe]=q[te+fe];if(H.t262[0]==32803||H.t259[0]==7&&H.t262[0]==34892){var ge=H.t258[0],he=w.LosslessJpegDecode(le),pe=he.length;if(ge==16)if(H.isLE)for(fe=0;fe<pe;fe++)ne[ie+(fe<<1)]=255&he[fe],ne[ie+(fe<<1)+1]=he[fe]>>>8;else for(fe=0;fe<pe;fe++)ne[ie+(fe<<1)]=he[fe]>>>8,ne[ie+(fe<<1)+1]=255&he[fe];else if(ge==14||ge==12||ge==10){var ve=16-ge;for(fe=0;fe<pe;fe++)w.decode._putsF(ne,fe*ge,he[fe]<<ve)}else{if(ge!=8)throw new Error("unsupported bit depth "+ge);for(fe=0;fe<pe;fe++)ne[ie+fe]=he[fe]}}else{var ke=new w.JpegDecoder;ke.parse(le);var be=ke.getData({width:ke.width,height:ke.height,forceRGB:!0,isSourcePDF:!1});for(fe=0;fe<be.length;fe++)ne[ie+fe]=be[fe]}H.t262[0]==6&&(H.t262[0]=2)},w.decode._decodeOldJPEGInit=function(H,q,te,re){var ne,ie,ae,se,le,ue=216,fe=0,de=0,me=!1,ge=H.t513,he=ge?ge[0]:0,pe=H.t514,ve=pe?pe[0]:0,ke=H.t324||H.t273||ge,be=H.t530,Se=0,Ee=0,Ie=H.t277?H.t277[0]:1,_e=H.t515;if(ke&&(de=ke[0],me=ke.length>1),!me){if(q[te]==255&&q[te+1]==ue)return{jpegOffset:te};if(ge!=null&&(q[te+he]==255&&q[te+he+1]==ue?fe=te+he:g("JPEGInterchangeFormat does not point to SOI"),pe==null?g("JPEGInterchangeFormatLength field is missing"):(he>=de||he+ve<=de)&&g("JPEGInterchangeFormatLength field value is invalid"),fe!=null))return{jpegOffset:fe}}if(be!=null&&(Se=be[0],Ee=be[1]),ge!=null&&pe!=null)if(ve>=2&&he+ve<=de){for(ne=q[te+he+ve-2]==255&&q[te+he+ve-1]==ue?new Uint8Array(ve-2):new Uint8Array(ve),ae=0;ae<ne.length;ae++)ne[ae]=q[te+he+ae];g("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else g("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(ne==null){var Te=0,Le=[];Le[Te++]=255,Le[Te++]=ue;var Be=H.t519;if(Be==null)throw new Error("JPEGQTables tag is missing");for(ae=0;ae<Be.length;ae++)for(Le[Te++]=255,Le[Te++]=219,Le[Te++]=0,Le[Te++]=67,Le[Te++]=ae,se=0;se<64;se++)Le[Te++]=q[te+Be[ae]+se];for(le=0;le<2;le++){var Ce=H[le==0?"t520":"t521"];if(Ce==null)throw new Error((le==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(ae=0;ae<Ce.length;ae++){Le[Te++]=255,Le[Te++]=196;var ze=19;for(se=0;se<16;se++)ze+=q[te+Ce[ae]+se];for(Le[Te++]=ze>>>8,Le[Te++]=255&ze,Le[Te++]=ae|le<<4,se=0;se<16;se++)Le[Te++]=q[te+Ce[ae]+se];for(se=0;se<ze;se++)Le[Te++]=q[te+Ce[ae]+16+se]}}if(Le[Te++]=255,Le[Te++]=192,Le[Te++]=0,Le[Te++]=8+3*Ie,Le[Te++]=8,Le[Te++]=H.height>>>8&255,Le[Te++]=255&H.height,Le[Te++]=H.width>>>8&255,Le[Te++]=255&H.width,Le[Te++]=Ie,Ie==1)Le[Te++]=1,Le[Te++]=17,Le[Te++]=0;else for(ae=0;ae<3;ae++)Le[Te++]=ae+1,Le[Te++]=ae!=0?17:(15&Se)<<4|15&Ee,Le[Te++]=ae;_e!=null&&_e[0]!=0&&(Le[Te++]=255,Le[Te++]=221,Le[Te++]=0,Le[Te++]=4,Le[Te++]=_e[0]>>>8&255,Le[Te++]=255&_e[0]),ne=new Uint8Array(Le)}var Ke=-1;for(ae=0;ae<ne.length-1;){if(ne[ae]==255&&ne[ae+1]==192){Ke=ae;break}ae++}if(Ke==-1){var je=new Uint8Array(ne.length+10+3*Ie);je.set(ne);var $e=ne.length;if(Ke=ne.length,(ne=je)[$e++]=255,ne[$e++]=192,ne[$e++]=0,ne[$e++]=8+3*Ie,ne[$e++]=8,ne[$e++]=H.height>>>8&255,ne[$e++]=255&H.height,ne[$e++]=H.width>>>8&255,ne[$e++]=255&H.width,ne[$e++]=Ie,Ie==1)ne[$e++]=1,ne[$e++]=17,ne[$e++]=0;else for(ae=0;ae<3;ae++)ne[$e++]=ae+1,ne[$e++]=ae!=0?17:(15&Se)<<4|15&Ee,ne[$e++]=ae}if(q[de]==255&&q[de+1]==218){var Ye=q[de+2]<<8|q[de+3];for((ie=new Uint8Array(Ye+2))[0]=q[de],ie[1]=q[de+1],ie[2]=q[de+2],ie[3]=q[de+3],ae=0;ae<Ye-2;ae++)ie[ae+4]=q[de+ae+4]}else{var Pe=0;if((ie=new Uint8Array(8+2*Ie))[Pe++]=255,ie[Pe++]=218,ie[Pe++]=0,ie[Pe++]=6+2*Ie,ie[Pe++]=Ie,Ie==1)ie[Pe++]=1,ie[Pe++]=0;else for(ae=0;ae<3;ae++)ie[Pe++]=ae+1,ie[Pe++]=ae<<4|ae;ie[Pe++]=0,ie[Pe++]=63,ie[Pe++]=0}return{jpegOffset:te,tables:ne,sosMarker:ie,sofPosition:Ke}},w.decode._decodeOldJPEG=function(H,q,te,re,ne,ie){var ae,se,le,ue,fe=w.decode._decodeOldJPEGInit(H,q,te,re);if(fe.jpegOffset!=null)for(ae=te+re-fe.jpegOffset,le=new Uint8Array(ae),ge=0;ge<ae;ge++)le[ge]=q[fe.jpegOffset+ge];else{for(se=fe.tables.length,(le=new Uint8Array(se+fe.sosMarker.length+re+2)).set(fe.tables),ue=se,le[fe.sofPosition+5]=H.height>>>8&255,le[fe.sofPosition+6]=255&H.height,le[fe.sofPosition+7]=H.width>>>8&255,le[fe.sofPosition+8]=255&H.width,q[te]==255&&q[te+1]==SOS||(le.set(fe.sosMarker,ue),ue+=sosMarker.length),ge=0;ge<re;ge++)le[ue++]=q[te+ge];le[ue++]=255,le[ue++]=EOI}var de=new w.JpegDecoder;de.parse(le);for(var me=de.getData({width:de.width,height:de.height,forceRGB:!0,isSourcePDF:!1}),ge=0;ge<me.length;ge++)ne[ie+ge]=me[ge];H.t262&&H.t262[0]==6&&(H.t262[0]=2)},w.decode._decodePackBits=function(H,q,te,re,ne){for(var ie=new Int8Array(H.buffer),ae=new Int8Array(re.buffer),se=q+te;q<se;){var le=ie[q];if(q++,le>=0&&le<128)for(var ue=0;ue<le+1;ue++)ae[ne]=ie[q],ne++,q++;if(le>=-127&&le<0){for(ue=0;ue<1-le;ue++)ae[ne]=ie[q],ne++;q++}}return ne},w.decode._decodeThunder=function(H,q,te,re,ne){for(var ie=[0,1,0,-1],ae=[0,1,2,3,0,-3,-2,-1],se=q+te,le=2*ne,ue=0;q<se;){var fe=H[q],de=fe>>>6,me=63&fe;if(q++,de==3&&(ue=15&me,re[le>>>1]|=ue<<4*(1-le&1),le++),de==0)for(var ge=0;ge<me;ge++)re[le>>>1]|=ue<<4*(1-le&1),le++;if(de==2)for(ge=0;ge<2;ge++)(he=me>>>3*(1-ge)&7)!=4&&(ue+=ae[he],re[le>>>1]|=ue<<4*(1-le&1),le++);if(de==1)for(ge=0;ge<3;ge++){var he;(he=me>>>2*(2-ge)&3)!=2&&(ue+=ie[he],re[le>>>1]|=ue<<4*(1-le&1),le++)}}},w.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},w.decode._lens=function(){var H=function(le,ue,fe,de){for(var me=0;me<ue.length;me++)le[ue[me]]=fe+me*de},q="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",te="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",re="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",ne="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",ie="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";q=q.split(","),te=te.split(","),re=re.split(","),ne=ne.split(","),ie=ie.split(",");var ae={},se={};return H(ae,q,0,1),H(ae,re,64,64),H(ae,ie,1792,64),H(se,te,0,1),H(se,ne,64,64),H(se,ie,1792,64),[ae,se]}(),w.decode._decodeG4=function(H,q,te,re,ne,ie,ae){for(var se=w.decode,le=q<<3,ue=0,fe="",de=[],me=[],ge=0;ge<ie;ge++)me.push(0);me=se._makeDiff(me);for(var he=0,pe=0,ve=0,ke=0,be=0,Se=0,Ee="",Ie=0,_e=8*Math.ceil(ie/8);le>>>3<q+te;){ve=se._findDiff(me,he+(he==0?0:1),1-be),ke=se._findDiff(me,ve,be);var Te=0;if(ae==1&&(Te=H[le>>>3]>>>7-(7&le)&1),ae==2&&(Te=H[le>>>3]>>>(7&le)&1),le++,fe+=Te,Ee=="H"){if(se._lens[be][fe]!=null){var Le=se._lens[be][fe];fe="",ue+=Le,Le<64&&(se._addNtimes(de,ue,be),he+=ue,be=1-be,ue=0,--Ie==0&&(Ee=""))}}else fe=="0001"&&(fe="",se._addNtimes(de,ke-he,be),he=ke),fe=="001"&&(fe="",Ee="H",Ie=2),se._dmap[fe]!=null&&(pe=ve+se._dmap[fe],se._addNtimes(de,pe-he,be),he=pe,fe="",be=1-be);de.length==ie&&Ee==""&&(se._writeBits(de,re,8*ne+Se*_e),be=0,Se++,he=0,me=se._makeDiff(de),de=[])}},w.decode._findDiff=function(H,q,te){for(var re=0;re<H.length;re+=2)if(H[re]>=q&&H[re+1]==te)return H[re]},w.decode._makeDiff=function(H){var q=[];H[0]==1&&q.push(0,1);for(var te=1;te<H.length;te++)H[te-1]!=H[te]&&q.push(te,H[te]);return q.push(H.length,0,H.length,1),q},w.decode._decodeG2=function(H,q,te,re,ne,ie,ae){for(var se=w.decode,le=q<<3,ue=0,fe="",de=[],me=0,ge=0,he=8*Math.ceil(ie/8);le>>>3<q+te;){var pe=0;ae==1&&(pe=H[le>>>3]>>>7-(7&le)&1),ae==2&&(pe=H[le>>>3]>>>(7&le)&1),le++,fe+=pe,(ue=se._lens[me][fe])!=null&&(se._addNtimes(de,ue,me),fe="",ue<64&&(me=1-me),de.length==ie&&(se._writeBits(de,re,8*ne+ge*he),de=[],ge++,me=0,7&le&&(le+=8-(7&le)),ue>=64&&(le+=8)))}},w.decode._decodeG3=function(H,q,te,re,ne,ie,ae,se){for(var le=w.decode,ue=q<<3,fe=0,de="",me=[],ge=[],he=0;he<ie;he++)me.push(0);for(var pe=0,ve=0,ke=0,be=0,Se=0,Ee=-1,Ie="",_e=0,Te=!0,Le=8*Math.ceil(ie/8);ue>>>3<q+te;){ke=le._findDiff(ge,pe+(pe==0?0:1),1-Se),be=le._findDiff(ge,ke,Se);var Be=0;if(ae==1&&(Be=H[ue>>>3]>>>7-(7&ue)&1),ae==2&&(Be=H[ue>>>3]>>>(7&ue)&1),ue++,de+=Be,Te){if(le._lens[Se][de]!=null){var Ce=le._lens[Se][de];de="",fe+=Ce,Ce<64&&(le._addNtimes(me,fe,Se),Se=1-Se,fe=0)}}else Ie=="H"?le._lens[Se][de]!=null&&(Ce=le._lens[Se][de],de="",fe+=Ce,Ce<64&&(le._addNtimes(me,fe,Se),pe+=fe,Se=1-Se,fe=0,--_e==0&&(Ie=""))):(de=="0001"&&(de="",le._addNtimes(me,be-pe,Se),pe=be),de=="001"&&(de="",Ie="H",_e=2),le._dmap[de]!=null&&(ve=ke+le._dmap[de],le._addNtimes(me,ve-pe,Se),pe=ve,de="",Se=1-Se));de.endsWith("000000000001")&&(Ee>=0&&le._writeBits(me,re,8*ne+Ee*Le),se&&(ae==1&&(Te=(H[ue>>>3]>>>7-(7&ue)&1)==1),ae==2&&(Te=(H[ue>>>3]>>>(7&ue)&1)==1),ue++),de="",Se=0,Ee++,pe=0,ge=le._makeDiff(me),me=[])}me.length==ie&&le._writeBits(me,re,8*ne+Ee*Le)},w.decode._addNtimes=function(H,q,te){for(var re=0;re<q;re++)H.push(te)},w.decode._writeBits=function(H,q,te){for(var re=0;re<H.length;re++)q[te+re>>>3]|=H[re]<<7-(te+re&7)},w.decode._decodeLZW=w.decode._decodeLZW=function(){var H,q,te,re,ne=0,ie=0,ae=0,se=0,le=function(){var he=H>>>3,pe=(q[he]<<16|q[he+1]<<8|q[he+2])>>>24-(7&H)-ie&(1<<ie)-1;return H+=ie,pe},ue=new Uint32Array(16384),fe=0,de=function(he){ie=he+1,ne=se+1},me=function(he){for(var pe=he<<2,ve=ue[pe+2],ke=re+ve-1;pe!=65535;)te[ke--]=ue[pe],pe=ue[pe+1];re+=ve},ge=function(he,pe){var ve=ne<<2,ke=he<<2;ue[ve]=ue[3+(pe<<2)],ue[ve+1]=ke,ue[ve+2]=ue[ke+2]+1,ue[ve+3]=ue[ke+3],++ne+1==1<<ie&&ie!=12&&ie++};return function(he,pe,ve,ke,be,Se){H=pe<<3,q=he,te=ke,re=be;var Ee=pe+ve<<3,Ie=0,_e=0;for(function(Te){if(Te!=fe){fe=Te,se=1+(ae=1<<Te);for(var Le=0;Le<se+1;Le++)ue[4*Le]=ue[4*Le+3]=Le,ue[4*Le+1]=65535,ue[4*Le+2]=1}}(Se),de(Se);H<Ee&&(Ie=le())!=se;){if(Ie==ae){if(de(Se),(Ie=le())==se)break;me(Ie)}else Ie<ne?(me(Ie),ge(_e,Ie)):(ge(_e,_e),me(ne-1));_e=Ie}return re}}(),w.tags={},w._types=function(){var H=new Array(250);return H.fill(0),{basic:{main:H=H.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rest:{33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7}},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}}(),w._readIFD=function(H,q,te,re,ne,ie){var ae=H.readUshort(q,te);te+=2;var se={};ie.debug&&g("   ".repeat(ne),re.length-1,">>>----------------");for(var le=0;le<ae;le++){var ue=H.readUshort(q,te);te+=2;var fe=H.readUshort(q,te);te+=2;var de=H.readUint(q,te);te+=4;var me=H.readUint(q,te);te+=4;var ge=[];if(fe==1||fe==7){var he=de<5?te-4:me;he+de>q.buffer.byteLength&&(de=q.buffer.byteLength-he),ge=new Uint8Array(q.buffer,he,de)}if(fe==2){var pe=de<5?te-4:me,ve=q[pe],ke=Math.max(0,Math.min(de-1,q.length-pe));ve<128||ke==0?ge.push(H.readASCII(q,pe,ke)):ge=new Uint8Array(q.buffer,pe,ke)}if(fe==3)for(var be=0;be<de;be++)ge.push(H.readUshort(q,(de<3?te-4:me)+2*be));if(fe==4||fe==13)for(be=0;be<de;be++)ge.push(H.readUint(q,(de<2?te-4:me)+4*be));if(fe==5||fe==10){var Se=fe==5?H.readUint:H.readInt;for(be=0;be<de;be++)ge.push([Se(q,me+8*be),Se(q,me+8*be+4)])}if(fe==8)for(be=0;be<de;be++)ge.push(H.readShort(q,(de<3?te-4:me)+2*be));if(fe==9)for(be=0;be<de;be++)ge.push(H.readInt(q,(de<2?te-4:me)+4*be));if(fe==11)for(be=0;be<de;be++)ge.push(H.readFloat(q,me+4*be));if(fe==12)for(be=0;be<de;be++)ge.push(H.readDouble(q,me+8*be));if(de==0||ge.length!=0){if(ie.debug&&g("   ".repeat(ne),ue,fe,w.tags[ue],ge),se["t"+ue]=ge,!(ue==330&&se.t272&&se.t272[0]=="DSLR-A100")){if(ue==330||ue==34665||ue==34853||ue==50740&&H.readUshort(q,H.readUint(ge,0))<300||ue==61440){var Ee=ue==50740?[H.readUint(ge,0)]:ge,Ie=[];for(be=0;be<Ee.length;be++)w._readIFD(H,q,Ee[be],Ie,ne+1,ie);ue==330&&(se.subIFD=Ie),ue==34665&&(se.exifIFD=Ie[0]),ue==34853&&(se.gpsiIFD=Ie[0]),ue==50740&&(se.dngPrvt=Ie[0]),ue==61440&&(se.fujiIFD=Ie[0])}}if(ue==37500&&ie.parseMN){var _e=ge;if(H.readASCII(_e,0,5)=="Nikon")se.makerNote=w.decode(_e.slice(10).buffer)[0];else if(H.readASCII(_e,0,5)=="OLYMP"||H.readASCII(_e,0,9)=="OM SYSTEM"){var Te=[8208,8224,8240,8256,8272],Le=[];w._readIFD(H,_e,_e[1]==77?16:_e[5]==85?12:8,Le,ne+1,ie);var Be=se.makerNote=Le.pop();for(be=0;be<Te.length;be++){var Ce="t"+Te[be];Be[Ce]!=null&&(w._readIFD(H,_e,Be[Ce][0],Le,ne+1,ie),Be[Ce]=Le.pop())}Be.t12288&&(w._readIFD(H,Be.t12288,0,Le,ne+1,ie),Be.t12288=Le.pop())}else H.readUshort(q,me)<300&&H.readUshort(q,me+4)<=12&&(Le=[],w._readIFD(H,q,me,Le,ne+1,ie),se.makerNote=Le[0])}}else if(g(ue,"unknown TIFF tag type: ",fe,"num:",de),le==0)return}return re.push(se),ie.debug&&g("   ".repeat(ne),"<<<---------------"),te},w._writeIFD=function(H,q,te,re,ne){var ie=Object.keys(ne),ae=ie.length;ne.exifIFD&&ae--,ne.gpsiIFD&&ae--,H.writeUshort(te,re,ae);for(var se=(re+=2)+12*ae+4,le=0;le<ie.length;le++){var ue=ie[le];if(ue!="t34665"&&ue!="t34853"){ue=="exifIFD"&&(ue="t34665"),ue=="gpsiIFD"&&(ue="t34853");var fe=parseInt(ue.slice(1)),de=q.main[fe];if(de==null&&(de=q.rest[fe]),de==null||de==0)throw new Error("unknown type of tag: "+fe);var me=ne[ue];fe==34665&&(me=[se],se=w._writeIFD(H,q,te,se,ne.exifIFD)[1]),fe==34853&&(me=[se],se=w._writeIFD(H,w._types.gps,te,se,ne.gpsiIFD)[1]),de==2&&(me=me[0]+"\0");var ge=me.length;H.writeUshort(te,re,fe),re+=2,H.writeUshort(te,re,de),re+=2,H.writeUint(te,re,ge);var he=[-1,1,1,2,4,8,0,1,0,4,8,0,8][de]*ge,pe=re+=4;if(he>4&&(H.writeUint(te,re,se),pe=se),de==1||de==7)for(var ve=0;ve<ge;ve++)te[pe+ve]=me[ve];else if(de==2)H.writeASCII(te,pe,me);else if(de==3)for(ve=0;ve<ge;ve++)H.writeUshort(te,pe+2*ve,me[ve]);else if(de==4)for(ve=0;ve<ge;ve++)H.writeUint(te,pe+4*ve,me[ve]);else if(de==5||de==10){var ke=de==5?H.writeUint:H.writeInt;for(ve=0;ve<ge;ve++){var be=me[ve],Se=be[0],Ee=be[1];if(Se==null)throw"e";ke(te,pe+8*ve,Se),ke(te,pe+8*ve+4,Ee)}}else if(de==9)for(ve=0;ve<ge;ve++)H.writeInt(te,pe+4*ve,me[ve]);else{if(de!=12)throw de;for(ve=0;ve<ge;ve++)H.writeDouble(te,pe+8*ve,me[ve])}he>4&&(se+=he+=1&he),re+=4}}return[re,se]},w.toRGBA8=function(H,q){function te(tr){return tr<.0031308?12.92*tr:1.055*Math.pow(tr,1/2.4)-.055}var re=H.width,ne=H.height,ie=re*ne,ae=H.data,se=new Uint8Array(4*ie),le=H.t262?H.t262[0]:2,ue=H.t258?Math.min(32,H.t258[0]):1;H.t262==null&&ue==1&&(le=0);var fe=H.t277?H.t277[0]:H.t258?H.t258.length:[1,1,3,1,1,4,3][le],de=H.t339?H.t339[0]:null;if(le==1&&ue==32&&de!=3)throw"e";var me=Math.ceil(fe*ue*re/8);if(le==0){q=1/256;for(var ge=0;ge<ne;ge++){var he=ge*me,pe=ge*re;if(ue==1)for(var ve=0;ve<re;ve++){var ke=pe+ve<<2,be=ae[he+(ve>>3)]>>7-(7&ve)&1;se[ke]=se[ke+1]=se[ke+2]=255*(1-be),se[ke+3]=255}if(ue==4)for(ve=0;ve<re;ve++)ke=pe+ve<<2,be=ae[he+(ve>>1)]>>4-4*(1&ve)&15,se[ke]=se[ke+1]=se[ke+2]=17*(15-be),se[ke+3]=255;if(ue==8)for(ve=0;ve<re;ve++)ke=pe+ve<<2,be=ae[he+ve],se[ke]=se[ke+1]=se[ke+2]=255-be,se[ke+3]=255;if(ue==16)for(ve=0;ve<re;ve++)ke=pe+ve<<2,be=ae[(Ee=he+2*ve)+1]<<8|ae[Ee],se[ke]=se[ke+1]=se[ke+2]=Math.min(255,255-~~(be*q)),se[ke+3]=255}}else if(le==1){q==null&&(q=1/256);var Se=3&ae.length?null:new Float32Array(ae.buffer);for(ge=0;ge<ne;ge++){if(he=ge*me,pe=ge*re,ue==1)for(ve=0;ve<re;ve++)ke=pe+ve<<2,be=ae[he+(ve>>3)]>>7-(7&ve)&1,se[ke]=se[ke+1]=se[ke+2]=255*be,se[ke+3]=255;if(ue==2)for(ve=0;ve<re;ve++)ke=pe+ve<<2,be=ae[he+(ve>>2)]>>6-2*(3&ve)&3,se[ke]=se[ke+1]=se[ke+2]=85*be,se[ke+3]=255;if(ue==8)for(ve=0;ve<re;ve++)ke=pe+ve<<2,be=ae[he+ve*fe],se[ke]=se[ke+1]=se[ke+2]=be,se[ke+3]=255;if(ue==16)for(ve=0;ve<re;ve++)ke=pe+ve<<2,be=ae[(Ee=he+2*ve)+1]<<8|ae[Ee],se[ke]=se[ke+1]=se[ke+2]=Math.min(255,~~(be*q)),se[ke+3]=255;if(ue==32)for(ve=0;ve<re;ve++){var Ee;ke=pe+ve<<2,be=Se[Ee=(he>>>2)+ve],se[ke]=se[ke+1]=se[ke+2]=~~(.5+255*be),se[ke+3]=255}}}else if(le==2)if(ue==8){if(fe==1)for(ve=0;ve<ie;ve++)se[4*ve]=se[4*ve+1]=se[4*ve+2]=ae[ve],se[4*ve+3]=255;if(fe==3)for(ve=0;ve<ie;ve++){var Ie=3*ve;se[ke=ve<<2]=ae[Ie],se[ke+1]=ae[Ie+1],se[ke+2]=ae[Ie+2],se[ke+3]=255}if(fe>=4)for(ve=0;ve<ie;ve++)Ie=ve*fe,se[ke=ve<<2]=ae[Ie],se[ke+1]=ae[Ie+1],se[ke+2]=ae[Ie+2],se[ke+3]=ae[Ie+3]}else if(ue==16){if(fe==4)for(ve=0;ve<ie;ve++)Ie=8*ve+1,se[ke=ve<<2]=ae[Ie],se[ke+1]=ae[Ie+2],se[ke+2]=ae[Ie+4],se[ke+3]=ae[Ie+6];if(fe==3)for(ve=0;ve<ie;ve++)Ie=6*ve+1,se[ke=ve<<2]=ae[Ie],se[ke+1]=ae[Ie+2],se[ke+2]=ae[Ie+4],se[ke+3]=255}else{if(ue!=32)throw ue;var _e=new Float32Array(ae.buffer),Te=0;for(ve=0;ve<_e.length;ve++)Te=Math.min(Te,_e[ve]);if(Te<0)for(ve=0;ve<ae.length;ve+=4){var Le=ae[ve];ae[ve]=ae[ve+3],ae[ve+3]=Le,Le=ae[ve+1],ae[ve+1]=ae[ve+2],ae[ve+2]=Le}var Be=[];for(ve=0;ve<65536;ve++)Be.push(te(ve/65535));for(ve=0;ve<_e.length;ve++){var Ce=Math.max(0,Math.min(1,_e[ve]));_e[ve]=Be[~~(.5+65535*Ce)]}if(fe==3)for(ve=0;ve<ie;ve++)Ie=3*ve,se[ke=ve<<2]=~~(.5+255*_e[Ie]),se[ke+1]=~~(.5+255*_e[Ie+1]),se[ke+2]=~~(.5+255*_e[Ie+2]),se[ke+3]=255;else{if(fe!=4)throw fe;for(ve=0;ve<ie;ve++)Ie=4*ve,se[ke=ve<<2]=~~(.5+255*_e[Ie]),se[ke+1]=~~(.5+255*_e[Ie+1]),se[ke+2]=~~(.5+255*_e[Ie+2]),se[ke+3]=~~(.5+255*_e[Ie+3])}}else if(le==3){var ze=H.t320,Ke=1<<ue,je=ue==8&&fe>1&&H.t338&&H.t338[0]!=0;for(ge=0;ge<ne;ge++)for(var $e=0;$e<re;$e++){ke=(ve=ge*re+$e)<<2;var Ye=0,Pe=ge*me;if(ue==1)Ye=ae[Pe+($e>>>3)]>>>7-(7&$e)&1;else if(ue==2)Ye=ae[Pe+($e>>>2)]>>>6-2*(3&$e)&3;else if(ue==4)Ye=ae[Pe+($e>>>1)]>>>4-4*(1&$e)&15;else{if(ue!=8)throw ue;Ye=ae[Pe+$e*fe]}se[ke]=ze[Ye]>>8,se[ke+1]=ze[Ke+Ye]>>8,se[ke+2]=ze[Ke+Ke+Ye]>>8,se[ke+3]=je?ae[Pe+$e*fe+1]:255}}else if(le==5){var Ge=fe>4?1:0;for(ve=0;ve<ie;ve++){ke=ve<<2;var it=ve*fe;if(window.UDOC){var Je=ae[it],He=ae[it+1],Qe=ae[it+2],ut=ae[it+3],dt=UDOC.C.cmykToRgb([Je*(1/255),He*(1/255),Qe*(1/255),ut*(1/255)]);se[ke]=~~(.5+255*dt[0]),se[ke+1]=~~(.5+255*dt[1]),se[ke+2]=~~(.5+255*dt[2])}else Je=255-ae[it],He=255-ae[it+1],Qe=255-ae[it+2],ut=(255-ae[it+3])*(1/255),se[ke]=~~(Je*ut+.5),se[ke+1]=~~(He*ut+.5),se[ke+2]=~~(Qe*ut+.5);se[ke+3]=255*(1-Ge)+ae[it+4]*Ge}}else if(le==6&&H.t278){var kt=H.t278[0];for(ge=0;ge<ne;ge+=kt){ve=ge*re;for(var Xe=kt*re,we=0;we<Xe;we++){ke=4*(ve+we),Qe=ae[(it=3*ve+4*(we>>>1))+(1&we)];var qe=ae[it+2]-128,Ne=ae[it+3]-128,Fe=Qe+((Ne>>2)+(Ne>>3)+(Ne>>5)),Oe=Qe-((qe>>2)+(qe>>4)+(qe>>5))-((Ne>>1)+(Ne>>3)+(Ne>>4)+(Ne>>5)),Ze=Qe+(qe+(qe>>1)+(qe>>2)+(qe>>6));se[ke]=Math.max(0,Math.min(255,Fe)),se[ke+1]=Math.max(0,Math.min(255,Oe)),se[ke+2]=Math.max(0,Math.min(255,Ze)),se[ke+3]=255}}}else if(le==32845)for(ge=0;ge<ne;ge++)for($e=0;$e<re;$e++){ke=4*(ge*re+$e);var et=ae[(it=6*(ge*re+$e))+1]<<8|ae[it],ye=(et=Math.pow(2,(et+.5)/256-64),(ae[it+3]+.5)/410),Ae=(ae[it+5]+.5)/410,De=9*ye/(6*ye-16*Ae+12),Ue=4*Ae/(6*ye-16*Ae+12),St=De*et/Ue,Bt=(1-De-Ue)*et/Ue;Fe=2.69*St-1.276*(Qe=et)-.414*Bt,Oe=-1.022*St+1.978*Qe+.044*Bt,Ze=.061*St-.224*Qe+1.163*Bt,se[ke]=255*te(Math.min(Fe,1)),se[ke+1]=255*te(Math.min(Oe,1)),se[ke+2]=255*te(Math.min(Ze,1)),se[ke+3]=255}else g("Unknown Photometric interpretation: "+le);return se},w.replaceIMG=function(H){H==null&&(H=document.getElementsByTagName("img"));for(var q=["tif","tiff","dng","cr2","nef"],te=0;te<H.length;te++){var re=H[te],ne=re.getAttribute("src");if(ne!=null){var ie=ne.split(".").pop().toLowerCase();if(q.indexOf(ie)!=-1){var ae=new XMLHttpRequest;w._xhrs.push(ae),w._imgs.push(re),ae.open("GET",ne),ae.responseType="arraybuffer",ae.onload=w._imgLoaded,ae.send()}}}},w._xhrs=[],w._imgs=[],w._imgLoaded=function(H){var q=w._xhrs.indexOf(H.target),te=w._imgs[q];w._xhrs.splice(q,1),w._imgs.splice(q,1),te.setAttribute("src",w.bufferToURI(H.target.response))},w.bufferToURI=function(H){var q=w.decode(H),te=q,re=0,ne=te[0];q[0].subIFD&&(te=te.concat(q[0].subIFD));for(var ie=0;ie<te.length;ie++){var ae=te[ie];if(!(ae.t258==null||ae.t258.length<3)){var se=ae.t256*ae.t257;se>re&&(re=se,ne=ae)}}w.decodeImage(H,ne,q);var le=w.toRGBA8(ne),ue=ne.width,fe=ne.height,de=document.createElement("canvas");de.width=ue,de.height=fe;var me=de.getContext("2d"),ge=new ImageData(new Uint8ClampedArray(le.buffer),ue,fe);return me.putImageData(ge,0,0),de.toDataURL()},w._binBE={nextZero:function(H,q){for(;H[q]!=0;)q++;return q},readUshort:function(H,q){return H[q]<<8|H[q+1]},readShort:function(H,q){var te=w._binBE.ui8;return te[0]=H[q+1],te[1]=H[q+0],w._binBE.i16[0]},readInt:function(H,q){var te=w._binBE.ui8;return te[0]=H[q+3],te[1]=H[q+2],te[2]=H[q+1],te[3]=H[q+0],w._binBE.i32[0]},readUint:function(H,q){var te=w._binBE.ui8;return te[0]=H[q+3],te[1]=H[q+2],te[2]=H[q+1],te[3]=H[q+0],w._binBE.ui32[0]},readASCII:function(H,q,te){for(var re="",ne=0;ne<te;ne++)re+=String.fromCharCode(H[q+ne]);return re},readFloat:function(H,q){for(var te=w._binBE.ui8,re=0;re<4;re++)te[re]=H[q+3-re];return w._binBE.fl32[0]},readDouble:function(H,q){for(var te=w._binBE.ui8,re=0;re<8;re++)te[re]=H[q+7-re];return w._binBE.fl64[0]},writeUshort:function(H,q,te){H[q]=te>>8&255,H[q+1]=255&te},writeInt:function(H,q,te){var re=w._binBE.ui8;w._binBE.i32[0]=te,H[q+3]=re[0],H[q+2]=re[1],H[q+1]=re[2],H[q+0]=re[3]},writeUint:function(H,q,te){H[q]=te>>24&255,H[q+1]=te>>16&255,H[q+2]=te>>8&255,H[q+3]=255&te},writeASCII:function(H,q,te){for(var re=0;re<te.length;re++)H[q+re]=te.charCodeAt(re)},writeDouble:function(H,q,te){w._binBE.fl64[0]=te;for(var re=0;re<8;re++)H[q+re]=w._binBE.ui8[7-re]}},w._binBE.ui8=new Uint8Array(8),w._binBE.i16=new Int16Array(w._binBE.ui8.buffer),w._binBE.i32=new Int32Array(w._binBE.ui8.buffer),w._binBE.ui32=new Uint32Array(w._binBE.ui8.buffer),w._binBE.fl32=new Float32Array(w._binBE.ui8.buffer),w._binBE.fl64=new Float64Array(w._binBE.ui8.buffer),w._binLE={nextZero:w._binBE.nextZero,readUshort:function(H,q){return H[q+1]<<8|H[q]},readShort:function(H,q){var te=w._binBE.ui8;return te[0]=H[q+0],te[1]=H[q+1],w._binBE.i16[0]},readInt:function(H,q){var te=w._binBE.ui8;return te[0]=H[q+0],te[1]=H[q+1],te[2]=H[q+2],te[3]=H[q+3],w._binBE.i32[0]},readUint:function(H,q){var te=w._binBE.ui8;return te[0]=H[q+0],te[1]=H[q+1],te[2]=H[q+2],te[3]=H[q+3],w._binBE.ui32[0]},readASCII:w._binBE.readASCII,readFloat:function(H,q){for(var te=w._binBE.ui8,re=0;re<4;re++)te[re]=H[q+re];return w._binBE.fl32[0]},readDouble:function(H,q){for(var te=w._binBE.ui8,re=0;re<8;re++)te[re]=H[q+re];return w._binBE.fl64[0]},writeUshort:function(H,q,te){H[q]=255&te,H[q+1]=te>>8&255},writeInt:function(H,q,te){var re=w._binBE.ui8;w._binBE.i32[0]=te,H[q+0]=re[0],H[q+1]=re[1],H[q+2]=re[2],H[q+3]=re[3]},writeUint:function(H,q,te){H[q]=te>>>0&255,H[q+1]=te>>>8&255,H[q+2]=te>>>16&255,H[q+3]=te>>>24&255},writeASCII:w._binBE.writeASCII},w._copyTile=function(H,q,te,re,ne,ie,ae,se){for(var le=Math.min(q,ne-ae),ue=Math.min(te,ie-se),fe=0;fe<ue;fe++)for(var de=(se+fe)*ne+ae,me=fe*q,ge=0;ge<le;ge++)re[de+ge]=H[me+ge]},w.LosslessJpegDecode=function(){var H,q;function te(){return H[q++]}function re(){return H[q++]<<8|H[q++]}function ne(he){for(var pe=te(),ve=[0,0,0,255],ke=[],be=0;be<16;be++)ke[be]=te();for(be=0;be<16;be++)for(var Se=0;Se<ke[be];Se++)ve[ie(ve,0,be+1,1)+3]=te();var Ee=new Uint8Array(256);for(he[pe]=[new Uint8Array(ve),Ee],be=0;be<256;be++){for(var Ie=8,_e=be,Te=0;ve[Te+3]==255&&Ie!=0;)Te=ve[Te+(_e>>--Ie&1)];Ee[be]=Te}}function ie(he,pe,ve,ke){if(he[pe+3]!=255)return 0;if(ve==0)return pe;for(var be=0;be<2;be++){he[pe+be]==0&&(he[pe+be]=he.length,he.push(0,0,ke,255));var Se=ie(he,he[pe+be],ve-1,ke+1);if(Se!=0)return Se}return 0}function ae(he){for(var pe=he.b,ve=he.f;pe<25&&he.a<he.d;){var ke=he.data[he.a++];ke!=255||he.c||he.a++,ve=ve<<8|ke,pe+=8}if(pe<0)throw"e";he.b=pe,he.f=ve}function se(he,pe){return pe.b<he&&ae(pe),pe.f>>(pe.b-=he)&65535>>16-he}function le(he,pe){var ve=he[0],ke=0,be=255;pe.b<16&&ae(pe);var Se=pe.f>>pe.b-8&255;for(be=ve[(ke=he[1][Se])+3],pe.b-=ve[ke+2];be==255;)be=ve[(ke=ve[ke+(pe.f>>--pe.b&1)])+3];return be}function ue(he,pe){return he<32768>>16-pe&&(he+=1-(1<<pe)),he}function fe(he,pe){var ve=le(he,pe);return ve==0?0:ve==16?-32768:ue(se(ve,pe),ve)}function de(he,pe,ve,ke,be,Se){for(var Ee=0,Ie=0;Ie<Se;Ie++){for(var _e=Ie*pe,Te=0;Te<pe;Te+=be){Ee++;for(var Le=0;Le<be;Le++)he[_e+Te+Le]=fe(ke[Le],ve)}if(ve.e!=0&&Ee%ve.e==0&&Ie!=0){for(var Be=ve.a,Ce=ve.data;Ce[Be]!=255||!(208<=Ce[Be+1]&&Ce[Be+1]<=215);)Be--;ve.a=Be+2,ve.f=0,ve.b=0}}}function me(he,pe){return ue(se(he,pe),he)}function ge(he,pe,ve,ke,be,Se,Ee,Ie){for(var _e=ve*Ee,Te=be;Te<Se;Te++)he[Te]+=1<<Ie-1;for(var Le=Ee;Le<_e;Le+=Ee)for(Te=be;Te<Se;Te++)he[Le+Te]+=he[Le+Te-Ee];for(var Be=1;Be<ke;Be++){var Ce=Be*_e;for(Te=be;Te<Se;Te++)he[Ce+Te]+=he[Ce+Te-_e];for(Le=Ee;Le<_e;Le+=Ee)for(Te=be;Te<Se;Te++){var ze=Ce+Le+Te,Ke=ze-_e,je=he[ze-Ee],$e=0;if(pe==0)$e=0;else if(pe==1)$e=je;else if(pe==2)$e=he[Ke];else if(pe==3)$e=he[Ke-Ee];else if(pe==4)$e=je+(he[Ke]-he[Ke-Ee]);else if(pe==5)$e=je+(he[Ke]-he[Ke-Ee]>>>1);else if(pe==6)$e=he[Ke]+(je-he[Ke-Ee]>>>1);else{if(pe!=7)throw pe;$e=je+he[Ke]>>>1}he[ze]+=$e}}}return function(he){if(H=he,q=0,re()!=65496)throw"e";for(var pe=[],ve=0,ke=0,be=0,Se=[],Ee=[],Ie=[],_e=0,Te=0,Le=0;;){var Be=re();if(Be!=65535){var Ce=re();if(Be==65475){ke=te(),Te=re(),Le=re(),_e=te();for(var ze=0;ze<_e;ze++){var Ke=te(),je=te();if(te()!=0)throw"e";pe[Ke]=[ze,je>>4,15&je]}}else if(Be==65476)for(var $e=q+Ce-2;q<$e;)ne(Ee);else{if(Be==65498){for(q++,ze=0;ze<_e;ze++){var Ye=pe[te()];Ie[Ye[0]]=Ee[te()>>>4],Se[Ye[0]]=Ye.slice(1)}ve=te(),q+=2;break}Be==65501?be=re():q+=Ce-2}}else q--}var Pe=new(ke>8?Uint16Array:Uint8Array)(Te*Le*_e),Ge={b:0,f:0,c:ve==8,a:q,data:H,d:H.length,e:be};if(Ge.c)(function(St,Bt,tr,ir,Kt){for(var ar=H.length-q,rr=0;rr<ar;rr+=4){var gr=H[q+rr];H[q+rr]=H[q+rr+3],H[q+rr+3]=gr,gr=H[q+rr+1],H[q+rr+1]=H[q+rr+2],H[q+rr+2]=gr}for(var dr=0;dr<Kt;dr++)for(var hr=32768,kr=32768,fr=0;fr<Bt;fr+=2){var ot=le(ir,tr),nr=le(ir,tr);ot!=0&&(hr+=me(ot,tr)),nr!=0&&(kr+=me(nr,tr)),St[dr*Bt+fr]=65535&hr,St[dr*Bt+fr+1]=65535&kr}})(Pe,Le*_e,Ge,Ie[0],Te);else{var it=[],Je=0,He=0;for(ze=0;ze<_e;ze++){var Qe=Se[ze];(Ze=Qe[0])>Je&&(Je=Ze),(Oe=Qe[1])>He&&(He=Oe),it.push(Ze*Oe)}if(Je!=1||He!=1){if(_e!=3||it[1]!=1||it[2]!=1||Je!=2||He!=1&&He!=2)throw"e";var ut=[],dt=0;for(ze=0;ze<_e;ze++){for(var kt=0;kt<it[ze];kt++)ut.push(Ie[ze]);dt+=it[ze]}var Xe=Le/Je,we=Te/He,qe=Xe*we;de(Pe,Xe*dt,Ge,ut,dt,we),ge(Pe,ve,Xe,we,dt-2,dt,dt,ke);var Ne=new Uint16Array(qe*it[0]);if(Je==2&&He==2){for(ze=0;ze<qe;ze++)Ne[4*ze]=Pe[6*ze],Ne[4*ze+1]=Pe[6*ze+1],Ne[4*ze+2]=Pe[6*ze+2],Ne[4*ze+3]=Pe[6*ze+3];for(ge(Ne,ve,4*Xe,we,0,1,1,ke),ze=0;ze<qe;ze++)Pe[6*ze]=Ne[4*ze],Pe[6*ze+1]=Ne[4*ze+1],Pe[6*ze+2]=Ne[4*ze+2],Pe[6*ze+3]=Ne[4*ze+3]}if(Je==2&&He==1){for(ze=0;ze<qe;ze++)Ne[2*ze]=Pe[4*ze],Ne[2*ze+1]=Pe[4*ze+1];for(ge(Ne,ve,2*Xe,we,0,1,1,ke),ze=0;ze<qe;ze++)Pe[4*ze]=Ne[2*ze],Pe[4*ze+1]=Ne[2*ze+1]}for(var Fe=Pe.slice(0),Oe=0;Oe<Te;Oe++)if(He==2)for(var Ze=0;Ze<Le;Ze++){var et=((Oe>>>1)*Xe+(Ze>>>1))*dt,ye=2*(1&Oe)+(1&Ze);Pe[Ae=(Oe*Le+Ze)*_e]=Fe[et+ye],Pe[Ae+1]=Fe[et+4],Pe[Ae+2]=Fe[et+5]}else for(Ze=0;Ze<Le;Ze++){var Ae;et=(Oe*Xe+(Ze>>>1))*dt,ye=1&Ze,Pe[Ae=(Oe*Le+Ze)*_e]=Fe[et+ye],Pe[Ae+1]=Fe[et+2],Pe[Ae+2]=Fe[et+3]}}else if(de(Pe,Le*_e,Ge,Ie,_e,Te),be==0)ge(Pe,ve,Le,Te,0,_e,_e,ke);else{var De=Math.floor(be/Le);for(Oe=0;Oe<Te;Oe+=De){var Ue=Pe.slice(Oe*Le*_e,(Oe+De)*Le*_e);ge(Ue,ve,Le,De,0,_e,_e,ke),Pe.set(Ue,Oe*Le*_e)}}}return Pe}}(),function(){var H=2,q=4,te=5,re=6,ne=7,ie=12,ae=13,se=14,le=15,ue=17;function fe(Se){var Ee={c:new Int8Array(2<<Se.u)};return function(Ie,_e,Te){var Le=[_e,3*_e+18,5*_e+67,7*_e+276,Te];Ie.o=_e,Ie.w=(Le[4]+2*_e)/(2*_e+1)+1|0,Ie.v=Math.ceil(Math.log2(Ie.w)),Ie.t=9,function(Be,Ce){for(var ze=-Ce[4],Ke=0;ze<=Ce[4];Ke++,ze++)Be[Ke]=ze<=-Ce[3]?-4:ze<=-Ce[2]?-3:ze<=-Ce[1]?-2:ze<-Ce[0]?-1:ze<=Ce[0]?0:ze<Ce[1]?1:ze<Ce[2]?2:ze<Ce[3]?3:4}(Ie.c,Le)}(Ee,0,Se.g),Ee}function de(Se){for(var Ee=[[],[],[]],Ie=Math.max(2,Se.w+32>>>6),_e=0;_e<3;_e++)for(var Te=0;Te<41;Te++)Ee[_e][Te]=[Ie,1];return Ee}function me(Se,Ee){var Ie=0,_e=8-Se.a;if(Se.j,Se.a,Ee){if(Ee>=_e)do Ie<<=_e,Ee-=_e,Ie|=Se[Se.j]&(1<<_e)-1,Se.j++,_e=8;while(Ee>=8);Ee&&(Ie<<=Ee,_e-=Ee,Ie|=Se[Se.j]>>>_e&(1<<Ee)-1),Se.a=8-_e}return Ie}function ge(Se,Ee,Ie,_e,Te,Le,Be,Ce){Ce==null&&(Ce=0);var ze,Ke,je,$e,Ye,Pe,Ge=Le+1,it=Ge%2,Je=0,He=_e[Te],Qe=_e[Te-1],ut=_e[Te-2][Ge],dt=Qe[Ge-1],kt=Qe[Ge],Xe=Qe[Ge+1],we=He[Ge-1],qe=He[Ge+1],Ne=Math.abs;if(it&&(je=Ne(Xe-kt),$e=Ne(ut-kt),Ye=Ne(dt-kt)),it){if(Pe=(Pe=je>Ye&&$e<je?ut+dt:je<Ye&&$e<Ye?ut+Xe:Xe+dt)+2*kt>>>2,Ce)return void(He[Ge]=Pe);ze=Ee.t*Ee.c[Se.g+kt-ut]+Ee.c[Se.g+dt-kt]}else Pe=kt>dt&&kt>Xe||kt<dt&&kt<Xe?qe+we+2*kt>>>2:we+qe>>>1,ze=Ee.t*Ee.c[Se.g+kt-dt]+Ee.c[Se.g+dt-we];Ke=Ne(ze);var Fe=function(Ze){for(var et=-1,ye=0;!ye;et++)ye=Ze[Ze.j]>>>7-Ze.a&1,Ze.a++,Ze.a&=7,Ze.a||Ze.j++;return et}(Ie);if(Fe<Se.n-Ee.v-1){var Oe=function(Ze,et){var ye=0;if(et<Ze)for(;ye<=14&&et<<++ye<Ze;);return ye}(Be[Ke][0],Be[Ke][1]);Je=me(Ie,Oe)+(Fe<<Oe)}else Je=me(Ie,Ee.v)+1;Je=1&Je?-1-(Je>>>1):Je>>>1,Be[Ke][0]+=Ne(Je),Be[Ke][1]==Se.f&&(Be[Ke][0]>>>=1,Be[Ke][1]>>>=1),Be[Ke][1]++,Pe=ze<0?Pe-Je:Pe+Je,Se.i&&(Pe<0?Pe+=Ee.w:Pe>Se.g&&(Pe-=Ee.w)),He[Ge]=Pe>=0?Math.min(Pe,Se.g):0}function he(Se,Ee,Ie){for(var _e=Se[0].length,Te=Ee;Te<=Ie;Te++)Se[Te][0]=Se[Te-1][1],Se[Te][_e-1]=Se[Te-1][_e-2]}function pe(Se){he(Se,ne,ie),he(Se,H,q),he(Se,le,ue)}function ve(Se,Ee,Ie,_e,Te,Le,Be,Ce,ze,Ke,je,$e,Ye){for(var Pe=0,Ge=1,it=Te<ae&&Te>q;Ge<Se.m;)Pe<Se.m&&(ge(Se,Ee,Ie,_e,Te,Pe,Be[ze],Se.h&&(it&&Ke||!it&&(je||(Pe&$e)==Ye))),ge(Se,Ee,Ie,_e,Le,Pe,Be[ze],Se.h&&(!it&&Ke||it&&(je||(Pe&$e)==Ye))),Pe+=2),Pe>8&&(ge(Se,Ee,Ie,_e,Te,Ge,Ce[ze]),ge(Se,Ee,Ie,_e,Le,Ge,Ce[ze]),Ge+=2);pe(_e)}function ke(Se,Ee,Ie,_e,Te,Le){ve(Se,Ee,Ie,_e,H,ne,Te,Le,0,0,1,0,8),ve(Se,Ee,Ie,_e,8,le,Te,Le,1,0,1,0,8),ve(Se,Ee,Ie,_e,3,9,Te,Le,2,1,0,3,0),ve(Se,Ee,Ie,_e,10,16,Te,Le,0,0,0,3,2),ve(Se,Ee,Ie,_e,q,11,Te,Le,1,0,0,3,2),ve(Se,Ee,Ie,_e,ie,ue,Te,Le,2,1,0,3,0)}function be(Se,Ee,Ie,_e,Te,Le){var Be=Le.length,Ce=Se.l;Te+1==Se.s&&(Ce=Se.e-Te*Se.l);for(var ze=6*Se.e*_e+Te*Se.l,Ke=0;Ke<6;Ke++){for(var je=0;je<Ce;je++){var $e,Ye=Le[Ke%Be][je%Be];$e=Ye==0?H+(Ke>>>1):Ye==2?le+(Ke>>>1):ne+Ke;var Pe=Se.h?(2*je/3&2147483646|je%3&1)+(je%3>>>1):je>>>1;Ee[ze+je]=Ie[$e][Pe+1]}ze+=Se.e}}w._decompressRAF=function(Se,Ee){var Ie=function(Ge){var it=w._binBE.readUshort,Je={b:it(Ge,0),i:Ge[2],C:Ge[3],u:Ge[4],q:it(Ge,5),k:it(Ge,7),e:it(Ge,9),l:it(Ge,11),s:Ge[13],d:it(Ge,14)};if(Je.b!=18771||Je.i>1||Je.q<6||Je.q%6||Je.e<768||Je.e%24||Je.l!=768||Je.k<Je.l||Je.k%Je.l||Je.k-Je.e>=Je.l||Je.s>16||Je.s!=Je.k/Je.l||Je.s!=Math.ceil(Je.e/Je.l)||Je.d!=Je.q/6||Je.u!=12&&Je.u!=14&&Je.u!=16||Je.C!=16&&Je.C!=0)throw"Invalid data";if(Je.i==0)throw"Not implemented. We need this file!";return Je.h=Je.C==16,Je.m=0|(Je.h?2*Je.l/3:Je.l>>>1),Je.A=Je.m+2,Je.f=64,Je.g=(1<<Je.u)-1,Je.n=4*Je.u,Je}(Se),_e=function(Ge,it){var Je=new Array(it.s),He=4*it.s,Qe=16+He;12&He&&(Qe+=16-(12&He));for(var ut=0,dt=16;ut<it.s;dt+=4){var kt=w._binBE.readUint(Ge,dt);Je[ut]=Ge.slice(Qe,Qe+kt),Je[ut].j=0,Je[ut].a=0,Qe+=kt,ut++}if(Qe!=Ge.length)throw"Invalid data";return Je}(Se,Ie),Te=fe(Ie),Le=new Int16Array(Ie.e*Ie.q);Ee==null&&(Ee=Ie.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var Be=[[0,3],[1,q],[te,11],[re,ie],[ae,16],[se,ue]],Ce=[],ze=0;ze<18;ze++)Ce[ze]=new Uint16Array(Ie.A);for(var Ke=0;Ke<Ie.s;Ke++){var je=de(Te),$e=de(Te);for(ze=0;ze<18;ze++)for(var Ye=0;Ye<Ie.A;Ye++)Ce[ze][Ye]=0;for(var Pe=0;Pe<Ie.d;Pe++){for(ke(Ie,Te,_e[Ke],Ce,je,$e),ze=0;ze<6;ze++)for(Ye=0;Ye<Ie.A;Ye++)Ce[Be[ze][0]][Ye]=Ce[Be[ze][1]][Ye];for(be(Ie,Le,Ce,Pe,Ke,Ee),ze=H;ze<18;ze++)if([te,re,ae,se].indexOf(ze)==-1)for(Ye=0;Ye<Ie.A;Ye++)Ce[ze][Ye]=0;pe(Ce)}}return Le}}()}(m,typeof commonjsRequire=="function"?requirePako():self.pako)})()})(UTIF);var UTIFExports=UTIF.exports,utif=getDefaultExportFromCjs(UTIFExports),util$1,objectUtil;function getDimensionValue(d){return typeof d=="number"?d:d instanceof Uint8Array?d[0]:typeof d[0]=="string"?parseInt(d[0]):d[0]}function tiff(){return{mime:"image/tiff",encode:d=>{const m=utif.encodeImage(d.data,d.width,d.height);return Buffer.from(m)},decode:d=>{const m=utif.decode(d),g=m[0];if(!g)throw new Error("No page found in TIFF");if(!g.t256)throw new Error("No image width found in TIFF");if(!g.t257)throw new Error("No image height found in TIFF");m.forEach(D=>{utif.decodeImage(d,D)});const w=utif.toRGBA8(g);return{data:Buffer.from(w),width:getDimensionValue(g.t256),height:getDimensionValue(g.t257)}}}}(function(d){d.assertEqual=m=>m,d.assertIs=function(m){},d.assertNever=function(m){throw new Error},d.arrayToEnum=m=>{const g={};for(const w of m)g[w]=w;return g},d.getValidEnumValues=m=>{const g=d.objectKeys(m).filter(D=>typeof m[m[D]]!="number"),w={};for(const D of g)w[D]=m[D];return d.objectValues(w)},d.objectValues=m=>d.objectKeys(m).map(function(g){return m[g]}),d.objectKeys=typeof Object.keys=="function"?m=>Object.keys(m):m=>{const g=[];for(const w in m)Object.prototype.hasOwnProperty.call(m,w)&&g.push(w);return g},d.find=(m,g)=>{for(const w of m)if(g(w))return w},d.isInteger=typeof Number.isInteger=="function"?m=>Number.isInteger(m):m=>typeof m=="number"&&isFinite(m)&&Math.floor(m)===m,d.joinValues=function(m,g=" | "){return m.map(w=>typeof w=="string"?`'${w}'`:w).join(g)},d.jsonStringifyReplacer=(m,g)=>typeof g=="bigint"?g.toString():g})(util$1||(util$1={})),function(d){d.mergeShapes=(m,g)=>({...m,...g})}(objectUtil||(objectUtil={}));const ZodParsedType=util$1.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=d=>{switch(typeof d){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(d)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(d)?ZodParsedType.array:d===null?ZodParsedType.null:d.then&&typeof d.then=="function"&&d.catch&&typeof d.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&d instanceof Map?ZodParsedType.map:typeof Set<"u"&&d instanceof Set?ZodParsedType.set:typeof Date<"u"&&d instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$1.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=d=>JSON.stringify(d,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(m){super(),this.issues=[],this.addIssue=w=>{this.issues=[...this.issues,w]},this.addIssues=(w=[])=>{this.issues=[...this.issues,...w]};const g=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,g):this.__proto__=g,this.name="ZodError",this.issues=m}get errors(){return this.issues}format(m){const g=m||function(H){return H.message},w={_errors:[]},D=H=>{for(const q of H.issues)if(q.code==="invalid_union")q.unionErrors.map(D);else if(q.code==="invalid_return_type")D(q.returnTypeError);else if(q.code==="invalid_arguments")D(q.argumentsError);else if(q.path.length===0)w._errors.push(g(q));else{let te=w,re=0;for(;re<q.path.length;){const ne=q.path[re];re===q.path.length-1?(te[ne]=te[ne]||{_errors:[]},te[ne]._errors.push(g(q))):te[ne]=te[ne]||{_errors:[]},te=te[ne],re++}}};return D(this),w}static assert(m){if(!(m instanceof ZodError))throw new Error(`Not a ZodError: ${m}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$1.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(m=g=>g.message){const g={},w=[];for(const D of this.issues)D.path.length>0?(g[D.path[0]]=g[D.path[0]]||[],g[D.path[0]].push(m(D))):w.push(m(D));return{formErrors:w,fieldErrors:g}}get formErrors(){return this.flatten()}}ZodError.create=d=>new ZodError(d);const errorMap=(d,m)=>{let g;switch(d.code){case ZodIssueCode.invalid_type:g=d.received===ZodParsedType.undefined?"Required":`Expected ${d.expected}, received ${d.received}`;break;case ZodIssueCode.invalid_literal:g=`Invalid literal value, expected ${JSON.stringify(d.expected,util$1.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:g=`Unrecognized key(s) in object: ${util$1.joinValues(d.keys,", ")}`;break;case ZodIssueCode.invalid_union:g="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:g=`Invalid discriminator value. Expected ${util$1.joinValues(d.options)}`;break;case ZodIssueCode.invalid_enum_value:g=`Invalid enum value. Expected ${util$1.joinValues(d.options)}, received '${d.received}'`;break;case ZodIssueCode.invalid_arguments:g="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:g="Invalid function return type";break;case ZodIssueCode.invalid_date:g="Invalid date";break;case ZodIssueCode.invalid_string:typeof d.validation=="object"?"includes"in d.validation?(g=`Invalid input: must include "${d.validation.includes}"`,typeof d.validation.position=="number"&&(g=`${g} at one or more positions greater than or equal to ${d.validation.position}`)):"startsWith"in d.validation?g=`Invalid input: must start with "${d.validation.startsWith}"`:"endsWith"in d.validation?g=`Invalid input: must end with "${d.validation.endsWith}"`:util$1.assertNever(d.validation):g=d.validation!=="regex"?`Invalid ${d.validation}`:"Invalid";break;case ZodIssueCode.too_small:g=d.type==="array"?`Array must contain ${d.exact?"exactly":d.inclusive?"at least":"more than"} ${d.minimum} element(s)`:d.type==="string"?`String must contain ${d.exact?"exactly":d.inclusive?"at least":"over"} ${d.minimum} character(s)`:d.type==="number"?`Number must be ${d.exact?"exactly equal to ":d.inclusive?"greater than or equal to ":"greater than "}${d.minimum}`:d.type==="date"?`Date must be ${d.exact?"exactly equal to ":d.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(d.minimum))}`:"Invalid input";break;case ZodIssueCode.too_big:g=d.type==="array"?`Array must contain ${d.exact?"exactly":d.inclusive?"at most":"less than"} ${d.maximum} element(s)`:d.type==="string"?`String must contain ${d.exact?"exactly":d.inclusive?"at most":"under"} ${d.maximum} character(s)`:d.type==="number"?`Number must be ${d.exact?"exactly":d.inclusive?"less than or equal to":"less than"} ${d.maximum}`:d.type==="bigint"?`BigInt must be ${d.exact?"exactly":d.inclusive?"less than or equal to":"less than"} ${d.maximum}`:d.type==="date"?`Date must be ${d.exact?"exactly":d.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(d.maximum))}`:"Invalid input";break;case ZodIssueCode.custom:g="Invalid input";break;case ZodIssueCode.invalid_intersection_types:g="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:g=`Number must be a multiple of ${d.multipleOf}`;break;case ZodIssueCode.not_finite:g="Number must be finite";break;default:g=m.defaultError,util$1.assertNever(d)}return{message:g}};let overrideErrorMap=errorMap;function setErrorMap(d){overrideErrorMap=d}function getErrorMap(){return overrideErrorMap}const makeIssue=d=>{const{data:m,path:g,errorMaps:w,issueData:D}=d,H=[...g,...D.path||[]],q={...D,path:H};if(D.message!==void 0)return{...D,path:H,message:D.message};let te="";const re=w.filter(ne=>!!ne).slice().reverse();for(const ne of re)te=ne(q,{data:m,defaultError:te}).message;return{...D,path:H,message:te}},EMPTY_PATH=[];function addIssueToContext(d,m){const g=getErrorMap(),w=makeIssue({issueData:m,data:d.data,path:d.path,errorMaps:[d.common.contextualErrorMap,d.schemaErrorMap,g,g===errorMap?void 0:errorMap].filter(D=>!!D)});d.common.issues.push(w)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(m,g){const w=[];for(const D of g){if(D.status==="aborted")return INVALID;D.status==="dirty"&&m.dirty(),w.push(D.value)}return{status:m.value,value:w}}static async mergeObjectAsync(m,g){const w=[];for(const D of g){const H=await D.key,q=await D.value;w.push({key:H,value:q})}return ParseStatus.mergeObjectSync(m,w)}static mergeObjectSync(m,g){const w={};for(const D of g){const{key:H,value:q}=D;if(H.status==="aborted"||q.status==="aborted")return INVALID;H.status==="dirty"&&m.dirty(),q.status==="dirty"&&m.dirty(),H.value==="__proto__"||q.value===void 0&&!D.alwaysSet||(w[H.value]=q.value)}return{status:m.value,value:w}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=d=>({status:"dirty",value:d}),OK=d=>({status:"valid",value:d}),isAborted=d=>d.status==="aborted",isDirty=d=>d.status==="dirty",isValid=d=>d.status==="valid",isAsync=d=>typeof Promise<"u"&&d instanceof Promise;function __classPrivateFieldGet(d,m,g,w){if(typeof m=="function"?d!==m||!0:!m.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m.get(d)}function __classPrivateFieldSet(d,m,g,w,D){if(typeof m=="function"?d!==m||!0:!m.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return m.set(d,g),g}var errorUtil,_ZodEnum_cache,_ZodNativeEnum_cache;typeof SuppressedError=="function"&&SuppressedError,function(d){d.errToObj=m=>typeof m=="string"?{message:m}:m||{},d.toString=m=>typeof m=="string"?m:m==null?void 0:m.message}(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(m,g,w,D){this._cachedPath=[],this.parent=m,this.data=g,this._path=w,this._key=D}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(d,m)=>{if(isValid(m))return{success:!0,data:m.value};if(!d.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const g=new ZodError(d.common.issues);return this._error=g,this._error}}};function processCreateParams(d){if(!d)return{};const{errorMap:m,invalid_type_error:g,required_error:w,description:D}=d;if(m&&(g||w))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return m?{errorMap:m,description:D}:{errorMap:(H,q)=>{var te,re;const{message:ne}=d;return H.code==="invalid_enum_value"?{message:ne??q.defaultError}:q.data===void 0?{message:(te=ne??w)!==null&&te!==void 0?te:q.defaultError}:H.code!=="invalid_type"?{message:q.defaultError}:{message:(re=ne??g)!==null&&re!==void 0?re:q.defaultError}},description:D}}class ZodType{constructor(m){this.spa=this.safeParseAsync,this._def=m,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(m){return getParsedType(m.data)}_getOrReturnCtx(m,g){return g||{common:m.parent.common,data:m.data,parsedType:getParsedType(m.data),schemaErrorMap:this._def.errorMap,path:m.path,parent:m.parent}}_processInputParams(m){return{status:new ParseStatus,ctx:{common:m.parent.common,data:m.data,parsedType:getParsedType(m.data),schemaErrorMap:this._def.errorMap,path:m.path,parent:m.parent}}}_parseSync(m){const g=this._parse(m);if(isAsync(g))throw new Error("Synchronous parse encountered promise.");return g}_parseAsync(m){const g=this._parse(m);return Promise.resolve(g)}parse(m,g){const w=this.safeParse(m,g);if(w.success)return w.data;throw w.error}safeParse(m,g){var w;const D={common:{issues:[],async:(w=g==null?void 0:g.async)!==null&&w!==void 0&&w,contextualErrorMap:g==null?void 0:g.errorMap},path:(g==null?void 0:g.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:m,parsedType:getParsedType(m)},H=this._parseSync({data:m,path:D.path,parent:D});return handleResult(D,H)}async parseAsync(m,g){const w=await this.safeParseAsync(m,g);if(w.success)return w.data;throw w.error}async safeParseAsync(m,g){const w={common:{issues:[],contextualErrorMap:g==null?void 0:g.errorMap,async:!0},path:(g==null?void 0:g.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:m,parsedType:getParsedType(m)},D=this._parse({data:m,path:w.path,parent:w}),H=await(isAsync(D)?D:Promise.resolve(D));return handleResult(w,H)}refine(m,g){const w=D=>typeof g=="string"||g===void 0?{message:g}:typeof g=="function"?g(D):g;return this._refinement((D,H)=>{const q=m(D),te=()=>H.addIssue({code:ZodIssueCode.custom,...w(D)});return typeof Promise<"u"&&q instanceof Promise?q.then(re=>!!re||(te(),!1)):!!q||(te(),!1)})}refinement(m,g){return this._refinement((w,D)=>!!m(w)||(D.addIssue(typeof g=="function"?g(w,D):g),!1))}_refinement(m){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:m}})}superRefine(m){return this._refinement(m)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(m){return ZodUnion.create([this,m],this._def)}and(m){return ZodIntersection.create(this,m,this._def)}transform(m){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:m}})}default(m){const g=typeof m=="function"?m:()=>m;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:g,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(m){const g=typeof m=="function"?m:()=>m;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:g,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(m){return new this.constructor({...this._def,description:m})}pipe(m){return ZodPipeline.create(this,m)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(d){let m="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return d.precision?m=`${m}\\.\\d{${d.precision}}`:d.precision==null&&(m=`${m}(\\.\\d+)?`),m}function timeRegex(d){return new RegExp(`^${timeRegexSource(d)}$`)}function datetimeRegex(d){let m=`${dateRegexSource}T${timeRegexSource(d)}`;const g=[];return g.push(d.local?"Z?":"Z"),d.offset&&g.push("([+-]\\d{2}:?\\d{2})"),m=`${m}(${g.join("|")})`,new RegExp(`^${m}$`)}function isValidIP(d,m){return!(m!=="v4"&&m||!ipv4Regex.test(d))||!(m!=="v6"&&m||!ipv6Regex.test(d))}class ZodString extends ZodType{_parse(m){if(this._def.coerce&&(m.data=String(m.data)),this._getType(m)!==ZodParsedType.string){const D=this._getOrReturnCtx(m);return addIssueToContext(D,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:D.parsedType}),INVALID}const g=new ParseStatus;let w;for(const D of this._def.checks)if(D.kind==="min")m.data.length<D.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:D.value,type:"string",inclusive:!0,exact:!1,message:D.message}),g.dirty());else if(D.kind==="max")m.data.length>D.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:D.value,type:"string",inclusive:!0,exact:!1,message:D.message}),g.dirty());else if(D.kind==="length"){const H=m.data.length>D.value,q=m.data.length<D.value;(H||q)&&(w=this._getOrReturnCtx(m,w),H?addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:D.value,type:"string",inclusive:!0,exact:!0,message:D.message}):q&&addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:D.value,type:"string",inclusive:!0,exact:!0,message:D.message}),g.dirty())}else if(D.kind==="email")emailRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"email",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"emoji",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="uuid")uuidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"uuid",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="nanoid")nanoidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="cuid")cuidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"cuid",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="cuid2")cuid2Regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="ulid")ulidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"ulid",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="url")try{new URL(m.data)}catch{w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"url",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty()}else D.kind==="regex"?(D.regex.lastIndex=0,D.regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"regex",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty())):D.kind==="trim"?m.data=m.data.trim():D.kind==="includes"?m.data.includes(D.value,D.position)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{includes:D.value,position:D.position},message:D.message}),g.dirty()):D.kind==="toLowerCase"?m.data=m.data.toLowerCase():D.kind==="toUpperCase"?m.data=m.data.toUpperCase():D.kind==="startsWith"?m.data.startsWith(D.value)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{startsWith:D.value},message:D.message}),g.dirty()):D.kind==="endsWith"?m.data.endsWith(D.value)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{endsWith:D.value},message:D.message}),g.dirty()):D.kind==="datetime"?datetimeRegex(D).test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"datetime",message:D.message}),g.dirty()):D.kind==="date"?dateRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"date",message:D.message}),g.dirty()):D.kind==="time"?timeRegex(D).test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"time",message:D.message}),g.dirty()):D.kind==="duration"?durationRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"duration",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty()):D.kind==="ip"?isValidIP(m.data,D.version)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"ip",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty()):D.kind==="base64"?base64Regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"base64",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty()):util$1.assertNever(D);return{status:g.value,value:m.data}}_regex(m,g,w){return this.refinement(D=>m.test(D),{validation:g,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(w)})}_addCheck(m){return new ZodString({...this._def,checks:[...this._def.checks,m]})}email(m){return this._addCheck({kind:"email",...errorUtil.errToObj(m)})}url(m){return this._addCheck({kind:"url",...errorUtil.errToObj(m)})}emoji(m){return this._addCheck({kind:"emoji",...errorUtil.errToObj(m)})}uuid(m){return this._addCheck({kind:"uuid",...errorUtil.errToObj(m)})}nanoid(m){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(m)})}cuid(m){return this._addCheck({kind:"cuid",...errorUtil.errToObj(m)})}cuid2(m){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(m)})}ulid(m){return this._addCheck({kind:"ulid",...errorUtil.errToObj(m)})}base64(m){return this._addCheck({kind:"base64",...errorUtil.errToObj(m)})}ip(m){return this._addCheck({kind:"ip",...errorUtil.errToObj(m)})}datetime(m){var g,w;return typeof m=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:m}):this._addCheck({kind:"datetime",precision:(m==null?void 0:m.precision)===void 0?null:m==null?void 0:m.precision,offset:(g=m==null?void 0:m.offset)!==null&&g!==void 0&&g,local:(w=m==null?void 0:m.local)!==null&&w!==void 0&&w,...errorUtil.errToObj(m==null?void 0:m.message)})}date(m){return this._addCheck({kind:"date",message:m})}time(m){return typeof m=="string"?this._addCheck({kind:"time",precision:null,message:m}):this._addCheck({kind:"time",precision:(m==null?void 0:m.precision)===void 0?null:m==null?void 0:m.precision,...errorUtil.errToObj(m==null?void 0:m.message)})}duration(m){return this._addCheck({kind:"duration",...errorUtil.errToObj(m)})}regex(m,g){return this._addCheck({kind:"regex",regex:m,...errorUtil.errToObj(g)})}includes(m,g){return this._addCheck({kind:"includes",value:m,position:g==null?void 0:g.position,...errorUtil.errToObj(g==null?void 0:g.message)})}startsWith(m,g){return this._addCheck({kind:"startsWith",value:m,...errorUtil.errToObj(g)})}endsWith(m,g){return this._addCheck({kind:"endsWith",value:m,...errorUtil.errToObj(g)})}min(m,g){return this._addCheck({kind:"min",value:m,...errorUtil.errToObj(g)})}max(m,g){return this._addCheck({kind:"max",value:m,...errorUtil.errToObj(g)})}length(m,g){return this._addCheck({kind:"length",value:m,...errorUtil.errToObj(g)})}nonempty(m){return this.min(1,errorUtil.errToObj(m))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(m=>m.kind==="datetime")}get isDate(){return!!this._def.checks.find(m=>m.kind==="date")}get isTime(){return!!this._def.checks.find(m=>m.kind==="time")}get isDuration(){return!!this._def.checks.find(m=>m.kind==="duration")}get isEmail(){return!!this._def.checks.find(m=>m.kind==="email")}get isURL(){return!!this._def.checks.find(m=>m.kind==="url")}get isEmoji(){return!!this._def.checks.find(m=>m.kind==="emoji")}get isUUID(){return!!this._def.checks.find(m=>m.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(m=>m.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(m=>m.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(m=>m.kind==="cuid2")}get isULID(){return!!this._def.checks.find(m=>m.kind==="ulid")}get isIP(){return!!this._def.checks.find(m=>m.kind==="ip")}get isBase64(){return!!this._def.checks.find(m=>m.kind==="base64")}get minLength(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxLength(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}}function floatSafeRemainder(d,m){const g=(d.toString().split(".")[1]||"").length,w=(m.toString().split(".")[1]||"").length,D=g>w?g:w;return parseInt(d.toFixed(D).replace(".",""))%parseInt(m.toFixed(D).replace(".",""))/Math.pow(10,D)}ZodString.create=d=>{var m;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(m=d==null?void 0:d.coerce)!==null&&m!==void 0&&m,...processCreateParams(d)})};class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(m){if(this._def.coerce&&(m.data=Number(m.data)),this._getType(m)!==ZodParsedType.number){const D=this._getOrReturnCtx(m);return addIssueToContext(D,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:D.parsedType}),INVALID}let g;const w=new ParseStatus;for(const D of this._def.checks)D.kind==="int"?util$1.isInteger(m.data)||(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:D.message}),w.dirty()):D.kind==="min"?(D.inclusive?m.data<D.value:m.data<=D.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_small,minimum:D.value,type:"number",inclusive:D.inclusive,exact:!1,message:D.message}),w.dirty()):D.kind==="max"?(D.inclusive?m.data>D.value:m.data>=D.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_big,maximum:D.value,type:"number",inclusive:D.inclusive,exact:!1,message:D.message}),w.dirty()):D.kind==="multipleOf"?floatSafeRemainder(m.data,D.value)!==0&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_multiple_of,multipleOf:D.value,message:D.message}),w.dirty()):D.kind==="finite"?Number.isFinite(m.data)||(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_finite,message:D.message}),w.dirty()):util$1.assertNever(D);return{status:w.value,value:m.data}}gte(m,g){return this.setLimit("min",m,!0,errorUtil.toString(g))}gt(m,g){return this.setLimit("min",m,!1,errorUtil.toString(g))}lte(m,g){return this.setLimit("max",m,!0,errorUtil.toString(g))}lt(m,g){return this.setLimit("max",m,!1,errorUtil.toString(g))}setLimit(m,g,w,D){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:m,value:g,inclusive:w,message:errorUtil.toString(D)}]})}_addCheck(m){return new ZodNumber({...this._def,checks:[...this._def.checks,m]})}int(m){return this._addCheck({kind:"int",message:errorUtil.toString(m)})}positive(m){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(m)})}negative(m){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(m)})}nonpositive(m){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(m)})}nonnegative(m){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(m)})}multipleOf(m,g){return this._addCheck({kind:"multipleOf",value:m,message:errorUtil.toString(g)})}finite(m){return this._addCheck({kind:"finite",message:errorUtil.toString(m)})}safe(m){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(m)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(m)})}get minValue(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxValue(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}get isInt(){return!!this._def.checks.find(m=>m.kind==="int"||m.kind==="multipleOf"&&util$1.isInteger(m.value))}get isFinite(){let m=null,g=null;for(const w of this._def.checks){if(w.kind==="finite"||w.kind==="int"||w.kind==="multipleOf")return!0;w.kind==="min"?(g===null||w.value>g)&&(g=w.value):w.kind==="max"&&(m===null||w.value<m)&&(m=w.value)}return Number.isFinite(g)&&Number.isFinite(m)}}ZodNumber.create=d=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(d==null?void 0:d.coerce)||!1,...processCreateParams(d)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(m){if(this._def.coerce&&(m.data=BigInt(m.data)),this._getType(m)!==ZodParsedType.bigint){const D=this._getOrReturnCtx(m);return addIssueToContext(D,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:D.parsedType}),INVALID}let g;const w=new ParseStatus;for(const D of this._def.checks)D.kind==="min"?(D.inclusive?m.data<D.value:m.data<=D.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_small,type:"bigint",minimum:D.value,inclusive:D.inclusive,message:D.message}),w.dirty()):D.kind==="max"?(D.inclusive?m.data>D.value:m.data>=D.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_big,type:"bigint",maximum:D.value,inclusive:D.inclusive,message:D.message}),w.dirty()):D.kind==="multipleOf"?m.data%D.value!==BigInt(0)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_multiple_of,multipleOf:D.value,message:D.message}),w.dirty()):util$1.assertNever(D);return{status:w.value,value:m.data}}gte(m,g){return this.setLimit("min",m,!0,errorUtil.toString(g))}gt(m,g){return this.setLimit("min",m,!1,errorUtil.toString(g))}lte(m,g){return this.setLimit("max",m,!0,errorUtil.toString(g))}lt(m,g){return this.setLimit("max",m,!1,errorUtil.toString(g))}setLimit(m,g,w,D){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:m,value:g,inclusive:w,message:errorUtil.toString(D)}]})}_addCheck(m){return new ZodBigInt({...this._def,checks:[...this._def.checks,m]})}positive(m){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(m)})}negative(m){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(m)})}nonpositive(m){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(m)})}nonnegative(m){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(m)})}multipleOf(m,g){return this._addCheck({kind:"multipleOf",value:m,message:errorUtil.toString(g)})}get minValue(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxValue(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}}ZodBigInt.create=d=>{var m;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(m=d==null?void 0:d.coerce)!==null&&m!==void 0&&m,...processCreateParams(d)})};class ZodBoolean extends ZodType{_parse(m){if(this._def.coerce&&(m.data=!!m.data),this._getType(m)!==ZodParsedType.boolean){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:g.parsedType}),INVALID}return OK(m.data)}}ZodBoolean.create=d=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(d==null?void 0:d.coerce)||!1,...processCreateParams(d)});class ZodDate extends ZodType{_parse(m){if(this._def.coerce&&(m.data=new Date(m.data)),this._getType(m)!==ZodParsedType.date){const D=this._getOrReturnCtx(m);return addIssueToContext(D,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:D.parsedType}),INVALID}if(isNaN(m.data.getTime()))return addIssueToContext(this._getOrReturnCtx(m),{code:ZodIssueCode.invalid_date}),INVALID;const g=new ParseStatus;let w;for(const D of this._def.checks)D.kind==="min"?m.data.getTime()<D.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_small,message:D.message,inclusive:!0,exact:!1,minimum:D.value,type:"date"}),g.dirty()):D.kind==="max"?m.data.getTime()>D.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_big,message:D.message,inclusive:!0,exact:!1,maximum:D.value,type:"date"}),g.dirty()):util$1.assertNever(D);return{status:g.value,value:new Date(m.data.getTime())}}_addCheck(m){return new ZodDate({...this._def,checks:[...this._def.checks,m]})}min(m,g){return this._addCheck({kind:"min",value:m.getTime(),message:errorUtil.toString(g)})}max(m,g){return this._addCheck({kind:"max",value:m.getTime(),message:errorUtil.toString(g)})}get minDate(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m!=null?new Date(m):null}get maxDate(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m!=null?new Date(m):null}}ZodDate.create=d=>new ZodDate({checks:[],coerce:(d==null?void 0:d.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(d)});class ZodSymbol extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.symbol){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:g.parsedType}),INVALID}return OK(m.data)}}ZodSymbol.create=d=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(d)});class ZodUndefined extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.undefined){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:g.parsedType}),INVALID}return OK(m.data)}}ZodUndefined.create=d=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(d)});class ZodNull extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.null){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:g.parsedType}),INVALID}return OK(m.data)}}ZodNull.create=d=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(d)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(m){return OK(m.data)}}ZodAny.create=d=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(d)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(m){return OK(m.data)}}ZodUnknown.create=d=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(d)});class ZodNever extends ZodType{_parse(m){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:g.parsedType}),INVALID}}ZodNever.create=d=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(d)});class ZodVoid extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.undefined){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:g.parsedType}),INVALID}return OK(m.data)}}ZodVoid.create=d=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(d)});class ZodArray extends ZodType{_parse(m){const{ctx:g,status:w}=this._processInputParams(m),D=this._def;if(g.parsedType!==ZodParsedType.array)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:g.parsedType}),INVALID;if(D.exactLength!==null){const q=g.data.length>D.exactLength.value,te=g.data.length<D.exactLength.value;(q||te)&&(addIssueToContext(g,{code:q?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:te?D.exactLength.value:void 0,maximum:q?D.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:D.exactLength.message}),w.dirty())}if(D.minLength!==null&&g.data.length<D.minLength.value&&(addIssueToContext(g,{code:ZodIssueCode.too_small,minimum:D.minLength.value,type:"array",inclusive:!0,exact:!1,message:D.minLength.message}),w.dirty()),D.maxLength!==null&&g.data.length>D.maxLength.value&&(addIssueToContext(g,{code:ZodIssueCode.too_big,maximum:D.maxLength.value,type:"array",inclusive:!0,exact:!1,message:D.maxLength.message}),w.dirty()),g.common.async)return Promise.all([...g.data].map((q,te)=>D.type._parseAsync(new ParseInputLazyPath(g,q,g.path,te)))).then(q=>ParseStatus.mergeArray(w,q));const H=[...g.data].map((q,te)=>D.type._parseSync(new ParseInputLazyPath(g,q,g.path,te)));return ParseStatus.mergeArray(w,H)}get element(){return this._def.type}min(m,g){return new ZodArray({...this._def,minLength:{value:m,message:errorUtil.toString(g)}})}max(m,g){return new ZodArray({...this._def,maxLength:{value:m,message:errorUtil.toString(g)}})}length(m,g){return new ZodArray({...this._def,exactLength:{value:m,message:errorUtil.toString(g)}})}nonempty(m){return this.min(1,m)}}function deepPartialify(d){if(d instanceof ZodObject){const m={};for(const g in d.shape){const w=d.shape[g];m[g]=ZodOptional.create(deepPartialify(w))}return new ZodObject({...d._def,shape:()=>m})}return d instanceof ZodArray?new ZodArray({...d._def,type:deepPartialify(d.element)}):d instanceof ZodOptional?ZodOptional.create(deepPartialify(d.unwrap())):d instanceof ZodNullable?ZodNullable.create(deepPartialify(d.unwrap())):d instanceof ZodTuple?ZodTuple.create(d.items.map(m=>deepPartialify(m))):d}ZodArray.create=(d,m)=>new ZodArray({type:d,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(m)});class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const m=this._def.shape(),g=util$1.objectKeys(m);return this._cached={shape:m,keys:g}}_parse(m){if(this._getType(m)!==ZodParsedType.object){const re=this._getOrReturnCtx(m);return addIssueToContext(re,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:re.parsedType}),INVALID}const{status:g,ctx:w}=this._processInputParams(m),{shape:D,keys:H}=this._getCached(),q=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const re in w.data)H.includes(re)||q.push(re);const te=[];for(const re of H){const ne=D[re],ie=w.data[re];te.push({key:{status:"valid",value:re},value:ne._parse(new ParseInputLazyPath(w,ie,w.path,re)),alwaysSet:re in w.data})}if(this._def.catchall instanceof ZodNever){const re=this._def.unknownKeys;if(re==="passthrough")for(const ne of q)te.push({key:{status:"valid",value:ne},value:{status:"valid",value:w.data[ne]}});else if(re==="strict")q.length>0&&(addIssueToContext(w,{code:ZodIssueCode.unrecognized_keys,keys:q}),g.dirty());else if(re!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const re=this._def.catchall;for(const ne of q){const ie=w.data[ne];te.push({key:{status:"valid",value:ne},value:re._parse(new ParseInputLazyPath(w,ie,w.path,ne)),alwaysSet:ne in w.data})}}return w.common.async?Promise.resolve().then(async()=>{const re=[];for(const ne of te){const ie=await ne.key,ae=await ne.value;re.push({key:ie,value:ae,alwaysSet:ne.alwaysSet})}return re}).then(re=>ParseStatus.mergeObjectSync(g,re)):ParseStatus.mergeObjectSync(g,te)}get shape(){return this._def.shape()}strict(m){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...m!==void 0?{errorMap:(g,w)=>{var D,H,q,te;const re=(q=(H=(D=this._def).errorMap)===null||H===void 0?void 0:H.call(D,g,w).message)!==null&&q!==void 0?q:w.defaultError;return g.code==="unrecognized_keys"?{message:(te=errorUtil.errToObj(m).message)!==null&&te!==void 0?te:re}:{message:re}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(m){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...m})})}merge(m){return new ZodObject({unknownKeys:m._def.unknownKeys,catchall:m._def.catchall,shape:()=>({...this._def.shape(),...m._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(m,g){return this.augment({[m]:g})}catchall(m){return new ZodObject({...this._def,catchall:m})}pick(m){const g={};return util$1.objectKeys(m).forEach(w=>{m[w]&&this.shape[w]&&(g[w]=this.shape[w])}),new ZodObject({...this._def,shape:()=>g})}omit(m){const g={};return util$1.objectKeys(this.shape).forEach(w=>{m[w]||(g[w]=this.shape[w])}),new ZodObject({...this._def,shape:()=>g})}deepPartial(){return deepPartialify(this)}partial(m){const g={};return util$1.objectKeys(this.shape).forEach(w=>{const D=this.shape[w];m&&!m[w]?g[w]=D:g[w]=D.optional()}),new ZodObject({...this._def,shape:()=>g})}required(m){const g={};return util$1.objectKeys(this.shape).forEach(w=>{if(m&&!m[w])g[w]=this.shape[w];else{let D=this.shape[w];for(;D instanceof ZodOptional;)D=D._def.innerType;g[w]=D}}),new ZodObject({...this._def,shape:()=>g})}keyof(){return createZodEnum(util$1.objectKeys(this.shape))}}ZodObject.create=(d,m)=>new ZodObject({shape:()=>d,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)}),ZodObject.strictCreate=(d,m)=>new ZodObject({shape:()=>d,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)}),ZodObject.lazycreate=(d,m)=>new ZodObject({shape:d,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)});class ZodUnion extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w=this._def.options;if(g.common.async)return Promise.all(w.map(async D=>{const H={...g,common:{...g.common,issues:[]},parent:null};return{result:await D._parseAsync({data:g.data,path:g.path,parent:H}),ctx:H}})).then(function(D){for(const q of D)if(q.result.status==="valid")return q.result;for(const q of D)if(q.result.status==="dirty")return g.common.issues.push(...q.ctx.common.issues),q.result;const H=D.map(q=>new ZodError(q.ctx.common.issues));return addIssueToContext(g,{code:ZodIssueCode.invalid_union,unionErrors:H}),INVALID});{let D;const H=[];for(const te of w){const re={...g,common:{...g.common,issues:[]},parent:null},ne=te._parseSync({data:g.data,path:g.path,parent:re});if(ne.status==="valid")return ne;ne.status!=="dirty"||D||(D={result:ne,ctx:re}),re.common.issues.length&&H.push(re.common.issues)}if(D)return g.common.issues.push(...D.ctx.common.issues),D.result;const q=H.map(te=>new ZodError(te));return addIssueToContext(g,{code:ZodIssueCode.invalid_union,unionErrors:q}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(d,m)=>new ZodUnion({options:d,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(m)});const getDiscriminator=d=>d instanceof ZodLazy?getDiscriminator(d.schema):d instanceof ZodEffects?getDiscriminator(d.innerType()):d instanceof ZodLiteral?[d.value]:d instanceof ZodEnum?d.options:d instanceof ZodNativeEnum?util$1.objectValues(d.enum):d instanceof ZodDefault?getDiscriminator(d._def.innerType):d instanceof ZodUndefined?[void 0]:d instanceof ZodNull?[null]:d instanceof ZodOptional?[void 0,...getDiscriminator(d.unwrap())]:d instanceof ZodNullable?[null,...getDiscriminator(d.unwrap())]:d instanceof ZodBranded||d instanceof ZodReadonly?getDiscriminator(d.unwrap()):d instanceof ZodCatch?getDiscriminator(d._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.object)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:g.parsedType}),INVALID;const w=this.discriminator,D=g.data[w],H=this.optionsMap.get(D);return H?g.common.async?H._parseAsync({data:g.data,path:g.path,parent:g}):H._parseSync({data:g.data,path:g.path,parent:g}):(addIssueToContext(g,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[w]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(m,g,w){const D=new Map;for(const H of g){const q=getDiscriminator(H.shape[m]);if(!q.length)throw new Error(`A discriminator value for key \`${m}\` could not be extracted from all schema options`);for(const te of q){if(D.has(te))throw new Error(`Discriminator property ${String(m)} has duplicate value ${String(te)}`);D.set(te,H)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:m,options:g,optionsMap:D,...processCreateParams(w)})}}function mergeValues(d,m){const g=getParsedType(d),w=getParsedType(m);if(d===m)return{valid:!0,data:d};if(g===ZodParsedType.object&&w===ZodParsedType.object){const D=util$1.objectKeys(m),H=util$1.objectKeys(d).filter(te=>D.indexOf(te)!==-1),q={...d,...m};for(const te of H){const re=mergeValues(d[te],m[te]);if(!re.valid)return{valid:!1};q[te]=re.data}return{valid:!0,data:q}}if(g===ZodParsedType.array&&w===ZodParsedType.array){if(d.length!==m.length)return{valid:!1};const D=[];for(let H=0;H<d.length;H++){const q=mergeValues(d[H],m[H]);if(!q.valid)return{valid:!1};D.push(q.data)}return{valid:!0,data:D}}return g===ZodParsedType.date&&w===ZodParsedType.date&&+d==+m?{valid:!0,data:d}:{valid:!1}}class ZodIntersection extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m),D=(H,q)=>{if(isAborted(H)||isAborted(q))return INVALID;const te=mergeValues(H.value,q.value);return te.valid?((isDirty(H)||isDirty(q))&&g.dirty(),{status:g.value,value:te.data}):(addIssueToContext(w,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return w.common.async?Promise.all([this._def.left._parseAsync({data:w.data,path:w.path,parent:w}),this._def.right._parseAsync({data:w.data,path:w.path,parent:w})]).then(([H,q])=>D(H,q)):D(this._def.left._parseSync({data:w.data,path:w.path,parent:w}),this._def.right._parseSync({data:w.data,path:w.path,parent:w}))}}ZodIntersection.create=(d,m,g)=>new ZodIntersection({left:d,right:m,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(g)});class ZodTuple extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.array)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:w.parsedType}),INVALID;if(w.data.length<this._def.items.length)return addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&w.data.length>this._def.items.length&&(addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),g.dirty());const D=[...w.data].map((H,q)=>{const te=this._def.items[q]||this._def.rest;return te?te._parse(new ParseInputLazyPath(w,H,w.path,q)):null}).filter(H=>!!H);return w.common.async?Promise.all(D).then(H=>ParseStatus.mergeArray(g,H)):ParseStatus.mergeArray(g,D)}get items(){return this._def.items}rest(m){return new ZodTuple({...this._def,rest:m})}}ZodTuple.create=(d,m)=>{if(!Array.isArray(d))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:d,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(m)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.object)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:w.parsedType}),INVALID;const D=[],H=this._def.keyType,q=this._def.valueType;for(const te in w.data)D.push({key:H._parse(new ParseInputLazyPath(w,te,w.path,te)),value:q._parse(new ParseInputLazyPath(w,w.data[te],w.path,te)),alwaysSet:te in w.data});return w.common.async?ParseStatus.mergeObjectAsync(g,D):ParseStatus.mergeObjectSync(g,D)}get element(){return this._def.valueType}static create(m,g,w){return new ZodRecord(g instanceof ZodType?{keyType:m,valueType:g,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(w)}:{keyType:ZodString.create(),valueType:m,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(g)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.map)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:w.parsedType}),INVALID;const D=this._def.keyType,H=this._def.valueType,q=[...w.data.entries()].map(([te,re],ne)=>({key:D._parse(new ParseInputLazyPath(w,te,w.path,[ne,"key"])),value:H._parse(new ParseInputLazyPath(w,re,w.path,[ne,"value"]))}));if(w.common.async){const te=new Map;return Promise.resolve().then(async()=>{for(const re of q){const ne=await re.key,ie=await re.value;if(ne.status==="aborted"||ie.status==="aborted")return INVALID;ne.status!=="dirty"&&ie.status!=="dirty"||g.dirty(),te.set(ne.value,ie.value)}return{status:g.value,value:te}})}{const te=new Map;for(const re of q){const ne=re.key,ie=re.value;if(ne.status==="aborted"||ie.status==="aborted")return INVALID;ne.status!=="dirty"&&ie.status!=="dirty"||g.dirty(),te.set(ne.value,ie.value)}return{status:g.value,value:te}}}}ZodMap.create=(d,m,g)=>new ZodMap({valueType:m,keyType:d,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(g)});class ZodSet extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.set)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:w.parsedType}),INVALID;const D=this._def;D.minSize!==null&&w.data.size<D.minSize.value&&(addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:D.minSize.value,type:"set",inclusive:!0,exact:!1,message:D.minSize.message}),g.dirty()),D.maxSize!==null&&w.data.size>D.maxSize.value&&(addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:D.maxSize.value,type:"set",inclusive:!0,exact:!1,message:D.maxSize.message}),g.dirty());const H=this._def.valueType;function q(re){const ne=new Set;for(const ie of re){if(ie.status==="aborted")return INVALID;ie.status==="dirty"&&g.dirty(),ne.add(ie.value)}return{status:g.value,value:ne}}const te=[...w.data.values()].map((re,ne)=>H._parse(new ParseInputLazyPath(w,re,w.path,ne)));return w.common.async?Promise.all(te).then(re=>q(re)):q(te)}min(m,g){return new ZodSet({...this._def,minSize:{value:m,message:errorUtil.toString(g)}})}max(m,g){return new ZodSet({...this._def,maxSize:{value:m,message:errorUtil.toString(g)}})}size(m,g){return this.min(m,g).max(m,g)}nonempty(m){return this.min(1,m)}}ZodSet.create=(d,m)=>new ZodSet({valueType:d,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(m)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.function)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:g.parsedType}),INVALID;function w(te,re){return makeIssue({data:te,path:g.path,errorMaps:[g.common.contextualErrorMap,g.schemaErrorMap,getErrorMap(),errorMap].filter(ne=>!!ne),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:re}})}function D(te,re){return makeIssue({data:te,path:g.path,errorMaps:[g.common.contextualErrorMap,g.schemaErrorMap,getErrorMap(),errorMap].filter(ne=>!!ne),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:re}})}const H={errorMap:g.common.contextualErrorMap},q=g.data;if(this._def.returns instanceof ZodPromise){const te=this;return OK(async function(...re){const ne=new ZodError([]),ie=await te._def.args.parseAsync(re,H).catch(le=>{throw ne.addIssue(w(re,le)),ne}),ae=await Reflect.apply(q,this,ie);return await te._def.returns._def.type.parseAsync(ae,H).catch(le=>{throw ne.addIssue(D(ae,le)),ne})})}{const te=this;return OK(function(...re){const ne=te._def.args.safeParse(re,H);if(!ne.success)throw new ZodError([w(re,ne.error)]);const ie=Reflect.apply(q,this,ne.data),ae=te._def.returns.safeParse(ie,H);if(!ae.success)throw new ZodError([D(ie,ae.error)]);return ae.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...m){return new ZodFunction({...this._def,args:ZodTuple.create(m).rest(ZodUnknown.create())})}returns(m){return new ZodFunction({...this._def,returns:m})}implement(m){return this.parse(m)}strictImplement(m){return this.parse(m)}static create(m,g,w){return new ZodFunction({args:m||ZodTuple.create([]).rest(ZodUnknown.create()),returns:g||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(w)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(m){const{ctx:g}=this._processInputParams(m);return this._def.getter()._parse({data:g.data,path:g.path,parent:g})}}ZodLazy.create=(d,m)=>new ZodLazy({getter:d,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(m)});class ZodLiteral extends ZodType{_parse(m){if(m.data!==this._def.value){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{received:g.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:m.data}}get value(){return this._def.value}}function createZodEnum(d,m){return new ZodEnum({values:d,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(m)})}ZodLiteral.create=(d,m)=>new ZodLiteral({value:d,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(m)});class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(m){if(typeof m.data!="string"){const g=this._getOrReturnCtx(m),w=this._def.values;return addIssueToContext(g,{expected:util$1.joinValues(w),received:g.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodEnum_cache)||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet(this,_ZodEnum_cache).has(m.data)){const g=this._getOrReturnCtx(m),w=this._def.values;return addIssueToContext(g,{received:g.data,code:ZodIssueCode.invalid_enum_value,options:w}),INVALID}return OK(m.data)}get options(){return this._def.values}get enum(){const m={};for(const g of this._def.values)m[g]=g;return m}get Values(){const m={};for(const g of this._def.values)m[g]=g;return m}get Enum(){const m={};for(const g of this._def.values)m[g]=g;return m}extract(m,g=this._def){return ZodEnum.create(m,{...this._def,...g})}exclude(m,g=this._def){return ZodEnum.create(this.options.filter(w=>!m.includes(w)),{...this._def,...g})}}_ZodEnum_cache=new WeakMap,ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(m){const g=util$1.getValidEnumValues(this._def.values),w=this._getOrReturnCtx(m);if(w.parsedType!==ZodParsedType.string&&w.parsedType!==ZodParsedType.number){const D=util$1.objectValues(g);return addIssueToContext(w,{expected:util$1.joinValues(D),received:w.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache)||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util$1.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_ZodNativeEnum_cache).has(m.data)){const D=util$1.objectValues(g);return addIssueToContext(w,{received:w.data,code:ZodIssueCode.invalid_enum_value,options:D}),INVALID}return OK(m.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap,ZodNativeEnum.create=(d,m)=>new ZodNativeEnum({values:d,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(m)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.promise&&g.common.async===!1)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:g.parsedType}),INVALID;const w=g.parsedType===ZodParsedType.promise?g.data:Promise.resolve(g.data);return OK(w.then(D=>this._def.type.parseAsync(D,{path:g.path,errorMap:g.common.contextualErrorMap})))}}ZodPromise.create=(d,m)=>new ZodPromise({type:d,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(m)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(m){const{status:g,ctx:w}=this._processInputParams(m),D=this._def.effect||null,H={addIssue:q=>{addIssueToContext(w,q),q.fatal?g.abort():g.dirty()},get path(){return w.path}};if(H.addIssue=H.addIssue.bind(H),D.type==="preprocess"){const q=D.transform(w.data,H);if(w.common.async)return Promise.resolve(q).then(async te=>{if(g.value==="aborted")return INVALID;const re=await this._def.schema._parseAsync({data:te,path:w.path,parent:w});return re.status==="aborted"?INVALID:re.status==="dirty"||g.value==="dirty"?DIRTY(re.value):re});{if(g.value==="aborted")return INVALID;const te=this._def.schema._parseSync({data:q,path:w.path,parent:w});return te.status==="aborted"?INVALID:te.status==="dirty"||g.value==="dirty"?DIRTY(te.value):te}}if(D.type==="refinement"){const q=te=>{const re=D.refinement(te,H);if(w.common.async)return Promise.resolve(re);if(re instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return te};if(w.common.async===!1){const te=this._def.schema._parseSync({data:w.data,path:w.path,parent:w});return te.status==="aborted"?INVALID:(te.status==="dirty"&&g.dirty(),q(te.value),{status:g.value,value:te.value})}return this._def.schema._parseAsync({data:w.data,path:w.path,parent:w}).then(te=>te.status==="aborted"?INVALID:(te.status==="dirty"&&g.dirty(),q(te.value).then(()=>({status:g.value,value:te.value}))))}if(D.type==="transform"){if(w.common.async===!1){const q=this._def.schema._parseSync({data:w.data,path:w.path,parent:w});if(!isValid(q))return q;const te=D.transform(q.value,H);if(te instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:g.value,value:te}}return this._def.schema._parseAsync({data:w.data,path:w.path,parent:w}).then(q=>isValid(q)?Promise.resolve(D.transform(q.value,H)).then(te=>({status:g.value,value:te})):q)}util$1.assertNever(D)}}ZodEffects.create=(d,m,g)=>new ZodEffects({schema:d,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:m,...processCreateParams(g)}),ZodEffects.createWithPreprocess=(d,m,g)=>new ZodEffects({schema:m,effect:{type:"preprocess",transform:d},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(g)});class ZodOptional extends ZodType{_parse(m){return this._getType(m)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(m)}unwrap(){return this._def.innerType}}ZodOptional.create=(d,m)=>new ZodOptional({innerType:d,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(m)});class ZodNullable extends ZodType{_parse(m){return this._getType(m)===ZodParsedType.null?OK(null):this._def.innerType._parse(m)}unwrap(){return this._def.innerType}}ZodNullable.create=(d,m)=>new ZodNullable({innerType:d,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(m)});class ZodDefault extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m);let w=g.data;return g.parsedType===ZodParsedType.undefined&&(w=this._def.defaultValue()),this._def.innerType._parse({data:w,path:g.path,parent:g})}removeDefault(){return this._def.innerType}}ZodDefault.create=(d,m)=>new ZodDefault({innerType:d,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof m.default=="function"?m.default:()=>m.default,...processCreateParams(m)});class ZodCatch extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w={...g,common:{...g.common,issues:[]}},D=this._def.innerType._parse({data:w.data,path:w.path,parent:{...w}});return isAsync(D)?D.then(H=>({status:"valid",value:H.status==="valid"?H.value:this._def.catchValue({get error(){return new ZodError(w.common.issues)},input:w.data})})):{status:"valid",value:D.status==="valid"?D.value:this._def.catchValue({get error(){return new ZodError(w.common.issues)},input:w.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(d,m)=>new ZodCatch({innerType:d,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof m.catch=="function"?m.catch:()=>m.catch,...processCreateParams(m)});class ZodNaN extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.nan){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:g.parsedType}),INVALID}return{status:"valid",value:m.data}}}ZodNaN.create=d=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(d)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w=g.data;return this._def.type._parse({data:w,path:g.path,parent:g})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.common.async)return(async()=>{const D=await this._def.in._parseAsync({data:w.data,path:w.path,parent:w});return D.status==="aborted"?INVALID:D.status==="dirty"?(g.dirty(),DIRTY(D.value)):this._def.out._parseAsync({data:D.value,path:w.path,parent:w})})();{const D=this._def.in._parseSync({data:w.data,path:w.path,parent:w});return D.status==="aborted"?INVALID:D.status==="dirty"?(g.dirty(),{status:"dirty",value:D.value}):this._def.out._parseSync({data:D.value,path:w.path,parent:w})}}static create(m,g){return new ZodPipeline({in:m,out:g,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(m){const g=this._def.innerType._parse(m),w=D=>(isValid(D)&&(D.value=Object.freeze(D.value)),D);return isAsync(g)?g.then(D=>w(D)):w(g)}unwrap(){return this._def.innerType}}function custom(d,m={},g){return d?ZodAny.create().superRefine((w,D)=>{var H,q;if(!d(w)){const te=typeof m=="function"?m(w):typeof m=="string"?{message:m}:m,re=(q=(H=te.fatal)!==null&&H!==void 0?H:g)===null||q===void 0||q,ne=typeof te=="string"?{message:te}:te;D.addIssue({code:"custom",...ne,fatal:re})}}):ZodAny.create()}ZodReadonly.create=(d,m)=>new ZodReadonly({innerType:d,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(m)});const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(d){d.ZodString="ZodString",d.ZodNumber="ZodNumber",d.ZodNaN="ZodNaN",d.ZodBigInt="ZodBigInt",d.ZodBoolean="ZodBoolean",d.ZodDate="ZodDate",d.ZodSymbol="ZodSymbol",d.ZodUndefined="ZodUndefined",d.ZodNull="ZodNull",d.ZodAny="ZodAny",d.ZodUnknown="ZodUnknown",d.ZodNever="ZodNever",d.ZodVoid="ZodVoid",d.ZodArray="ZodArray",d.ZodObject="ZodObject",d.ZodUnion="ZodUnion",d.ZodDiscriminatedUnion="ZodDiscriminatedUnion",d.ZodIntersection="ZodIntersection",d.ZodTuple="ZodTuple",d.ZodRecord="ZodRecord",d.ZodMap="ZodMap",d.ZodSet="ZodSet",d.ZodFunction="ZodFunction",d.ZodLazy="ZodLazy",d.ZodLiteral="ZodLiteral",d.ZodEnum="ZodEnum",d.ZodEffects="ZodEffects",d.ZodNativeEnum="ZodNativeEnum",d.ZodOptional="ZodOptional",d.ZodNullable="ZodNullable",d.ZodDefault="ZodDefault",d.ZodCatch="ZodCatch",d.ZodPromise="ZodPromise",d.ZodBranded="ZodBranded",d.ZodPipeline="ZodPipeline",d.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(d,m={message:`Input not instance of ${d.name}`})=>custom(g=>g instanceof d,m),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:d=>ZodString.create({...d,coerce:!0}),number:d=>ZodNumber.create({...d,coerce:!0}),boolean:d=>ZodBoolean.create({...d,coerce:!0}),bigint:d=>ZodBigInt.create({...d,coerce:!0}),date:d=>ZodDate.create({...d,coerce:!0})},NEVER=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util$1},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError}),Edge,Edge2;Edge2=Edge||(Edge={}),Edge2[Edge2.EXTEND=1]="EXTEND",Edge2[Edge2.WRAP=2]="WRAP",Edge2[Edge2.CROP=3]="CROP";const JimpClassSchema=z.object({bitmap:z.object({data:z.union([z.instanceof(Buffer),z.instanceof(Uint8Array)]),width:z.number(),height:z.number()})}),BlitOptionsSchemaComplex=z.object({src:JimpClassSchema,x:z.number().optional(),y:z.number().optional(),srcX:z.number().optional(),srcY:z.number().optional(),srcW:z.number().optional(),srcH:z.number().optional()}),BlitOptionsSchema=z.union([JimpClassSchema,BlitOptionsSchemaComplex]),methods$h={blit(d,m){const g=BlitOptionsSchema.parse(m);let{src:w,x:D=0,y:H=0,srcX:q=0,srcY:te=0,srcW:re=w.bitmap.width,srcH:ne=w.bitmap.height}="bitmap"in g?{src:g}:g;if(!("bitmap"in w))throw new Error("The source must be a Jimp image");if(typeof D!="number"||typeof H!="number")throw new Error("x and y must be numbers");D=Math.round(D),H=Math.round(H),q=Math.round(q),te=Math.round(te),re=Math.round(re),ne=Math.round(ne);const ie=d.bitmap.width,ae=d.bitmap.height;return scan(w,q,te,re,ne,function(se,le,ue){const fe=D+se-q,de=H+le-te;if(fe>=0&&de>=0&&ie-fe>0&&ae-de>0){const me=d.getPixelIndex(fe,de),ge={r:w.bitmap.data[ue]||0,g:w.bitmap.data[ue+1]||0,b:w.bitmap.data[ue+2]||0,a:w.bitmap.data[ue+3]||0},he={r:d.bitmap.data[me]||0,g:d.bitmap.data[me+1]||0,b:d.bitmap.data[me+2]||0,a:d.bitmap.data[me+3]||0};d.bitmap.data[me]=(ge.a*(ge.r-he.r)-he.r+255>>8)+he.r,d.bitmap.data[me+1]=(ge.a*(ge.g-he.g)-he.g+255>>8)+he.g,d.bitmap.data[me+2]=(ge.a*(ge.b-he.b)-he.b+255>>8)+he.b,d.bitmap.data[me+3]=limit255(he.a+ge.a)}}),d}},mulTable=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],shgTable=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18],methods$g={blur(d,m){if(typeof m!="number")throw new Error("r must be a number");if(m<1)throw new Error("r must be greater than 0");let g,w,D,H,q,te,re,ne,ie,ae,se,le,ue;const fe=d.bitmap.width-1,de=d.bitmap.height-1,me=m+1,ge=mulTable[m],he=shgTable[m],pe=[],ve=[],ke=[],be=[],Se=[],Ee=[];let Ie=2;for(;Ie-- >0;){for(le=0,ue=0,te=0;te<d.bitmap.height;te++){for(g=d.bitmap.data[ue]*me,w=d.bitmap.data[ue+1]*me,D=d.bitmap.data[ue+2]*me,H=d.bitmap.data[ue+3]*me,re=1;re<=m;re++)ne=ue+((re>fe?fe:re)<<2),g+=d.bitmap.data[ne++],w+=d.bitmap.data[ne++],D+=d.bitmap.data[ne++],H+=d.bitmap.data[ne];for(q=0;q<d.bitmap.width;q++)pe[le]=g,ve[le]=w,ke[le]=D,be[le]=H,te===0&&(Se[q]=((ne=q+me)<fe?ne:fe)<<2,Ee[q]=(ne=q-m)>0?ne<<2:0),ie=ue+Se[q],ae=ue+Ee[q],g+=d.bitmap.data[ie++]-d.bitmap.data[ae++],w+=d.bitmap.data[ie++]-d.bitmap.data[ae++],D+=d.bitmap.data[ie++]-d.bitmap.data[ae++],H+=d.bitmap.data[ie]-d.bitmap.data[ae++],le++;ue+=d.bitmap.width<<2}for(q=0;q<d.bitmap.width;q++){for(se=q,g=pe[se]*me,w=ve[se]*me,D=ke[se]*me,H=be[se]*me,re=1;re<=m;re++)se+=re>de?0:d.bitmap.width,g+=pe[se],w+=ve[se],D+=ke[se],H+=be[se];for(le=q<<2,te=0;te<d.bitmap.height;te++)d.bitmap.data[le]=limit255(g*ge>>>he),d.bitmap.data[le+1]=limit255(w*ge>>>he),d.bitmap.data[le+2]=limit255(D*ge>>>he),d.bitmap.data[le+3]=limit255(H*ge>>>he),q===0&&(Se[te]=((ne=te+me)<de?ne:de)*d.bitmap.width,Ee[te]=(ne=te-m)>0?ne*d.bitmap.width:0),ie=q+Se[te],ae=q+Ee[te],g+=pe[ie]-pe[ae],w+=ve[ie]-ve[ae],D+=ke[ie]-ke[ae],H+=be[ie]-be[ae],le+=d.bitmap.width<<2}}return d},gaussian(d,m){if(typeof m!="number")throw new Error("r must be a number");if(m<1)throw new Error("r must be greater than 0");const g=Math.ceil(2.57*m),w=2*g+1,D=m*m*2,H=D*Math.PI,q=[];for(let te=0;te<w;te++){const re=[];for(let ne=0;ne<w;ne++){const ie=(ne-g)**2+(te-g)**2;re[ne]=Math.exp(-ie/D)/H}q.push(re)}for(let te=0;te<d.bitmap.height;te++)for(let re=0;re<d.bitmap.width;re++){let ne=0,ie=0,ae=0,se=0,le=0;for(let ue=0;ue<w;ue++){for(let de=0;de<w;de++){const me=Math.min(d.bitmap.width-1,Math.max(0,de+re-g)),ge=Math.min(d.bitmap.height-1,Math.max(0,ue+te-g)),he=q[ue][de],pe=ge*d.bitmap.width+me<<2;ne+=d.bitmap.data[pe]*he,ie+=d.bitmap.data[pe+1]*he,ae+=d.bitmap.data[pe+2]*he,se+=d.bitmap.data[pe+3]*he,le+=he}const fe=te*d.bitmap.width+re<<2;d.bitmap.data[fe]=Math.round(ne/le),d.bitmap.data[fe+1]=Math.round(ie/le),d.bitmap.data[fe+2]=Math.round(ae/le),d.bitmap.data[fe+3]=Math.round(se/le)}}return d}},CircleOptionsSchema=z.object({x:z.number().optional(),y:z.number().optional(),radius:z.number().min(0).optional()}),methods$f={circle(d,m={}){const g=CircleOptionsSchema.parse(m),w=g.radius||(d.bitmap.width>d.bitmap.height?d.bitmap.height:d.bitmap.width)/2,D=typeof g.x=="number"?g.x:d.bitmap.width/2,H=typeof g.y=="number"?g.y:d.bitmap.height/2;return d.scan((q,te,re)=>{const ne=Math.sqrt(Math.pow(q-D,2)+Math.pow(te-H,2));w-ne<=0?d.bitmap.data[re+3]=0:w-ne<1&&(d.bitmap.data[re+3]=255*(w-ne))}),d}},ConvolutionMatrixSchema=z.array(z.number()).min(1).array(),ConvolutionComplexOptionsSchema=z.object({kernel:ConvolutionMatrixSchema,edgeHandling:z.nativeEnum(Edge).optional()}),ConvolutionOptionsSchema=z.union([ConvolutionMatrixSchema,ConvolutionComplexOptionsSchema]),ConvoluteComplexOptionsSchema=z.object({kernel:ConvolutionMatrixSchema,x:z.number().optional(),y:z.number().optional(),w:z.number().optional(),h:z.number().optional()}),ConvoluteOptionsSchema=z.union([ConvolutionMatrixSchema,ConvoluteComplexOptionsSchema]),PixelateSize=z.number().min(1).max(1/0),PixelateComplexOptionsSchema=z.object({size:PixelateSize,x:z.number().optional(),y:z.number().optional(),w:z.number().optional(),h:z.number().optional()}),PixelateOptionsSchema=z.union([PixelateSize,PixelateComplexOptionsSchema]);function applyKernel(d,m,g,w){const D=[0,0,0,0],H=(m.length-1)/2;for(let q=0;q<m.length;q+=1)for(let te=0;te<m[q].length;te+=1){const re=d.getPixelIndex(g+q-H,w+te-H);D[0]+=d.bitmap.data[re]*m[q][te],D[1]+=d.bitmap.data[re+1]*m[q][te],D[2]+=d.bitmap.data[re+2]*m[q][te],D[3]+=d.bitmap.data[re+3]*m[q][te]}return D}function mix(d,m,g=50){return{r:(m.r-d.r)*(g/100)+d.r,g:(m.g-d.g)*(g/100)+d.g,b:(m.b-d.b)*(g/100)+d.b}}const HueActionSchema=z.object({apply:z.literal("hue"),params:z.tuple([z.number().min(-360).max(360)])}),SpinActionSchema=z.object({apply:z.literal("spin"),params:z.tuple([z.number().min(-360).max(360)])}),LightenActionSchema=z.object({apply:z.literal("lighten"),params:z.tuple([z.number().min(0).max(100)]).optional()}),RGBColorSchema=z.object({r:z.number().min(0).max(255),g:z.number().min(0).max(255),b:z.number().min(0).max(255)}),MixActionSchema=z.object({apply:z.literal("mix"),params:z.union([z.tuple([RGBColorSchema]),z.tuple([RGBColorSchema,z.number().min(0).max(100)])])}),TintActionSchema=z.object({apply:z.literal("tint"),params:z.tuple([z.number().min(0).max(100)]).optional()}),ShadeActionSchema=z.object({apply:z.literal("shade"),params:z.tuple([z.number().min(0).max(100)]).optional()}),XorActionSchema=z.object({apply:z.literal("xor"),params:z.tuple([RGBColorSchema])}),RedActionSchema=z.object({apply:z.literal("red"),params:z.tuple([z.number().min(-255).max(255)])}),GreenActionSchema=z.object({apply:z.literal("green"),params:z.tuple([z.number().min(-255).max(255)])}),BlueActionSchema=z.object({apply:z.literal("blue"),params:z.tuple([z.number().min(-255).max(255)])}),BrightenActionSchema=z.object({apply:z.literal("brighten"),params:z.tuple([z.number().min(0).max(100)]).optional()}),DarkenActionSchema=z.object({apply:z.literal("darken"),params:z.tuple([z.number().min(0).max(100)]).optional()}),DesaturateActionSchema=z.object({apply:z.literal("desaturate"),params:z.tuple([z.number().min(0).max(100)]).optional()}),SaturateActionSchema=z.object({apply:z.literal("saturate"),params:z.tuple([z.number().min(0).max(100)]).optional()}),GrayscaleActionSchema=z.object({apply:z.literal("greyscale"),params:z.tuple([]).optional()}),ColorActionNameSchema=z.union([HueActionSchema,SpinActionSchema,LightenActionSchema,MixActionSchema,TintActionSchema,ShadeActionSchema,XorActionSchema,RedActionSchema,GreenActionSchema,BlueActionSchema,BrightenActionSchema,DarkenActionSchema,DesaturateActionSchema,SaturateActionSchema,GrayscaleActionSchema]);function histogram(d){const m={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return d.scan((g,w,D)=>{m.r[d.bitmap.data[D+0]]++,m.g[d.bitmap.data[D+1]]++,m.b[d.bitmap.data[D+2]]++}),m}const normalizeValue=function(d,m,g){return 255*(d-m)/(g-m)},getBounds=function(d){return[d.findIndex(m=>m>0),255-d.slice().reverse().findIndex(m=>m>0)]},methods$e={normalize(d){const m=histogram(d),g={r:getBounds(m.r),g:getBounds(m.g),b:getBounds(m.b)};return d.scan((w,D,H)=>{const q=d.bitmap.data[H+0],te=d.bitmap.data[H+1],re=d.bitmap.data[H+2];d.bitmap.data[H+0]=normalizeValue(q,g.r[0],g.r[1]),d.bitmap.data[H+1]=normalizeValue(te,g.g[0],g.g[1]),d.bitmap.data[H+2]=normalizeValue(re,g.b[0],g.b[1])}),d},invert:d=>(d.scan((m,g,w)=>{d.bitmap.data[w]=255-d.bitmap.data[w],d.bitmap.data[w+1]=255-d.bitmap.data[w+1],d.bitmap.data[w+2]=255-d.bitmap.data[w+2]}),d),brightness(d,m){if(typeof m!="number")throw new Error("val must be numbers");return d.scan((g,w,D)=>{d.bitmap.data[D]=limit255(d.bitmap.data[D]*m),d.bitmap.data[D+1]=limit255(d.bitmap.data[D+1]*m),d.bitmap.data[D+2]=limit255(d.bitmap.data[D+2]*m)}),d},contrast(d,m){if(typeof m!="number")throw new Error("val must be numbers");if(m<-1||m>1)throw new Error("val must be a number between -1 and +1");const g=(m+1)/(1-m);function w(D){return(D=Math.floor(g*(D-127)+127))<0?0:D>255?255:D}return d.scan((D,H,q)=>{d.bitmap.data[q]=w(d.bitmap.data[q]),d.bitmap.data[q+1]=w(d.bitmap.data[q+1]),d.bitmap.data[q+2]=w(d.bitmap.data[q+2])}),d},posterize(d,m){if(typeof m!="number")throw new Error("n must be numbers");return m<2&&(m=2),d.scan((g,w,D)=>{const H=d.bitmap.data[D],q=d.bitmap.data[D+1],te=d.bitmap.data[D+2];d.bitmap.data[D]=Math.floor(H/255*(m-1))/(m-1)*255,d.bitmap.data[D+1]=Math.floor(q/255*(m-1))/(m-1)*255,d.bitmap.data[D+2]=Math.floor(te/255*(m-1))/(m-1)*255}),d},greyscale:d=>(d.scan((m,g,w)=>{const D=.2126*d.bitmap.data[w]+.7152*d.bitmap.data[w+1]+.0722*d.bitmap.data[w+2];d.bitmap.data[w]=D,d.bitmap.data[w+1]=D,d.bitmap.data[w+2]=D}),d),opacity(d,m){if(typeof m!="number")throw new Error("f must be a number");if(m<0||m>1)throw new Error("f must be a number from 0 to 1");return d.scan((g,w,D)=>{const H=d.bitmap.data[D+3]*m;d.bitmap.data[D+3]=H}),d},sepia:d=>(d.scan((m,g,w)=>{let D=d.bitmap.data[w],H=d.bitmap.data[w+1],q=d.bitmap.data[w+2];D=.393*D+.769*H+.189*q,H=.349*D+.686*H+.168*q,q=.272*D+.534*H+.131*q,d.bitmap.data[w]=D<255?D:255,d.bitmap.data[w+1]=H<255?H:255,d.bitmap.data[w+2]=q<255?q:255}),d),fade(d,m){if(typeof m!="number")throw new Error("f must be a number");if(m<0||m>1)throw new Error("f must be a number from 0 to 1");return this.opacity(d,1-m)},convolution(d,m){const g=ConvolutionOptionsSchema.parse(m),{kernel:w,edgeHandling:D=Edge.EXTEND}="kernel"in g?g:{kernel:g,edgeHandling:void 0};if(!w[0])throw new Error("kernel must be a matrix");const H=Buffer.from(d.bitmap.data),q=w.length,te=w[0].length,re=Math.floor(q/2),ne=Math.floor(te/2),ie=-re,ae=-ne;let se,le,ue,fe,de,me,ge,he,pe,ve;return d.scan((ke,be,Se)=>{fe=0,ue=0,le=0;for(let Ee=ie;Ee<=re;Ee++)for(let Ie=ae;Ie<=ne;Ie++)he=ke+Ie,pe=be+Ee,se=w[Ee+re][Ie+ne],ve=d.getPixelIndex(he,pe,D),ve===-1?(ge=0,me=0,de=0):(de=d.bitmap.data[ve+0],me=d.bitmap.data[ve+1],ge=d.bitmap.data[ve+2]),le+=se*de,ue+=se*me,fe+=se*ge;le<0&&(le=0),ue<0&&(ue=0),fe<0&&(fe=0),le>255&&(le=255),ue>255&&(ue=255),fe>255&&(fe=255),H[Se+0]=le,H[Se+1]=ue,H[Se+2]=fe}),d.bitmap.data=H,d},opaque:d=>(d.scan((m,g,w)=>{d.bitmap.data[w+3]=255}),d),pixelate(d,m){const g=PixelateOptionsSchema.parse(m),{size:w,x:D=0,y:H=0,w:q=d.bitmap.width-D,h:te=d.bitmap.height-H}=typeof g=="number"?{size:g}:g,re=[[1/16,2/16,1/16],[2/16,.25,2/16],[1/16,2/16,1/16]],ne=clone(d);return scan(ne,D,H,q,te,(ie,ae,se)=>{ie=w*Math.floor(ie/w),ae=w*Math.floor(ae/w);const le=applyKernel(ne,re,ie,ae);d.bitmap.data[se]=le[0],d.bitmap.data[se+1]=le[1],d.bitmap.data[se+2]=le[2],d.bitmap.data[se+3]=le[3]}),d},convolute(d,m){const g=ConvoluteOptionsSchema.parse(m),{kernel:w,x:D=0,y:H=0,w:q=d.bitmap.width-D,h:te=d.bitmap.height-H}="kernel"in g?g:{kernel:g},re=clone(d);return scan(re,D,H,q,te,(ne,ie,ae)=>{const se=applyKernel(re,w,ne,ie);d.bitmap.data[ae]=limit255(se[0]),d.bitmap.data[ae+1]=limit255(se[1]),d.bitmap.data[ae+2]=limit255(se[2]),d.bitmap.data[ae+3]=limit255(se[3])}),d},color(d,m){if(!m||!Array.isArray(m))throw new Error("actions must be an array");return m.forEach(g=>ColorActionNameSchema.parse(g)),m=m.map(g=>(g.apply!=="xor"&&g.apply!=="mix"||(g.params[0]=tinycolor(g.params[0]).toRgb()),g)),d.scan((g,w,D)=>{let H={r:d.bitmap.data[D],g:d.bitmap.data[D+1],b:d.bitmap.data[D+2]};const q=(te,re)=>limit255(H[te]+re);m.forEach(te=>{var re,ne;if(te.apply==="mix")H=mix(H,te.params[0],te.params[1]);else if(te.apply==="tint")H=mix(H,{r:255,g:255,b:255},(re=te.params)==null?void 0:re[0]);else if(te.apply==="shade")H=mix(H,{r:0,g:0,b:0},(ne=te.params)==null?void 0:ne[0]);else if(te.apply==="xor")H={r:H.r^te.params[0].r,g:H.g^te.params[0].g,b:H.b^te.params[0].b};else if(te.apply==="red")H.r=q("r",te.params[0]);else if(te.apply==="green")H.g=q("g",te.params[0]);else if(te.apply==="blue")H.b=q("b",te.params[0]);else{te.apply==="hue"&&(te.apply="spin");const ie=tinycolor(H),ae=ie[te.apply].bind(ie);if(!ae)throw new Error("action "+te.apply+" not supported");H=ae(...te.params||[]).toRgb()}}),d.bitmap.data[D]=H.r,d.bitmap.data[D+1]=H.g,d.bitmap.data[D+2]=H.b}),d}};var lib$1={},ieee754={read:function(d,m,g,w,D){var H,q,te=8*D-w-1,re=(1<<te)-1,ne=re>>1,ie=-7,ae=g?D-1:0,se=g?-1:1,le=d[m+ae];for(ae+=se,H=le&(1<<-ie)-1,le>>=-ie,ie+=te;ie>0;H=256*H+d[m+ae],ae+=se,ie-=8);for(q=H&(1<<-ie)-1,H>>=-ie,ie+=w;ie>0;q=256*q+d[m+ae],ae+=se,ie-=8);if(H===0)H=1-ne;else{if(H===re)return q?NaN:1/0*(le?-1:1);q+=Math.pow(2,w),H-=ne}return(le?-1:1)*q*Math.pow(2,H-w)},write:function(d,m,g,w,D,H){var q,te,re,ne=8*H-D-1,ie=(1<<ne)-1,ae=ie>>1,se=D===23?Math.pow(2,-24)-Math.pow(2,-77):0,le=w?0:H-1,ue=w?1:-1,fe=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(te=isNaN(m)?1:0,q=ie):(q=Math.floor(Math.log(m)/Math.LN2),m*(re=Math.pow(2,-q))<1&&(q--,re*=2),(m+=q+ae>=1?se/re:se*Math.pow(2,1-ae))*re>=2&&(q++,re/=2),q+ae>=ie?(te=0,q=ie):q+ae>=1?(te=(m*re-1)*Math.pow(2,D),q+=ae):(te=m*Math.pow(2,ae-1)*Math.pow(2,D),q=0));D>=8;d[g+le]=255&te,le+=ue,te/=256,D-=8);for(q=q<<D|te,ne+=D;ne>0;d[g+le]=255&q,le+=ue,q/=256,ne-=8);d[g+le-ue]|=128*fe}};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.AnsiStringType=d.StringType=d.BufferType=d.Uint8ArrayType=d.IgnoreType=d.Float80_LE=d.Float80_BE=d.Float64_LE=d.Float64_BE=d.Float32_LE=d.Float32_BE=d.Float16_LE=d.Float16_BE=d.INT64_BE=d.UINT64_BE=d.INT64_LE=d.UINT64_LE=d.INT32_LE=d.INT32_BE=d.INT24_BE=d.INT24_LE=d.INT16_LE=d.INT16_BE=d.INT8=d.UINT32_BE=d.UINT32_LE=d.UINT24_BE=d.UINT24_LE=d.UINT16_BE=d.UINT16_LE=d.UINT8=void 0;const m=ieee754;function g(D){return new DataView(D.buffer,D.byteOffset)}d.UINT8={len:1,get:(D,H)=>g(D).getUint8(H),put:(D,H,q)=>(g(D).setUint8(H,q),H+1)},d.UINT16_LE={len:2,get:(D,H)=>g(D).getUint16(H,!0),put:(D,H,q)=>(g(D).setUint16(H,q,!0),H+2)},d.UINT16_BE={len:2,get:(D,H)=>g(D).getUint16(H),put:(D,H,q)=>(g(D).setUint16(H,q),H+2)},d.UINT24_LE={len:3,get(D,H){const q=g(D);return q.getUint8(H)+(q.getUint16(H+1,!0)<<8)},put(D,H,q){const te=g(D);return te.setUint8(H,255&q),te.setUint16(H+1,q>>8,!0),H+3}},d.UINT24_BE={len:3,get(D,H){const q=g(D);return(q.getUint16(H)<<8)+q.getUint8(H+2)},put(D,H,q){const te=g(D);return te.setUint16(H,q>>8),te.setUint8(H+2,255&q),H+3}},d.UINT32_LE={len:4,get:(D,H)=>g(D).getUint32(H,!0),put:(D,H,q)=>(g(D).setUint32(H,q,!0),H+4)},d.UINT32_BE={len:4,get:(D,H)=>g(D).getUint32(H),put:(D,H,q)=>(g(D).setUint32(H,q),H+4)},d.INT8={len:1,get:(D,H)=>g(D).getInt8(H),put:(D,H,q)=>(g(D).setInt8(H,q),H+1)},d.INT16_BE={len:2,get:(D,H)=>g(D).getInt16(H),put:(D,H,q)=>(g(D).setInt16(H,q),H+2)},d.INT16_LE={len:2,get:(D,H)=>g(D).getInt16(H,!0),put:(D,H,q)=>(g(D).setInt16(H,q,!0),H+2)},d.INT24_LE={len:3,get(D,H){const q=d.UINT24_LE.get(D,H);return q>8388607?q-16777216:q},put(D,H,q){const te=g(D);return te.setUint8(H,255&q),te.setUint16(H+1,q>>8,!0),H+3}},d.INT24_BE={len:3,get(D,H){const q=d.UINT24_BE.get(D,H);return q>8388607?q-16777216:q},put(D,H,q){const te=g(D);return te.setUint16(H,q>>8),te.setUint8(H+2,255&q),H+3}},d.INT32_BE={len:4,get:(D,H)=>g(D).getInt32(H),put:(D,H,q)=>(g(D).setInt32(H,q),H+4)},d.INT32_LE={len:4,get:(D,H)=>g(D).getInt32(H,!0),put:(D,H,q)=>(g(D).setInt32(H,q,!0),H+4)},d.UINT64_LE={len:8,get:(D,H)=>g(D).getBigUint64(H,!0),put:(D,H,q)=>(g(D).setBigUint64(H,q,!0),H+8)},d.INT64_LE={len:8,get:(D,H)=>g(D).getBigInt64(H,!0),put:(D,H,q)=>(g(D).setBigInt64(H,q,!0),H+8)},d.UINT64_BE={len:8,get:(D,H)=>g(D).getBigUint64(H),put:(D,H,q)=>(g(D).setBigUint64(H,q),H+8)},d.INT64_BE={len:8,get:(D,H)=>g(D).getBigInt64(H),put:(D,H,q)=>(g(D).setBigInt64(H,q),H+8)},d.Float16_BE={len:2,get(D,H){return m.read(D,H,!1,10,this.len)},put(D,H,q){return m.write(D,q,H,!1,10,this.len),H+this.len}},d.Float16_LE={len:2,get(D,H){return m.read(D,H,!0,10,this.len)},put(D,H,q){return m.write(D,q,H,!0,10,this.len),H+this.len}},d.Float32_BE={len:4,get:(D,H)=>g(D).getFloat32(H),put:(D,H,q)=>(g(D).setFloat32(H,q),H+4)},d.Float32_LE={len:4,get:(D,H)=>g(D).getFloat32(H,!0),put:(D,H,q)=>(g(D).setFloat32(H,q,!0),H+4)},d.Float64_BE={len:8,get:(D,H)=>g(D).getFloat64(H),put:(D,H,q)=>(g(D).setFloat64(H,q),H+8)},d.Float64_LE={len:8,get:(D,H)=>g(D).getFloat64(H,!0),put:(D,H,q)=>(g(D).setFloat64(H,q,!0),H+8)},d.Float80_BE={len:10,get(D,H){return m.read(D,H,!1,63,this.len)},put(D,H,q){return m.write(D,q,H,!1,63,this.len),H+this.len}},d.Float80_LE={len:10,get(D,H){return m.read(D,H,!0,63,this.len)},put(D,H,q){return m.write(D,q,H,!0,63,this.len),H+this.len}},d.IgnoreType=class{constructor(D){this.len=D}get(D,H){}},d.Uint8ArrayType=class{constructor(D){this.len=D}get(D,H){return D.subarray(H,H+this.len)}},d.BufferType=class{constructor(D){this.len=D}get(D,H){return Buffer.from(D.subarray(H,H+this.len))}},d.StringType=class{constructor(D,H){this.len=D,this.encoding=H}get(D,H){return Buffer.from(D).toString(this.encoding,H,H+this.len)}};class w{constructor(H){this.len=H}static decode(H,q,te){let re="";for(let ne=q;ne<te;++ne)re+=w.codePointToString(w.singleByteDecoder(H[ne]));return re}static inRange(H,q,te){return q<=H&&H<=te}static codePointToString(H){return H<=65535?String.fromCharCode(H):(H-=65536,String.fromCharCode(55296+(H>>10),56320+(1023&H)))}static singleByteDecoder(H){if(w.inRange(H,0,127))return H;const q=w.windows1252[H-128];if(q===null)throw Error("invaliding encoding");return q}get(H,q=0){return w.decode(H,q,q+this.len)}}d.AnsiStringType=w,w.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]})(lib$1);var core$1={},ReadStreamTokenizer$1={},AbstractTokenizer$1={},lib={},EndOfFileStream={};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.EndOfStreamError=d.defaultMessages=void 0,d.defaultMessages="End-Of-Stream";class m extends Error{constructor(){super(d.defaultMessages)}}d.EndOfStreamError=m})(EndOfFileStream);var StreamReader={},Deferred$1={};Object.defineProperty(Deferred$1,"__esModule",{value:!0}),Deferred$1.Deferred=void 0;class Deferred{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((m,g)=>{this.reject=g,this.resolve=m})}}Deferred$1.Deferred=Deferred,function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;const m=EndOfFileStream,g=Deferred$1;var w=EndOfFileStream;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}}),d.StreamReader=class{constructor(D){if(this.s=D,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!D.read||!D.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new m.EndOfStreamError)),this.s.once("error",H=>this.reject(H)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(D,H,q){const te=await this.read(D,H,q);return this.peekQueue.push(D.subarray(H,H+te)),te}async read(D,H,q){if(q===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new m.EndOfStreamError;let te=q,re=0;for(;this.peekQueue.length>0&&te>0;){const ne=this.peekQueue.pop();if(!ne)throw new Error("peekData should be defined");const ie=Math.min(ne.length,te);D.set(ne.subarray(0,ie),H+re),re+=ie,te-=ie,ie<ne.length&&this.peekQueue.push(ne.subarray(ie))}for(;te>0&&!this.endOfStream;){const ne=Math.min(te,1048576),ie=await this.readFromStream(D,H+re,ne);if(re+=ie,ie<ne)break;te-=ie}return re}async readFromStream(D,H,q){const te=this.s.read(q);if(te)return D.set(te,H),te.length;{const re={buffer:D,offset:H,length:q,deferred:new g.Deferred};return this.deferred=re.deferred,this.s.once("readable",()=>{this.readDeferred(re)}),re.deferred.promise}}readDeferred(D){const H=this.s.read(D.length);H?(D.buffer.set(H,D.offset),D.deferred.resolve(H.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(D)})}reject(D){this.endOfStream=!0,this.deferred&&(this.deferred.reject(D),this.deferred=null)}}}(StreamReader),function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;var m=EndOfFileStream;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return m.EndOfStreamError}});var g=StreamReader;Object.defineProperty(d,"StreamReader",{enumerable:!0,get:function(){return g.StreamReader}})}(lib),Object.defineProperty(AbstractTokenizer$1,"__esModule",{value:!0}),AbstractTokenizer$1.AbstractTokenizer=void 0;const peek_readable_1$2=lib;class AbstractTokenizer{constructor(m){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=m||{}}async readToken(m,g=this.position){const w=Buffer.alloc(m.len);if(await this.readBuffer(w,{position:g})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(w,0)}async peekToken(m,g=this.position){const w=Buffer.alloc(m.len);if(await this.peekBuffer(w,{position:g})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(w,0)}async readNumber(m){if(await this.readBuffer(this.numBuffer,{length:m.len})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(this.numBuffer,0)}async peekNumber(m){if(await this.peekBuffer(this.numBuffer,{length:m.len})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(this.numBuffer,0)}async ignore(m){if(this.fileInfo.size!==void 0){const g=this.fileInfo.size-this.position;if(m>g)return this.position+=g,g}return this.position+=m,m}async close(){}normalizeOptions(m,g){if(g&&g.position!==void 0&&g.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return g?{mayBeLess:g.mayBeLess===!0,offset:g.offset?g.offset:0,length:g.length?g.length:m.length-(g.offset?g.offset:0),position:g.position?g.position:this.position}:{mayBeLess:!1,offset:0,length:m.length,position:this.position}}}AbstractTokenizer$1.AbstractTokenizer=AbstractTokenizer,Object.defineProperty(ReadStreamTokenizer$1,"__esModule",{value:!0}),ReadStreamTokenizer$1.ReadStreamTokenizer=void 0;const AbstractTokenizer_1$1=AbstractTokenizer$1,peek_readable_1$1=lib,maxBufferSize=256e3;class ReadStreamTokenizer extends AbstractTokenizer_1$1.AbstractTokenizer{constructor(m,g){super(g),this.streamReader=new peek_readable_1$1.StreamReader(m)}async getFileInfo(){return this.fileInfo}async readBuffer(m,g){const w=this.normalizeOptions(m,g),D=w.position-this.position;if(D>0)return await this.ignore(D),this.readBuffer(m,g);if(D<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(w.length===0)return 0;const H=await this.streamReader.read(m,w.offset,w.length);if(this.position+=H,(!g||!g.mayBeLess)&&H<w.length)throw new peek_readable_1$1.EndOfStreamError;return H}async peekBuffer(m,g){const w=this.normalizeOptions(m,g);let D=0;if(w.position){const H=w.position-this.position;if(H>0){const q=new Uint8Array(w.length+H);return D=await this.peekBuffer(q,{mayBeLess:w.mayBeLess}),m.set(q.subarray(H),w.offset),D-H}if(H<0)throw new Error("Cannot peek from a negative offset in a stream")}if(w.length>0){try{D=await this.streamReader.peek(m,w.offset,w.length)}catch(H){if(g&&g.mayBeLess&&H instanceof peek_readable_1$1.EndOfStreamError)return 0;throw H}if(!w.mayBeLess&&D<w.length)throw new peek_readable_1$1.EndOfStreamError}return D}async ignore(m){const g=Math.min(maxBufferSize,m),w=new Uint8Array(g);let D=0;for(;D<m;){const H=m-D,q=await this.readBuffer(w,{length:Math.min(g,H)});if(q<0)return q;D+=q}return D}}ReadStreamTokenizer$1.ReadStreamTokenizer=ReadStreamTokenizer;var BufferTokenizer$1={};Object.defineProperty(BufferTokenizer$1,"__esModule",{value:!0}),BufferTokenizer$1.BufferTokenizer=void 0;const peek_readable_1=lib,AbstractTokenizer_1=AbstractTokenizer$1;class BufferTokenizer extends AbstractTokenizer_1.AbstractTokenizer{constructor(m,g){super(g),this.uint8Array=m,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:m.length}async readBuffer(m,g){if(g&&g.position){if(g.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=g.position}const w=await this.peekBuffer(m,g);return this.position+=w,w}async peekBuffer(m,g){const w=this.normalizeOptions(m,g),D=Math.min(this.uint8Array.length-w.position,w.length);if(!w.mayBeLess&&D<w.length)throw new peek_readable_1.EndOfStreamError;return m.set(this.uint8Array.subarray(w.position,w.position+D),w.offset),D}async close(){}}BufferTokenizer$1.BufferTokenizer=BufferTokenizer,function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.fromBuffer=d.fromStream=d.EndOfStreamError=void 0;const m=ReadStreamTokenizer$1,g=BufferTokenizer$1;var w=lib;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}}),d.fromStream=function(D,H){return H=H||{},new m.ReadStreamTokenizer(D,H)},d.fromBuffer=function(D,H){return new g.BufferTokenizer(D,H)}}(core$1);var util={stringToBytes:d=>[...d].map(m=>m.charCodeAt(0)),tarHeaderChecksumMatches:(d,m=0)=>{const g=parseInt(d.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(g))return!1;let w=256;for(let D=m;D<m+148;D++)w+=d[D];for(let D=m+156;D<m+512;D++)w+=d[D];return g===w},uint32SyncSafeToken:{get:(d,m)=>127&d[m+3]|d[m+2]<<7|d[m+1]<<14|d[m]<<21,len:4}},supported$1={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]};const Token=lib$1,strtok3=core$1,{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=util,supported=supported$1,minimumBytes=4100;async function fromStream(d){const m=await strtok3.fromStream(d);try{return await fromTokenizer(m)}finally{await m.close()}}async function fromBuffer(d){if(!(d instanceof Uint8Array||d instanceof ArrayBuffer||Buffer.isBuffer(d)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof d}\``);const m=d instanceof Buffer?d:Buffer.from(d);if(m&&m.length>1)return fromTokenizer(strtok3.fromBuffer(m))}function _check(d,m,g){g={offset:0,...g};for(const[w,D]of m.entries())if(g.mask){if(D!==(g.mask[w]&d[w+g.offset]))return!1}else if(D!==d[w+g.offset])return!1;return!0}async function fromTokenizer(d){try{return _fromTokenizer(d)}catch(m){if(!(m instanceof strtok3.EndOfStreamError))throw m}}async function _fromTokenizer(d){let m=Buffer.alloc(minimumBytes);const g=(D,H)=>_check(m,D,H),w=(D,H)=>g(stringToBytes(D),H);if(d.fileInfo.size||(d.fileInfo.size=Number.MAX_SAFE_INTEGER),await d.peekBuffer(m,{length:12,mayBeLess:!0}),g([66,77]))return{ext:"bmp",mime:"image/bmp"};if(g([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(g([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(g([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(g([37,33]))return await d.peekBuffer(m,{length:24,mayBeLess:!0}),w("PS-Adobe-",{offset:2})&&w(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(g([31,160])||g([31,157]))return{ext:"Z",mime:"application/x-compress"};if(g([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(g([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(g([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(g([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(w("ID3")){await d.ignore(6);const D=await d.readToken(uint32SyncSafeToken);return d.position+D>d.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await d.ignore(D),fromTokenizer(d))}if(w("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((m[0]===67||m[0]===70)&&g([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(g([71,73,70]))return{ext:"gif",mime:"image/gif"};if(w("FLIF"))return{ext:"flif",mime:"image/flif"};if(w("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(w("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(w("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(w("FORM"))return{ext:"aif",mime:"audio/aiff"};if(w("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(g([80,75,3,4])){try{for(;d.position+30<d.fileInfo.size;){await d.readBuffer(m,{length:30});const D={compressedSize:m.readUInt32LE(18),uncompressedSize:m.readUInt32LE(22),filenameLength:m.readUInt16LE(26),extraFieldLength:m.readUInt16LE(28)};if(D.filename=await d.readToken(new Token.StringType(D.filenameLength,"utf-8")),await d.ignore(D.extraFieldLength),D.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(D.filename.endsWith(".rels")||D.filename.endsWith(".xml"))switch(D.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(D.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(D.filename.startsWith("3D/")&&D.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(D.filename==="mimetype"&&D.compressedSize===D.uncompressedSize)switch(await d.readToken(new Token.StringType(D.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(D.compressedSize===0){let H=-1;for(;H<0&&d.position<d.fileInfo.size;)await d.peekBuffer(m,{mayBeLess:!0}),H=m.indexOf("504B0304",0,"hex"),await d.ignore(H>=0?H:m.length)}else await d.ignore(D.compressedSize)}}catch(D){if(!(D instanceof strtok3.EndOfStreamError))throw D}return{ext:"zip",mime:"application/zip"}}if(w("OggS")){await d.ignore(28);const D=Buffer.alloc(8);return await d.readBuffer(D),_check(D,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(D,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(D,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(D,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(D,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(D,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(g([80,75])&&(m[2]===3||m[2]===5||m[2]===7)&&(m[3]===4||m[3]===6||m[3]===8))return{ext:"zip",mime:"application/zip"};if(w("ftyp",{offset:4})&&96&m[8]){const D=m.toString("binary",8,12).replace("\0"," ").trim();switch(D){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return D.startsWith("3g")?D.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(w("MThd"))return{ext:"mid",mime:"audio/midi"};if(w("wOFF")&&(g([0,1,0,0],{offset:4})||w("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(w("wOF2")&&(g([0,1,0,0],{offset:4})||w("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(g([212,195,178,161])||g([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(w("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(w("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(w("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(g([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(w("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(w("%PDF")){await d.ignore(1350);const D=10485760,H=Buffer.alloc(Math.min(D,d.fileInfo.size));return await d.readBuffer(H,{mayBeLess:!0}),H.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(g([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(g([73,73,42,0]))return w("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:g([28,0,254,0],{offset:8})||g([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:g([8,0,0,0],{offset:4})&&(g([45,0,254,0],{offset:8})||g([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(m=Buffer.alloc(24),await d.peekBuffer(m),(g([16,251,134,1],{offset:4})||g([8,0,0,0],{offset:4}))&&g([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(g([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(w("MAC "))return{ext:"ape",mime:"audio/ape"};if(g([26,69,223,163])){async function D(){const re=await d.peekNumber(Token.UINT8);let ne=128,ie=0;for(;!(re&ne)&&ne!==0;)++ie,ne>>=1;const ae=Buffer.alloc(ie+1);return await d.readBuffer(ae),ae}async function H(){const re=await D(),ne=await D();ne[0]^=128>>ne.length-1;const ie=Math.min(6,ne.length);return{id:re.readUIntBE(0,re.length),len:ne.readUIntBE(ne.length-ie,ie)}}async function q(re,ne){for(;ne>0;){const ie=await H();if(ie.id===17026)return d.readToken(new Token.StringType(ie.len,"utf-8"));await d.ignore(ie.len),--ne}}const te=await H();switch(await q(0,te.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(g([82,73,70,70])){if(g([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(g([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(g([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(w("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(g([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(w("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(w("MSCF")||w("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(g([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(g([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(g([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(g([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(w("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(w("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(g([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(w("IMPM"))return{ext:"it",mime:"audio/x-it"};if(w("-lh0-",{offset:2})||w("-lh1-",{offset:2})||w("-lh2-",{offset:2})||w("-lh3-",{offset:2})||w("-lh4-",{offset:2})||w("-lh5-",{offset:2})||w("-lh6-",{offset:2})||w("-lh7-",{offset:2})||w("-lzs-",{offset:2})||w("-lz4-",{offset:2})||w("-lz5-",{offset:2})||w("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(g([0,0,1,186])){if(g([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(g([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(w("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(g([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(w("<?xml "))return{ext:"xml",mime:"application/xml"};if(g([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(g([82,97,114,33,26,7])&&(m[6]===0||m[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(w("solid "))return{ext:"stl",mime:"model/stl"};if(w("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(w("!<arch>"))return await d.ignore(8),await d.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(g([137,80,78,71,13,10,26,10])){async function D(){return{length:await d.readToken(Token.INT32_BE),type:await d.readToken(new Token.StringType(4,"binary"))}}await d.ignore(8);do{const H=await D();if(H.length<0)return;switch(H.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await d.ignore(H.length+4)}}while(d.position+8<d.fileInfo.size);return{ext:"png",mime:"image/png"}}if(g([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(g([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(g([102,114,101,101],{offset:4})||g([109,100,97,116],{offset:4})||g([109,111,111,118],{offset:4})||g([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(g([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(w("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(g([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(g([48,38,178,117,142,102,207,17,166,217])){async function D(){const H=Buffer.alloc(16);return await d.readBuffer(H),{id:H,size:Number(await d.readToken(Token.UINT64_LE))}}for(await d.ignore(30);d.position+24<d.fileInfo.size;){const H=await D();let q=H.size-24;if(_check(H.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const te=Buffer.alloc(16);if(q-=await d.readBuffer(te),_check(te,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(te,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await d.ignore(q)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(g([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((g([126,16,4])||g([126,24,4]))&&g([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(g([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(g([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await d.ignore(20),await d.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(g([255,10])||g([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(g([0,0,1,186])||g([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(g([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(g([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(g([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(g([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await d.peekBuffer(m,{length:Math.min(256,d.fileInfo.size),mayBeLess:!0}),w("BEGIN:")){if(w("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(w("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(w("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(w("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(w("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(g([4,0,0,0])&&m.length>=16){const D=m.readUInt32LE(12);if(D>12&&m.length>=D+16)try{const H=m.slice(16,D+16).toString();if(JSON.parse(H).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(g([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(w("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(g([71],{offset:4})&&(g([71],{offset:192})||g([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(g([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(g([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(g([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(g([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(g([76,80],{offset:34})&&(g([0,0,1],{offset:8})||g([1,0,2],{offset:8})||g([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(g([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await d.peekBuffer(m,{length:Math.min(512,d.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(m))return{ext:"tar",mime:"application/x-tar"};if(g([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(w("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(m.length>=2&&g([255,224],{offset:0,mask:[255,224]})){if(g([16],{offset:1,mask:[22]}))return g([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(g([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(g([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(g([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const d=new stream.PassThrough;let m;m=stream.pipeline?stream.pipeline(readableStream,d,()=>{}):readableStream.pipe(d);const g=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const w=await fromBuffer(g);d.fileType=w}catch(w){reject(w)}resolve(m)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)});var core=fileType,fileType$1=getDefaultExportFromCjs(core);function to(d,m){return d.then(function(g){return[null,g]}).catch(function(g){return[g,void 0]})}const writeFile=async()=>{throw new Error("Not supported")};function Mime$1(){this._types=Object.create(null),this._extensions=Object.create(null);for(let d=0;d<arguments.length;d++)this.define(arguments[d]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime$1.prototype.define=function(d,m){for(let g in d){let w=d[g].map(function(D){return D.toLowerCase()});g=g.toLowerCase();for(let D=0;D<w.length;D++){const H=w[D];if(H[0]!=="*"){if(!m&&H in this._types)throw new Error('Attempt to change mapping for "'+H+'" extension from "'+this._types[H]+'" to "'+g+'". Pass `force=true` to allow this, otherwise remove "'+H+'" from the list of extensions for "'+g+'".');this._types[H]=g}}if(m||!this._extensions[g]){const D=w[0];this._extensions[g]=D[0]!=="*"?D:D.substr(1)}}},Mime$1.prototype.getType=function(d){let m=(d=String(d)).replace(/^.*[/\\]/,"").toLowerCase(),g=m.replace(/^.*\./,"").toLowerCase(),w=m.length<d.length;return(g.length<m.length-1||!w)&&this._types[g]||null},Mime$1.prototype.getExtension=function(d){return(d=/^\s*([^;\s]*)/.test(d)&&RegExp.$1)&&this._extensions[d.toLowerCase()]||null};var Mime_1=Mime$1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};let Mime=Mime_1;var lite=new Mime(standard),mime=getDefaultExportFromCjs(lite),HorizontalAlign,HorizontalAlign2,VerticalAlign,VerticalAlign2,BlendMode,BlendMode2;function srcOver(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a;return{r:(d.r*d.a+m.r*m.a*(1-d.a))/w,g:(d.g*d.a+m.g*m.a*(1-d.a))/w,b:(d.b*d.a+m.b*m.a*(1-d.a))/w,a:w}}function dstOver(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a;return{r:(m.r*m.a+d.r*d.a*(1-m.a))/w,g:(m.g*m.a+d.g*d.a*(1-m.a))/w,b:(m.b*m.a+d.b*d.a*(1-m.a))/w,a:w}}function multiply(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a,te=m.r*m.a,re=m.g*m.a,ne=m.b*m.a;return{r:(D*te+D*(1-m.a)+te*(1-d.a))/w,g:(H*re+H*(1-m.a)+re*(1-d.a))/w,b:(q*ne+q*(1-m.a)+ne*(1-d.a))/w,a:w}}function add(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a;return{r:(D+m.r*m.a)/w,g:(H+m.g*m.a)/w,b:(q+m.b*m.a)/w,a:w}}function screen(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a,te=m.r*m.a,re=m.g*m.a,ne=m.b*m.a;return{r:(D*m.a+te*d.a-D*te+D*(1-m.a)+te*(1-d.a))/w,g:(H*m.a+re*d.a-H*re+H*(1-m.a)+re*(1-d.a))/w,b:(q*m.a+ne*d.a-q*ne+q*(1-m.a)+ne*(1-d.a))/w,a:w}}function overlay(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a,te=m.r*m.a,re=m.g*m.a,ne=m.b*m.a;return{r:(2*te<=m.a?2*D*te+D*(1-m.a)+te*(1-d.a):D*(1+m.a)+te*(1+d.a)-2*te*D-m.a*d.a)/w,g:(2*re<=m.a?2*H*re+H*(1-m.a)+re*(1-d.a):H*(1+m.a)+re*(1+d.a)-2*re*H-m.a*d.a)/w,b:(2*ne<=m.a?2*q*ne+q*(1-m.a)+ne*(1-d.a):q*(1+m.a)+ne*(1+d.a)-2*ne*q-m.a*d.a)/w,a:w}}function darken(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a,te=m.r*m.a,re=m.g*m.a,ne=m.b*m.a;return{r:(Math.min(D*m.a,te*d.a)+D*(1-m.a)+te*(1-d.a))/w,g:(Math.min(H*m.a,re*d.a)+H*(1-m.a)+re*(1-d.a))/w,b:(Math.min(q*m.a,ne*d.a)+q*(1-m.a)+ne*(1-d.a))/w,a:w}}function lighten(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a,te=m.r*m.a,re=m.g*m.a,ne=m.b*m.a;return{r:(Math.max(D*m.a,te*d.a)+D*(1-m.a)+te*(1-d.a))/w,g:(Math.max(H*m.a,re*d.a)+H*(1-m.a)+re*(1-d.a))/w,b:(Math.max(q*m.a,ne*d.a)+q*(1-m.a)+ne*(1-d.a))/w,a:w}}function hardLight(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a,te=m.r*m.a,re=m.g*m.a,ne=m.b*m.a;return{r:(2*D<=d.a?2*D*te+D*(1-m.a)+te*(1-d.a):D*(1+m.a)+te*(1+d.a)-2*te*D-m.a*d.a)/w,g:(2*H<=d.a?2*H*re+H*(1-m.a)+re*(1-d.a):H*(1+m.a)+re*(1+d.a)-2*re*H-m.a*d.a)/w,b:(2*q<=d.a?2*q*ne+q*(1-m.a)+ne*(1-d.a):q*(1+m.a)+ne*(1+d.a)-2*ne*q-m.a*d.a)/w,a:w}}function difference(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a,te=m.r*m.a,re=m.g*m.a,ne=m.b*m.a;return{r:(D+te-2*Math.min(D*m.a,te*d.a))/w,g:(H+re-2*Math.min(H*m.a,re*d.a))/w,b:(q+ne-2*Math.min(q*m.a,ne*d.a))/w,a:w}}function exclusion(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a,te=m.r*m.a,re=m.g*m.a,ne=m.b*m.a;return{r:(D*m.a+te*d.a-2*D*te+D*(1-m.a)+te*(1-d.a))/w,g:(H*m.a+re*d.a-2*H*re+H*(1-m.a)+re*(1-d.a))/w,b:(q*m.a+ne*d.a-2*q*ne+q*(1-m.a)+ne*(1-d.a))/w,a:w}}HorizontalAlign2=HorizontalAlign||(HorizontalAlign={}),HorizontalAlign2[HorizontalAlign2.LEFT=1]="LEFT",HorizontalAlign2[HorizontalAlign2.CENTER=2]="CENTER",HorizontalAlign2[HorizontalAlign2.RIGHT=4]="RIGHT",VerticalAlign2=VerticalAlign||(VerticalAlign={}),VerticalAlign2[VerticalAlign2.TOP=8]="TOP",VerticalAlign2[VerticalAlign2.MIDDLE=16]="MIDDLE",VerticalAlign2[VerticalAlign2.BOTTOM=32]="BOTTOM",BlendMode2=BlendMode||(BlendMode={}),BlendMode2.SRC_OVER="srcOver",BlendMode2.DST_OVER="dstOver",BlendMode2.MULTIPLY="multiply",BlendMode2.ADD="add",BlendMode2.SCREEN="screen",BlendMode2.OVERLAY="overlay",BlendMode2.DARKEN="darken",BlendMode2.LIGHTEN="lighten",BlendMode2.HARD_LIGHT="hardLight",BlendMode2.DIFFERENCE="difference",BlendMode2.EXCLUSION="exclusion";const names=[srcOver,dstOver,multiply,add,screen,overlay,darken,lighten,hardLight,difference,exclusion];var compositeModes=Object.freeze({__proto__:null,add,darken,difference,dstOver,exclusion,hardLight,lighten,multiply,names,overlay,screen,srcOver});function composite(d,m,g=0,w=0,D={}){if(!(m instanceof d.constructor))throw new Error("The source must be a Jimp image");if(typeof g!="number"||typeof w!="number")throw new Error("x and y must be numbers");const{mode:H=BlendMode.SRC_OVER}=D;let{opacitySource:q=1,opacityDest:te=1}=D;(typeof q!="number"||q<0||q>1)&&(q=1),(typeof te!="number"||te<0||te>1)&&(te=1);const re=compositeModes[H];return g=Math.round(g),w=Math.round(w),te!==1&&d.scan((ne,ie,ae)=>{const se=d.bitmap.data[ae+3]*te;d.bitmap.data[ae+3]=se}),m.scan((ne,ie,ae)=>{const se=d.getPixelIndex(g+ne,w+ie,Edge.CROP);if(se===-1)return;const le=re({r:m.bitmap.data[ae+0]/255,g:m.bitmap.data[ae+1]/255,b:m.bitmap.data[ae+2]/255,a:m.bitmap.data[ae+3]/255},{r:d.bitmap.data[se+0]/255,g:d.bitmap.data[se+1]/255,b:d.bitmap.data[se+2]/255,a:d.bitmap.data[se+3]/255},q);d.bitmap.data[se+0]=limit255(255*le.r),d.bitmap.data[se+1]=limit255(255*le.g),d.bitmap.data[se+2]=limit255(255*le.b),d.bitmap.data[se+3]=limit255(255*le.a)}),d}var jpeg$1={parseSections:function(d,m){var g,w;for(d.setBigEndian(!0);d.remainingLength()>0&&w!==218;){if(d.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");g=(w=d.nextUInt8())>=208&&w<=217||w===218?0:d.nextUInt16()-2,m(w,d.branch(0,g)),d.skip(g)}},getSizeFromSOFSection:function(d){return d.skip(1),{height:d.nextUInt16(),width:d.nextUInt16()}},getSectionName:function(d){var m,g;switch(d){case 216:m="SOI";break;case 196:m="DHT";break;case 219:m="DQT";break;case 221:m="DRI";break;case 218:m="SOS";break;case 254:m="COM";break;case 217:m="EOI";break;default:d>=224&&d<=239?(m="APP",g=d-224):d>=192&&d<=207&&d!==196&&d!==200&&d!==204?(m="SOF",g=d-192):d>=208&&d<=215&&(m="RST",g=d-208)}var w={name:m};return typeof g=="number"&&(w.index=g),w}};function readExifValue(d,m){switch(d){case 1:return m.nextUInt8();case 3:case 8:return m.nextUInt16();case 4:case 9:return m.nextUInt32();case 5:return[m.nextUInt32(),m.nextUInt32()];case 6:return m.nextInt8();case 10:return[m.nextInt32(),m.nextInt32()];case 11:return m.nextFloat();case 12:return m.nextDouble();default:throw new Error("Invalid format while decoding: "+d)}}function getBytesPerComponent(d){switch(d){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function readExifTag(d,m){var g,w,D=m.nextUInt16(),H=m.nextUInt16(),q=getBytesPerComponent(H),te=m.nextUInt32(),re=q*te;if(re>4&&(m=d.openWithOffset(m.nextUInt32())),H===2){var ne=(g=m.nextString(te)).indexOf("\0");ne!==-1&&(g=g.substr(0,ne))}else if(H===7)g=m.nextBuffer(te);else if(H!==0)for(g=[],w=0;w<te;++w)g.push(readExifValue(H,m));return re<4&&m.skip(4-re),[D,g,H]}function readIFDSection(d,m,g){var w,D,H=m.nextUInt16();for(D=0;D<H;++D)g((w=readExifTag(d,m))[0],w[1],w[2])}function readHeader(d){if(d.nextString(6)!=="Exif\0\0")throw new Error("Invalid EXIF header");var m=d.mark(),g=d.nextUInt16();if(g===18761)d.setBigEndian(!1);else{if(g!==19789)throw new Error("Invalid TIFF header");d.setBigEndian(!0)}if(d.nextUInt16()!==42)throw new Error("Invalid TIFF data");return m}var exif$2={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(d,m){var g,w,D,H;try{g=readHeader(d)}catch{return!1}var q=g.openWithOffset(d.nextUInt32()),te=this.IFD0;readIFDSection(g,q,function(ue,fe,de){switch(ue){case 34853:D=fe[0];break;case 34665:w=fe[0];break;default:m(te,ue,fe,de)}});var re=q.nextUInt32();if(re!==0){var ne=g.openWithOffset(re);readIFDSection(g,ne,m.bind(null,this.IFD1))}if(D){var ie=g.openWithOffset(D);readIFDSection(g,ie,m.bind(null,this.GPSIFD))}if(w){var ae=g.openWithOffset(w),se=this.InteropIFD;readIFDSection(g,ae,function(ue,fe,de){ue===40965?H=fe[0]:m(se,ue,fe,de)})}if(H){var le=g.openWithOffset(H);readIFDSection(g,le,m.bind(null,this.InteropIFD))}return!0}};function parseNumber(d){return parseInt(d,10)}var hours=3600,minutes=60;function parseDateTimeParts(d,m){d=d.map(parseNumber),m=m.map(parseNumber);var g=d[0],w=d[1]-1,D=d[2],H=m[0],q=m[1],te=m[2];return Date.UTC(g,w,D,H,q,te,0)/1e3}function parseDateWithTimezoneFormat(d){var m=d.substr(0,10).split("-"),g=d.substr(11,8).split(":"),w=d.substr(19,6).split(":").map(parseNumber),D=w[0]*hours+w[1]*minutes,H=parseDateTimeParts(m,g);if(typeof(H-=D)=="number"&&!isNaN(H))return H}function parseDateWithSpecFormat(d){var m=d.split(" "),g=parseDateTimeParts(m[0].split(":"),m[1].split(":"));if(typeof g=="number"&&!isNaN(g))return g}function parseExifDate(d){var m=d.length===19&&d.charAt(4)===":";return d.length===25&&d.charAt(10)==="T"?parseDateWithTimezoneFormat(d):m?parseDateWithSpecFormat(d):void 0}var date$1={parseDateWithSpecFormat,parseDateWithTimezoneFormat,parseExifDate},exif$1=exif$2,date=date$1,degreeTags=[{section:exif$1.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:exif$1.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],dateTags=[{section:exif$1.SubIFD,type:306,name:"ModifyDate"},{section:exif$1.SubIFD,type:36867,name:"DateTimeOriginal"},{section:exif$1.SubIFD,type:36868,name:"CreateDate"},{section:exif$1.SubIFD,type:306,name:"ModifyDate"}],simplify$1={castDegreeValues:function(d,m){degreeTags.forEach(function(g){var w=d(g);if(w){var D=d({section:g.section,type:g.refType,name:g.refName})===g.posVal?1:-1,H=(w[0]+w[1]/60+w[2]/3600)*D;m(g,H)}})},castDateValues:function(d,m){dateTags.forEach(function(g){var w=d(g);if(w){var D=date.parseExifDate(w);D!==void 0&&m(g,D)}})},simplifyValue:function(d,m){return Array.isArray(d)&&(d=d.map(function(g){return m===10||m===5?g[0]/g[1]:g})).length===1&&(d=d[0]),d}},exifTags,hasRequiredExifTags;function requireExifTags(){return hasRequiredExifTags?exifTags:(hasRequiredExifTags=1,exifTags={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}})}var jpeg=jpeg$1,exif=exif$2,simplify=simplify$1;function ExifResult(d,m,g,w,D,H,q){this.startMarker=d,this.tags=m,this.imageSize=g,this.thumbnailOffset=w,this.thumbnailLength=D,this.thumbnailType=H,this.app1Offset=q}function Parser$1(d){this.stream=d,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}ExifResult.prototype={hasThumbnail:function(d){return!(!this.thumbnailOffset||!this.thumbnailLength)&&(typeof d!="string"||(d.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:d.toLowerCase().trim()==="image/tiff"&&this.thumbnailType===1))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var d,m=this._getThumbnailStream();return jpeg.parseSections(m,function(g,w){jpeg.getSectionName(g).name==="SOF"&&(d=jpeg.getSizeFromSOFSection(w))}),d}},Parser$1.prototype={enableBinaryFields:function(d){return this.flags.readBinaryTags=!!d,this},enablePointers:function(d){return this.flags.hidePointers=!d,this},enableTagNames:function(d){return this.flags.resolveTagNames=!!d,this},enableImageSize:function(d){return this.flags.imageSize=!!d,this},enableReturnTags:function(d){return this.flags.returnTags=!!d,this},enableSimpleValues:function(d){return this.flags.simplifyValues=!!d,this},parse:function(){var d,m,g,w,D,H,q,te,re,ne=this.stream.mark(),ie=ne.openWithOffset(0),ae=this.flags;return ae.resolveTagNames&&(q=requireExifTags()),ae.resolveTagNames?(d={},te=function(se){return d[se.name]},re=function(se,le){d[se.name]=le}):(d=[],te=function(se){var le;for(le=0;le<d.length;++le)if(d[le].type===se.type&&d[le].section===se.section)return d.value},re=function(se,le){var ue;for(ue=0;ue<d.length;++ue)if(d[ue].type===se.type&&d[ue].section===se.section)return void(d.value=le)}),jpeg.parseSections(ie,function(se,le){var ue=le.offsetFrom(ne);se===225?exif.parseTags(le,function(fe,de,me,ge){if(ae.readBinaryTags||ge!==7){if(de===513){if(g=me[0],ae.hidePointers)return}else if(de===514){if(w=me[0],ae.hidePointers)return}else if(de===259&&(D=me[0],ae.hidePointers))return;if(ae.returnTags)if(ae.simplifyValues&&(me=simplify.simplifyValue(me,ge)),ae.resolveTagNames){var he=(fe===exif.GPSIFD?q.gps:q.exif)[de];he||(he=q.exif[de]),d.hasOwnProperty(he)||(d[he]=me)}else d.push({section:fe,type:de,value:me})}})&&(H=ue):ae.imageSize&&jpeg.getSectionName(se).name==="SOF"&&(m=jpeg.getSizeFromSOFSection(le))}),ae.simplifyValues&&(simplify.castDegreeValues(te,re),simplify.castDateValues(te,re)),new ExifResult(ne,d,m,g,w,D,H)}};var parser=Parser$1,domBufferstream,hasRequiredDomBufferstream,bufferstream,hasRequiredBufferstream;function requireDomBufferstream(){if(hasRequiredDomBufferstream)return domBufferstream;function d(m,g,w,D,H,q){this.global=H,g=g||0,w=w||m.byteLength-g,this.arrayBuffer=m.slice(g,g+w),this.view=new H.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(D),this.offset=0,this.parentOffset=(q||0)+g}return hasRequiredDomBufferstream=1,d.prototype={setBigEndian:function(m){this.littleEndian=!m},nextUInt8:function(){var m=this.view.getUint8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.view.getInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,m},nextUInt32:function(){var m=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,m},nextInt16:function(){var m=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,m},nextInt32:function(){var m=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,m},nextFloat:function(){var m=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,m},nextDouble:function(){var m=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,m},nextBuffer:function(m){var g=this.arrayBuffer.slice(this.offset,this.offset+m);return this.offset+=m,g},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(m){var g=this.arrayBuffer.slice(this.offset,this.offset+m);return g=String.fromCharCode.apply(null,new this.global.Uint8Array(g)),this.offset+=m,g},mark:function(){var m=this;return{openWithOffset:function(g){return g=(g||0)+this.offset,new d(m.arrayBuffer,g,m.arrayBuffer.byteLength-g,!m.littleEndian,m.global,m.parentOffset)},offset:this.offset,getParentOffset:function(){return m.parentOffset}}},offsetFrom:function(m){return this.parentOffset+this.offset-(m.offset+m.getParentOffset())},skip:function(m){this.offset+=m},branch:function(m,g){return g=typeof g=="number"?g:this.arrayBuffer.byteLength-(this.offset+m),new d(this.arrayBuffer,this.offset+m,g,!this.littleEndian,this.global,this.parentOffset)}},domBufferstream=d}function requireBufferstream(){if(hasRequiredBufferstream)return bufferstream;function d(m,g,w,D){this.buffer=m,this.offset=g||0,w=typeof w=="number"?w:m.length,this.endPosition=this.offset+w,this.setBigEndian(D)}return hasRequiredBufferstream=1,d.prototype={setBigEndian:function(m){this.bigEndian=!!m},nextUInt8:function(){var m=this.buffer.readUInt8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.buffer.readInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,m},nextUInt32:function(){var m=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,m},nextInt16:function(){var m=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,m},nextInt32:function(){var m=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,m},nextFloat:function(){var m=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,m},nextDouble:function(){var m=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,m},nextBuffer:function(m){var g=this.buffer.slice(this.offset,this.offset+m);return this.offset+=m,g},remainingLength:function(){return this.endPosition-this.offset},nextString:function(m){var g=this.buffer.toString("utf8",this.offset,this.offset+m);return this.offset+=m,g},mark:function(){var m=this;return{openWithOffset:function(g){return g=(g||0)+this.offset,new d(m.buffer,g,m.endPosition-g,m.bigEndian)},offset:this.offset}},offsetFrom:function(m){return this.offset-m.offset},skip:function(m){this.offset+=m},branch:function(m,g){return g=typeof g=="number"?g:this.endPosition-(this.offset+m),new d(this.buffer,this.offset+m,g,this.bigEndian)}},bufferstream=d}var Parser=parser;function getGlobal(){return(0,eval)("this")}var exifParser={create:function(d,m){if(d instanceof(m=m||getGlobal()).ArrayBuffer){var g=requireDomBufferstream();return new Parser(new g(d,0,d.byteLength,!0,m))}var w=requireBufferstream();return new Parser(new w(d,0,d.length,!0))}},EXIFParser=getDefaultExportFromCjs(exifParser);function getExifOrientation(d){const m=d._exif;return m&&m.tags&&m.tags.Orientation||1}function getExifOrientationTransformation(d){const m=d.bitmap.width,g=d.bitmap.height;switch(getExifOrientation(d)){case 1:default:return null;case 2:return function(w,D){return[m-w-1,D]};case 3:return function(w,D){return[m-w-1,g-D-1]};case 4:return function(w,D){return[w,g-D-1]};case 5:return function(w,D){return[D,w]};case 6:return function(w,D){return[D,g-w-1]};case 7:return function(w,D){return[m-D-1,g-w-1]};case 8:return function(w,D){return[m-D-1,w]}}}function transformBitmap(d,m,g,w){const D=d.bitmap.data,H=d.bitmap.width,q=Buffer.alloc(D.length);for(let te=0;te<m;te++)for(let re=0;re<g;re++){const[ne,ie]=w(te,re),ae=m*re+te<<2,se=H*ie+ne<<2,le=D.readUInt32BE(se);q.writeUInt32BE(le,ae)}d.bitmap.data=q,d.bitmap.width=m,d.bitmap.height=g,d._exif.tags.Orientation=1}function exifRotate(d){if(getExifOrientation(d)<2)return;const m=getExifOrientationTransformation(d),g=getExifOrientation(d)>4,w=g?d.bitmap.height:d.bitmap.width,D=g?d.bitmap.width:d.bitmap.height;m&&transformBitmap(d,w,D,m)}async function attemptExifRotate(d,m){try{d._exif=EXIFParser.create(m).parse(),exifRotate(d)}catch{}}var __defProp$2=Object.defineProperty,__defNormalProp$2=(d,m,g)=>m in d?__defProp$2(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__publicField$2=(d,m,g)=>__defNormalProp$2(d,typeof m!="symbol"?m+"":m,g);const emptyBitmap={data:Buffer.alloc(0),width:0,height:0};function bufferFromArrayBuffer(d){const m=Buffer.alloc(d.byteLength),g=new Uint8Array(d);for(let w=0;w<m.length;++w)m[w]=g[w];return m}function createJimp({plugins:d,formats:m}={}){const g=d||[],w=(m||[]).map(H=>H()),D=class{constructor(H=emptyBitmap){if(__publicField$2(this,"bitmap",emptyBitmap),__publicField$2(this,"background",0),__publicField$2(this,"formats",[]),__publicField$2(this,"mime"),this.formats=w,"data"in H)this.bitmap=H;else if(this.bitmap={data:Buffer.alloc(H.width*H.height*4),width:H.width,height:H.height},H.color){this.background=typeof H.color=="string"?cssColorToHex(H.color):H.color;for(let q=0;q<this.bitmap.data.length;q+=4)this.bitmap.data.writeUInt32BE(this.background,q)}for(const q of g)for(const te in q)this[te]=(...re)=>{var ie;const ne=(ie=q[te])==null?void 0:ie.call(q,this,...re);return typeof ne=="object"&&"bitmap"in ne?(this.bitmap=ne.bitmap,this):ne}}static async read(H,q){if(Buffer.isBuffer(H)||H instanceof ArrayBuffer)return this.fromBuffer(H);const[te,re]=await to(fetch(H));if(te)throw new Error(`Could not load Buffer from URL: ${H}`);if(!re.ok)throw new Error(`HTTP Status ${re.status} for url ${H}`);const[ne,ie]=await to(re.arrayBuffer());if(ne)throw new Error(`Could not load Buffer from ${H}`);const ae=bufferFromArrayBuffer(ie);return this.fromBuffer(ae,q)}static fromBitmap(H){let q;if(H.data instanceof Buffer&&(q=Buffer.from(H.data)),(H.data instanceof Uint8Array||H.data instanceof Uint8ClampedArray)&&(q=Buffer.from(H.data.buffer)),Array.isArray(H.data)&&(q=Buffer.concat(H.data.map(te=>Buffer.from(te.toString(16).padStart(8,"0"),"hex")))),!q)throw new Error("data must be a Buffer");if(typeof H.height!="number"||typeof H.width!="number")throw new Error("bitmap must have width and height");return new D({height:H.height,width:H.width,data:q})}static async fromBuffer(H,q){const te=H instanceof ArrayBuffer?bufferFromArrayBuffer(H):H,re=await fileType$1.fromBuffer(te);if(!re||!re.mime)throw new Error("Could not find MIME for Buffer");const ne=w.find(ae=>ae.mime===re.mime);if(!ne||!ne.decode)throw new Error(`Mime type ${re.mime} does not support decoding`);const ie=new D(await ne.decode(te,q==null?void 0:q[ne.mime]));return ie.mime=re.mime,attemptExifRotate(ie,te),ie}inspect(){return"<Jimp "+(this.bitmap===emptyBitmap?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}toString(){return"[object Jimp]"}get width(){return this.bitmap.width}get height(){return this.bitmap.height}async getBuffer(H,q){const te=this.formats.find(ne=>ne.mime===H);if(!te||!te.encode)throw new Error(`Unsupported MIME type: ${H}`);let re;return te.hasAlpha?re=this:(re=new D({width:this.bitmap.width,height:this.bitmap.height,color:this.background}),composite(re,this)),te.encode(re.bitmap,q)}async getBase64(H,q){return"data:"+H+";base64,"+(await this.getBuffer(H,q)).toString("base64")}async write(H,q){const te=mime.getType(H);await writeFile(H,await this.getBuffer(te,q))}clone(){return new D({...this.bitmap,data:Buffer.from(this.bitmap.data)})}getPixelIndex(H,q,te){let re,ne;if(te||(te=Edge.EXTEND),typeof H!="number"||typeof q!="number")throw new Error("x and y must be numbers");re=H=Math.round(H),ne=q=Math.round(q),te===Edge.EXTEND&&(H<0&&(re=0),H>=this.bitmap.width&&(re=this.bitmap.width-1),q<0&&(ne=0),q>=this.bitmap.height&&(ne=this.bitmap.height-1)),te===Edge.WRAP&&(H<0&&(re=this.bitmap.width+H),H>=this.bitmap.width&&(re=H%this.bitmap.width),q<0&&(ne=this.bitmap.height+q),q>=this.bitmap.height&&(ne=q%this.bitmap.height));let ie=this.bitmap.width*ne+re<<2;return(re<0||re>=this.bitmap.width)&&(ie=-1),(ne<0||ne>=this.bitmap.height)&&(ie=-1),ie}getPixelColor(H,q){if(typeof H!="number"||typeof q!="number")throw new Error("x and y must be numbers");const te=this.getPixelIndex(H,q);return this.bitmap.data.readUInt32BE(te)}setPixelColor(H,q,te){if(typeof H!="number"||typeof q!="number"||typeof te!="number")throw new Error("hex, x and y must be numbers");const re=this.getPixelIndex(q,te);return this.bitmap.data.writeUInt32BE(H,re),this}hasAlpha(){const{width:H,height:q,data:te}=this.bitmap,re=H*q<<2;for(let ne=3;ne<re;ne+=4)if(te[ne]!==255)return!0;return!1}composite(H,q=0,te=0,re={}){return composite(this,H,q,te,re)}scan(H,q,te,re,ne){return scan(this,H,q,te,re,ne)}scanIterator(H=0,q=0,te=this.bitmap.width,re=this.bitmap.height){if(typeof H!="number"||typeof q!="number")throw new Error("x and y must be numbers");if(typeof te!="number"||typeof re!="number")throw new Error("w and h must be numbers");return scanIterator(this,H,q,te,re)}};return D}var ResizeStrategy,ResizeStrategy2;function Resize(d,m,g,w,D,H,q){this.widthOriginal=Math.abs(Math.floor(d)||0),this.heightOriginal=Math.abs(Math.floor(m)||0),this.targetWidth=Math.abs(Math.floor(g)||0),this.targetHeight=Math.abs(Math.floor(w)||0),this.colorChannels=D?4:3,this.interpolationPass=!!H,this.resizeCallback=typeof q=="function"?q:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}ResizeStrategy2=ResizeStrategy||(ResizeStrategy={}),ResizeStrategy2.NEAREST_NEIGHBOR="nearestNeighbor",ResizeStrategy2.BILINEAR="bilinearInterpolation",ResizeStrategy2.BICUBIC="bicubicInterpolation",ResizeStrategy2.HERMITE="hermiteInterpolation",ResizeStrategy2.BEZIER="bezierInterpolation",Resize.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw console.log(this),new Error("Invalid settings specified for the resizer.");this.configurePasses()},Resize.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},Resize.prototype._resizeWidthInterpolatedRGBChannels=function(d,m){const g=m?4:3,w=this.ratioWeightWidthPass,D=this.widthBuffer;let H,q,te=0,re=0,ne=0,ie=0,ae=0;for(H=0;te<1/3;H+=g,te+=w)for(re=H,ne=0;re<this.widthPassResultSize;ne+=this.originalWidthMultipliedByChannels,re+=this.targetWidthMultipliedByChannels)D[re]=d[ne],D[re+1]=d[ne+1],D[re+2]=d[ne+2],m&&(D[re+3]=d[ne+3]);for(te-=1/3,q=this.widthOriginal-1;te<q;H+=g,te+=w)for(ae=te%1,ie=1-ae,re=H,ne=Math.floor(te)*g;re<this.widthPassResultSize;ne+=this.originalWidthMultipliedByChannels,re+=this.targetWidthMultipliedByChannels)D[re+0]=d[ne+0]*ie+d[ne+g+0]*ae,D[re+1]=d[ne+1]*ie+d[ne+g+1]*ae,D[re+2]=d[ne+2]*ie+d[ne+g+2]*ae,m&&(D[re+3]=d[ne+3]*ie+d[ne+g+3]*ae);for(q=this.originalWidthMultipliedByChannels-g;H<this.targetWidthMultipliedByChannels;H+=g)for(re=H,ne=q;re<this.widthPassResultSize;ne+=this.originalWidthMultipliedByChannels,re+=this.targetWidthMultipliedByChannels)D[re]=d[ne],D[re+1]=d[ne+1],D[re+2]=d[ne+2],m&&(D[re+3]=d[ne+3]);return D},Resize.prototype._resizeWidthRGBChannels=function(d,m){const g=m?4:3,w=this.ratioWeightWidthPass,D=1/w,H=this.originalWidthMultipliedByChannels-g+1,q=this.targetWidthMultipliedByChannels-g+1,te=this.outputWidthWorkBench,re=this.widthBuffer,ne=this.outputWidthWorkBenchOpaquePixelsCount;let ie=0,ae=0,se=0,le=0,ue=0,fe=0,de=0,me=1,ge=0,he=0,pe=0,ve=0;do{for(ue=0;ue<this.originalHeightMultipliedByChannels;)te[ue++]=0,te[ue++]=0,te[ue++]=0,m&&(te[ue++]=0,ne[ue/g-1]=0);ie=w;do{for(ae=1+se-le,me=Math.min(ie,ae),ue=0,fe=se;ue<this.originalHeightMultipliedByChannels;fe+=H)ge=d[fe],he=d[++fe],pe=d[++fe],ve=m?d[++fe]:255,te[ue++]+=(ve?ge:0)*me,te[ue++]+=(ve?he:0)*me,te[ue++]+=(ve?pe:0)*me,m&&(te[ue++]+=ve*me,ne[ue/g-1]+=ve?me:0);if(!(ie>=ae)){le+=ie;break}se+=g,le=se,ie-=ae}while(ie>0&&se<this.originalWidthMultipliedByChannels);for(ue=0,fe=de;ue<this.originalHeightMultipliedByChannels;fe+=q)ie=m?ne[ue/g]:1,me=m?ie?1/ie:0:D,re[fe]=te[ue++]*me,re[++fe]=te[ue++]*me,re[++fe]=te[ue++]*me,m&&(re[++fe]=te[ue++]*D);de+=g}while(de<this.targetWidthMultipliedByChannels);return re},Resize.prototype._resizeHeightRGBChannels=function(d,m){const g=this.ratioWeightHeightPass,w=1/g,D=this.outputHeightWorkBench,H=this.heightBuffer,q=this.outputHeightWorkBenchOpaquePixelsCount;let te=0,re=0,ne=0,ie=0,ae=0,se=0,le=0,ue=1,fe=0,de=0,me=0,ge=0;do{for(ae=0;ae<this.targetWidthMultipliedByChannels;)D[ae++]=0,D[ae++]=0,D[ae++]=0,m&&(D[ae++]=0,q[ae/4-1]=0);te=g;do{for(re=1+ne-ie,ue=Math.min(te,re),le=ne,ae=0;ae<this.targetWidthMultipliedByChannels;)fe=d[le++],de=d[le++],me=d[le++],ge=m?d[le++]:255,D[ae++]+=(ge?fe:0)*ue,D[ae++]+=(ge?de:0)*ue,D[ae++]+=(ge?me:0)*ue,m&&(D[ae++]+=ge*ue,q[ae/4-1]+=ge?ue:0);if(!(te>=re)){ie+=te;break}ne=le,ie=ne,te-=re}while(te>0&&ne<this.widthPassResultSize);for(ae=0;ae<this.targetWidthMultipliedByChannels;)te=m?q[ae/4]:1,ue=m?te?1/te:0:w,H[se++]=Math.round(D[ae++]*ue),H[se++]=Math.round(D[ae++]*ue),H[se++]=Math.round(D[ae++]*ue),m&&(H[se++]=Math.round(D[ae++]*w))}while(se<this.finalResultSize);return H},Resize.prototype.resizeWidthInterpolatedRGB=function(d){return this._resizeWidthInterpolatedRGBChannels(d,!1)},Resize.prototype.resizeWidthInterpolatedRGBA=function(d){return this._resizeWidthInterpolatedRGBChannels(d,!0)},Resize.prototype.resizeWidthRGB=function(d){return this._resizeWidthRGBChannels(d,!1)},Resize.prototype.resizeWidthRGBA=function(d){return this._resizeWidthRGBChannels(d,!0)},Resize.prototype.resizeHeightInterpolated=function(d){const m=this.ratioWeightHeightPass,g=this.heightBuffer;let w,D=0,H=0,q=0,te=0,re=0,ne=0,ie=0;for(;D<1/3;D+=m)for(q=0;q<this.targetWidthMultipliedByChannels;)g[H++]=Math.round(d[q++]);for(D-=1/3,w=this.heightOriginal-1;D<w;D+=m)for(ie=D%1,ne=1-ie,te=Math.floor(D)*this.targetWidthMultipliedByChannels,re=te+this.targetWidthMultipliedByChannels,q=0;q<this.targetWidthMultipliedByChannels;++q)g[H++]=Math.round(d[te++]*ne+d[re++]*ie);for(;H<this.finalResultSize;)for(q=0,te=w*this.targetWidthMultipliedByChannels;q<this.targetWidthMultipliedByChannels;++q)g[H++]=Math.round(d[te++]);return g},Resize.prototype.resizeHeightRGB=function(d){return this._resizeHeightRGBChannels(d,!1)},Resize.prototype.resizeHeightRGBA=function(d){return this._resizeHeightRGBChannels(d,!0)},Resize.prototype.resize=function(d){this.resizeCallback(this.resizeHeight(this.resizeWidth(d)))},Resize.prototype.bypassResizer=function(d){return d},Resize.prototype.initializeFirstPassBuffers=function(d){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),d||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},Resize.prototype.initializeSecondPassBuffers=function(d){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),d||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},Resize.prototype.generateFloatBuffer=function(d){try{return new Float32Array(d)}catch(m){return console.error(m),[]}},Resize.prototype.generateFloat64Buffer=function(d){try{return new Float64Array(d)}catch(m){return console.error(m),[]}},Resize.prototype.generateUint8Buffer=function(d){try{return new Uint8Array(d)}catch(m){return console.error(m),[]}};const operations={nearestNeighbor(d,m){const g=d.width,w=d.height,D=m.width,H=m.height,q=d.data,te=m.data;for(let re=0;re<H;re++)for(let ne=0;ne<D;ne++){let ie=4*(re*D+ne),ae=4*(Math.floor(re*w/H)*g+Math.floor(ne*g/D));te[ie++]=q[ae++],te[ie++]=q[ae++],te[ie++]=q[ae++],te[ie++]=q[ae++]}},bilinearInterpolation(d,m){const g=d.width,w=d.height,D=m.width,H=m.height,q=d.data,te=m.data,re=function(ie,ae,se,le,ue){return ae===le?se:Math.round((ie-ae)*ue+(le-ie)*se)},ne=function(ie,ae,se,le,ue,fe,de,me){let ge=4*(de*g+le)+ae,he=4*(de*g+ue)+ae;const pe=re(se,le,q[ge],ue,q[he]);if(me===de)te[ie+ae]=pe;else{ge=4*(me*g+le)+ae,he=4*(me*g+ue)+ae;const ve=re(se,le,q[ge],ue,q[he]);te[ie+ae]=re(fe,de,pe,me,ve)}};for(let ie=0;ie<H;ie++)for(let ae=0;ae<D;ae++){const se=4*(ie*D+ae),le=ae*g/D,ue=Math.floor(le),fe=Math.min(Math.ceil(le),g-1),de=ie*w/H,me=Math.floor(de),ge=Math.min(Math.ceil(de),w-1);ne(se,0,le,ue,fe,de,me,ge),ne(se,1,le,ue,fe,de,me,ge),ne(se,2,le,ue,fe,de,me,ge),ne(se,3,le,ue,fe,de,me,ge)}},_interpolate2D(d,m,g,w){const D=d.data,H=m.data,q=d.width,te=d.height,re=m.width,ne=m.height,ie=Math.max(1,Math.floor(q/re)),ae=re*ie,se=Math.max(1,Math.floor(te/ne)),le=ne*se,ue=Buffer.alloc(ae*te*4);for(let me=0;me<te;me++)for(let ge=0;ge<ae;ge++){const he=ge*(q-1)/ae,pe=Math.floor(he),ve=he-pe,ke=4*(me*q+pe),be=4*(me*ae+ge);for(let Se=0;Se<4;Se++){const Ee=ke+Se,Ie=pe>0?D[Ee-4]:2*D[Ee]-D[Ee+4],_e=D[Ee],Te=D[Ee+4],Le=pe<q-2?D[Ee+8]:2*D[Ee+4]-D[Ee];ue[be+Se]=w(Ie,_e,Te,Le,ve)}}const fe=Buffer.alloc(ae*le*4);for(let me=0;me<le;me++)for(let ge=0;ge<ae;ge++){const he=me*(te-1)/le,pe=Math.floor(he),ve=he-pe,ke=4*(pe*ae+ge),be=4*(me*ae+ge);for(let Se=0;Se<4;Se++){const Ee=ke+Se,Ie=pe>0?ue[Ee-4*ae]:2*ue[Ee]-ue[Ee+4*ae],_e=ue[Ee],Te=ue[Ee+4*ae],Le=pe<te-2?ue[Ee+8*ae]:2*ue[Ee+4*ae]-ue[Ee];fe[be+Se]=w(Ie,_e,Te,Le,ve)}}const de=ie*se;if(de>1)for(let me=0;me<ne;me++)for(let ge=0;ge<re;ge++){let he=0,pe=0,ve=0,ke=0,be=0;for(let Ee=0;Ee<se;Ee++){const Ie=me*se+Ee;for(let _e=0;_e<ie;_e++){const Te=4*(Ie*ae+(ge*ie+_e)),Le=fe[Te+3];Le&&(he+=fe[Te],pe+=fe[Te+1],ve+=fe[Te+2],be++),ke+=Le}}const Se=4*(me*re+ge);H[Se]=be?Math.round(he/be):0,H[Se+1]=be?Math.round(pe/be):0,H[Se+2]=be?Math.round(ve/be):0,H[Se+3]=Math.round(ke/de)}else m.data=fe},bicubicInterpolation(d,m,g){return this._interpolate2D(d,m,g,function(w,D,H,q,te){const re=q-H-w+D,ne=w-D-re,ie=H-w,ae=D;return Math.max(0,Math.min(255,re*(te*te*te)+ne*(te*te)+ie*te+ae))})},hermiteInterpolation(d,m,g){return this._interpolate2D(d,m,g,function(w,D,H,q,te){const re=D,ne=.5*(H-w),ie=w-2.5*D+2*H-.5*q,ae=.5*(q-w)+1.5*(D-H);return Math.max(0,Math.min(255,Math.round(((ae*te+ie)*te+ne)*te+re)))})},bezierInterpolation(d,m,g){return this._interpolate2D(d,m,g,function(w,D,H,q,te){const re=1-te,ne=D*re*re*re,ie=3*(D+(H-w)/4)*re*re*te,ae=3*(H-(q-D)/4)*re*te*te,se=H*te*te*te;return Math.max(0,Math.min(255,Math.round(ne+ie+ae+se)))})}},ResizeOptionsSchema=z.union([z.object({w:z.number().min(0),h:z.number().min(0).optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),z.object({w:z.number().min(0).optional(),h:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()})]),ScaleToFitOptionsSchema=z.object({w:z.number().min(0),h:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()}),ScaleComplexOptionsSchema=z.object({f:z.number().min(0),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$d={resize(d,m){const{mode:g}=ResizeOptionsSchema.parse(m);let w,D;if(typeof m.w=="number")w=m.w,D=m.h??d.bitmap.height*(w/d.bitmap.width);else{if(typeof m.h!="number")throw new Error("w must be a number");D=m.h,w=m.w??d.bitmap.width*(D/d.bitmap.height)}if(w=Math.round(w)||1,D=Math.round(D)||1,g&&typeof operations[g]=="function"){const H={data:Buffer.alloc(w*D*4),width:w,height:D};operations[g](d.bitmap,H),d.bitmap=H}else new Resize(d.bitmap.width,d.bitmap.height,w,D,!0,!0,H=>{d.bitmap.data=Buffer.from(H),d.bitmap.width=w,d.bitmap.height=D}).resize(d.bitmap.data);return d},scale(d,m){const{f:g,mode:w}=typeof m=="number"?{f:m}:ScaleComplexOptionsSchema.parse(m),D=d.bitmap.width*g,H=d.bitmap.height*g;return this.resize(d,{w:D,h:H,mode:w})},scaleToFit(d,m){const{h:g,w,mode:D}=ScaleToFitOptionsSchema.parse(m),H=w/g>d.bitmap.width/d.bitmap.height?g/d.bitmap.height:w/d.bitmap.width;return this.scale(d,{f:H,mode:D})}},ContainOptionsSchema=z.object({w:z.number(),h:z.number(),align:z.number().optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$c={contain(d,m){const{w:g,h:w,align:D=HorizontalAlign.CENTER|VerticalAlign.MIDDLE,mode:H}=ContainOptionsSchema.parse(m),q=7&D,te=D>>3;if((q===0||q&q-1)&&(te===0||te&te-1))throw new Error("only use one flag per alignment direction");const re=q>>1,ne=te>>1,ie=g/w>d.bitmap.width/d.bitmap.height?w/d.bitmap.height:g/d.bitmap.width,ae=methods$d.scale(clone(d),{f:ie,mode:H});return(d=methods$d.resize(d,{w:g,h:w,mode:H})).scan((se,le,ue)=>{d.bitmap.data.writeUInt32BE(d.background,ue)}),d=methods$h.blit(d,{src:ae,x:(d.bitmap.width-ae.bitmap.width)/2*re,y:(d.bitmap.height-ae.bitmap.height)/2*ne})}},CropOptionsSchema=z.object({x:z.number(),y:z.number(),w:z.number(),h:z.number()}),AutocropComplexOptionsSchema=z.object({tolerance:z.number().min(0).max(1).optional(),cropOnlyFrames:z.boolean().optional(),cropSymmetric:z.boolean().optional(),leaveBorder:z.number().optional(),ignoreSides:z.object({north:z.boolean().optional(),south:z.boolean().optional(),east:z.boolean().optional(),west:z.boolean().optional()}).optional()}),methods$b={crop(d,m){let{x:g,y:w,w:D,h:H}=CropOptionsSchema.parse(m);if(g=Math.round(g),w=Math.round(w),D=Math.round(D),H=Math.round(H),g===0&&D===d.bitmap.width){const q=D*w+g<<2,te=q+(H*D<<2);d.bitmap.data=d.bitmap.data.slice(q,te)}else{const q=Buffer.allocUnsafe(D*H*4);let te=0;scan(d,g,w,D,H,function(re,ne,ie){const ae=d.bitmap.data.readUInt32BE(ie);q.writeUInt32BE(ae,te),te+=4}),d.bitmap.data=q}return d.bitmap.width=D,d.bitmap.height=H,d},autocrop(d,m={}){const{tolerance:g=2e-4,cropOnlyFrames:w=!0,cropSymmetric:D=!1,leaveBorder:H=0,ignoreSides:q}=typeof m=="number"?{tolerance:m}:AutocropComplexOptionsSchema.parse(m),te=d.bitmap.width,re=d.bitmap.height,ne={north:!1,south:!1,east:!1,west:!1,...q};let ie=d.getPixelColor(0,0);const ae=intToRGBA$1(ie);let se=0,le=0,ue=0,fe=0;if(ie=d.getPixelColor(0,0),!ne.north)e:for(let he=0;he<re-1;he++){for(let pe=0;pe<te;pe++)if(colorDiff(ae,intToRGBA$1(d.getPixelColor(pe,he)))>g)break e;se++}if(ie=d.getPixelColor(te,0),!ne.west)e:for(let he=0;he<te-1;he++){for(let pe=0+se;pe<re;pe++)if(colorDiff(ae,intToRGBA$1(d.getPixelColor(he,pe)))>g)break e;fe++}if(ie=d.getPixelColor(0,re),!ne.south)e:for(let he=re-1;he>=se+1;he--){for(let pe=te-le-1;pe>=0;pe--)if(colorDiff(ae,intToRGBA$1(d.getPixelColor(pe,he)))>g)break e;ue++}if(ie=d.getPixelColor(te,re),!ne.east)e:for(let he=te-1;he>=0+fe+1;he--){for(let pe=re-1;pe>=0+se;pe--)if(colorDiff(ae,intToRGBA$1(d.getPixelColor(he,pe)))>g)break e;le++}let de=!1;if(fe-=H,le-=H,se-=H,ue-=H,D){const he=Math.min(le,fe),pe=Math.min(se,ue);fe=he,le=he,se=pe,ue=pe}fe=fe>=0?fe:0,le=le>=0?le:0,se=se>=0?se:0,ue=ue>=0?ue:0;const me=te-(fe+le),ge=re-(ue+se);return de=w?le!==0&&se!==0&&fe!==0&&ue!==0:le!==0||se!==0||fe!==0||ue!==0,de&&this.crop(d,{x:fe,y:se,w:me,h:ge}),d}},CoverOptionsSchema=z.object({w:z.number(),h:z.number(),align:z.number().optional(),mode:z.nativeEnum(ResizeStrategy).optional()}),methods$a={cover(d,m){const{w:g,h:w,align:D=HorizontalAlign.CENTER|VerticalAlign.MIDDLE,mode:H}=CoverOptionsSchema.parse(m),q=7&D,te=D>>3;if((q===0||q&q-1)&&(te===0||te&te-1))throw new Error("only use one flag per alignment direction");const re=q>>1,ne=te>>1,ie=g/w>d.bitmap.width/d.bitmap.height?g/d.bitmap.width:w/d.bitmap.height;return d=methods$d.scale(d,{f:ie,mode:H}),d=methods$b.crop(d,{x:(d.bitmap.width-g)/2*re,y:(d.bitmap.height-w)/2*ne,w:g,h:w})}},DisplaceOptionsSchema=z.object({map:JimpClassSchema,offset:z.number()}),methods$9={displace(d,m){const{map:g,offset:w}=DisplaceOptionsSchema.parse(m),D=clone(d);return d.scan((H,q,te)=>{let re=g.bitmap.data[te]/256*w;re=Math.round(re);const ne=d.getPixelIndex(H+re,q);d.bitmap.data[ne]=D.bitmap.data[te],d.bitmap.data[ne+1]=D.bitmap.data[te+1],d.bitmap.data[ne+2]=D.bitmap.data[te+2]}),d}},methods$8={dither(d){const m=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return d.scan((g,w,D)=>{const H=m[((3&w)<<2)+g%4];d.bitmap.data[D]=Math.min(d.bitmap.data[D]+H,255),d.bitmap.data[D+1]=Math.min(d.bitmap.data[D+1]+H,255),d.bitmap.data[D+2]=Math.min(d.bitmap.data[D+2]+H,255)}),d}},FisheyeOptionsSchema=z.object({radius:z.number().min(0).optional()}),methods$7={fisheye(d,m={}){const{radius:g=2.5}=FisheyeOptionsSchema.parse(m),w=clone(d),{width:D,height:H}=w.bitmap;return w.scan((q,te)=>{const re=q/D,ne=te/H,ie=Math.sqrt(Math.pow(re-.5,2)+Math.pow(ne-.5,2)),ae=2*Math.pow(ie,g),se=(re-.5)/ie,le=(ne-.5)/ie,ue=Math.round((ae*se+.5)*D),fe=Math.round((ae*le+.5)*H),de=w.getPixelColor(ue,fe);d.setPixelColor(de,q,te)}),d.setPixelColor(w.getPixelColor(D/2,H/2),D/2,H/2),d}},FlipOptionsSchema=z.object({horizontal:z.boolean().optional(),vertical:z.boolean().optional()}),methods$6={flip(d,m){const{horizontal:g,vertical:w}=FlipOptionsSchema.parse(m),D=Buffer.alloc(d.bitmap.data.length);return d.scan((H,q,te)=>{const re=g?d.bitmap.width-1-H:H,ne=w?d.bitmap.height-1-q:q,ie=d.bitmap.width*ne+re<<2,ae=d.bitmap.data.readUInt32BE(te);D.writeUInt32BE(ae,ie)}),d.bitmap.data=Buffer.from(D),d}};function Converter$1(d,m){if(!(d&&m&&d.length&&m.length))throw new Error("Bad alphabet");this.srcAlphabet=d,this.dstAlphabet=m}Converter$1.prototype.convert=function(d){var m,g,w,D={},H=this.srcAlphabet.length,q=this.dstAlphabet.length,te=d.length,re=typeof d=="string"?"":[];if(!this.isValid(d))throw new Error('Number "'+d+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return d;for(m=0;m<te;m++)D[m]=this.srcAlphabet.indexOf(d[m]);do{for(g=0,w=0,m=0;m<te;m++)(g=g*H+D[m])>=q?(D[w++]=parseInt(g/q,10),g%=q):w>0&&(D[w++]=0);te=w,re=this.dstAlphabet.slice(g,g+1).concat(re)}while(w!==0);return re},Converter$1.prototype.isValid=function(d){for(var m=0;m<d.length;++m)if(this.srcAlphabet.indexOf(d[m])===-1)return!1;return!0};var converter=Converter$1,Converter=converter;function anyBase(d,m){var g=new Converter(d,m);return function(w){return g.convert(w)}}anyBase.BIN="01",anyBase.OCT="01234567",anyBase.DEC="0123456789",anyBase.HEX="0123456789abcdef";var anyBase_1=anyBase,anyBase$1=getDefaultExportFromCjs(anyBase_1),__defProp$1=Object.defineProperty,__defNormalProp$1=(d,m,g)=>m in d?__defProp$1(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__publicField$1=(d,m,g)=>__defNormalProp$1(d,typeof m!="symbol"?m+"":m,g);class ImagePHash{constructor(m,g){__publicField$1(this,"size"),__publicField$1(this,"smallerSize"),this.size=m||32,this.smallerSize=g||8,initCoefficients(this.size)}distance(m,g){let w=0;for(let D=0;D<m.length;D++)m[D]!==g[D]&&w++;return w/m.length}getHash(m){m=methods$d.resize(clone(m),{w:this.size,h:this.size}),m=methods$e.greyscale(m);const g=[];for(let te=0;te<m.bitmap.width;te++){const re=[];for(let ne=0;ne<m.bitmap.height;ne++)re[ne]=intToRGBA(m.getPixelColor(te,ne)).b;g[te]=re}const w=applyDCT(g,this.size);let D=0;for(let te=0;te<this.smallerSize;te++)for(let re=0;re<this.smallerSize;re++)D+=w[te][re];const H=D/(this.smallerSize*this.smallerSize);let q="";for(let te=0;te<this.smallerSize;te++)for(let re=0;re<this.smallerSize;re++)q+=w[te][re]>H?"1":"0";return q}}function intToRGBA(d){const m=255&d,g=255&(d>>>=8),w=255&(d>>>=8);return{r:255&(d>>>=8),g:w,b:g,a:m}}const c$1=[];function initCoefficients(d){for(let m=1;m<d;m++)c$1[m]=1;c$1[0]=1/Math.sqrt(2)}function applyDCT(d,m){const g=m,w=[];for(let D=0;D<g;D++){const H=[];for(let q=0;q<g;q++){let te=0;for(let re=0;re<g;re++)for(let ne=0;ne<g;ne++)te+=Math.cos((2*re+1)/(2*g)*D*Math.PI)*Math.cos((2*ne+1)/(2*g)*q*Math.PI)*d[re][ne];te*=c$1[D]*c$1[q]/4,H[q]=te,w[D]=H}}return w}const alphabet="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",maxHashLength=[NaN,NaN];for(let d=2;d<65;d++){const m=anyBase$1(anyBase$1.BIN,alphabet.slice(0,d))(new Array(65).join("1"));maxHashLength.push(m.length)}const methods$5={pHash:d=>new ImagePHash().getHash(d),hash(d,m=64){if(m<2||m>64)throw new Error("base must be a number between 2 and 64");const g=alphabet.slice(0,m),w=this.pHash(d),D=maxHashLength[m];return anyBase$1(anyBase$1.BIN,g)(w).padStart(D,"0")},distanceFromHash(d,m){const g=new ImagePHash,w=g.getHash(d);return g.distance(w,m)}},MaskOptionsObjectSchema=z.object({src:JimpClassSchema,x:z.number().optional(),y:z.number().optional()}),MaskOptionsSchema=z.union([JimpClassSchema,MaskOptionsObjectSchema]),methods$4={mask(d,m){let g,w,D;MaskOptionsSchema.parse(m),"bitmap"in m?(g=m,w=0,D=0):(g=m.src,w=m.x??0,D=m.y??0),w=Math.round(w),D=Math.round(D);const H=d.bitmap.width,q=d.bitmap.height;return g.scan(function(te,re,ne){const ie=w+te,ae=D+re;if(ie>=0&&ae>=0&&ie<H&&ae<q){const se=d.getPixelIndex(ie,ae),{data:le}=g.bitmap,ue=(le[ne+0]+le[ne+1]+le[ne+2])/3;d.bitmap.data[se+3]*=ue/255}}),d}};function measureText(d,m){let g=0;for(let w=0;w<m.length;w++){const D=m[w],H=d.chars[D];if(H){const q=d.kernings[D],te=m[w+1],re=q&&te&&q[te]&&q[te]||0;g+=(H.xadvance||0)+re}}return g}function splitLines(d,m,g){const w=m.replace(/[\r\n]+/g,` 
`).split(" "),D=[];let H=[],q=0;return w.forEach(te=>{if(measureText(d,te+(w.length>1?" ":""))>g){const ie=te[Symbol.iterator]();let ae="";for(const se of ie){const le=[...H,ae+se].join(" "),ue=measureText(d,le);ue<g?ae+=se:ue>g?(D.push([...H,ae]),H=[],ae=se):(D.push([...H,ae+se]),H=[],ae="")}return}const re=[...H,te].join(" "),ne=measureText(d,re);ne<=g&&!te.includes(`
`)?(ne>q&&(q=ne),H.push(te)):(D.push(H),H=[te.replace(`
`,"")])}),D.push(H),{lines:D,longestLine:q}}function measureTextHeight(d,m,g){const{lines:w}=splitLines(d,m,g);return w.length*d.common.lineHeight}const PrintOptionsSchema=z.object({x:z.number(),y:z.number(),text:z.union([z.union([z.string(),z.number()]),z.object({text:z.union([z.string(),z.number()]),alignmentX:z.nativeEnum(HorizontalAlign).optional(),alignmentY:z.nativeEnum(VerticalAlign).optional()})]),maxWidth:z.number().optional(),maxHeight:z.number().optional(),cb:z.function(z.tuple([z.object({x:z.number(),y:z.number()})])).optional()});function xOffsetBasedOnAlignment(d,m,g,w){return w===HorizontalAlign.LEFT?0:w===HorizontalAlign.CENTER?(g-measureText(d,m))/2:g-measureText(d,m)}function drawCharacter(d,m,g,w,D){if(D.width>0&&D.height>0){const H=m.pages[D.page];H&&(d=methods$h.blit(d,{src:H,x:g+D.xoffset,y:w+D.yoffset,srcX:D.x,srcY:D.y,srcW:D.width,srcH:D.height}))}return d}function printText(d,m,g,w,D,H){for(let q=0;q<D.length;q++){const te=D[q];let re;re=m.chars[te]?te:/\s/.test(te)?"":"?";const ne=m.chars[re]||{xadvance:void 0},ie=m.kernings[re];drawCharacter(d,m,g,w,ne);const ae=D[q+1];g+=(ie&&ae&&ie[ae]&&ie[ae]||0)+(ne.xadvance||H)}}const methods$3={print(d,{font:m,...g}){var ue;let w,D,{x:H,y:q,text:te,maxWidth:re=1/0,maxHeight:ne=1/0,cb:ie=()=>{}}=PrintOptionsSchema.parse(g);typeof te=="object"&&te.text!==null&&te.text!==void 0?(w=te.alignmentX||HorizontalAlign.LEFT,D=te.alignmentY||VerticalAlign.TOP,{text:te}=te):(w=HorizontalAlign.LEFT,D=VerticalAlign.TOP,te=te.toString()),typeof te=="number"&&(te=te.toString()),ne!==1/0&&D===VerticalAlign.BOTTOM?q+=ne-measureTextHeight(m,te,re):ne!==1/0&&D===VerticalAlign.MIDDLE&&(q+=ne/2-measureTextHeight(m,te,re)/2);const ae=(ue=Object.entries(m.chars).find(fe=>fe[1].xadvance))==null?void 0:ue[1].xadvance;if(typeof ae!="number")throw new Error("Could not find default character width");const{lines:se,longestLine:le}=splitLines(m,te,re);return se.forEach(fe=>{const de=fe.join(" "),me=xOffsetBasedOnAlignment(m,de,re,w);printText(d,m,H+me,q,de,ae),q+=m.common.lineHeight}),ie.bind(d)({x:H+le,y:q}),d}},RotateOptionsSchema=z.union([z.number(),z.object({deg:z.number(),mode:z.union([z.boolean(),z.nativeEnum(ResizeStrategy)]).optional()})]);function createIdxTranslationFunction(d){return function(m,g){return g*d+m<<2}}function matrixRotate(d,m){if(Math.abs(m)%90!=0)throw new Error("Unsupported matrix rotation degree");const g=d.bitmap.width,w=d.bitmap.height;let D;switch(m){case 90:case-270:D=90;break;case 180:case-180:D=180;break;case 270:case-90:D=-90;break;default:throw new Error("Unsupported matrix rotation degree")}const H=D===180?g:w,q=D===180?w:g,te=Buffer.alloc(d.bitmap.data.length),re=createIdxTranslationFunction(g),ne=createIdxTranslationFunction(H);for(let ie=0;ie<g;ie++)for(let ae=0;ae<w;ae++){const se=re(ie,ae),le=d.bitmap.data.readUInt32BE(se);let ue;switch(D){case 90:ue=ne(ae,g-ie-1);break;case-90:ue=ne(w-ae-1,ie);break;case 180:ue=ne(g-ie-1,w-ae-1);break;default:throw new Error("Unsupported matrix rotation angle")}te.writeUInt32BE(le,ue)}d.bitmap.data=te,d.bitmap.width=H,d.bitmap.height=q}function createTranslationFunction(d,m){return function(g,w){return{x:g+d,y:w+m}}}function advancedRotate(d,m,g){const w=m*Math.PI/180,D=Math.cos(w),H=Math.sin(w);let q=d.bitmap.width,te=d.bitmap.height;if(g===!0||typeof g=="string"){q=Math.ceil(Math.abs(d.bitmap.width*D)+Math.abs(d.bitmap.height*H))+1,te=Math.ceil(Math.abs(d.bitmap.width*H)+Math.abs(d.bitmap.height*D))+1,q%2!=0&&q++,te%2!=0&&te++;const le=clone(d);d.scan((fe,de,me)=>{d.bitmap.data.writeUInt32BE(d.background,me)});const ue=Math.max(q,te,d.bitmap.width,d.bitmap.height);d=composite(d=methods$d.resize(d,{h:ue,w:ue,mode:g===!0?void 0:g}),le,d.bitmap.width/2-le.bitmap.width/2,d.bitmap.height/2-le.bitmap.height/2)}const re=d.bitmap.width,ne=d.bitmap.height,ie=Buffer.alloc(d.bitmap.data.length),ae=createTranslationFunction(-re/2,-ne/2),se=createTranslationFunction(re/2+.5,ne/2+.5);for(let le=1;le<=ne;le++)for(let ue=1;ue<=re;ue++){const fe=ae(ue,le),de=se(D*fe.x-H*fe.y,D*fe.y+H*fe.x),me=re*(le-1)+ue-1<<2;if(de.x>=0&&de.x<re&&de.y>=0&&de.y<ne){const ge=re*(0|de.y)+de.x<<2,he=d.bitmap.data.readUInt32BE(ge);ie.writeUInt32BE(he,me)}else ie.writeUInt32BE(d.background,me)}if(d.bitmap.data=ie,g===!0||typeof g=="string"){const le=Math.max(re/2-q/2,0),ue=Math.max(ne/2-te/2,0);d=methods$b.crop(d,{x:le,y:ue,w:q,h:te})}}const methods$2={rotate(d,m){const g=RotateOptionsSchema.parse(m),w=typeof g=="number"?{deg:g}:g,{mode:D=!0}=w;let{deg:H}=w;return H%=360,H%360==0||(H%90==0&&(D||d.bitmap.width===d.bitmap.height||H%180==0)?matrixRotate(d,H):advancedRotate(d,H,D)),d}},ThresholdOptionsSchema=z.object({max:z.number().min(0).max(255),replace:z.number().min(0).max(255).optional(),autoGreyscale:z.boolean().optional()}),methods$1={threshold(d,m){let{max:g,replace:w=255,autoGreyscale:D=!0}=ThresholdOptionsSchema.parse(m);return g=limit255(g),w=limit255(w),D&&methods$e.greyscale(d),d.scan((H,q,te)=>{const re=d.bitmap.data[te]<g?d.bitmap.data[te]:w;d.bitmap.data[te]=re,d.bitmap.data[te+1]=re,d.bitmap.data[te+2]=re}),d}};var __defProp=Object.defineProperty,__defNormalProp=(d,m,g)=>m in d?__defProp(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__export=(d,m)=>{for(var g in m)__defProp(d,g,{get:m[g],enumerable:!0})},__publicField=(d,m,g)=>(__defNormalProp(d,typeof m!="symbol"?m+"":m,g),g),constants_exports={};__export(constants_exports,{bt709:()=>bt709_exports});var bt709_exports={};__export(bt709_exports,{Y:()=>Y,x:()=>x$1,y:()=>y$1});var Y=(d=>(d[d.RED=.2126]="RED",d[d.GREEN=.7152]="GREEN",d[d.BLUE=.0722]="BLUE",d[d.WHITE=1]="WHITE",d))(Y||{}),x$1=(d=>(d[d.RED=.64]="RED",d[d.GREEN=.3]="GREEN",d[d.BLUE=.15]="BLUE",d[d.WHITE=.3127]="WHITE",d))(x$1||{}),y$1=(d=>(d[d.RED=.33]="RED",d[d.GREEN=.6]="GREEN",d[d.BLUE=.06]="BLUE",d[d.WHITE=.329]="WHITE",d))(y$1||{}),conversion_exports={};function correctGamma(d){return d>.04045?((d+.055)/1.055)**2.4:d/12.92}function rgb2xyz(d,m,g){return{x:.4124*(d=correctGamma(d/255))+.3576*(m=correctGamma(m/255))+.1805*(g=correctGamma(g/255)),y:.2126*d+.7152*m+.0722*g,z:.0193*d+.1192*m+.9505*g}}__export(conversion_exports,{lab2rgb:()=>lab2rgb,lab2xyz:()=>lab2xyz,rgb2hsl:()=>rgb2hsl,rgb2lab:()=>rgb2lab,rgb2xyz:()=>rgb2xyz,xyz2lab:()=>xyz2lab,xyz2rgb:()=>xyz2rgb});var arithmetic_exports={};function degrees2radians(d){return d*(Math.PI/180)}function max3(d,m,g){let w=d;return w<m&&(w=m),w<g&&(w=g),w}function min3(d,m,g){let w=d;return w>m&&(w=m),w>g&&(w=g),w}function intInRange(d,m,g){return d>g&&(d=g),d<m&&(d=m),0|d}function inRange0to255Rounded(d){return(d=Math.round(d))>255?d=255:d<0&&(d=0),d}function inRange0to255(d){return d>255?d=255:d<0&&(d=0),d}function stableSort(d,m){const g=typeof d[0];let w;if(g==="number"||g==="string"){const D=Object.create(null);for(let H=0,q=d.length;H<q;H++){const te=d[H];D[te]||D[te]===0||(D[te]=H)}w=d.sort((H,q)=>m(H,q)||D[H]-D[q])}else{const D=d.slice(0);w=d.sort((H,q)=>m(H,q)||D.indexOf(H)-D.indexOf(q))}return w}function rgb2hsl(d,m,g){const w=min3(d,m,g),D=max3(d,m,g),H=D-w,q=(w+D)/510;let te=0;q>0&&q<1&&(te=H/(q<.5?D+w:510-D-w));let re=0;return H>0&&(re=D===d?(m-g)/H:D===m?2+(g-d)/H:4+(d-m)/H,re*=60,re<0&&(re+=360)),{h:re,s:te,l:q}}__export(arithmetic_exports,{degrees2radians:()=>degrees2radians,inRange0to255:()=>inRange0to255,inRange0to255Rounded:()=>inRange0to255Rounded,intInRange:()=>intInRange,max3:()=>max3,min3:()=>min3,stableSort:()=>stableSort});var refX=.95047,refY=1,refZ=1.08883;function pivot(d){return d>.008856?d**(1/3):7.787*d+16/116}function xyz2lab(d,m,g){if(d=pivot(d/refX),m=pivot(m/refY),g=pivot(g/refZ),116*m-16<0)throw new Error("xxx");return{L:Math.max(0,116*m-16),a:500*(d-m),b:200*(m-g)}}function rgb2lab(d,m,g){const w=rgb2xyz(d,m,g);return xyz2lab(w.x,w.y,w.z)}var refX2=.95047,refY2=1,refZ2=1.08883;function pivot2(d){return d>.206893034?d**3:(d-16/116)/7.787}function lab2xyz(d,m,g){const w=(d+16)/116,D=w-g/200;return{x:refX2*pivot2(m/500+w),y:refY2*pivot2(w),z:refZ2*pivot2(D)}}function correctGamma2(d){return d>.0031308?1.055*d**(1/2.4)-.055:12.92*d}function xyz2rgb(d,m,g){const w=correctGamma2(3.2406*d+-1.5372*m+-.4986*g),D=correctGamma2(-.9689*d+1.8758*m+.0415*g),H=correctGamma2(.0557*d+-.204*m+1.057*g);return{r:inRange0to255Rounded(255*w),g:inRange0to255Rounded(255*D),b:inRange0to255Rounded(255*H)}}function lab2rgb(d,m,g){const w=lab2xyz(d,m,g);return xyz2rgb(w.x,w.y,w.z)}var distance_exports={};__export(distance_exports,{AbstractDistanceCalculator:()=>AbstractDistanceCalculator,AbstractEuclidean:()=>AbstractEuclidean,AbstractManhattan:()=>AbstractManhattan,CIE94GraphicArts:()=>CIE94GraphicArts,CIE94Textiles:()=>CIE94Textiles,CIEDE2000:()=>CIEDE2000,CMetric:()=>CMetric,Euclidean:()=>Euclidean,EuclideanBT709:()=>EuclideanBT709,EuclideanBT709NoAlpha:()=>EuclideanBT709NoAlpha,Manhattan:()=>Manhattan,ManhattanBT709:()=>ManhattanBT709,ManhattanNommyde:()=>ManhattanNommyde,PNGQuant:()=>PNGQuant});var AbstractDistanceCalculator=class{constructor(){__publicField(this,"_maxDistance"),__publicField(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(d,m,g,w){this._whitePoint={r:d>0?255/d:0,g:m>0?255/m:0,b:g>0?255/g:0,a:w>0?255/w:0},this._maxDistance=this.calculateRaw(d,m,g,w,0,0,0,0)}calculateNormalized(d,m){return this.calculateRaw(d.r,d.g,d.b,d.a,m.r,m.g,m.b,m.a)/this._maxDistance}},AbstractCIE94=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,H,q,te){const re=rgb2lab(inRange0to255(d*this._whitePoint.r),inRange0to255(m*this._whitePoint.g),inRange0to255(g*this._whitePoint.b)),ne=rgb2lab(inRange0to255(D*this._whitePoint.r),inRange0to255(H*this._whitePoint.g),inRange0to255(q*this._whitePoint.b)),ie=re.L-ne.L,ae=re.a-ne.a,se=re.b-ne.b,le=Math.sqrt(re.a*re.a+re.b*re.b),ue=le-Math.sqrt(ne.a*ne.a+ne.b*ne.b);let fe=ae*ae+se*se-ue*ue;fe=fe<0?0:Math.sqrt(fe);const de=(te-w)*this._whitePoint.a*this._kA;return Math.sqrt((ie/this._Kl)**2+(ue/(1+this._K1*le))**2+(fe/(1+this._K2*le))**2+de**2)}},CIE94Textiles=class extends AbstractCIE94{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},CIE94GraphicArts=class extends AbstractCIE94{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},_CIEDE2000=class extends AbstractDistanceCalculator{_setDefaults(){}static _calculatehp(d,m){const g=Math.atan2(d,m);return g>=0?g:g+_CIEDE2000._deg360InRad}static _calculateRT(d,m){const g=m**7,w=2*Math.sqrt(g/(g+_CIEDE2000._pow25to7)),D=_CIEDE2000._deg30InRad*Math.exp(-(((d-_CIEDE2000._deg275InRad)/_CIEDE2000._deg25InRad)**2));return-Math.sin(2*D)*w}static _calculateT(d){return 1-.17*Math.cos(d-_CIEDE2000._deg30InRad)+.24*Math.cos(2*d)+.32*Math.cos(3*d+_CIEDE2000._deg6InRad)-.2*Math.cos(4*d-_CIEDE2000._deg63InRad)}static _calculate_ahp(d,m,g,w){const D=g+w;return d===0?D:m<=_CIEDE2000._deg180InRad?D/2:D<_CIEDE2000._deg360InRad?(D+_CIEDE2000._deg360InRad)/2:(D-_CIEDE2000._deg360InRad)/2}static _calculate_dHp(d,m,g,w){let D;return D=d===0?0:m<=_CIEDE2000._deg180InRad?g-w:g<=w?g-w+_CIEDE2000._deg360InRad:g-w-_CIEDE2000._deg360InRad,2*Math.sqrt(d)*Math.sin(D/2)}calculateRaw(d,m,g,w,D,H,q,te){const re=rgb2lab(inRange0to255(d*this._whitePoint.r),inRange0to255(m*this._whitePoint.g),inRange0to255(g*this._whitePoint.b)),ne=rgb2lab(inRange0to255(D*this._whitePoint.r),inRange0to255(H*this._whitePoint.g),inRange0to255(q*this._whitePoint.b)),ie=(te-w)*this._whitePoint.a*_CIEDE2000._kA,ae=this.calculateRawInLab(re,ne);return Math.sqrt(ae+ie*ie)}calculateRawInLab(d,m){const g=d.L,w=d.a,D=d.b,H=m.L,q=m.a,te=m.b,re=((Math.sqrt(w*w+D*D)+Math.sqrt(q*q+te*te))/2)**7,ne=.5*(1-Math.sqrt(re/(re+_CIEDE2000._pow25to7))),ie=(1+ne)*w,ae=(1+ne)*q,se=Math.sqrt(ie*ie+D*D),le=Math.sqrt(ae*ae+te*te),ue=se*le,fe=_CIEDE2000._calculatehp(D,ie),de=_CIEDE2000._calculatehp(te,ae),me=Math.abs(fe-de),ge=H-g,he=le-se,pe=_CIEDE2000._calculate_dHp(ue,me,de,fe),ve=_CIEDE2000._calculate_ahp(ue,me,fe,de),ke=(se+le)/2,be=((g+H)/2-50)**2,Se=he/(1+.045*ke),Ee=pe/(1+.015*_CIEDE2000._calculateT(ve)*ke);return(ge/(1+.015*be/Math.sqrt(20+be)))**2+Se**2+Ee**2+_CIEDE2000._calculateRT(ve,ke)*Se*Ee}},CIEDE2000=_CIEDE2000;__publicField(CIEDE2000,"_kA",25/255),__publicField(CIEDE2000,"_pow25to7",25**7),__publicField(CIEDE2000,"_deg360InRad",degrees2radians(360)),__publicField(CIEDE2000,"_deg180InRad",degrees2radians(180)),__publicField(CIEDE2000,"_deg30InRad",degrees2radians(30)),__publicField(CIEDE2000,"_deg6InRad",degrees2radians(6)),__publicField(CIEDE2000,"_deg63InRad",degrees2radians(63)),__publicField(CIEDE2000,"_deg275InRad",degrees2radians(275)),__publicField(CIEDE2000,"_deg25InRad",degrees2radians(25));var CMetric=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,H,q,te){const re=(d+D)/2*this._whitePoint.r,ne=(d-D)*this._whitePoint.r,ie=(m-H)*this._whitePoint.g,ae=(g-q)*this._whitePoint.b,se=((512+re)*ne*ne>>8)+4*ie*ie+((767-re)*ae*ae>>8),le=(te-w)*this._whitePoint.a;return Math.sqrt(se+le*le)}_setDefaults(){}},AbstractEuclidean=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,H,q,te){const re=D-d,ne=H-m,ie=q-g,ae=te-w;return Math.sqrt(this._kR*re*re+this._kG*ne*ne+this._kB*ie*ie+this._kA*ae*ae)}},Euclidean=class extends AbstractEuclidean{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},EuclideanBT709=class extends AbstractEuclidean{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},EuclideanBT709NoAlpha=class extends AbstractEuclidean{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},AbstractManhattan=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,H,q,te){let re=D-d,ne=H-m,ie=q-g,ae=te-w;return re<0&&(re=0-re),ne<0&&(ne=0-ne),ie<0&&(ie=0-ie),ae<0&&(ae=0-ae),this._kR*re+this._kG*ne+this._kB*ie+this._kA*ae}},Manhattan=class extends AbstractManhattan{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},ManhattanNommyde=class extends AbstractManhattan{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ManhattanBT709=class extends AbstractManhattan{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},PNGQuant=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,H,q,te){const re=(te-w)*this._whitePoint.a;return this._colordifferenceCh(d*this._whitePoint.r,D*this._whitePoint.r,re)+this._colordifferenceCh(m*this._whitePoint.g,H*this._whitePoint.g,re)+this._colordifferenceCh(g*this._whitePoint.b,q*this._whitePoint.b,re)}_colordifferenceCh(d,m,g){const w=d-m,D=w+g;return w*w+D*D}_setDefaults(){}},palette_exports={};__export(palette_exports,{AbstractPaletteQuantizer:()=>AbstractPaletteQuantizer,ColorHistogram:()=>ColorHistogram,NeuQuant:()=>NeuQuant,NeuQuantFloat:()=>NeuQuantFloat,RGBQuant:()=>RGBQuant,WuColorCube:()=>WuColorCube,WuQuant:()=>WuQuant});var AbstractPaletteQuantizer=class{quantizeSync(){for(const d of this.quantize())if(d.palette)return d.palette;throw new Error("unreachable")}},Point=class{constructor(){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),__publicField(this,"uint32"),__publicField(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(d){const m=new Point;return m.r=0|d[0],m.g=0|d[1],m.b=0|d[2],m.a=0|d[3],m._loadUINT32(),m._loadQuadruplet(),m}static createByRGBA(d,m,g,w){const D=new Point;return D.r=0|d,D.g=0|m,D.b=0|g,D.a=0|w,D._loadUINT32(),D._loadQuadruplet(),D}static createByUint32(d){const m=new Point;return m.uint32=d>>>0,m._loadRGBA(),m._loadQuadruplet(),m}from(d){this.r=d.r,this.g=d.g,this.b=d.b,this.a=d.a,this.uint32=d.uint32,this.rgba[0]=d.r,this.rgba[1]=d.g,this.rgba[2]=d.b,this.rgba[3]=d.a}getLuminosity(d){let m=this.r,g=this.g,w=this.b;return d&&(m=Math.min(255,255-this.a+this.a*m/255),g=Math.min(255,255-this.a+this.a*g/255),w=Math.min(255,255-this.a+this.a*w/255)),.2126*m+.7152*g+.0722*w}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},PointContainer=class{constructor(){__publicField(this,"_pointArray"),__publicField(this,"_width"),__publicField(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(d){this._width=d}setHeight(d){this._height=d}getPointArray(){return this._pointArray}clone(){const d=new PointContainer;d._width=this._width,d._height=this._height;for(let m=0,g=this._pointArray.length;m<g;m++)d._pointArray[m]=Point.createByUint32(0|this._pointArray[m].uint32);return d}toUint32Array(){const d=this._pointArray.length,m=new Uint32Array(d);for(let g=0;g<d;g++)m[g]=this._pointArray[g].uint32;return m}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(d){const m=d.naturalWidth,g=d.naturalHeight,w=document.createElement("canvas");return w.width=m,w.height=g,w.getContext("2d").drawImage(d,0,0,m,g,0,0,m,g),PointContainer.fromHTMLCanvasElement(w)}static fromHTMLCanvasElement(d){const m=d.width,g=d.height,w=d.getContext("2d").getImageData(0,0,m,g);return PointContainer.fromImageData(w)}static fromImageData(d){const m=d.width,g=d.height;return PointContainer.fromUint8Array(d.data,m,g)}static fromUint8Array(d,m,g){switch(Object.prototype.toString.call(d)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:d=new Uint8Array(d)}const w=new Uint32Array(d.buffer);return PointContainer.fromUint32Array(w,m,g)}static fromUint32Array(d,m,g){const w=new PointContainer;w._width=m,w._height=g;for(let D=0,H=d.length;D<H;D++)w._pointArray[D]=Point.createByUint32(0|d[D]);return w}static fromBuffer(d,m,g){const w=new Uint32Array(d.buffer,d.byteOffset,d.byteLength/Uint32Array.BYTES_PER_ELEMENT);return PointContainer.fromUint32Array(w,m,g)}},hueGroups=10;function hueGroup(d,m){const g=360/m;for(let w=1,D=g-g/2;w<m;w++,D+=g)if(d>=D&&d<D+g)return w;return 0}var Palette=class{constructor(){__publicField(this,"_pointContainer"),__publicField(this,"_pointArray",[]),__publicField(this,"_i32idx",{}),this._pointContainer=new PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(d){this._pointArray.push(d),this._pointContainer.setWidth(this._pointArray.length)}has(d){for(let m=this._pointArray.length-1;m>=0;m--)if(d.uint32===this._pointArray[m].uint32)return!0;return!1}getNearestColor(d,m){return this._pointArray[0|this._getNearestIndex(d,m)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(d){return typeof this._i32idx[d]=="number"?this._i32idx[d]:-1}_getNearestIndex(d,m){let g=this._nearestPointFromCache(""+m.uint32);if(g>=0)return g;let w=Number.MAX_VALUE;g=0;for(let D=0,H=this._pointArray.length;D<H;D++){const q=this._pointArray[D],te=d.calculateRaw(m.r,m.g,m.b,m.a,q.r,q.g,q.b,q.a);te<w&&(w=te,g=D)}return this._i32idx[m.uint32]=g,g}sort(){this._i32idx={},this._pointArray.sort((d,m)=>{const g=rgb2hsl(d.r,d.g,d.b),w=rgb2hsl(m.r,m.g,m.b),D=d.r===d.g&&d.g===d.b?0:1+hueGroup(g.h,hueGroups),H=(m.r===m.g&&m.g===m.b?0:1+hueGroup(w.h,hueGroups))-D;if(H)return-H;const q=d.getLuminosity(!0),te=m.getLuminosity(!0);if(te-q!=0)return te-q;const re=(100*w.s|0)-(100*g.s|0);return re?-re:0})}},utils_exports={};__export(utils_exports,{HueStatistics:()=>HueStatistics,Palette:()=>Palette,Point:()=>Point,PointContainer:()=>PointContainer,ProgressTracker:()=>ProgressTracker,arithmetic:()=>arithmetic_exports});var HueGroup=class{constructor(){__publicField(this,"num",0),__publicField(this,"cols",[])}},HueStatistics=class{constructor(d,m){__publicField(this,"_numGroups"),__publicField(this,"_minCols"),__publicField(this,"_stats"),__publicField(this,"_groupsFull"),this._numGroups=d,this._minCols=m,this._stats=[];for(let g=0;g<=d;g++)this._stats[g]=new HueGroup;this._groupsFull=0}check(d){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const m=255&d,g=d>>>8&255,w=d>>>16&255,D=m===g&&g===w?0:1+hueGroup(rgb2hsl(m,g,w).h,this._numGroups),H=this._stats[D],q=this._minCols;H.num++,H.num>q||(H.num===q&&this._groupsFull++,H.num<=q&&this._stats[D].cols.push(d))}injectIntoDictionary(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d[g]?d[g]++:d[g]=1})}injectIntoArray(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d.indexOf(g)===-1&&d.push(g)})}},_ProgressTracker=class{constructor(d,m){__publicField(this,"progress"),__publicField(this,"_step"),__publicField(this,"_range"),__publicField(this,"_last"),__publicField(this,"_progressRange"),this._range=d,this._progressRange=m,this._step=Math.max(1,this._range/(_ProgressTracker.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(d){return d-this._last>=this._step&&(this._last=d,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},ProgressTracker=_ProgressTracker;__publicField(ProgressTracker,"steps",100);var networkBiasShift=3,Neuron=class{constructor(d){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point.createByRGBA(this.r>>networkBiasShift,this.g>>networkBiasShift,this.b>>networkBiasShift,this.a>>networkBiasShift)}subtract(d,m,g,w){this.r-=0|d,this.g-=0|m,this.b-=0|g,this.a-=0|w}},_NeuQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256){super(),__publicField(this,"_pointArray"),__publicField(this,"_networkSize"),__publicField(this,"_network"),__publicField(this,"_sampleFactor"),__publicField(this,"_radPower"),__publicField(this,"_freq"),__publicField(this,"_bias"),__publicField(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift,255<<networkBiasShift,255<<networkBiasShift,255<<networkBiasShift)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new Neuron((d<<networkBiasShift+8)/this._networkSize|0),this._freq[d]=_NeuQuant._initialBias/this._networkSize|0,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuant._minpicturebytes&&(d=1);const g=30+(d-1)/3|0,w=m/d|0;let D,H=w/_NeuQuant._nCycles|0,q=_NeuQuant._initAlpha,te=(this._networkSize>>3)*_NeuQuant._radiusBias,re=te>>_NeuQuant._radiusBiasShift;re<=1&&(re=0);for(let ie=0;ie<re;ie++)this._radPower[ie]=q*((re*re-ie*ie)*_NeuQuant._radBias/(re*re))>>>0;D=m<_NeuQuant._minpicturebytes?1:m%_NeuQuant._prime1!=0?_NeuQuant._prime1:m%_NeuQuant._prime2!=0?_NeuQuant._prime2:m%_NeuQuant._prime3!=0?_NeuQuant._prime3:_NeuQuant._prime4;const ne=new ProgressTracker(w,99);for(let ie=0,ae=0;ie<w;){ne.shouldNotify(ie)&&(yield{progress:ne.progress});const se=this._pointArray[ae],le=se.b<<networkBiasShift,ue=se.g<<networkBiasShift,fe=se.r<<networkBiasShift,de=se.a<<networkBiasShift,me=this._contest(le,ue,fe,de);if(this._alterSingle(q,me,le,ue,fe,de),re!==0&&this._alterNeighbour(re,me,le,ue,fe,de),ae+=D,ae>=m&&(ae-=m),ie++,H===0&&(H=1),ie%H==0){q-=q/g|0,te-=te/_NeuQuant._radiusDecrease|0,re=te>>_NeuQuant._radiusBiasShift,re<=1&&(re=0);for(let ge=0;ge<re;ge++)this._radPower[ge]=q*((re*re-ge*ge)*_NeuQuant._radBias/(re*re))>>>0}}}_buildPalette(){const d=new Palette;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,D,H){let q=m-d;q<-1&&(q=-1);let te=m+d;te>this._networkSize&&(te=this._networkSize);let re=m+1,ne=m-1,ie=1;for(;re<te||ne>q;){const ae=this._radPower[ie++]/_NeuQuant._alphaRadBias;if(re<te){const se=this._network[re++];se.subtract(ae*(se.r-D),ae*(se.g-w),ae*(se.b-g),ae*(se.a-H))}if(ne>q){const se=this._network[ne--];se.subtract(ae*(se.r-D),ae*(se.g-w),ae*(se.b-g),ae*(se.a-H))}}}_alterSingle(d,m,g,w,D,H){d/=_NeuQuant._initAlpha;const q=this._network[m];q.subtract(d*(q.r-D),d*(q.g-w),d*(q.b-g),d*(q.a-H))}_contest(d,m,g,w){const D=1020<<networkBiasShift;let H=2147483647,q=H,te=-1,re=te;for(let ne=0;ne<this._networkSize;ne++){const ie=this._network[ne],ae=this._distance.calculateNormalized(ie,{r:g,g:m,b:d,a:w})*D|0;ae<H&&(H=ae,te=ne);const se=ae-(this._bias[ne]>>_NeuQuant._initialBiasShift-networkBiasShift);se<q&&(q=se,re=ne);const le=this._freq[ne]>>_NeuQuant._betaShift;this._freq[ne]-=le,this._bias[ne]+=le<<_NeuQuant._gammaShift}return this._freq[te]+=_NeuQuant._beta,this._bias[te]-=_NeuQuant._betaGamma,re}},NeuQuant=_NeuQuant;__publicField(NeuQuant,"_prime1",499),__publicField(NeuQuant,"_prime2",491),__publicField(NeuQuant,"_prime3",487),__publicField(NeuQuant,"_prime4",503),__publicField(NeuQuant,"_minpicturebytes",_NeuQuant._prime4),__publicField(NeuQuant,"_nCycles",100),__publicField(NeuQuant,"_initialBiasShift",16),__publicField(NeuQuant,"_initialBias",1<<_NeuQuant._initialBiasShift),__publicField(NeuQuant,"_gammaShift",10),__publicField(NeuQuant,"_betaShift",10),__publicField(NeuQuant,"_beta",_NeuQuant._initialBias>>_NeuQuant._betaShift),__publicField(NeuQuant,"_betaGamma",_NeuQuant._initialBias<<_NeuQuant._gammaShift-_NeuQuant._betaShift),__publicField(NeuQuant,"_radiusBiasShift",6),__publicField(NeuQuant,"_radiusBias",1<<_NeuQuant._radiusBiasShift),__publicField(NeuQuant,"_radiusDecrease",30),__publicField(NeuQuant,"_alphaBiasShift",10),__publicField(NeuQuant,"_initAlpha",1<<_NeuQuant._alphaBiasShift),__publicField(NeuQuant,"_radBiasShift",8),__publicField(NeuQuant,"_radBias",1<<_NeuQuant._radBiasShift),__publicField(NeuQuant,"_alphaRadBiasShift",_NeuQuant._alphaBiasShift+_NeuQuant._radBiasShift),__publicField(NeuQuant,"_alphaRadBias",1<<_NeuQuant._alphaRadBiasShift);var networkBiasShift2=3,NeuronFloat=class{constructor(d){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point.createByRGBA(this.r>>networkBiasShift2,this.g>>networkBiasShift2,this.b>>networkBiasShift2,this.a>>networkBiasShift2)}subtract(d,m,g,w){this.r-=d,this.g-=m,this.b-=g,this.a-=w}},_NeuQuantFloat=class extends AbstractPaletteQuantizer{constructor(d,m=256){super(),__publicField(this,"_pointArray"),__publicField(this,"_networkSize"),__publicField(this,"_network"),__publicField(this,"_sampleFactor"),__publicField(this,"_radPower"),__publicField(this,"_freq"),__publicField(this,"_bias"),__publicField(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift2,255<<networkBiasShift2,255<<networkBiasShift2,255<<networkBiasShift2)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new NeuronFloat((d<<networkBiasShift2+8)/this._networkSize),this._freq[d]=_NeuQuantFloat._initialBias/this._networkSize,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuantFloat._minpicturebytes&&(d=1);const g=30+(d-1)/3,w=m/d;let D,H=w/_NeuQuantFloat._nCycles|0,q=_NeuQuantFloat._initAlpha,te=(this._networkSize>>3)*_NeuQuantFloat._radiusBias,re=te>>_NeuQuantFloat._radiusBiasShift;re<=1&&(re=0);for(let ie=0;ie<re;ie++)this._radPower[ie]=q*((re*re-ie*ie)*_NeuQuantFloat._radBias/(re*re));D=m<_NeuQuantFloat._minpicturebytes?1:m%_NeuQuantFloat._prime1!=0?_NeuQuantFloat._prime1:m%_NeuQuantFloat._prime2!=0?_NeuQuantFloat._prime2:m%_NeuQuantFloat._prime3!=0?_NeuQuantFloat._prime3:_NeuQuantFloat._prime4;const ne=new ProgressTracker(w,99);for(let ie=0,ae=0;ie<w;){ne.shouldNotify(ie)&&(yield{progress:ne.progress});const se=this._pointArray[ae],le=se.b<<networkBiasShift2,ue=se.g<<networkBiasShift2,fe=se.r<<networkBiasShift2,de=se.a<<networkBiasShift2,me=this._contest(le,ue,fe,de);if(this._alterSingle(q,me,le,ue,fe,de),re!==0&&this._alterNeighbour(re,me,le,ue,fe,de),ae+=D,ae>=m&&(ae-=m),ie++,H===0&&(H=1),ie%H==0){q-=q/g,te-=te/_NeuQuantFloat._radiusDecrease,re=te>>_NeuQuantFloat._radiusBiasShift,re<=1&&(re=0);for(let ge=0;ge<re;ge++)this._radPower[ge]=q*((re*re-ge*ge)*_NeuQuantFloat._radBias/(re*re))}}}_buildPalette(){const d=new Palette;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,D,H){let q=m-d;q<-1&&(q=-1);let te=m+d;te>this._networkSize&&(te=this._networkSize);let re=m+1,ne=m-1,ie=1;for(;re<te||ne>q;){const ae=this._radPower[ie++]/_NeuQuantFloat._alphaRadBias;if(re<te){const se=this._network[re++];se.subtract(ae*(se.r-D),ae*(se.g-w),ae*(se.b-g),ae*(se.a-H))}if(ne>q){const se=this._network[ne--];se.subtract(ae*(se.r-D),ae*(se.g-w),ae*(se.b-g),ae*(se.a-H))}}}_alterSingle(d,m,g,w,D,H){d/=_NeuQuantFloat._initAlpha;const q=this._network[m];q.subtract(d*(q.r-D),d*(q.g-w),d*(q.b-g),d*(q.a-H))}_contest(d,m,g,w){const D=1020<<networkBiasShift2;let H=2147483647,q=H,te=-1,re=te;for(let ne=0;ne<this._networkSize;ne++){const ie=this._network[ne],ae=this._distance.calculateNormalized(ie,{r:g,g:m,b:d,a:w})*D;ae<H&&(H=ae,te=ne);const se=ae-(this._bias[ne]>>_NeuQuantFloat._initialBiasShift-networkBiasShift2);se<q&&(q=se,re=ne);const le=this._freq[ne]>>_NeuQuantFloat._betaShift;this._freq[ne]-=le,this._bias[ne]+=le<<_NeuQuantFloat._gammaShift}return this._freq[te]+=_NeuQuantFloat._beta,this._bias[te]-=_NeuQuantFloat._betaGamma,re}},NeuQuantFloat=_NeuQuantFloat;__publicField(NeuQuantFloat,"_prime1",499),__publicField(NeuQuantFloat,"_prime2",491),__publicField(NeuQuantFloat,"_prime3",487),__publicField(NeuQuantFloat,"_prime4",503),__publicField(NeuQuantFloat,"_minpicturebytes",_NeuQuantFloat._prime4),__publicField(NeuQuantFloat,"_nCycles",100),__publicField(NeuQuantFloat,"_initialBiasShift",16),__publicField(NeuQuantFloat,"_initialBias",1<<_NeuQuantFloat._initialBiasShift),__publicField(NeuQuantFloat,"_gammaShift",10),__publicField(NeuQuantFloat,"_betaShift",10),__publicField(NeuQuantFloat,"_beta",_NeuQuantFloat._initialBias>>_NeuQuantFloat._betaShift),__publicField(NeuQuantFloat,"_betaGamma",_NeuQuantFloat._initialBias<<_NeuQuantFloat._gammaShift-_NeuQuantFloat._betaShift),__publicField(NeuQuantFloat,"_radiusBiasShift",6),__publicField(NeuQuantFloat,"_radiusBias",1<<_NeuQuantFloat._radiusBiasShift),__publicField(NeuQuantFloat,"_radiusDecrease",30),__publicField(NeuQuantFloat,"_alphaBiasShift",10),__publicField(NeuQuantFloat,"_initAlpha",1<<_NeuQuantFloat._alphaBiasShift),__publicField(NeuQuantFloat,"_radBiasShift",8),__publicField(NeuQuantFloat,"_radBias",1<<_NeuQuantFloat._radBiasShift),__publicField(NeuQuantFloat,"_alphaRadBiasShift",_NeuQuantFloat._alphaBiasShift+_NeuQuantFloat._radBiasShift),__publicField(NeuQuantFloat,"_alphaRadBias",1<<_NeuQuantFloat._alphaRadBiasShift);var _ColorHistogram=class{constructor(d,m){__publicField(this,"_method"),__publicField(this,"_hueStats"),__publicField(this,"_histogram"),__publicField(this,"_initColors"),__publicField(this,"_minHueCols"),this._method=d,this._minHueCols=m<<2,this._initColors=m<<2,this._hueStats=new HueStatistics(_ColorHistogram._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(d){switch(this._method){case 1:this._colorStats1D(d);break;case 2:this._colorStats2D(d)}}getImportanceSortedColorsIDXI32(){const d=stableSort(Object.keys(this._histogram),(g,w)=>this._histogram[w]-this._histogram[g]);if(d.length===0)return[];let m;switch(this._method){case 1:const g=Math.min(d.length,this._initColors),w=d[g-1],D=this._histogram[w];m=d.slice(0,g);let H=g;const q=d.length;for(;H<q&&this._histogram[d[H]]===D;)m.push(d[H++]);this._hueStats.injectIntoArray(m);break;case 2:m=d;break;default:throw new Error("Incorrect method")}return m.map(g=>+g)}_colorStats1D(d){const m=this._histogram,g=d.getPointArray(),w=g.length;for(let D=0;D<w;D++){const H=g[D].uint32;this._hueStats.check(H),H in m?m[H]++:m[H]=1}}_colorStats2D(d){const m=d.getWidth(),g=d.getHeight(),w=d.getPointArray(),D=_ColorHistogram._boxSize[0],H=_ColorHistogram._boxSize[1],q=D*H,te=this._makeBoxes(m,g,D,H),re=this._histogram;te.forEach(ne=>{let ie=Math.round(ne.w*ne.h/q)*_ColorHistogram._boxPixels;ie<2&&(ie=2);const ae={};this._iterateBox(ne,m,se=>{const le=w[se].uint32;this._hueStats.check(le),le in re?re[le]++:le in ae?++ae[le]>=ie&&(re[le]=ae[le]):ae[le]=1})}),this._hueStats.injectIntoDictionary(re)}_iterateBox(d,m,g){const w=d,D=w.y*m+w.x,H=(w.y+w.h-1)*m+(w.x+w.w-1),q=m-w.w+1;let te=0,re=D;do g.call(this,re),re+=++te%w.w==0?q:1;while(re<=H)}_makeBoxes(d,m,g,w){const D=d%g,H=m%w,q=d-D,te=m-H,re=[];for(let ne=0;ne<m;ne+=w)for(let ie=0;ie<d;ie+=g)re.push({x:ie,y:ne,w:ie===q?D:g,h:ne===te?H:w});return re}},ColorHistogram=_ColorHistogram;__publicField(ColorHistogram,"_boxSize",[64,64]),__publicField(ColorHistogram,"_boxPixels",2),__publicField(ColorHistogram,"_hueGroups",10);var RemovedColor=class{constructor(d,m,g){__publicField(this,"index"),__publicField(this,"color"),__publicField(this,"distance"),this.index=d,this.color=m,this.distance=g}},RGBQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256,g=2){super(),__publicField(this,"_colors"),__publicField(this,"_initialDistance"),__publicField(this,"_distanceIncrement"),__publicField(this,"_histogram"),__publicField(this,"_distance"),this._distance=d,this._colors=m,this._histogram=new ColorHistogram(g,m),this._initialDistance=.01,this._distanceIncrement=.005}sample(d){this._histogram.sample(d)}*quantize(){const d=this._histogram.getImportanceSortedColorsIDXI32();if(d.length===0)throw new Error("No colors in image");yield*this._buildPalette(d)}*_buildPalette(d){const m=new Palette,g=m.getPointContainer().getPointArray(),w=new Array(d.length);for(let ie=0;ie<d.length;ie++)g.push(Point.createByUint32(d[ie])),w[ie]=1;const D=g.length,H=[];let q=D,te=this._initialDistance;const re=new ProgressTracker(q-this._colors,99);for(;q>this._colors;){H.length=0;for(let ie=0;ie<D;ie++){if(re.shouldNotify(D-q)&&(yield{progress:re.progress}),w[ie]===0)continue;const ae=g[ie];for(let se=ie+1;se<D;se++){if(w[se]===0)continue;const le=g[se],ue=this._distance.calculateNormalized(ae,le);ue<te&&(H.push(new RemovedColor(se,le,ue)),w[se]=0,q--)}}te+=q>3*this._colors?this._initialDistance:this._distanceIncrement}if(q<this._colors){stableSort(H,(ae,se)=>se.distance-ae.distance);let ie=0;for(;q<this._colors&&ie<H.length;)w[H[ie].index]=1,q++,ie++}let ne=g.length;for(let ie=ne-1;ie>=0;ie--)w[ie]===0&&(ie!==ne-1&&(g[ie]=g[ne-1]),--ne);g.length=ne,m.sort(),yield{palette:m,progress:100}}};function createArray1D(d){const m=[];for(let g=0;g<d;g++)m[g]=0;return m}function createArray4D(d,m,g,w){const D=new Array(d);for(let H=0;H<d;H++){D[H]=new Array(m);for(let q=0;q<m;q++){D[H][q]=new Array(g);for(let te=0;te<g;te++){D[H][q][te]=new Array(w);for(let re=0;re<w;re++)D[H][q][te][re]=0}}}return D}function createArray3D(d,m,g){const w=new Array(d);for(let D=0;D<d;D++){w[D]=new Array(m);for(let H=0;H<m;H++){w[D][H]=new Array(g);for(let q=0;q<g;q++)w[D][H][q]=0}}return w}function fillArray3D(d,m,g,w,D){for(let H=0;H<m;H++){d[H]=[];for(let q=0;q<g;q++){d[H][q]=[];for(let te=0;te<w;te++)d[H][q][te]=D}}}function fillArray1D(d,m,g){for(let w=0;w<m;w++)d[w]=g}var WuColorCube=class{constructor(){__publicField(this,"redMinimum"),__publicField(this,"redMaximum"),__publicField(this,"greenMinimum"),__publicField(this,"greenMaximum"),__publicField(this,"blueMinimum"),__publicField(this,"blueMaximum"),__publicField(this,"volume"),__publicField(this,"alphaMinimum"),__publicField(this,"alphaMaximum")}},_WuQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256,g=5){super(),__publicField(this,"_reds"),__publicField(this,"_greens"),__publicField(this,"_blues"),__publicField(this,"_alphas"),__publicField(this,"_sums"),__publicField(this,"_weights"),__publicField(this,"_momentsRed"),__publicField(this,"_momentsGreen"),__publicField(this,"_momentsBlue"),__publicField(this,"_momentsAlpha"),__publicField(this,"_moments"),__publicField(this,"_table"),__publicField(this,"_pixels"),__publicField(this,"_cubes"),__publicField(this,"_colors"),__publicField(this,"_significantBitsPerChannel"),__publicField(this,"_maxSideIndex"),__publicField(this,"_alphaMaxSideIndex"),__publicField(this,"_sideSize"),__publicField(this,"_alphaSideSize"),__publicField(this,"_distance"),this._distance=d,this._setQuality(g),this._initialize(m)}sample(d){const m=d.getPointArray();for(let g=0,w=m.length;g<w;g++)this._addColor(m[g]);this._pixels=this._pixels.concat(m)}*quantize(){yield*this._preparePalette();const d=new Palette;for(let m=0;m<this._colors;m++)if(this._sums[m]>0){const g=this._sums[m],w=this._reds[m]/g,D=this._greens[m]/g,H=this._blues[m]/g,q=this._alphas[m]/g,te=Point.createByRGBA(0|w,0|D,0|H,0|q);d.add(te)}d.sort(),yield{palette:d,progress:100}}*_preparePalette(){yield*this._calculateMoments();let d=0;const m=createArray1D(this._colors);for(let q=1;q<this._colors;++q){this._cut(this._cubes[d],this._cubes[q])?(m[d]=this._cubes[d].volume>1?this._calculateVariance(this._cubes[d]):0,m[q]=this._cubes[q].volume>1?this._calculateVariance(this._cubes[q]):0):(m[d]=0,q--),d=0;let te=m[0];for(let re=1;re<=q;++re)m[re]>te&&(te=m[re],d=re);if(te<=0){this._colors=q+1;break}}const g=[],w=[],D=[],H=[];for(let q=0;q<this._colors;++q){const te=_WuQuant._volume(this._cubes[q],this._weights);te>0?(g[q]=_WuQuant._volume(this._cubes[q],this._momentsRed)/te|0,w[q]=_WuQuant._volume(this._cubes[q],this._momentsGreen)/te|0,D[q]=_WuQuant._volume(this._cubes[q],this._momentsBlue)/te|0,H[q]=_WuQuant._volume(this._cubes[q],this._momentsAlpha)/te|0):(g[q]=0,w[q]=0,D[q]=0,H[q]=0)}this._reds=createArray1D(this._colors+1),this._greens=createArray1D(this._colors+1),this._blues=createArray1D(this._colors+1),this._alphas=createArray1D(this._colors+1),this._sums=createArray1D(this._colors+1);for(let q=0,te=this._pixels.length;q<te;q++){const re=this._pixels[q];let ne=-1,ie=Number.MAX_VALUE;for(let ae=0;ae<this._colors;ae++){const se=g[ae],le=w[ae],ue=D[ae],fe=H[ae],de=this._distance.calculateRaw(se,le,ue,fe,re.r,re.g,re.b,re.a);de<ie&&(ie=de,ne=ae)}this._reds[ne]+=re.r,this._greens[ne]+=re.g,this._blues[ne]+=re.b,this._alphas[ne]+=re.a,this._sums[ne]++}}_addColor(d){const m=8-this._significantBitsPerChannel,g=1+(d.r>>m),w=1+(d.g>>m),D=1+(d.b>>m),H=1+(d.a>>m);this._weights[H][g][w][D]++,this._momentsRed[H][g][w][D]+=d.r,this._momentsGreen[H][g][w][D]+=d.g,this._momentsBlue[H][g][w][D]+=d.b,this._momentsAlpha[H][g][w][D]+=d.a,this._moments[H][g][w][D]+=this._table[d.r]+this._table[d.g]+this._table[d.b]+this._table[d.a]}*_calculateMoments(){const d=[],m=[],g=[],w=[],D=[],H=[],q=createArray3D(this._sideSize,this._sideSize,this._sideSize),te=createArray3D(this._sideSize,this._sideSize,this._sideSize),re=createArray3D(this._sideSize,this._sideSize,this._sideSize),ne=createArray3D(this._sideSize,this._sideSize,this._sideSize),ie=createArray3D(this._sideSize,this._sideSize,this._sideSize),ae=createArray3D(this._sideSize,this._sideSize,this._sideSize);let se=0;const le=new ProgressTracker(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let ue=1;ue<=this._alphaMaxSideIndex;++ue){fillArray3D(q,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(te,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(re,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(ne,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(ie,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(ae,this._sideSize,this._sideSize,this._sideSize,0);for(let fe=1;fe<=this._maxSideIndex;++fe,++se){le.shouldNotify(se)&&(yield{progress:le.progress}),fillArray1D(d,this._sideSize,0),fillArray1D(m,this._sideSize,0),fillArray1D(g,this._sideSize,0),fillArray1D(w,this._sideSize,0),fillArray1D(D,this._sideSize,0),fillArray1D(H,this._sideSize,0);for(let de=1;de<=this._maxSideIndex;++de){let me=0,ge=0,he=0,pe=0,ve=0,ke=0;for(let be=1;be<=this._maxSideIndex;++be)me+=this._weights[ue][fe][de][be],ge+=this._momentsRed[ue][fe][de][be],he+=this._momentsGreen[ue][fe][de][be],pe+=this._momentsBlue[ue][fe][de][be],ve+=this._momentsAlpha[ue][fe][de][be],ke+=this._moments[ue][fe][de][be],d[be]+=me,m[be]+=ge,g[be]+=he,w[be]+=pe,D[be]+=ve,H[be]+=ke,q[fe][de][be]=q[fe-1][de][be]+d[be],te[fe][de][be]=te[fe-1][de][be]+m[be],re[fe][de][be]=re[fe-1][de][be]+g[be],ne[fe][de][be]=ne[fe-1][de][be]+w[be],ie[fe][de][be]=ie[fe-1][de][be]+D[be],ae[fe][de][be]=ae[fe-1][de][be]+H[be],this._weights[ue][fe][de][be]=this._weights[ue-1][fe][de][be]+q[fe][de][be],this._momentsRed[ue][fe][de][be]=this._momentsRed[ue-1][fe][de][be]+te[fe][de][be],this._momentsGreen[ue][fe][de][be]=this._momentsGreen[ue-1][fe][de][be]+re[fe][de][be],this._momentsBlue[ue][fe][de][be]=this._momentsBlue[ue-1][fe][de][be]+ne[fe][de][be],this._momentsAlpha[ue][fe][de][be]=this._momentsAlpha[ue-1][fe][de][be]+ie[fe][de][be],this._moments[ue][fe][de][be]=this._moments[ue-1][fe][de][be]+ae[fe][de][be]}}}}static _volumeFloat(d,m){return m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMaximum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum])}static _volume(d,m){return 0|_WuQuant._volumeFloat(d,m)}static _top(d,m,g,w){let D;switch(m){case _WuQuant._alpha:D=w[g][d.redMaximum][d.greenMaximum][d.blueMaximum]-w[g][d.redMaximum][d.greenMinimum][d.blueMaximum]-w[g][d.redMinimum][d.greenMaximum][d.blueMaximum]+w[g][d.redMinimum][d.greenMinimum][d.blueMaximum]-(w[g][d.redMaximum][d.greenMaximum][d.blueMinimum]-w[g][d.redMaximum][d.greenMinimum][d.blueMinimum]-w[g][d.redMinimum][d.greenMaximum][d.blueMinimum]+w[g][d.redMinimum][d.greenMinimum][d.blueMinimum]);break;case _WuQuant._red:D=w[d.alphaMaximum][g][d.greenMaximum][d.blueMaximum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMaximum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMaximum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMaximum]-(w[d.alphaMaximum][g][d.greenMaximum][d.blueMinimum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMinimum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMinimum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMinimum]);break;case _WuQuant._green:D=w[d.alphaMaximum][d.redMaximum][g][d.blueMaximum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMaximum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMaximum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMaximum]-(w[d.alphaMaximum][d.redMaximum][g][d.blueMinimum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMinimum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMinimum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMinimum]);break;case _WuQuant._blue:D=w[d.alphaMaximum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMaximum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMaximum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMaximum][d.redMinimum][d.greenMinimum][g]-(w[d.alphaMinimum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMinimum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMinimum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMinimum][d.redMinimum][d.greenMinimum][g]);break;default:throw new Error("impossible")}return 0|D}static _bottom(d,m,g){switch(m){case _WuQuant._alpha:return-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._red:return-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._green:return-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._blue:return-g[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);default:return 0}}_calculateVariance(d){const m=_WuQuant._volume(d,this._momentsRed),g=_WuQuant._volume(d,this._momentsGreen),w=_WuQuant._volume(d,this._momentsBlue),D=_WuQuant._volume(d,this._momentsAlpha);return _WuQuant._volumeFloat(d,this._moments)-(m*m+g*g+w*w+D*D)/_WuQuant._volume(d,this._weights)}_maximize(d,m,g,w,D,H,q,te,re){const ne=0|_WuQuant._bottom(d,m,this._momentsRed),ie=0|_WuQuant._bottom(d,m,this._momentsGreen),ae=0|_WuQuant._bottom(d,m,this._momentsBlue),se=0|_WuQuant._bottom(d,m,this._momentsAlpha),le=0|_WuQuant._bottom(d,m,this._weights);let ue=0,fe=-1;for(let de=g;de<w;++de){let me=ne+_WuQuant._top(d,m,de,this._momentsRed),ge=ie+_WuQuant._top(d,m,de,this._momentsGreen),he=ae+_WuQuant._top(d,m,de,this._momentsBlue),pe=se+_WuQuant._top(d,m,de,this._momentsAlpha),ve=le+_WuQuant._top(d,m,de,this._weights);if(ve!==0){let ke=me*me+ge*ge+he*he+pe*pe,be=ke/ve;me=D-me,ge=H-ge,he=q-he,pe=te-pe,ve=re-ve,ve!==0&&(ke=me*me+ge*ge+he*he+pe*pe,be+=ke/ve,be>ue&&(ue=be,fe=de))}}return{max:ue,position:fe}}_cut(d,m){let g;const w=_WuQuant._volume(d,this._momentsRed),D=_WuQuant._volume(d,this._momentsGreen),H=_WuQuant._volume(d,this._momentsBlue),q=_WuQuant._volume(d,this._momentsAlpha),te=_WuQuant._volume(d,this._weights),re=this._maximize(d,_WuQuant._red,d.redMinimum+1,d.redMaximum,w,D,H,q,te),ne=this._maximize(d,_WuQuant._green,d.greenMinimum+1,d.greenMaximum,w,D,H,q,te),ie=this._maximize(d,_WuQuant._blue,d.blueMinimum+1,d.blueMaximum,w,D,H,q,te),ae=this._maximize(d,_WuQuant._alpha,d.alphaMinimum+1,d.alphaMaximum,w,D,H,q,te);if(ae.max>=re.max&&ae.max>=ne.max&&ae.max>=ie.max){if(g=_WuQuant._alpha,ae.position<0)return!1}else g=re.max>=ae.max&&re.max>=ne.max&&re.max>=ie.max?_WuQuant._red:ne.max>=ae.max&&ne.max>=re.max&&ne.max>=ie.max?_WuQuant._green:_WuQuant._blue;switch(m.redMaximum=d.redMaximum,m.greenMaximum=d.greenMaximum,m.blueMaximum=d.blueMaximum,m.alphaMaximum=d.alphaMaximum,g){case _WuQuant._red:m.redMinimum=d.redMaximum=re.position,m.greenMinimum=d.greenMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._green:m.greenMinimum=d.greenMaximum=ne.position,m.redMinimum=d.redMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._blue:m.blueMinimum=d.blueMaximum=ie.position,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._alpha:m.alphaMinimum=d.alphaMaximum=ae.position,m.blueMinimum=d.blueMinimum,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum}return d.volume=(d.redMaximum-d.redMinimum)*(d.greenMaximum-d.greenMinimum)*(d.blueMaximum-d.blueMinimum)*(d.alphaMaximum-d.alphaMinimum),m.volume=(m.redMaximum-m.redMinimum)*(m.greenMaximum-m.greenMinimum)*(m.blueMaximum-m.blueMinimum)*(m.alphaMaximum-m.alphaMinimum),!0}_initialize(d){this._colors=d,this._cubes=[];for(let m=0;m<d;m++)this._cubes[m]=new WuColorCube;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let m=0;m<256;++m)this._table[m]=m*m;this._pixels=[]}_setQuality(d=5){this._significantBitsPerChannel=d,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},WuQuant=_WuQuant;__publicField(WuQuant,"_alpha",3),__publicField(WuQuant,"_red",2),__publicField(WuQuant,"_green",1),__publicField(WuQuant,"_blue",0);var image_exports={};__export(image_exports,{AbstractImageQuantizer:()=>AbstractImageQuantizer,ErrorDiffusionArray:()=>ErrorDiffusionArray,ErrorDiffusionArrayKernel:()=>ErrorDiffusionArrayKernel,ErrorDiffusionRiemersma:()=>ErrorDiffusionRiemersma,NearestColor:()=>NearestColor});var AbstractImageQuantizer=class{quantizeSync(d,m){for(const g of this.quantize(d,m))if(g.pointContainer)return g.pointContainer;throw new Error("unreachable")}},NearestColor=class extends AbstractImageQuantizer{constructor(d){super(),__publicField(this,"_distance"),this._distance=d}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),D=d.getHeight(),H=new ProgressTracker(D,99);for(let q=0;q<D;q++){H.shouldNotify(q)&&(yield{progress:H.progress});for(let te=0,re=q*w;te<w;te++,re++){const ne=g[re];ne.from(m.getNearestColor(this._distance,ne))}}yield{pointContainer:d,progress:100}}},ErrorDiffusionArrayKernel=(d=>(d[d.FloydSteinberg=0]="FloydSteinberg",d[d.FalseFloydSteinberg=1]="FalseFloydSteinberg",d[d.Stucki=2]="Stucki",d[d.Atkinson=3]="Atkinson",d[d.Jarvis=4]="Jarvis",d[d.Burkes=5]="Burkes",d[d.Sierra=6]="Sierra",d[d.TwoSierra=7]="TwoSierra",d[d.SierraLite=8]="SierraLite",d))(ErrorDiffusionArrayKernel||{}),ErrorDiffusionArray=class extends AbstractImageQuantizer{constructor(d,m,g=!0,w=0,D=!1){super(),__publicField(this,"_minColorDistance"),__publicField(this,"_serpentine"),__publicField(this,"_kernel"),__publicField(this,"_calculateErrorLikeGIMP"),__publicField(this,"_distance"),this._setKernel(m),this._distance=d,this._minColorDistance=w,this._serpentine=g,this._calculateErrorLikeGIMP=D}*quantize(d,m){const g=d.getPointArray(),w=new Point,D=d.getWidth(),H=d.getHeight(),q=[];let te=1,re=1;for(const ie of this._kernel){const ae=ie[2]+1;re<ae&&(re=ae)}for(let ie=0;ie<re;ie++)this._fillErrorLine(q[ie]=[],D);const ne=new ProgressTracker(H,99);for(let ie=0;ie<H;ie++){ne.shouldNotify(ie)&&(yield{progress:ne.progress}),this._serpentine&&(te*=-1);const ae=ie*D,se=te===1?0:D-1,le=te===1?D:-1;this._fillErrorLine(q[0],D),q.push(q.shift());const ue=q[0];for(let fe=se,de=ae+se;fe!==le;fe+=te,de+=te){const me=g[de],ge=ue[fe];w.from(me);const he=Point.createByRGBA(inRange0to255Rounded(me.r+ge[0]),inRange0to255Rounded(me.g+ge[1]),inRange0to255Rounded(me.b+ge[2]),inRange0to255Rounded(me.a+ge[3])),pe=m.getNearestColor(this._distance,he);if(me.from(pe),this._minColorDistance&&this._distance.calculateNormalized(w,pe)<this._minColorDistance)continue;let ve,ke,be,Se;this._calculateErrorLikeGIMP?(ve=he.r-pe.r,ke=he.g-pe.g,be=he.b-pe.b,Se=he.a-pe.a):(ve=w.r-pe.r,ke=w.g-pe.g,be=w.b-pe.b,Se=w.a-pe.a);const Ee=te===1?0:this._kernel.length-1,Ie=te===1?this._kernel.length:-1;for(let _e=Ee;_e!==Ie;_e+=te){const Te=this._kernel[_e][1]*te,Le=this._kernel[_e][2];if(Te+fe>=0&&Te+fe<D&&Le+ie>=0&&Le+ie<H){const Be=this._kernel[_e][0],Ce=q[Le][Te+fe];Ce[0]+=ve*Be,Ce[1]+=ke*Be,Ce[2]+=be*Be,Ce[3]+=Se*Be}}}}yield{pointContainer:d,progress:100}}_fillErrorLine(d,m){d.length>m&&(d.length=m);const g=d.length;for(let w=0;w<g;w++){const D=d[w];D[0]=D[1]=D[2]=D[3]=0}for(let w=g;w<m;w++)d[w]=[0,0,0,0]}_setKernel(d){switch(d){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${d}`)}}};function*hilbertCurve(d,m,g){const w=Math.max(d,m),D={width:d,height:m,level:Math.floor(Math.log(w)/Math.log(2)+1),callback:g,tracker:new ProgressTracker(d*m,99),index:0,x:0,y:0};yield*walkHilbert(D,1),visit(D,0)}function*walkHilbert(d,m){if(!(d.level<1)){switch(d.tracker.shouldNotify(d.index)&&(yield{progress:d.tracker.progress}),d.level--,m){case 2:yield*walkHilbert(d,1),visit(d,3),yield*walkHilbert(d,2),visit(d,4),yield*walkHilbert(d,2),visit(d,2),yield*walkHilbert(d,4);break;case 3:yield*walkHilbert(d,4),visit(d,2),yield*walkHilbert(d,3),visit(d,1),yield*walkHilbert(d,3),visit(d,3),yield*walkHilbert(d,1);break;case 1:yield*walkHilbert(d,2),visit(d,4),yield*walkHilbert(d,1),visit(d,3),yield*walkHilbert(d,1),visit(d,1),yield*walkHilbert(d,3);break;case 4:yield*walkHilbert(d,3),visit(d,1),yield*walkHilbert(d,4),visit(d,2),yield*walkHilbert(d,4),visit(d,4),yield*walkHilbert(d,2)}d.level++}}function visit(d,m){switch(d.x>=0&&d.x<d.width&&d.y>=0&&d.y<d.height&&(d.callback(d.x,d.y),d.index++),m){case 2:d.x--;break;case 3:d.x++;break;case 1:d.y--;break;case 4:d.y++}}var ErrorDiffusionRiemersma=class extends AbstractImageQuantizer{constructor(d,m=16,g=1){super(),__publicField(this,"_distance"),__publicField(this,"_weights"),__publicField(this,"_errorQueueSize"),this._distance=d,this._errorQueueSize=m,this._weights=ErrorDiffusionRiemersma._createWeights(g,m)}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),D=d.getHeight(),H=[];let q=0;for(let te=0;te<this._errorQueueSize;te++)H[te]={r:0,g:0,b:0,a:0};yield*hilbertCurve(w,D,(te,re)=>{const ne=g[te+re*w];let{r:ie,g:ae,b:se,a:le}=ne;for(let me=0;me<this._errorQueueSize;me++){const ge=this._weights[me],he=H[(me+q)%this._errorQueueSize];ie+=he.r*ge,ae+=he.g*ge,se+=he.b*ge,le+=he.a*ge}const ue=Point.createByRGBA(inRange0to255Rounded(ie),inRange0to255Rounded(ae),inRange0to255Rounded(se),inRange0to255Rounded(le)),fe=m.getNearestColor(this._distance,ue);q=(q+1)%this._errorQueueSize;const de=(q+this._errorQueueSize-1)%this._errorQueueSize;H[de].r=ne.r-fe.r,H[de].g=ne.g-fe.g,H[de].b=ne.b-fe.b,H[de].a=ne.a-fe.a,ne.from(fe)}),yield{pointContainer:d,progress:100}}static _createWeights(d,m){const g=[],w=Math.exp(Math.log(m)/(m-1));for(let D=0,H=1;D<m;D++)g[D]=(H+.5|0)/m*d,H*=w;return g}},quality_exports={};__export(quality_exports,{ssim:()=>ssim});var K1=.01,K2=.03;function ssim(d,m){if(d.getHeight()!==m.getHeight()||d.getWidth()!==m.getWidth())throw new Error("Images have different sizes!");const g=(255*K1)**2,w=(255*K2)**2;let D=0,H=0;return iterate(d,m,(q,te,re,ne)=>{let ie=0,ae=0,se=0;for(let ue=0;ue<q.length;ue++)ae+=(q[ue]-re)**2,se+=(te[ue]-ne)**2,ie+=(q[ue]-re)*(te[ue]-ne);const le=q.length-1;ae/=le,se/=le,ie/=le,H+=(2*re*ne+g)*(2*ie+w)/((re**2+ne**2+g)*(ae+se+w)),D++}),H/D}function iterate(d,m,g){const w=d.getWidth(),D=d.getHeight();for(let H=0;H<D;H+=8)for(let q=0;q<w;q+=8){const te=Math.min(8,w-q),re=Math.min(8,D-H),ne=calculateLumaValuesForWindow(d,q,H,te,re),ie=calculateLumaValuesForWindow(m,q,H,te,re);g(ne,ie,calculateAverageLuma(ne),calculateAverageLuma(ie))}}function calculateLumaValuesForWindow(d,m,g,w,D){const H=d.getPointArray(),q=[];let te=0;for(let re=g;re<g+D;re++){const ne=re*d.getWidth();for(let ie=m;ie<m+w;ie++){const ae=H[ne+ie];q[te]=.2126*ae.r+.7152*ae.g+.0722*ae.b,te++}}return q}function calculateAverageLuma(d){let m=0;for(const g of d)m+=g;return m/d.length}function buildPaletteSync(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w}={}){const D=paletteQuantizationToPaletteQuantizer(colorDistanceFormulaToColorDistance(m),g,w);return d.forEach(H=>D.sample(H)),D.quantizeSync()}function applyPaletteSync(d,m,{colorDistanceFormula:g,imageQuantization:w}={}){return imageQuantizationToImageQuantizer(colorDistanceFormulaToColorDistance(g),w).quantizeSync(d,m)}function colorDistanceFormulaToColorDistance(d="euclidean-bt709"){switch(d){case"cie94-graphic-arts":return new CIE94GraphicArts;case"cie94-textiles":return new CIE94Textiles;case"ciede2000":return new CIEDE2000;case"color-metric":return new CMetric;case"euclidean":return new Euclidean;case"euclidean-bt709":return new EuclideanBT709;case"euclidean-bt709-noalpha":return new EuclideanBT709NoAlpha;case"manhattan":return new Manhattan;case"manhattan-bt709":return new ManhattanBT709;case"manhattan-nommyde":return new ManhattanNommyde;case"pngquant":return new PNGQuant;default:throw new Error(`Unknown colorDistanceFormula ${d}`)}}function imageQuantizationToImageQuantizer(d,m="floyd-steinberg"){switch(m){case"nearest":return new NearestColor(d);case"riemersma":return new ErrorDiffusionRiemersma(d);case"floyd-steinberg":return new ErrorDiffusionArray(d,0);case"false-floyd-steinberg":return new ErrorDiffusionArray(d,1);case"stucki":return new ErrorDiffusionArray(d,2);case"atkinson":return new ErrorDiffusionArray(d,3);case"jarvis":return new ErrorDiffusionArray(d,4);case"burkes":return new ErrorDiffusionArray(d,5);case"sierra":return new ErrorDiffusionArray(d,6);case"two-sierra":return new ErrorDiffusionArray(d,7);case"sierra-lite":return new ErrorDiffusionArray(d,8);default:throw new Error(`Unknown imageQuantization ${m}`)}}function paletteQuantizationToPaletteQuantizer(d,m="wuquant",g=256){switch(m){case"neuquant":return new NeuQuant(d,g);case"rgbquant":return new RGBQuant(d,g);case"wuquant":return new WuQuant(d,g);case"neuquant-float":return new NeuQuantFloat(d,g);default:throw new Error(`Unknown paletteQuantization ${m}`)}}/**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * common.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ditherErrorDiffusionArray.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * helper.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * nearestColor.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * palette.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ssim.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 *//**
 * @preserve
 * MIT License
 *
 * Copyright 2015-2018 Igor Bezkrovnyi
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * riemersma.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */typeof setImmediate=="function"?setImmediate:typeof process<"u"&&(process==null||process.nextTick);const QuantizeOptionsSchema=z.object({colors:z.number().optional(),colorDistanceFormula:z.union([z.literal("cie94-textiles"),z.literal("cie94-graphic-arts"),z.literal("ciede2000"),z.literal("color-metric"),z.literal("euclidean"),z.literal("euclidean-bt709-noalpha"),z.literal("euclidean-bt709"),z.literal("manhattan"),z.literal("manhattan-bt709"),z.literal("manhattan-nommyde"),z.literal("pngquant")]).optional(),paletteQuantization:z.union([z.literal("neuquant"),z.literal("neuquant-float"),z.literal("rgbquant"),z.literal("wuquant")]).optional(),imageQuantization:z.union([z.literal("nearest"),z.literal("riemersma"),z.literal("floyd-steinberg"),z.literal("false-floyd-steinberg"),z.literal("stucki"),z.literal("atkinson"),z.literal("jarvis"),z.literal("burkes"),z.literal("sierra"),z.literal("two-sierra"),z.literal("sierra-lite")]).optional()}),methods={quantize(d,m){const{colors:g,colorDistanceFormula:w,paletteQuantization:D,imageQuantization:H}=QuantizeOptionsSchema.parse(m),q=utils_exports.PointContainer.fromUint8Array(d.bitmap.data,d.bitmap.width,d.bitmap.height),te=applyPaletteSync(q,buildPaletteSync([q],{colors:g,colorDistanceFormula:w,paletteQuantization:D}),{colorDistanceFormula:w,imageQuantization:H});return d.bitmap.data=Buffer.from(te.toUint8Array()),d}};var parseBmfontAscii=function(d){if(!d)throw new Error("no data provided");var m={pages:[],chars:[],kernings:[]},g=(d=d.toString().trim()).split(/\r\n?|\n/g);if(g.length===0)throw new Error("no data in BMFont file");for(var w=0;w<g.length;w++){var D=splitLine(g[w],w);if(D)if(D.key==="page"){if(typeof D.data.id!="number")throw new Error("malformed file at line "+w+" -- needs page id=N");if(typeof D.data.file!="string")throw new Error("malformed file at line "+w+' -- needs page file="path"');m.pages[D.data.id]=D.data.file}else D.key==="chars"||D.key==="kernings"||(D.key==="char"?m.chars.push(D.data):D.key==="kerning"?m.kernings.push(D.data):m[D.key]=D.data)}return m};function splitLine(d,m){if(!(d=d.replace(/\t+/g," ").trim()))return null;var g=d.indexOf(" ");if(g===-1)throw new Error("no named row at line "+m);var w=d.substring(0,g);d=(d=(d=(d=d.substring(g+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(re){return re.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var D=[],H=0;H<d.length;H++){var q=d[H];H===0?D.push({key:q[0],data:""}):H===d.length-1?D[D.length-1].data=parseData(q[0]):(D[D.length-1].data=parseData(q[0]),D.push({key:q[1],data:""}))}var te={key:w,data:{}};return D.forEach(function(re){te.data[re.key]=re.data}),te}function parseData(d){return d&&d.length!==0?d.indexOf('"')===0||d.indexOf("'")===0?d.substring(1,d.length-1):d.indexOf(",")!==-1?parseIntList$1(d):parseInt(d,10):""}function parseIntList$1(d){return d.split(",").map(function(m){return parseInt(m,10)})}getDefaultExportFromCjs(parseBmfontAscii);var GLYPH_DESIGNER_ERROR="chasrset",parseAttribs=function(d){for(var m in d=Object.assign({},d),GLYPH_DESIGNER_ERROR in d&&(d.charset=d[GLYPH_DESIGNER_ERROR],delete d[GLYPH_DESIGNER_ERROR]),d)m!=="face"&&m!=="charset"&&(d[m]=m==="padding"||m==="spacing"?parseIntList(d[m]):parseInt(d[m],10));return d};function parseIntList(d){return d.split(",").map(function(m){return parseInt(m,10)})}var xmlParseFromString=self.DOMParser!==void 0?function(d){return new self.DOMParser().parseFromString(d,"application/xml")}:self.ActiveXObject!==void 0&&new self.ActiveXObject("Microsoft.XMLDOM")?function(d){var m=new self.ActiveXObject("Microsoft.XMLDOM");return m.async="false",m.loadXML(d),m}:function(d){var m=document.createElement("div");return m.innerHTML=d,m},parseAttributes=parseAttribs,parseFromString=xmlParseFromString,NAME_MAP={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"},browser=function(d){d=d.toString();var m=parseFromString(d),g={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(ne){var ie=m.getElementsByTagName(ne)[0];ie&&(g[ne]=parseAttributes(getAttribs(ie)))});var w=m.getElementsByTagName("pages")[0];if(!w)throw new Error("malformed file -- no <pages> element");for(var D=w.getElementsByTagName("page"),H=0;H<D.length;H++){var q=D[H],te=parseInt(q.getAttribute("id"),10),re=q.getAttribute("file");if(isNaN(te))throw new Error('malformed file -- page "id" attribute is NaN');if(!re)throw new Error('malformed file -- needs page "file" attribute');g.pages[parseInt(te,10)]=re}return["chars","kernings"].forEach(function(ne){var ie=m.getElementsByTagName(ne)[0];if(ie)for(var ae=ne.substring(0,ne.length-1),se=ie.getElementsByTagName(ae),le=0;le<se.length;le++){var ue=se[le];g[ne].push(parseAttributes(getAttribs(ue)))}}),g};function getAttribs(d){return getAttribList(d).reduce(function(m,g){return m[mapName(g.nodeName)]=g.nodeValue,m},{})}function getAttribList(d){for(var m=[],g=0;g<d.attributes.length;g++)m.push(d.attributes[g]);return m}function mapName(d){return NAME_MAP[d.toLowerCase()]||d}getDefaultExportFromCjs(browser);var HEADER$1=[66,77,70],parseBmfontBinary=function(d){if(d.length<6)throw new Error("invalid buffer length for BMFont");var m=HEADER$1.every(function(H,q){return d.readUInt8(q)===H});if(!m)throw new Error("BMFont missing BMF byte header");var g=3;if(d.readUInt8(g++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var w={kernings:[],chars:[]},D=0;D<5;D++)g+=readBlock(w,d,g);return w};function readBlock(d,m,g){if(g>m.length-1)return 0;var w=m.readUInt8(g++),D=m.readInt32LE(g);switch(g+=4,w){case 1:d.info=readInfo(m,g);break;case 2:d.common=readCommon(m,g);break;case 3:d.pages=readPages(m,g,D);break;case 4:d.chars=readChars(m,g,D);break;case 5:d.kernings=readKernings(m,g,D)}return 5+D}function readInfo(d,m){var g={};g.size=d.readInt16LE(m);var w=d.readUInt8(m+2);return g.smooth=w>>7&1,g.unicode=w>>6&1,g.italic=w>>5&1,g.bold=w>>4&1,w>>3&1&&(g.fixedHeight=1),g.charset=d.readUInt8(m+3)||"",g.stretchH=d.readUInt16LE(m+4),g.aa=d.readUInt8(m+6),g.padding=[d.readInt8(m+7),d.readInt8(m+8),d.readInt8(m+9),d.readInt8(m+10)],g.spacing=[d.readInt8(m+11),d.readInt8(m+12)],g.outline=d.readUInt8(m+13),g.face=readStringNT(d,m+14),g}function readCommon(d,m){var g={};return g.lineHeight=d.readUInt16LE(m),g.base=d.readUInt16LE(m+2),g.scaleW=d.readUInt16LE(m+4),g.scaleH=d.readUInt16LE(m+6),g.pages=d.readUInt16LE(m+8),d.readUInt8(m+10),g.packed=0,g.alphaChnl=d.readUInt8(m+11),g.redChnl=d.readUInt8(m+12),g.greenChnl=d.readUInt8(m+13),g.blueChnl=d.readUInt8(m+14),g}function readPages(d,m,g){for(var w=[],D=readNameNT(d,m),H=D.length+1,q=g/H,te=0;te<q;te++)w[te]=d.slice(m,m+D.length).toString("utf8"),m+=H;return w}function readChars(d,m,g){for(var w=[],D=g/20,H=0;H<D;H++){var q={},te=20*H;q.id=d.readUInt32LE(m+0+te),q.x=d.readUInt16LE(m+4+te),q.y=d.readUInt16LE(m+6+te),q.width=d.readUInt16LE(m+8+te),q.height=d.readUInt16LE(m+10+te),q.xoffset=d.readInt16LE(m+12+te),q.yoffset=d.readInt16LE(m+14+te),q.xadvance=d.readInt16LE(m+16+te),q.page=d.readUInt8(m+18+te),q.chnl=d.readUInt8(m+19+te),w[H]=q}return w}function readKernings(d,m,g){for(var w=[],D=g/10,H=0;H<D;H++){var q={},te=10*H;q.first=d.readUInt32LE(m+0+te),q.second=d.readUInt32LE(m+4+te),q.amount=d.readInt16LE(m+8+te),w[H]=q}return w}function readNameNT(d,m){for(var g=m;g<d.length&&d[g]!==0;g++);return d.slice(m,g)}function readStringNT(d,m){return readNameNT(d,m).toString("utf8")}getDefaultExportFromCjs(parseBmfontBinary);function e(d){return d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}const t=d=>{if(!d)return null;const m={};switch(d.type){case"ELEMENT":{let g={};const w=E(d.value.attributes),D=t(d.value.children);if(w&&(g=Object.assign(g,w)),D){const H=r(d.value.children);g=Object.assign(g,H)}m[d.value.type]=g;break}case"ATTRIBUTE":{const g=d.value;m[g.name]=g.value;break}case"CONTENT":return{content:d.value}}return m},r=d=>d&&Array.isArray(d)&&d.length!==0?n(d)?{content:d[0].value}:{children:d.map(t)}:null,n=d=>d&&Array.isArray(d)&&d.length===1&&d[0].type==="CONTENT",E=d=>d&&Array.isArray(d)?d.map(t).reduce((m,g)=>Object.assign(m,g),{}):null;var s={convert:d=>t(d.value.children[0])},a={Token:(d,m)=>({type:d,value:m}),TOKEN_TYPE:{OPEN_BRACKET:"OPEN_BRACKET",ELEMENT_TYPE:"ELEMENT_TYPE",CLOSE_ELEMENT:"CLOSE_ELEMENT",ATTRIB_NAME:"ATTRIB_NAME",ATTRIB_VALUE:"ATTRIB_VALUE",ASSIGN:"ASSIGN",CLOSE_BRACKET:"CLOSE_BRACKET",CONTENT:"CONTENT",EOF:"EOF"}};const{Token:T,TOKEN_TYPE:u}=a,c=T("EOF"),l=d=>d===" "||d===`
`||d==="\r"||d==="	",o=d=>d.replace(/'/g,'"');var N={createLexer:function(d){let m=null,g=(ae=>{let se=0;for(;se<ae.length&&l(ae[se]);)se++;return((le,ue)=>{if(le.startsWith("<?xml",ue)){const fe=le.length;for(;ue<fe;)if(le[ue]!=="?")ue++;else{if(le[ue+1]===">")return ue+2;ue++}}return ue})(ae,se)})(d),w=[];const D=()=>d[g],H=()=>m!==c&&g<d.length,q=ae=>ae==='"'||ae==="'",te=()=>{for(;H()&&l(d[g]);)g++},re=ae=>{if(H()){if(d[g]==="<"){let se="<";return g++,H()&&d[g]==="/"?(g++,se="</"):H()&&d[g]==="!"&&d[g+1]==="-"&&d[g+2]==="-"&&(g++,g++,g++,se="<!--"),se}if(D()==="/"){let se="/";return g++,H()&&D()===">"&&(g++,se="/>"),se}if(d[g]==="="||d[g]===">"){const se=d[g];return g++,se}}return ne(!!ae)},ne=ae=>{const se=ae?/[^>=<]/u:/[a-zA-Z0-9_:-]/;let le=g;for(;H()&&d[g].match(se);)g++;return o(d.substring(le,g))},ie=()=>{const ae=g;te();const se=g-ae;if(H())if(m&&m.type===u.OPEN_BRACKET){te();const le=re(!1);m=T(u.ELEMENT_TYPE,le),w.push(le)}else if(m&&m.type===u.ASSIGN){H()&&q(D())&&g++;let le=g;for(;H()&&!q(D());)g++;const ue=o(d.substring(le,g));g++,m=T(u.ATTRIB_VALUE,ue)}else{te();let le=re(!0);switch(le){case"=":m=m.type===u.ATTRIB_NAME?T(u.ASSIGN):T(u.CONTENT,le);break;case"</":{const ue=g;for(;d[g]!==">";)g++;m=T(u.CLOSE_ELEMENT,d.substring(ue,g)),g++,w.pop();break}case"/>":{const ue=w.pop();m=T(u.CLOSE_ELEMENT,ue);break}case"<!--":{const ue=["!","-","-"];for(;H()&&(ue[2]!==">"||ue[1]!=="-"||ue[0]!=="-");)ue.shift(),ue.push(d[g]),g++;return ie()}case">":m=T(u.CLOSE_BRACKET);break;case"<":m=T(u.OPEN_BRACKET);break;default:if(le&&le.length>0){if(m.type===u.CLOSE_BRACKET){let ue="";D()!=="<"&&(ue=ne(!0)),m=T(u.CONTENT,le+ue)}else if(m.type!==u.ATTRIB_NAME&&m.type!==u.CONTENT)m.type===u.CLOSE_ELEMENT?(le=" ".repeat(se)+le,m=T(u.CONTENT,le)):m=T(u.ATTRIB_NAME,le);else{const ue=" ".repeat(se)+le;m=T(u.CONTENT,ue)}break}{const ue='Unknown Syntax : "'+d[g]+'"';throw new Error(ue)}}}else m=c;return m};return{peek:D,next:ie,hasNext:H}}};const{createLexer:i}=N,{Token:p,TOKEN_TYPE:O}=a,[A,f,C,h]=["ROOT","ELEMENT","ATTRIBUTE","CONTENT"],_=(d,m)=>({type:d,value:m}),L=d=>_(h,d),y=(d,m,g)=>_(f,{type:d,attributes:m,children:g}),v=(d,m)=>_(C,{name:d,value:m}),S=(d,m)=>{const g=[];for(;d.hasNext();){const w=d.next();switch(w.type){case O.OPEN_BRACKET:{const D=d.next(),[H,q]=R(d);let te=[];q.type!==O.CLOSE_ELEMENT&&(te=S(d,D)),te&&te.length>0&&te[0].type===O.CONTENT&&(te=b(te)),g.push(y(D.value,H,te));break}case O.CLOSE_ELEMENT:if(w.value===m.value)return g;break;case O.CONTENT:g.push(L(w.value));break;case O.EOF:return g;default:throw new Error(`Unknown Lexem type: ${w.type} "${w.value}, scoping element: ${m.value}"`)}}return g},R=d=>{const m=[];let g=d.peek();if(!d.hasNext()||g&&g.type===O.CLOSE_BRACKET||g&&g.type===O.CLOSE_ELEMENT)return[m,g];for(g=d.next();d.hasNext()&&g&&g.type!==O.CLOSE_BRACKET&&g.type!==O.CLOSE_ELEMENT;){const w=g;d.next();const D=d.next(),H=v(w.value,D.value);m.push(H),g=d.next()}return[m,g]};function b(d){let m=[],g="";return d.forEach(w=>{w.type===O.CONTENT?g+=w.value:(g.length&&(m.push(L(g)),g=""),m.push(w))}),g.length&&m.push(L(g)),m}var B={transpile:function(d,m){const g=(w=>_(A,{children:S(w,p(A,"ROOT"))}))(i(d));return m?m.convert(g):g},Node:_,ElementNode:y,AttribNode:v};const M=s,{transpile:x}=B;var k=e({convertXML:function(d,m){return x(d,m||M)},createAST:function(d){return x(d)}}),simpleXmlToJson_min=k;getDefaultExportFromCjs(simpleXmlToJson_min);createJimp({formats:[png]});Buffer.from([66,77,70,3]);var pixelmatch_1=pixelmatch;const defaultOptions={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};function pixelmatch(d,m,g,w,D,H){if(!isPixelData(d)||!isPixelData(m)||g&&!isPixelData(g))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(d.length!==m.length||g&&g.length!==d.length)throw new Error("Image sizes do not match.");if(d.length!==w*D*4)throw new Error("Image data size does not match width/height.");H=Object.assign({},defaultOptions,H);const q=w*D,te=new Uint32Array(d.buffer,d.byteOffset,q),re=new Uint32Array(m.buffer,m.byteOffset,q);let ne=!0;for(let se=0;se<q;se++)if(te[se]!==re[se]){ne=!1;break}if(ne){if(g&&!H.diffMask)for(let se=0;se<q;se++)drawGrayPixel(d,4*se,H.alpha,g);return 0}const ie=35215*H.threshold*H.threshold;let ae=0;for(let se=0;se<D;se++)for(let le=0;le<w;le++){const ue=4*(se*w+le),fe=colorDelta(d,m,ue,ue);Math.abs(fe)>ie?H.includeAA||!antialiased(d,le,se,w,D,m)&&!antialiased(m,le,se,w,D,d)?(g&&drawPixel(g,ue,...fe<0&&H.diffColorAlt||H.diffColor),ae++):g&&!H.diffMask&&drawPixel(g,ue,...H.aaColor):g&&(H.diffMask||drawGrayPixel(d,ue,H.alpha,g))}return ae}function isPixelData(d){return ArrayBuffer.isView(d)&&d.constructor.BYTES_PER_ELEMENT===1}function antialiased(d,m,g,w,D,H){const q=Math.max(m-1,0),te=Math.max(g-1,0),re=Math.min(m+1,w-1),ne=Math.min(g+1,D-1),ie=4*(g*w+m);let ae,se,le,ue,fe=m===q||m===re||g===te||g===ne?1:0,de=0,me=0;for(let ge=q;ge<=re;ge++)for(let he=te;he<=ne;he++){if(ge===m&&he===g)continue;const pe=colorDelta(d,d,ie,4*(he*w+ge),!0);if(pe===0){if(fe++,fe>2)return!1}else pe<de?(de=pe,ae=ge,se=he):pe>me&&(me=pe,le=ge,ue=he)}return de!==0&&me!==0&&(hasManySiblings(d,ae,se,w,D)&&hasManySiblings(H,ae,se,w,D)||hasManySiblings(d,le,ue,w,D)&&hasManySiblings(H,le,ue,w,D))}function hasManySiblings(d,m,g,w,D){const H=Math.max(m-1,0),q=Math.max(g-1,0),te=Math.min(m+1,w-1),re=Math.min(g+1,D-1),ne=4*(g*w+m);let ie=m===H||m===te||g===q||g===re?1:0;for(let ae=H;ae<=te;ae++)for(let se=q;se<=re;se++){if(ae===m&&se===g)continue;const le=4*(se*w+ae);if(d[ne]===d[le]&&d[ne+1]===d[le+1]&&d[ne+2]===d[le+2]&&d[ne+3]===d[le+3]&&ie++,ie>2)return!0}return!1}function colorDelta(d,m,g,w,D){let H=d[g+0],q=d[g+1],te=d[g+2],re=d[g+3],ne=m[w+0],ie=m[w+1],ae=m[w+2],se=m[w+3];if(re===se&&H===ne&&q===ie&&te===ae)return 0;re<255&&(re/=255,H=blend(H,re),q=blend(q,re),te=blend(te,re)),se<255&&(se/=255,ne=blend(ne,se),ie=blend(ie,se),ae=blend(ae,se));const le=rgb2y(H,q,te),ue=rgb2y(ne,ie,ae),fe=le-ue;if(D)return fe;const de=rgb2i(H,q,te)-rgb2i(ne,ie,ae),me=rgb2q(H,q,te)-rgb2q(ne,ie,ae),ge=.5053*fe*fe+.299*de*de+.1957*me*me;return le>ue?-ge:ge}function rgb2y(d,m,g){return .29889531*d+.58662247*m+.11448223*g}function rgb2i(d,m,g){return .59597799*d-.2741761*m-.32180189*g}function rgb2q(d,m,g){return .21147017*d-.52261711*m+.31114694*g}function blend(d,m){return 255+(d-255)*m}function drawPixel(d,m,g,w,D){d[m+0]=g,d[m+1]=w,d[m+2]=D,d[m+3]=255}function drawGrayPixel(d,m,g,w){const D=blend(rgb2y(d[m+0],d[m+1],d[m+2]),g*d[m+3]/255);drawPixel(w,m,D,D,D)}getDefaultExportFromCjs(pixelmatch_1);const defaultPlugins=[methods$h,methods$g,methods$f,methods$e,methods$c,methods$a,methods$b,methods$9,methods$8,methods$7,methods$6,methods$5,methods$4,methods$3,methods$d,methods$2,methods$1,methods],defaultFormats=[bmp,msBmp,gif,jpeg$2,png,tiff];bmp().mime,gif().mime,jpeg$2().mime,png().mime,tiff().mime;const Jimp=createJimp({formats:defaultFormats,plugins:defaultPlugins}),handleUploadClick=d=>{var m;(m=d.current)==null||m.click()},handleFileChange=(d,m)=>{var w;const g=(w=d.target.files)==null?void 0:w[0];if(g){const D=new FileReader;D.onload=H=>{var q;m((q=H.target)==null?void 0:q.result)},D.readAsDataURL(g)}},processImage=async(d,m,g,w)=>{if(!d){w("No image uploaded.",!0);return}try{const H=await(await fetch(d)).arrayBuffer(),q=await Jimp.read(H),te={r:255,g:255,b:255,a:255},re={r:0,g:0,b:0,a:0},ne=(se,le)=>Math.sqrt((se.r-le.r)**2+(se.g-le.g)**2+(se.b-le.b)**2+(se.a-le.a)**2);q.scan(0,0,q.bitmap.width,q.bitmap.height,(se,le,ue)=>{const fe={r:q.bitmap.data[ue],g:q.bitmap.data[ue+1],b:q.bitmap.data[ue+2],a:q.bitmap.data[ue+3]};ne(te,fe)<=m&&(q.bitmap.data[ue]=re.r,q.bitmap.data[ue+1]=re.g,q.bitmap.data[ue+2]=re.b,q.bitmap.data[ue+3]=re.a)}),g(await q.getBase64("image/png")),await new Promise(se=>setTimeout(se,1e3));const ie=await q.getBuffer("image/png"),ae=new Blob([ie],{type:"image/png"});await navigator.clipboard.write([new ClipboardItem({[ae.type]:ae})])}catch(D){console.error("Error processing image:",D)}},handlePaste=(d,m)=>{var w;const g=(w=d.clipboardData)==null?void 0:w.items;if(g){for(const D of g)if(D.type.startsWith("image/")){const H=D.getAsFile();if(H){const q=new FileReader;q.onload=te=>{var re;m((re=te.target)==null?void 0:re.result)},q.readAsDataURL(H)}}}},App=()=>{const[d,m]=reactExports.useState(null),[g,w]=reactExports.useState(null),[D,H]=reactExports.useState(0),[q,te]=reactExports.useState(D),re=reactExports.useRef(null),ne=reactExports.useCallback((ie,ae)=>{ae?y$3.error(ie):y$3.success(ie)},[]);return reactExports.useEffect(()=>{const ie=ae=>handlePaste(ae,m);return window.addEventListener("paste",ie),()=>{window.removeEventListener("paste",ie)}},[]),reactExports.useEffect(()=>{d&&processImage(d,D,w,ne).then()},[d,D,ne]),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",padding:"20px",fontFamily:"Arial, sans-serif"},children:[jsxRuntimeExports.jsx(Meta,{project:"/remove_bg/"}),jsxRuntimeExports.jsx("a",{href:"/",className:"home-button","aria-label":"Retour à la liste des projets",children:jsxRuntimeExports.jsx(Icon,{icon:"mdi:home",width:"32",height:"32"})}),jsxRuntimeExports.jsx("h1",{children:"Remove (White) Pixels"}),jsxRuntimeExports.jsxs("div",{className:"controls",children:[jsxRuntimeExports.jsxs("div",{className:"slider-container",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"tolerance",children:["Tolerance: ",q]}),jsxRuntimeExports.jsx("input",{type:"range",id:"tolerance",min:"0",max:"255",value:q,onChange:ie=>te(Number(ie.target.value)),onMouseUp:()=>H(q),onTouchEnd:()=>H(q)})]}),jsxRuntimeExports.jsxs("button",{type:"button",className:"refresh-button","aria-label":"Clear",onClick:()=>{m(null),w(null),te(0)},children:[jsxRuntimeExports.jsx(Icon,{icon:"basil:refresh-outline",width:"24",height:"24",style:{fontSize:"1.5em"}}),jsxRuntimeExports.jsx("span",{children:"Clear"})]})]}),g?jsxRuntimeExports.jsx("img",{src:g,alt:"Processed"}):jsxRuntimeExports.jsx("input",{type:"text",className:"input-placeholder",onClick:()=>handleUploadClick(re),onDragOver:ie=>ie.preventDefault(),placeholder:"Click here or paste an image to get started"}),jsxRuntimeExports.jsx("input",{type:"file",ref:re,accept:"image/*",onChange:ie=>handleFileChange(ie,m)}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(Lt,{position:"top-center",hideProgressBar:!0,closeOnClick:!0,className:"toast-container"})]})};export{App as A,HelmetProvider as H,Meta as M,clientExports as c,jsxRuntimeExports as j,metadata as m,reactExports as r};
