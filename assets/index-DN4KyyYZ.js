var Zd=Object.defineProperty;var Gd=(d,m,g)=>m in d?Zd(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g;var Hd=(d,m)=>()=>(m||d((m={exports:{}}).exports,m),m.exports);var Er=(d,m,g)=>Gd(d,typeof m!="symbol"?m+"":m,g);var Wd=Hd((exports,module)=>{(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const D of document.querySelectorAll('link[rel="modulepreload"]'))w(D);new MutationObserver(D=>{for(const H of D)if(H.type==="childList")for(const q of H.addedNodes)q.tagName==="LINK"&&q.rel==="modulepreload"&&w(q)}).observe(document,{childList:!0,subtree:!0});function g(D){const H={};return D.integrity&&(H.integrity=D.integrity),D.referrerPolicy&&(H.referrerPolicy=D.referrerPolicy),D.crossOrigin==="use-credentials"?H.credentials="include":D.crossOrigin==="anonymous"?H.credentials="omit":H.credentials="same-origin",H}function w(D){if(D.ep)return;D.ep=!0;const H=g(D);fetch(D.href,H)}})();function getDefaultExportFromCjs$1(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var d=Symbol.for("react.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),q=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),ft=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),dt=Symbol.iterator;function St(ue){return ue===null||typeof ue!="object"?null:(ue=dt&&ue[dt]||ue["@@iterator"],typeof ue=="function"?ue:null)}var Tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rt=Object.assign,zt={};function $t(ue,xe,Be){this.props=ue,this.context=xe,this.refs=zt,this.updater=Be||Tt}$t.prototype.isReactComponent={},$t.prototype.setState=function(ue,xe){if(typeof ue!="object"&&typeof ue!="function"&&ue!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ue,xe,"setState")},$t.prototype.forceUpdate=function(ue){this.updater.enqueueForceUpdate(this,ue,"forceUpdate")};function jt(){}jt.prototype=$t.prototype;function Zt(ue,xe,Be){this.props=ue,this.context=xe,this.refs=zt,this.updater=Be||Tt}var Ft=Zt.prototype=new jt;Ft.constructor=Zt,Rt(Ft,$t.prototype),Ft.isPureReactComponent=!0;var Dt=Array.isArray,Kt=Object.prototype.hasOwnProperty,re={current:null},Yt={key:!0,ref:!0,__self:!0,__source:!0};function ne(ue,xe,Be){var Ce,Ee={},Se=null,Ne=null;if(xe!=null)for(Ce in xe.ref!==void 0&&(Ne=xe.ref),xe.key!==void 0&&(Se=""+xe.key),xe)Kt.call(xe,Ce)&&!Yt.hasOwnProperty(Ce)&&(Ee[Ce]=xe[Ce]);var Fe=arguments.length-2;if(Fe===1)Ee.children=Be;else if(1<Fe){for(var Oe=Array(Fe),Pe=0;Pe<Fe;Pe++)Oe[Pe]=arguments[Pe+2];Ee.children=Oe}if(ue&&ue.defaultProps)for(Ce in Fe=ue.defaultProps,Fe)Ee[Ce]===void 0&&(Ee[Ce]=Fe[Ce]);return{$$typeof:d,type:ue,key:Se,ref:Ne,props:Ee,_owner:re.current}}function ee(ue,xe){return{$$typeof:d,type:ue.type,key:xe,ref:ue.ref,props:ue.props,_owner:ue._owner}}function ae(ue){return typeof ue=="object"&&ue!==null&&ue.$$typeof===d}function Ut(ue){var xe={"=":"=0",":":"=2"};return"$"+ue.replace(/[=:]/g,function(Be){return xe[Be]})}var ie=/\/+/g;function _e(ue,xe){return typeof ue=="object"&&ue!==null&&ue.key!=null?Ut(""+ue.key):xe.toString(36)}function ce(ue,xe,Be,Ce,Ee){var Se=typeof ue;(Se==="undefined"||Se==="boolean")&&(ue=null);var Ne=!1;if(ue===null)Ne=!0;else switch(Se){case"string":case"number":Ne=!0;break;case"object":switch(ue.$$typeof){case d:case m:Ne=!0}}if(Ne)return Ne=ue,Ee=Ee(Ne),ue=Ce===""?"."+_e(Ne,0):Ce,Dt(Ee)?(Be="",ue!=null&&(Be=ue.replace(ie,"$&/")+"/"),ce(Ee,xe,Be,"",function(Pe){return Pe})):Ee!=null&&(ae(Ee)&&(Ee=ee(Ee,Be+(!Ee.key||Ne&&Ne.key===Ee.key?"":(""+Ee.key).replace(ie,"$&/")+"/")+ue)),xe.push(Ee)),1;if(Ne=0,Ce=Ce===""?".":Ce+":",Dt(ue))for(var Fe=0;Fe<ue.length;Fe++){Se=ue[Fe];var Oe=Ce+_e(Se,Fe);Ne+=ce(Se,xe,Be,Oe,Ee)}else if(Oe=St(ue),typeof Oe=="function")for(ue=Oe.call(ue),Fe=0;!(Se=ue.next()).done;)Se=Se.value,Oe=Ce+_e(Se,Fe++),Ne+=ce(Se,xe,Be,Oe,Ee);else if(Se==="object")throw xe=String(ue),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.");return Ne}function le(ue,xe,Be){if(ue==null)return ue;var Ce=[],Ee=0;return ce(ue,Ce,"","",function(Se){return xe.call(Be,Se,Ee++)}),Ce}function de(ue){if(ue._status===-1){var xe=ue._result;xe=xe(),xe.then(function(Be){(ue._status===0||ue._status===-1)&&(ue._status=1,ue._result=Be)},function(Be){(ue._status===0||ue._status===-1)&&(ue._status=2,ue._result=Be)}),ue._status===-1&&(ue._status=0,ue._result=xe)}if(ue._status===1)return ue._result.default;throw ue._result}var Ae={current:null},ve={transition:null},ye={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ve,ReactCurrentOwner:re};function Me(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:le,forEach:function(ue,xe,Be){le(ue,function(){xe.apply(this,arguments)},Be)},count:function(ue){var xe=0;return le(ue,function(){xe++}),xe},toArray:function(ue){return le(ue,function(xe){return xe})||[]},only:function(ue){if(!ae(ue))throw Error("React.Children.only expected to receive a single React element child.");return ue}},react_production_min.Component=$t,react_production_min.Fragment=g,react_production_min.Profiler=D,react_production_min.PureComponent=Zt,react_production_min.StrictMode=w,react_production_min.Suspense=ot,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,react_production_min.act=Me,react_production_min.cloneElement=function(ue,xe,Be){if(ue==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ue+".");var Ce=Rt({},ue.props),Ee=ue.key,Se=ue.ref,Ne=ue._owner;if(xe!=null){if(xe.ref!==void 0&&(Se=xe.ref,Ne=re.current),xe.key!==void 0&&(Ee=""+xe.key),ue.type&&ue.type.defaultProps)var Fe=ue.type.defaultProps;for(Oe in xe)Kt.call(xe,Oe)&&!Yt.hasOwnProperty(Oe)&&(Ce[Oe]=xe[Oe]===void 0&&Fe!==void 0?Fe[Oe]:xe[Oe])}var Oe=arguments.length-2;if(Oe===1)Ce.children=Be;else if(1<Oe){Fe=Array(Oe);for(var Pe=0;Pe<Oe;Pe++)Fe[Pe]=arguments[Pe+2];Ce.children=Fe}return{$$typeof:d,type:ue.type,key:Ee,ref:Se,props:Ce,_owner:Ne}},react_production_min.createContext=function(ue){return ue={$$typeof:q,_currentValue:ue,_currentValue2:ue,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ue.Provider={$$typeof:H,_context:ue},ue.Consumer=ue},react_production_min.createElement=ne,react_production_min.createFactory=function(ue){var xe=ne.bind(null,ue);return xe.type=ue,xe},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(ue){return{$$typeof:it,render:ue}},react_production_min.isValidElement=ae,react_production_min.lazy=function(ue){return{$$typeof:ut,_payload:{_status:-1,_result:ue},_init:de}},react_production_min.memo=function(ue,xe){return{$$typeof:ft,type:ue,compare:xe===void 0?null:xe}},react_production_min.startTransition=function(ue){var xe=ve.transition;ve.transition={};try{ue()}finally{ve.transition=xe}},react_production_min.unstable_act=Me,react_production_min.useCallback=function(ue,xe){return Ae.current.useCallback(ue,xe)},react_production_min.useContext=function(ue){return Ae.current.useContext(ue)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(ue){return Ae.current.useDeferredValue(ue)},react_production_min.useEffect=function(ue,xe){return Ae.current.useEffect(ue,xe)},react_production_min.useId=function(){return Ae.current.useId()},react_production_min.useImperativeHandle=function(ue,xe,Be){return Ae.current.useImperativeHandle(ue,xe,Be)},react_production_min.useInsertionEffect=function(ue,xe){return Ae.current.useInsertionEffect(ue,xe)},react_production_min.useLayoutEffect=function(ue,xe){return Ae.current.useLayoutEffect(ue,xe)},react_production_min.useMemo=function(ue,xe){return Ae.current.useMemo(ue,xe)},react_production_min.useReducer=function(ue,xe,Be){return Ae.current.useReducer(ue,xe,Be)},react_production_min.useRef=function(ue){return Ae.current.useRef(ue)},react_production_min.useState=function(ue){return Ae.current.useState(ue)},react_production_min.useSyncExternalStore=function(ue,xe,Be){return Ae.current.useSyncExternalStore(ue,xe,Be)},react_production_min.useTransition=function(){return Ae.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var d=requireReact(),m=Symbol.for("react.element"),g=Symbol.for("react.fragment"),w=Object.prototype.hasOwnProperty,D=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H={key:!0,ref:!0,__self:!0,__source:!0};function q(it,ot,ft){var ut,dt={},St=null,Tt=null;ft!==void 0&&(St=""+ft),ot.key!==void 0&&(St=""+ot.key),ot.ref!==void 0&&(Tt=ot.ref);for(ut in ot)w.call(ot,ut)&&!H.hasOwnProperty(ut)&&(dt[ut]=ot[ut]);if(it&&it.defaultProps)for(ut in ot=it.defaultProps,ot)dt[ut]===void 0&&(dt[ut]=ot[ut]);return{$$typeof:m,type:it,key:St,ref:Tt,props:dt,_owner:D.current}}return reactJsxRuntime_production_min.Fragment=g,reactJsxRuntime_production_min.jsx=q,reactJsxRuntime_production_min.jsxs=q,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(d){function m(ve,ye){var Me=ve.length;ve.push(ye);t:for(;0<Me;){var ue=Me-1>>>1,xe=ve[ue];if(0<D(xe,ye))ve[ue]=ye,ve[Me]=xe,Me=ue;else break t}}function g(ve){return ve.length===0?null:ve[0]}function w(ve){if(ve.length===0)return null;var ye=ve[0],Me=ve.pop();if(Me!==ye){ve[0]=Me;t:for(var ue=0,xe=ve.length,Be=xe>>>1;ue<Be;){var Ce=2*(ue+1)-1,Ee=ve[Ce],Se=Ce+1,Ne=ve[Se];if(0>D(Ee,Me))Se<xe&&0>D(Ne,Ee)?(ve[ue]=Ne,ve[Se]=Me,ue=Se):(ve[ue]=Ee,ve[Ce]=Me,ue=Ce);else if(Se<xe&&0>D(Ne,Me))ve[ue]=Ne,ve[Se]=Me,ue=Se;else break t}}return ye}function D(ve,ye){var Me=ve.sortIndex-ye.sortIndex;return Me!==0?Me:ve.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var H=performance;d.unstable_now=function(){return H.now()}}else{var q=Date,it=q.now();d.unstable_now=function(){return q.now()-it}}var ot=[],ft=[],ut=1,dt=null,St=3,Tt=!1,Rt=!1,zt=!1,$t=typeof setTimeout=="function"?setTimeout:null,jt=typeof clearTimeout=="function"?clearTimeout:null,Zt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ft(ve){for(var ye=g(ft);ye!==null;){if(ye.callback===null)w(ft);else if(ye.startTime<=ve)w(ft),ye.sortIndex=ye.expirationTime,m(ot,ye);else break;ye=g(ft)}}function Dt(ve){if(zt=!1,Ft(ve),!Rt)if(g(ot)!==null)Rt=!0,de(Kt);else{var ye=g(ft);ye!==null&&Ae(Dt,ye.startTime-ve)}}function Kt(ve,ye){Rt=!1,zt&&(zt=!1,jt(ne),ne=-1),Tt=!0;var Me=St;try{for(Ft(ye),dt=g(ot);dt!==null&&(!(dt.expirationTime>ye)||ve&&!Ut());){var ue=dt.callback;if(typeof ue=="function"){dt.callback=null,St=dt.priorityLevel;var xe=ue(dt.expirationTime<=ye);ye=d.unstable_now(),typeof xe=="function"?dt.callback=xe:dt===g(ot)&&w(ot),Ft(ye)}else w(ot);dt=g(ot)}if(dt!==null)var Be=!0;else{var Ce=g(ft);Ce!==null&&Ae(Dt,Ce.startTime-ye),Be=!1}return Be}finally{dt=null,St=Me,Tt=!1}}var re=!1,Yt=null,ne=-1,ee=5,ae=-1;function Ut(){return!(d.unstable_now()-ae<ee)}function ie(){if(Yt!==null){var ve=d.unstable_now();ae=ve;var ye=!0;try{ye=Yt(!0,ve)}finally{ye?_e():(re=!1,Yt=null)}}else re=!1}var _e;if(typeof Zt=="function")_e=function(){Zt(ie)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,le=ce.port2;ce.port1.onmessage=ie,_e=function(){le.postMessage(null)}}else _e=function(){$t(ie,0)};function de(ve){Yt=ve,re||(re=!0,_e())}function Ae(ve,ye){ne=$t(function(){ve(d.unstable_now())},ye)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(ve){ve.callback=null},d.unstable_continueExecution=function(){Rt||Tt||(Rt=!0,de(Kt))},d.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<ve?Math.floor(1e3/ve):5},d.unstable_getCurrentPriorityLevel=function(){return St},d.unstable_getFirstCallbackNode=function(){return g(ot)},d.unstable_next=function(ve){switch(St){case 1:case 2:case 3:var ye=3;break;default:ye=St}var Me=St;St=ye;try{return ve()}finally{St=Me}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(ve,ye){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var Me=St;St=ve;try{return ye()}finally{St=Me}},d.unstable_scheduleCallback=function(ve,ye,Me){var ue=d.unstable_now();switch(typeof Me=="object"&&Me!==null?(Me=Me.delay,Me=typeof Me=="number"&&0<Me?ue+Me:ue):Me=ue,ve){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Me+xe,ve={id:ut++,callback:ye,priorityLevel:ve,startTime:Me,expirationTime:xe,sortIndex:-1},Me>ue?(ve.sortIndex=Me,m(ft,ve),g(ot)===null&&ve===g(ft)&&(zt?(jt(ne),ne=-1):zt=!0,Ae(Dt,Me-ue))):(ve.sortIndex=xe,m(ot,ve),Rt||Tt||(Rt=!0,de(Kt))),ve},d.unstable_shouldYield=Ut,d.unstable_wrapCallback=function(ve){var ye=St;return function(){var Me=St;St=ye;try{return ve.apply(this,arguments)}finally{St=Me}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var d=requireReact(),m=requireScheduler();function g(j){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+j,kt=1;kt<arguments.length;kt++)et+="&args[]="+encodeURIComponent(arguments[kt]);return"Minified React error #"+j+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w=new Set,D={};function H(j,et){q(j,et),q(j+"Capture",et)}function q(j,et){for(D[j]=et,j=0;j<et.length;j++)w.add(et[j])}var it=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ot=Object.prototype.hasOwnProperty,ft=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ut={},dt={};function St(j){return ot.call(dt,j)?!0:ot.call(ut,j)?!1:ft.test(j)?dt[j]=!0:(ut[j]=!0,!1)}function Tt(j,et,kt,Bt){if(kt!==null&&kt.type===0)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return Bt?!1:kt!==null?!kt.acceptsBooleans:(j=j.toLowerCase().slice(0,5),j!=="data-"&&j!=="aria-");default:return!1}}function Rt(j,et,kt,Bt){if(et===null||typeof et>"u"||Tt(j,et,kt,Bt))return!0;if(Bt)return!1;if(kt!==null)switch(kt.type){case 3:return!et;case 4:return et===!1;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}function zt(j,et,kt,Bt,te,fe,Ie){this.acceptsBooleans=et===2||et===3||et===4,this.attributeName=Bt,this.attributeNamespace=te,this.mustUseProperty=kt,this.propertyName=j,this.type=et,this.sanitizeURL=fe,this.removeEmptyString=Ie}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(j){$t[j]=new zt(j,0,!1,j,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(j){var et=j[0];$t[et]=new zt(et,1,!1,j[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(j){$t[j]=new zt(j,2,!1,j.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(j){$t[j]=new zt(j,2,!1,j,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(j){$t[j]=new zt(j,3,!1,j.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(j){$t[j]=new zt(j,3,!0,j,null,!1,!1)}),["capture","download"].forEach(function(j){$t[j]=new zt(j,4,!1,j,null,!1,!1)}),["cols","rows","size","span"].forEach(function(j){$t[j]=new zt(j,6,!1,j,null,!1,!1)}),["rowSpan","start"].forEach(function(j){$t[j]=new zt(j,5,!1,j.toLowerCase(),null,!1,!1)});var jt=/[\-:]([a-z])/g;function Zt(j){return j[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(j){var et=j.replace(jt,Zt);$t[et]=new zt(et,1,!1,j,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(j){var et=j.replace(jt,Zt);$t[et]=new zt(et,1,!1,j,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(j){var et=j.replace(jt,Zt);$t[et]=new zt(et,1,!1,j,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(j){$t[j]=new zt(j,1,!1,j.toLowerCase(),null,!1,!1)}),$t.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(j){$t[j]=new zt(j,1,!1,j.toLowerCase(),null,!0,!0)});function Ft(j,et,kt,Bt){var te=$t.hasOwnProperty(et)?$t[et]:null;(te!==null?te.type!==0:Bt||!(2<et.length)||et[0]!=="o"&&et[0]!=="O"||et[1]!=="n"&&et[1]!=="N")&&(Rt(et,kt,te,Bt)&&(kt=null),Bt||te===null?St(et)&&(kt===null?j.removeAttribute(et):j.setAttribute(et,""+kt)):te.mustUseProperty?j[te.propertyName]=kt===null?te.type===3?!1:"":kt:(et=te.attributeName,Bt=te.attributeNamespace,kt===null?j.removeAttribute(et):(te=te.type,kt=te===3||te===4&&kt===!0?"":""+kt,Bt?j.setAttributeNS(Bt,et,kt):j.setAttribute(et,kt))))}var Dt=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kt=Symbol.for("react.element"),re=Symbol.for("react.portal"),Yt=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),Ut=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),ve=Symbol.iterator;function ye(j){return j===null||typeof j!="object"?null:(j=ve&&j[ve]||j["@@iterator"],typeof j=="function"?j:null)}var Me=Object.assign,ue;function xe(j){if(ue===void 0)try{throw Error()}catch(kt){var et=kt.stack.trim().match(/\n( *(at )?)/);ue=et&&et[1]||""}return`
`+ue+j}var Be=!1;function Ce(j,et){if(!j||Be)return"";Be=!0;var kt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(et)if(et=function(){throw Error()},Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Je){var Bt=Je}Reflect.construct(j,[],et)}else{try{et.call()}catch(Je){Bt=Je}j.call(et.prototype)}else{try{throw Error()}catch(Je){Bt=Je}j()}}catch(Je){if(Je&&Bt&&typeof Je.stack=="string"){for(var te=Je.stack.split(`
`),fe=Bt.stack.split(`
`),Ie=te.length-1,Ue=fe.length-1;1<=Ie&&0<=Ue&&te[Ie]!==fe[Ue];)Ue--;for(;1<=Ie&&0<=Ue;Ie--,Ue--)if(te[Ie]!==fe[Ue]){if(Ie!==1||Ue!==1)do if(Ie--,Ue--,0>Ue||te[Ie]!==fe[Ue]){var Ge=`
`+te[Ie].replace(" at new "," at ");return j.displayName&&Ge.includes("<anonymous>")&&(Ge=Ge.replace("<anonymous>",j.displayName)),Ge}while(1<=Ie&&0<=Ue);break}}}finally{Be=!1,Error.prepareStackTrace=kt}return(j=j?j.displayName||j.name:"")?xe(j):""}function Ee(j){switch(j.tag){case 5:return xe(j.type);case 16:return xe("Lazy");case 13:return xe("Suspense");case 19:return xe("SuspenseList");case 0:case 2:case 15:return j=Ce(j.type,!1),j;case 11:return j=Ce(j.type.render,!1),j;case 1:return j=Ce(j.type,!0),j;default:return""}}function Se(j){if(j==null)return null;if(typeof j=="function")return j.displayName||j.name||null;if(typeof j=="string")return j;switch(j){case Yt:return"Fragment";case re:return"Portal";case ee:return"Profiler";case ne:return"StrictMode";case _e:return"Suspense";case ce:return"SuspenseList"}if(typeof j=="object")switch(j.$$typeof){case Ut:return(j.displayName||"Context")+".Consumer";case ae:return(j._context.displayName||"Context")+".Provider";case ie:var et=j.render;return j=j.displayName,j||(j=et.displayName||et.name||"",j=j!==""?"ForwardRef("+j+")":"ForwardRef"),j;case le:return et=j.displayName||null,et!==null?et:Se(j.type)||"Memo";case de:et=j._payload,j=j._init;try{return Se(j(et))}catch{}}return null}function Ne(j){var et=j.type;switch(j.tag){case 24:return"Cache";case 9:return(et.displayName||"Context")+".Consumer";case 10:return(et._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return j=et.render,j=j.displayName||j.name||"",et.displayName||(j!==""?"ForwardRef("+j+")":"ForwardRef");case 7:return"Fragment";case 5:return et;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(et);case 8:return et===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et}return null}function Fe(j){switch(typeof j){case"boolean":case"number":case"string":case"undefined":return j;case"object":return j;default:return""}}function Oe(j){var et=j.type;return(j=j.nodeName)&&j.toLowerCase()==="input"&&(et==="checkbox"||et==="radio")}function Pe(j){var et=Oe(j)?"checked":"value",kt=Object.getOwnPropertyDescriptor(j.constructor.prototype,et),Bt=""+j[et];if(!j.hasOwnProperty(et)&&typeof kt<"u"&&typeof kt.get=="function"&&typeof kt.set=="function"){var te=kt.get,fe=kt.set;return Object.defineProperty(j,et,{configurable:!0,get:function(){return te.call(this)},set:function(Ie){Bt=""+Ie,fe.call(this,Ie)}}),Object.defineProperty(j,et,{enumerable:kt.enumerable}),{getValue:function(){return Bt},setValue:function(Ie){Bt=""+Ie},stopTracking:function(){j._valueTracker=null,delete j[et]}}}}function Jt(j){j._valueTracker||(j._valueTracker=Pe(j))}function Te(j){if(!j)return!1;var et=j._valueTracker;if(!et)return!0;var kt=et.getValue(),Bt="";return j&&(Bt=Oe(j)?j.checked?"true":"false":j.value),j=Bt,j!==kt?(et.setValue(j),!0):!1}function he(j){if(j=j||(typeof document<"u"?document:void 0),typeof j>"u")return null;try{return j.activeElement||j.body}catch{return j.body}}function me(j,et){var kt=et.checked;return Me({},et,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:kt??j._wrapperState.initialChecked})}function pe(j,et){var kt=et.defaultValue==null?"":et.defaultValue,Bt=et.checked!=null?et.checked:et.defaultChecked;kt=Fe(et.value!=null?et.value:kt),j._wrapperState={initialChecked:Bt,initialValue:kt,controlled:et.type==="checkbox"||et.type==="radio"?et.checked!=null:et.value!=null}}function we(j,et){et=et.checked,et!=null&&Ft(j,"checked",et,!1)}function Re(j,et){we(j,et);var kt=Fe(et.value),Bt=et.type;if(kt!=null)Bt==="number"?(kt===0&&j.value===""||j.value!=kt)&&(j.value=""+kt):j.value!==""+kt&&(j.value=""+kt);else if(Bt==="submit"||Bt==="reset"){j.removeAttribute("value");return}et.hasOwnProperty("value")?oe(j,et.type,kt):et.hasOwnProperty("defaultValue")&&oe(j,et.type,Fe(et.defaultValue)),et.checked==null&&et.defaultChecked!=null&&(j.defaultChecked=!!et.defaultChecked)}function Ht(j,et,kt){if(et.hasOwnProperty("value")||et.hasOwnProperty("defaultValue")){var Bt=et.type;if(!(Bt!=="submit"&&Bt!=="reset"||et.value!==void 0&&et.value!==null))return;et=""+j._wrapperState.initialValue,kt||et===j.value||(j.value=et),j.defaultValue=et}kt=j.name,kt!==""&&(j.name=""),j.defaultChecked=!!j._wrapperState.initialChecked,kt!==""&&(j.name=kt)}function oe(j,et,kt){(et!=="number"||he(j.ownerDocument)!==j)&&(kt==null?j.defaultValue=""+j._wrapperState.initialValue:j.defaultValue!==""+kt&&(j.defaultValue=""+kt))}var ge=Array.isArray;function be(j,et,kt,Bt){if(j=j.options,et){et={};for(var te=0;te<kt.length;te++)et["$"+kt[te]]=!0;for(kt=0;kt<j.length;kt++)te=et.hasOwnProperty("$"+j[kt].value),j[kt].selected!==te&&(j[kt].selected=te),te&&Bt&&(j[kt].defaultSelected=!0)}else{for(kt=""+Fe(kt),et=null,te=0;te<j.length;te++){if(j[te].value===kt){j[te].selected=!0,Bt&&(j[te].defaultSelected=!0);return}et!==null||j[te].disabled||(et=j[te])}et!==null&&(et.selected=!0)}}function De(j,et){if(et.dangerouslySetInnerHTML!=null)throw Error(g(91));return Me({},et,{value:void 0,defaultValue:void 0,children:""+j._wrapperState.initialValue})}function je(j,et){var kt=et.value;if(kt==null){if(kt=et.children,et=et.defaultValue,kt!=null){if(et!=null)throw Error(g(92));if(ge(kt)){if(1<kt.length)throw Error(g(93));kt=kt[0]}et=kt}et==null&&(et=""),kt=et}j._wrapperState={initialValue:Fe(kt)}}function er(j,et){var kt=Fe(et.value),Bt=Fe(et.defaultValue);kt!=null&&(kt=""+kt,kt!==j.value&&(j.value=kt),et.defaultValue==null&&j.defaultValue!==kt&&(j.defaultValue=kt)),Bt!=null&&(j.defaultValue=""+Bt)}function ir(j){var et=j.textContent;et===j._wrapperState.initialValue&&et!==""&&et!==null&&(j.value=et)}function Xe(j){switch(j){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ar(j,et){return j==null||j==="http://www.w3.org/1999/xhtml"?Xe(et):j==="http://www.w3.org/2000/svg"&&et==="foreignObject"?"http://www.w3.org/1999/xhtml":j}var rr,gr=function(j){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(et,kt,Bt,te){MSApp.execUnsafeLocalFunction(function(){return j(et,kt,Bt,te)})}:j}(function(j,et){if(j.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in j)j.innerHTML=et;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+et.valueOf().toString()+"</svg>",et=rr.firstChild;j.firstChild;)j.removeChild(j.firstChild);for(;et.firstChild;)j.appendChild(et.firstChild)}});function dr(j,et){if(et){var kt=j.firstChild;if(kt&&kt===j.lastChild&&kt.nodeType===3){kt.nodeValue=et;return}}j.textContent=et}var hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kr=["Webkit","ms","Moz","O"];Object.keys(hr).forEach(function(j){kr.forEach(function(et){et=et+j.charAt(0).toUpperCase()+j.substring(1),hr[et]=hr[j]})});function cr(j,et,kt){return et==null||typeof et=="boolean"||et===""?"":kt||typeof et!="number"||et===0||hr.hasOwnProperty(j)&&hr[j]?(""+et).trim():et+"px"}function ze(j,et){j=j.style;for(var kt in et)if(et.hasOwnProperty(kt)){var Bt=kt.indexOf("--")===0,te=cr(kt,et[kt],Bt);kt==="float"&&(kt="cssFloat"),Bt?j.setProperty(kt,te):j[kt]=te}}var nr=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Le(j,et){if(et){if(nr[j]&&(et.children!=null||et.dangerouslySetInnerHTML!=null))throw Error(g(137,j));if(et.dangerouslySetInnerHTML!=null){if(et.children!=null)throw Error(g(60));if(typeof et.dangerouslySetInnerHTML!="object"||!("__html"in et.dangerouslySetInnerHTML))throw Error(g(61))}if(et.style!=null&&typeof et.style!="object")throw Error(g(62))}}function Qe(j,et){if(j.indexOf("-")===-1)return typeof et.is=="string";switch(j){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function tr(j){return j=j.target||j.srcElement||window,j.correspondingUseElement&&(j=j.correspondingUseElement),j.nodeType===3?j.parentNode:j}var br=null,se=null,Ve=null;function Ze(j){if(j=ya(j)){if(typeof br!="function")throw Error(g(280));var et=j.stateNode;et&&(et=oo(et),br(j.stateNode,j.type,et))}}function $e(j){se?Ve?Ve.push(j):Ve=[j]:se=j}function We(){if(se){var j=se,et=Ve;if(Ve=se=null,Ze(j),et)for(j=0;j<et.length;j++)Ze(et[j])}}function qe(j,et){return j(et)}function _r(){}var fr=!1;function pr(j,et,kt){if(fr)return j(et,kt);fr=!0;try{return qe(j,et,kt)}finally{fr=!1,(se!==null||Ve!==null)&&(_r(),We())}}function Ir(j,et){var kt=j.stateNode;if(kt===null)return null;var Bt=oo(kt);if(Bt===null)return null;kt=Bt[et];t:switch(et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Bt=!Bt.disabled)||(j=j.type,Bt=!(j==="button"||j==="input"||j==="select"||j==="textarea")),j=!Bt;break t;default:j=!1}if(j)return null;if(kt&&typeof kt!="function")throw Error(g(231,et,typeof kt));return kt}var Xr=!1;if(it)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{Xr=!1}function Nr(j,et,kt,Bt,te,fe,Ie,Ue,Ge){var Je=Array.prototype.slice.call(arguments,3);try{et.apply(kt,Je)}catch(sr){this.onError(sr)}}var Br=!1,$r=null,xn=!1,An=null,Fr={onError:function(j){Br=!0,$r=j}};function rn(j,et,kt,Bt,te,fe,Ie,Ue,Ge){Br=!1,$r=null,Nr.apply(Fr,arguments)}function _n(j,et,kt,Bt,te,fe,Ie,Ue,Ge){if(rn.apply(this,arguments),Br){if(Br){var Je=$r;Br=!1,$r=null}else throw Error(g(198));xn||(xn=!0,An=Je)}}function Zr(j){var et=j,kt=j;if(j.alternate)for(;et.return;)et=et.return;else{j=et;do et=j,et.flags&4098&&(kt=et.return),j=et.return;while(j)}return et.tag===3?kt:null}function Wr(j){if(j.tag===13){var et=j.memoizedState;if(et===null&&(j=j.alternate,j!==null&&(et=j.memoizedState)),et!==null)return et.dehydrated}return null}function Lr(j){if(Zr(j)!==j)throw Error(g(188))}function Yn(j){var et=j.alternate;if(!et){if(et=Zr(j),et===null)throw Error(g(188));return et!==j?null:j}for(var kt=j,Bt=et;;){var te=kt.return;if(te===null)break;var fe=te.alternate;if(fe===null){if(Bt=te.return,Bt!==null){kt=Bt;continue}break}if(te.child===fe.child){for(fe=te.child;fe;){if(fe===kt)return Lr(te),j;if(fe===Bt)return Lr(te),et;fe=fe.sibling}throw Error(g(188))}if(kt.return!==Bt.return)kt=te,Bt=fe;else{for(var Ie=!1,Ue=te.child;Ue;){if(Ue===kt){Ie=!0,kt=te,Bt=fe;break}if(Ue===Bt){Ie=!0,Bt=te,kt=fe;break}Ue=Ue.sibling}if(!Ie){for(Ue=fe.child;Ue;){if(Ue===kt){Ie=!0,kt=fe,Bt=te;break}if(Ue===Bt){Ie=!0,Bt=fe,kt=te;break}Ue=Ue.sibling}if(!Ie)throw Error(g(189))}}if(kt.alternate!==Bt)throw Error(g(190))}if(kt.tag!==3)throw Error(g(188));return kt.stateNode.current===kt?j:et}function Yi(j){return j=Yn(j),j!==null?Ki(j):null}function Ki(j){if(j.tag===5||j.tag===6)return j;for(j=j.child;j!==null;){var et=Ki(j);if(et!==null)return et;j=j.sibling}return null}var Xi=m.unstable_scheduleCallback,Ji=m.unstable_cancelCallback,Ba=m.unstable_shouldYield,za=m.unstable_requestPaint,Ur=m.unstable_now,nc=m.unstable_getCurrentPriorityLevel,Yo=m.unstable_ImmediatePriority,Cl=m.unstable_UserBlockingPriority,Na=m.unstable_NormalPriority,ic=m.unstable_LowPriority,Rl=m.unstable_IdlePriority,$a=null,Fn=null;function ac(j){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot($a,j,void 0,(j.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:lc,oc=Math.log,sc=Math.LN2;function lc(j){return j>>>=0,j===0?32:31-(oc(j)/sc|0)|0}var Fa=64,Oa=4194304;function ta(j){switch(j&-j){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return j&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return j&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return j}}function Da(j,et){var kt=j.pendingLanes;if(kt===0)return 0;var Bt=0,te=j.suspendedLanes,fe=j.pingedLanes,Ie=kt&268435455;if(Ie!==0){var Ue=Ie&~te;Ue!==0?Bt=ta(Ue):(fe&=Ie,fe!==0&&(Bt=ta(fe)))}else Ie=kt&~te,Ie!==0?Bt=ta(Ie):fe!==0&&(Bt=ta(fe));if(Bt===0)return 0;if(et!==0&&et!==Bt&&!(et&te)&&(te=Bt&-Bt,fe=et&-et,te>=fe||te===16&&(fe&4194240)!==0))return et;if(Bt&4&&(Bt|=kt&16),et=j.entangledLanes,et!==0)for(j=j.entanglements,et&=Bt;0<et;)kt=31-Pn(et),te=1<<kt,Bt|=j[kt],et&=~te;return Bt}function uc(j,et){switch(j){case 1:case 2:case 4:return et+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fc(j,et){for(var kt=j.suspendedLanes,Bt=j.pingedLanes,te=j.expirationTimes,fe=j.pendingLanes;0<fe;){var Ie=31-Pn(fe),Ue=1<<Ie,Ge=te[Ie];Ge===-1?(!(Ue&kt)||Ue&Bt)&&(te[Ie]=uc(Ue,et)):Ge<=et&&(j.expiredLanes|=Ue),fe&=~Ue}}function Ko(j){return j=j.pendingLanes&-1073741825,j!==0?j:j&1073741824?1073741824:0}function Bl(){var j=Fa;return Fa<<=1,!(Fa&4194240)&&(Fa=64),j}function Xo(j){for(var et=[],kt=0;31>kt;kt++)et.push(j);return et}function ea(j,et,kt){j.pendingLanes|=et,et!==536870912&&(j.suspendedLanes=0,j.pingedLanes=0),j=j.eventTimes,et=31-Pn(et),j[et]=kt}function cc(j,et){var kt=j.pendingLanes&~et;j.pendingLanes=et,j.suspendedLanes=0,j.pingedLanes=0,j.expiredLanes&=et,j.mutableReadLanes&=et,j.entangledLanes&=et,et=j.entanglements;var Bt=j.eventTimes;for(j=j.expirationTimes;0<kt;){var te=31-Pn(kt),fe=1<<te;et[te]=0,Bt[te]=-1,j[te]=-1,kt&=~fe}}function Jo(j,et){var kt=j.entangledLanes|=et;for(j=j.entanglements;kt;){var Bt=31-Pn(kt),te=1<<Bt;te&et|j[Bt]&et&&(j[Bt]|=et),kt&=~te}}var Rr=0;function zl(j){return j&=-j,1<j?4<j?j&268435455?16:536870912:4:1}var Nl,ts,$l,Fl,Ol,es=!1,La=[],Kn=null,Xn=null,Jn=null,ra=new Map,na=new Map,ti=[],dc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dl(j,et){switch(j){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":ra.delete(et.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(et.pointerId)}}function ia(j,et,kt,Bt,te,fe){return j===null||j.nativeEvent!==fe?(j={blockedOn:et,domEventName:kt,eventSystemFlags:Bt,nativeEvent:fe,targetContainers:[te]},et!==null&&(et=ya(et),et!==null&&ts(et)),j):(j.eventSystemFlags|=Bt,et=j.targetContainers,te!==null&&et.indexOf(te)===-1&&et.push(te),j)}function hc(j,et,kt,Bt,te){switch(et){case"focusin":return Kn=ia(Kn,j,et,kt,Bt,te),!0;case"dragenter":return Xn=ia(Xn,j,et,kt,Bt,te),!0;case"mouseover":return Jn=ia(Jn,j,et,kt,Bt,te),!0;case"pointerover":var fe=te.pointerId;return ra.set(fe,ia(ra.get(fe)||null,j,et,kt,Bt,te)),!0;case"gotpointercapture":return fe=te.pointerId,na.set(fe,ia(na.get(fe)||null,j,et,kt,Bt,te)),!0}return!1}function Ll(j){var et=gi(j.target);if(et!==null){var kt=Zr(et);if(kt!==null){if(et=kt.tag,et===13){if(et=Wr(kt),et!==null){j.blockedOn=et,Ol(j.priority,function(){$l(kt)});return}}else if(et===3&&kt.stateNode.current.memoizedState.isDehydrated){j.blockedOn=kt.tag===3?kt.stateNode.containerInfo:null;return}}}j.blockedOn=null}function Ua(j){if(j.blockedOn!==null)return!1;for(var et=j.targetContainers;0<et.length;){var kt=ns(j.domEventName,j.eventSystemFlags,et[0],j.nativeEvent);if(kt===null){kt=j.nativeEvent;var Bt=new kt.constructor(kt.type,kt);ke=Bt,kt.target.dispatchEvent(Bt),ke=null}else return et=ya(kt),et!==null&&ts(et),j.blockedOn=kt,!1;et.shift()}return!0}function Ul(j,et,kt){Ua(j)&&kt.delete(et)}function pc(){es=!1,Kn!==null&&Ua(Kn)&&(Kn=null),Xn!==null&&Ua(Xn)&&(Xn=null),Jn!==null&&Ua(Jn)&&(Jn=null),ra.forEach(Ul),na.forEach(Ul)}function aa(j,et){j.blockedOn===et&&(j.blockedOn=null,es||(es=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,pc)))}function oa(j){function et(te){return aa(te,j)}if(0<La.length){aa(La[0],j);for(var kt=1;kt<La.length;kt++){var Bt=La[kt];Bt.blockedOn===j&&(Bt.blockedOn=null)}}for(Kn!==null&&aa(Kn,j),Xn!==null&&aa(Xn,j),Jn!==null&&aa(Jn,j),ra.forEach(et),na.forEach(et),kt=0;kt<ti.length;kt++)Bt=ti[kt],Bt.blockedOn===j&&(Bt.blockedOn=null);for(;0<ti.length&&(kt=ti[0],kt.blockedOn===null);)Ll(kt),kt.blockedOn===null&&ti.shift()}var Mi=Dt.ReactCurrentBatchConfig,ja=!0;function mc(j,et,kt,Bt){var te=Rr,fe=Mi.transition;Mi.transition=null;try{Rr=1,rs(j,et,kt,Bt)}finally{Rr=te,Mi.transition=fe}}function gc(j,et,kt,Bt){var te=Rr,fe=Mi.transition;Mi.transition=null;try{Rr=4,rs(j,et,kt,Bt)}finally{Rr=te,Mi.transition=fe}}function rs(j,et,kt,Bt){if(ja){var te=ns(j,et,kt,Bt);if(te===null)vs(j,et,Bt,Za,kt),Dl(j,Bt);else if(hc(te,j,et,kt,Bt))Bt.stopPropagation();else if(Dl(j,Bt),et&4&&-1<dc.indexOf(j)){for(;te!==null;){var fe=ya(te);if(fe!==null&&Nl(fe),fe=ns(j,et,kt,Bt),fe===null&&vs(j,et,Bt,Za,kt),fe===te)break;te=fe}te!==null&&Bt.stopPropagation()}else vs(j,et,Bt,null,kt)}}var Za=null;function ns(j,et,kt,Bt){if(Za=null,j=tr(Bt),j=gi(j),j!==null)if(et=Zr(j),et===null)j=null;else if(kt=et.tag,kt===13){if(j=Wr(et),j!==null)return j;j=null}else if(kt===3){if(et.stateNode.current.memoizedState.isDehydrated)return et.tag===3?et.stateNode.containerInfo:null;j=null}else et!==j&&(j=null);return Za=j,null}function jl(j){switch(j){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nc()){case Yo:return 1;case Cl:return 4;case Na:case ic:return 16;case Rl:return 536870912;default:return 16}default:return 16}}var ei=null,is=null,Ga=null;function Zl(){if(Ga)return Ga;var j,et=is,kt=et.length,Bt,te="value"in ei?ei.value:ei.textContent,fe=te.length;for(j=0;j<kt&&et[j]===te[j];j++);var Ie=kt-j;for(Bt=1;Bt<=Ie&&et[kt-Bt]===te[fe-Bt];Bt++);return Ga=te.slice(j,1<Bt?1-Bt:void 0)}function Ha(j){var et=j.keyCode;return"charCode"in j?(j=j.charCode,j===0&&et===13&&(j=13)):j=et,j===10&&(j=13),32<=j||j===13?j:0}function Wa(){return!0}function Gl(){return!1}function yn(j){function et(kt,Bt,te,fe,Ie){this._reactName=kt,this._targetInst=te,this.type=Bt,this.nativeEvent=fe,this.target=Ie,this.currentTarget=null;for(var Ue in j)j.hasOwnProperty(Ue)&&(kt=j[Ue],this[Ue]=kt?kt(fe):fe[Ue]);return this.isDefaultPrevented=(fe.defaultPrevented!=null?fe.defaultPrevented:fe.returnValue===!1)?Wa:Gl,this.isPropagationStopped=Gl,this}return Me(et.prototype,{preventDefault:function(){this.defaultPrevented=!0;var kt=this.nativeEvent;kt&&(kt.preventDefault?kt.preventDefault():typeof kt.returnValue!="unknown"&&(kt.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var kt=this.nativeEvent;kt&&(kt.stopPropagation?kt.stopPropagation():typeof kt.cancelBubble!="unknown"&&(kt.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),et}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(j){return j.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=yn(Ai),sa=Me({},Ai,{view:0,detail:0}),_c=yn(sa),os,ss,la,Qa=Me({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(j){return j.relatedTarget===void 0?j.fromElement===j.srcElement?j.toElement:j.fromElement:j.relatedTarget},movementX:function(j){return"movementX"in j?j.movementX:(j!==la&&(la&&j.type==="mousemove"?(os=j.screenX-la.screenX,ss=j.screenY-la.screenY):ss=os=0,la=j),os)},movementY:function(j){return"movementY"in j?j.movementY:ss}}),Hl=yn(Qa),yc=Me({},Qa,{dataTransfer:0}),bc=yn(yc),vc=Me({},sa,{relatedTarget:0}),ls=yn(vc),wc=Me({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),xc=yn(wc),Ec=Me({},Ai,{clipboardData:function(j){return"clipboardData"in j?j.clipboardData:window.clipboardData}}),kc=yn(Ec),Sc=Me({},Ai,{data:0}),Wl=yn(Sc),Tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ac(j){var et=this.nativeEvent;return et.getModifierState?et.getModifierState(j):(j=Mc[j])?!!et[j]:!1}function us(){return Ac}var Pc=Me({},sa,{key:function(j){if(j.key){var et=Tc[j.key]||j.key;if(et!=="Unidentified")return et}return j.type==="keypress"?(j=Ha(j),j===13?"Enter":String.fromCharCode(j)):j.type==="keydown"||j.type==="keyup"?Ic[j.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(j){return j.type==="keypress"?Ha(j):0},keyCode:function(j){return j.type==="keydown"||j.type==="keyup"?j.keyCode:0},which:function(j){return j.type==="keypress"?Ha(j):j.type==="keydown"||j.type==="keyup"?j.keyCode:0}}),Cc=yn(Pc),Rc=Me({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ql=yn(Rc),Bc=Me({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),zc=yn(Bc),Nc=Me({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),$c=yn(Nc),Fc=Me({},Qa,{deltaX:function(j){return"deltaX"in j?j.deltaX:"wheelDeltaX"in j?-j.wheelDeltaX:0},deltaY:function(j){return"deltaY"in j?j.deltaY:"wheelDeltaY"in j?-j.wheelDeltaY:"wheelDelta"in j?-j.wheelDelta:0},deltaZ:0,deltaMode:0}),Oc=yn(Fc),Dc=[9,13,27,32],fs=it&&"CompositionEvent"in window,ua=null;it&&"documentMode"in document&&(ua=document.documentMode);var Lc=it&&"TextEvent"in window&&!ua,ql=it&&(!fs||ua&&8<ua&&11>=ua),Vl=" ",Yl=!1;function Kl(j,et){switch(j){case"keyup":return Dc.indexOf(et.keyCode)!==-1;case"keydown":return et.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xl(j){return j=j.detail,typeof j=="object"&&"data"in j?j.data:null}var Pi=!1;function Uc(j,et){switch(j){case"compositionend":return Xl(et);case"keypress":return et.which!==32?null:(Yl=!0,Vl);case"textInput":return j=et.data,j===Vl&&Yl?null:j;default:return null}}function jc(j,et){if(Pi)return j==="compositionend"||!fs&&Kl(j,et)?(j=Zl(),Ga=is=ei=null,Pi=!1,j):null;switch(j){case"paste":return null;case"keypress":if(!(et.ctrlKey||et.altKey||et.metaKey)||et.ctrlKey&&et.altKey){if(et.char&&1<et.char.length)return et.char;if(et.which)return String.fromCharCode(et.which)}return null;case"compositionend":return ql&&et.locale!=="ko"?null:et.data;default:return null}}var Zc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jl(j){var et=j&&j.nodeName&&j.nodeName.toLowerCase();return et==="input"?!!Zc[j.type]:et==="textarea"}function tu(j,et,kt,Bt){$e(Bt),et=Xa(et,"onChange"),0<et.length&&(kt=new as("onChange","change",null,kt,Bt),j.push({event:kt,listeners:et}))}var fa=null,ca=null;function Gc(j){yu(j,0)}function qa(j){var et=Ni(j);if(Te(et))return j}function Hc(j,et){if(j==="change")return et}var eu=!1;if(it){var cs;if(it){var ds="oninput"in document;if(!ds){var ru=document.createElement("div");ru.setAttribute("oninput","return;"),ds=typeof ru.oninput=="function"}cs=ds}else cs=!1;eu=cs&&(!document.documentMode||9<document.documentMode)}function nu(){fa&&(fa.detachEvent("onpropertychange",iu),ca=fa=null)}function iu(j){if(j.propertyName==="value"&&qa(ca)){var et=[];tu(et,ca,j,tr(j)),pr(Gc,et)}}function Wc(j,et,kt){j==="focusin"?(nu(),fa=et,ca=kt,fa.attachEvent("onpropertychange",iu)):j==="focusout"&&nu()}function Qc(j){if(j==="selectionchange"||j==="keyup"||j==="keydown")return qa(ca)}function qc(j,et){if(j==="click")return qa(et)}function Vc(j,et){if(j==="input"||j==="change")return qa(et)}function Yc(j,et){return j===et&&(j!==0||1/j===1/et)||j!==j&&et!==et}var Cn=typeof Object.is=="function"?Object.is:Yc;function da(j,et){if(Cn(j,et))return!0;if(typeof j!="object"||j===null||typeof et!="object"||et===null)return!1;var kt=Object.keys(j),Bt=Object.keys(et);if(kt.length!==Bt.length)return!1;for(Bt=0;Bt<kt.length;Bt++){var te=kt[Bt];if(!ot.call(et,te)||!Cn(j[te],et[te]))return!1}return!0}function au(j){for(;j&&j.firstChild;)j=j.firstChild;return j}function ou(j,et){var kt=au(j);j=0;for(var Bt;kt;){if(kt.nodeType===3){if(Bt=j+kt.textContent.length,j<=et&&Bt>=et)return{node:kt,offset:et-j};j=Bt}t:{for(;kt;){if(kt.nextSibling){kt=kt.nextSibling;break t}kt=kt.parentNode}kt=void 0}kt=au(kt)}}function su(j,et){return j&&et?j===et?!0:j&&j.nodeType===3?!1:et&&et.nodeType===3?su(j,et.parentNode):"contains"in j?j.contains(et):j.compareDocumentPosition?!!(j.compareDocumentPosition(et)&16):!1:!1}function lu(){for(var j=window,et=he();et instanceof j.HTMLIFrameElement;){try{var kt=typeof et.contentWindow.location.href=="string"}catch{kt=!1}if(kt)j=et.contentWindow;else break;et=he(j.document)}return et}function hs(j){var et=j&&j.nodeName&&j.nodeName.toLowerCase();return et&&(et==="input"&&(j.type==="text"||j.type==="search"||j.type==="tel"||j.type==="url"||j.type==="password")||et==="textarea"||j.contentEditable==="true")}function Kc(j){var et=lu(),kt=j.focusedElem,Bt=j.selectionRange;if(et!==kt&&kt&&kt.ownerDocument&&su(kt.ownerDocument.documentElement,kt)){if(Bt!==null&&hs(kt)){if(et=Bt.start,j=Bt.end,j===void 0&&(j=et),"selectionStart"in kt)kt.selectionStart=et,kt.selectionEnd=Math.min(j,kt.value.length);else if(j=(et=kt.ownerDocument||document)&&et.defaultView||window,j.getSelection){j=j.getSelection();var te=kt.textContent.length,fe=Math.min(Bt.start,te);Bt=Bt.end===void 0?fe:Math.min(Bt.end,te),!j.extend&&fe>Bt&&(te=Bt,Bt=fe,fe=te),te=ou(kt,fe);var Ie=ou(kt,Bt);te&&Ie&&(j.rangeCount!==1||j.anchorNode!==te.node||j.anchorOffset!==te.offset||j.focusNode!==Ie.node||j.focusOffset!==Ie.offset)&&(et=et.createRange(),et.setStart(te.node,te.offset),j.removeAllRanges(),fe>Bt?(j.addRange(et),j.extend(Ie.node,Ie.offset)):(et.setEnd(Ie.node,Ie.offset),j.addRange(et)))}}for(et=[],j=kt;j=j.parentNode;)j.nodeType===1&&et.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof kt.focus=="function"&&kt.focus(),kt=0;kt<et.length;kt++)j=et[kt],j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}var Xc=it&&"documentMode"in document&&11>=document.documentMode,Ci=null,ps=null,ha=null,ms=!1;function uu(j,et,kt){var Bt=kt.window===kt?kt.document:kt.nodeType===9?kt:kt.ownerDocument;ms||Ci==null||Ci!==he(Bt)||(Bt=Ci,"selectionStart"in Bt&&hs(Bt)?Bt={start:Bt.selectionStart,end:Bt.selectionEnd}:(Bt=(Bt.ownerDocument&&Bt.ownerDocument.defaultView||window).getSelection(),Bt={anchorNode:Bt.anchorNode,anchorOffset:Bt.anchorOffset,focusNode:Bt.focusNode,focusOffset:Bt.focusOffset}),ha&&da(ha,Bt)||(ha=Bt,Bt=Xa(ps,"onSelect"),0<Bt.length&&(et=new as("onSelect","select",null,et,kt),j.push({event:et,listeners:Bt}),et.target=Ci)))}function Va(j,et){var kt={};return kt[j.toLowerCase()]=et.toLowerCase(),kt["Webkit"+j]="webkit"+et,kt["Moz"+j]="moz"+et,kt}var Ri={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionend:Va("Transition","TransitionEnd")},gs={},fu={};it&&(fu=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function Ya(j){if(gs[j])return gs[j];if(!Ri[j])return j;var et=Ri[j],kt;for(kt in et)if(et.hasOwnProperty(kt)&&kt in fu)return gs[j]=et[kt];return j}var cu=Ya("animationend"),du=Ya("animationiteration"),hu=Ya("animationstart"),pu=Ya("transitionend"),mu=new Map,gu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(j,et){mu.set(j,et),H(et,[j])}for(var _s=0;_s<gu.length;_s++){var ys=gu[_s],Jc=ys.toLowerCase(),td=ys[0].toUpperCase()+ys.slice(1);ri(Jc,"on"+td)}ri(cu,"onAnimationEnd"),ri(du,"onAnimationIteration"),ri(hu,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(pu,"onTransitionEnd"),q("onMouseEnter",["mouseout","mouseover"]),q("onMouseLeave",["mouseout","mouseover"]),q("onPointerEnter",["pointerout","pointerover"]),q("onPointerLeave",["pointerout","pointerover"]),H("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),H("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),H("onBeforeInput",["compositionend","keypress","textInput","paste"]),H("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),H("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),H("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ed=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function _u(j,et,kt){var Bt=j.type||"unknown-event";j.currentTarget=kt,_n(Bt,et,void 0,j),j.currentTarget=null}function yu(j,et){et=(et&4)!==0;for(var kt=0;kt<j.length;kt++){var Bt=j[kt],te=Bt.event;Bt=Bt.listeners;t:{var fe=void 0;if(et)for(var Ie=Bt.length-1;0<=Ie;Ie--){var Ue=Bt[Ie],Ge=Ue.instance,Je=Ue.currentTarget;if(Ue=Ue.listener,Ge!==fe&&te.isPropagationStopped())break t;_u(te,Ue,Je),fe=Ge}else for(Ie=0;Ie<Bt.length;Ie++){if(Ue=Bt[Ie],Ge=Ue.instance,Je=Ue.currentTarget,Ue=Ue.listener,Ge!==fe&&te.isPropagationStopped())break t;_u(te,Ue,Je),fe=Ge}}}if(xn)throw j=An,xn=!1,An=null,j}function Or(j,et){var kt=et[Ts];kt===void 0&&(kt=et[Ts]=new Set);var Bt=j+"__bubble";kt.has(Bt)||(bu(et,j,2,!1),kt.add(Bt))}function bs(j,et,kt){var Bt=0;et&&(Bt|=4),bu(kt,j,Bt,et)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function ma(j){if(!j[Ka]){j[Ka]=!0,w.forEach(function(kt){kt!=="selectionchange"&&(ed.has(kt)||bs(kt,!1,j),bs(kt,!0,j))});var et=j.nodeType===9?j:j.ownerDocument;et===null||et[Ka]||(et[Ka]=!0,bs("selectionchange",!1,et))}}function bu(j,et,kt,Bt){switch(jl(et)){case 1:var te=mc;break;case 4:te=gc;break;default:te=rs}kt=te.bind(null,et,kt,j),te=void 0,!Xr||et!=="touchstart"&&et!=="touchmove"&&et!=="wheel"||(te=!0),Bt?te!==void 0?j.addEventListener(et,kt,{capture:!0,passive:te}):j.addEventListener(et,kt,!0):te!==void 0?j.addEventListener(et,kt,{passive:te}):j.addEventListener(et,kt,!1)}function vs(j,et,kt,Bt,te){var fe=Bt;if(!(et&1)&&!(et&2)&&Bt!==null)t:for(;;){if(Bt===null)return;var Ie=Bt.tag;if(Ie===3||Ie===4){var Ue=Bt.stateNode.containerInfo;if(Ue===te||Ue.nodeType===8&&Ue.parentNode===te)break;if(Ie===4)for(Ie=Bt.return;Ie!==null;){var Ge=Ie.tag;if((Ge===3||Ge===4)&&(Ge=Ie.stateNode.containerInfo,Ge===te||Ge.nodeType===8&&Ge.parentNode===te))return;Ie=Ie.return}for(;Ue!==null;){if(Ie=gi(Ue),Ie===null)return;if(Ge=Ie.tag,Ge===5||Ge===6){Bt=fe=Ie;continue t}Ue=Ue.parentNode}}Bt=Bt.return}pr(function(){var Je=fe,sr=tr(kt),lr=[];t:{var or=mu.get(j);if(or!==void 0){var mr=as,vr=j;switch(j){case"keypress":if(Ha(kt)===0)break t;case"keydown":case"keyup":mr=Cc;break;case"focusin":vr="focus",mr=ls;break;case"focusout":vr="blur",mr=ls;break;case"beforeblur":case"afterblur":mr=ls;break;case"click":if(kt.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mr=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mr=bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mr=zc;break;case cu:case du:case hu:mr=xc;break;case pu:mr=$c;break;case"scroll":mr=_c;break;case"wheel":mr=Oc;break;case"copy":case"cut":case"paste":mr=kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mr=Ql}var wr=(et&4)!==0,qr=!wr&&j==="scroll",Ye=wr?or!==null?or+"Capture":null:or;wr=[];for(var He=Je,Ke;He!==null;){Ke=He;var ur=Ke.stateNode;if(Ke.tag===5&&ur!==null&&(Ke=ur,Ye!==null&&(ur=Ir(He,Ye),ur!=null&&wr.push(ga(He,ur,Ke)))),qr)break;He=He.return}0<wr.length&&(or=new mr(or,vr,null,kt,sr),lr.push({event:or,listeners:wr}))}}if(!(et&7)){t:{if(or=j==="mouseover"||j==="pointerover",mr=j==="mouseout"||j==="pointerout",or&&kt!==ke&&(vr=kt.relatedTarget||kt.fromElement)&&(gi(vr)||vr[jn]))break t;if((mr||or)&&(or=sr.window===sr?sr:(or=sr.ownerDocument)?or.defaultView||or.parentWindow:window,mr?(vr=kt.relatedTarget||kt.toElement,mr=Je,vr=vr?gi(vr):null,vr!==null&&(qr=Zr(vr),vr!==qr||vr.tag!==5&&vr.tag!==6)&&(vr=null)):(mr=null,vr=Je),mr!==vr)){if(wr=Hl,ur="onMouseLeave",Ye="onMouseEnter",He="mouse",(j==="pointerout"||j==="pointerover")&&(wr=Ql,ur="onPointerLeave",Ye="onPointerEnter",He="pointer"),qr=mr==null?or:Ni(mr),Ke=vr==null?or:Ni(vr),or=new wr(ur,He+"leave",mr,kt,sr),or.target=qr,or.relatedTarget=Ke,ur=null,gi(sr)===Je&&(wr=new wr(Ye,He+"enter",vr,kt,sr),wr.target=Ke,wr.relatedTarget=qr,ur=wr),qr=ur,mr&&vr)e:{for(wr=mr,Ye=vr,He=0,Ke=wr;Ke;Ke=Bi(Ke))He++;for(Ke=0,ur=Ye;ur;ur=Bi(ur))Ke++;for(;0<He-Ke;)wr=Bi(wr),He--;for(;0<Ke-He;)Ye=Bi(Ye),Ke--;for(;He--;){if(wr===Ye||Ye!==null&&wr===Ye.alternate)break e;wr=Bi(wr),Ye=Bi(Ye)}wr=null}else wr=null;mr!==null&&vu(lr,or,mr,wr,!1),vr!==null&&qr!==null&&vu(lr,qr,vr,wr,!0)}}t:{if(or=Je?Ni(Je):window,mr=or.nodeName&&or.nodeName.toLowerCase(),mr==="select"||mr==="input"&&or.type==="file")var xr=Hc;else if(Jl(or))if(eu)xr=Vc;else{xr=Qc;var Sr=Wc}else(mr=or.nodeName)&&mr.toLowerCase()==="input"&&(or.type==="checkbox"||or.type==="radio")&&(xr=qc);if(xr&&(xr=xr(j,Je))){tu(lr,xr,kt,sr);break t}Sr&&Sr(j,or,Je),j==="focusout"&&(Sr=or._wrapperState)&&Sr.controlled&&or.type==="number"&&oe(or,"number",or.value)}switch(Sr=Je?Ni(Je):window,j){case"focusin":(Jl(Sr)||Sr.contentEditable==="true")&&(Ci=Sr,ps=Je,ha=null);break;case"focusout":ha=ps=Ci=null;break;case"mousedown":ms=!0;break;case"contextmenu":case"mouseup":case"dragend":ms=!1,uu(lr,kt,sr);break;case"selectionchange":if(Xc)break;case"keydown":case"keyup":uu(lr,kt,sr)}var Tr;if(fs)t:{switch(j){case"compositionstart":var Mr="onCompositionStart";break t;case"compositionend":Mr="onCompositionEnd";break t;case"compositionupdate":Mr="onCompositionUpdate";break t}Mr=void 0}else Pi?Kl(j,kt)&&(Mr="onCompositionEnd"):j==="keydown"&&kt.keyCode===229&&(Mr="onCompositionStart");Mr&&(ql&&kt.locale!=="ko"&&(Pi||Mr!=="onCompositionStart"?Mr==="onCompositionEnd"&&Pi&&(Tr=Zl()):(ei=sr,is="value"in ei?ei.value:ei.textContent,Pi=!0)),Sr=Xa(Je,Mr),0<Sr.length&&(Mr=new Wl(Mr,j,null,kt,sr),lr.push({event:Mr,listeners:Sr}),Tr?Mr.data=Tr:(Tr=Xl(kt),Tr!==null&&(Mr.data=Tr)))),(Tr=Lc?Uc(j,kt):jc(j,kt))&&(Je=Xa(Je,"onBeforeInput"),0<Je.length&&(sr=new Wl("onBeforeInput","beforeinput",null,kt,sr),lr.push({event:sr,listeners:Je}),sr.data=Tr))}yu(lr,et)})}function ga(j,et,kt){return{instance:j,listener:et,currentTarget:kt}}function Xa(j,et){for(var kt=et+"Capture",Bt=[];j!==null;){var te=j,fe=te.stateNode;te.tag===5&&fe!==null&&(te=fe,fe=Ir(j,kt),fe!=null&&Bt.unshift(ga(j,fe,te)),fe=Ir(j,et),fe!=null&&Bt.push(ga(j,fe,te))),j=j.return}return Bt}function Bi(j){if(j===null)return null;do j=j.return;while(j&&j.tag!==5);return j||null}function vu(j,et,kt,Bt,te){for(var fe=et._reactName,Ie=[];kt!==null&&kt!==Bt;){var Ue=kt,Ge=Ue.alternate,Je=Ue.stateNode;if(Ge!==null&&Ge===Bt)break;Ue.tag===5&&Je!==null&&(Ue=Je,te?(Ge=Ir(kt,fe),Ge!=null&&Ie.unshift(ga(kt,Ge,Ue))):te||(Ge=Ir(kt,fe),Ge!=null&&Ie.push(ga(kt,Ge,Ue)))),kt=kt.return}Ie.length!==0&&j.push({event:et,listeners:Ie})}var rd=/\r\n?/g,nd=/\u0000|\uFFFD/g;function wu(j){return(typeof j=="string"?j:""+j).replace(rd,`
`).replace(nd,"")}function Ja(j,et,kt){if(et=wu(et),wu(j)!==et&&kt)throw Error(g(425))}function eo(){}var ws=null,xs=null;function Es(j,et){return j==="textarea"||j==="noscript"||typeof et.children=="string"||typeof et.children=="number"||typeof et.dangerouslySetInnerHTML=="object"&&et.dangerouslySetInnerHTML!==null&&et.dangerouslySetInnerHTML.__html!=null}var ks=typeof setTimeout=="function"?setTimeout:void 0,id=typeof clearTimeout=="function"?clearTimeout:void 0,xu=typeof Promise=="function"?Promise:void 0,ad=typeof queueMicrotask=="function"?queueMicrotask:typeof xu<"u"?function(j){return xu.resolve(null).then(j).catch(od)}:ks;function od(j){setTimeout(function(){throw j})}function Ss(j,et){var kt=et,Bt=0;do{var te=kt.nextSibling;if(j.removeChild(kt),te&&te.nodeType===8)if(kt=te.data,kt==="/$"){if(Bt===0){j.removeChild(te),oa(et);return}Bt--}else kt!=="$"&&kt!=="$?"&&kt!=="$!"||Bt++;kt=te}while(kt);oa(et)}function ni(j){for(;j!=null;j=j.nextSibling){var et=j.nodeType;if(et===1||et===3)break;if(et===8){if(et=j.data,et==="$"||et==="$!"||et==="$?")break;if(et==="/$")return null}}return j}function Eu(j){j=j.previousSibling;for(var et=0;j;){if(j.nodeType===8){var kt=j.data;if(kt==="$"||kt==="$!"||kt==="$?"){if(et===0)return j;et--}else kt==="/$"&&et++}j=j.previousSibling}return null}var zi=Math.random().toString(36).slice(2),On="__reactFiber$"+zi,_a="__reactProps$"+zi,jn="__reactContainer$"+zi,Ts="__reactEvents$"+zi,sd="__reactListeners$"+zi,ld="__reactHandles$"+zi;function gi(j){var et=j[On];if(et)return et;for(var kt=j.parentNode;kt;){if(et=kt[jn]||kt[On]){if(kt=et.alternate,et.child!==null||kt!==null&&kt.child!==null)for(j=Eu(j);j!==null;){if(kt=j[On])return kt;j=Eu(j)}return et}j=kt,kt=j.parentNode}return null}function ya(j){return j=j[On]||j[jn],!j||j.tag!==5&&j.tag!==6&&j.tag!==13&&j.tag!==3?null:j}function Ni(j){if(j.tag===5||j.tag===6)return j.stateNode;throw Error(g(33))}function oo(j){return j[_a]||null}var Is=[],$i=-1;function ii(j){return{current:j}}function Dr(j){0>$i||(j.current=Is[$i],Is[$i]=null,$i--)}function zr(j,et){$i++,Is[$i]=j.current,j.current=et}var ai={},on=ii(ai),dn=ii(!1),_i=ai;function Fi(j,et){var kt=j.type.contextTypes;if(!kt)return ai;var Bt=j.stateNode;if(Bt&&Bt.__reactInternalMemoizedUnmaskedChildContext===et)return Bt.__reactInternalMemoizedMaskedChildContext;var te={},fe;for(fe in kt)te[fe]=et[fe];return Bt&&(j=j.stateNode,j.__reactInternalMemoizedUnmaskedChildContext=et,j.__reactInternalMemoizedMaskedChildContext=te),te}function hn(j){return j=j.childContextTypes,j!=null}function uo(){Dr(dn),Dr(on)}function ku(j,et,kt){if(on.current!==ai)throw Error(g(168));zr(on,et),zr(dn,kt)}function Su(j,et,kt){var Bt=j.stateNode;if(et=et.childContextTypes,typeof Bt.getChildContext!="function")return kt;Bt=Bt.getChildContext();for(var te in Bt)if(!(te in et))throw Error(g(108,Ne(j)||"Unknown",te));return Me({},kt,Bt)}function fo(j){return j=(j=j.stateNode)&&j.__reactInternalMemoizedMergedChildContext||ai,_i=on.current,zr(on,j),zr(dn,dn.current),!0}function Tu(j,et,kt){var Bt=j.stateNode;if(!Bt)throw Error(g(169));kt?(j=Su(j,et,_i),Bt.__reactInternalMemoizedMergedChildContext=j,Dr(dn),Dr(on),zr(on,j)):Dr(dn),zr(dn,kt)}var Zn=null,co=!1,Ms=!1;function Iu(j){Zn===null?Zn=[j]:Zn.push(j)}function ud(j){co=!0,Iu(j)}function oi(){if(!Ms&&Zn!==null){Ms=!0;var j=0,et=Rr;try{var kt=Zn;for(Rr=1;j<kt.length;j++){var Bt=kt[j];do Bt=Bt(!0);while(Bt!==null)}Zn=null,co=!1}catch(te){throw Zn!==null&&(Zn=Zn.slice(j+1)),Xi(Yo,oi),te}finally{Rr=et,Ms=!1}}return null}var Oi=[],Di=0,ho=null,po=0,En=[],kn=0,yi=null,Gn=1,Hn="";function bi(j,et){Oi[Di++]=po,Oi[Di++]=ho,ho=j,po=et}function Mu(j,et,kt){En[kn++]=Gn,En[kn++]=Hn,En[kn++]=yi,yi=j;var Bt=Gn;j=Hn;var te=32-Pn(Bt)-1;Bt&=~(1<<te),kt+=1;var fe=32-Pn(et)+te;if(30<fe){var Ie=te-te%5;fe=(Bt&(1<<Ie)-1).toString(32),Bt>>=Ie,te-=Ie,Gn=1<<32-Pn(et)+te|kt<<te|Bt,Hn=fe+j}else Gn=1<<fe|kt<<te|Bt,Hn=j}function As(j){j.return!==null&&(bi(j,1),Mu(j,1,0))}function Ps(j){for(;j===ho;)ho=Oi[--Di],Oi[Di]=null,po=Oi[--Di],Oi[Di]=null;for(;j===yi;)yi=En[--kn],En[kn]=null,Hn=En[--kn],En[kn]=null,Gn=En[--kn],En[kn]=null}var bn=null,vn=null,jr=!1,Rn=null;function Au(j,et){var kt=Mn(5,null,null,0);kt.elementType="DELETED",kt.stateNode=et,kt.return=j,et=j.deletions,et===null?(j.deletions=[kt],j.flags|=16):et.push(kt)}function Pu(j,et){switch(j.tag){case 5:var kt=j.type;return et=et.nodeType!==1||kt.toLowerCase()!==et.nodeName.toLowerCase()?null:et,et!==null?(j.stateNode=et,bn=j,vn=ni(et.firstChild),!0):!1;case 6:return et=j.pendingProps===""||et.nodeType!==3?null:et,et!==null?(j.stateNode=et,bn=j,vn=null,!0):!1;case 13:return et=et.nodeType!==8?null:et,et!==null?(kt=yi!==null?{id:Gn,overflow:Hn}:null,j.memoizedState={dehydrated:et,treeContext:kt,retryLane:1073741824},kt=Mn(18,null,null,0),kt.stateNode=et,kt.return=j,j.child=kt,bn=j,vn=null,!0):!1;default:return!1}}function Cs(j){return(j.mode&1)!==0&&(j.flags&128)===0}function Rs(j){if(jr){var et=vn;if(et){var kt=et;if(!Pu(j,et)){if(Cs(j))throw Error(g(418));et=ni(kt.nextSibling);var Bt=bn;et&&Pu(j,et)?Au(Bt,kt):(j.flags=j.flags&-4097|2,jr=!1,bn=j)}}else{if(Cs(j))throw Error(g(418));j.flags=j.flags&-4097|2,jr=!1,bn=j}}}function Cu(j){for(j=j.return;j!==null&&j.tag!==5&&j.tag!==3&&j.tag!==13;)j=j.return;bn=j}function mo(j){if(j!==bn)return!1;if(!jr)return Cu(j),jr=!0,!1;var et;if((et=j.tag!==3)&&!(et=j.tag!==5)&&(et=j.type,et=et!=="head"&&et!=="body"&&!Es(j.type,j.memoizedProps)),et&&(et=vn)){if(Cs(j))throw Ru(),Error(g(418));for(;et;)Au(j,et),et=ni(et.nextSibling)}if(Cu(j),j.tag===13){if(j=j.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(g(317));t:{for(j=j.nextSibling,et=0;j;){if(j.nodeType===8){var kt=j.data;if(kt==="/$"){if(et===0){vn=ni(j.nextSibling);break t}et--}else kt!=="$"&&kt!=="$!"&&kt!=="$?"||et++}j=j.nextSibling}vn=null}}else vn=bn?ni(j.stateNode.nextSibling):null;return!0}function Ru(){for(var j=vn;j;)j=ni(j.nextSibling)}function Li(){vn=bn=null,jr=!1}function Bs(j){Rn===null?Rn=[j]:Rn.push(j)}var fd=Dt.ReactCurrentBatchConfig;function ba(j,et,kt){if(j=kt.ref,j!==null&&typeof j!="function"&&typeof j!="object"){if(kt._owner){if(kt=kt._owner,kt){if(kt.tag!==1)throw Error(g(309));var Bt=kt.stateNode}if(!Bt)throw Error(g(147,j));var te=Bt,fe=""+j;return et!==null&&et.ref!==null&&typeof et.ref=="function"&&et.ref._stringRef===fe?et.ref:(et=function(Ie){var Ue=te.refs;Ie===null?delete Ue[fe]:Ue[fe]=Ie},et._stringRef=fe,et)}if(typeof j!="string")throw Error(g(284));if(!kt._owner)throw Error(g(290,j))}return j}function go(j,et){throw j=Object.prototype.toString.call(et),Error(g(31,j==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":j))}function Bu(j){var et=j._init;return et(j._payload)}function zu(j){function et(Ye,He){if(j){var Ke=Ye.deletions;Ke===null?(Ye.deletions=[He],Ye.flags|=16):Ke.push(He)}}function kt(Ye,He){if(!j)return null;for(;He!==null;)et(Ye,He),He=He.sibling;return null}function Bt(Ye,He){for(Ye=new Map;He!==null;)He.key!==null?Ye.set(He.key,He):Ye.set(He.index,He),He=He.sibling;return Ye}function te(Ye,He){return Ye=pi(Ye,He),Ye.index=0,Ye.sibling=null,Ye}function fe(Ye,He,Ke){return Ye.index=Ke,j?(Ke=Ye.alternate,Ke!==null?(Ke=Ke.index,Ke<He?(Ye.flags|=2,He):Ke):(Ye.flags|=2,He)):(Ye.flags|=1048576,He)}function Ie(Ye){return j&&Ye.alternate===null&&(Ye.flags|=2),Ye}function Ue(Ye,He,Ke,ur){return He===null||He.tag!==6?(He=kl(Ke,Ye.mode,ur),He.return=Ye,He):(He=te(He,Ke),He.return=Ye,He)}function Ge(Ye,He,Ke,ur){var xr=Ke.type;return xr===Yt?sr(Ye,He,Ke.props.children,ur,Ke.key):He!==null&&(He.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===de&&Bu(xr)===He.type)?(ur=te(He,Ke.props),ur.ref=ba(Ye,He,Ke),ur.return=Ye,ur):(ur=Uo(Ke.type,Ke.key,Ke.props,null,Ye.mode,ur),ur.ref=ba(Ye,He,Ke),ur.return=Ye,ur)}function Je(Ye,He,Ke,ur){return He===null||He.tag!==4||He.stateNode.containerInfo!==Ke.containerInfo||He.stateNode.implementation!==Ke.implementation?(He=Sl(Ke,Ye.mode,ur),He.return=Ye,He):(He=te(He,Ke.children||[]),He.return=Ye,He)}function sr(Ye,He,Ke,ur,xr){return He===null||He.tag!==7?(He=Ii(Ke,Ye.mode,ur,xr),He.return=Ye,He):(He=te(He,Ke),He.return=Ye,He)}function lr(Ye,He,Ke){if(typeof He=="string"&&He!==""||typeof He=="number")return He=kl(""+He,Ye.mode,Ke),He.return=Ye,He;if(typeof He=="object"&&He!==null){switch(He.$$typeof){case Kt:return Ke=Uo(He.type,He.key,He.props,null,Ye.mode,Ke),Ke.ref=ba(Ye,null,He),Ke.return=Ye,Ke;case re:return He=Sl(He,Ye.mode,Ke),He.return=Ye,He;case de:var ur=He._init;return lr(Ye,ur(He._payload),Ke)}if(ge(He)||ye(He))return He=Ii(He,Ye.mode,Ke,null),He.return=Ye,He;go(Ye,He)}return null}function or(Ye,He,Ke,ur){var xr=He!==null?He.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return xr!==null?null:Ue(Ye,He,""+Ke,ur);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case Kt:return Ke.key===xr?Ge(Ye,He,Ke,ur):null;case re:return Ke.key===xr?Je(Ye,He,Ke,ur):null;case de:return xr=Ke._init,or(Ye,He,xr(Ke._payload),ur)}if(ge(Ke)||ye(Ke))return xr!==null?null:sr(Ye,He,Ke,ur,null);go(Ye,Ke)}return null}function mr(Ye,He,Ke,ur,xr){if(typeof ur=="string"&&ur!==""||typeof ur=="number")return Ye=Ye.get(Ke)||null,Ue(He,Ye,""+ur,xr);if(typeof ur=="object"&&ur!==null){switch(ur.$$typeof){case Kt:return Ye=Ye.get(ur.key===null?Ke:ur.key)||null,Ge(He,Ye,ur,xr);case re:return Ye=Ye.get(ur.key===null?Ke:ur.key)||null,Je(He,Ye,ur,xr);case de:var Sr=ur._init;return mr(Ye,He,Ke,Sr(ur._payload),xr)}if(ge(ur)||ye(ur))return Ye=Ye.get(Ke)||null,sr(He,Ye,ur,xr,null);go(He,ur)}return null}function vr(Ye,He,Ke,ur){for(var xr=null,Sr=null,Tr=He,Mr=He=0,en=null;Tr!==null&&Mr<Ke.length;Mr++){Tr.index>Mr?(en=Tr,Tr=null):en=Tr.sibling;var Cr=or(Ye,Tr,Ke[Mr],ur);if(Cr===null){Tr===null&&(Tr=en);break}j&&Tr&&Cr.alternate===null&&et(Ye,Tr),He=fe(Cr,He,Mr),Sr===null?xr=Cr:Sr.sibling=Cr,Sr=Cr,Tr=en}if(Mr===Ke.length)return kt(Ye,Tr),jr&&bi(Ye,Mr),xr;if(Tr===null){for(;Mr<Ke.length;Mr++)Tr=lr(Ye,Ke[Mr],ur),Tr!==null&&(He=fe(Tr,He,Mr),Sr===null?xr=Tr:Sr.sibling=Tr,Sr=Tr);return jr&&bi(Ye,Mr),xr}for(Tr=Bt(Ye,Tr);Mr<Ke.length;Mr++)en=mr(Tr,Ye,Mr,Ke[Mr],ur),en!==null&&(j&&en.alternate!==null&&Tr.delete(en.key===null?Mr:en.key),He=fe(en,He,Mr),Sr===null?xr=en:Sr.sibling=en,Sr=en);return j&&Tr.forEach(function(mi){return et(Ye,mi)}),jr&&bi(Ye,Mr),xr}function wr(Ye,He,Ke,ur){var xr=ye(Ke);if(typeof xr!="function")throw Error(g(150));if(Ke=xr.call(Ke),Ke==null)throw Error(g(151));for(var Sr=xr=null,Tr=He,Mr=He=0,en=null,Cr=Ke.next();Tr!==null&&!Cr.done;Mr++,Cr=Ke.next()){Tr.index>Mr?(en=Tr,Tr=null):en=Tr.sibling;var mi=or(Ye,Tr,Cr.value,ur);if(mi===null){Tr===null&&(Tr=en);break}j&&Tr&&mi.alternate===null&&et(Ye,Tr),He=fe(mi,He,Mr),Sr===null?xr=mi:Sr.sibling=mi,Sr=mi,Tr=en}if(Cr.done)return kt(Ye,Tr),jr&&bi(Ye,Mr),xr;if(Tr===null){for(;!Cr.done;Mr++,Cr=Ke.next())Cr=lr(Ye,Cr.value,ur),Cr!==null&&(He=fe(Cr,He,Mr),Sr===null?xr=Cr:Sr.sibling=Cr,Sr=Cr);return jr&&bi(Ye,Mr),xr}for(Tr=Bt(Ye,Tr);!Cr.done;Mr++,Cr=Ke.next())Cr=mr(Tr,Ye,Mr,Cr.value,ur),Cr!==null&&(j&&Cr.alternate!==null&&Tr.delete(Cr.key===null?Mr:Cr.key),He=fe(Cr,He,Mr),Sr===null?xr=Cr:Sr.sibling=Cr,Sr=Cr);return j&&Tr.forEach(function(jd){return et(Ye,jd)}),jr&&bi(Ye,Mr),xr}function qr(Ye,He,Ke,ur){if(typeof Ke=="object"&&Ke!==null&&Ke.type===Yt&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case Kt:t:{for(var xr=Ke.key,Sr=He;Sr!==null;){if(Sr.key===xr){if(xr=Ke.type,xr===Yt){if(Sr.tag===7){kt(Ye,Sr.sibling),He=te(Sr,Ke.props.children),He.return=Ye,Ye=He;break t}}else if(Sr.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===de&&Bu(xr)===Sr.type){kt(Ye,Sr.sibling),He=te(Sr,Ke.props),He.ref=ba(Ye,Sr,Ke),He.return=Ye,Ye=He;break t}kt(Ye,Sr);break}else et(Ye,Sr);Sr=Sr.sibling}Ke.type===Yt?(He=Ii(Ke.props.children,Ye.mode,ur,Ke.key),He.return=Ye,Ye=He):(ur=Uo(Ke.type,Ke.key,Ke.props,null,Ye.mode,ur),ur.ref=ba(Ye,He,Ke),ur.return=Ye,Ye=ur)}return Ie(Ye);case re:t:{for(Sr=Ke.key;He!==null;){if(He.key===Sr)if(He.tag===4&&He.stateNode.containerInfo===Ke.containerInfo&&He.stateNode.implementation===Ke.implementation){kt(Ye,He.sibling),He=te(He,Ke.children||[]),He.return=Ye,Ye=He;break t}else{kt(Ye,He);break}else et(Ye,He);He=He.sibling}He=Sl(Ke,Ye.mode,ur),He.return=Ye,Ye=He}return Ie(Ye);case de:return Sr=Ke._init,qr(Ye,He,Sr(Ke._payload),ur)}if(ge(Ke))return vr(Ye,He,Ke,ur);if(ye(Ke))return wr(Ye,He,Ke,ur);go(Ye,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"?(Ke=""+Ke,He!==null&&He.tag===6?(kt(Ye,He.sibling),He=te(He,Ke),He.return=Ye,Ye=He):(kt(Ye,He),He=kl(Ke,Ye.mode,ur),He.return=Ye,Ye=He),Ie(Ye)):kt(Ye,He)}return qr}var Ui=zu(!0),Nu=zu(!1),yo=ii(null),bo=null,ji=null,zs=null;function Ns(){zs=ji=bo=null}function $s(j){var et=yo.current;Dr(yo),j._currentValue=et}function Fs(j,et,kt){for(;j!==null;){var Bt=j.alternate;if((j.childLanes&et)!==et?(j.childLanes|=et,Bt!==null&&(Bt.childLanes|=et)):Bt!==null&&(Bt.childLanes&et)!==et&&(Bt.childLanes|=et),j===kt)break;j=j.return}}function Zi(j,et){bo=j,zs=ji=null,j=j.dependencies,j!==null&&j.firstContext!==null&&(j.lanes&et&&(pn=!0),j.firstContext=null)}function Sn(j){var et=j._currentValue;if(zs!==j)if(j={context:j,memoizedValue:et,next:null},ji===null){if(bo===null)throw Error(g(308));ji=j,bo.dependencies={lanes:0,firstContext:j}}else ji=ji.next=j;return et}var vi=null;function Os(j){vi===null?vi=[j]:vi.push(j)}function $u(j,et,kt,Bt){var te=et.interleaved;return te===null?(kt.next=kt,Os(et)):(kt.next=te.next,te.next=kt),et.interleaved=kt,Wn(j,Bt)}function Wn(j,et){j.lanes|=et;var kt=j.alternate;for(kt!==null&&(kt.lanes|=et),kt=j,j=j.return;j!==null;)j.childLanes|=et,kt=j.alternate,kt!==null&&(kt.childLanes|=et),kt=j,j=j.return;return kt.tag===3?kt.stateNode:null}var si=!1;function Ds(j){j.updateQueue={baseState:j.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fu(j,et){j=j.updateQueue,et.updateQueue===j&&(et.updateQueue={baseState:j.baseState,firstBaseUpdate:j.firstBaseUpdate,lastBaseUpdate:j.lastBaseUpdate,shared:j.shared,effects:j.effects})}function Qn(j,et){return{eventTime:j,lane:et,tag:0,payload:null,callback:null,next:null}}function li(j,et,kt){var Bt=j.updateQueue;if(Bt===null)return null;if(Bt=Bt.shared,Pr&2){var te=Bt.pending;return te===null?et.next=et:(et.next=te.next,te.next=et),Bt.pending=et,Wn(j,kt)}return te=Bt.interleaved,te===null?(et.next=et,Os(Bt)):(et.next=te.next,te.next=et),Bt.interleaved=et,Wn(j,kt)}function vo(j,et,kt){if(et=et.updateQueue,et!==null&&(et=et.shared,(kt&4194240)!==0)){var Bt=et.lanes;Bt&=j.pendingLanes,kt|=Bt,et.lanes=kt,Jo(j,kt)}}function Ou(j,et){var kt=j.updateQueue,Bt=j.alternate;if(Bt!==null&&(Bt=Bt.updateQueue,kt===Bt)){var te=null,fe=null;if(kt=kt.firstBaseUpdate,kt!==null){do{var Ie={eventTime:kt.eventTime,lane:kt.lane,tag:kt.tag,payload:kt.payload,callback:kt.callback,next:null};fe===null?te=fe=Ie:fe=fe.next=Ie,kt=kt.next}while(kt!==null);fe===null?te=fe=et:fe=fe.next=et}else te=fe=et;kt={baseState:Bt.baseState,firstBaseUpdate:te,lastBaseUpdate:fe,shared:Bt.shared,effects:Bt.effects},j.updateQueue=kt;return}j=kt.lastBaseUpdate,j===null?kt.firstBaseUpdate=et:j.next=et,kt.lastBaseUpdate=et}function wo(j,et,kt,Bt){var te=j.updateQueue;si=!1;var fe=te.firstBaseUpdate,Ie=te.lastBaseUpdate,Ue=te.shared.pending;if(Ue!==null){te.shared.pending=null;var Ge=Ue,Je=Ge.next;Ge.next=null,Ie===null?fe=Je:Ie.next=Je,Ie=Ge;var sr=j.alternate;sr!==null&&(sr=sr.updateQueue,Ue=sr.lastBaseUpdate,Ue!==Ie&&(Ue===null?sr.firstBaseUpdate=Je:Ue.next=Je,sr.lastBaseUpdate=Ge))}if(fe!==null){var lr=te.baseState;Ie=0,sr=Je=Ge=null,Ue=fe;do{var or=Ue.lane,mr=Ue.eventTime;if((Bt&or)===or){sr!==null&&(sr=sr.next={eventTime:mr,lane:0,tag:Ue.tag,payload:Ue.payload,callback:Ue.callback,next:null});t:{var vr=j,wr=Ue;switch(or=et,mr=kt,wr.tag){case 1:if(vr=wr.payload,typeof vr=="function"){lr=vr.call(mr,lr,or);break t}lr=vr;break t;case 3:vr.flags=vr.flags&-65537|128;case 0:if(vr=wr.payload,or=typeof vr=="function"?vr.call(mr,lr,or):vr,or==null)break t;lr=Me({},lr,or);break t;case 2:si=!0}}Ue.callback!==null&&Ue.lane!==0&&(j.flags|=64,or=te.effects,or===null?te.effects=[Ue]:or.push(Ue))}else mr={eventTime:mr,lane:or,tag:Ue.tag,payload:Ue.payload,callback:Ue.callback,next:null},sr===null?(Je=sr=mr,Ge=lr):sr=sr.next=mr,Ie|=or;if(Ue=Ue.next,Ue===null){if(Ue=te.shared.pending,Ue===null)break;or=Ue,Ue=or.next,or.next=null,te.lastBaseUpdate=or,te.shared.pending=null}}while(!0);if(sr===null&&(Ge=lr),te.baseState=Ge,te.firstBaseUpdate=Je,te.lastBaseUpdate=sr,et=te.shared.interleaved,et!==null){te=et;do Ie|=te.lane,te=te.next;while(te!==et)}else fe===null&&(te.shared.lanes=0);Ei|=Ie,j.lanes=Ie,j.memoizedState=lr}}function Du(j,et,kt){if(j=et.effects,et.effects=null,j!==null)for(et=0;et<j.length;et++){var Bt=j[et],te=Bt.callback;if(te!==null){if(Bt.callback=null,Bt=kt,typeof te!="function")throw Error(g(191,te));te.call(Bt)}}}var va={},Dn=ii(va),wa=ii(va),xa=ii(va);function wi(j){if(j===va)throw Error(g(174));return j}function Ls(j,et){switch(zr(xa,et),zr(wa,j),zr(Dn,va),j=et.nodeType,j){case 9:case 11:et=(et=et.documentElement)?et.namespaceURI:ar(null,"");break;default:j=j===8?et.parentNode:et,et=j.namespaceURI||null,j=j.tagName,et=ar(et,j)}Dr(Dn),zr(Dn,et)}function Gi(){Dr(Dn),Dr(wa),Dr(xa)}function Lu(j){wi(xa.current);var et=wi(Dn.current),kt=ar(et,j.type);et!==kt&&(zr(wa,j),zr(Dn,kt))}function Us(j){wa.current===j&&(Dr(Dn),Dr(wa))}var Gr=ii(0);function xo(j){for(var et=j;et!==null;){if(et.tag===13){var kt=et.memoizedState;if(kt!==null&&(kt=kt.dehydrated,kt===null||kt.data==="$?"||kt.data==="$!"))return et}else if(et.tag===19&&et.memoizedProps.revealOrder!==void 0){if(et.flags&128)return et}else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===j)break;for(;et.sibling===null;){if(et.return===null||et.return===j)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}return null}var js=[];function Zs(){for(var j=0;j<js.length;j++)js[j]._workInProgressVersionPrimary=null;js.length=0}var Eo=Dt.ReactCurrentDispatcher,Gs=Dt.ReactCurrentBatchConfig,xi=0,Hr=null,Yr=null,Jr=null,ko=!1,Ea=!1,ka=0,cd=0;function sn(){throw Error(g(321))}function Hs(j,et){if(et===null)return!1;for(var kt=0;kt<et.length&&kt<j.length;kt++)if(!Cn(j[kt],et[kt]))return!1;return!0}function Ws(j,et,kt,Bt,te,fe){if(xi=fe,Hr=et,et.memoizedState=null,et.updateQueue=null,et.lanes=0,Eo.current=j===null||j.memoizedState===null?md:gd,j=kt(Bt,te),Ea){fe=0;do{if(Ea=!1,ka=0,25<=fe)throw Error(g(301));fe+=1,Jr=Yr=null,et.updateQueue=null,Eo.current=_d,j=kt(Bt,te)}while(Ea)}if(Eo.current=Io,et=Yr!==null&&Yr.next!==null,xi=0,Jr=Yr=Hr=null,ko=!1,et)throw Error(g(300));return j}function Qs(){var j=ka!==0;return ka=0,j}function Ln(){var j={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?Hr.memoizedState=Jr=j:Jr=Jr.next=j,Jr}function Tn(){if(Yr===null){var j=Hr.alternate;j=j!==null?j.memoizedState:null}else j=Yr.next;var et=Jr===null?Hr.memoizedState:Jr.next;if(et!==null)Jr=et,Yr=j;else{if(j===null)throw Error(g(310));Yr=j,j={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},Jr===null?Hr.memoizedState=Jr=j:Jr=Jr.next=j}return Jr}function Sa(j,et){return typeof et=="function"?et(j):et}function qs(j){var et=Tn(),kt=et.queue;if(kt===null)throw Error(g(311));kt.lastRenderedReducer=j;var Bt=Yr,te=Bt.baseQueue,fe=kt.pending;if(fe!==null){if(te!==null){var Ie=te.next;te.next=fe.next,fe.next=Ie}Bt.baseQueue=te=fe,kt.pending=null}if(te!==null){fe=te.next,Bt=Bt.baseState;var Ue=Ie=null,Ge=null,Je=fe;do{var sr=Je.lane;if((xi&sr)===sr)Ge!==null&&(Ge=Ge.next={lane:0,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null}),Bt=Je.hasEagerState?Je.eagerState:j(Bt,Je.action);else{var lr={lane:sr,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null};Ge===null?(Ue=Ge=lr,Ie=Bt):Ge=Ge.next=lr,Hr.lanes|=sr,Ei|=sr}Je=Je.next}while(Je!==null&&Je!==fe);Ge===null?Ie=Bt:Ge.next=Ue,Cn(Bt,et.memoizedState)||(pn=!0),et.memoizedState=Bt,et.baseState=Ie,et.baseQueue=Ge,kt.lastRenderedState=Bt}if(j=kt.interleaved,j!==null){te=j;do fe=te.lane,Hr.lanes|=fe,Ei|=fe,te=te.next;while(te!==j)}else te===null&&(kt.lanes=0);return[et.memoizedState,kt.dispatch]}function Vs(j){var et=Tn(),kt=et.queue;if(kt===null)throw Error(g(311));kt.lastRenderedReducer=j;var Bt=kt.dispatch,te=kt.pending,fe=et.memoizedState;if(te!==null){kt.pending=null;var Ie=te=te.next;do fe=j(fe,Ie.action),Ie=Ie.next;while(Ie!==te);Cn(fe,et.memoizedState)||(pn=!0),et.memoizedState=fe,et.baseQueue===null&&(et.baseState=fe),kt.lastRenderedState=fe}return[fe,Bt]}function Uu(){}function ju(j,et){var kt=Hr,Bt=Tn(),te=et(),fe=!Cn(Bt.memoizedState,te);if(fe&&(Bt.memoizedState=te,pn=!0),Bt=Bt.queue,Ys(Hu.bind(null,kt,Bt,j),[j]),Bt.getSnapshot!==et||fe||Jr!==null&&Jr.memoizedState.tag&1){if(kt.flags|=2048,Ta(9,Gu.bind(null,kt,Bt,te,et),void 0,null),tn===null)throw Error(g(349));xi&30||Zu(kt,et,te)}return te}function Zu(j,et,kt){j.flags|=16384,j={getSnapshot:et,value:kt},et=Hr.updateQueue,et===null?(et={lastEffect:null,stores:null},Hr.updateQueue=et,et.stores=[j]):(kt=et.stores,kt===null?et.stores=[j]:kt.push(j))}function Gu(j,et,kt,Bt){et.value=kt,et.getSnapshot=Bt,Wu(et)&&Qu(j)}function Hu(j,et,kt){return kt(function(){Wu(et)&&Qu(j)})}function Wu(j){var et=j.getSnapshot;j=j.value;try{var kt=et();return!Cn(j,kt)}catch{return!0}}function Qu(j){var et=Wn(j,1);et!==null&&$n(et,j,1,-1)}function qu(j){var et=Ln();return typeof j=="function"&&(j=j()),et.memoizedState=et.baseState=j,j={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:j},et.queue=j,j=j.dispatch=pd.bind(null,Hr,j),[et.memoizedState,j]}function Ta(j,et,kt,Bt){return j={tag:j,create:et,destroy:kt,deps:Bt,next:null},et=Hr.updateQueue,et===null?(et={lastEffect:null,stores:null},Hr.updateQueue=et,et.lastEffect=j.next=j):(kt=et.lastEffect,kt===null?et.lastEffect=j.next=j:(Bt=kt.next,kt.next=j,j.next=Bt,et.lastEffect=j)),j}function Vu(){return Tn().memoizedState}function So(j,et,kt,Bt){var te=Ln();Hr.flags|=j,te.memoizedState=Ta(1|et,kt,void 0,Bt===void 0?null:Bt)}function To(j,et,kt,Bt){var te=Tn();Bt=Bt===void 0?null:Bt;var fe=void 0;if(Yr!==null){var Ie=Yr.memoizedState;if(fe=Ie.destroy,Bt!==null&&Hs(Bt,Ie.deps)){te.memoizedState=Ta(et,kt,fe,Bt);return}}Hr.flags|=j,te.memoizedState=Ta(1|et,kt,fe,Bt)}function Yu(j,et){return So(8390656,8,j,et)}function Ys(j,et){return To(2048,8,j,et)}function Ku(j,et){return To(4,2,j,et)}function Xu(j,et){return To(4,4,j,et)}function Ju(j,et){if(typeof et=="function")return j=j(),et(j),function(){et(null)};if(et!=null)return j=j(),et.current=j,function(){et.current=null}}function tf(j,et,kt){return kt=kt!=null?kt.concat([j]):null,To(4,4,Ju.bind(null,et,j),kt)}function Ks(){}function ef(j,et){var kt=Tn();et=et===void 0?null:et;var Bt=kt.memoizedState;return Bt!==null&&et!==null&&Hs(et,Bt[1])?Bt[0]:(kt.memoizedState=[j,et],j)}function rf(j,et){var kt=Tn();et=et===void 0?null:et;var Bt=kt.memoizedState;return Bt!==null&&et!==null&&Hs(et,Bt[1])?Bt[0]:(j=j(),kt.memoizedState=[j,et],j)}function nf(j,et,kt){return xi&21?(Cn(kt,et)||(kt=Bl(),Hr.lanes|=kt,Ei|=kt,j.baseState=!0),et):(j.baseState&&(j.baseState=!1,pn=!0),j.memoizedState=kt)}function dd(j,et){var kt=Rr;Rr=kt!==0&&4>kt?kt:4,j(!0);var Bt=Gs.transition;Gs.transition={};try{j(!1),et()}finally{Rr=kt,Gs.transition=Bt}}function af(){return Tn().memoizedState}function hd(j,et,kt){var Bt=di(j);if(kt={lane:Bt,action:kt,hasEagerState:!1,eagerState:null,next:null},of(j))sf(et,kt);else if(kt=$u(j,et,kt,Bt),kt!==null){var te=cn();$n(kt,j,Bt,te),lf(kt,et,Bt)}}function pd(j,et,kt){var Bt=di(j),te={lane:Bt,action:kt,hasEagerState:!1,eagerState:null,next:null};if(of(j))sf(et,te);else{var fe=j.alternate;if(j.lanes===0&&(fe===null||fe.lanes===0)&&(fe=et.lastRenderedReducer,fe!==null))try{var Ie=et.lastRenderedState,Ue=fe(Ie,kt);if(te.hasEagerState=!0,te.eagerState=Ue,Cn(Ue,Ie)){var Ge=et.interleaved;Ge===null?(te.next=te,Os(et)):(te.next=Ge.next,Ge.next=te),et.interleaved=te;return}}catch{}finally{}kt=$u(j,et,te,Bt),kt!==null&&(te=cn(),$n(kt,j,Bt,te),lf(kt,et,Bt))}}function of(j){var et=j.alternate;return j===Hr||et!==null&&et===Hr}function sf(j,et){Ea=ko=!0;var kt=j.pending;kt===null?et.next=et:(et.next=kt.next,kt.next=et),j.pending=et}function lf(j,et,kt){if(kt&4194240){var Bt=et.lanes;Bt&=j.pendingLanes,kt|=Bt,et.lanes=kt,Jo(j,kt)}}var Io={readContext:Sn,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},md={readContext:Sn,useCallback:function(j,et){return Ln().memoizedState=[j,et===void 0?null:et],j},useContext:Sn,useEffect:Yu,useImperativeHandle:function(j,et,kt){return kt=kt!=null?kt.concat([j]):null,So(4194308,4,Ju.bind(null,et,j),kt)},useLayoutEffect:function(j,et){return So(4194308,4,j,et)},useInsertionEffect:function(j,et){return So(4,2,j,et)},useMemo:function(j,et){var kt=Ln();return et=et===void 0?null:et,j=j(),kt.memoizedState=[j,et],j},useReducer:function(j,et,kt){var Bt=Ln();return et=kt!==void 0?kt(et):et,Bt.memoizedState=Bt.baseState=et,j={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:j,lastRenderedState:et},Bt.queue=j,j=j.dispatch=hd.bind(null,Hr,j),[Bt.memoizedState,j]},useRef:function(j){var et=Ln();return j={current:j},et.memoizedState=j},useState:qu,useDebugValue:Ks,useDeferredValue:function(j){return Ln().memoizedState=j},useTransition:function(){var j=qu(!1),et=j[0];return j=dd.bind(null,j[1]),Ln().memoizedState=j,[et,j]},useMutableSource:function(){},useSyncExternalStore:function(j,et,kt){var Bt=Hr,te=Ln();if(jr){if(kt===void 0)throw Error(g(407));kt=kt()}else{if(kt=et(),tn===null)throw Error(g(349));xi&30||Zu(Bt,et,kt)}te.memoizedState=kt;var fe={value:kt,getSnapshot:et};return te.queue=fe,Yu(Hu.bind(null,Bt,fe,j),[j]),Bt.flags|=2048,Ta(9,Gu.bind(null,Bt,fe,kt,et),void 0,null),kt},useId:function(){var j=Ln(),et=tn.identifierPrefix;if(jr){var kt=Hn,Bt=Gn;kt=(Bt&~(1<<32-Pn(Bt)-1)).toString(32)+kt,et=":"+et+"R"+kt,kt=ka++,0<kt&&(et+="H"+kt.toString(32)),et+=":"}else kt=cd++,et=":"+et+"r"+kt.toString(32)+":";return j.memoizedState=et},unstable_isNewReconciler:!1},gd={readContext:Sn,useCallback:ef,useContext:Sn,useEffect:Ys,useImperativeHandle:tf,useInsertionEffect:Ku,useLayoutEffect:Xu,useMemo:rf,useReducer:qs,useRef:Vu,useState:function(){return qs(Sa)},useDebugValue:Ks,useDeferredValue:function(j){var et=Tn();return nf(et,Yr.memoizedState,j)},useTransition:function(){var j=qs(Sa)[0],et=Tn().memoizedState;return[j,et]},useMutableSource:Uu,useSyncExternalStore:ju,useId:af,unstable_isNewReconciler:!1},_d={readContext:Sn,useCallback:ef,useContext:Sn,useEffect:Ys,useImperativeHandle:tf,useInsertionEffect:Ku,useLayoutEffect:Xu,useMemo:rf,useReducer:Vs,useRef:Vu,useState:function(){return Vs(Sa)},useDebugValue:Ks,useDeferredValue:function(j){var et=Tn();return Yr===null?et.memoizedState=j:nf(et,Yr.memoizedState,j)},useTransition:function(){var j=Vs(Sa)[0],et=Tn().memoizedState;return[j,et]},useMutableSource:Uu,useSyncExternalStore:ju,useId:af,unstable_isNewReconciler:!1};function Bn(j,et){if(j&&j.defaultProps){et=Me({},et),j=j.defaultProps;for(var kt in j)et[kt]===void 0&&(et[kt]=j[kt]);return et}return et}function Xs(j,et,kt,Bt){et=j.memoizedState,kt=kt(Bt,et),kt=kt==null?et:Me({},et,kt),j.memoizedState=kt,j.lanes===0&&(j.updateQueue.baseState=kt)}var Mo={isMounted:function(j){return(j=j._reactInternals)?Zr(j)===j:!1},enqueueSetState:function(j,et,kt){j=j._reactInternals;var Bt=cn(),te=di(j),fe=Qn(Bt,te);fe.payload=et,kt!=null&&(fe.callback=kt),et=li(j,fe,te),et!==null&&($n(et,j,te,Bt),vo(et,j,te))},enqueueReplaceState:function(j,et,kt){j=j._reactInternals;var Bt=cn(),te=di(j),fe=Qn(Bt,te);fe.tag=1,fe.payload=et,kt!=null&&(fe.callback=kt),et=li(j,fe,te),et!==null&&($n(et,j,te,Bt),vo(et,j,te))},enqueueForceUpdate:function(j,et){j=j._reactInternals;var kt=cn(),Bt=di(j),te=Qn(kt,Bt);te.tag=2,et!=null&&(te.callback=et),et=li(j,te,Bt),et!==null&&($n(et,j,Bt,kt),vo(et,j,Bt))}};function uf(j,et,kt,Bt,te,fe,Ie){return j=j.stateNode,typeof j.shouldComponentUpdate=="function"?j.shouldComponentUpdate(Bt,fe,Ie):et.prototype&&et.prototype.isPureReactComponent?!da(kt,Bt)||!da(te,fe):!0}function ff(j,et,kt){var Bt=!1,te=ai,fe=et.contextType;return typeof fe=="object"&&fe!==null?fe=Sn(fe):(te=hn(et)?_i:on.current,Bt=et.contextTypes,fe=(Bt=Bt!=null)?Fi(j,te):ai),et=new et(kt,fe),j.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,et.updater=Mo,j.stateNode=et,et._reactInternals=j,Bt&&(j=j.stateNode,j.__reactInternalMemoizedUnmaskedChildContext=te,j.__reactInternalMemoizedMaskedChildContext=fe),et}function cf(j,et,kt,Bt){j=et.state,typeof et.componentWillReceiveProps=="function"&&et.componentWillReceiveProps(kt,Bt),typeof et.UNSAFE_componentWillReceiveProps=="function"&&et.UNSAFE_componentWillReceiveProps(kt,Bt),et.state!==j&&Mo.enqueueReplaceState(et,et.state,null)}function Js(j,et,kt,Bt){var te=j.stateNode;te.props=kt,te.state=j.memoizedState,te.refs={},Ds(j);var fe=et.contextType;typeof fe=="object"&&fe!==null?te.context=Sn(fe):(fe=hn(et)?_i:on.current,te.context=Fi(j,fe)),te.state=j.memoizedState,fe=et.getDerivedStateFromProps,typeof fe=="function"&&(Xs(j,et,fe,kt),te.state=j.memoizedState),typeof et.getDerivedStateFromProps=="function"||typeof te.getSnapshotBeforeUpdate=="function"||typeof te.UNSAFE_componentWillMount!="function"&&typeof te.componentWillMount!="function"||(et=te.state,typeof te.componentWillMount=="function"&&te.componentWillMount(),typeof te.UNSAFE_componentWillMount=="function"&&te.UNSAFE_componentWillMount(),et!==te.state&&Mo.enqueueReplaceState(te,te.state,null),wo(j,kt,te,Bt),te.state=j.memoizedState),typeof te.componentDidMount=="function"&&(j.flags|=4194308)}function Hi(j,et){try{var kt="",Bt=et;do kt+=Ee(Bt),Bt=Bt.return;while(Bt);var te=kt}catch(fe){te=`
Error generating stack: `+fe.message+`
`+fe.stack}return{value:j,source:et,stack:te,digest:null}}function tl(j,et,kt){return{value:j,source:null,stack:kt??null,digest:et??null}}function el(j,et){try{console.error(et.value)}catch(kt){setTimeout(function(){throw kt})}}var yd=typeof WeakMap=="function"?WeakMap:Map;function df(j,et,kt){kt=Qn(-1,kt),kt.tag=3,kt.payload={element:null};var Bt=et.value;return kt.callback=function(){No||(No=!0,gl=Bt),el(j,et)},kt}function hf(j,et,kt){kt=Qn(-1,kt),kt.tag=3;var Bt=j.type.getDerivedStateFromError;if(typeof Bt=="function"){var te=et.value;kt.payload=function(){return Bt(te)},kt.callback=function(){el(j,et)}}var fe=j.stateNode;return fe!==null&&typeof fe.componentDidCatch=="function"&&(kt.callback=function(){el(j,et),typeof Bt!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var Ie=et.stack;this.componentDidCatch(et.value,{componentStack:Ie!==null?Ie:""})}),kt}function pf(j,et,kt){var Bt=j.pingCache;if(Bt===null){Bt=j.pingCache=new yd;var te=new Set;Bt.set(et,te)}else te=Bt.get(et),te===void 0&&(te=new Set,Bt.set(et,te));te.has(kt)||(te.add(kt),j=Rd.bind(null,j,et,kt),et.then(j,j))}function mf(j){do{var et;if((et=j.tag===13)&&(et=j.memoizedState,et=et!==null?et.dehydrated!==null:!0),et)return j;j=j.return}while(j!==null);return null}function gf(j,et,kt,Bt,te){return j.mode&1?(j.flags|=65536,j.lanes=te,j):(j===et?j.flags|=65536:(j.flags|=128,kt.flags|=131072,kt.flags&=-52805,kt.tag===1&&(kt.alternate===null?kt.tag=17:(et=Qn(-1,1),et.tag=2,li(kt,et,1))),kt.lanes|=1),j)}var bd=Dt.ReactCurrentOwner,pn=!1;function fn(j,et,kt,Bt){et.child=j===null?Nu(et,null,kt,Bt):Ui(et,j.child,kt,Bt)}function _f(j,et,kt,Bt,te){kt=kt.render;var fe=et.ref;return Zi(et,te),Bt=Ws(j,et,kt,Bt,fe,te),kt=Qs(),j!==null&&!pn?(et.updateQueue=j.updateQueue,et.flags&=-2053,j.lanes&=~te,qn(j,et,te)):(jr&&kt&&As(et),et.flags|=1,fn(j,et,Bt,te),et.child)}function yf(j,et,kt,Bt,te){if(j===null){var fe=kt.type;return typeof fe=="function"&&!El(fe)&&fe.defaultProps===void 0&&kt.compare===null&&kt.defaultProps===void 0?(et.tag=15,et.type=fe,bf(j,et,fe,Bt,te)):(j=Uo(kt.type,null,Bt,et,et.mode,te),j.ref=et.ref,j.return=et,et.child=j)}if(fe=j.child,!(j.lanes&te)){var Ie=fe.memoizedProps;if(kt=kt.compare,kt=kt!==null?kt:da,kt(Ie,Bt)&&j.ref===et.ref)return qn(j,et,te)}return et.flags|=1,j=pi(fe,Bt),j.ref=et.ref,j.return=et,et.child=j}function bf(j,et,kt,Bt,te){if(j!==null){var fe=j.memoizedProps;if(da(fe,Bt)&&j.ref===et.ref)if(pn=!1,et.pendingProps=Bt=fe,(j.lanes&te)!==0)j.flags&131072&&(pn=!0);else return et.lanes=j.lanes,qn(j,et,te)}return rl(j,et,kt,Bt,te)}function vf(j,et,kt){var Bt=et.pendingProps,te=Bt.children,fe=j!==null?j.memoizedState:null;if(Bt.mode==="hidden")if(!(et.mode&1))et.memoizedState={baseLanes:0,cachePool:null,transitions:null},zr(Qi,wn),wn|=kt;else{if(!(kt&1073741824))return j=fe!==null?fe.baseLanes|kt:kt,et.lanes=et.childLanes=1073741824,et.memoizedState={baseLanes:j,cachePool:null,transitions:null},et.updateQueue=null,zr(Qi,wn),wn|=j,null;et.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt=fe!==null?fe.baseLanes:kt,zr(Qi,wn),wn|=Bt}else fe!==null?(Bt=fe.baseLanes|kt,et.memoizedState=null):Bt=kt,zr(Qi,wn),wn|=Bt;return fn(j,et,te,kt),et.child}function wf(j,et){var kt=et.ref;(j===null&&kt!==null||j!==null&&j.ref!==kt)&&(et.flags|=512,et.flags|=2097152)}function rl(j,et,kt,Bt,te){var fe=hn(kt)?_i:on.current;return fe=Fi(et,fe),Zi(et,te),kt=Ws(j,et,kt,Bt,fe,te),Bt=Qs(),j!==null&&!pn?(et.updateQueue=j.updateQueue,et.flags&=-2053,j.lanes&=~te,qn(j,et,te)):(jr&&Bt&&As(et),et.flags|=1,fn(j,et,kt,te),et.child)}function xf(j,et,kt,Bt,te){if(hn(kt)){var fe=!0;fo(et)}else fe=!1;if(Zi(et,te),et.stateNode===null)Po(j,et),ff(et,kt,Bt),Js(et,kt,Bt,te),Bt=!0;else if(j===null){var Ie=et.stateNode,Ue=et.memoizedProps;Ie.props=Ue;var Ge=Ie.context,Je=kt.contextType;typeof Je=="object"&&Je!==null?Je=Sn(Je):(Je=hn(kt)?_i:on.current,Je=Fi(et,Je));var sr=kt.getDerivedStateFromProps,lr=typeof sr=="function"||typeof Ie.getSnapshotBeforeUpdate=="function";lr||typeof Ie.UNSAFE_componentWillReceiveProps!="function"&&typeof Ie.componentWillReceiveProps!="function"||(Ue!==Bt||Ge!==Je)&&cf(et,Ie,Bt,Je),si=!1;var or=et.memoizedState;Ie.state=or,wo(et,Bt,Ie,te),Ge=et.memoizedState,Ue!==Bt||or!==Ge||dn.current||si?(typeof sr=="function"&&(Xs(et,kt,sr,Bt),Ge=et.memoizedState),(Ue=si||uf(et,kt,Ue,Bt,or,Ge,Je))?(lr||typeof Ie.UNSAFE_componentWillMount!="function"&&typeof Ie.componentWillMount!="function"||(typeof Ie.componentWillMount=="function"&&Ie.componentWillMount(),typeof Ie.UNSAFE_componentWillMount=="function"&&Ie.UNSAFE_componentWillMount()),typeof Ie.componentDidMount=="function"&&(et.flags|=4194308)):(typeof Ie.componentDidMount=="function"&&(et.flags|=4194308),et.memoizedProps=Bt,et.memoizedState=Ge),Ie.props=Bt,Ie.state=Ge,Ie.context=Je,Bt=Ue):(typeof Ie.componentDidMount=="function"&&(et.flags|=4194308),Bt=!1)}else{Ie=et.stateNode,Fu(j,et),Ue=et.memoizedProps,Je=et.type===et.elementType?Ue:Bn(et.type,Ue),Ie.props=Je,lr=et.pendingProps,or=Ie.context,Ge=kt.contextType,typeof Ge=="object"&&Ge!==null?Ge=Sn(Ge):(Ge=hn(kt)?_i:on.current,Ge=Fi(et,Ge));var mr=kt.getDerivedStateFromProps;(sr=typeof mr=="function"||typeof Ie.getSnapshotBeforeUpdate=="function")||typeof Ie.UNSAFE_componentWillReceiveProps!="function"&&typeof Ie.componentWillReceiveProps!="function"||(Ue!==lr||or!==Ge)&&cf(et,Ie,Bt,Ge),si=!1,or=et.memoizedState,Ie.state=or,wo(et,Bt,Ie,te);var vr=et.memoizedState;Ue!==lr||or!==vr||dn.current||si?(typeof mr=="function"&&(Xs(et,kt,mr,Bt),vr=et.memoizedState),(Je=si||uf(et,kt,Je,Bt,or,vr,Ge)||!1)?(sr||typeof Ie.UNSAFE_componentWillUpdate!="function"&&typeof Ie.componentWillUpdate!="function"||(typeof Ie.componentWillUpdate=="function"&&Ie.componentWillUpdate(Bt,vr,Ge),typeof Ie.UNSAFE_componentWillUpdate=="function"&&Ie.UNSAFE_componentWillUpdate(Bt,vr,Ge)),typeof Ie.componentDidUpdate=="function"&&(et.flags|=4),typeof Ie.getSnapshotBeforeUpdate=="function"&&(et.flags|=1024)):(typeof Ie.componentDidUpdate!="function"||Ue===j.memoizedProps&&or===j.memoizedState||(et.flags|=4),typeof Ie.getSnapshotBeforeUpdate!="function"||Ue===j.memoizedProps&&or===j.memoizedState||(et.flags|=1024),et.memoizedProps=Bt,et.memoizedState=vr),Ie.props=Bt,Ie.state=vr,Ie.context=Ge,Bt=Je):(typeof Ie.componentDidUpdate!="function"||Ue===j.memoizedProps&&or===j.memoizedState||(et.flags|=4),typeof Ie.getSnapshotBeforeUpdate!="function"||Ue===j.memoizedProps&&or===j.memoizedState||(et.flags|=1024),Bt=!1)}return nl(j,et,kt,Bt,fe,te)}function nl(j,et,kt,Bt,te,fe){wf(j,et);var Ie=(et.flags&128)!==0;if(!Bt&&!Ie)return te&&Tu(et,kt,!1),qn(j,et,fe);Bt=et.stateNode,bd.current=et;var Ue=Ie&&typeof kt.getDerivedStateFromError!="function"?null:Bt.render();return et.flags|=1,j!==null&&Ie?(et.child=Ui(et,j.child,null,fe),et.child=Ui(et,null,Ue,fe)):fn(j,et,Ue,fe),et.memoizedState=Bt.state,te&&Tu(et,kt,!0),et.child}function Ef(j){var et=j.stateNode;et.pendingContext?ku(j,et.pendingContext,et.pendingContext!==et.context):et.context&&ku(j,et.context,!1),Ls(j,et.containerInfo)}function kf(j,et,kt,Bt,te){return Li(),Bs(te),et.flags|=256,fn(j,et,kt,Bt),et.child}var il={dehydrated:null,treeContext:null,retryLane:0};function al(j){return{baseLanes:j,cachePool:null,transitions:null}}function Sf(j,et,kt){var Bt=et.pendingProps,te=Gr.current,fe=!1,Ie=(et.flags&128)!==0,Ue;if((Ue=Ie)||(Ue=j!==null&&j.memoizedState===null?!1:(te&2)!==0),Ue?(fe=!0,et.flags&=-129):(j===null||j.memoizedState!==null)&&(te|=1),zr(Gr,te&1),j===null)return Rs(et),j=et.memoizedState,j!==null&&(j=j.dehydrated,j!==null)?(et.mode&1?j.data==="$!"?et.lanes=8:et.lanes=1073741824:et.lanes=1,null):(Ie=Bt.children,j=Bt.fallback,fe?(Bt=et.mode,fe=et.child,Ie={mode:"hidden",children:Ie},!(Bt&1)&&fe!==null?(fe.childLanes=0,fe.pendingProps=Ie):fe=jo(Ie,Bt,0,null),j=Ii(j,Bt,kt,null),fe.return=et,j.return=et,fe.sibling=j,et.child=fe,et.child.memoizedState=al(kt),et.memoizedState=il,j):ol(et,Ie));if(te=j.memoizedState,te!==null&&(Ue=te.dehydrated,Ue!==null))return vd(j,et,Ie,Bt,Ue,te,kt);if(fe){fe=Bt.fallback,Ie=et.mode,te=j.child,Ue=te.sibling;var Ge={mode:"hidden",children:Bt.children};return!(Ie&1)&&et.child!==te?(Bt=et.child,Bt.childLanes=0,Bt.pendingProps=Ge,et.deletions=null):(Bt=pi(te,Ge),Bt.subtreeFlags=te.subtreeFlags&14680064),Ue!==null?fe=pi(Ue,fe):(fe=Ii(fe,Ie,kt,null),fe.flags|=2),fe.return=et,Bt.return=et,Bt.sibling=fe,et.child=Bt,Bt=fe,fe=et.child,Ie=j.child.memoizedState,Ie=Ie===null?al(kt):{baseLanes:Ie.baseLanes|kt,cachePool:null,transitions:Ie.transitions},fe.memoizedState=Ie,fe.childLanes=j.childLanes&~kt,et.memoizedState=il,Bt}return fe=j.child,j=fe.sibling,Bt=pi(fe,{mode:"visible",children:Bt.children}),!(et.mode&1)&&(Bt.lanes=kt),Bt.return=et,Bt.sibling=null,j!==null&&(kt=et.deletions,kt===null?(et.deletions=[j],et.flags|=16):kt.push(j)),et.child=Bt,et.memoizedState=null,Bt}function ol(j,et){return et=jo({mode:"visible",children:et},j.mode,0,null),et.return=j,j.child=et}function Ao(j,et,kt,Bt){return Bt!==null&&Bs(Bt),Ui(et,j.child,null,kt),j=ol(et,et.pendingProps.children),j.flags|=2,et.memoizedState=null,j}function vd(j,et,kt,Bt,te,fe,Ie){if(kt)return et.flags&256?(et.flags&=-257,Bt=tl(Error(g(422))),Ao(j,et,Ie,Bt)):et.memoizedState!==null?(et.child=j.child,et.flags|=128,null):(fe=Bt.fallback,te=et.mode,Bt=jo({mode:"visible",children:Bt.children},te,0,null),fe=Ii(fe,te,Ie,null),fe.flags|=2,Bt.return=et,fe.return=et,Bt.sibling=fe,et.child=Bt,et.mode&1&&Ui(et,j.child,null,Ie),et.child.memoizedState=al(Ie),et.memoizedState=il,fe);if(!(et.mode&1))return Ao(j,et,Ie,null);if(te.data==="$!"){if(Bt=te.nextSibling&&te.nextSibling.dataset,Bt)var Ue=Bt.dgst;return Bt=Ue,fe=Error(g(419)),Bt=tl(fe,Bt,void 0),Ao(j,et,Ie,Bt)}if(Ue=(Ie&j.childLanes)!==0,pn||Ue){if(Bt=tn,Bt!==null){switch(Ie&-Ie){case 4:te=2;break;case 16:te=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:te=32;break;case 536870912:te=268435456;break;default:te=0}te=te&(Bt.suspendedLanes|Ie)?0:te,te!==0&&te!==fe.retryLane&&(fe.retryLane=te,Wn(j,te),$n(Bt,j,te,-1))}return xl(),Bt=tl(Error(g(421))),Ao(j,et,Ie,Bt)}return te.data==="$?"?(et.flags|=128,et.child=j.child,et=Bd.bind(null,j),te._reactRetry=et,null):(j=fe.treeContext,vn=ni(te.nextSibling),bn=et,jr=!0,Rn=null,j!==null&&(En[kn++]=Gn,En[kn++]=Hn,En[kn++]=yi,Gn=j.id,Hn=j.overflow,yi=et),et=ol(et,Bt.children),et.flags|=4096,et)}function Tf(j,et,kt){j.lanes|=et;var Bt=j.alternate;Bt!==null&&(Bt.lanes|=et),Fs(j.return,et,kt)}function sl(j,et,kt,Bt,te){var fe=j.memoizedState;fe===null?j.memoizedState={isBackwards:et,rendering:null,renderingStartTime:0,last:Bt,tail:kt,tailMode:te}:(fe.isBackwards=et,fe.rendering=null,fe.renderingStartTime=0,fe.last=Bt,fe.tail=kt,fe.tailMode=te)}function If(j,et,kt){var Bt=et.pendingProps,te=Bt.revealOrder,fe=Bt.tail;if(fn(j,et,Bt.children,kt),Bt=Gr.current,Bt&2)Bt=Bt&1|2,et.flags|=128;else{if(j!==null&&j.flags&128)t:for(j=et.child;j!==null;){if(j.tag===13)j.memoizedState!==null&&Tf(j,kt,et);else if(j.tag===19)Tf(j,kt,et);else if(j.child!==null){j.child.return=j,j=j.child;continue}if(j===et)break t;for(;j.sibling===null;){if(j.return===null||j.return===et)break t;j=j.return}j.sibling.return=j.return,j=j.sibling}Bt&=1}if(zr(Gr,Bt),!(et.mode&1))et.memoizedState=null;else switch(te){case"forwards":for(kt=et.child,te=null;kt!==null;)j=kt.alternate,j!==null&&xo(j)===null&&(te=kt),kt=kt.sibling;kt=te,kt===null?(te=et.child,et.child=null):(te=kt.sibling,kt.sibling=null),sl(et,!1,te,kt,fe);break;case"backwards":for(kt=null,te=et.child,et.child=null;te!==null;){if(j=te.alternate,j!==null&&xo(j)===null){et.child=te;break}j=te.sibling,te.sibling=kt,kt=te,te=j}sl(et,!0,kt,null,fe);break;case"together":sl(et,!1,null,null,void 0);break;default:et.memoizedState=null}return et.child}function Po(j,et){!(et.mode&1)&&j!==null&&(j.alternate=null,et.alternate=null,et.flags|=2)}function qn(j,et,kt){if(j!==null&&(et.dependencies=j.dependencies),Ei|=et.lanes,!(kt&et.childLanes))return null;if(j!==null&&et.child!==j.child)throw Error(g(153));if(et.child!==null){for(j=et.child,kt=pi(j,j.pendingProps),et.child=kt,kt.return=et;j.sibling!==null;)j=j.sibling,kt=kt.sibling=pi(j,j.pendingProps),kt.return=et;kt.sibling=null}return et.child}function wd(j,et,kt){switch(et.tag){case 3:Ef(et),Li();break;case 5:Lu(et);break;case 1:hn(et.type)&&fo(et);break;case 4:Ls(et,et.stateNode.containerInfo);break;case 10:var Bt=et.type._context,te=et.memoizedProps.value;zr(yo,Bt._currentValue),Bt._currentValue=te;break;case 13:if(Bt=et.memoizedState,Bt!==null)return Bt.dehydrated!==null?(zr(Gr,Gr.current&1),et.flags|=128,null):kt&et.child.childLanes?Sf(j,et,kt):(zr(Gr,Gr.current&1),j=qn(j,et,kt),j!==null?j.sibling:null);zr(Gr,Gr.current&1);break;case 19:if(Bt=(kt&et.childLanes)!==0,j.flags&128){if(Bt)return If(j,et,kt);et.flags|=128}if(te=et.memoizedState,te!==null&&(te.rendering=null,te.tail=null,te.lastEffect=null),zr(Gr,Gr.current),Bt)break;return null;case 22:case 23:return et.lanes=0,vf(j,et,kt)}return qn(j,et,kt)}var Mf,ll,Af,Pf;Mf=function(j,et){for(var kt=et.child;kt!==null;){if(kt.tag===5||kt.tag===6)j.appendChild(kt.stateNode);else if(kt.tag!==4&&kt.child!==null){kt.child.return=kt,kt=kt.child;continue}if(kt===et)break;for(;kt.sibling===null;){if(kt.return===null||kt.return===et)return;kt=kt.return}kt.sibling.return=kt.return,kt=kt.sibling}},ll=function(){},Af=function(j,et,kt,Bt){var te=j.memoizedProps;if(te!==Bt){j=et.stateNode,wi(Dn.current);var fe=null;switch(kt){case"input":te=me(j,te),Bt=me(j,Bt),fe=[];break;case"select":te=Me({},te,{value:void 0}),Bt=Me({},Bt,{value:void 0}),fe=[];break;case"textarea":te=De(j,te),Bt=De(j,Bt),fe=[];break;default:typeof te.onClick!="function"&&typeof Bt.onClick=="function"&&(j.onclick=eo)}Le(kt,Bt);var Ie;kt=null;for(Je in te)if(!Bt.hasOwnProperty(Je)&&te.hasOwnProperty(Je)&&te[Je]!=null)if(Je==="style"){var Ue=te[Je];for(Ie in Ue)Ue.hasOwnProperty(Ie)&&(kt||(kt={}),kt[Ie]="")}else Je!=="dangerouslySetInnerHTML"&&Je!=="children"&&Je!=="suppressContentEditableWarning"&&Je!=="suppressHydrationWarning"&&Je!=="autoFocus"&&(D.hasOwnProperty(Je)?fe||(fe=[]):(fe=fe||[]).push(Je,null));for(Je in Bt){var Ge=Bt[Je];if(Ue=te!=null?te[Je]:void 0,Bt.hasOwnProperty(Je)&&Ge!==Ue&&(Ge!=null||Ue!=null))if(Je==="style")if(Ue){for(Ie in Ue)!Ue.hasOwnProperty(Ie)||Ge&&Ge.hasOwnProperty(Ie)||(kt||(kt={}),kt[Ie]="");for(Ie in Ge)Ge.hasOwnProperty(Ie)&&Ue[Ie]!==Ge[Ie]&&(kt||(kt={}),kt[Ie]=Ge[Ie])}else kt||(fe||(fe=[]),fe.push(Je,kt)),kt=Ge;else Je==="dangerouslySetInnerHTML"?(Ge=Ge?Ge.__html:void 0,Ue=Ue?Ue.__html:void 0,Ge!=null&&Ue!==Ge&&(fe=fe||[]).push(Je,Ge)):Je==="children"?typeof Ge!="string"&&typeof Ge!="number"||(fe=fe||[]).push(Je,""+Ge):Je!=="suppressContentEditableWarning"&&Je!=="suppressHydrationWarning"&&(D.hasOwnProperty(Je)?(Ge!=null&&Je==="onScroll"&&Or("scroll",j),fe||Ue===Ge||(fe=[])):(fe=fe||[]).push(Je,Ge))}kt&&(fe=fe||[]).push("style",kt);var Je=fe;(et.updateQueue=Je)&&(et.flags|=4)}},Pf=function(j,et,kt,Bt){kt!==Bt&&(et.flags|=4)};function Ia(j,et){if(!jr)switch(j.tailMode){case"hidden":et=j.tail;for(var kt=null;et!==null;)et.alternate!==null&&(kt=et),et=et.sibling;kt===null?j.tail=null:kt.sibling=null;break;case"collapsed":kt=j.tail;for(var Bt=null;kt!==null;)kt.alternate!==null&&(Bt=kt),kt=kt.sibling;Bt===null?et||j.tail===null?j.tail=null:j.tail.sibling=null:Bt.sibling=null}}function ln(j){var et=j.alternate!==null&&j.alternate.child===j.child,kt=0,Bt=0;if(et)for(var te=j.child;te!==null;)kt|=te.lanes|te.childLanes,Bt|=te.subtreeFlags&14680064,Bt|=te.flags&14680064,te.return=j,te=te.sibling;else for(te=j.child;te!==null;)kt|=te.lanes|te.childLanes,Bt|=te.subtreeFlags,Bt|=te.flags,te.return=j,te=te.sibling;return j.subtreeFlags|=Bt,j.childLanes=kt,et}function xd(j,et,kt){var Bt=et.pendingProps;switch(Ps(et),et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(et),null;case 1:return hn(et.type)&&uo(),ln(et),null;case 3:return Bt=et.stateNode,Gi(),Dr(dn),Dr(on),Zs(),Bt.pendingContext&&(Bt.context=Bt.pendingContext,Bt.pendingContext=null),(j===null||j.child===null)&&(mo(et)?et.flags|=4:j===null||j.memoizedState.isDehydrated&&!(et.flags&256)||(et.flags|=1024,Rn!==null&&(bl(Rn),Rn=null))),ll(j,et),ln(et),null;case 5:Us(et);var te=wi(xa.current);if(kt=et.type,j!==null&&et.stateNode!=null)Af(j,et,kt,Bt,te),j.ref!==et.ref&&(et.flags|=512,et.flags|=2097152);else{if(!Bt){if(et.stateNode===null)throw Error(g(166));return ln(et),null}if(j=wi(Dn.current),mo(et)){Bt=et.stateNode,kt=et.type;var fe=et.memoizedProps;switch(Bt[On]=et,Bt[_a]=fe,j=(et.mode&1)!==0,kt){case"dialog":Or("cancel",Bt),Or("close",Bt);break;case"iframe":case"object":case"embed":Or("load",Bt);break;case"video":case"audio":for(te=0;te<pa.length;te++)Or(pa[te],Bt);break;case"source":Or("error",Bt);break;case"img":case"image":case"link":Or("error",Bt),Or("load",Bt);break;case"details":Or("toggle",Bt);break;case"input":pe(Bt,fe),Or("invalid",Bt);break;case"select":Bt._wrapperState={wasMultiple:!!fe.multiple},Or("invalid",Bt);break;case"textarea":je(Bt,fe),Or("invalid",Bt)}Le(kt,fe),te=null;for(var Ie in fe)if(fe.hasOwnProperty(Ie)){var Ue=fe[Ie];Ie==="children"?typeof Ue=="string"?Bt.textContent!==Ue&&(fe.suppressHydrationWarning!==!0&&Ja(Bt.textContent,Ue,j),te=["children",Ue]):typeof Ue=="number"&&Bt.textContent!==""+Ue&&(fe.suppressHydrationWarning!==!0&&Ja(Bt.textContent,Ue,j),te=["children",""+Ue]):D.hasOwnProperty(Ie)&&Ue!=null&&Ie==="onScroll"&&Or("scroll",Bt)}switch(kt){case"input":Jt(Bt),Ht(Bt,fe,!0);break;case"textarea":Jt(Bt),ir(Bt);break;case"select":case"option":break;default:typeof fe.onClick=="function"&&(Bt.onclick=eo)}Bt=te,et.updateQueue=Bt,Bt!==null&&(et.flags|=4)}else{Ie=te.nodeType===9?te:te.ownerDocument,j==="http://www.w3.org/1999/xhtml"&&(j=Xe(kt)),j==="http://www.w3.org/1999/xhtml"?kt==="script"?(j=Ie.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild)):typeof Bt.is=="string"?j=Ie.createElement(kt,{is:Bt.is}):(j=Ie.createElement(kt),kt==="select"&&(Ie=j,Bt.multiple?Ie.multiple=!0:Bt.size&&(Ie.size=Bt.size))):j=Ie.createElementNS(j,kt),j[On]=et,j[_a]=Bt,Mf(j,et,!1,!1),et.stateNode=j;t:{switch(Ie=Qe(kt,Bt),kt){case"dialog":Or("cancel",j),Or("close",j),te=Bt;break;case"iframe":case"object":case"embed":Or("load",j),te=Bt;break;case"video":case"audio":for(te=0;te<pa.length;te++)Or(pa[te],j);te=Bt;break;case"source":Or("error",j),te=Bt;break;case"img":case"image":case"link":Or("error",j),Or("load",j),te=Bt;break;case"details":Or("toggle",j),te=Bt;break;case"input":pe(j,Bt),te=me(j,Bt),Or("invalid",j);break;case"option":te=Bt;break;case"select":j._wrapperState={wasMultiple:!!Bt.multiple},te=Me({},Bt,{value:void 0}),Or("invalid",j);break;case"textarea":je(j,Bt),te=De(j,Bt),Or("invalid",j);break;default:te=Bt}Le(kt,te),Ue=te;for(fe in Ue)if(Ue.hasOwnProperty(fe)){var Ge=Ue[fe];fe==="style"?ze(j,Ge):fe==="dangerouslySetInnerHTML"?(Ge=Ge?Ge.__html:void 0,Ge!=null&&gr(j,Ge)):fe==="children"?typeof Ge=="string"?(kt!=="textarea"||Ge!=="")&&dr(j,Ge):typeof Ge=="number"&&dr(j,""+Ge):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(D.hasOwnProperty(fe)?Ge!=null&&fe==="onScroll"&&Or("scroll",j):Ge!=null&&Ft(j,fe,Ge,Ie))}switch(kt){case"input":Jt(j),Ht(j,Bt,!1);break;case"textarea":Jt(j),ir(j);break;case"option":Bt.value!=null&&j.setAttribute("value",""+Fe(Bt.value));break;case"select":j.multiple=!!Bt.multiple,fe=Bt.value,fe!=null?be(j,!!Bt.multiple,fe,!1):Bt.defaultValue!=null&&be(j,!!Bt.multiple,Bt.defaultValue,!0);break;default:typeof te.onClick=="function"&&(j.onclick=eo)}switch(kt){case"button":case"input":case"select":case"textarea":Bt=!!Bt.autoFocus;break t;case"img":Bt=!0;break t;default:Bt=!1}}Bt&&(et.flags|=4)}et.ref!==null&&(et.flags|=512,et.flags|=2097152)}return ln(et),null;case 6:if(j&&et.stateNode!=null)Pf(j,et,j.memoizedProps,Bt);else{if(typeof Bt!="string"&&et.stateNode===null)throw Error(g(166));if(kt=wi(xa.current),wi(Dn.current),mo(et)){if(Bt=et.stateNode,kt=et.memoizedProps,Bt[On]=et,(fe=Bt.nodeValue!==kt)&&(j=bn,j!==null))switch(j.tag){case 3:Ja(Bt.nodeValue,kt,(j.mode&1)!==0);break;case 5:j.memoizedProps.suppressHydrationWarning!==!0&&Ja(Bt.nodeValue,kt,(j.mode&1)!==0)}fe&&(et.flags|=4)}else Bt=(kt.nodeType===9?kt:kt.ownerDocument).createTextNode(Bt),Bt[On]=et,et.stateNode=Bt}return ln(et),null;case 13:if(Dr(Gr),Bt=et.memoizedState,j===null||j.memoizedState!==null&&j.memoizedState.dehydrated!==null){if(jr&&vn!==null&&et.mode&1&&!(et.flags&128))Ru(),Li(),et.flags|=98560,fe=!1;else if(fe=mo(et),Bt!==null&&Bt.dehydrated!==null){if(j===null){if(!fe)throw Error(g(318));if(fe=et.memoizedState,fe=fe!==null?fe.dehydrated:null,!fe)throw Error(g(317));fe[On]=et}else Li(),!(et.flags&128)&&(et.memoizedState=null),et.flags|=4;ln(et),fe=!1}else Rn!==null&&(bl(Rn),Rn=null),fe=!0;if(!fe)return et.flags&65536?et:null}return et.flags&128?(et.lanes=kt,et):(Bt=Bt!==null,Bt!==(j!==null&&j.memoizedState!==null)&&Bt&&(et.child.flags|=8192,et.mode&1&&(j===null||Gr.current&1?Kr===0&&(Kr=3):xl())),et.updateQueue!==null&&(et.flags|=4),ln(et),null);case 4:return Gi(),ll(j,et),j===null&&ma(et.stateNode.containerInfo),ln(et),null;case 10:return $s(et.type._context),ln(et),null;case 17:return hn(et.type)&&uo(),ln(et),null;case 19:if(Dr(Gr),fe=et.memoizedState,fe===null)return ln(et),null;if(Bt=(et.flags&128)!==0,Ie=fe.rendering,Ie===null)if(Bt)Ia(fe,!1);else{if(Kr!==0||j!==null&&j.flags&128)for(j=et.child;j!==null;){if(Ie=xo(j),Ie!==null){for(et.flags|=128,Ia(fe,!1),Bt=Ie.updateQueue,Bt!==null&&(et.updateQueue=Bt,et.flags|=4),et.subtreeFlags=0,Bt=kt,kt=et.child;kt!==null;)fe=kt,j=Bt,fe.flags&=14680066,Ie=fe.alternate,Ie===null?(fe.childLanes=0,fe.lanes=j,fe.child=null,fe.subtreeFlags=0,fe.memoizedProps=null,fe.memoizedState=null,fe.updateQueue=null,fe.dependencies=null,fe.stateNode=null):(fe.childLanes=Ie.childLanes,fe.lanes=Ie.lanes,fe.child=Ie.child,fe.subtreeFlags=0,fe.deletions=null,fe.memoizedProps=Ie.memoizedProps,fe.memoizedState=Ie.memoizedState,fe.updateQueue=Ie.updateQueue,fe.type=Ie.type,j=Ie.dependencies,fe.dependencies=j===null?null:{lanes:j.lanes,firstContext:j.firstContext}),kt=kt.sibling;return zr(Gr,Gr.current&1|2),et.child}j=j.sibling}fe.tail!==null&&Ur()>qi&&(et.flags|=128,Bt=!0,Ia(fe,!1),et.lanes=4194304)}else{if(!Bt)if(j=xo(Ie),j!==null){if(et.flags|=128,Bt=!0,kt=j.updateQueue,kt!==null&&(et.updateQueue=kt,et.flags|=4),Ia(fe,!0),fe.tail===null&&fe.tailMode==="hidden"&&!Ie.alternate&&!jr)return ln(et),null}else 2*Ur()-fe.renderingStartTime>qi&&kt!==1073741824&&(et.flags|=128,Bt=!0,Ia(fe,!1),et.lanes=4194304);fe.isBackwards?(Ie.sibling=et.child,et.child=Ie):(kt=fe.last,kt!==null?kt.sibling=Ie:et.child=Ie,fe.last=Ie)}return fe.tail!==null?(et=fe.tail,fe.rendering=et,fe.tail=et.sibling,fe.renderingStartTime=Ur(),et.sibling=null,kt=Gr.current,zr(Gr,Bt?kt&1|2:kt&1),et):(ln(et),null);case 22:case 23:return wl(),Bt=et.memoizedState!==null,j!==null&&j.memoizedState!==null!==Bt&&(et.flags|=8192),Bt&&et.mode&1?wn&1073741824&&(ln(et),et.subtreeFlags&6&&(et.flags|=8192)):ln(et),null;case 24:return null;case 25:return null}throw Error(g(156,et.tag))}function Ed(j,et){switch(Ps(et),et.tag){case 1:return hn(et.type)&&uo(),j=et.flags,j&65536?(et.flags=j&-65537|128,et):null;case 3:return Gi(),Dr(dn),Dr(on),Zs(),j=et.flags,j&65536&&!(j&128)?(et.flags=j&-65537|128,et):null;case 5:return Us(et),null;case 13:if(Dr(Gr),j=et.memoizedState,j!==null&&j.dehydrated!==null){if(et.alternate===null)throw Error(g(340));Li()}return j=et.flags,j&65536?(et.flags=j&-65537|128,et):null;case 19:return Dr(Gr),null;case 4:return Gi(),null;case 10:return $s(et.type._context),null;case 22:case 23:return wl(),null;case 24:return null;default:return null}}var Co=!1,un=!1,kd=typeof WeakSet=="function"?WeakSet:Set,yr=null;function Wi(j,et){var kt=j.ref;if(kt!==null)if(typeof kt=="function")try{kt(null)}catch(Bt){Qr(j,et,Bt)}else kt.current=null}function ul(j,et,kt){try{kt()}catch(Bt){Qr(j,et,Bt)}}var Cf=!1;function Sd(j,et){if(ws=ja,j=lu(),hs(j)){if("selectionStart"in j)var kt={start:j.selectionStart,end:j.selectionEnd};else t:{kt=(kt=j.ownerDocument)&&kt.defaultView||window;var Bt=kt.getSelection&&kt.getSelection();if(Bt&&Bt.rangeCount!==0){kt=Bt.anchorNode;var te=Bt.anchorOffset,fe=Bt.focusNode;Bt=Bt.focusOffset;try{kt.nodeType,fe.nodeType}catch{kt=null;break t}var Ie=0,Ue=-1,Ge=-1,Je=0,sr=0,lr=j,or=null;e:for(;;){for(var mr;lr!==kt||te!==0&&lr.nodeType!==3||(Ue=Ie+te),lr!==fe||Bt!==0&&lr.nodeType!==3||(Ge=Ie+Bt),lr.nodeType===3&&(Ie+=lr.nodeValue.length),(mr=lr.firstChild)!==null;)or=lr,lr=mr;for(;;){if(lr===j)break e;if(or===kt&&++Je===te&&(Ue=Ie),or===fe&&++sr===Bt&&(Ge=Ie),(mr=lr.nextSibling)!==null)break;lr=or,or=lr.parentNode}lr=mr}kt=Ue===-1||Ge===-1?null:{start:Ue,end:Ge}}else kt=null}kt=kt||{start:0,end:0}}else kt=null;for(xs={focusedElem:j,selectionRange:kt},ja=!1,yr=et;yr!==null;)if(et=yr,j=et.child,(et.subtreeFlags&1028)!==0&&j!==null)j.return=et,yr=j;else for(;yr!==null;){et=yr;try{var vr=et.alternate;if(et.flags&1024)switch(et.tag){case 0:case 11:case 15:break;case 1:if(vr!==null){var wr=vr.memoizedProps,qr=vr.memoizedState,Ye=et.stateNode,He=Ye.getSnapshotBeforeUpdate(et.elementType===et.type?wr:Bn(et.type,wr),qr);Ye.__reactInternalSnapshotBeforeUpdate=He}break;case 3:var Ke=et.stateNode.containerInfo;Ke.nodeType===1?Ke.textContent="":Ke.nodeType===9&&Ke.documentElement&&Ke.removeChild(Ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(g(163))}}catch(ur){Qr(et,et.return,ur)}if(j=et.sibling,j!==null){j.return=et.return,yr=j;break}yr=et.return}return vr=Cf,Cf=!1,vr}function Ma(j,et,kt){var Bt=et.updateQueue;if(Bt=Bt!==null?Bt.lastEffect:null,Bt!==null){var te=Bt=Bt.next;do{if((te.tag&j)===j){var fe=te.destroy;te.destroy=void 0,fe!==void 0&&ul(et,kt,fe)}te=te.next}while(te!==Bt)}}function Ro(j,et){if(et=et.updateQueue,et=et!==null?et.lastEffect:null,et!==null){var kt=et=et.next;do{if((kt.tag&j)===j){var Bt=kt.create;kt.destroy=Bt()}kt=kt.next}while(kt!==et)}}function fl(j){var et=j.ref;if(et!==null){var kt=j.stateNode;switch(j.tag){case 5:j=kt;break;default:j=kt}typeof et=="function"?et(j):et.current=j}}function Rf(j){var et=j.alternate;et!==null&&(j.alternate=null,Rf(et)),j.child=null,j.deletions=null,j.sibling=null,j.tag===5&&(et=j.stateNode,et!==null&&(delete et[On],delete et[_a],delete et[Ts],delete et[sd],delete et[ld])),j.stateNode=null,j.return=null,j.dependencies=null,j.memoizedProps=null,j.memoizedState=null,j.pendingProps=null,j.stateNode=null,j.updateQueue=null}function Bf(j){return j.tag===5||j.tag===3||j.tag===4}function zf(j){t:for(;;){for(;j.sibling===null;){if(j.return===null||Bf(j.return))return null;j=j.return}for(j.sibling.return=j.return,j=j.sibling;j.tag!==5&&j.tag!==6&&j.tag!==18;){if(j.flags&2||j.child===null||j.tag===4)continue t;j.child.return=j,j=j.child}if(!(j.flags&2))return j.stateNode}}function cl(j,et,kt){var Bt=j.tag;if(Bt===5||Bt===6)j=j.stateNode,et?kt.nodeType===8?kt.parentNode.insertBefore(j,et):kt.insertBefore(j,et):(kt.nodeType===8?(et=kt.parentNode,et.insertBefore(j,kt)):(et=kt,et.appendChild(j)),kt=kt._reactRootContainer,kt!=null||et.onclick!==null||(et.onclick=eo));else if(Bt!==4&&(j=j.child,j!==null))for(cl(j,et,kt),j=j.sibling;j!==null;)cl(j,et,kt),j=j.sibling}function dl(j,et,kt){var Bt=j.tag;if(Bt===5||Bt===6)j=j.stateNode,et?kt.insertBefore(j,et):kt.appendChild(j);else if(Bt!==4&&(j=j.child,j!==null))for(dl(j,et,kt),j=j.sibling;j!==null;)dl(j,et,kt),j=j.sibling}var nn=null,zn=!1;function ui(j,et,kt){for(kt=kt.child;kt!==null;)Nf(j,et,kt),kt=kt.sibling}function Nf(j,et,kt){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount($a,kt)}catch{}switch(kt.tag){case 5:un||Wi(kt,et);case 6:var Bt=nn,te=zn;nn=null,ui(j,et,kt),nn=Bt,zn=te,nn!==null&&(zn?(j=nn,kt=kt.stateNode,j.nodeType===8?j.parentNode.removeChild(kt):j.removeChild(kt)):nn.removeChild(kt.stateNode));break;case 18:nn!==null&&(zn?(j=nn,kt=kt.stateNode,j.nodeType===8?Ss(j.parentNode,kt):j.nodeType===1&&Ss(j,kt),oa(j)):Ss(nn,kt.stateNode));break;case 4:Bt=nn,te=zn,nn=kt.stateNode.containerInfo,zn=!0,ui(j,et,kt),nn=Bt,zn=te;break;case 0:case 11:case 14:case 15:if(!un&&(Bt=kt.updateQueue,Bt!==null&&(Bt=Bt.lastEffect,Bt!==null))){te=Bt=Bt.next;do{var fe=te,Ie=fe.destroy;fe=fe.tag,Ie!==void 0&&(fe&2||fe&4)&&ul(kt,et,Ie),te=te.next}while(te!==Bt)}ui(j,et,kt);break;case 1:if(!un&&(Wi(kt,et),Bt=kt.stateNode,typeof Bt.componentWillUnmount=="function"))try{Bt.props=kt.memoizedProps,Bt.state=kt.memoizedState,Bt.componentWillUnmount()}catch(Ue){Qr(kt,et,Ue)}ui(j,et,kt);break;case 21:ui(j,et,kt);break;case 22:kt.mode&1?(un=(Bt=un)||kt.memoizedState!==null,ui(j,et,kt),un=Bt):ui(j,et,kt);break;default:ui(j,et,kt)}}function $f(j){var et=j.updateQueue;if(et!==null){j.updateQueue=null;var kt=j.stateNode;kt===null&&(kt=j.stateNode=new kd),et.forEach(function(Bt){var te=zd.bind(null,j,Bt);kt.has(Bt)||(kt.add(Bt),Bt.then(te,te))})}}function Nn(j,et){var kt=et.deletions;if(kt!==null)for(var Bt=0;Bt<kt.length;Bt++){var te=kt[Bt];try{var fe=j,Ie=et,Ue=Ie;t:for(;Ue!==null;){switch(Ue.tag){case 5:nn=Ue.stateNode,zn=!1;break t;case 3:nn=Ue.stateNode.containerInfo,zn=!0;break t;case 4:nn=Ue.stateNode.containerInfo,zn=!0;break t}Ue=Ue.return}if(nn===null)throw Error(g(160));Nf(fe,Ie,te),nn=null,zn=!1;var Ge=te.alternate;Ge!==null&&(Ge.return=null),te.return=null}catch(Je){Qr(te,et,Je)}}if(et.subtreeFlags&12854)for(et=et.child;et!==null;)Ff(et,j),et=et.sibling}function Ff(j,et){var kt=j.alternate,Bt=j.flags;switch(j.tag){case 0:case 11:case 14:case 15:if(Nn(et,j),Un(j),Bt&4){try{Ma(3,j,j.return),Ro(3,j)}catch(wr){Qr(j,j.return,wr)}try{Ma(5,j,j.return)}catch(wr){Qr(j,j.return,wr)}}break;case 1:Nn(et,j),Un(j),Bt&512&&kt!==null&&Wi(kt,kt.return);break;case 5:if(Nn(et,j),Un(j),Bt&512&&kt!==null&&Wi(kt,kt.return),j.flags&32){var te=j.stateNode;try{dr(te,"")}catch(wr){Qr(j,j.return,wr)}}if(Bt&4&&(te=j.stateNode,te!=null)){var fe=j.memoizedProps,Ie=kt!==null?kt.memoizedProps:fe,Ue=j.type,Ge=j.updateQueue;if(j.updateQueue=null,Ge!==null)try{Ue==="input"&&fe.type==="radio"&&fe.name!=null&&we(te,fe),Qe(Ue,Ie);var Je=Qe(Ue,fe);for(Ie=0;Ie<Ge.length;Ie+=2){var sr=Ge[Ie],lr=Ge[Ie+1];sr==="style"?ze(te,lr):sr==="dangerouslySetInnerHTML"?gr(te,lr):sr==="children"?dr(te,lr):Ft(te,sr,lr,Je)}switch(Ue){case"input":Re(te,fe);break;case"textarea":er(te,fe);break;case"select":var or=te._wrapperState.wasMultiple;te._wrapperState.wasMultiple=!!fe.multiple;var mr=fe.value;mr!=null?be(te,!!fe.multiple,mr,!1):or!==!!fe.multiple&&(fe.defaultValue!=null?be(te,!!fe.multiple,fe.defaultValue,!0):be(te,!!fe.multiple,fe.multiple?[]:"",!1))}te[_a]=fe}catch(wr){Qr(j,j.return,wr)}}break;case 6:if(Nn(et,j),Un(j),Bt&4){if(j.stateNode===null)throw Error(g(162));te=j.stateNode,fe=j.memoizedProps;try{te.nodeValue=fe}catch(wr){Qr(j,j.return,wr)}}break;case 3:if(Nn(et,j),Un(j),Bt&4&&kt!==null&&kt.memoizedState.isDehydrated)try{oa(et.containerInfo)}catch(wr){Qr(j,j.return,wr)}break;case 4:Nn(et,j),Un(j);break;case 13:Nn(et,j),Un(j),te=j.child,te.flags&8192&&(fe=te.memoizedState!==null,te.stateNode.isHidden=fe,!fe||te.alternate!==null&&te.alternate.memoizedState!==null||(ml=Ur())),Bt&4&&$f(j);break;case 22:if(sr=kt!==null&&kt.memoizedState!==null,j.mode&1?(un=(Je=un)||sr,Nn(et,j),un=Je):Nn(et,j),Un(j),Bt&8192){if(Je=j.memoizedState!==null,(j.stateNode.isHidden=Je)&&!sr&&j.mode&1)for(yr=j,sr=j.child;sr!==null;){for(lr=yr=sr;yr!==null;){switch(or=yr,mr=or.child,or.tag){case 0:case 11:case 14:case 15:Ma(4,or,or.return);break;case 1:Wi(or,or.return);var vr=or.stateNode;if(typeof vr.componentWillUnmount=="function"){Bt=or,kt=or.return;try{et=Bt,vr.props=et.memoizedProps,vr.state=et.memoizedState,vr.componentWillUnmount()}catch(wr){Qr(Bt,kt,wr)}}break;case 5:Wi(or,or.return);break;case 22:if(or.memoizedState!==null){Lf(lr);continue}}mr!==null?(mr.return=or,yr=mr):Lf(lr)}sr=sr.sibling}t:for(sr=null,lr=j;;){if(lr.tag===5){if(sr===null){sr=lr;try{te=lr.stateNode,Je?(fe=te.style,typeof fe.setProperty=="function"?fe.setProperty("display","none","important"):fe.display="none"):(Ue=lr.stateNode,Ge=lr.memoizedProps.style,Ie=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null,Ue.style.display=cr("display",Ie))}catch(wr){Qr(j,j.return,wr)}}}else if(lr.tag===6){if(sr===null)try{lr.stateNode.nodeValue=Je?"":lr.memoizedProps}catch(wr){Qr(j,j.return,wr)}}else if((lr.tag!==22&&lr.tag!==23||lr.memoizedState===null||lr===j)&&lr.child!==null){lr.child.return=lr,lr=lr.child;continue}if(lr===j)break t;for(;lr.sibling===null;){if(lr.return===null||lr.return===j)break t;sr===lr&&(sr=null),lr=lr.return}sr===lr&&(sr=null),lr.sibling.return=lr.return,lr=lr.sibling}}break;case 19:Nn(et,j),Un(j),Bt&4&&$f(j);break;case 21:break;default:Nn(et,j),Un(j)}}function Un(j){var et=j.flags;if(et&2){try{t:{for(var kt=j.return;kt!==null;){if(Bf(kt)){var Bt=kt;break t}kt=kt.return}throw Error(g(160))}switch(Bt.tag){case 5:var te=Bt.stateNode;Bt.flags&32&&(dr(te,""),Bt.flags&=-33);var fe=zf(j);dl(j,fe,te);break;case 3:case 4:var Ie=Bt.stateNode.containerInfo,Ue=zf(j);cl(j,Ue,Ie);break;default:throw Error(g(161))}}catch(Ge){Qr(j,j.return,Ge)}j.flags&=-3}et&4096&&(j.flags&=-4097)}function Td(j,et,kt){yr=j,Of(j)}function Of(j,et,kt){for(var Bt=(j.mode&1)!==0;yr!==null;){var te=yr,fe=te.child;if(te.tag===22&&Bt){var Ie=te.memoizedState!==null||Co;if(!Ie){var Ue=te.alternate,Ge=Ue!==null&&Ue.memoizedState!==null||un;Ue=Co;var Je=un;if(Co=Ie,(un=Ge)&&!Je)for(yr=te;yr!==null;)Ie=yr,Ge=Ie.child,Ie.tag===22&&Ie.memoizedState!==null?Uf(te):Ge!==null?(Ge.return=Ie,yr=Ge):Uf(te);for(;fe!==null;)yr=fe,Of(fe),fe=fe.sibling;yr=te,Co=Ue,un=Je}Df(j)}else te.subtreeFlags&8772&&fe!==null?(fe.return=te,yr=fe):Df(j)}}function Df(j){for(;yr!==null;){var et=yr;if(et.flags&8772){var kt=et.alternate;try{if(et.flags&8772)switch(et.tag){case 0:case 11:case 15:un||Ro(5,et);break;case 1:var Bt=et.stateNode;if(et.flags&4&&!un)if(kt===null)Bt.componentDidMount();else{var te=et.elementType===et.type?kt.memoizedProps:Bn(et.type,kt.memoizedProps);Bt.componentDidUpdate(te,kt.memoizedState,Bt.__reactInternalSnapshotBeforeUpdate)}var fe=et.updateQueue;fe!==null&&Du(et,fe,Bt);break;case 3:var Ie=et.updateQueue;if(Ie!==null){if(kt=null,et.child!==null)switch(et.child.tag){case 5:kt=et.child.stateNode;break;case 1:kt=et.child.stateNode}Du(et,Ie,kt)}break;case 5:var Ue=et.stateNode;if(kt===null&&et.flags&4){kt=Ue;var Ge=et.memoizedProps;switch(et.type){case"button":case"input":case"select":case"textarea":Ge.autoFocus&&kt.focus();break;case"img":Ge.src&&(kt.src=Ge.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(et.memoizedState===null){var Je=et.alternate;if(Je!==null){var sr=Je.memoizedState;if(sr!==null){var lr=sr.dehydrated;lr!==null&&oa(lr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(g(163))}un||et.flags&512&&fl(et)}catch(or){Qr(et,et.return,or)}}if(et===j){yr=null;break}if(kt=et.sibling,kt!==null){kt.return=et.return,yr=kt;break}yr=et.return}}function Lf(j){for(;yr!==null;){var et=yr;if(et===j){yr=null;break}var kt=et.sibling;if(kt!==null){kt.return=et.return,yr=kt;break}yr=et.return}}function Uf(j){for(;yr!==null;){var et=yr;try{switch(et.tag){case 0:case 11:case 15:var kt=et.return;try{Ro(4,et)}catch(Ge){Qr(et,kt,Ge)}break;case 1:var Bt=et.stateNode;if(typeof Bt.componentDidMount=="function"){var te=et.return;try{Bt.componentDidMount()}catch(Ge){Qr(et,te,Ge)}}var fe=et.return;try{fl(et)}catch(Ge){Qr(et,fe,Ge)}break;case 5:var Ie=et.return;try{fl(et)}catch(Ge){Qr(et,Ie,Ge)}}}catch(Ge){Qr(et,et.return,Ge)}if(et===j){yr=null;break}var Ue=et.sibling;if(Ue!==null){Ue.return=et.return,yr=Ue;break}yr=et.return}}var Id=Math.ceil,Bo=Dt.ReactCurrentDispatcher,hl=Dt.ReactCurrentOwner,In=Dt.ReactCurrentBatchConfig,Pr=0,tn=null,Vr=null,an=0,wn=0,Qi=ii(0),Kr=0,Aa=null,Ei=0,zo=0,pl=0,Pa=null,mn=null,ml=0,qi=1/0,Vn=null,No=!1,gl=null,fi=null,$o=!1,ci=null,Fo=0,Ca=0,_l=null,Oo=-1,Do=0;function cn(){return Pr&6?Ur():Oo!==-1?Oo:Oo=Ur()}function di(j){return j.mode&1?Pr&2&&an!==0?an&-an:fd.transition!==null?(Do===0&&(Do=Bl()),Do):(j=Rr,j!==0||(j=window.event,j=j===void 0?16:jl(j.type)),j):1}function $n(j,et,kt,Bt){if(50<Ca)throw Ca=0,_l=null,Error(g(185));ea(j,kt,Bt),(!(Pr&2)||j!==tn)&&(j===tn&&(!(Pr&2)&&(zo|=kt),Kr===4&&hi(j,an)),gn(j,Bt),kt===1&&Pr===0&&!(et.mode&1)&&(qi=Ur()+500,co&&oi()))}function gn(j,et){var kt=j.callbackNode;fc(j,et);var Bt=Da(j,j===tn?an:0);if(Bt===0)kt!==null&&Ji(kt),j.callbackNode=null,j.callbackPriority=0;else if(et=Bt&-Bt,j.callbackPriority!==et){if(kt!=null&&Ji(kt),et===1)j.tag===0?ud(Zf.bind(null,j)):Iu(Zf.bind(null,j)),ad(function(){!(Pr&6)&&oi()}),kt=null;else{switch(zl(Bt)){case 1:kt=Yo;break;case 4:kt=Cl;break;case 16:kt=Na;break;case 536870912:kt=Rl;break;default:kt=Na}kt=Kf(kt,jf.bind(null,j))}j.callbackPriority=et,j.callbackNode=kt}}function jf(j,et){if(Oo=-1,Do=0,Pr&6)throw Error(g(327));var kt=j.callbackNode;if(Vi()&&j.callbackNode!==kt)return null;var Bt=Da(j,j===tn?an:0);if(Bt===0)return null;if(Bt&30||Bt&j.expiredLanes||et)et=Lo(j,Bt);else{et=Bt;var te=Pr;Pr|=2;var fe=Hf();(tn!==j||an!==et)&&(Vn=null,qi=Ur()+500,Si(j,et));do try{Pd();break}catch(Ue){Gf(j,Ue)}while(!0);Ns(),Bo.current=fe,Pr=te,Vr!==null?et=0:(tn=null,an=0,et=Kr)}if(et!==0){if(et===2&&(te=Ko(j),te!==0&&(Bt=te,et=yl(j,te))),et===1)throw kt=Aa,Si(j,0),hi(j,Bt),gn(j,Ur()),kt;if(et===6)hi(j,Bt);else{if(te=j.current.alternate,!(Bt&30)&&!Md(te)&&(et=Lo(j,Bt),et===2&&(fe=Ko(j),fe!==0&&(Bt=fe,et=yl(j,fe))),et===1))throw kt=Aa,Si(j,0),hi(j,Bt),gn(j,Ur()),kt;switch(j.finishedWork=te,j.finishedLanes=Bt,et){case 0:case 1:throw Error(g(345));case 2:Ti(j,mn,Vn);break;case 3:if(hi(j,Bt),(Bt&130023424)===Bt&&(et=ml+500-Ur(),10<et)){if(Da(j,0)!==0)break;if(te=j.suspendedLanes,(te&Bt)!==Bt){cn(),j.pingedLanes|=j.suspendedLanes&te;break}j.timeoutHandle=ks(Ti.bind(null,j,mn,Vn),et);break}Ti(j,mn,Vn);break;case 4:if(hi(j,Bt),(Bt&4194240)===Bt)break;for(et=j.eventTimes,te=-1;0<Bt;){var Ie=31-Pn(Bt);fe=1<<Ie,Ie=et[Ie],Ie>te&&(te=Ie),Bt&=~fe}if(Bt=te,Bt=Ur()-Bt,Bt=(120>Bt?120:480>Bt?480:1080>Bt?1080:1920>Bt?1920:3e3>Bt?3e3:4320>Bt?4320:1960*Id(Bt/1960))-Bt,10<Bt){j.timeoutHandle=ks(Ti.bind(null,j,mn,Vn),Bt);break}Ti(j,mn,Vn);break;case 5:Ti(j,mn,Vn);break;default:throw Error(g(329))}}}return gn(j,Ur()),j.callbackNode===kt?jf.bind(null,j):null}function yl(j,et){var kt=Pa;return j.current.memoizedState.isDehydrated&&(Si(j,et).flags|=256),j=Lo(j,et),j!==2&&(et=mn,mn=kt,et!==null&&bl(et)),j}function bl(j){mn===null?mn=j:mn.push.apply(mn,j)}function Md(j){for(var et=j;;){if(et.flags&16384){var kt=et.updateQueue;if(kt!==null&&(kt=kt.stores,kt!==null))for(var Bt=0;Bt<kt.length;Bt++){var te=kt[Bt],fe=te.getSnapshot;te=te.value;try{if(!Cn(fe(),te))return!1}catch{return!1}}}if(kt=et.child,et.subtreeFlags&16384&&kt!==null)kt.return=et,et=kt;else{if(et===j)break;for(;et.sibling===null;){if(et.return===null||et.return===j)return!0;et=et.return}et.sibling.return=et.return,et=et.sibling}}return!0}function hi(j,et){for(et&=~pl,et&=~zo,j.suspendedLanes|=et,j.pingedLanes&=~et,j=j.expirationTimes;0<et;){var kt=31-Pn(et),Bt=1<<kt;j[kt]=-1,et&=~Bt}}function Zf(j){if(Pr&6)throw Error(g(327));Vi();var et=Da(j,0);if(!(et&1))return gn(j,Ur()),null;var kt=Lo(j,et);if(j.tag!==0&&kt===2){var Bt=Ko(j);Bt!==0&&(et=Bt,kt=yl(j,Bt))}if(kt===1)throw kt=Aa,Si(j,0),hi(j,et),gn(j,Ur()),kt;if(kt===6)throw Error(g(345));return j.finishedWork=j.current.alternate,j.finishedLanes=et,Ti(j,mn,Vn),gn(j,Ur()),null}function vl(j,et){var kt=Pr;Pr|=1;try{return j(et)}finally{Pr=kt,Pr===0&&(qi=Ur()+500,co&&oi())}}function ki(j){ci!==null&&ci.tag===0&&!(Pr&6)&&Vi();var et=Pr;Pr|=1;var kt=In.transition,Bt=Rr;try{if(In.transition=null,Rr=1,j)return j()}finally{Rr=Bt,In.transition=kt,Pr=et,!(Pr&6)&&oi()}}function wl(){wn=Qi.current,Dr(Qi)}function Si(j,et){j.finishedWork=null,j.finishedLanes=0;var kt=j.timeoutHandle;if(kt!==-1&&(j.timeoutHandle=-1,id(kt)),Vr!==null)for(kt=Vr.return;kt!==null;){var Bt=kt;switch(Ps(Bt),Bt.tag){case 1:Bt=Bt.type.childContextTypes,Bt!=null&&uo();break;case 3:Gi(),Dr(dn),Dr(on),Zs();break;case 5:Us(Bt);break;case 4:Gi();break;case 13:Dr(Gr);break;case 19:Dr(Gr);break;case 10:$s(Bt.type._context);break;case 22:case 23:wl()}kt=kt.return}if(tn=j,Vr=j=pi(j.current,null),an=wn=et,Kr=0,Aa=null,pl=zo=Ei=0,mn=Pa=null,vi!==null){for(et=0;et<vi.length;et++)if(kt=vi[et],Bt=kt.interleaved,Bt!==null){kt.interleaved=null;var te=Bt.next,fe=kt.pending;if(fe!==null){var Ie=fe.next;fe.next=te,Bt.next=Ie}kt.pending=Bt}vi=null}return j}function Gf(j,et){do{var kt=Vr;try{if(Ns(),Eo.current=Io,ko){for(var Bt=Hr.memoizedState;Bt!==null;){var te=Bt.queue;te!==null&&(te.pending=null),Bt=Bt.next}ko=!1}if(xi=0,Jr=Yr=Hr=null,Ea=!1,ka=0,hl.current=null,kt===null||kt.return===null){Kr=1,Aa=et,Vr=null;break}t:{var fe=j,Ie=kt.return,Ue=kt,Ge=et;if(et=an,Ue.flags|=32768,Ge!==null&&typeof Ge=="object"&&typeof Ge.then=="function"){var Je=Ge,sr=Ue,lr=sr.tag;if(!(sr.mode&1)&&(lr===0||lr===11||lr===15)){var or=sr.alternate;or?(sr.updateQueue=or.updateQueue,sr.memoizedState=or.memoizedState,sr.lanes=or.lanes):(sr.updateQueue=null,sr.memoizedState=null)}var mr=mf(Ie);if(mr!==null){mr.flags&=-257,gf(mr,Ie,Ue,fe,et),mr.mode&1&&pf(fe,Je,et),et=mr,Ge=Je;var vr=et.updateQueue;if(vr===null){var wr=new Set;wr.add(Ge),et.updateQueue=wr}else vr.add(Ge);break t}else{if(!(et&1)){pf(fe,Je,et),xl();break t}Ge=Error(g(426))}}else if(jr&&Ue.mode&1){var qr=mf(Ie);if(qr!==null){!(qr.flags&65536)&&(qr.flags|=256),gf(qr,Ie,Ue,fe,et),Bs(Hi(Ge,Ue));break t}}fe=Ge=Hi(Ge,Ue),Kr!==4&&(Kr=2),Pa===null?Pa=[fe]:Pa.push(fe),fe=Ie;do{switch(fe.tag){case 3:fe.flags|=65536,et&=-et,fe.lanes|=et;var Ye=df(fe,Ge,et);Ou(fe,Ye);break t;case 1:Ue=Ge;var He=fe.type,Ke=fe.stateNode;if(!(fe.flags&128)&&(typeof He.getDerivedStateFromError=="function"||Ke!==null&&typeof Ke.componentDidCatch=="function"&&(fi===null||!fi.has(Ke)))){fe.flags|=65536,et&=-et,fe.lanes|=et;var ur=hf(fe,Ue,et);Ou(fe,ur);break t}}fe=fe.return}while(fe!==null)}Qf(kt)}catch(xr){et=xr,Vr===kt&&kt!==null&&(Vr=kt=kt.return);continue}break}while(!0)}function Hf(){var j=Bo.current;return Bo.current=Io,j===null?Io:j}function xl(){(Kr===0||Kr===3||Kr===2)&&(Kr=4),tn===null||!(Ei&268435455)&&!(zo&268435455)||hi(tn,an)}function Lo(j,et){var kt=Pr;Pr|=2;var Bt=Hf();(tn!==j||an!==et)&&(Vn=null,Si(j,et));do try{Ad();break}catch(te){Gf(j,te)}while(!0);if(Ns(),Pr=kt,Bo.current=Bt,Vr!==null)throw Error(g(261));return tn=null,an=0,Kr}function Ad(){for(;Vr!==null;)Wf(Vr)}function Pd(){for(;Vr!==null&&!Ba();)Wf(Vr)}function Wf(j){var et=Yf(j.alternate,j,wn);j.memoizedProps=j.pendingProps,et===null?Qf(j):Vr=et,hl.current=null}function Qf(j){var et=j;do{var kt=et.alternate;if(j=et.return,et.flags&32768){if(kt=Ed(kt,et),kt!==null){kt.flags&=32767,Vr=kt;return}if(j!==null)j.flags|=32768,j.subtreeFlags=0,j.deletions=null;else{Kr=6,Vr=null;return}}else if(kt=xd(kt,et,wn),kt!==null){Vr=kt;return}if(et=et.sibling,et!==null){Vr=et;return}Vr=et=j}while(et!==null);Kr===0&&(Kr=5)}function Ti(j,et,kt){var Bt=Rr,te=In.transition;try{In.transition=null,Rr=1,Cd(j,et,kt,Bt)}finally{In.transition=te,Rr=Bt}return null}function Cd(j,et,kt,Bt){do Vi();while(ci!==null);if(Pr&6)throw Error(g(327));kt=j.finishedWork;var te=j.finishedLanes;if(kt===null)return null;if(j.finishedWork=null,j.finishedLanes=0,kt===j.current)throw Error(g(177));j.callbackNode=null,j.callbackPriority=0;var fe=kt.lanes|kt.childLanes;if(cc(j,fe),j===tn&&(Vr=tn=null,an=0),!(kt.subtreeFlags&2064)&&!(kt.flags&2064)||$o||($o=!0,Kf(Na,function(){return Vi(),null})),fe=(kt.flags&15990)!==0,kt.subtreeFlags&15990||fe){fe=In.transition,In.transition=null;var Ie=Rr;Rr=1;var Ue=Pr;Pr|=4,hl.current=null,Sd(j,kt),Ff(kt,j),Kc(xs),ja=!!ws,xs=ws=null,j.current=kt,Td(kt),za(),Pr=Ue,Rr=Ie,In.transition=fe}else j.current=kt;if($o&&($o=!1,ci=j,Fo=te),fe=j.pendingLanes,fe===0&&(fi=null),ac(kt.stateNode),gn(j,Ur()),et!==null)for(Bt=j.onRecoverableError,kt=0;kt<et.length;kt++)te=et[kt],Bt(te.value,{componentStack:te.stack,digest:te.digest});if(No)throw No=!1,j=gl,gl=null,j;return Fo&1&&j.tag!==0&&Vi(),fe=j.pendingLanes,fe&1?j===_l?Ca++:(Ca=0,_l=j):Ca=0,oi(),null}function Vi(){if(ci!==null){var j=zl(Fo),et=In.transition,kt=Rr;try{if(In.transition=null,Rr=16>j?16:j,ci===null)var Bt=!1;else{if(j=ci,ci=null,Fo=0,Pr&6)throw Error(g(331));var te=Pr;for(Pr|=4,yr=j.current;yr!==null;){var fe=yr,Ie=fe.child;if(yr.flags&16){var Ue=fe.deletions;if(Ue!==null){for(var Ge=0;Ge<Ue.length;Ge++){var Je=Ue[Ge];for(yr=Je;yr!==null;){var sr=yr;switch(sr.tag){case 0:case 11:case 15:Ma(8,sr,fe)}var lr=sr.child;if(lr!==null)lr.return=sr,yr=lr;else for(;yr!==null;){sr=yr;var or=sr.sibling,mr=sr.return;if(Rf(sr),sr===Je){yr=null;break}if(or!==null){or.return=mr,yr=or;break}yr=mr}}}var vr=fe.alternate;if(vr!==null){var wr=vr.child;if(wr!==null){vr.child=null;do{var qr=wr.sibling;wr.sibling=null,wr=qr}while(wr!==null)}}yr=fe}}if(fe.subtreeFlags&2064&&Ie!==null)Ie.return=fe,yr=Ie;else t:for(;yr!==null;){if(fe=yr,fe.flags&2048)switch(fe.tag){case 0:case 11:case 15:Ma(9,fe,fe.return)}var Ye=fe.sibling;if(Ye!==null){Ye.return=fe.return,yr=Ye;break t}yr=fe.return}}var He=j.current;for(yr=He;yr!==null;){Ie=yr;var Ke=Ie.child;if(Ie.subtreeFlags&2064&&Ke!==null)Ke.return=Ie,yr=Ke;else t:for(Ie=He;yr!==null;){if(Ue=yr,Ue.flags&2048)try{switch(Ue.tag){case 0:case 11:case 15:Ro(9,Ue)}}catch(xr){Qr(Ue,Ue.return,xr)}if(Ue===Ie){yr=null;break t}var ur=Ue.sibling;if(ur!==null){ur.return=Ue.return,yr=ur;break t}yr=Ue.return}}if(Pr=te,oi(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot($a,j)}catch{}Bt=!0}return Bt}finally{Rr=kt,In.transition=et}}return!1}function qf(j,et,kt){et=Hi(kt,et),et=df(j,et,1),j=li(j,et,1),et=cn(),j!==null&&(ea(j,1,et),gn(j,et))}function Qr(j,et,kt){if(j.tag===3)qf(j,j,kt);else for(;et!==null;){if(et.tag===3){qf(et,j,kt);break}else if(et.tag===1){var Bt=et.stateNode;if(typeof et.type.getDerivedStateFromError=="function"||typeof Bt.componentDidCatch=="function"&&(fi===null||!fi.has(Bt))){j=Hi(kt,j),j=hf(et,j,1),et=li(et,j,1),j=cn(),et!==null&&(ea(et,1,j),gn(et,j));break}}et=et.return}}function Rd(j,et,kt){var Bt=j.pingCache;Bt!==null&&Bt.delete(et),et=cn(),j.pingedLanes|=j.suspendedLanes&kt,tn===j&&(an&kt)===kt&&(Kr===4||Kr===3&&(an&130023424)===an&&500>Ur()-ml?Si(j,0):pl|=kt),gn(j,et)}function Vf(j,et){et===0&&(j.mode&1?(et=Oa,Oa<<=1,!(Oa&130023424)&&(Oa=4194304)):et=1);var kt=cn();j=Wn(j,et),j!==null&&(ea(j,et,kt),gn(j,kt))}function Bd(j){var et=j.memoizedState,kt=0;et!==null&&(kt=et.retryLane),Vf(j,kt)}function zd(j,et){var kt=0;switch(j.tag){case 13:var Bt=j.stateNode,te=j.memoizedState;te!==null&&(kt=te.retryLane);break;case 19:Bt=j.stateNode;break;default:throw Error(g(314))}Bt!==null&&Bt.delete(et),Vf(j,kt)}var Yf;Yf=function(j,et,kt){if(j!==null)if(j.memoizedProps!==et.pendingProps||dn.current)pn=!0;else{if(!(j.lanes&kt)&&!(et.flags&128))return pn=!1,wd(j,et,kt);pn=!!(j.flags&131072)}else pn=!1,jr&&et.flags&1048576&&Mu(et,po,et.index);switch(et.lanes=0,et.tag){case 2:var Bt=et.type;Po(j,et),j=et.pendingProps;var te=Fi(et,on.current);Zi(et,kt),te=Ws(null,et,Bt,j,te,kt);var fe=Qs();return et.flags|=1,typeof te=="object"&&te!==null&&typeof te.render=="function"&&te.$$typeof===void 0?(et.tag=1,et.memoizedState=null,et.updateQueue=null,hn(Bt)?(fe=!0,fo(et)):fe=!1,et.memoizedState=te.state!==null&&te.state!==void 0?te.state:null,Ds(et),te.updater=Mo,et.stateNode=te,te._reactInternals=et,Js(et,Bt,j,kt),et=nl(null,et,Bt,!0,fe,kt)):(et.tag=0,jr&&fe&&As(et),fn(null,et,te,kt),et=et.child),et;case 16:Bt=et.elementType;t:{switch(Po(j,et),j=et.pendingProps,te=Bt._init,Bt=te(Bt._payload),et.type=Bt,te=et.tag=$d(Bt),j=Bn(Bt,j),te){case 0:et=rl(null,et,Bt,j,kt);break t;case 1:et=xf(null,et,Bt,j,kt);break t;case 11:et=_f(null,et,Bt,j,kt);break t;case 14:et=yf(null,et,Bt,Bn(Bt.type,j),kt);break t}throw Error(g(306,Bt,""))}return et;case 0:return Bt=et.type,te=et.pendingProps,te=et.elementType===Bt?te:Bn(Bt,te),rl(j,et,Bt,te,kt);case 1:return Bt=et.type,te=et.pendingProps,te=et.elementType===Bt?te:Bn(Bt,te),xf(j,et,Bt,te,kt);case 3:t:{if(Ef(et),j===null)throw Error(g(387));Bt=et.pendingProps,fe=et.memoizedState,te=fe.element,Fu(j,et),wo(et,Bt,null,kt);var Ie=et.memoizedState;if(Bt=Ie.element,fe.isDehydrated)if(fe={element:Bt,isDehydrated:!1,cache:Ie.cache,pendingSuspenseBoundaries:Ie.pendingSuspenseBoundaries,transitions:Ie.transitions},et.updateQueue.baseState=fe,et.memoizedState=fe,et.flags&256){te=Hi(Error(g(423)),et),et=kf(j,et,Bt,kt,te);break t}else if(Bt!==te){te=Hi(Error(g(424)),et),et=kf(j,et,Bt,kt,te);break t}else for(vn=ni(et.stateNode.containerInfo.firstChild),bn=et,jr=!0,Rn=null,kt=Nu(et,null,Bt,kt),et.child=kt;kt;)kt.flags=kt.flags&-3|4096,kt=kt.sibling;else{if(Li(),Bt===te){et=qn(j,et,kt);break t}fn(j,et,Bt,kt)}et=et.child}return et;case 5:return Lu(et),j===null&&Rs(et),Bt=et.type,te=et.pendingProps,fe=j!==null?j.memoizedProps:null,Ie=te.children,Es(Bt,te)?Ie=null:fe!==null&&Es(Bt,fe)&&(et.flags|=32),wf(j,et),fn(j,et,Ie,kt),et.child;case 6:return j===null&&Rs(et),null;case 13:return Sf(j,et,kt);case 4:return Ls(et,et.stateNode.containerInfo),Bt=et.pendingProps,j===null?et.child=Ui(et,null,Bt,kt):fn(j,et,Bt,kt),et.child;case 11:return Bt=et.type,te=et.pendingProps,te=et.elementType===Bt?te:Bn(Bt,te),_f(j,et,Bt,te,kt);case 7:return fn(j,et,et.pendingProps,kt),et.child;case 8:return fn(j,et,et.pendingProps.children,kt),et.child;case 12:return fn(j,et,et.pendingProps.children,kt),et.child;case 10:t:{if(Bt=et.type._context,te=et.pendingProps,fe=et.memoizedProps,Ie=te.value,zr(yo,Bt._currentValue),Bt._currentValue=Ie,fe!==null)if(Cn(fe.value,Ie)){if(fe.children===te.children&&!dn.current){et=qn(j,et,kt);break t}}else for(fe=et.child,fe!==null&&(fe.return=et);fe!==null;){var Ue=fe.dependencies;if(Ue!==null){Ie=fe.child;for(var Ge=Ue.firstContext;Ge!==null;){if(Ge.context===Bt){if(fe.tag===1){Ge=Qn(-1,kt&-kt),Ge.tag=2;var Je=fe.updateQueue;if(Je!==null){Je=Je.shared;var sr=Je.pending;sr===null?Ge.next=Ge:(Ge.next=sr.next,sr.next=Ge),Je.pending=Ge}}fe.lanes|=kt,Ge=fe.alternate,Ge!==null&&(Ge.lanes|=kt),Fs(fe.return,kt,et),Ue.lanes|=kt;break}Ge=Ge.next}}else if(fe.tag===10)Ie=fe.type===et.type?null:fe.child;else if(fe.tag===18){if(Ie=fe.return,Ie===null)throw Error(g(341));Ie.lanes|=kt,Ue=Ie.alternate,Ue!==null&&(Ue.lanes|=kt),Fs(Ie,kt,et),Ie=fe.sibling}else Ie=fe.child;if(Ie!==null)Ie.return=fe;else for(Ie=fe;Ie!==null;){if(Ie===et){Ie=null;break}if(fe=Ie.sibling,fe!==null){fe.return=Ie.return,Ie=fe;break}Ie=Ie.return}fe=Ie}fn(j,et,te.children,kt),et=et.child}return et;case 9:return te=et.type,Bt=et.pendingProps.children,Zi(et,kt),te=Sn(te),Bt=Bt(te),et.flags|=1,fn(j,et,Bt,kt),et.child;case 14:return Bt=et.type,te=Bn(Bt,et.pendingProps),te=Bn(Bt.type,te),yf(j,et,Bt,te,kt);case 15:return bf(j,et,et.type,et.pendingProps,kt);case 17:return Bt=et.type,te=et.pendingProps,te=et.elementType===Bt?te:Bn(Bt,te),Po(j,et),et.tag=1,hn(Bt)?(j=!0,fo(et)):j=!1,Zi(et,kt),ff(et,Bt,te),Js(et,Bt,te,kt),nl(null,et,Bt,!0,j,kt);case 19:return If(j,et,kt);case 22:return vf(j,et,kt)}throw Error(g(156,et.tag))};function Kf(j,et){return Xi(j,et)}function Nd(j,et,kt,Bt){this.tag=j,this.key=kt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Bt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(j,et,kt,Bt){return new Nd(j,et,kt,Bt)}function El(j){return j=j.prototype,!(!j||!j.isReactComponent)}function $d(j){if(typeof j=="function")return El(j)?1:0;if(j!=null){if(j=j.$$typeof,j===ie)return 11;if(j===le)return 14}return 2}function pi(j,et){var kt=j.alternate;return kt===null?(kt=Mn(j.tag,et,j.key,j.mode),kt.elementType=j.elementType,kt.type=j.type,kt.stateNode=j.stateNode,kt.alternate=j,j.alternate=kt):(kt.pendingProps=et,kt.type=j.type,kt.flags=0,kt.subtreeFlags=0,kt.deletions=null),kt.flags=j.flags&14680064,kt.childLanes=j.childLanes,kt.lanes=j.lanes,kt.child=j.child,kt.memoizedProps=j.memoizedProps,kt.memoizedState=j.memoizedState,kt.updateQueue=j.updateQueue,et=j.dependencies,kt.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext},kt.sibling=j.sibling,kt.index=j.index,kt.ref=j.ref,kt}function Uo(j,et,kt,Bt,te,fe){var Ie=2;if(Bt=j,typeof j=="function")El(j)&&(Ie=1);else if(typeof j=="string")Ie=5;else t:switch(j){case Yt:return Ii(kt.children,te,fe,et);case ne:Ie=8,te|=8;break;case ee:return j=Mn(12,kt,et,te|2),j.elementType=ee,j.lanes=fe,j;case _e:return j=Mn(13,kt,et,te),j.elementType=_e,j.lanes=fe,j;case ce:return j=Mn(19,kt,et,te),j.elementType=ce,j.lanes=fe,j;case Ae:return jo(kt,te,fe,et);default:if(typeof j=="object"&&j!==null)switch(j.$$typeof){case ae:Ie=10;break t;case Ut:Ie=9;break t;case ie:Ie=11;break t;case le:Ie=14;break t;case de:Ie=16,Bt=null;break t}throw Error(g(130,j==null?j:typeof j,""))}return et=Mn(Ie,kt,et,te),et.elementType=j,et.type=Bt,et.lanes=fe,et}function Ii(j,et,kt,Bt){return j=Mn(7,j,Bt,et),j.lanes=kt,j}function jo(j,et,kt,Bt){return j=Mn(22,j,Bt,et),j.elementType=Ae,j.lanes=kt,j.stateNode={isHidden:!1},j}function kl(j,et,kt){return j=Mn(6,j,null,et),j.lanes=kt,j}function Sl(j,et,kt){return et=Mn(4,j.children!==null?j.children:[],j.key,et),et.lanes=kt,et.stateNode={containerInfo:j.containerInfo,pendingChildren:null,implementation:j.implementation},et}function Fd(j,et,kt,Bt,te){this.tag=et,this.containerInfo=j,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xo(0),this.expirationTimes=Xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.identifierPrefix=Bt,this.onRecoverableError=te,this.mutableSourceEagerHydrationData=null}function Tl(j,et,kt,Bt,te,fe,Ie,Ue,Ge){return j=new Fd(j,et,kt,Ue,Ge),et===1?(et=1,fe===!0&&(et|=8)):et=0,fe=Mn(3,null,null,et),j.current=fe,fe.stateNode=j,fe.memoizedState={element:Bt,isDehydrated:kt,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(fe),j}function Od(j,et,kt){var Bt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:Bt==null?null:""+Bt,children:j,containerInfo:et,implementation:kt}}function Xf(j){if(!j)return ai;j=j._reactInternals;t:{if(Zr(j)!==j||j.tag!==1)throw Error(g(170));var et=j;do{switch(et.tag){case 3:et=et.stateNode.context;break t;case 1:if(hn(et.type)){et=et.stateNode.__reactInternalMemoizedMergedChildContext;break t}}et=et.return}while(et!==null);throw Error(g(171))}if(j.tag===1){var kt=j.type;if(hn(kt))return Su(j,kt,et)}return et}function Jf(j,et,kt,Bt,te,fe,Ie,Ue,Ge){return j=Tl(kt,Bt,!0,j,te,fe,Ie,Ue,Ge),j.context=Xf(null),kt=j.current,Bt=cn(),te=di(kt),fe=Qn(Bt,te),fe.callback=et??null,li(kt,fe,te),j.current.lanes=te,ea(j,te,Bt),gn(j,Bt),j}function Zo(j,et,kt,Bt){var te=et.current,fe=cn(),Ie=di(te);return kt=Xf(kt),et.context===null?et.context=kt:et.pendingContext=kt,et=Qn(fe,Ie),et.payload={element:j},Bt=Bt===void 0?null:Bt,Bt!==null&&(et.callback=Bt),j=li(te,et,Ie),j!==null&&($n(j,te,Ie,fe),vo(j,te,Ie)),Ie}function Go(j){if(j=j.current,!j.child)return null;switch(j.child.tag){case 5:return j.child.stateNode;default:return j.child.stateNode}}function tc(j,et){if(j=j.memoizedState,j!==null&&j.dehydrated!==null){var kt=j.retryLane;j.retryLane=kt!==0&&kt<et?kt:et}}function Il(j,et){tc(j,et),(j=j.alternate)&&tc(j,et)}var ec=typeof reportError=="function"?reportError:function(j){console.error(j)};function Ml(j){this._internalRoot=j}Ho.prototype.render=Ml.prototype.render=function(j){var et=this._internalRoot;if(et===null)throw Error(g(409));Zo(j,et,null,null)},Ho.prototype.unmount=Ml.prototype.unmount=function(){var j=this._internalRoot;if(j!==null){this._internalRoot=null;var et=j.containerInfo;ki(function(){Zo(null,j,null,null)}),et[jn]=null}};function Ho(j){this._internalRoot=j}Ho.prototype.unstable_scheduleHydration=function(j){if(j){var et=Fl();j={blockedOn:null,target:j,priority:et};for(var kt=0;kt<ti.length&&et!==0&&et<ti[kt].priority;kt++);ti.splice(kt,0,j),kt===0&&Ll(j)}};function Al(j){return!(!j||j.nodeType!==1&&j.nodeType!==9&&j.nodeType!==11)}function Wo(j){return!(!j||j.nodeType!==1&&j.nodeType!==9&&j.nodeType!==11&&(j.nodeType!==8||j.nodeValue!==" react-mount-point-unstable "))}function rc(){}function Dd(j,et,kt,Bt,te){if(te){if(typeof Bt=="function"){var fe=Bt;Bt=function(){var Je=Go(Ie);fe.call(Je)}}var Ie=Jf(et,Bt,j,0,null,!1,!1,"",rc);return j._reactRootContainer=Ie,j[jn]=Ie.current,ma(j.nodeType===8?j.parentNode:j),ki(),Ie}for(;te=j.lastChild;)j.removeChild(te);if(typeof Bt=="function"){var Ue=Bt;Bt=function(){var Je=Go(Ge);Ue.call(Je)}}var Ge=Tl(j,0,!1,null,null,!1,!1,"",rc);return j._reactRootContainer=Ge,j[jn]=Ge.current,ma(j.nodeType===8?j.parentNode:j),ki(function(){Zo(et,Ge,kt,Bt)}),Ge}function Qo(j,et,kt,Bt,te){var fe=kt._reactRootContainer;if(fe){var Ie=fe;if(typeof te=="function"){var Ue=te;te=function(){var Ge=Go(Ie);Ue.call(Ge)}}Zo(et,Ie,j,te)}else Ie=Dd(kt,et,j,te,Bt);return Go(Ie)}Nl=function(j){switch(j.tag){case 3:var et=j.stateNode;if(et.current.memoizedState.isDehydrated){var kt=ta(et.pendingLanes);kt!==0&&(Jo(et,kt|1),gn(et,Ur()),!(Pr&6)&&(qi=Ur()+500,oi()))}break;case 13:ki(function(){var Bt=Wn(j,1);if(Bt!==null){var te=cn();$n(Bt,j,1,te)}}),Il(j,1)}},ts=function(j){if(j.tag===13){var et=Wn(j,134217728);if(et!==null){var kt=cn();$n(et,j,134217728,kt)}Il(j,134217728)}},$l=function(j){if(j.tag===13){var et=di(j),kt=Wn(j,et);if(kt!==null){var Bt=cn();$n(kt,j,et,Bt)}Il(j,et)}},Fl=function(){return Rr},Ol=function(j,et){var kt=Rr;try{return Rr=j,et()}finally{Rr=kt}},br=function(j,et,kt){switch(et){case"input":if(Re(j,kt),et=kt.name,kt.type==="radio"&&et!=null){for(kt=j;kt.parentNode;)kt=kt.parentNode;for(kt=kt.querySelectorAll("input[name="+JSON.stringify(""+et)+'][type="radio"]'),et=0;et<kt.length;et++){var Bt=kt[et];if(Bt!==j&&Bt.form===j.form){var te=oo(Bt);if(!te)throw Error(g(90));Te(Bt),Re(Bt,te)}}}break;case"textarea":er(j,kt);break;case"select":et=kt.value,et!=null&&be(j,!!kt.multiple,et,!1)}},qe=vl,_r=ki;var Ld={usingClientEntryPoint:!1,Events:[ya,Ni,oo,$e,We,vl]},Ra={findFiberByHostInstance:gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ud={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(j){return j=Yi(j),j===null?null:j.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{$a=qo.inject(Ud),Fn=qo}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ld,reactDom_production_min.createPortal=function(j,et){var kt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Al(et))throw Error(g(200));return Od(j,et,null,kt)},reactDom_production_min.createRoot=function(j,et){if(!Al(j))throw Error(g(299));var kt=!1,Bt="",te=ec;return et!=null&&(et.unstable_strictMode===!0&&(kt=!0),et.identifierPrefix!==void 0&&(Bt=et.identifierPrefix),et.onRecoverableError!==void 0&&(te=et.onRecoverableError)),et=Tl(j,1,!1,null,null,kt,!1,Bt,te),j[jn]=et.current,ma(j.nodeType===8?j.parentNode:j),new Ml(et)},reactDom_production_min.findDOMNode=function(j){if(j==null)return null;if(j.nodeType===1)return j;var et=j._reactInternals;if(et===void 0)throw typeof j.render=="function"?Error(g(188)):(j=Object.keys(j).join(","),Error(g(268,j)));return j=Yi(et),j=j===null?null:j.stateNode,j},reactDom_production_min.flushSync=function(j){return ki(j)},reactDom_production_min.hydrate=function(j,et,kt){if(!Wo(et))throw Error(g(200));return Qo(null,j,et,!0,kt)},reactDom_production_min.hydrateRoot=function(j,et,kt){if(!Al(j))throw Error(g(405));var Bt=kt!=null&&kt.hydratedSources||null,te=!1,fe="",Ie=ec;if(kt!=null&&(kt.unstable_strictMode===!0&&(te=!0),kt.identifierPrefix!==void 0&&(fe=kt.identifierPrefix),kt.onRecoverableError!==void 0&&(Ie=kt.onRecoverableError)),et=Jf(et,null,j,1,kt??null,te,!1,fe,Ie),j[jn]=et.current,ma(j),Bt)for(j=0;j<Bt.length;j++)kt=Bt[j],te=kt._getVersion,te=te(kt._source),et.mutableSourceEagerHydrationData==null?et.mutableSourceEagerHydrationData=[kt,te]:et.mutableSourceEagerHydrationData.push(kt,te);return new Ho(et)},reactDom_production_min.render=function(j,et,kt){if(!Wo(et))throw Error(g(200));return Qo(null,j,et,!1,kt)},reactDom_production_min.unmountComponentAtNode=function(j){if(!Wo(j))throw Error(g(40));return j._reactRootContainer?(ki(function(){Qo(null,null,j,!1,function(){j._reactRootContainer=null,j[jn]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=vl,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(j,et,kt,Bt){if(!Wo(kt))throw Error(g(200));if(j==null||j._reactInternals===void 0)throw Error(g(38));return Qo(j,et,kt,!1,Bt)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(m){console.error(m)}}return d(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var d=requireReactDom();return client.createRoot=d.createRoot,client.hydrateRoot=d.hydrateRoot,client}var clientExports=requireClient(),reactExports=requireReact();const ct=getDefaultExportFromCjs$1(reactExports);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function getAugmentedNamespace(d){if(d.__esModule)return d;var m=d.default;if(typeof m=="function"){var g=function w(){return this instanceof w?Reflect.construct(m,arguments,this.constructor):m.apply(this,arguments)};g.prototype=m.prototype}else g={};return Object.defineProperty(g,"__esModule",{value:!0}),Object.keys(d).forEach(function(w){var D=Object.getOwnPropertyDescriptor(d,w);Object.defineProperty(g,w,D.get?D:{enumerable:!0,get:function(){return d[w]}})}),g}typeof self>"u"&&typeof commonjsGlobal=="object"&&(commonjsGlobal.self=commonjsGlobal);var global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0;m<64;++m)lookup[m]=d[m],revLookup[d.charCodeAt(m)]=m;revLookup[45]=62,revLookup[95]=63}function toByteArray(d){var m,g,w,D,H,q;inited||init();var it=d.length;if(it%4>0)throw new Error("Invalid string. Length must be a multiple of 4");H=d[it-2]==="="?2:d[it-1]==="="?1:0,q=new Arr(3*it/4-H),w=H>0?it-4:it;var ot=0;for(m=0,g=0;m<w;m+=4,g+=3)D=revLookup[d.charCodeAt(m)]<<18|revLookup[d.charCodeAt(m+1)]<<12|revLookup[d.charCodeAt(m+2)]<<6|revLookup[d.charCodeAt(m+3)],q[ot++]=D>>16&255,q[ot++]=D>>8&255,q[ot++]=255&D;return H===2?(D=revLookup[d.charCodeAt(m)]<<2|revLookup[d.charCodeAt(m+1)]>>4,q[ot++]=255&D):H===1&&(D=revLookup[d.charCodeAt(m)]<<10|revLookup[d.charCodeAt(m+1)]<<4|revLookup[d.charCodeAt(m+2)]>>2,q[ot++]=D>>8&255,q[ot++]=255&D),q}function tripletToBase64(d){return lookup[d>>18&63]+lookup[d>>12&63]+lookup[d>>6&63]+lookup[63&d]}function encodeChunk(d,m,g){for(var w,D=[],H=m;H<g;H+=3)w=(d[H]<<16)+(d[H+1]<<8)+d[H+2],D.push(tripletToBase64(w));return D.join("")}function fromByteArray(d){var m;inited||init();for(var g=d.length,w=g%3,D="",H=[],q=16383,it=0,ot=g-w;it<ot;it+=q)H.push(encodeChunk(d,it,it+q>ot?ot:it+q));return w===1?(m=d[g-1],D+=lookup[m>>2],D+=lookup[m<<4&63],D+="=="):w===2&&(m=(d[g-2]<<8)+d[g-1],D+=lookup[m>>10],D+=lookup[m>>4&63],D+=lookup[m<<2&63],D+="="),H.push(D),H.join("")}function read(d,m,g,w,D){var H,q,it=8*D-w-1,ot=(1<<it)-1,ft=ot>>1,ut=-7,dt=g?D-1:0,St=g?-1:1,Tt=d[m+dt];for(dt+=St,H=Tt&(1<<-ut)-1,Tt>>=-ut,ut+=it;ut>0;H=256*H+d[m+dt],dt+=St,ut-=8);for(q=H&(1<<-ut)-1,H>>=-ut,ut+=w;ut>0;q=256*q+d[m+dt],dt+=St,ut-=8);if(H===0)H=1-ft;else{if(H===ot)return q?NaN:1/0*(Tt?-1:1);q+=Math.pow(2,w),H-=ft}return(Tt?-1:1)*q*Math.pow(2,H-w)}function write(d,m,g,w,D,H){var q,it,ot,ft=8*H-D-1,ut=(1<<ft)-1,dt=ut>>1,St=D===23?Math.pow(2,-24)-Math.pow(2,-77):0,Tt=w?0:H-1,Rt=w?1:-1,zt=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(it=isNaN(m)?1:0,q=ut):(q=Math.floor(Math.log(m)/Math.LN2),m*(ot=Math.pow(2,-q))<1&&(q--,ot*=2),(m+=q+dt>=1?St/ot:St*Math.pow(2,1-dt))*ot>=2&&(q++,ot/=2),q+dt>=ut?(it=0,q=ut):q+dt>=1?(it=(m*ot-1)*Math.pow(2,D),q+=dt):(it=m*Math.pow(2,dt-1)*Math.pow(2,D),q=0));D>=8;d[g+Tt]=255&it,Tt+=Rt,it/=256,D-=8);for(q=q<<D|it,ft+=D;ft>0;d[g+Tt]=255&q,Tt+=Rt,q/=256,ft-=8);d[g+Tt-Rt]|=128*zt}var toString={}.toString,isArray=Array.isArray||function(d){return toString.call(d)=="[object Array]"},INSPECT_MAX_BYTES=50;function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(d,m){if(kMaxLength()<m)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(d=new Uint8Array(m)).__proto__=Buffer.prototype:(d===null&&(d=new Buffer(m)),d.length=m),d}function Buffer(d,m,g){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(d,m,g);if(typeof d=="number"){if(typeof m=="string")throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,d)}return from(this,d,m,g)}function from(d,m,g,w){if(typeof m=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&m instanceof ArrayBuffer?fromArrayBuffer(d,m,g,w):typeof m=="string"?fromString(d,m,g):fromObject(d,m)}function assertSize(d){if(typeof d!="number")throw new TypeError('"size" argument must be a number');if(d<0)throw new RangeError('"size" argument must not be negative')}function alloc(d,m,g,w){return assertSize(m),m<=0?createBuffer(d,m):g!==void 0?typeof w=="string"?createBuffer(d,m).fill(g,w):createBuffer(d,m).fill(g):createBuffer(d,m)}function allocUnsafe(d,m){if(assertSize(m),d=createBuffer(d,m<0?0:0|checked(m)),!Buffer.TYPED_ARRAY_SUPPORT)for(var g=0;g<m;++g)d[g]=0;return d}function fromString(d,m,g){if(typeof g=="string"&&g!==""||(g="utf8"),!Buffer.isEncoding(g))throw new TypeError('"encoding" must be a valid string encoding');var w=0|byteLength(m,g),D=(d=createBuffer(d,w)).write(m,g);return D!==w&&(d=d.slice(0,D)),d}function fromArrayLike(d,m){var g=m.length<0?0:0|checked(m.length);d=createBuffer(d,g);for(var w=0;w<g;w+=1)d[w]=255&m[w];return d}function fromArrayBuffer(d,m,g,w){if(m.byteLength,g<0||m.byteLength<g)throw new RangeError("'offset' is out of bounds");if(m.byteLength<g+(w||0))throw new RangeError("'length' is out of bounds");return m=g===void 0&&w===void 0?new Uint8Array(m):w===void 0?new Uint8Array(m,g):new Uint8Array(m,g,w),Buffer.TYPED_ARRAY_SUPPORT?(d=m).__proto__=Buffer.prototype:d=fromArrayLike(d,m),d}function fromObject(d,m){if(internalIsBuffer(m)){var g=0|checked(m.length);return(d=createBuffer(d,g)).length===0||m.copy(d,0,0,g),d}if(m){if(typeof ArrayBuffer<"u"&&m.buffer instanceof ArrayBuffer||"length"in m)return typeof m.length!="number"||isnan(m.length)?createBuffer(d,0):fromArrayLike(d,m);if(m.type==="Buffer"&&isArray(m.data))return fromArrayLike(d,m.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(d){if(d>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|d}function internalIsBuffer(d){return!(d==null||!d._isBuffer)}function byteLength(d,m){if(internalIsBuffer(d))return d.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(d)||d instanceof ArrayBuffer))return d.byteLength;typeof d!="string"&&(d=""+d);var g=d.length;if(g===0)return 0;for(var w=!1;;)switch(m){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":case void 0:return utf8ToBytes(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*g;case"hex":return g>>>1;case"base64":return base64ToBytes(d).length;default:if(w)return utf8ToBytes(d).length;m=(""+m).toLowerCase(),w=!0}}function slowToString(d,m,g){var w=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0)<=(m>>>=0))return"";for(d||(d="utf8");;)switch(d){case"hex":return hexSlice(this,m,g);case"utf8":case"utf-8":return utf8Slice(this,m,g);case"ascii":return asciiSlice(this,m,g);case"latin1":case"binary":return latin1Slice(this,m,g);case"base64":return base64Slice(this,m,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,m,g);default:if(w)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),w=!0}}function swap(d,m,g){var w=d[m];d[m]=d[g],d[g]=w}function bidirectionalIndexOf(d,m,g,w,D){if(d.length===0)return-1;if(typeof g=="string"?(w=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,isNaN(g)&&(g=D?0:d.length-1),g<0&&(g=d.length+g),g>=d.length){if(D)return-1;g=d.length-1}else if(g<0){if(!D)return-1;g=0}if(typeof m=="string"&&(m=Buffer.from(m,w)),internalIsBuffer(m))return m.length===0?-1:arrayIndexOf(d,m,g,w,D);if(typeof m=="number")return m&=255,Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?D?Uint8Array.prototype.indexOf.call(d,m,g):Uint8Array.prototype.lastIndexOf.call(d,m,g):arrayIndexOf(d,[m],g,w,D);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(d,m,g,w,D){var H,q=1,it=d.length,ot=m.length;if(w!==void 0&&((w=String(w).toLowerCase())==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(d.length<2||m.length<2)return-1;q=2,it/=2,ot/=2,g/=2}function ft(Tt,Rt){return q===1?Tt[Rt]:Tt.readUInt16BE(Rt*q)}if(D){var ut=-1;for(H=g;H<it;H++)if(ft(d,H)===ft(m,ut===-1?0:H-ut)){if(ut===-1&&(ut=H),H-ut+1===ot)return ut*q}else ut!==-1&&(H-=H-ut),ut=-1}else for(g+ot>it&&(g=it-ot),H=g;H>=0;H--){for(var dt=!0,St=0;St<ot;St++)if(ft(d,H+St)!==ft(m,St)){dt=!1;break}if(dt)return H}return-1}function hexWrite(d,m,g,w){g=Number(g)||0;var D=d.length-g;w?(w=Number(w))>D&&(w=D):w=D;var H=m.length;if(H%2!=0)throw new TypeError("Invalid hex string");w>H/2&&(w=H/2);for(var q=0;q<w;++q){var it=parseInt(m.substr(2*q,2),16);if(isNaN(it))return q;d[g+q]=it}return q}function utf8Write(d,m,g,w){return blitBuffer(utf8ToBytes(m,d.length-g),d,g,w)}function asciiWrite(d,m,g,w){return blitBuffer(asciiToBytes(m),d,g,w)}function latin1Write(d,m,g,w){return asciiWrite(d,m,g,w)}function base64Write(d,m,g,w){return blitBuffer(base64ToBytes(m),d,g,w)}function ucs2Write(d,m,g,w){return blitBuffer(utf16leToBytes(m,d.length-g),d,g,w)}function base64Slice(d,m,g){return m===0&&g===d.length?fromByteArray(d):fromByteArray(d.slice(m,g))}function utf8Slice(d,m,g){g=Math.min(d.length,g);for(var w=[],D=m;D<g;){var H,q,it,ot,ft=d[D],ut=null,dt=ft>239?4:ft>223?3:ft>191?2:1;if(D+dt<=g)switch(dt){case 1:ft<128&&(ut=ft);break;case 2:(192&(H=d[D+1]))==128&&(ot=(31&ft)<<6|63&H)>127&&(ut=ot);break;case 3:H=d[D+1],q=d[D+2],(192&H)==128&&(192&q)==128&&(ot=(15&ft)<<12|(63&H)<<6|63&q)>2047&&(ot<55296||ot>57343)&&(ut=ot);break;case 4:H=d[D+1],q=d[D+2],it=d[D+3],(192&H)==128&&(192&q)==128&&(192&it)==128&&(ot=(15&ft)<<18|(63&H)<<12|(63&q)<<6|63&it)>65535&&ot<1114112&&(ut=ot)}ut===null?(ut=65533,dt=1):ut>65535&&(ut-=65536,w.push(ut>>>10&1023|55296),ut=56320|1023&ut),w.push(ut),D+=dt}return decodeCodePointsArray(w)}Buffer.TYPED_ARRAY_SUPPORT=global$1.TYPED_ARRAY_SUPPORT===void 0||global$1.TYPED_ARRAY_SUPPORT,kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(d){return d.__proto__=Buffer.prototype,d},Buffer.from=function(d,m,g){return from(null,d,m,g)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Buffer[Symbol.species]),Buffer.alloc=function(d,m,g){return alloc(null,d,m,g)},Buffer.allocUnsafe=function(d){return allocUnsafe(null,d)},Buffer.allocUnsafeSlow=function(d){return allocUnsafe(null,d)},Buffer.isBuffer=isBuffer,Buffer.compare=function(d,m){if(!internalIsBuffer(d)||!internalIsBuffer(m))throw new TypeError("Arguments must be Buffers");if(d===m)return 0;for(var g=d.length,w=m.length,D=0,H=Math.min(g,w);D<H;++D)if(d[D]!==m[D]){g=d[D],w=m[D];break}return g<w?-1:w<g?1:0},Buffer.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(d,m){if(!isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return Buffer.alloc(0);var g;if(m===void 0)for(m=0,g=0;g<d.length;++g)m+=d[g].length;var w=Buffer.allocUnsafe(m),D=0;for(g=0;g<d.length;++g){var H=d[g];if(!internalIsBuffer(H))throw new TypeError('"list" argument must be an Array of Buffers');H.copy(w,D),D+=H.length}return w},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<d;m+=2)swap(this,m,m+1);return this},Buffer.prototype.swap32=function(){var d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<d;m+=4)swap(this,m,m+3),swap(this,m+1,m+2);return this},Buffer.prototype.swap64=function(){var d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<d;m+=8)swap(this,m,m+7),swap(this,m+1,m+6),swap(this,m+2,m+5),swap(this,m+3,m+4);return this},Buffer.prototype.toString=function(){var d=0|this.length;return d===0?"":arguments.length===0?utf8Slice(this,0,d):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(d){if(!internalIsBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d||Buffer.compare(this,d)===0},Buffer.prototype.inspect=function(){var d="",m=INSPECT_MAX_BYTES;return this.length>0&&(d=this.toString("hex",0,m).match(/.{2}/g).join(" "),this.length>m&&(d+=" ... ")),"<Buffer "+d+">"},Buffer.prototype.compare=function(d,m,g,w,D){if(!internalIsBuffer(d))throw new TypeError("Argument must be a Buffer");if(m===void 0&&(m=0),g===void 0&&(g=d?d.length:0),w===void 0&&(w=0),D===void 0&&(D=this.length),m<0||g>d.length||w<0||D>this.length)throw new RangeError("out of range index");if(w>=D&&m>=g)return 0;if(w>=D)return-1;if(m>=g)return 1;if(this===d)return 0;for(var H=(D>>>=0)-(w>>>=0),q=(g>>>=0)-(m>>>=0),it=Math.min(H,q),ot=this.slice(w,D),ft=d.slice(m,g),ut=0;ut<it;++ut)if(ot[ut]!==ft[ut]){H=ot[ut],q=ft[ut];break}return H<q?-1:q<H?1:0},Buffer.prototype.includes=function(d,m,g){return this.indexOf(d,m,g)!==-1},Buffer.prototype.indexOf=function(d,m,g){return bidirectionalIndexOf(this,d,m,g,!0)},Buffer.prototype.lastIndexOf=function(d,m,g){return bidirectionalIndexOf(this,d,m,g,!1)},Buffer.prototype.write=function(d,m,g,w){if(m===void 0)w="utf8",g=this.length,m=0;else if(g===void 0&&typeof m=="string")w=m,g=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m|=0,isFinite(g)?(g|=0,w===void 0&&(w="utf8")):(w=g,g=void 0)}var D=this.length-m;if((g===void 0||g>D)&&(g=D),d.length>0&&(g<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");w||(w="utf8");for(var H=!1;;)switch(w){case"hex":return hexWrite(this,d,m,g);case"utf8":case"utf-8":return utf8Write(this,d,m,g);case"ascii":return asciiWrite(this,d,m,g);case"latin1":case"binary":return latin1Write(this,d,m,g);case"base64":return base64Write(this,d,m,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,d,m,g);default:if(H)throw new TypeError("Unknown encoding: "+w);w=(""+w).toLowerCase(),H=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(d){var m=d.length;if(m<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,d);for(var g="",w=0;w<m;)g+=String.fromCharCode.apply(String,d.slice(w,w+=MAX_ARGUMENTS_LENGTH));return g}function asciiSlice(d,m,g){var w="";g=Math.min(d.length,g);for(var D=m;D<g;++D)w+=String.fromCharCode(127&d[D]);return w}function latin1Slice(d,m,g){var w="";g=Math.min(d.length,g);for(var D=m;D<g;++D)w+=String.fromCharCode(d[D]);return w}function hexSlice(d,m,g){var w=d.length;(!m||m<0)&&(m=0),(!g||g<0||g>w)&&(g=w);for(var D="",H=m;H<g;++H)D+=toHex(d[H]);return D}function utf16leSlice(d,m,g){for(var w=d.slice(m,g),D="",H=0;H<w.length;H+=2)D+=String.fromCharCode(w[H]+256*w[H+1]);return D}function checkOffset(d,m,g){if(d%1!=0||d<0)throw new RangeError("offset is not uint");if(d+m>g)throw new RangeError("Trying to access beyond buffer length")}function checkInt(d,m,g,w,D,H){if(!internalIsBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>D||m<H)throw new RangeError('"value" argument is out of bounds');if(g+w>d.length)throw new RangeError("Index out of range")}function objectWriteUInt16(d,m,g,w){m<0&&(m=65535+m+1);for(var D=0,H=Math.min(d.length-g,2);D<H;++D)d[g+D]=(m&255<<8*(w?D:1-D))>>>8*(w?D:1-D)}function objectWriteUInt32(d,m,g,w){m<0&&(m=4294967295+m+1);for(var D=0,H=Math.min(d.length-g,4);D<H;++D)d[g+D]=m>>>8*(w?D:3-D)&255}function checkIEEE754(d,m,g,w,D,H){if(g+w>d.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function writeFloat(d,m,g,w,D){return D||checkIEEE754(d,m,g,4),write(d,m,g,w,23,4),g+4}function writeDouble(d,m,g,w,D){return D||checkIEEE754(d,m,g,8),write(d,m,g,w,52,8),g+8}Buffer.prototype.slice=function(d,m){var g,w=this.length;if((d=~~d)<0?(d+=w)<0&&(d=0):d>w&&(d=w),(m=m===void 0?w:~~m)<0?(m+=w)<0&&(m=0):m>w&&(m=w),m<d&&(m=d),Buffer.TYPED_ARRAY_SUPPORT)(g=this.subarray(d,m)).__proto__=Buffer.prototype;else{var D=m-d;g=new Buffer(D,void 0);for(var H=0;H<D;++H)g[H]=this[H+d]}return g},Buffer.prototype.readUIntLE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d],D=1,H=0;++H<m&&(D*=256);)w+=this[d+H]*D;return w},Buffer.prototype.readUIntBE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d+--m],D=1;m>0&&(D*=256);)w+=this[d+--m]*D;return w},Buffer.prototype.readUInt8=function(d,m){return m||checkOffset(d,1,this.length),this[d]},Buffer.prototype.readUInt16LE=function(d,m){return m||checkOffset(d,2,this.length),this[d]|this[d+1]<<8},Buffer.prototype.readUInt16BE=function(d,m){return m||checkOffset(d,2,this.length),this[d]<<8|this[d+1]},Buffer.prototype.readUInt32LE=function(d,m){return m||checkOffset(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+16777216*this[d+3]},Buffer.prototype.readUInt32BE=function(d,m){return m||checkOffset(d,4,this.length),16777216*this[d]+(this[d+1]<<16|this[d+2]<<8|this[d+3])},Buffer.prototype.readIntLE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d],D=1,H=0;++H<m&&(D*=256);)w+=this[d+H]*D;return w>=(D*=128)&&(w-=Math.pow(2,8*m)),w},Buffer.prototype.readIntBE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=m,D=1,H=this[d+--w];w>0&&(D*=256);)H+=this[d+--w]*D;return H>=(D*=128)&&(H-=Math.pow(2,8*m)),H},Buffer.prototype.readInt8=function(d,m){return m||checkOffset(d,1,this.length),128&this[d]?-1*(255-this[d]+1):this[d]},Buffer.prototype.readInt16LE=function(d,m){m||checkOffset(d,2,this.length);var g=this[d]|this[d+1]<<8;return 32768&g?4294901760|g:g},Buffer.prototype.readInt16BE=function(d,m){m||checkOffset(d,2,this.length);var g=this[d+1]|this[d]<<8;return 32768&g?4294901760|g:g},Buffer.prototype.readInt32LE=function(d,m){return m||checkOffset(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},Buffer.prototype.readInt32BE=function(d,m){return m||checkOffset(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},Buffer.prototype.readFloatLE=function(d,m){return m||checkOffset(d,4,this.length),read(this,d,!0,23,4)},Buffer.prototype.readFloatBE=function(d,m){return m||checkOffset(d,4,this.length),read(this,d,!1,23,4)},Buffer.prototype.readDoubleLE=function(d,m){return m||checkOffset(d,8,this.length),read(this,d,!0,52,8)},Buffer.prototype.readDoubleBE=function(d,m){return m||checkOffset(d,8,this.length),read(this,d,!1,52,8)},Buffer.prototype.writeUIntLE=function(d,m,g,w){d=+d,m|=0,g|=0,w||checkInt(this,d,m,g,Math.pow(2,8*g)-1,0);var D=1,H=0;for(this[m]=255&d;++H<g&&(D*=256);)this[m+H]=d/D&255;return m+g},Buffer.prototype.writeUIntBE=function(d,m,g,w){d=+d,m|=0,g|=0,w||checkInt(this,d,m,g,Math.pow(2,8*g)-1,0);var D=g-1,H=1;for(this[m+D]=255&d;--D>=0&&(H*=256);)this[m+D]=d/H&255;return m+g},Buffer.prototype.writeUInt8=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),this[m]=255&d,m+1},Buffer.prototype.writeUInt16LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8):objectWriteUInt16(this,d,m,!0),m+2},Buffer.prototype.writeUInt16BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>8,this[m+1]=255&d):objectWriteUInt16(this,d,m,!1),m+2},Buffer.prototype.writeUInt32LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m+3]=d>>>24,this[m+2]=d>>>16,this[m+1]=d>>>8,this[m]=255&d):objectWriteUInt32(this,d,m,!0),m+4},Buffer.prototype.writeUInt32BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=255&d):objectWriteUInt32(this,d,m,!1),m+4},Buffer.prototype.writeIntLE=function(d,m,g,w){if(d=+d,m|=0,!w){var D=Math.pow(2,8*g-1);checkInt(this,d,m,g,D-1,-D)}var H=0,q=1,it=0;for(this[m]=255&d;++H<g&&(q*=256);)d<0&&it===0&&this[m+H-1]!==0&&(it=1),this[m+H]=(d/q|0)-it&255;return m+g},Buffer.prototype.writeIntBE=function(d,m,g,w){if(d=+d,m|=0,!w){var D=Math.pow(2,8*g-1);checkInt(this,d,m,g,D-1,-D)}var H=g-1,q=1,it=0;for(this[m+H]=255&d;--H>=0&&(q*=256);)d<0&&it===0&&this[m+H+1]!==0&&(it=1),this[m+H]=(d/q|0)-it&255;return m+g},Buffer.prototype.writeInt8=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),d<0&&(d=255+d+1),this[m]=255&d,m+1},Buffer.prototype.writeInt16LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8):objectWriteUInt16(this,d,m,!0),m+2},Buffer.prototype.writeInt16BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>8,this[m+1]=255&d):objectWriteUInt16(this,d,m,!1),m+2},Buffer.prototype.writeInt32LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8,this[m+2]=d>>>16,this[m+3]=d>>>24):objectWriteUInt32(this,d,m,!0),m+4},Buffer.prototype.writeInt32BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=255&d):objectWriteUInt32(this,d,m,!1),m+4},Buffer.prototype.writeFloatLE=function(d,m,g){return writeFloat(this,d,m,!0,g)},Buffer.prototype.writeFloatBE=function(d,m,g){return writeFloat(this,d,m,!1,g)},Buffer.prototype.writeDoubleLE=function(d,m,g){return writeDouble(this,d,m,!0,g)},Buffer.prototype.writeDoubleBE=function(d,m,g){return writeDouble(this,d,m,!1,g)},Buffer.prototype.copy=function(d,m,g,w){if(g||(g=0),w||w===0||(w=this.length),m>=d.length&&(m=d.length),m||(m=0),w>0&&w<g&&(w=g),w===g||d.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("sourceStart out of bounds");if(w<0)throw new RangeError("sourceEnd out of bounds");w>this.length&&(w=this.length),d.length-m<w-g&&(w=d.length-m+g);var D,H=w-g;if(this===d&&g<m&&m<w)for(D=H-1;D>=0;--D)d[D+m]=this[D+g];else if(H<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(D=0;D<H;++D)d[D+m]=this[D+g];else Uint8Array.prototype.set.call(d,this.subarray(g,g+H),m);return H},Buffer.prototype.fill=function(d,m,g,w){if(typeof d=="string"){if(typeof m=="string"?(w=m,m=0,g=this.length):typeof g=="string"&&(w=g,g=this.length),d.length===1){var D=d.charCodeAt(0);D<256&&(d=D)}if(w!==void 0&&typeof w!="string")throw new TypeError("encoding must be a string");if(typeof w=="string"&&!Buffer.isEncoding(w))throw new TypeError("Unknown encoding: "+w)}else typeof d=="number"&&(d&=255);if(m<0||this.length<m||this.length<g)throw new RangeError("Out of range index");if(g<=m)return this;var H;if(m>>>=0,g=g===void 0?this.length:g>>>0,d||(d=0),typeof d=="number")for(H=m;H<g;++H)this[H]=d;else{var q=internalIsBuffer(d)?d:utf8ToBytes(new Buffer(d,w).toString()),it=q.length;for(H=0;H<g-m;++H)this[H+m]=q[H%it]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g,HeaderTypes;function base64clean(d){if((d=stringtrim(d).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;d.length%4!=0;)d+="=";return d}function stringtrim(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function toHex(d){return d<16?"0"+d.toString(16):d.toString(16)}function utf8ToBytes(d,m){var g;m=m||1/0;for(var w=d.length,D=null,H=[],q=0;q<w;++q){if((g=d.charCodeAt(q))>55295&&g<57344){if(!D){if(g>56319){(m-=3)>-1&&H.push(239,191,189);continue}if(q+1===w){(m-=3)>-1&&H.push(239,191,189);continue}D=g;continue}if(g<56320){(m-=3)>-1&&H.push(239,191,189),D=g;continue}g=65536+(D-55296<<10|g-56320)}else D&&(m-=3)>-1&&H.push(239,191,189);if(D=null,g<128){if((m-=1)<0)break;H.push(g)}else if(g<2048){if((m-=2)<0)break;H.push(g>>6|192,63&g|128)}else if(g<65536){if((m-=3)<0)break;H.push(g>>12|224,g>>6&63|128,63&g|128)}else{if(!(g<1114112))throw new Error("Invalid code point");if((m-=4)<0)break;H.push(g>>18|240,g>>12&63|128,g>>6&63|128,63&g|128)}}return H}function asciiToBytes(d){for(var m=[],g=0;g<d.length;++g)m.push(255&d.charCodeAt(g));return m}function utf16leToBytes(d,m){for(var g,w,D,H=[],q=0;q<d.length&&!((m-=2)<0);++q)w=(g=d.charCodeAt(q))>>8,D=g%256,H.push(D),H.push(w);return H}function base64ToBytes(d){return toByteArray(base64clean(d))}function blitBuffer(d,m,g,w){for(var D=0;D<w&&!(D+g>=m.length||D>=d.length);++D)m[D+g]=d[D];return D}function isnan(d){return d!=d}function isBuffer(d){return d!=null&&(!!d._isBuffer||isFastBuffer(d)||isSlowBuffer(d))}function isFastBuffer(d){return!!d.constructor&&typeof d.constructor.isBuffer=="function"&&d.constructor.isBuffer(d)}function isSlowBuffer(d){return typeof d.readFloatLE=="function"&&typeof d.slice=="function"&&isFastBuffer(d.slice(0,0))}(function(d){d[d.BITMAP_INFO_HEADER=40]="BITMAP_INFO_HEADER",d[d.BITMAP_V2_INFO_HEADER=52]="BITMAP_V2_INFO_HEADER",d[d.BITMAP_V3_INFO_HEADER=56]="BITMAP_V3_INFO_HEADER",d[d.BITMAP_V4_HEADER=108]="BITMAP_V4_HEADER",d[d.BITMAP_V5_HEADER=124]="BITMAP_V5_HEADER"})(HeaderTypes||(HeaderTypes={}));var HeaderTypes$1=HeaderTypes,BmpCompression;function maskColor(d,m,g,w){const D=1+~d&d,H=1+~m&m,q=1+~g&g,it=1+~w&w,ot=d/D+1,ft=m/H+1,ut=g/q+1,dt=w/it+1;return{shiftRed:St=>(St&d)/D*256/ot,shiftGreen:St=>(St&m)/H*256/ft,shiftBlue:St=>(St&g)/q*256/ut,shiftAlpha:w!==0?St=>(St&w)/it*256/dt:()=>255}}(function(d){d[d.NONE=0]="NONE",d[d.BI_RLE8=1]="BI_RLE8",d[d.BI_RLE4=2]="BI_RLE4",d[d.BI_BIT_FIELDS=3]="BI_BIT_FIELDS",d[d.BI_ALPHA_BIT_FIELDS=6]="BI_ALPHA_BIT_FIELDS"})(BmpCompression||(BmpCompression={}));class BmpDecoder{constructor(m,{toRGBA:g}={toRGBA:!1}){Er(this,"flag");Er(this,"fileSize");Er(this,"reserved1");Er(this,"reserved2");Er(this,"offset");Er(this,"headerSize");Er(this,"width");Er(this,"height");Er(this,"planes");Er(this,"bitPP");Er(this,"compression");Er(this,"rawSize");Er(this,"hr");Er(this,"vr");Er(this,"colors");Er(this,"importantColors");Er(this,"palette");Er(this,"data");Er(this,"maskRed");Er(this,"maskGreen");Er(this,"maskBlue");Er(this,"maskAlpha");Er(this,"toRGBA");Er(this,"pos");Er(this,"bottomUp");Er(this,"buffer");Er(this,"locRed");Er(this,"locGreen");Er(this,"locBlue");Er(this,"locAlpha");Er(this,"shiftRed");Er(this,"shiftGreen");Er(this,"shiftBlue");Er(this,"shiftAlpha");if(this.buffer=m,this.toRGBA=!!g,this.pos=0,this.bottomUp=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!=="BM")throw new Error("Invalid BMP File");this.locRed=this.toRGBA?0:3,this.locGreen=this.toRGBA?1:2,this.locBlue=this.toRGBA?2:1,this.locAlpha=this.toRGBA?3:0,this.parseHeader(),this.parseRGBA()}parseHeader(){if(this.fileSize=this.readUInt32LE(),this.reserved1=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.reserved2=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.offset=this.readUInt32LE(),this.headerSize=this.readUInt32LE(),!(this.headerSize in HeaderTypes$1))throw new Error(`Unsupported BMP header size ${this.headerSize}`);if(this.width=this.readUInt32LE(),this.height=this.readUInt32LE(),this.height=this.height>2147483647?this.height-4294967296:this.height,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compression=this.readUInt32LE(),this.rawSize=this.readUInt32LE(),this.hr=this.readUInt32LE(),this.vr=this.readUInt32LE(),this.colors=this.readUInt32LE(),this.importantColors=this.readUInt32LE(),this.bitPP===32?(this.maskAlpha=0,this.maskRed=16711680,this.maskGreen=65280,this.maskBlue=255):this.bitPP===16&&(this.maskAlpha=0,this.maskRed=31744,this.maskGreen=992,this.maskBlue=31),(this.headerSize>HeaderTypes$1.BITMAP_INFO_HEADER||this.compression===BmpCompression.BI_BIT_FIELDS||this.compression===BmpCompression.BI_ALPHA_BIT_FIELDS)&&(this.maskRed=this.readUInt32LE(),this.maskGreen=this.readUInt32LE(),this.maskBlue=this.readUInt32LE()),(this.headerSize>HeaderTypes$1.BITMAP_V2_INFO_HEADER||this.compression===BmpCompression.BI_ALPHA_BIT_FIELDS)&&(this.maskAlpha=this.readUInt32LE()),this.headerSize>HeaderTypes$1.BITMAP_V3_INFO_HEADER&&(this.pos+=HeaderTypes$1.BITMAP_V4_HEADER-HeaderTypes$1.BITMAP_V3_INFO_HEADER),this.headerSize>HeaderTypes$1.BITMAP_V4_HEADER&&(this.pos+=HeaderTypes$1.BITMAP_V5_HEADER-HeaderTypes$1.BITMAP_V4_HEADER),this.bitPP<=8||this.colors>0){const g=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(g);for(let w=0;w<g;w++){const D=this.buffer.readUInt8(this.pos++),H=this.buffer.readUInt8(this.pos++),q=this.buffer.readUInt8(this.pos++),it=this.buffer.readUInt8(this.pos++);this.palette[w]={red:q,green:H,blue:D,quad:it}}}this.height<0&&(this.height*=-1,this.bottomUp=!1);const m=maskColor(this.maskRed,this.maskGreen,this.maskBlue,this.maskAlpha);this.shiftRed=m.shiftRed,this.shiftGreen=m.shiftGreen,this.shiftBlue=m.shiftBlue,this.shiftAlpha=m.shiftAlpha}parseRGBA(){switch(this.data=Buffer.alloc(this.width*this.height*4),this.bitPP){case 1:this.bit1();break;case 4:this.bit4();break;case 8:this.bit8();break;case 16:this.bit16();break;case 24:this.bit24();break;default:this.bit32()}}bit1(){const m=Math.ceil(this.width/8),g=m%4,w=g!==0?4-g:0;this.scanImage(w,m,(D,H)=>{const q=this.buffer.readUInt8(this.pos++),it=H*this.width*4+8*D*4;for(let ot=0;ot<8&&8*D+ot<this.width;ot++){const ft=this.palette[q>>7-ot&1];this.data[it+ot*this.locAlpha]=0,this.data[it+4*ot+this.locBlue]=ft.blue,this.data[it+4*ot+this.locGreen]=ft.green,this.data[it+4*ot+this.locRed]=ft.red}})}bit4(){if(this.compression===BmpCompression.BI_RLE4){this.data.fill(0);let m=!1,g=this.bottomUp?this.height-1:0,w=0;for(;w<this.data.length;){const D=this.buffer.readUInt8(this.pos++),H=this.buffer.readUInt8(this.pos++);if(D===0){if(H===0){g+=this.bottomUp?-1:1,w=g*this.width*4,m=!1;continue}if(H===1)break;if(H===2){const q=this.buffer.readUInt8(this.pos++),it=this.buffer.readUInt8(this.pos++);g+=this.bottomUp?-it:it,w+=it*this.width*4+4*q}else{let q=this.buffer.readUInt8(this.pos++);for(let it=0;it<H;it++)w=this.setPixelData(w,m?15&q:(240&q)>>4),1&it&&it+1<H&&(q=this.buffer.readUInt8(this.pos++)),m=!m;(H+1>>1&1)==1&&this.pos++}}else for(let q=0;q<D;q++)w=this.setPixelData(w,m?15&H:(240&H)>>4),m=!m}}else{const m=Math.ceil(this.width/2),g=m%4,w=g!==0?4-g:0;this.scanImage(w,m,(D,H)=>{const q=this.buffer.readUInt8(this.pos++),it=H*this.width*4+2*D*4,ot=q>>4;let ft=this.palette[ot];if(this.data[it]=0,this.data[it+1]=ft.blue,this.data[it+2]=ft.green,this.data[it+3]=ft.red,2*D+1>=this.width)return!1;const ut=15&q;ft=this.palette[ut],this.data[it+4]=0,this.data[it+4+1]=ft.blue,this.data[it+4+2]=ft.green,this.data[it+4+3]=ft.red})}}bit8(){if(this.compression===BmpCompression.BI_RLE8){this.data.fill(0);let m=this.bottomUp?this.height-1:0,g=0;for(;g<this.data.length;){const w=this.buffer.readUInt8(this.pos++),D=this.buffer.readUInt8(this.pos++);if(w===0){if(D===0){m+=this.bottomUp?-1:1,g=m*this.width*4;continue}if(D===1)break;if(D===2){const H=this.buffer.readUInt8(this.pos++),q=this.buffer.readUInt8(this.pos++);m+=this.bottomUp?-q:q,g+=q*this.width*4+4*H}else{for(let H=0;H<D;H++){const q=this.buffer.readUInt8(this.pos++);g=this.setPixelData(g,q)}!0&D&&this.pos++}}else for(let H=0;H<w;H++)g=this.setPixelData(g,D)}}else{const m=this.width%4,g=m!==0?4-m:0;this.scanImage(g,this.width,(w,D)=>{const H=this.buffer.readUInt8(this.pos++),q=D*this.width*4+4*w;if(H<this.palette.length){const it=this.palette[H];this.data[q]=0,this.data[q+1]=it.blue,this.data[q+2]=it.green,this.data[q+3]=it.red}else this.data[q]=0,this.data[q+1]=255,this.data[q+2]=255,this.data[q+3]=255})}}bit16(){const m=this.width%2*2;this.scanImage(m,this.width,(g,w)=>{const D=w*this.width*4+4*g,H=this.buffer.readUInt16LE(this.pos);this.pos+=2,this.data[D+this.locRed]=this.shiftRed(H),this.data[D+this.locGreen]=this.shiftGreen(H),this.data[D+this.locBlue]=this.shiftBlue(H),this.data[D+this.locAlpha]=this.shiftAlpha(H)})}bit24(){const m=this.width%4;this.scanImage(m,this.width,(g,w)=>{const D=w*this.width*4+4*g,H=this.buffer.readUInt8(this.pos++),q=this.buffer.readUInt8(this.pos++),it=this.buffer.readUInt8(this.pos++);this.data[D+this.locRed]=it,this.data[D+this.locGreen]=q,this.data[D+this.locBlue]=H,this.data[D+this.locAlpha]=0})}bit32(){this.scanImage(0,this.width,(m,g)=>{const w=g*this.width*4+4*m,D=this.readUInt32LE();this.data[w+this.locRed]=this.shiftRed(D),this.data[w+this.locGreen]=this.shiftGreen(D),this.data[w+this.locBlue]=this.shiftBlue(D),this.data[w+this.locAlpha]=this.shiftAlpha(D)})}scanImage(m=0,g=this.width,w){for(let D=this.height-1;D>=0;D--){const H=this.bottomUp?D:this.height-1-D;for(let q=0;q<g;q++)if(w.call(this,q,H)===!1)return;this.pos+=m}}readUInt32LE(){const m=this.buffer.readUInt32LE(this.pos);return this.pos+=4,m}setPixelData(m,g){const{blue:w,green:D,red:H}=this.palette[g];return this.data[m+this.locAlpha]=0,this.data[m+1+this.locBlue]=w,this.data[m+2+this.locGreen]=D,this.data[m+3+this.locRed]=H,m+4}}function createInteger(d){return d.reduce((m,g)=>m<<1|g,0)}function createColor(d){return d.quad<<24|d.red<<16|d.green<<8|d.blue}class BmpEncoder{constructor(m){Er(this,"fileSize");Er(this,"reserved1");Er(this,"reserved2");Er(this,"offset");Er(this,"width");Er(this,"flag");Er(this,"height");Er(this,"planes");Er(this,"bitPP");Er(this,"compress");Er(this,"hr");Er(this,"vr");Er(this,"colors");Er(this,"importantColors");Er(this,"rawSize");Er(this,"headerSize");Er(this,"data");Er(this,"palette");Er(this,"extraBytes");Er(this,"buffer");Er(this,"bytesInColor");Er(this,"pos");switch(this.buffer=m.data,this.width=m.width,this.height=m.height,this.headerSize=HeaderTypes$1.BITMAP_INFO_HEADER,this.flag="BM",this.bitPP=m.bitPP||24,this.offset=54,this.reserved1=m.reserved1||0,this.reserved2=m.reserved2||0,this.planes=1,this.compress=0,this.hr=m.hr||0,this.vr=m.vr||0,this.importantColors=m.importantColors||0,this.colors=Math.min(2**(this.bitPP-1||1),m.colors||1/0),this.palette=m.palette||[],this.colors&&this.bitPP<16?this.offset+=4*this.colors:this.colors=0,this.bitPP){case 32:this.bytesInColor=4;break;case 16:this.bytesInColor=2;break;case 8:this.bytesInColor=1;break;case 4:this.bytesInColor=.5;break;case 1:this.bytesInColor=1/8;break;default:this.bytesInColor=3,this.bitPP=24}const g=this.width*this.bitPP/32,w=Math.ceil(g);this.extraBytes=4*(w-g),this.rawSize=this.height*w*4+2,this.fileSize=this.rawSize+this.offset,this.data=Buffer.alloc(this.fileSize,1),this.pos=0,this.encode()}encode(){switch(this.pos=0,this.writeHeader(),this.bitPP){case 32:this.bit32();break;case 16:this.bit16();break;case 8:this.bit8();break;case 4:this.bit4();break;case 1:this.bit1();break;default:this.bit24()}}writeHeader(){this.data.write(this.flag,this.pos,2),this.pos+=2,this.writeUInt32LE(this.fileSize),this.writeUInt32LE(this.reserved1<<16|this.reserved2),this.writeUInt32LE(this.offset),this.writeUInt32LE(this.headerSize),this.writeUInt32LE(this.width),this.writeUInt32LE(this.height),this.data.writeUInt16LE(this.planes,this.pos),this.pos+=2,this.data.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,this.writeUInt32LE(this.compress),this.writeUInt32LE(this.rawSize),this.writeUInt32LE(this.hr),this.writeUInt32LE(this.vr),this.writeUInt32LE(this.colors),this.writeUInt32LE(this.importantColors)}bit1(){this.palette.length&&this.colors===2?this.initColors(1):(this.writeUInt32LE(16777215),this.writeUInt32LE(0)),this.pos+=1;let m=[];this.writeImage((g,w,D)=>{let H=w;H++;const q=this.buffer[H++],it=this.buffer[H++],ot=.2126*this.buffer[H++]+.7152*it+.0722*q;return m.push(ot>127?0:1),(D+1)%8==0?(this.data[g-1]=createInteger(m),m=[]):D===this.width-1&&m.length>0&&(this.data[g-1]=createInteger(m)<<4,m=[]),H})}bit4(){const m=this.initColors(4);let g=[];this.writeImage((w,D,H)=>{let q=D;const it=createColor({quad:this.buffer[q++],blue:this.buffer[q++],green:this.buffer[q++],red:this.buffer[q++]}),ot=m.findIndex(ft=>ft===it);return ot!==-1?g.push(ot):g.push(0),(H+1)%2==0&&(this.data[w]=g[0]<<4|g[1],g=[]),q})}bit8(){const m=this.initColors(8);this.writeImage((g,w)=>{let D=w;const H=createColor({quad:this.buffer[D++],blue:this.buffer[D++],green:this.buffer[D++],red:this.buffer[D++]}),q=m.findIndex(it=>it===H);return this.data[g]=q!==-1?q:0,D})}bit16(){this.writeImage((m,g)=>{let w=g+1;const D=this.buffer[w++]/8,H=this.buffer[w++]/8,q=this.buffer[w++]/8<<10|H<<5|D;return this.data[m]=255&q,this.data[m+1]=(65280&q)>>8,w})}bit24(){this.writeImage((m,g)=>{let w=g+1;return this.data[m]=this.buffer[w++],this.data[m+1]=this.buffer[w++],this.data[m+2]=this.buffer[w++],w})}bit32(){this.writeImage((m,g)=>{let w=g;return this.data[m+3]=this.buffer[w++],this.data[m]=this.buffer[w++],this.data[m+1]=this.buffer[w++],this.data[m+2]=this.buffer[w++],w})}writeImage(m){const g=this.extraBytes+this.width*this.bytesInColor;let w=0;for(let D=0;D<this.height;D++)for(let H=0;H<this.width;H++){const q=Math.floor(this.pos+(this.height-1-D)*g+H*this.bytesInColor);w=m.call(this,q,w,H,D)}}initColors(m){const g=[];if(!this.palette.length)throw new Error(`To encode ${m}-bit BMPs a pallette is needed. Please choose up to ${this.colors} colors. Colors must be 32-bit integers.`);for(let w=0;w<this.colors;w++){const D=createColor(this.palette[w]);this.writeUInt32LE(D),g.push(D)}return g}writeUInt32LE(m){this.data.writeUInt32LE(m,this.pos),this.pos+=4}}function decode$2(d,m){return new BmpDecoder(d,m)}function encode$2(d){return new BmpEncoder(d)}function _typeof(d){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},_typeof(d)}var trimLeft=/^\s+/,trimRight=/\s+$/;function tinycolor(d,m){if(m=m||{},(d=d||"")instanceof tinycolor)return d;if(!(this instanceof tinycolor))return new tinycolor(d,m);var g=inputToRGB(d);this._originalInput=d,this._r=g.r,this._g=g.g,this._b=g.b,this._a=g.a,this._roundA=Math.round(100*this._a)/100,this._format=m.format||g.format,this._gradientType=m.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=g.ok}function inputToRGB(d){var m={r:0,g:0,b:0},g=1,w=null,D=null,H=null,q=!1,it=!1;return typeof d=="string"&&(d=stringInputToObject(d)),_typeof(d)=="object"&&(isValidCSSUnit(d.r)&&isValidCSSUnit(d.g)&&isValidCSSUnit(d.b)?(m=rgbToRgb(d.r,d.g,d.b),q=!0,it=String(d.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(d.h)&&isValidCSSUnit(d.s)&&isValidCSSUnit(d.v)?(w=convertToPercentage(d.s),D=convertToPercentage(d.v),m=hsvToRgb(d.h,w,D),q=!0,it="hsv"):isValidCSSUnit(d.h)&&isValidCSSUnit(d.s)&&isValidCSSUnit(d.l)&&(w=convertToPercentage(d.s),H=convertToPercentage(d.l),m=hslToRgb(d.h,w,H),q=!0,it="hsl"),d.hasOwnProperty("a")&&(g=d.a)),g=boundAlpha(g),{ok:q,format:d.format||it,r:Math.min(255,Math.max(m.r,0)),g:Math.min(255,Math.max(m.g,0)),b:Math.min(255,Math.max(m.b,0)),a:g}}function rgbToRgb(d,m,g){return{r:255*bound01(d,255),g:255*bound01(m,255),b:255*bound01(g,255)}}function rgbToHsl(d,m,g){d=bound01(d,255),m=bound01(m,255),g=bound01(g,255);var w,D,H=Math.max(d,m,g),q=Math.min(d,m,g),it=(H+q)/2;if(H==q)w=D=0;else{var ot=H-q;switch(D=it>.5?ot/(2-H-q):ot/(H+q),H){case d:w=(m-g)/ot+(m<g?6:0);break;case m:w=(g-d)/ot+2;break;case g:w=(d-m)/ot+4}w/=6}return{h:w,s:D,l:it}}function hslToRgb(d,m,g){var w,D,H;function q(ft,ut,dt){return dt<0&&(dt+=1),dt>1&&(dt-=1),dt<1/6?ft+6*(ut-ft)*dt:dt<.5?ut:dt<2/3?ft+(ut-ft)*(2/3-dt)*6:ft}if(d=bound01(d,360),m=bound01(m,100),g=bound01(g,100),m===0)w=D=H=g;else{var it=g<.5?g*(1+m):g+m-g*m,ot=2*g-it;w=q(ot,it,d+1/3),D=q(ot,it,d),H=q(ot,it,d-1/3)}return{r:255*w,g:255*D,b:255*H}}function rgbToHsv(d,m,g){d=bound01(d,255),m=bound01(m,255),g=bound01(g,255);var w,D,H=Math.max(d,m,g),q=Math.min(d,m,g),it=H,ot=H-q;if(D=H===0?0:ot/H,H==q)w=0;else{switch(H){case d:w=(m-g)/ot+(m<g?6:0);break;case m:w=(g-d)/ot+2;break;case g:w=(d-m)/ot+4}w/=6}return{h:w,s:D,v:it}}function hsvToRgb(d,m,g){d=6*bound01(d,360),m=bound01(m,100),g=bound01(g,100);var w=Math.floor(d),D=d-w,H=g*(1-m),q=g*(1-D*m),it=g*(1-(1-D)*m),ot=w%6;return{r:255*[g,q,H,H,it,g][ot],g:255*[it,g,g,q,H,H][ot],b:255*[H,H,it,g,g,q][ot]}}function rgbToHex(d,m,g,w){var D=[pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16))];return w&&D[0].charAt(0)==D[0].charAt(1)&&D[1].charAt(0)==D[1].charAt(1)&&D[2].charAt(0)==D[2].charAt(1)?D[0].charAt(0)+D[1].charAt(0)+D[2].charAt(0):D.join("")}function rgbaToHex(d,m,g,w,D){var H=[pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16)),pad2(convertDecimalToHex(w))];return D&&H[0].charAt(0)==H[0].charAt(1)&&H[1].charAt(0)==H[1].charAt(1)&&H[2].charAt(0)==H[2].charAt(1)&&H[3].charAt(0)==H[3].charAt(1)?H[0].charAt(0)+H[1].charAt(0)+H[2].charAt(0)+H[3].charAt(0):H.join("")}function rgbaToArgbHex(d,m,g,w){return[pad2(convertDecimalToHex(w)),pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16))].join("")}function _desaturate(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.s-=m/100,g.s=clamp01(g.s),tinycolor(g)}function _saturate(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.s+=m/100,g.s=clamp01(g.s),tinycolor(g)}function _greyscale(d){return tinycolor(d).desaturate(100)}function _lighten(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.l+=m/100,g.l=clamp01(g.l),tinycolor(g)}function _brighten(d,m){m=m===0?0:m||10;var g=tinycolor(d).toRgb();return g.r=Math.max(0,Math.min(255,g.r-Math.round(-m/100*255))),g.g=Math.max(0,Math.min(255,g.g-Math.round(-m/100*255))),g.b=Math.max(0,Math.min(255,g.b-Math.round(-m/100*255))),tinycolor(g)}function _darken(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.l-=m/100,g.l=clamp01(g.l),tinycolor(g)}function _spin(d,m){var g=tinycolor(d).toHsl(),w=(g.h+m)%360;return g.h=w<0?360+w:w,tinycolor(g)}function _complement(d){var m=tinycolor(d).toHsl();return m.h=(m.h+180)%360,tinycolor(m)}function polyad(d,m){if(isNaN(m)||m<=0)throw new Error("Argument to polyad must be a positive number");for(var g=tinycolor(d).toHsl(),w=[tinycolor(d)],D=360/m,H=1;H<m;H++)w.push(tinycolor({h:(g.h+H*D)%360,s:g.s,l:g.l}));return w}function _splitcomplement(d){var m=tinycolor(d).toHsl(),g=m.h;return[tinycolor(d),tinycolor({h:(g+72)%360,s:m.s,l:m.l}),tinycolor({h:(g+216)%360,s:m.s,l:m.l})]}function _analogous(d,m,g){m=m||6,g=g||30;var w=tinycolor(d).toHsl(),D=360/g,H=[tinycolor(d)];for(w.h=(w.h-(D*m>>1)+720)%360;--m;)w.h=(w.h+D)%360,H.push(tinycolor(w));return H}function _monochromatic(d,m){m=m||6;for(var g=tinycolor(d).toHsv(),w=g.h,D=g.s,H=g.v,q=[],it=1/m;m--;)q.push(tinycolor({h:w,s:D,v:H})),H=(H+it)%1;return q}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var d=this.toRgb();return(299*d.r+587*d.g+114*d.b)/1e3},getLuminance:function(){var d,m,g,w=this.toRgb();return d=w.r/255,m=w.g/255,g=w.b/255,.2126*(d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4))+.7152*(m<=.03928?m/12.92:Math.pow((m+.055)/1.055,2.4))+.0722*(g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4))},setAlpha:function(d){return this._a=boundAlpha(d),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var d=rgbToHsv(this._r,this._g,this._b);return{h:360*d.h,s:d.s,v:d.v,a:this._a}},toHsvString:function(){var d=rgbToHsv(this._r,this._g,this._b),m=Math.round(360*d.h),g=Math.round(100*d.s),w=Math.round(100*d.v);return this._a==1?"hsv("+m+", "+g+"%, "+w+"%)":"hsva("+m+", "+g+"%, "+w+"%, "+this._roundA+")"},toHsl:function(){var d=rgbToHsl(this._r,this._g,this._b);return{h:360*d.h,s:d.s,l:d.l,a:this._a}},toHslString:function(){var d=rgbToHsl(this._r,this._g,this._b),m=Math.round(360*d.h),g=Math.round(100*d.s),w=Math.round(100*d.l);return this._a==1?"hsl("+m+", "+g+"%, "+w+"%)":"hsla("+m+", "+g+"%, "+w+"%, "+this._roundA+")"},toHex:function(d){return rgbToHex(this._r,this._g,this._b,d)},toHexString:function(d){return"#"+this.toHex(d)},toHex8:function(d){return rgbaToHex(this._r,this._g,this._b,this._a,d)},toHex8String:function(d){return"#"+this.toHex8(d)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*bound01(this._r,255))+"%",g:Math.round(100*bound01(this._g,255))+"%",b:Math.round(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%)":"rgba("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(d){var m="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),g=m,w=this._gradientType?"GradientType = 1, ":"";if(d){var D=tinycolor(d);g="#"+rgbaToArgbHex(D._r,D._g,D._b,D._a)}return"progid:DXImageTransform.Microsoft.gradient("+w+"startColorstr="+m+",endColorstr="+g+")"},toString:function(d){var m=!!d;d=d||this._format;var g=!1,w=this._a<1&&this._a>=0;return m||!w||d!=="hex"&&d!=="hex6"&&d!=="hex3"&&d!=="hex4"&&d!=="hex8"&&d!=="name"?(d==="rgb"&&(g=this.toRgbString()),d==="prgb"&&(g=this.toPercentageRgbString()),d!=="hex"&&d!=="hex6"||(g=this.toHexString()),d==="hex3"&&(g=this.toHexString(!0)),d==="hex4"&&(g=this.toHex8String(!0)),d==="hex8"&&(g=this.toHex8String()),d==="name"&&(g=this.toName()),d==="hsl"&&(g=this.toHslString()),d==="hsv"&&(g=this.toHsvString()),g||this.toHexString()):d==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return tinycolor(this.toString())},_applyModification:function(d,m){var g=d.apply(null,[this].concat([].slice.call(m)));return this._r=g._r,this._g=g._g,this._b=g._b,this.setAlpha(g._a),this},lighten:function(){return this._applyModification(_lighten,arguments)},brighten:function(){return this._applyModification(_brighten,arguments)},darken:function(){return this._applyModification(_darken,arguments)},desaturate:function(){return this._applyModification(_desaturate,arguments)},saturate:function(){return this._applyModification(_saturate,arguments)},greyscale:function(){return this._applyModification(_greyscale,arguments)},spin:function(){return this._applyModification(_spin,arguments)},_applyCombination:function(d,m){return d.apply(null,[this].concat([].slice.call(m)))},analogous:function(){return this._applyCombination(_analogous,arguments)},complement:function(){return this._applyCombination(_complement,arguments)},monochromatic:function(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(_splitcomplement,arguments)},triad:function(){return this._applyCombination(polyad,[3])},tetrad:function(){return this._applyCombination(polyad,[4])}},tinycolor.fromRatio=function(d,m){if(_typeof(d)=="object"){var g={};for(var w in d)d.hasOwnProperty(w)&&(g[w]=w==="a"?d[w]:convertToPercentage(d[w]));d=g}return tinycolor(d,m)},tinycolor.equals=function(d,m){return!(!d||!m)&&tinycolor(d).toRgbString()==tinycolor(m).toRgbString()},tinycolor.random=function(){return tinycolor.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},tinycolor.mix=function(d,m,g){g=g===0?0:g||50;var w=tinycolor(d).toRgb(),D=tinycolor(m).toRgb(),H=g/100;return tinycolor({r:(D.r-w.r)*H+w.r,g:(D.g-w.g)*H+w.g,b:(D.b-w.b)*H+w.b,a:(D.a-w.a)*H+w.a})},tinycolor.readability=function(d,m){var g=tinycolor(d),w=tinycolor(m);return(Math.max(g.getLuminance(),w.getLuminance())+.05)/(Math.min(g.getLuminance(),w.getLuminance())+.05)},tinycolor.isReadable=function(d,m,g){var w,D,H=tinycolor.readability(d,m);switch(D=!1,(w=validateWCAG2Parms(g)).level+w.size){case"AAsmall":case"AAAlarge":D=H>=4.5;break;case"AAlarge":D=H>=3;break;case"AAAsmall":D=H>=7}return D},tinycolor.mostReadable=function(d,m,g){var w,D,H,q,it=null,ot=0;D=(g=g||{}).includeFallbackColors,H=g.level,q=g.size;for(var ft=0;ft<m.length;ft++)(w=tinycolor.readability(d,m[ft]))>ot&&(ot=w,it=tinycolor(m[ft]));return tinycolor.isReadable(d,it,{level:H,size:q})||!D?it:(g.includeFallbackColors=!1,tinycolor.mostReadable(d,["#fff","#000"],g))};var names$1=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip(names$1);function flip(d){var m={};for(var g in d)d.hasOwnProperty(g)&&(m[d[g]]=g);return m}function boundAlpha(d){return d=parseFloat(d),(isNaN(d)||d<0||d>1)&&(d=1),d}function bound01(d,m){isOnePointZero(d)&&(d="100%");var g=isPercentage(d);return d=Math.min(m,Math.max(0,parseFloat(d))),g&&(d=parseInt(d*m,10)/100),Math.abs(d-m)<1e-6?1:d%m/parseFloat(m)}function clamp01(d){return Math.min(1,Math.max(0,d))}function parseIntFromHex(d){return parseInt(d,16)}function isOnePointZero(d){return typeof d=="string"&&d.indexOf(".")!=-1&&parseFloat(d)===1}function isPercentage(d){return typeof d=="string"&&d.indexOf("%")!=-1}function pad2(d){return d.length==1?"0"+d:""+d}function convertToPercentage(d){return d<=1&&(d=100*d+"%"),d}function convertDecimalToHex(d){return Math.round(255*parseFloat(d)).toString(16)}function convertHexToDecimal(d){return parseIntFromHex(d)/255}var matchers=(CSS_UNIT="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",{CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}),CSS_UNIT,PERMISSIVE_MATCH3,PERMISSIVE_MATCH4;function isValidCSSUnit(d){return!!matchers.CSS_UNIT.exec(d)}function stringInputToObject(d){d=d.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var m,g=!1;if(names$1[d])d=names$1[d],g=!0;else if(d=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(m=matchers.rgb.exec(d))?{r:m[1],g:m[2],b:m[3]}:(m=matchers.rgba.exec(d))?{r:m[1],g:m[2],b:m[3],a:m[4]}:(m=matchers.hsl.exec(d))?{h:m[1],s:m[2],l:m[3]}:(m=matchers.hsla.exec(d))?{h:m[1],s:m[2],l:m[3],a:m[4]}:(m=matchers.hsv.exec(d))?{h:m[1],s:m[2],v:m[3]}:(m=matchers.hsva.exec(d))?{h:m[1],s:m[2],v:m[3],a:m[4]}:(m=matchers.hex8.exec(d))?{r:parseIntFromHex(m[1]),g:parseIntFromHex(m[2]),b:parseIntFromHex(m[3]),a:convertHexToDecimal(m[4]),format:g?"name":"hex8"}:(m=matchers.hex6.exec(d))?{r:parseIntFromHex(m[1]),g:parseIntFromHex(m[2]),b:parseIntFromHex(m[3]),format:g?"name":"hex"}:(m=matchers.hex4.exec(d))?{r:parseIntFromHex(m[1]+""+m[1]),g:parseIntFromHex(m[2]+""+m[2]),b:parseIntFromHex(m[3]+""+m[3]),a:convertHexToDecimal(m[4]+""+m[4]),format:g?"name":"hex8"}:!!(m=matchers.hex3.exec(d))&&{r:parseIntFromHex(m[1]+""+m[1]),g:parseIntFromHex(m[2]+""+m[2]),b:parseIntFromHex(m[3]+""+m[3]),format:g?"name":"hex"}}function validateWCAG2Parms(d){var m,g;return(m=((d=d||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&m!=="AAA"&&(m="AA"),(g=(d.size||"small").toLowerCase())!=="small"&&g!=="large"&&(g="small"),{level:m,size:g}}function clone(d){const m={width:d.bitmap.width,height:d.bitmap.height,data:Buffer.from(d.bitmap.data)};return new d.constructor(m)}function scan(d,m,g,w,D,H){let q,it,ot,ft,ut;if(typeof m=="function")ut=m,q=0,it=0,ot=d.bitmap.width,ft=d.bitmap.height;else{if(q=m,typeof g!="number")throw new Error("y must be a number");if(it=g,typeof w!="number")throw new Error("w must be a number");if(ot=w,typeof D!="number")throw new Error("h must be a number");if(ft=D,typeof H!="function")throw new Error("cb must be a function");ut=H}q=Math.round(q),it=Math.round(it),ot=Math.round(ot),ft=Math.round(ft);const dt=ut.bind(d);for(let St=it;St<it+ft;St++)for(let Tt=q;Tt<q+ot;Tt++)dt(Tt,St,d.bitmap.width*St+Tt<<2);return d}function*scanIterator(d,m,g,w,D){m=Math.round(m),g=Math.round(g),w=Math.round(w),D=Math.round(D);for(let H=g;H<g+D;H++)for(let q=m;q<m+w;q++){const it=d.bitmap.width*H+q<<2;yield{x:q,y:H,idx:it,image:d}}}function intToRGBA$1(d){if(typeof d!="number")throw new Error("i must be a number");const m={r:0,g:0,b:0,a:0};return m.r=Math.floor(d/Math.pow(256,3)),m.g=Math.floor((d-m.r*Math.pow(256,3))/Math.pow(256,2)),m.b=Math.floor((d-m.r*Math.pow(256,3)-m.g*Math.pow(256,2))/Math.pow(256,1)),m.a=Math.floor((d-m.r*Math.pow(256,3)-m.g*Math.pow(256,2)-m.b*Math.pow(256,1))/Math.pow(256,0)),m}function colorDiff(d,m){const g=q=>Math.pow(q,2),{max:w}=Math,D="a"in d?d.a:255,H="a"in m?m.a:255;return(w(g(d.r-m.r),g(d.r-m.r-D+H))+w(g(d.g-m.g),g(d.g-m.g-D+H))+w(g(d.b-m.b),g(d.b-m.b-D+H)))/195075}function limit255(d){return d=Math.max(d,0),d=Math.min(d,255)}function cssColorToHex(d){return typeof d=="number"?d:parseInt(tinycolor(d).toHex8(),16)}function encode$1(d,m={}){return scan({bitmap:d},0,0,d.width,d.height,function(g,w,D){const H=d.data[D+0],q=d.data[D+1],it=d.data[D+2],ot=d.data[D+3];d.data[D+0]=ot,d.data[D+1]=it,d.data[D+2]=q,d.data[D+3]=H}),encode$2({...d,...m}).data}function decode$1(d,m){const g=decode$2(d,m);return scan({bitmap:g},0,0,g.width,g.height,function(w,D,H){const q=g.data[H+1],it=g.data[H+2],ot=g.data[H+3];g.data[H+0]=ot,g.data[H+1]=it,g.data[H+2]=q,g.data[H+3]=255}),g}function msBmp(){return{mime:"image/x-ms-bmp",encode:encode$1,decode:decode$1}}function bmp(){return{mime:"image/bmp",encode:encode$1,decode:decode$1}}var omggif={},GifReader_1,GifWriter_1;function GifWriter(d,m,g,w){var D=0,H=(w=w===void 0?{}:w).loop===void 0?null:w.loop,q=w.palette===void 0?null:w.palette;if(m<=0||g<=0||m>65535||g>65535)throw new Error("Width/Height invalid.");function it(zt){var $t=zt.length;if($t<2||$t>256||$t&$t-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return $t}d[D++]=71,d[D++]=73,d[D++]=70,d[D++]=56,d[D++]=57,d[D++]=97;var ot=0,ft=0;if(q!==null){for(var ut=it(q);ut>>=1;)++ot;if(ut=1<<ot,--ot,w.background!==void 0){if((ft=w.background)>=ut)throw new Error("Background index out of range.");if(ft===0)throw new Error("Background index explicitly passed as 0.")}}if(d[D++]=255&m,d[D++]=m>>8&255,d[D++]=255&g,d[D++]=g>>8&255,d[D++]=(q!==null?128:0)|ot,d[D++]=ft,d[D++]=0,q!==null)for(var dt=0,St=q.length;dt<St;++dt){var Tt=q[dt];d[D++]=Tt>>16&255,d[D++]=Tt>>8&255,d[D++]=255&Tt}if(H!==null){if(H<0||H>65535)throw new Error("Loop count invalid.");d[D++]=33,d[D++]=255,d[D++]=11,d[D++]=78,d[D++]=69,d[D++]=84,d[D++]=83,d[D++]=67,d[D++]=65,d[D++]=80,d[D++]=69,d[D++]=50,d[D++]=46,d[D++]=48,d[D++]=3,d[D++]=1,d[D++]=255&H,d[D++]=H>>8&255,d[D++]=0}var Rt=!1;this.addFrame=function(zt,$t,jt,Zt,Ft,Dt){if(Rt===!0&&(--D,Rt=!1),Dt=Dt===void 0?{}:Dt,zt<0||$t<0||zt>65535||$t>65535)throw new Error("x/y invalid.");if(jt<=0||Zt<=0||jt>65535||Zt>65535)throw new Error("Width/Height invalid.");if(Ft.length<jt*Zt)throw new Error("Not enough pixels for the frame size.");var Kt=!0,re=Dt.palette;if(re==null&&(Kt=!1,re=q),re==null)throw new Error("Must supply either a local or global palette.");for(var Yt=it(re),ne=0;Yt>>=1;)++ne;Yt=1<<ne;var ee=Dt.delay===void 0?0:Dt.delay,ae=Dt.disposal===void 0?0:Dt.disposal;if(ae<0||ae>3)throw new Error("Disposal out of range.");var Ut=!1,ie=0;if(Dt.transparent!==void 0&&Dt.transparent!==null&&(Ut=!0,(ie=Dt.transparent)<0||ie>=Yt))throw new Error("Transparent color index.");if((ae!==0||Ut||ee!==0)&&(d[D++]=33,d[D++]=249,d[D++]=4,d[D++]=ae<<2|(Ut===!0?1:0),d[D++]=255&ee,d[D++]=ee>>8&255,d[D++]=ie,d[D++]=0),d[D++]=44,d[D++]=255&zt,d[D++]=zt>>8&255,d[D++]=255&$t,d[D++]=$t>>8&255,d[D++]=255&jt,d[D++]=jt>>8&255,d[D++]=255&Zt,d[D++]=Zt>>8&255,d[D++]=Kt===!0?128|ne-1:0,Kt===!0)for(var _e=0,ce=re.length;_e<ce;++_e){var le=re[_e];d[D++]=le>>16&255,d[D++]=le>>8&255,d[D++]=255&le}return D=GifWriterOutputLZWCodeStream(d,D,ne<2?2:ne,Ft)},this.end=function(){return Rt===!1&&(d[D++]=59,Rt=!0),D},this.getOutputBuffer=function(){return d},this.setOutputBuffer=function(zt){d=zt},this.getOutputBufferPosition=function(){return D},this.setOutputBufferPosition=function(zt){D=zt}}function GifWriterOutputLZWCodeStream(d,m,g,w){d[m++]=g;var D=m++,H=1<<g,q=H-1,it=H+1,ot=it+1,ft=g+1,ut=0,dt=0;function St(Kt){for(;ut>=Kt;)d[m++]=255&dt,dt>>=8,ut-=8,m===D+256&&(d[D]=255,D=m++)}function Tt(Kt){dt|=Kt<<ut,ut+=ft,St(8)}var Rt=w[0]&q,zt={};Tt(H);for(var $t=1,jt=w.length;$t<jt;++$t){var Zt=w[$t]&q,Ft=Rt<<8|Zt,Dt=zt[Ft];if(Dt===void 0){for(dt|=Rt<<ut,ut+=ft;ut>=8;)d[m++]=255&dt,dt>>=8,ut-=8,m===D+256&&(d[D]=255,D=m++);ot===4096?(Tt(H),ot=it+1,ft=g+1,zt={}):(ot>=1<<ft&&++ft,zt[Ft]=ot++),Rt=Zt}else Rt=Dt}return Tt(Rt),Tt(it),St(1),D+1===m?d[D]=0:(d[D]=m-D-1,d[m++]=0),m}function GifReader(d){var m=0;if(d[m++]!==71||d[m++]!==73||d[m++]!==70||d[m++]!==56||(d[m++]+1&253)!=56||d[m++]!==97)throw new Error("Invalid GIF 87a/89a header.");var g=d[m++]|d[m++]<<8,w=d[m++]|d[m++]<<8,D=d[m++],H=D>>7,q=1<<(7&D)+1;d[m++],d[m++];var it=null,ot=null;H&&(it=m,ot=q,m+=3*q);var ft=!0,ut=[],dt=0,St=null,Tt=0,Rt=null;for(this.width=g,this.height=w;ft&&m<d.length;)switch(d[m++]){case 33:switch(d[m++]){case 255:if(d[m]!==11||d[m+1]==78&&d[m+2]==69&&d[m+3]==84&&d[m+4]==83&&d[m+5]==67&&d[m+6]==65&&d[m+7]==80&&d[m+8]==69&&d[m+9]==50&&d[m+10]==46&&d[m+11]==48&&d[m+12]==3&&d[m+13]==1&&d[m+16]==0)m+=14,Rt=d[m++]|d[m++]<<8,m++;else for(m+=12;;){if(!((Ut=d[m++])>=0))throw Error("Invalid block size");if(Ut===0)break;m+=Ut}break;case 249:if(d[m++]!==4||d[m+4]!==0)throw new Error("Invalid graphics extension block.");var zt=d[m++];dt=d[m++]|d[m++]<<8,St=d[m++],1&zt||(St=null),Tt=zt>>2&7,m++;break;case 254:for(;;){if(!((Ut=d[m++])>=0))throw Error("Invalid block size");if(Ut===0)break;m+=Ut}break;default:throw new Error("Unknown graphic control label: 0x"+d[m-1].toString(16))}break;case 44:var $t=d[m++]|d[m++]<<8,jt=d[m++]|d[m++]<<8,Zt=d[m++]|d[m++]<<8,Ft=d[m++]|d[m++]<<8,Dt=d[m++],Kt=Dt>>6&1,re=1<<(7&Dt)+1,Yt=it,ne=ot,ee=!1;Dt>>7&&(ee=!0,Yt=m,ne=re,m+=3*re);var ae=m;for(m++;;){var Ut;if(!((Ut=d[m++])>=0))throw Error("Invalid block size");if(Ut===0)break;m+=Ut}ut.push({x:$t,y:jt,width:Zt,height:Ft,has_local_palette:ee,palette_offset:Yt,palette_size:ne,data_offset:ae,data_length:m-ae,transparent_index:St,interlaced:!!Kt,delay:dt,disposal:Tt});break;case 59:ft=!1;break;default:throw new Error("Unknown gif block: 0x"+d[m-1].toString(16))}this.numFrames=function(){return ut.length},this.loopCount=function(){return Rt},this.frameInfo=function(ie){if(ie<0||ie>=ut.length)throw new Error("Frame index out of range.");return ut[ie]},this.decodeAndBlitFrameBGRA=function(ie,_e){var ce=this.frameInfo(ie),le=ce.width*ce.height,de=new Uint8Array(le);GifReaderLZWOutputIndexStream(d,ce.data_offset,de,le);var Ae=ce.palette_offset,ve=ce.transparent_index;ve===null&&(ve=256);var ye=ce.width,Me=g-ye,ue=ye,xe=4*(ce.y*g+ce.x),Be=4*((ce.y+ce.height)*g+ce.x),Ce=xe,Ee=4*Me;ce.interlaced===!0&&(Ee+=4*g*7);for(var Se=8,Ne=0,Fe=de.length;Ne<Fe;++Ne){var Oe=de[Ne];if(ue===0&&(ue=ye,(Ce+=Ee)>=Be&&(Ee=4*Me+4*g*(Se-1),Ce=xe+(ye+Me)*(Se<<1),Se>>=1)),Oe===ve)Ce+=4;else{var Pe=d[Ae+3*Oe],Jt=d[Ae+3*Oe+1],Te=d[Ae+3*Oe+2];_e[Ce++]=Te,_e[Ce++]=Jt,_e[Ce++]=Pe,_e[Ce++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(ie,_e){var ce=this.frameInfo(ie),le=ce.width*ce.height,de=new Uint8Array(le);GifReaderLZWOutputIndexStream(d,ce.data_offset,de,le);var Ae=ce.palette_offset,ve=ce.transparent_index;ve===null&&(ve=256);var ye=ce.width,Me=g-ye,ue=ye,xe=4*(ce.y*g+ce.x),Be=4*((ce.y+ce.height)*g+ce.x),Ce=xe,Ee=4*Me;ce.interlaced===!0&&(Ee+=4*g*7);for(var Se=8,Ne=0,Fe=de.length;Ne<Fe;++Ne){var Oe=de[Ne];if(ue===0&&(ue=ye,(Ce+=Ee)>=Be&&(Ee=4*Me+4*g*(Se-1),Ce=xe+(ye+Me)*(Se<<1),Se>>=1)),Oe===ve)Ce+=4;else{var Pe=d[Ae+3*Oe],Jt=d[Ae+3*Oe+1],Te=d[Ae+3*Oe+2];_e[Ce++]=Pe,_e[Ce++]=Jt,_e[Ce++]=Te,_e[Ce++]=255}--ue}}}function GifReaderLZWOutputIndexStream(d,m,g,w){for(var D=d[m++],H=1<<D,q=H+1,it=q+1,ot=D+1,ft=(1<<ot)-1,ut=0,dt=0,St=0,Tt=d[m++],Rt=new Int32Array(4096),zt=null;;){for(;ut<16&&Tt!==0;)dt|=d[m++]<<ut,ut+=8,Tt===1?Tt=d[m++]:--Tt;if(ut<ot)break;var $t=dt&ft;if(dt>>=ot,ut-=ot,$t!==H){if($t===q)break;for(var jt=$t<it?$t:zt,Zt=0,Ft=jt;Ft>H;)Ft=Rt[Ft]>>8,++Zt;var Dt=Ft;if(St+Zt+(jt!==$t?1:0)>w)return void console.log("Warning, gif stream longer than expected.");g[St++]=Dt;var Kt=St+=Zt;for(jt!==$t&&(g[St++]=Dt),Ft=jt;Zt--;)Ft=Rt[Ft],g[--Kt]=255&Ft,Ft>>=8;zt!==null&&it<4096&&(Rt[it++]=zt<<8|Dt,it>=ft+1&&ot<12&&(++ot,ft=ft<<1|1)),zt=$t}else it=q+1,ft=(1<<(ot=D+1))-1,zt=null}return St!==w&&console.log("Warning, gif stream shorter than expected."),g}try{GifWriter_1=omggif.GifWriter=GifWriter,GifReader_1=omggif.GifReader=GifReader}catch{}let BitmapImage$2=class Vo{constructor(...m){if(m.length===0)throw new Error("constructor requires parameters");const g=m[0];if(g!==null&&typeof g=="object")if(g instanceof Vo){const w=g.bitmap;this.bitmap={width:w.width,height:w.height,data:new Buffer(w.width*w.height*4)},w.data.copy(this.bitmap.data)}else{if(!(g.width&&g.height&&g.data))throw new Error("unrecognized constructor parameters");this.bitmap=g}else{if(typeof g!="number"||typeof m[1]!="number")throw new Error("unrecognized constructor parameters");{const w=g,D=m[1],H=m[2];this.bitmap={width:w,height:D},Buffer.isBuffer(H)?this.bitmap.data=H:(this.bitmap.data=new Buffer(w*D*4),typeof H=="number"&&this.fillRGBA(H))}}}blit(m,g,w,D,H,q,it){if(D+q>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(g+q>m.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(H+it>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(w+it>m.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const ot=this.bitmap.data,ft=m.bitmap.data,ut=4*this.bitmap.width,dt=4*m.bitmap.width,St=4*q;let Tt=H*ut+4*D,Rt=w*dt+4*g;for(;--it>=0;)ot.copy(ft,Rt,Tt,Tt+St),Tt+=ut,Rt+=dt;return this}fillRGBA(m){const g=this.bitmap.data,w=4*this.bitmap.height;let D=0;for(;D<w;)g.writeUInt32BE(m,D),D+=4;for(;D<g.length;)g.copy(g,D,0,w),D+=w;return this}getRGBA(m,g){const w=4*(g*this.bitmap.width+m);return this.bitmap.data.readUInt32BE(w)}getRGBASet(){const m=new Set,g=this.bitmap.data;for(let w=0;w<g.length;w+=4)m.add(g.readUInt32BE(w,!0));return m}greyscale(){const m=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(g,w,D)=>{const H=Math.round(.299*m[D]+.587*m[D+1]+.114*m[D+2]);m[D]=H,m[D+1]=H,m[D+2]=H}),this}reframe(m,g,w,D,H){const q=m<0?0:m,it=g<0?0:g,ot=w+q>this.bitmap.width?this.bitmap.width-q:w,ft=D+it>this.bitmap.height?this.bitmap.height-it:D,ut=m<0?-m:0,dt=g<0?-g:0;let St;if(H===void 0){if(q!==m||it!=g||ot!==w||ft!==D)throw new GifError("fillRGBA required for this reframing");St=new Vo(w,D)}else St=new Vo(w,D,H);return this.blit(St,ut,dt,q,it,ot,ft),this.bitmap=St.bitmap,this}scale(m){if(m===1)return;if(!Number.isInteger(m)||m<1)throw new Error("the scale must be an integer >= 1");const g=this.bitmap.width,w=this.bitmap.height,D=g*m*4,H=this.bitmap.data,q=new Buffer(w*D*m);let it,ot=0,ft=0;for(let ut=0;ut<w;++ut){it=ft;for(let dt=0;dt<g;++dt){const St=H.readUInt32BE(ot,!0);for(let Tt=0;Tt<m;++Tt)q.writeUInt32BE(St,ft),ft+=4;ot+=4}for(let dt=1;dt<m;++dt)q.copy(q,ft,it,ft),ft+=D,it+=D}return this.bitmap={width:g*m,height:w*m,data:q},this}scanAllCoords(m){const g=this.bitmap.width,w=this.bitmap.data.length;let D=0,H=0;for(let q=0;q<w;q+=4)m(D,H,q),++D===g&&(D=0,++H)}scanAllIndexes(m){const g=this.bitmap.data.length;for(let w=0;w<g;w+=4)m(w)}};var bitmapimage=BitmapImage$2,gif$1={};let Gif$1=class{constructor(d,m,g){this.width=g.width,this.height=g.height,this.loops=g.loops,this.usesTransparency=g.usesTransparency,this.colorScope=g.colorScope,this.frames=m,this.buffer=d}};Gif$1.GlobalColorsPreferred=0,Gif$1.GlobalColorsOnly=1,Gif$1.LocalColorsOnly=2;let GifError$2=class extends Error{constructor(d){super(d),d instanceof Error&&(this.stack="Gif"+d.stack)}};gif$1.Gif=Gif$1,gif$1.GifError=GifError$2;var gifcodec={},gifutil={},_polyfillNode_fs={},_polyfillNode_fs$1=Object.freeze({__proto__:null,default:_polyfillNode_fs}),require$$0=getAugmentedNamespace(_polyfillNode_fs$1),__defProp$3=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__defNormalProp$3=(d,m,g)=>m in d?__defProp$3(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__markAsModule=d=>__defProp$3(d,"__esModule",{value:!0}),__export$1=(d,m)=>{for(var g in m)__defProp$3(d,g,{get:m[g],enumerable:!0})},__reExport=(d,m,g,w)=>{if(m&&typeof m=="object"||typeof m=="function")for(let D of __getOwnPropNames(m))!__hasOwnProp.call(d,D)&&g&&__defProp$3(d,D,{get:()=>m[D],enumerable:!(w=__getOwnPropDesc(m,D))||w.enumerable});return d},__toCommonJS=(d=>(m,g)=>d&&d.get(m)||(g=__reExport(__markAsModule({}),m,1),d&&d.set(m,g),g))(typeof WeakMap<"u"?new WeakMap:0),__publicField$3=(d,m,g)=>(__defNormalProp$3(d,typeof m!="symbol"?m+"":m,g),g),src_exports={};__export$1(src_exports,{applyPalette:()=>applyPalette,applyPaletteSync:()=>applyPaletteSync$1,buildPalette:()=>buildPalette,buildPaletteSync:()=>buildPaletteSync$1,constants:()=>constants_exports$1,conversion:()=>conversion_exports$1,distance:()=>distance_exports$1,image:()=>image_exports$1,palette:()=>palette_exports$1,quality:()=>quality_exports$1,utils:()=>utils_exports$1});var constants_exports$1={};__export$1(constants_exports$1,{bt709:()=>bt709_exports$1});var bt709_exports$1={};__export$1(bt709_exports$1,{Y:()=>Y$1,x:()=>x$2,y:()=>y$2});var Y$1=(d=>(d[d.RED=.2126]="RED",d[d.GREEN=.7152]="GREEN",d[d.BLUE=.0722]="BLUE",d[d.WHITE=1]="WHITE",d))(Y$1||{}),x$2=(d=>(d[d.RED=.64]="RED",d[d.GREEN=.3]="GREEN",d[d.BLUE=.15]="BLUE",d[d.WHITE=.3127]="WHITE",d))(x$2||{}),y$2=(d=>(d[d.RED=.33]="RED",d[d.GREEN=.6]="GREEN",d[d.BLUE=.06]="BLUE",d[d.WHITE=.329]="WHITE",d))(y$2||{}),conversion_exports$1={};function correctGamma$1(d){return d>.04045?((d+.055)/1.055)**2.4:d/12.92}function rgb2xyz$1(d,m,g){return{x:.4124*(d=correctGamma$1(d/255))+.3576*(m=correctGamma$1(m/255))+.1805*(g=correctGamma$1(g/255)),y:.2126*d+.7152*m+.0722*g,z:.0193*d+.1192*m+.9505*g}}__export$1(conversion_exports$1,{lab2rgb:()=>lab2rgb$1,lab2xyz:()=>lab2xyz$1,rgb2hsl:()=>rgb2hsl$1,rgb2lab:()=>rgb2lab$1,rgb2xyz:()=>rgb2xyz$1,xyz2lab:()=>xyz2lab$1,xyz2rgb:()=>xyz2rgb$1});var arithmetic_exports$1={};function degrees2radians$1(d){return d*(Math.PI/180)}function max3$1(d,m,g){let w=d;return w<m&&(w=m),w<g&&(w=g),w}function min3$1(d,m,g){let w=d;return w>m&&(w=m),w>g&&(w=g),w}function intInRange$1(d,m,g){return d>g&&(d=g),d<m&&(d=m),0|d}function inRange0to255Rounded$1(d){return(d=Math.round(d))>255?d=255:d<0&&(d=0),d}function inRange0to255$1(d){return d>255?d=255:d<0&&(d=0),d}function stableSort$1(d,m){const g=typeof d[0];let w;if(g==="number"||g==="string"){const D=Object.create(null);for(let H=0,q=d.length;H<q;H++){const it=d[H];D[it]||D[it]===0||(D[it]=H)}w=d.sort((H,q)=>m(H,q)||D[H]-D[q])}else{const D=d.slice(0);w=d.sort((H,q)=>m(H,q)||D.indexOf(H)-D.indexOf(q))}return w}function rgb2hsl$1(d,m,g){const w=min3$1(d,m,g),D=max3$1(d,m,g),H=D-w,q=(w+D)/510;let it=0;q>0&&q<1&&(it=H/(q<.5?D+w:510-D-w));let ot=0;return H>0&&(ot=D===d?(m-g)/H:D===m?2+(g-d)/H:4+(d-m)/H,ot*=60,ot<0&&(ot+=360)),{h:ot,s:it,l:q}}__export$1(arithmetic_exports$1,{degrees2radians:()=>degrees2radians$1,inRange0to255:()=>inRange0to255$1,inRange0to255Rounded:()=>inRange0to255Rounded$1,intInRange:()=>intInRange$1,max3:()=>max3$1,min3:()=>min3$1,stableSort:()=>stableSort$1});var refX$1=.95047,refY$1=1,refZ$1=1.08883;function pivot$1(d){return d>.008856?d**(1/3):7.787*d+16/116}function xyz2lab$1(d,m,g){if(d=pivot$1(d/refX$1),m=pivot$1(m/refY$1),g=pivot$1(g/refZ$1),116*m-16<0)throw new Error("xxx");return{L:Math.max(0,116*m-16),a:500*(d-m),b:200*(m-g)}}function rgb2lab$1(d,m,g){const w=rgb2xyz$1(d,m,g);return xyz2lab$1(w.x,w.y,w.z)}var refX2$1=.95047,refY2$1=1,refZ2$1=1.08883;function pivot2$1(d){return d>.206893034?d**3:(d-16/116)/7.787}function lab2xyz$1(d,m,g){const w=(d+16)/116,D=w-g/200;return{x:refX2$1*pivot2$1(m/500+w),y:refY2$1*pivot2$1(w),z:refZ2$1*pivot2$1(D)}}function correctGamma2$1(d){return d>.0031308?1.055*d**(1/2.4)-.055:12.92*d}function xyz2rgb$1(d,m,g){const w=correctGamma2$1(3.2406*d+-1.5372*m+-.4986*g),D=correctGamma2$1(-.9689*d+1.8758*m+.0415*g),H=correctGamma2$1(.0557*d+-.204*m+1.057*g);return{r:inRange0to255Rounded$1(255*w),g:inRange0to255Rounded$1(255*D),b:inRange0to255Rounded$1(255*H)}}function lab2rgb$1(d,m,g){const w=lab2xyz$1(d,m,g);return xyz2rgb$1(w.x,w.y,w.z)}var distance_exports$1={};__export$1(distance_exports$1,{AbstractDistanceCalculator:()=>AbstractDistanceCalculator$1,AbstractEuclidean:()=>AbstractEuclidean$1,AbstractManhattan:()=>AbstractManhattan$1,CIE94GraphicArts:()=>CIE94GraphicArts$1,CIE94Textiles:()=>CIE94Textiles$1,CIEDE2000:()=>CIEDE2000$1,CMetric:()=>CMetric$1,Euclidean:()=>Euclidean$1,EuclideanBT709:()=>EuclideanBT709$1,EuclideanBT709NoAlpha:()=>EuclideanBT709NoAlpha$1,Manhattan:()=>Manhattan$1,ManhattanBT709:()=>ManhattanBT709$1,ManhattanNommyde:()=>ManhattanNommyde$1,PNGQuant:()=>PNGQuant$1});var AbstractDistanceCalculator$1=class{constructor(){__publicField$3(this,"_maxDistance"),__publicField$3(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(d,m,g,w){this._whitePoint={r:d>0?255/d:0,g:m>0?255/m:0,b:g>0?255/g:0,a:w>0?255/w:0},this._maxDistance=this.calculateRaw(d,m,g,w,0,0,0,0)}calculateNormalized(d,m){return this.calculateRaw(d.r,d.g,d.b,d.a,m.r,m.g,m.b,m.a)/this._maxDistance}},AbstractCIE94$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,H,q,it){const ot=rgb2lab$1(inRange0to255$1(d*this._whitePoint.r),inRange0to255$1(m*this._whitePoint.g),inRange0to255$1(g*this._whitePoint.b)),ft=rgb2lab$1(inRange0to255$1(D*this._whitePoint.r),inRange0to255$1(H*this._whitePoint.g),inRange0to255$1(q*this._whitePoint.b)),ut=ot.L-ft.L,dt=ot.a-ft.a,St=ot.b-ft.b,Tt=Math.sqrt(ot.a*ot.a+ot.b*ot.b),Rt=Tt-Math.sqrt(ft.a*ft.a+ft.b*ft.b);let zt=dt*dt+St*St-Rt*Rt;zt=zt<0?0:Math.sqrt(zt);const $t=(it-w)*this._whitePoint.a*this._kA;return Math.sqrt((ut/this._Kl)**2+(Rt/(1+this._K1*Tt))**2+(zt/(1+this._K2*Tt))**2+$t**2)}},CIE94Textiles$1=class extends AbstractCIE94$1{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},CIE94GraphicArts$1=class extends AbstractCIE94$1{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},_CIEDE2000$1=class extends AbstractDistanceCalculator$1{_setDefaults(){}static _calculatehp(d,m){const g=Math.atan2(d,m);return g>=0?g:g+_CIEDE2000$1._deg360InRad}static _calculateRT(d,m){const g=m**7,w=2*Math.sqrt(g/(g+_CIEDE2000$1._pow25to7)),D=_CIEDE2000$1._deg30InRad*Math.exp(-(((d-_CIEDE2000$1._deg275InRad)/_CIEDE2000$1._deg25InRad)**2));return-Math.sin(2*D)*w}static _calculateT(d){return 1-.17*Math.cos(d-_CIEDE2000$1._deg30InRad)+.24*Math.cos(2*d)+.32*Math.cos(3*d+_CIEDE2000$1._deg6InRad)-.2*Math.cos(4*d-_CIEDE2000$1._deg63InRad)}static _calculate_ahp(d,m,g,w){const D=g+w;return d===0?D:m<=_CIEDE2000$1._deg180InRad?D/2:D<_CIEDE2000$1._deg360InRad?(D+_CIEDE2000$1._deg360InRad)/2:(D-_CIEDE2000$1._deg360InRad)/2}static _calculate_dHp(d,m,g,w){let D;return D=d===0?0:m<=_CIEDE2000$1._deg180InRad?g-w:g<=w?g-w+_CIEDE2000$1._deg360InRad:g-w-_CIEDE2000$1._deg360InRad,2*Math.sqrt(d)*Math.sin(D/2)}calculateRaw(d,m,g,w,D,H,q,it){const ot=rgb2lab$1(inRange0to255$1(d*this._whitePoint.r),inRange0to255$1(m*this._whitePoint.g),inRange0to255$1(g*this._whitePoint.b)),ft=rgb2lab$1(inRange0to255$1(D*this._whitePoint.r),inRange0to255$1(H*this._whitePoint.g),inRange0to255$1(q*this._whitePoint.b)),ut=(it-w)*this._whitePoint.a*_CIEDE2000$1._kA,dt=this.calculateRawInLab(ot,ft);return Math.sqrt(dt+ut*ut)}calculateRawInLab(d,m){const g=d.L,w=d.a,D=d.b,H=m.L,q=m.a,it=m.b,ot=((Math.sqrt(w*w+D*D)+Math.sqrt(q*q+it*it))/2)**7,ft=.5*(1-Math.sqrt(ot/(ot+_CIEDE2000$1._pow25to7))),ut=(1+ft)*w,dt=(1+ft)*q,St=Math.sqrt(ut*ut+D*D),Tt=Math.sqrt(dt*dt+it*it),Rt=St*Tt,zt=_CIEDE2000$1._calculatehp(D,ut),$t=_CIEDE2000$1._calculatehp(it,dt),jt=Math.abs(zt-$t),Zt=H-g,Ft=Tt-St,Dt=_CIEDE2000$1._calculate_dHp(Rt,jt,$t,zt),Kt=_CIEDE2000$1._calculate_ahp(Rt,jt,zt,$t),re=(St+Tt)/2,Yt=((g+H)/2-50)**2,ne=Ft/(1+.045*re),ee=Dt/(1+.015*_CIEDE2000$1._calculateT(Kt)*re);return(Zt/(1+.015*Yt/Math.sqrt(20+Yt)))**2+ne**2+ee**2+_CIEDE2000$1._calculateRT(Kt,re)*ne*ee}},CIEDE2000$1=_CIEDE2000$1;__publicField$3(CIEDE2000$1,"_kA",25/255),__publicField$3(CIEDE2000$1,"_pow25to7",25**7),__publicField$3(CIEDE2000$1,"_deg360InRad",degrees2radians$1(360)),__publicField$3(CIEDE2000$1,"_deg180InRad",degrees2radians$1(180)),__publicField$3(CIEDE2000$1,"_deg30InRad",degrees2radians$1(30)),__publicField$3(CIEDE2000$1,"_deg6InRad",degrees2radians$1(6)),__publicField$3(CIEDE2000$1,"_deg63InRad",degrees2radians$1(63)),__publicField$3(CIEDE2000$1,"_deg275InRad",degrees2radians$1(275)),__publicField$3(CIEDE2000$1,"_deg25InRad",degrees2radians$1(25));var CMetric$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,H,q,it){const ot=(d+D)/2*this._whitePoint.r,ft=(d-D)*this._whitePoint.r,ut=(m-H)*this._whitePoint.g,dt=(g-q)*this._whitePoint.b,St=((512+ot)*ft*ft>>8)+4*ut*ut+((767-ot)*dt*dt>>8),Tt=(it-w)*this._whitePoint.a;return Math.sqrt(St+Tt*Tt)}_setDefaults(){}},AbstractEuclidean$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,H,q,it){const ot=D-d,ft=H-m,ut=q-g,dt=it-w;return Math.sqrt(this._kR*ot*ot+this._kG*ft*ft+this._kB*ut*ut+this._kA*dt*dt)}},Euclidean$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},EuclideanBT709$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},EuclideanBT709NoAlpha$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},AbstractManhattan$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,H,q,it){let ot=D-d,ft=H-m,ut=q-g,dt=it-w;return ot<0&&(ot=0-ot),ft<0&&(ft=0-ft),ut<0&&(ut=0-ut),dt<0&&(dt=0-dt),this._kR*ot+this._kG*ft+this._kB*ut+this._kA*dt}},Manhattan$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},ManhattanNommyde$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ManhattanBT709$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},PNGQuant$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,D,H,q,it){const ot=(it-w)*this._whitePoint.a;return this._colordifferenceCh(d*this._whitePoint.r,D*this._whitePoint.r,ot)+this._colordifferenceCh(m*this._whitePoint.g,H*this._whitePoint.g,ot)+this._colordifferenceCh(g*this._whitePoint.b,q*this._whitePoint.b,ot)}_colordifferenceCh(d,m,g){const w=d-m,D=w+g;return w*w+D*D}_setDefaults(){}},palette_exports$1={};__export$1(palette_exports$1,{AbstractPaletteQuantizer:()=>AbstractPaletteQuantizer$1,ColorHistogram:()=>ColorHistogram$1,NeuQuant:()=>NeuQuant$1,NeuQuantFloat:()=>NeuQuantFloat$1,RGBQuant:()=>RGBQuant$1,WuColorCube:()=>WuColorCube$1,WuQuant:()=>WuQuant$1});var AbstractPaletteQuantizer$1=class{quantizeSync(){for(const d of this.quantize())if(d.palette)return d.palette;throw new Error("unreachable")}},Point$1=class{constructor(){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),__publicField$3(this,"uint32"),__publicField$3(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(d){const m=new Point$1;return m.r=0|d[0],m.g=0|d[1],m.b=0|d[2],m.a=0|d[3],m._loadUINT32(),m._loadQuadruplet(),m}static createByRGBA(d,m,g,w){const D=new Point$1;return D.r=0|d,D.g=0|m,D.b=0|g,D.a=0|w,D._loadUINT32(),D._loadQuadruplet(),D}static createByUint32(d){const m=new Point$1;return m.uint32=d>>>0,m._loadRGBA(),m._loadQuadruplet(),m}from(d){this.r=d.r,this.g=d.g,this.b=d.b,this.a=d.a,this.uint32=d.uint32,this.rgba[0]=d.r,this.rgba[1]=d.g,this.rgba[2]=d.b,this.rgba[3]=d.a}getLuminosity(d){let m=this.r,g=this.g,w=this.b;return d&&(m=Math.min(255,255-this.a+this.a*m/255),g=Math.min(255,255-this.a+this.a*g/255),w=Math.min(255,255-this.a+this.a*w/255)),.2126*m+.7152*g+.0722*w}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},PointContainer$1=class{constructor(){__publicField$3(this,"_pointArray"),__publicField$3(this,"_width"),__publicField$3(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(d){this._width=d}setHeight(d){this._height=d}getPointArray(){return this._pointArray}clone(){const d=new PointContainer$1;d._width=this._width,d._height=this._height;for(let m=0,g=this._pointArray.length;m<g;m++)d._pointArray[m]=Point$1.createByUint32(0|this._pointArray[m].uint32);return d}toUint32Array(){const d=this._pointArray.length,m=new Uint32Array(d);for(let g=0;g<d;g++)m[g]=this._pointArray[g].uint32;return m}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(d){const m=d.naturalWidth,g=d.naturalHeight,w=document.createElement("canvas");return w.width=m,w.height=g,w.getContext("2d").drawImage(d,0,0,m,g,0,0,m,g),PointContainer$1.fromHTMLCanvasElement(w)}static fromHTMLCanvasElement(d){const m=d.width,g=d.height,w=d.getContext("2d").getImageData(0,0,m,g);return PointContainer$1.fromImageData(w)}static fromImageData(d){const m=d.width,g=d.height;return PointContainer$1.fromUint8Array(d.data,m,g)}static fromUint8Array(d,m,g){switch(Object.prototype.toString.call(d)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:d=new Uint8Array(d)}const w=new Uint32Array(d.buffer);return PointContainer$1.fromUint32Array(w,m,g)}static fromUint32Array(d,m,g){const w=new PointContainer$1;w._width=m,w._height=g;for(let D=0,H=d.length;D<H;D++)w._pointArray[D]=Point$1.createByUint32(0|d[D]);return w}static fromBuffer(d,m,g){const w=new Uint32Array(d.buffer,d.byteOffset,d.byteLength/Uint32Array.BYTES_PER_ELEMENT);return PointContainer$1.fromUint32Array(w,m,g)}},hueGroups$1=10;function hueGroup$1(d,m){const g=360/m;for(let w=1,D=g-g/2;w<m;w++,D+=g)if(d>=D&&d<D+g)return w;return 0}var Palette$1=class{constructor(){__publicField$3(this,"_pointContainer"),__publicField$3(this,"_pointArray",[]),__publicField$3(this,"_i32idx",{}),this._pointContainer=new PointContainer$1,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(d){this._pointArray.push(d),this._pointContainer.setWidth(this._pointArray.length)}has(d){for(let m=this._pointArray.length-1;m>=0;m--)if(d.uint32===this._pointArray[m].uint32)return!0;return!1}getNearestColor(d,m){return this._pointArray[0|this._getNearestIndex(d,m)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(d){return typeof this._i32idx[d]=="number"?this._i32idx[d]:-1}_getNearestIndex(d,m){let g=this._nearestPointFromCache(""+m.uint32);if(g>=0)return g;let w=Number.MAX_VALUE;g=0;for(let D=0,H=this._pointArray.length;D<H;D++){const q=this._pointArray[D],it=d.calculateRaw(m.r,m.g,m.b,m.a,q.r,q.g,q.b,q.a);it<w&&(w=it,g=D)}return this._i32idx[m.uint32]=g,g}sort(){this._i32idx={},this._pointArray.sort((d,m)=>{const g=rgb2hsl$1(d.r,d.g,d.b),w=rgb2hsl$1(m.r,m.g,m.b),D=d.r===d.g&&d.g===d.b?0:1+hueGroup$1(g.h,hueGroups$1),H=(m.r===m.g&&m.g===m.b?0:1+hueGroup$1(w.h,hueGroups$1))-D;if(H)return-H;const q=d.getLuminosity(!0),it=m.getLuminosity(!0);if(it-q!=0)return it-q;const ot=(100*w.s|0)-(100*g.s|0);return ot?-ot:0})}},utils_exports$1={};__export$1(utils_exports$1,{HueStatistics:()=>HueStatistics$1,Palette:()=>Palette$1,Point:()=>Point$1,PointContainer:()=>PointContainer$1,ProgressTracker:()=>ProgressTracker$1,arithmetic:()=>arithmetic_exports$1});var HueGroup$1=class{constructor(){__publicField$3(this,"num",0),__publicField$3(this,"cols",[])}},HueStatistics$1=class{constructor(d,m){__publicField$3(this,"_numGroups"),__publicField$3(this,"_minCols"),__publicField$3(this,"_stats"),__publicField$3(this,"_groupsFull"),this._numGroups=d,this._minCols=m,this._stats=[];for(let g=0;g<=d;g++)this._stats[g]=new HueGroup$1;this._groupsFull=0}check(d){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const m=255&d,g=d>>>8&255,w=d>>>16&255,D=m===g&&g===w?0:1+hueGroup$1(rgb2hsl$1(m,g,w).h,this._numGroups),H=this._stats[D],q=this._minCols;H.num++,H.num>q||(H.num===q&&this._groupsFull++,H.num<=q&&this._stats[D].cols.push(d))}injectIntoDictionary(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d[g]?d[g]++:d[g]=1})}injectIntoArray(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d.indexOf(g)===-1&&d.push(g)})}},_ProgressTracker$1=class{constructor(d,m){__publicField$3(this,"progress"),__publicField$3(this,"_step"),__publicField$3(this,"_range"),__publicField$3(this,"_last"),__publicField$3(this,"_progressRange"),this._range=d,this._progressRange=m,this._step=Math.max(1,this._range/(_ProgressTracker$1.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(d){return d-this._last>=this._step&&(this._last=d,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},ProgressTracker$1=_ProgressTracker$1;__publicField$3(ProgressTracker$1,"steps",100);var networkBiasShift$1=3,Neuron$1=class{constructor(d){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point$1.createByRGBA(this.r>>networkBiasShift$1,this.g>>networkBiasShift$1,this.b>>networkBiasShift$1,this.a>>networkBiasShift$1)}subtract(d,m,g,w){this.r-=0|d,this.g-=0|m,this.b-=0|g,this.a-=0|w}},_NeuQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256){super(),__publicField$3(this,"_pointArray"),__publicField$3(this,"_networkSize"),__publicField$3(this,"_network"),__publicField$3(this,"_sampleFactor"),__publicField$3(this,"_radPower"),__publicField$3(this,"_freq"),__publicField$3(this,"_bias"),__publicField$3(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift$1,255<<networkBiasShift$1,255<<networkBiasShift$1,255<<networkBiasShift$1)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new Neuron$1((d<<networkBiasShift$1+8)/this._networkSize|0),this._freq[d]=_NeuQuant$1._initialBias/this._networkSize|0,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuant$1._minpicturebytes&&(d=1);const g=30+(d-1)/3|0,w=m/d|0;let D,H=w/_NeuQuant$1._nCycles|0,q=_NeuQuant$1._initAlpha,it=(this._networkSize>>3)*_NeuQuant$1._radiusBias,ot=it>>_NeuQuant$1._radiusBiasShift;ot<=1&&(ot=0);for(let ut=0;ut<ot;ut++)this._radPower[ut]=q*((ot*ot-ut*ut)*_NeuQuant$1._radBias/(ot*ot))>>>0;D=m<_NeuQuant$1._minpicturebytes?1:m%_NeuQuant$1._prime1!=0?_NeuQuant$1._prime1:m%_NeuQuant$1._prime2!=0?_NeuQuant$1._prime2:m%_NeuQuant$1._prime3!=0?_NeuQuant$1._prime3:_NeuQuant$1._prime4;const ft=new ProgressTracker$1(w,99);for(let ut=0,dt=0;ut<w;){ft.shouldNotify(ut)&&(yield{progress:ft.progress});const St=this._pointArray[dt],Tt=St.b<<networkBiasShift$1,Rt=St.g<<networkBiasShift$1,zt=St.r<<networkBiasShift$1,$t=St.a<<networkBiasShift$1,jt=this._contest(Tt,Rt,zt,$t);if(this._alterSingle(q,jt,Tt,Rt,zt,$t),ot!==0&&this._alterNeighbour(ot,jt,Tt,Rt,zt,$t),dt+=D,dt>=m&&(dt-=m),ut++,H===0&&(H=1),ut%H==0){q-=q/g|0,it-=it/_NeuQuant$1._radiusDecrease|0,ot=it>>_NeuQuant$1._radiusBiasShift,ot<=1&&(ot=0);for(let Zt=0;Zt<ot;Zt++)this._radPower[Zt]=q*((ot*ot-Zt*Zt)*_NeuQuant$1._radBias/(ot*ot))>>>0}}}_buildPalette(){const d=new Palette$1;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,D,H){let q=m-d;q<-1&&(q=-1);let it=m+d;it>this._networkSize&&(it=this._networkSize);let ot=m+1,ft=m-1,ut=1;for(;ot<it||ft>q;){const dt=this._radPower[ut++]/_NeuQuant$1._alphaRadBias;if(ot<it){const St=this._network[ot++];St.subtract(dt*(St.r-D),dt*(St.g-w),dt*(St.b-g),dt*(St.a-H))}if(ft>q){const St=this._network[ft--];St.subtract(dt*(St.r-D),dt*(St.g-w),dt*(St.b-g),dt*(St.a-H))}}}_alterSingle(d,m,g,w,D,H){d/=_NeuQuant$1._initAlpha;const q=this._network[m];q.subtract(d*(q.r-D),d*(q.g-w),d*(q.b-g),d*(q.a-H))}_contest(d,m,g,w){const D=1020<<networkBiasShift$1;let H=2147483647,q=H,it=-1,ot=it;for(let ft=0;ft<this._networkSize;ft++){const ut=this._network[ft],dt=this._distance.calculateNormalized(ut,{r:g,g:m,b:d,a:w})*D|0;dt<H&&(H=dt,it=ft);const St=dt-(this._bias[ft]>>_NeuQuant$1._initialBiasShift-networkBiasShift$1);St<q&&(q=St,ot=ft);const Tt=this._freq[ft]>>_NeuQuant$1._betaShift;this._freq[ft]-=Tt,this._bias[ft]+=Tt<<_NeuQuant$1._gammaShift}return this._freq[it]+=_NeuQuant$1._beta,this._bias[it]-=_NeuQuant$1._betaGamma,ot}},NeuQuant$1=_NeuQuant$1;__publicField$3(NeuQuant$1,"_prime1",499),__publicField$3(NeuQuant$1,"_prime2",491),__publicField$3(NeuQuant$1,"_prime3",487),__publicField$3(NeuQuant$1,"_prime4",503),__publicField$3(NeuQuant$1,"_minpicturebytes",_NeuQuant$1._prime4),__publicField$3(NeuQuant$1,"_nCycles",100),__publicField$3(NeuQuant$1,"_initialBiasShift",16),__publicField$3(NeuQuant$1,"_initialBias",1<<_NeuQuant$1._initialBiasShift),__publicField$3(NeuQuant$1,"_gammaShift",10),__publicField$3(NeuQuant$1,"_betaShift",10),__publicField$3(NeuQuant$1,"_beta",_NeuQuant$1._initialBias>>_NeuQuant$1._betaShift),__publicField$3(NeuQuant$1,"_betaGamma",_NeuQuant$1._initialBias<<_NeuQuant$1._gammaShift-_NeuQuant$1._betaShift),__publicField$3(NeuQuant$1,"_radiusBiasShift",6),__publicField$3(NeuQuant$1,"_radiusBias",1<<_NeuQuant$1._radiusBiasShift),__publicField$3(NeuQuant$1,"_radiusDecrease",30),__publicField$3(NeuQuant$1,"_alphaBiasShift",10),__publicField$3(NeuQuant$1,"_initAlpha",1<<_NeuQuant$1._alphaBiasShift),__publicField$3(NeuQuant$1,"_radBiasShift",8),__publicField$3(NeuQuant$1,"_radBias",1<<_NeuQuant$1._radBiasShift),__publicField$3(NeuQuant$1,"_alphaRadBiasShift",_NeuQuant$1._alphaBiasShift+_NeuQuant$1._radBiasShift),__publicField$3(NeuQuant$1,"_alphaRadBias",1<<_NeuQuant$1._alphaRadBiasShift);var networkBiasShift2$1=3,NeuronFloat$1=class{constructor(d){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point$1.createByRGBA(this.r>>networkBiasShift2$1,this.g>>networkBiasShift2$1,this.b>>networkBiasShift2$1,this.a>>networkBiasShift2$1)}subtract(d,m,g,w){this.r-=d,this.g-=m,this.b-=g,this.a-=w}},_NeuQuantFloat$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256){super(),__publicField$3(this,"_pointArray"),__publicField$3(this,"_networkSize"),__publicField$3(this,"_network"),__publicField$3(this,"_sampleFactor"),__publicField$3(this,"_radPower"),__publicField$3(this,"_freq"),__publicField$3(this,"_bias"),__publicField$3(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift2$1,255<<networkBiasShift2$1,255<<networkBiasShift2$1,255<<networkBiasShift2$1)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new NeuronFloat$1((d<<networkBiasShift2$1+8)/this._networkSize),this._freq[d]=_NeuQuantFloat$1._initialBias/this._networkSize,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuantFloat$1._minpicturebytes&&(d=1);const g=30+(d-1)/3,w=m/d;let D,H=w/_NeuQuantFloat$1._nCycles|0,q=_NeuQuantFloat$1._initAlpha,it=(this._networkSize>>3)*_NeuQuantFloat$1._radiusBias,ot=it>>_NeuQuantFloat$1._radiusBiasShift;ot<=1&&(ot=0);for(let ut=0;ut<ot;ut++)this._radPower[ut]=q*((ot*ot-ut*ut)*_NeuQuantFloat$1._radBias/(ot*ot));D=m<_NeuQuantFloat$1._minpicturebytes?1:m%_NeuQuantFloat$1._prime1!=0?_NeuQuantFloat$1._prime1:m%_NeuQuantFloat$1._prime2!=0?_NeuQuantFloat$1._prime2:m%_NeuQuantFloat$1._prime3!=0?_NeuQuantFloat$1._prime3:_NeuQuantFloat$1._prime4;const ft=new ProgressTracker$1(w,99);for(let ut=0,dt=0;ut<w;){ft.shouldNotify(ut)&&(yield{progress:ft.progress});const St=this._pointArray[dt],Tt=St.b<<networkBiasShift2$1,Rt=St.g<<networkBiasShift2$1,zt=St.r<<networkBiasShift2$1,$t=St.a<<networkBiasShift2$1,jt=this._contest(Tt,Rt,zt,$t);if(this._alterSingle(q,jt,Tt,Rt,zt,$t),ot!==0&&this._alterNeighbour(ot,jt,Tt,Rt,zt,$t),dt+=D,dt>=m&&(dt-=m),ut++,H===0&&(H=1),ut%H==0){q-=q/g,it-=it/_NeuQuantFloat$1._radiusDecrease,ot=it>>_NeuQuantFloat$1._radiusBiasShift,ot<=1&&(ot=0);for(let Zt=0;Zt<ot;Zt++)this._radPower[Zt]=q*((ot*ot-Zt*Zt)*_NeuQuantFloat$1._radBias/(ot*ot))}}}_buildPalette(){const d=new Palette$1;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,D,H){let q=m-d;q<-1&&(q=-1);let it=m+d;it>this._networkSize&&(it=this._networkSize);let ot=m+1,ft=m-1,ut=1;for(;ot<it||ft>q;){const dt=this._radPower[ut++]/_NeuQuantFloat$1._alphaRadBias;if(ot<it){const St=this._network[ot++];St.subtract(dt*(St.r-D),dt*(St.g-w),dt*(St.b-g),dt*(St.a-H))}if(ft>q){const St=this._network[ft--];St.subtract(dt*(St.r-D),dt*(St.g-w),dt*(St.b-g),dt*(St.a-H))}}}_alterSingle(d,m,g,w,D,H){d/=_NeuQuantFloat$1._initAlpha;const q=this._network[m];q.subtract(d*(q.r-D),d*(q.g-w),d*(q.b-g),d*(q.a-H))}_contest(d,m,g,w){const D=1020<<networkBiasShift2$1;let H=2147483647,q=H,it=-1,ot=it;for(let ft=0;ft<this._networkSize;ft++){const ut=this._network[ft],dt=this._distance.calculateNormalized(ut,{r:g,g:m,b:d,a:w})*D;dt<H&&(H=dt,it=ft);const St=dt-(this._bias[ft]>>_NeuQuantFloat$1._initialBiasShift-networkBiasShift2$1);St<q&&(q=St,ot=ft);const Tt=this._freq[ft]>>_NeuQuantFloat$1._betaShift;this._freq[ft]-=Tt,this._bias[ft]+=Tt<<_NeuQuantFloat$1._gammaShift}return this._freq[it]+=_NeuQuantFloat$1._beta,this._bias[it]-=_NeuQuantFloat$1._betaGamma,ot}},NeuQuantFloat$1=_NeuQuantFloat$1;__publicField$3(NeuQuantFloat$1,"_prime1",499),__publicField$3(NeuQuantFloat$1,"_prime2",491),__publicField$3(NeuQuantFloat$1,"_prime3",487),__publicField$3(NeuQuantFloat$1,"_prime4",503),__publicField$3(NeuQuantFloat$1,"_minpicturebytes",_NeuQuantFloat$1._prime4),__publicField$3(NeuQuantFloat$1,"_nCycles",100),__publicField$3(NeuQuantFloat$1,"_initialBiasShift",16),__publicField$3(NeuQuantFloat$1,"_initialBias",1<<_NeuQuantFloat$1._initialBiasShift),__publicField$3(NeuQuantFloat$1,"_gammaShift",10),__publicField$3(NeuQuantFloat$1,"_betaShift",10),__publicField$3(NeuQuantFloat$1,"_beta",_NeuQuantFloat$1._initialBias>>_NeuQuantFloat$1._betaShift),__publicField$3(NeuQuantFloat$1,"_betaGamma",_NeuQuantFloat$1._initialBias<<_NeuQuantFloat$1._gammaShift-_NeuQuantFloat$1._betaShift),__publicField$3(NeuQuantFloat$1,"_radiusBiasShift",6),__publicField$3(NeuQuantFloat$1,"_radiusBias",1<<_NeuQuantFloat$1._radiusBiasShift),__publicField$3(NeuQuantFloat$1,"_radiusDecrease",30),__publicField$3(NeuQuantFloat$1,"_alphaBiasShift",10),__publicField$3(NeuQuantFloat$1,"_initAlpha",1<<_NeuQuantFloat$1._alphaBiasShift),__publicField$3(NeuQuantFloat$1,"_radBiasShift",8),__publicField$3(NeuQuantFloat$1,"_radBias",1<<_NeuQuantFloat$1._radBiasShift),__publicField$3(NeuQuantFloat$1,"_alphaRadBiasShift",_NeuQuantFloat$1._alphaBiasShift+_NeuQuantFloat$1._radBiasShift),__publicField$3(NeuQuantFloat$1,"_alphaRadBias",1<<_NeuQuantFloat$1._alphaRadBiasShift);var _ColorHistogram$1=class{constructor(d,m){__publicField$3(this,"_method"),__publicField$3(this,"_hueStats"),__publicField$3(this,"_histogram"),__publicField$3(this,"_initColors"),__publicField$3(this,"_minHueCols"),this._method=d,this._minHueCols=m<<2,this._initColors=m<<2,this._hueStats=new HueStatistics$1(_ColorHistogram$1._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(d){switch(this._method){case 1:this._colorStats1D(d);break;case 2:this._colorStats2D(d)}}getImportanceSortedColorsIDXI32(){const d=stableSort$1(Object.keys(this._histogram),(g,w)=>this._histogram[w]-this._histogram[g]);if(d.length===0)return[];let m;switch(this._method){case 1:const g=Math.min(d.length,this._initColors),w=d[g-1],D=this._histogram[w];m=d.slice(0,g);let H=g;const q=d.length;for(;H<q&&this._histogram[d[H]]===D;)m.push(d[H++]);this._hueStats.injectIntoArray(m);break;case 2:m=d;break;default:throw new Error("Incorrect method")}return m.map(g=>+g)}_colorStats1D(d){const m=this._histogram,g=d.getPointArray(),w=g.length;for(let D=0;D<w;D++){const H=g[D].uint32;this._hueStats.check(H),H in m?m[H]++:m[H]=1}}_colorStats2D(d){const m=d.getWidth(),g=d.getHeight(),w=d.getPointArray(),D=_ColorHistogram$1._boxSize[0],H=_ColorHistogram$1._boxSize[1],q=D*H,it=this._makeBoxes(m,g,D,H),ot=this._histogram;it.forEach(ft=>{let ut=Math.round(ft.w*ft.h/q)*_ColorHistogram$1._boxPixels;ut<2&&(ut=2);const dt={};this._iterateBox(ft,m,St=>{const Tt=w[St].uint32;this._hueStats.check(Tt),Tt in ot?ot[Tt]++:Tt in dt?++dt[Tt]>=ut&&(ot[Tt]=dt[Tt]):dt[Tt]=1})}),this._hueStats.injectIntoDictionary(ot)}_iterateBox(d,m,g){const w=d,D=w.y*m+w.x,H=(w.y+w.h-1)*m+(w.x+w.w-1),q=m-w.w+1;let it=0,ot=D;do g.call(this,ot),ot+=++it%w.w==0?q:1;while(ot<=H)}_makeBoxes(d,m,g,w){const D=d%g,H=m%w,q=d-D,it=m-H,ot=[];for(let ft=0;ft<m;ft+=w)for(let ut=0;ut<d;ut+=g)ot.push({x:ut,y:ft,w:ut===q?D:g,h:ft===it?H:w});return ot}},ColorHistogram$1=_ColorHistogram$1;__publicField$3(ColorHistogram$1,"_boxSize",[64,64]),__publicField$3(ColorHistogram$1,"_boxPixels",2),__publicField$3(ColorHistogram$1,"_hueGroups",10);var RemovedColor$1=class{constructor(d,m,g){__publicField$3(this,"index"),__publicField$3(this,"color"),__publicField$3(this,"distance"),this.index=d,this.color=m,this.distance=g}},RGBQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256,g=2){super(),__publicField$3(this,"_colors"),__publicField$3(this,"_initialDistance"),__publicField$3(this,"_distanceIncrement"),__publicField$3(this,"_histogram"),__publicField$3(this,"_distance"),this._distance=d,this._colors=m,this._histogram=new ColorHistogram$1(g,m),this._initialDistance=.01,this._distanceIncrement=.005}sample(d){this._histogram.sample(d)}*quantize(){const d=this._histogram.getImportanceSortedColorsIDXI32();if(d.length===0)throw new Error("No colors in image");yield*this._buildPalette(d)}*_buildPalette(d){const m=new Palette$1,g=m.getPointContainer().getPointArray(),w=new Array(d.length);for(let ut=0;ut<d.length;ut++)g.push(Point$1.createByUint32(d[ut])),w[ut]=1;const D=g.length,H=[];let q=D,it=this._initialDistance;const ot=new ProgressTracker$1(q-this._colors,99);for(;q>this._colors;){H.length=0;for(let ut=0;ut<D;ut++){if(ot.shouldNotify(D-q)&&(yield{progress:ot.progress}),w[ut]===0)continue;const dt=g[ut];for(let St=ut+1;St<D;St++){if(w[St]===0)continue;const Tt=g[St],Rt=this._distance.calculateNormalized(dt,Tt);Rt<it&&(H.push(new RemovedColor$1(St,Tt,Rt)),w[St]=0,q--)}}it+=q>3*this._colors?this._initialDistance:this._distanceIncrement}if(q<this._colors){stableSort$1(H,(dt,St)=>St.distance-dt.distance);let ut=0;for(;q<this._colors&&ut<H.length;)w[H[ut].index]=1,q++,ut++}let ft=g.length;for(let ut=ft-1;ut>=0;ut--)w[ut]===0&&(ut!==ft-1&&(g[ut]=g[ft-1]),--ft);g.length=ft,m.sort(),yield{palette:m,progress:100}}};function createArray1D$1(d){const m=[];for(let g=0;g<d;g++)m[g]=0;return m}function createArray4D$1(d,m,g,w){const D=new Array(d);for(let H=0;H<d;H++){D[H]=new Array(m);for(let q=0;q<m;q++){D[H][q]=new Array(g);for(let it=0;it<g;it++){D[H][q][it]=new Array(w);for(let ot=0;ot<w;ot++)D[H][q][it][ot]=0}}}return D}function createArray3D$1(d,m,g){const w=new Array(d);for(let D=0;D<d;D++){w[D]=new Array(m);for(let H=0;H<m;H++){w[D][H]=new Array(g);for(let q=0;q<g;q++)w[D][H][q]=0}}return w}function fillArray3D$1(d,m,g,w,D){for(let H=0;H<m;H++){d[H]=[];for(let q=0;q<g;q++){d[H][q]=[];for(let it=0;it<w;it++)d[H][q][it]=D}}}function fillArray1D$1(d,m,g){for(let w=0;w<m;w++)d[w]=g}var WuColorCube$1=class{constructor(){__publicField$3(this,"redMinimum"),__publicField$3(this,"redMaximum"),__publicField$3(this,"greenMinimum"),__publicField$3(this,"greenMaximum"),__publicField$3(this,"blueMinimum"),__publicField$3(this,"blueMaximum"),__publicField$3(this,"volume"),__publicField$3(this,"alphaMinimum"),__publicField$3(this,"alphaMaximum")}},_WuQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256,g=5){super(),__publicField$3(this,"_reds"),__publicField$3(this,"_greens"),__publicField$3(this,"_blues"),__publicField$3(this,"_alphas"),__publicField$3(this,"_sums"),__publicField$3(this,"_weights"),__publicField$3(this,"_momentsRed"),__publicField$3(this,"_momentsGreen"),__publicField$3(this,"_momentsBlue"),__publicField$3(this,"_momentsAlpha"),__publicField$3(this,"_moments"),__publicField$3(this,"_table"),__publicField$3(this,"_pixels"),__publicField$3(this,"_cubes"),__publicField$3(this,"_colors"),__publicField$3(this,"_significantBitsPerChannel"),__publicField$3(this,"_maxSideIndex"),__publicField$3(this,"_alphaMaxSideIndex"),__publicField$3(this,"_sideSize"),__publicField$3(this,"_alphaSideSize"),__publicField$3(this,"_distance"),this._distance=d,this._setQuality(g),this._initialize(m)}sample(d){const m=d.getPointArray();for(let g=0,w=m.length;g<w;g++)this._addColor(m[g]);this._pixels=this._pixels.concat(m)}*quantize(){yield*this._preparePalette();const d=new Palette$1;for(let m=0;m<this._colors;m++)if(this._sums[m]>0){const g=this._sums[m],w=this._reds[m]/g,D=this._greens[m]/g,H=this._blues[m]/g,q=this._alphas[m]/g,it=Point$1.createByRGBA(0|w,0|D,0|H,0|q);d.add(it)}d.sort(),yield{palette:d,progress:100}}*_preparePalette(){yield*this._calculateMoments();let d=0;const m=createArray1D$1(this._colors);for(let q=1;q<this._colors;++q){this._cut(this._cubes[d],this._cubes[q])?(m[d]=this._cubes[d].volume>1?this._calculateVariance(this._cubes[d]):0,m[q]=this._cubes[q].volume>1?this._calculateVariance(this._cubes[q]):0):(m[d]=0,q--),d=0;let it=m[0];for(let ot=1;ot<=q;++ot)m[ot]>it&&(it=m[ot],d=ot);if(it<=0){this._colors=q+1;break}}const g=[],w=[],D=[],H=[];for(let q=0;q<this._colors;++q){const it=_WuQuant$1._volume(this._cubes[q],this._weights);it>0?(g[q]=_WuQuant$1._volume(this._cubes[q],this._momentsRed)/it|0,w[q]=_WuQuant$1._volume(this._cubes[q],this._momentsGreen)/it|0,D[q]=_WuQuant$1._volume(this._cubes[q],this._momentsBlue)/it|0,H[q]=_WuQuant$1._volume(this._cubes[q],this._momentsAlpha)/it|0):(g[q]=0,w[q]=0,D[q]=0,H[q]=0)}this._reds=createArray1D$1(this._colors+1),this._greens=createArray1D$1(this._colors+1),this._blues=createArray1D$1(this._colors+1),this._alphas=createArray1D$1(this._colors+1),this._sums=createArray1D$1(this._colors+1);for(let q=0,it=this._pixels.length;q<it;q++){const ot=this._pixels[q];let ft=-1,ut=Number.MAX_VALUE;for(let dt=0;dt<this._colors;dt++){const St=g[dt],Tt=w[dt],Rt=D[dt],zt=H[dt],$t=this._distance.calculateRaw(St,Tt,Rt,zt,ot.r,ot.g,ot.b,ot.a);$t<ut&&(ut=$t,ft=dt)}this._reds[ft]+=ot.r,this._greens[ft]+=ot.g,this._blues[ft]+=ot.b,this._alphas[ft]+=ot.a,this._sums[ft]++}}_addColor(d){const m=8-this._significantBitsPerChannel,g=1+(d.r>>m),w=1+(d.g>>m),D=1+(d.b>>m),H=1+(d.a>>m);this._weights[H][g][w][D]++,this._momentsRed[H][g][w][D]+=d.r,this._momentsGreen[H][g][w][D]+=d.g,this._momentsBlue[H][g][w][D]+=d.b,this._momentsAlpha[H][g][w][D]+=d.a,this._moments[H][g][w][D]+=this._table[d.r]+this._table[d.g]+this._table[d.b]+this._table[d.a]}*_calculateMoments(){const d=[],m=[],g=[],w=[],D=[],H=[],q=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),it=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),ot=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),ft=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),ut=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),dt=createArray3D$1(this._sideSize,this._sideSize,this._sideSize);let St=0;const Tt=new ProgressTracker$1(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let Rt=1;Rt<=this._alphaMaxSideIndex;++Rt){fillArray3D$1(q,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(it,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(ot,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(ft,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(ut,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(dt,this._sideSize,this._sideSize,this._sideSize,0);for(let zt=1;zt<=this._maxSideIndex;++zt,++St){Tt.shouldNotify(St)&&(yield{progress:Tt.progress}),fillArray1D$1(d,this._sideSize,0),fillArray1D$1(m,this._sideSize,0),fillArray1D$1(g,this._sideSize,0),fillArray1D$1(w,this._sideSize,0),fillArray1D$1(D,this._sideSize,0),fillArray1D$1(H,this._sideSize,0);for(let $t=1;$t<=this._maxSideIndex;++$t){let jt=0,Zt=0,Ft=0,Dt=0,Kt=0,re=0;for(let Yt=1;Yt<=this._maxSideIndex;++Yt)jt+=this._weights[Rt][zt][$t][Yt],Zt+=this._momentsRed[Rt][zt][$t][Yt],Ft+=this._momentsGreen[Rt][zt][$t][Yt],Dt+=this._momentsBlue[Rt][zt][$t][Yt],Kt+=this._momentsAlpha[Rt][zt][$t][Yt],re+=this._moments[Rt][zt][$t][Yt],d[Yt]+=jt,m[Yt]+=Zt,g[Yt]+=Ft,w[Yt]+=Dt,D[Yt]+=Kt,H[Yt]+=re,q[zt][$t][Yt]=q[zt-1][$t][Yt]+d[Yt],it[zt][$t][Yt]=it[zt-1][$t][Yt]+m[Yt],ot[zt][$t][Yt]=ot[zt-1][$t][Yt]+g[Yt],ft[zt][$t][Yt]=ft[zt-1][$t][Yt]+w[Yt],ut[zt][$t][Yt]=ut[zt-1][$t][Yt]+D[Yt],dt[zt][$t][Yt]=dt[zt-1][$t][Yt]+H[Yt],this._weights[Rt][zt][$t][Yt]=this._weights[Rt-1][zt][$t][Yt]+q[zt][$t][Yt],this._momentsRed[Rt][zt][$t][Yt]=this._momentsRed[Rt-1][zt][$t][Yt]+it[zt][$t][Yt],this._momentsGreen[Rt][zt][$t][Yt]=this._momentsGreen[Rt-1][zt][$t][Yt]+ot[zt][$t][Yt],this._momentsBlue[Rt][zt][$t][Yt]=this._momentsBlue[Rt-1][zt][$t][Yt]+ft[zt][$t][Yt],this._momentsAlpha[Rt][zt][$t][Yt]=this._momentsAlpha[Rt-1][zt][$t][Yt]+ut[zt][$t][Yt],this._moments[Rt][zt][$t][Yt]=this._moments[Rt-1][zt][$t][Yt]+dt[zt][$t][Yt]}}}}static _volumeFloat(d,m){return m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMaximum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum])}static _volume(d,m){return 0|_WuQuant$1._volumeFloat(d,m)}static _top(d,m,g,w){let D;switch(m){case _WuQuant$1._alpha:D=w[g][d.redMaximum][d.greenMaximum][d.blueMaximum]-w[g][d.redMaximum][d.greenMinimum][d.blueMaximum]-w[g][d.redMinimum][d.greenMaximum][d.blueMaximum]+w[g][d.redMinimum][d.greenMinimum][d.blueMaximum]-(w[g][d.redMaximum][d.greenMaximum][d.blueMinimum]-w[g][d.redMaximum][d.greenMinimum][d.blueMinimum]-w[g][d.redMinimum][d.greenMaximum][d.blueMinimum]+w[g][d.redMinimum][d.greenMinimum][d.blueMinimum]);break;case _WuQuant$1._red:D=w[d.alphaMaximum][g][d.greenMaximum][d.blueMaximum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMaximum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMaximum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMaximum]-(w[d.alphaMaximum][g][d.greenMaximum][d.blueMinimum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMinimum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMinimum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMinimum]);break;case _WuQuant$1._green:D=w[d.alphaMaximum][d.redMaximum][g][d.blueMaximum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMaximum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMaximum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMaximum]-(w[d.alphaMaximum][d.redMaximum][g][d.blueMinimum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMinimum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMinimum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMinimum]);break;case _WuQuant$1._blue:D=w[d.alphaMaximum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMaximum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMaximum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMaximum][d.redMinimum][d.greenMinimum][g]-(w[d.alphaMinimum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMinimum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMinimum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMinimum][d.redMinimum][d.greenMinimum][g]);break;default:throw new Error("impossible")}return 0|D}static _bottom(d,m,g){switch(m){case _WuQuant$1._alpha:return-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._red:return-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._green:return-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._blue:return-g[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);default:return 0}}_calculateVariance(d){const m=_WuQuant$1._volume(d,this._momentsRed),g=_WuQuant$1._volume(d,this._momentsGreen),w=_WuQuant$1._volume(d,this._momentsBlue),D=_WuQuant$1._volume(d,this._momentsAlpha);return _WuQuant$1._volumeFloat(d,this._moments)-(m*m+g*g+w*w+D*D)/_WuQuant$1._volume(d,this._weights)}_maximize(d,m,g,w,D,H,q,it,ot){const ft=0|_WuQuant$1._bottom(d,m,this._momentsRed),ut=0|_WuQuant$1._bottom(d,m,this._momentsGreen),dt=0|_WuQuant$1._bottom(d,m,this._momentsBlue),St=0|_WuQuant$1._bottom(d,m,this._momentsAlpha),Tt=0|_WuQuant$1._bottom(d,m,this._weights);let Rt=0,zt=-1;for(let $t=g;$t<w;++$t){let jt=ft+_WuQuant$1._top(d,m,$t,this._momentsRed),Zt=ut+_WuQuant$1._top(d,m,$t,this._momentsGreen),Ft=dt+_WuQuant$1._top(d,m,$t,this._momentsBlue),Dt=St+_WuQuant$1._top(d,m,$t,this._momentsAlpha),Kt=Tt+_WuQuant$1._top(d,m,$t,this._weights);if(Kt!==0){let re=jt*jt+Zt*Zt+Ft*Ft+Dt*Dt,Yt=re/Kt;jt=D-jt,Zt=H-Zt,Ft=q-Ft,Dt=it-Dt,Kt=ot-Kt,Kt!==0&&(re=jt*jt+Zt*Zt+Ft*Ft+Dt*Dt,Yt+=re/Kt,Yt>Rt&&(Rt=Yt,zt=$t))}}return{max:Rt,position:zt}}_cut(d,m){let g;const w=_WuQuant$1._volume(d,this._momentsRed),D=_WuQuant$1._volume(d,this._momentsGreen),H=_WuQuant$1._volume(d,this._momentsBlue),q=_WuQuant$1._volume(d,this._momentsAlpha),it=_WuQuant$1._volume(d,this._weights),ot=this._maximize(d,_WuQuant$1._red,d.redMinimum+1,d.redMaximum,w,D,H,q,it),ft=this._maximize(d,_WuQuant$1._green,d.greenMinimum+1,d.greenMaximum,w,D,H,q,it),ut=this._maximize(d,_WuQuant$1._blue,d.blueMinimum+1,d.blueMaximum,w,D,H,q,it),dt=this._maximize(d,_WuQuant$1._alpha,d.alphaMinimum+1,d.alphaMaximum,w,D,H,q,it);if(dt.max>=ot.max&&dt.max>=ft.max&&dt.max>=ut.max){if(g=_WuQuant$1._alpha,dt.position<0)return!1}else g=ot.max>=dt.max&&ot.max>=ft.max&&ot.max>=ut.max?_WuQuant$1._red:ft.max>=dt.max&&ft.max>=ot.max&&ft.max>=ut.max?_WuQuant$1._green:_WuQuant$1._blue;switch(m.redMaximum=d.redMaximum,m.greenMaximum=d.greenMaximum,m.blueMaximum=d.blueMaximum,m.alphaMaximum=d.alphaMaximum,g){case _WuQuant$1._red:m.redMinimum=d.redMaximum=ot.position,m.greenMinimum=d.greenMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._green:m.greenMinimum=d.greenMaximum=ft.position,m.redMinimum=d.redMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._blue:m.blueMinimum=d.blueMaximum=ut.position,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._alpha:m.alphaMinimum=d.alphaMaximum=dt.position,m.blueMinimum=d.blueMinimum,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum}return d.volume=(d.redMaximum-d.redMinimum)*(d.greenMaximum-d.greenMinimum)*(d.blueMaximum-d.blueMinimum)*(d.alphaMaximum-d.alphaMinimum),m.volume=(m.redMaximum-m.redMinimum)*(m.greenMaximum-m.greenMinimum)*(m.blueMaximum-m.blueMinimum)*(m.alphaMaximum-m.alphaMinimum),!0}_initialize(d){this._colors=d,this._cubes=[];for(let m=0;m<d;m++)this._cubes[m]=new WuColorCube$1;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let m=0;m<256;++m)this._table[m]=m*m;this._pixels=[]}_setQuality(d=5){this._significantBitsPerChannel=d,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},WuQuant$1=_WuQuant$1;__publicField$3(WuQuant$1,"_alpha",3),__publicField$3(WuQuant$1,"_red",2),__publicField$3(WuQuant$1,"_green",1),__publicField$3(WuQuant$1,"_blue",0);var image_exports$1={};__export$1(image_exports$1,{AbstractImageQuantizer:()=>AbstractImageQuantizer$1,ErrorDiffusionArray:()=>ErrorDiffusionArray$1,ErrorDiffusionArrayKernel:()=>ErrorDiffusionArrayKernel$1,ErrorDiffusionRiemersma:()=>ErrorDiffusionRiemersma$1,NearestColor:()=>NearestColor$1});var AbstractImageQuantizer$1=class{quantizeSync(d,m){for(const g of this.quantize(d,m))if(g.pointContainer)return g.pointContainer;throw new Error("unreachable")}},NearestColor$1=class extends AbstractImageQuantizer$1{constructor(d){super(),__publicField$3(this,"_distance"),this._distance=d}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),D=d.getHeight(),H=new ProgressTracker$1(D,99);for(let q=0;q<D;q++){H.shouldNotify(q)&&(yield{progress:H.progress});for(let it=0,ot=q*w;it<w;it++,ot++){const ft=g[ot];ft.from(m.getNearestColor(this._distance,ft))}}yield{pointContainer:d,progress:100}}},ErrorDiffusionArrayKernel$1=(d=>(d[d.FloydSteinberg=0]="FloydSteinberg",d[d.FalseFloydSteinberg=1]="FalseFloydSteinberg",d[d.Stucki=2]="Stucki",d[d.Atkinson=3]="Atkinson",d[d.Jarvis=4]="Jarvis",d[d.Burkes=5]="Burkes",d[d.Sierra=6]="Sierra",d[d.TwoSierra=7]="TwoSierra",d[d.SierraLite=8]="SierraLite",d))(ErrorDiffusionArrayKernel$1||{}),ErrorDiffusionArray$1=class extends AbstractImageQuantizer$1{constructor(d,m,g=!0,w=0,D=!1){super(),__publicField$3(this,"_minColorDistance"),__publicField$3(this,"_serpentine"),__publicField$3(this,"_kernel"),__publicField$3(this,"_calculateErrorLikeGIMP"),__publicField$3(this,"_distance"),this._setKernel(m),this._distance=d,this._minColorDistance=w,this._serpentine=g,this._calculateErrorLikeGIMP=D}*quantize(d,m){const g=d.getPointArray(),w=new Point$1,D=d.getWidth(),H=d.getHeight(),q=[];let it=1,ot=1;for(const ut of this._kernel){const dt=ut[2]+1;ot<dt&&(ot=dt)}for(let ut=0;ut<ot;ut++)this._fillErrorLine(q[ut]=[],D);const ft=new ProgressTracker$1(H,99);for(let ut=0;ut<H;ut++){ft.shouldNotify(ut)&&(yield{progress:ft.progress}),this._serpentine&&(it*=-1);const dt=ut*D,St=it===1?0:D-1,Tt=it===1?D:-1;this._fillErrorLine(q[0],D),q.push(q.shift());const Rt=q[0];for(let zt=St,$t=dt+St;zt!==Tt;zt+=it,$t+=it){const jt=g[$t],Zt=Rt[zt];w.from(jt);const Ft=Point$1.createByRGBA(inRange0to255Rounded$1(jt.r+Zt[0]),inRange0to255Rounded$1(jt.g+Zt[1]),inRange0to255Rounded$1(jt.b+Zt[2]),inRange0to255Rounded$1(jt.a+Zt[3])),Dt=m.getNearestColor(this._distance,Ft);if(jt.from(Dt),this._minColorDistance&&this._distance.calculateNormalized(w,Dt)<this._minColorDistance)continue;let Kt,re,Yt,ne;this._calculateErrorLikeGIMP?(Kt=Ft.r-Dt.r,re=Ft.g-Dt.g,Yt=Ft.b-Dt.b,ne=Ft.a-Dt.a):(Kt=w.r-Dt.r,re=w.g-Dt.g,Yt=w.b-Dt.b,ne=w.a-Dt.a);const ee=it===1?0:this._kernel.length-1,ae=it===1?this._kernel.length:-1;for(let Ut=ee;Ut!==ae;Ut+=it){const ie=this._kernel[Ut][1]*it,_e=this._kernel[Ut][2];if(ie+zt>=0&&ie+zt<D&&_e+ut>=0&&_e+ut<H){const ce=this._kernel[Ut][0],le=q[_e][ie+zt];le[0]+=Kt*ce,le[1]+=re*ce,le[2]+=Yt*ce,le[3]+=ne*ce}}}}yield{pointContainer:d,progress:100}}_fillErrorLine(d,m){d.length>m&&(d.length=m);const g=d.length;for(let w=0;w<g;w++){const D=d[w];D[0]=D[1]=D[2]=D[3]=0}for(let w=g;w<m;w++)d[w]=[0,0,0,0]}_setKernel(d){switch(d){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${d}`)}}};function*hilbertCurve$1(d,m,g){const w=Math.max(d,m),D={width:d,height:m,level:Math.floor(Math.log(w)/Math.log(2)+1),callback:g,tracker:new ProgressTracker$1(d*m,99),index:0,x:0,y:0};yield*walkHilbert$1(D,1),visit$1(D,0)}function*walkHilbert$1(d,m){if(!(d.level<1)){switch(d.tracker.shouldNotify(d.index)&&(yield{progress:d.tracker.progress}),d.level--,m){case 2:yield*walkHilbert$1(d,1),visit$1(d,3),yield*walkHilbert$1(d,2),visit$1(d,4),yield*walkHilbert$1(d,2),visit$1(d,2),yield*walkHilbert$1(d,4);break;case 3:yield*walkHilbert$1(d,4),visit$1(d,2),yield*walkHilbert$1(d,3),visit$1(d,1),yield*walkHilbert$1(d,3),visit$1(d,3),yield*walkHilbert$1(d,1);break;case 1:yield*walkHilbert$1(d,2),visit$1(d,4),yield*walkHilbert$1(d,1),visit$1(d,3),yield*walkHilbert$1(d,1),visit$1(d,1),yield*walkHilbert$1(d,3);break;case 4:yield*walkHilbert$1(d,3),visit$1(d,1),yield*walkHilbert$1(d,4),visit$1(d,2),yield*walkHilbert$1(d,4),visit$1(d,4),yield*walkHilbert$1(d,2)}d.level++}}function visit$1(d,m){switch(d.x>=0&&d.x<d.width&&d.y>=0&&d.y<d.height&&(d.callback(d.x,d.y),d.index++),m){case 2:d.x--;break;case 3:d.x++;break;case 1:d.y--;break;case 4:d.y++}}var ErrorDiffusionRiemersma$1=class extends AbstractImageQuantizer$1{constructor(d,m=16,g=1){super(),__publicField$3(this,"_distance"),__publicField$3(this,"_weights"),__publicField$3(this,"_errorQueueSize"),this._distance=d,this._errorQueueSize=m,this._weights=ErrorDiffusionRiemersma$1._createWeights(g,m)}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),D=d.getHeight(),H=[];let q=0;for(let it=0;it<this._errorQueueSize;it++)H[it]={r:0,g:0,b:0,a:0};yield*hilbertCurve$1(w,D,(it,ot)=>{const ft=g[it+ot*w];let{r:ut,g:dt,b:St,a:Tt}=ft;for(let jt=0;jt<this._errorQueueSize;jt++){const Zt=this._weights[jt],Ft=H[(jt+q)%this._errorQueueSize];ut+=Ft.r*Zt,dt+=Ft.g*Zt,St+=Ft.b*Zt,Tt+=Ft.a*Zt}const Rt=Point$1.createByRGBA(inRange0to255Rounded$1(ut),inRange0to255Rounded$1(dt),inRange0to255Rounded$1(St),inRange0to255Rounded$1(Tt)),zt=m.getNearestColor(this._distance,Rt);q=(q+1)%this._errorQueueSize;const $t=(q+this._errorQueueSize-1)%this._errorQueueSize;H[$t].r=ft.r-zt.r,H[$t].g=ft.g-zt.g,H[$t].b=ft.b-zt.b,H[$t].a=ft.a-zt.a,ft.from(zt)}),yield{pointContainer:d,progress:100}}static _createWeights(d,m){const g=[],w=Math.exp(Math.log(m)/(m-1));for(let D=0,H=1;D<m;D++)g[D]=(H+.5|0)/m*d,H*=w;return g}},quality_exports$1={};__export$1(quality_exports$1,{ssim:()=>ssim$1});var K1$1=.01,K2$1=.03;function ssim$1(d,m){if(d.getHeight()!==m.getHeight()||d.getWidth()!==m.getWidth())throw new Error("Images have different sizes!");const g=(255*K1$1)**2,w=(255*K2$1)**2;let D=0,H=0;return iterate$1(d,m,(q,it,ot,ft)=>{let ut=0,dt=0,St=0;for(let Rt=0;Rt<q.length;Rt++)dt+=(q[Rt]-ot)**2,St+=(it[Rt]-ft)**2,ut+=(q[Rt]-ot)*(it[Rt]-ft);const Tt=q.length-1;dt/=Tt,St/=Tt,ut/=Tt,H+=(2*ot*ft+g)*(2*ut+w)/((ot**2+ft**2+g)*(dt+St+w)),D++}),H/D}function iterate$1(d,m,g){const w=d.getWidth(),D=d.getHeight();for(let H=0;H<D;H+=8)for(let q=0;q<w;q+=8){const it=Math.min(8,w-q),ot=Math.min(8,D-H),ft=calculateLumaValuesForWindow$1(d,q,H,it,ot),ut=calculateLumaValuesForWindow$1(m,q,H,it,ot);g(ft,ut,calculateAverageLuma$1(ft),calculateAverageLuma$1(ut))}}function calculateLumaValuesForWindow$1(d,m,g,w,D){const H=d.getPointArray(),q=[];let it=0;for(let ot=g;ot<g+D;ot++){const ft=ot*d.getWidth();for(let ut=m;ut<m+w;ut++){const dt=H[ft+ut];q[it]=.2126*dt.r+.7152*dt.g+.0722*dt.b,it++}}return q}function calculateAverageLuma$1(d){let m=0;for(const g of d)m+=g;return m/d.length}var setImmediateImpl=typeof setImmediate=="function"?setImmediate:typeof process<"u"&&typeof(process==null?void 0:process.nextTick)=="function"?d=>process.nextTick(d):d=>setTimeout(d,0);function buildPaletteSync$1(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w}={}){const D=paletteQuantizationToPaletteQuantizer$1(colorDistanceFormulaToColorDistance$1(m),g,w);return d.forEach(H=>D.sample(H)),D.quantizeSync()}async function buildPalette(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w,onProgress:D}={}){return new Promise((H,q)=>{const it=paletteQuantizationToPaletteQuantizer$1(colorDistanceFormulaToColorDistance$1(m),g,w);let ot;d.forEach(dt=>it.sample(dt));const ft=it.quantize(),ut=()=>{try{const dt=ft.next();dt.done?H(ot):(dt.value.palette&&(ot=dt.value.palette),D&&D(dt.value.progress),setImmediateImpl(ut))}catch(dt){q(dt)}};setImmediateImpl(ut)})}function applyPaletteSync$1(d,m,{colorDistanceFormula:g,imageQuantization:w}={}){return imageQuantizationToImageQuantizer$1(colorDistanceFormulaToColorDistance$1(g),w).quantizeSync(d,m)}async function applyPalette(d,m,{colorDistanceFormula:g,imageQuantization:w,onProgress:D}={}){return new Promise((H,q)=>{let it;const ot=imageQuantizationToImageQuantizer$1(colorDistanceFormulaToColorDistance$1(g),w).quantize(d,m),ft=()=>{try{const ut=ot.next();ut.done?H(it):(ut.value.pointContainer&&(it=ut.value.pointContainer),D&&D(ut.value.progress),setImmediateImpl(ft))}catch(ut){q(ut)}};setImmediateImpl(ft)})}function colorDistanceFormulaToColorDistance$1(d="euclidean-bt709"){switch(d){case"cie94-graphic-arts":return new CIE94GraphicArts$1;case"cie94-textiles":return new CIE94Textiles$1;case"ciede2000":return new CIEDE2000$1;case"color-metric":return new CMetric$1;case"euclidean":return new Euclidean$1;case"euclidean-bt709":return new EuclideanBT709$1;case"euclidean-bt709-noalpha":return new EuclideanBT709NoAlpha$1;case"manhattan":return new Manhattan$1;case"manhattan-bt709":return new ManhattanBT709$1;case"manhattan-nommyde":return new ManhattanNommyde$1;case"pngquant":return new PNGQuant$1;default:throw new Error(`Unknown colorDistanceFormula ${d}`)}}function imageQuantizationToImageQuantizer$1(d,m="floyd-steinberg"){switch(m){case"nearest":return new NearestColor$1(d);case"riemersma":return new ErrorDiffusionRiemersma$1(d);case"floyd-steinberg":return new ErrorDiffusionArray$1(d,0);case"false-floyd-steinberg":return new ErrorDiffusionArray$1(d,1);case"stucki":return new ErrorDiffusionArray$1(d,2);case"atkinson":return new ErrorDiffusionArray$1(d,3);case"jarvis":return new ErrorDiffusionArray$1(d,4);case"burkes":return new ErrorDiffusionArray$1(d,5);case"sierra":return new ErrorDiffusionArray$1(d,6);case"two-sierra":return new ErrorDiffusionArray$1(d,7);case"sierra-lite":return new ErrorDiffusionArray$1(d,8);default:throw new Error(`Unknown imageQuantization ${m}`)}}function paletteQuantizationToPaletteQuantizer$1(d,m="wuquant",g=256){switch(m){case"neuquant":return new NeuQuant$1(d,g);case"rgbquant":return new RGBQuant$1(d,g);case"wuquant":return new WuQuant$1(d,g);case"neuquant-float":return new NeuQuantFloat$1(d,g);default:throw new Error(`Unknown paletteQuantization ${m}`)}}var imageQ=__toCommonJS(src_exports),gifframe={};const BitmapImage$1=bitmapimage;let GifFrame$1=class Pl extends BitmapImage$1{constructor(...m){if(super(...m),m[0]instanceof Pl){const g=m[0];this.xOffset=g.xOffset,this.yOffset=g.yOffset,this.disposalMethod=g.disposalMethod,this.delayCentisecs=g.delayCentisecs,this.interlaced=g.interlaced}else{const g=m[m.length-1];let w={};typeof g!="object"||g instanceof BitmapImage$1||(w=g),this.xOffset=w.xOffset||0,this.yOffset=w.yOffset||0,this.disposalMethod=w.disposalMethod!==void 0?w.disposalMethod:Pl.DisposeToBackgroundColor,this.delayCentisecs=w.delayCentisecs||8,this.interlaced=w.interlaced||!1}}getPalette(){const m=new Set,g=this.bitmap.data;let w=0,D=!1;for(;w<g.length;){if(g[w+3]===0)D=!0;else{const ot=g.readUInt32BE(w,!0)>>8&16777215;m.add(ot)}w+=4}const H=new Array(m.size),q=m.values();for(w=0;w<H.length;++w)H[w]=q.next().value;H.sort((ot,ft)=>ot-ft);let it=H.length;return D&&++it,{colors:H,usesTransparency:D,indexCount:it}}};var hasRequiredGifutil,hasRequiredGifcodec;function requireGifutil(){return hasRequiredGifutil||(hasRequiredGifutil=1,function(d){const m=require$$0,g=imageQ,w=bitmapimage,{GifFrame:D}=gifframe,{GifError:H}=gif$1,{GifCodec:q}=requireGifcodec(),it=[".jpg",".jpeg",".png",".bmp"],ot=new q;function ft(ut,dt,St,Tt,Rt){const zt=Array.isArray(ut)?ut:[ut];if(Rt){if(["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"].indexOf(Rt.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${Rt.ditherAlgorithm}'`);Rt.serpentine===void 0&&(Rt.serpentine=!0),Rt.minimumColorDistanceToDither===void 0&&(Rt.minimumColorDistanceToDither=0),Rt.calculateErrorLikeGIMP===void 0&&(Rt.calculateErrorLikeGIMP=!1)}const $t=new g.distance.Euclidean,jt=new g.palette[dt]($t,St,Tt);let Zt;Zt=Rt?new g.image.ErrorDiffusionArray($t,g.image.ErrorDiffusionArrayKernel[Rt.ditherAlgorithm],Rt.serpentine,Rt.minimumColorDistanceToDither,Rt.calculateErrorLikeGIMP):new g.image.NearestColor($t);const Ft=[];zt.forEach(Kt=>{const re=Kt.bitmap.data,Yt=new ArrayBuffer(re.length),ne=new Uint32Array(Yt);for(let ae=0,Ut=0;ae<re.length;ae+=4,++Ut)ne[Ut]=re.readUInt32LE(ae,!0);const ee=g.utils.PointContainer.fromUint32Array(ne,Kt.bitmap.width,Kt.bitmap.height);jt.sample(ee),Ft.push(ee)});const Dt=jt.quantizeSync();for(let Kt=0;Kt<zt.length;++Kt){const re=zt[Kt].bitmap.data,Yt=Zt.quantizeSync(Ft[Kt],Dt).toUint32Array();for(let ne=0,ee=0;ne<re.length;ne+=4,++ee)re.writeUInt32LE(Yt[ee],ne)}}d.cloneFrames=function(ut){let dt=[];return ut.forEach(St=>{dt.push(new D(St))}),dt},d.getColorInfo=function(ut,dt){let St=!1;const Tt=[];for(let Zt=0;Zt<ut.length;++Zt){let Ft=ut[Zt].getPalette();if(Ft.usesTransparency&&(St=!0),Ft.indexCount>256)throw new H(`Frame ${Zt} uses more than 256 color indexes`);Tt.push(Ft)}if(dt===0)return{usesTransparency:St,palettes:Tt};const Rt=new Set;Tt.forEach(Zt=>{Zt.colors.forEach(Ft=>{Rt.add(Ft)})});let zt=Rt.size;if(St&&++zt,dt&&zt>dt)return{usesTransparency:St,palettes:Tt};const $t=new Array(Rt.size),jt=Rt.values();for(let Zt=0;Zt<$t.length;++Zt)$t[Zt]=jt.next().value;return $t.sort((Zt,Ft)=>Zt-Ft),{colors:$t,indexCount:zt,usesTransparency:St,palettes:Tt}},d.copyAsJimp=function(ut,dt){return d.shareAsJimp(ut,new w(dt))},d.getMaxDimensions=function(ut){let dt=0,St=0;return ut.forEach(Tt=>{const Rt=Tt.xOffset+Tt.bitmap.width;Rt>dt&&(dt=Rt);const zt=Tt.yOffset+Tt.bitmap.height;zt>St&&(St=zt)}),{maxWidth:dt,maxHeight:St}},d.quantizeDekker=function(ut,dt,St){ft(ut,"NeuQuantFloat",dt=dt||256,0,St)},d.quantizeSorokin=function(ut,dt,St,Tt){let Rt;switch(dt=dt||256,St=St||"min-pop"){case"min-pop":Rt=2;break;case"top-pop":Rt=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${St}'`)}ft(ut,"RGBQuant",dt,Rt,Tt)},d.quantizeWu=function(ut,dt,St,Tt){if(dt=dt||256,(St=St||5)<1||St>8)throw new Error("Invalid quantization quality");ft(ut,"WuQuant",dt,St,Tt)},d.read=function(ut,dt){return dt=dt||ot,Buffer.isBuffer(ut)?dt.decodeGif(ut):function(St){return new Promise((Tt,Rt)=>{m.readFile(St,(zt,$t)=>zt?Rt(zt):Tt($t))})}(ut).then(St=>dt.decodeGif(St))},d.shareAsJimp=function(ut,dt){const St=new ut(dt.bitmap.width,dt.bitmap.height,0);return St.bitmap.data=dt.bitmap.data,St},d.write=function(ut,dt,St,Tt){Tt=Tt||ot;const Rt=ut.match(/\.[a-zA-Z]+$/);if(Rt!==null&&it.includes(Rt[0].toLowerCase()))throw new Error(`GIF '${ut}' has an unexpected suffix`);return Tt.encodeGif(dt,St).then(zt=>function($t,jt){return new Promise((Zt,Ft)=>{m.writeFile($t,jt,Dt=>Dt?Ft(Dt):Zt())})}(ut,zt.buffer).then(()=>zt))}}(gifutil)),gifutil}function requireGifcodec(){if(hasRequiredGifcodec)return gifcodec;hasRequiredGifcodec=1;const d=omggif,{Gif:m,GifError:g}=gif$1;function w(){const dt=requireGifutil();return w=function(){return dt},dt}const{GifFrame:D}=gifframe;function H(dt,St){const Tt=dt.indexOf(St);return Tt===-1?null:Tt}function q(dt,St){for(var Tt,Rt=0,zt=dt.length-1;Rt<=zt;)if(dt[Tt=Math.floor((Rt+zt)/2)]>St)zt=Tt-1;else{if(!(dt[Tt]<St))return Tt;Rt=Tt+1}return null}function it(dt){const St=dt.colors;dt.usesTransparency&&St.push(0);const Tt=St.length;let Rt=2;for(;Tt>Rt;)Rt<<=1;St.length=Rt,St.fill(0,Tt)}function ot(dt,St){let Tt=dt.bitmap.width*dt.bitmap.height;return Tt=Math.ceil(Tt*St/8),Tt+=Math.ceil(Tt/255),100+Tt+768}function ft(dt){let St=dt.indexCount,Tt=0;for(--St;St;)++Tt,St>>=1;return Tt>0?Tt:1}function ut(dt,St,Tt,Rt,zt){if(Tt.interlaced)throw new g("writing interlaced GIFs is not supported");const $t=function(Zt,Ft,Dt){const Kt=Dt.colors,re=Kt.length<=8?H:q,Yt=Ft.bitmap.data,ne=new Buffer(Yt.length/4);let ee=Kt.length,ae=0,Ut=0;for(;ae<Yt.length;){if(Yt[ae+3]!==0){const ie=Yt.readUInt32BE(ae,!0)>>8&16777215;ne[Ut]=re(Kt,ie)}else ne[Ut]=ee;ae+=4,++Ut}if(Dt.usesTransparency){if(ee===256)throw new g(`Frame ${Zt} already has 256 colorsand so can't use transparency`)}else ee=null;return{buffer:ne,transparentIndex:ee}}(St,Tt,Rt),jt={delay:Tt.delayCentisecs,disposal:Tt.disposalMethod,transparent:$t.transparentIndex};zt&&(it(Rt),jt.palette=Rt.colors);try{let Zt,Ft=dt.getOutputBuffer(),Dt=dt.getOutputBufferPosition(),Kt=!0;for(;Kt;)if(Zt=dt.addFrame(Tt.xOffset,Tt.yOffset,Tt.bitmap.width,Tt.bitmap.height,$t.buffer,jt),Kt=!1,Zt>=Ft.length-1){const re=new Buffer(1.5*Ft.length);Ft.copy(re),dt.setOutputBuffer(re),dt.setOutputBufferPosition(Dt),Ft=re,Kt=!0}return Ft}catch(Zt){throw new g(Zt)}}return gifcodec.GifCodec=class{constructor(dt={}){this._transparentRGB=null,typeof dt.transparentRGB=="number"&&dt.transparentRGB!==0&&(this._transparentRGBA=256*dt.transparentRGB),this._testInitialBufferSize=0}decodeGif(dt){try{let St;try{St=new d.GifReader(dt)}catch($t){throw new g($t)}const Tt=St.numFrames(),Rt=[],zt={width:St.width,height:St.height,loops:St.loopCount(),usesTransparency:!1};for(let $t=0;$t<Tt;++$t){const jt=this._decodeFrame(St,$t,zt.usesTransparency);Rt.push(jt.frame),jt.usesTransparency&&(zt.usesTransparency=!0)}return Promise.resolve(new m(dt,Rt,zt))}catch(St){return Promise.reject(St)}}encodeGif(dt,St={}){try{if(dt===null||dt.length===0)throw new g("there are no frames");const Tt=w().getMaxDimensions(dt);return(St=Object.assign({},St)).width=Tt.maxWidth,St.height=Tt.maxHeight,St.loops===void 0&&(St.loops=0),St.colorScope=St.colorScope||m.GlobalColorsPreferred,Promise.resolve(this._encodeGif(dt,St))}catch(Tt){return Promise.reject(Tt)}}_decodeFrame(dt,St,Tt){let Rt,zt;try{if(Rt=dt.frameInfo(St),zt=new Buffer(dt.width*dt.height*4),dt.decodeAndBlitFrameRGBA(St,zt),Rt.width!==dt.width||Rt.height!==dt.height){if(Rt.y&&(zt=zt.slice(Rt.y*dt.width*4)),dt.width>Rt.width)for(let jt=0;jt<Rt.height;++jt)zt.copy(zt,jt*Rt.width*4,4*(Rt.x+jt*dt.width),4*(Rt.x+jt*dt.width)+4*Rt.width);zt=zt.slice(0,Rt.width*Rt.height*4)}}catch(jt){throw new g(jt)}let $t=!1;if(this._transparentRGBA===null){if(!Tt)for(let jt=3;jt<zt.length;jt+=4)zt[jt]===0&&($t=!0,jt=zt.length)}else for(let jt=3;jt<zt.length;jt+=4)zt[jt]===0&&(zt.writeUInt32BE(this._transparentRGBA,jt-3),$t=!0);return{frame:new D(Rt.width,Rt.height,zt,{xOffset:Rt.x,yOffset:Rt.y,disposalMethod:Rt.disposal,interlaced:Rt.interlaced,delayCentisecs:Rt.delay}),usesTransparency:$t}}_encodeGif(dt,St){let Tt;if(St.colorScope===m.LocalColorsOnly)Tt=w().getColorInfo(dt,0);else if(Tt=w().getColorInfo(dt,256),!Tt.colors){if(St.colorScope===m.GlobalColorsOnly)throw new g("Too many color indexes for global color table");St.colorScope=m.LocalColorsOnly}St.usesTransparency=Tt.usesTransparency;const Rt=Tt.palettes;return St.colorScope===m.LocalColorsOnly?function(zt,$t,jt,Zt){const Ft={loop:$t.loops};let Dt,Kt=new Buffer(jt);try{Dt=new d.GifWriter(Kt,$t.width,$t.height,Ft)}catch(re){throw new g(re)}for(let re=0;re<zt.length;++re)Kt=ut(Dt,re,zt[re],Zt[re],!0);return new m(Kt.slice(0,Dt.end()),zt,$t)}(dt,St,2e3,Rt):function(zt,$t,jt,Zt){const Ft={colors:Zt.colors.slice(),usesTransparency:Zt.usesTransparency};it(Ft);const Dt={palette:Ft.colors,loop:$t.loops};let Kt,re=new Buffer(jt);try{Kt=new d.GifWriter(re,$t.width,$t.height,Dt)}catch(Yt){throw new g(Yt)}for(let Yt=0;Yt<zt.length;++Yt)re=ut(Kt,Yt,zt[Yt],Zt,!1);return new m(re.slice(0,Kt.end()),zt,$t)}(dt,St,2e3,Tt)}_getSizeEstimateGlobal(dt,St){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let Tt=968;const Rt=ft(dt);return St.forEach(zt=>{Tt+=ot(zt,Rt)}),Tt}_getSizeEstimateLocal(dt,St){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let Tt=200;for(let Rt=0;Rt<St.length;++Rt){const zt=ft(dt[Rt]);Tt+=ot(St[Rt],zt)}return Tt}},gifcodec}GifFrame$1.DisposeToAnything=0,GifFrame$1.DisposeNothing=1,GifFrame$1.DisposeToBackgroundColor=2,GifFrame$1.DisposeToPrevious=3,gifframe.GifFrame=GifFrame$1;const BitmapImage=bitmapimage,{Gif,GifError:GifError$1}=gif$1,{GifCodec}=requireGifcodec(),{GifFrame}=gifframe,GifUtil=requireGifutil();var src={BitmapImage,Gif,GifCodec,GifFrame,GifUtil,GifError:GifError$1};function gif(){return{mime:"image/gif",encode:async d=>{const m=new src.BitmapImage(d);src.GifUtil.quantizeDekker(m,256);const g=new src.GifFrame(d);return(await new src.GifCodec().encodeGif([g],{})).buffer},decode:d=>{const m=new omggif.GifReader(d),g=Buffer.alloc(m.width*m.height*4);return m.decodeAndBlitFrameRGBA(0,g),{data:g,width:m.width,height:m.height}}}}var encoder={exports:{}};(function(d){function m(g){var w,D,H,q,it,ot=Math.floor,ft=new Array(64),ut=new Array(64),dt=new Array(64),St=new Array(64),Tt=new Array(65535),Rt=new Array(65535),zt=new Array(64),$t=new Array(64),jt=[],Zt=0,Ft=7,Dt=new Array(64),Kt=new Array(64),re=new Array(64),Yt=new Array(256),ne=new Array(2048),ee=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ae=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Ut=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_e=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ce=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],le=[0,1,2,3,4,5,6,7,8,9,10,11],de=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ve(Ce,Ee){for(var Se=0,Ne=0,Fe=new Array,Oe=1;Oe<=16;Oe++){for(var Pe=1;Pe<=Ce[Oe];Pe++)Fe[Ee[Ne]]=[],Fe[Ee[Ne]][0]=Se,Fe[Ee[Ne]][1]=Oe,Ne++,Se++;Se*=2}return Fe}function ye(Ce){for(var Ee=Ce[0],Se=Ce[1]-1;Se>=0;)Ee&1<<Se&&(Zt|=1<<Ft),Se--,--Ft<0&&(Zt==255?(Me(255),Me(0)):Me(Zt),Ft=7,Zt=0)}function Me(Ce){jt.push(Ce)}function ue(Ce){Me(Ce>>8&255),Me(255&Ce)}function xe(Ce,Ee,Se,Ne,Fe){for(var Oe,Pe=Fe[0],Jt=Fe[240],Te=function(be,De){var je,er,ir,Xe,ar,rr,gr,dr,hr,kr,cr=0;for(hr=0;hr<8;++hr){je=be[cr],er=be[cr+1],ir=be[cr+2],Xe=be[cr+3],ar=be[cr+4],rr=be[cr+5],gr=be[cr+6];var ze=je+(dr=be[cr+7]),nr=je-dr,Le=er+gr,Qe=er-gr,ke=ir+rr,tr=ir-rr,br=Xe+ar,se=Xe-ar,Ve=ze+br,Ze=ze-br,$e=Le+ke,We=Le-ke;be[cr]=Ve+$e,be[cr+4]=Ve-$e;var qe=.707106781*(We+Ze);be[cr+2]=Ze+qe,be[cr+6]=Ze-qe;var _r=.382683433*((Ve=se+tr)-(We=Qe+nr)),fr=.5411961*Ve+_r,pr=1.306562965*We+_r,Ir=.707106781*($e=tr+Qe),Xr=nr+Ir,Ar=nr-Ir;be[cr+5]=Ar+fr,be[cr+3]=Ar-fr,be[cr+1]=Xr+pr,be[cr+7]=Xr-pr,cr+=8}for(cr=0,hr=0;hr<8;++hr){je=be[cr],er=be[cr+8],ir=be[cr+16],Xe=be[cr+24],ar=be[cr+32],rr=be[cr+40],gr=be[cr+48];var Nr=je+(dr=be[cr+56]),Br=je-dr,$r=er+gr,xn=er-gr,An=ir+rr,Fr=ir-rr,rn=Xe+ar,_n=Xe-ar,Zr=Nr+rn,Wr=Nr-rn,Lr=$r+An,Yn=$r-An;be[cr]=Zr+Lr,be[cr+32]=Zr-Lr;var Yi=.707106781*(Yn+Wr);be[cr+16]=Wr+Yi,be[cr+48]=Wr-Yi;var Ki=.382683433*((Zr=_n+Fr)-(Yn=xn+Br)),Xi=.5411961*Zr+Ki,Ji=1.306562965*Yn+Ki,Ba=.707106781*(Lr=Fr+xn),za=Br+Ba,Ur=Br-Ba;be[cr+40]=Ur+Xi,be[cr+24]=Ur-Xi,be[cr+8]=za+Ji,be[cr+56]=za-Ji,cr++}for(hr=0;hr<64;++hr)kr=be[hr]*De[hr],zt[hr]=kr>0?kr+.5|0:kr-.5|0;return zt}(Ce,Ee),he=0;he<64;++he)$t[ee[he]]=Te[he];var me=$t[0]-Se;Se=$t[0],me==0?ye(Ne[0]):(ye(Ne[Rt[Oe=32767+me]]),ye(Tt[Oe]));for(var pe=63;pe>0&&$t[pe]==0;pe--);if(pe==0)return ye(Pe),Se;for(var we,Re=1;Re<=pe;){for(var Ht=Re;$t[Re]==0&&Re<=pe;++Re);var oe=Re-Ht;if(oe>=16){we=oe>>4;for(var ge=1;ge<=we;++ge)ye(Jt);oe&=15}Oe=32767+$t[Re],ye(Fe[(oe<<4)+Rt[Oe]]),ye(Tt[Oe]),Re++}return pe!=63&&ye(Pe),Se}function Be(Ce){Ce<=0&&(Ce=1),Ce>100&&(Ce=100),it!=Ce&&(function(Ee){for(var Se=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ne=0;Ne<64;Ne++){var Fe=ot((Se[Ne]*Ee+50)/100);Fe<1?Fe=1:Fe>255&&(Fe=255),ft[ee[Ne]]=Fe}for(var Oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Pe=0;Pe<64;Pe++){var Jt=ot((Oe[Pe]*Ee+50)/100);Jt<1?Jt=1:Jt>255&&(Jt=255),ut[ee[Pe]]=Jt}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],he=0,me=0;me<8;me++)for(var pe=0;pe<8;pe++)dt[he]=1/(ft[ee[he]]*Te[me]*Te[pe]*8),St[he]=1/(ut[ee[he]]*Te[me]*Te[pe]*8),he++}(Ce<50?Math.floor(5e3/Ce):Math.floor(200-2*Ce)),it=Ce)}this.encode=function(Ce,Ee){var Se;new Date().getTime(),Ee&&Be(Ee),jt=new Array,Zt=0,Ft=7,ue(65496),ue(65504),ue(16),Me(74),Me(70),Me(73),Me(70),Me(0),Me(1),Me(1),Me(0),ue(1),ue(1),Me(0),Me(0),(Se=Ce.comments)!==void 0&&Se.constructor===Array&&Se.forEach(ir=>{if(typeof ir=="string"){ue(65534);var Xe,ar=ir.length;for(ue(ar+2),Xe=0;Xe<ar;Xe++)Me(ir.charCodeAt(Xe))}}),function(ir){if(ir){ue(65505),ir[0]===69&&ir[1]===120&&ir[2]===105&&ir[3]===102?ue(ir.length+2):(ue(ir.length+5+2),Me(69),Me(120),Me(105),Me(102),Me(0));for(var Xe=0;Xe<ir.length;Xe++)Me(ir[Xe])}}(Ce.exifBuffer),function(){ue(65499),ue(132),Me(0);for(var ir=0;ir<64;ir++)Me(ft[ir]);Me(1);for(var Xe=0;Xe<64;Xe++)Me(ut[Xe])}(),function(ir,Xe){ue(65472),ue(17),Me(8),ue(Xe),ue(ir),Me(3),Me(1),Me(17),Me(0),Me(2),Me(17),Me(1),Me(3),Me(17),Me(1)}(Ce.width,Ce.height),function(){ue(65476),ue(418),Me(0);for(var ir=0;ir<16;ir++)Me(ae[ir+1]);for(var Xe=0;Xe<=11;Xe++)Me(Ut[Xe]);Me(16);for(var ar=0;ar<16;ar++)Me(ie[ar+1]);for(var rr=0;rr<=161;rr++)Me(_e[rr]);Me(1);for(var gr=0;gr<16;gr++)Me(ce[gr+1]);for(var dr=0;dr<=11;dr++)Me(le[dr]);Me(17);for(var hr=0;hr<16;hr++)Me(de[hr+1]);for(var kr=0;kr<=161;kr++)Me(Ae[kr])}(),ue(65498),ue(12),Me(3),Me(1),Me(0),Me(2),Me(17),Me(3),Me(17),Me(0),Me(63),Me(0);var Ne=0,Fe=0,Oe=0;Zt=0,Ft=7,this.encode.displayName="_encode_";for(var Pe,Jt,Te,he,me,pe,we,Re,Ht,oe=Ce.data,ge=Ce.width,be=Ce.height,De=4*ge,je=0;je<be;){for(Pe=0;Pe<De;){for(pe=me=De*je+Pe,we=-1,Re=0,Ht=0;Ht<64;Ht++)pe=me+(Re=Ht>>3)*De+(we=4*(7&Ht)),je+Re>=be&&(pe-=De*(je+1+Re-be)),Pe+we>=De&&(pe-=Pe+we-De+4),Jt=oe[pe++],Te=oe[pe++],he=oe[pe++],Dt[Ht]=(ne[Jt]+ne[Te+256|0]+ne[he+512|0]>>16)-128,Kt[Ht]=(ne[Jt+768|0]+ne[Te+1024|0]+ne[he+1280|0]>>16)-128,re[Ht]=(ne[Jt+1280|0]+ne[Te+1536|0]+ne[he+1792|0]>>16)-128;Ne=xe(Dt,dt,Ne,w,H),Fe=xe(Kt,St,Fe,D,q),Oe=xe(re,St,Oe,D,q),Pe+=32}je+=8}if(Ft>=0){var er=[];er[1]=Ft+1,er[0]=(1<<Ft+1)-1,ye(er)}return ue(65497),Buffer.from(jt)},new Date().getTime(),g||(g=50),function(){for(var Ce=String.fromCharCode,Ee=0;Ee<256;Ee++)Yt[Ee]=Ce(Ee)}(),w=ve(ae,Ut),D=ve(ce,le),H=ve(ie,_e),q=ve(de,Ae),function(){for(var Ce=1,Ee=2,Se=1;Se<=15;Se++){for(var Ne=Ce;Ne<Ee;Ne++)Rt[32767+Ne]=Se,Tt[32767+Ne]=[],Tt[32767+Ne][1]=Se,Tt[32767+Ne][0]=Ne;for(var Fe=-(Ee-1);Fe<=-Ce;Fe++)Rt[32767+Fe]=Se,Tt[32767+Fe]=[],Tt[32767+Fe][1]=Se,Tt[32767+Fe][0]=Ee-1+Fe;Ce<<=1,Ee<<=1}}(),function(){for(var Ce=0;Ce<256;Ce++)ne[Ce]=19595*Ce,ne[Ce+256|0]=38470*Ce,ne[Ce+512|0]=7471*Ce+32768,ne[Ce+768|0]=-11059*Ce,ne[Ce+1024|0]=-21709*Ce,ne[Ce+1280|0]=32768*Ce+8421375,ne[Ce+1536|0]=-27439*Ce,ne[Ce+1792|0]=-5329*Ce}(),Be(g),new Date().getTime()}encoder.exports=function(g,w){w===void 0&&(w=50);var D=new m(w),H=D.encode(g,w);return{data:H,width:g.width,height:g.height}}})();var encoderExports=encoder.exports,decoder={exports:{}},module,JpegImage;module=decoder,JpegImage=function(){var d=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),m=4017,g=799,w=3406,D=2276,H=1567,q=3784,it=5793,ot=2896;function ft(){}function ut(jt,Zt){for(var Ft,Dt,Kt=0,re=[],Yt=16;Yt>0&&!jt[Yt-1];)Yt--;re.push({children:[],index:0});var ne,ee=re[0];for(Ft=0;Ft<Yt;Ft++){for(Dt=0;Dt<jt[Ft];Dt++){for((ee=re.pop()).children[ee.index]=Zt[Kt];ee.index>0;){if(re.length===0)throw new Error("Could not recreate Huffman Table");ee=re.pop()}for(ee.index++,re.push(ee);re.length<=Ft;)re.push(ne={children:[],index:0}),ee.children[ee.index]=ne.children,ee=ne;Kt++}Ft+1<Yt&&(re.push(ne={children:[],index:0}),ee.children[ee.index]=ne.children,ee=ne)}return re[0].children}function dt(jt,Zt,Ft,Dt,Kt,re,Yt,ne,ee,ae){Ft.precision,Ft.samplesPerLine,Ft.scanLines;var Ut=Ft.mcusPerLine,ie=Ft.progressive;Ft.maxH,Ft.maxV;var _e=Zt,ce=0,le=0;function de(){if(le>0)return le--,ce>>le&1;if((ce=jt[Zt++])==255){var Re=jt[Zt++];if(Re)throw new Error("unexpected marker: "+(ce<<8|Re).toString(16))}return le=7,ce>>>7}function Ae(Re){for(var Ht,oe=Re;(Ht=de())!==null;){if(typeof(oe=oe[Ht])=="number")return oe;if(typeof oe!="object")throw new Error("invalid huffman sequence")}return null}function ve(Re){for(var Ht=0;Re>0;){var oe=de();if(oe===null)return;Ht=Ht<<1|oe,Re--}return Ht}function ye(Re){var Ht=ve(Re);return Ht>=1<<Re-1?Ht:Ht+(-1<<Re)+1}var Me,ue=0,xe=0;function Be(Re,Ht,oe,ge,be){var De=oe%Ut,je=(oe/Ut|0)*Re.v+ge,er=De*Re.h+be;Re.blocks[je]===void 0&&ae.tolerantDecoding||Ht(Re,Re.blocks[je][er])}function Ce(Re,Ht,oe){var ge=oe/Re.blocksPerLine|0,be=oe%Re.blocksPerLine;Re.blocks[ge]===void 0&&ae.tolerantDecoding||Ht(Re,Re.blocks[ge][be])}var Ee,Se,Ne,Fe,Oe,Pe,Jt=Dt.length;Pe=ie?re===0?ne===0?function(Re,Ht){var oe=Ae(Re.huffmanTableDC),ge=oe===0?0:ye(oe)<<ee;Ht[0]=Re.pred+=ge}:function(Re,Ht){Ht[0]|=de()<<ee}:ne===0?function(Re,Ht){if(ue>0)ue--;else for(var oe=re,ge=Yt;oe<=ge;){var be=Ae(Re.huffmanTableAC),De=15&be,je=be>>4;if(De!==0)Ht[d[oe+=je]]=ye(De)*(1<<ee),oe++;else{if(je<15){ue=ve(je)+(1<<je)-1;break}oe+=16}}}:function(Re,Ht){for(var oe=re,ge=Yt,be=0;oe<=ge;){var De=d[oe],je=Ht[De]<0?-1:1;switch(xe){case 0:var er=Ae(Re.huffmanTableAC),ir=15&er;if(be=er>>4,ir===0)be<15?(ue=ve(be)+(1<<be),xe=4):(be=16,xe=1);else{if(ir!==1)throw new Error("invalid ACn encoding");Me=ye(ir),xe=be?2:3}continue;case 1:case 2:Ht[De]?Ht[De]+=(de()<<ee)*je:--be==0&&(xe=xe==2?3:0);break;case 3:Ht[De]?Ht[De]+=(de()<<ee)*je:(Ht[De]=Me<<ee,xe=0);break;case 4:Ht[De]&&(Ht[De]+=(de()<<ee)*je)}oe++}xe===4&&--ue==0&&(xe=0)}:function(Re,Ht){var oe=Ae(Re.huffmanTableDC),ge=oe===0?0:ye(oe);Ht[0]=Re.pred+=ge;for(var be=1;be<64;){var De=Ae(Re.huffmanTableAC),je=15&De,er=De>>4;if(je!==0)Ht[d[be+=er]]=ye(je),be++;else{if(er<15)break;be+=16}}};var Te,he,me,pe,we=0;for(he=Jt==1?Dt[0].blocksPerLine*Dt[0].blocksPerColumn:Ut*Ft.mcusPerColumn,Kt||(Kt=he);we<he;){for(Se=0;Se<Jt;Se++)Dt[Se].pred=0;if(ue=0,Jt==1)for(Ee=Dt[0],Oe=0;Oe<Kt;Oe++)Ce(Ee,Pe,we),we++;else for(Oe=0;Oe<Kt;Oe++){for(Se=0;Se<Jt;Se++)for(me=(Ee=Dt[Se]).h,pe=Ee.v,Ne=0;Ne<pe;Ne++)for(Fe=0;Fe<me;Fe++)Be(Ee,Pe,we,Ne,Fe);if(++we===he)break}if(we===he)do{if(jt[Zt]===255&&jt[Zt+1]!==0)break;Zt+=1}while(Zt<jt.length-2);if(le=0,(Te=jt[Zt]<<8|jt[Zt+1])<65280)throw new Error("marker was not found");if(!(Te>=65488&&Te<=65495))break;Zt+=2}return Zt-_e}function St(jt,Zt){var Ft,Dt,Kt=[],re=Zt.blocksPerLine,Yt=Zt.blocksPerColumn,ne=re<<3,ee=new Int32Array(64),ae=new Uint8Array(64);function Ut(ve,ye,Me){var ue,xe,Be,Ce,Ee,Se,Ne,Fe,Oe,Pe,Jt=Zt.quantizationTable,Te=Me;for(Pe=0;Pe<64;Pe++)Te[Pe]=ve[Pe]*Jt[Pe];for(Pe=0;Pe<8;++Pe){var he=8*Pe;Te[1+he]!=0||Te[2+he]!=0||Te[3+he]!=0||Te[4+he]!=0||Te[5+he]!=0||Te[6+he]!=0||Te[7+he]!=0?(ue=it*Te[0+he]+128>>8,xe=it*Te[4+he]+128>>8,Be=Te[2+he],Ce=Te[6+he],Ee=ot*(Te[1+he]-Te[7+he])+128>>8,Fe=ot*(Te[1+he]+Te[7+he])+128>>8,Se=Te[3+he]<<4,Ne=Te[5+he]<<4,Oe=ue-xe+1>>1,ue=ue+xe+1>>1,xe=Oe,Oe=Be*q+Ce*H+128>>8,Be=Be*H-Ce*q+128>>8,Ce=Oe,Oe=Ee-Ne+1>>1,Ee=Ee+Ne+1>>1,Ne=Oe,Oe=Fe+Se+1>>1,Se=Fe-Se+1>>1,Fe=Oe,Oe=ue-Ce+1>>1,ue=ue+Ce+1>>1,Ce=Oe,Oe=xe-Be+1>>1,xe=xe+Be+1>>1,Be=Oe,Oe=Ee*D+Fe*w+2048>>12,Ee=Ee*w-Fe*D+2048>>12,Fe=Oe,Oe=Se*g+Ne*m+2048>>12,Se=Se*m-Ne*g+2048>>12,Ne=Oe,Te[0+he]=ue+Fe,Te[7+he]=ue-Fe,Te[1+he]=xe+Ne,Te[6+he]=xe-Ne,Te[2+he]=Be+Se,Te[5+he]=Be-Se,Te[3+he]=Ce+Ee,Te[4+he]=Ce-Ee):(Oe=it*Te[0+he]+512>>10,Te[0+he]=Oe,Te[1+he]=Oe,Te[2+he]=Oe,Te[3+he]=Oe,Te[4+he]=Oe,Te[5+he]=Oe,Te[6+he]=Oe,Te[7+he]=Oe)}for(Pe=0;Pe<8;++Pe){var me=Pe;Te[8+me]!=0||Te[16+me]!=0||Te[24+me]!=0||Te[32+me]!=0||Te[40+me]!=0||Te[48+me]!=0||Te[56+me]!=0?(ue=it*Te[0+me]+2048>>12,xe=it*Te[32+me]+2048>>12,Be=Te[16+me],Ce=Te[48+me],Ee=ot*(Te[8+me]-Te[56+me])+2048>>12,Fe=ot*(Te[8+me]+Te[56+me])+2048>>12,Se=Te[24+me],Ne=Te[40+me],Oe=ue-xe+1>>1,ue=ue+xe+1>>1,xe=Oe,Oe=Be*q+Ce*H+2048>>12,Be=Be*H-Ce*q+2048>>12,Ce=Oe,Oe=Ee-Ne+1>>1,Ee=Ee+Ne+1>>1,Ne=Oe,Oe=Fe+Se+1>>1,Se=Fe-Se+1>>1,Fe=Oe,Oe=ue-Ce+1>>1,ue=ue+Ce+1>>1,Ce=Oe,Oe=xe-Be+1>>1,xe=xe+Be+1>>1,Be=Oe,Oe=Ee*D+Fe*w+2048>>12,Ee=Ee*w-Fe*D+2048>>12,Fe=Oe,Oe=Se*g+Ne*m+2048>>12,Se=Se*m-Ne*g+2048>>12,Ne=Oe,Te[0+me]=ue+Fe,Te[56+me]=ue-Fe,Te[8+me]=xe+Ne,Te[48+me]=xe-Ne,Te[16+me]=Be+Se,Te[40+me]=Be-Se,Te[24+me]=Ce+Ee,Te[32+me]=Ce-Ee):(Oe=it*Me[Pe+0]+8192>>14,Te[0+me]=Oe,Te[8+me]=Oe,Te[16+me]=Oe,Te[24+me]=Oe,Te[32+me]=Oe,Te[40+me]=Oe,Te[48+me]=Oe,Te[56+me]=Oe)}for(Pe=0;Pe<64;++Pe){var pe=128+(Te[Pe]+8>>4);ye[Pe]=pe<0?0:pe>255?255:pe}}$t(ne*Yt*8);for(var ie=0;ie<Yt;ie++){var _e=ie<<3;for(Ft=0;Ft<8;Ft++)Kt.push(new Uint8Array(ne));for(var ce=0;ce<re;ce++){Ut(Zt.blocks[ie][ce],ae,ee);var le=0,de=ce<<3;for(Dt=0;Dt<8;Dt++){var Ae=Kt[_e+Dt];for(Ft=0;Ft<8;Ft++)Ae[de+Ft]=ae[le++]}}}return Kt}function Tt(jt){return jt<0?0:jt>255?255:jt}ft.prototype={load:function(jt){var Zt=new XMLHttpRequest;Zt.open("GET",jt,!0),Zt.responseType="arraybuffer",Zt.onload=(function(){var Ft=new Uint8Array(Zt.response||Zt.mozResponseArrayBuffer);this.parse(Ft),this.onload&&this.onload()}).bind(this),Zt.send(null)},parse:function(jt){var Zt=1e3*this.opts.maxResolutionInMP*1e3,Ft=0;function Dt(){var Xe=jt[Ft]<<8|jt[Ft+1];return Ft+=2,Xe}function Kt(Xe){var ar,rr,gr=1,dr=1;for(rr in Xe.components)Xe.components.hasOwnProperty(rr)&&(gr<(ar=Xe.components[rr]).h&&(gr=ar.h),dr<ar.v&&(dr=ar.v));var hr=Math.ceil(Xe.samplesPerLine/8/gr),kr=Math.ceil(Xe.scanLines/8/dr);for(rr in Xe.components)if(Xe.components.hasOwnProperty(rr)){ar=Xe.components[rr];var cr=Math.ceil(Math.ceil(Xe.samplesPerLine/8)*ar.h/gr),ze=Math.ceil(Math.ceil(Xe.scanLines/8)*ar.v/dr),nr=hr*ar.h,Le=kr*ar.v,Qe=[];$t(Le*nr*256);for(var ke=0;ke<Le;ke++){for(var tr=[],br=0;br<nr;br++)tr.push(new Int32Array(64));Qe.push(tr)}ar.blocksPerLine=cr,ar.blocksPerColumn=ze,ar.blocks=Qe}Xe.maxH=gr,Xe.maxV=dr,Xe.mcusPerLine=hr,Xe.mcusPerColumn=kr}jt.length;var re,Yt,ne,ee,ae=null,Ut=null,ie=[],_e=[],ce=[],le=[],de=Dt(),Ae=-1;if(this.comments=[],de!=65496)throw new Error("SOI not found");for(de=Dt();de!=65497;){switch(de){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var ve=(ne=void 0,ee=void 0,ne=Dt(),ee=jt.subarray(Ft,Ft+ne-2),Ft+=ee.length,ee);if(de===65534){var ye=String.fromCharCode.apply(null,ve);this.comments.push(ye)}de===65504&&ve[0]===74&&ve[1]===70&&ve[2]===73&&ve[3]===70&&ve[4]===0&&(ae={version:{major:ve[5],minor:ve[6]},densityUnits:ve[7],xDensity:ve[8]<<8|ve[9],yDensity:ve[10]<<8|ve[11],thumbWidth:ve[12],thumbHeight:ve[13],thumbData:ve.subarray(14,14+3*ve[12]*ve[13])}),de===65505&&ve[0]===69&&ve[1]===120&&ve[2]===105&&ve[3]===102&&ve[4]===0&&(this.exifBuffer=ve.subarray(5,ve.length)),de===65518&&ve[0]===65&&ve[1]===100&&ve[2]===111&&ve[3]===98&&ve[4]===101&&ve[5]===0&&(Ut={version:ve[6],flags0:ve[7]<<8|ve[8],flags1:ve[9]<<8|ve[10],transformCode:ve[11]});break;case 65499:for(var Me=Dt()+Ft-2;Ft<Me;){var ue=jt[Ft++];$t(256);var xe=new Int32Array(64);if(ue>>4){if(ue>>4!=1)throw new Error("DQT: invalid table spec");for(er=0;er<64;er++)xe[d[er]]=Dt()}else for(er=0;er<64;er++)xe[d[er]]=jt[Ft++];ie[15&ue]=xe}break;case 65472:case 65473:case 65474:Dt(),(re={}).extended=de===65473,re.progressive=de===65474,re.precision=jt[Ft++],re.scanLines=Dt(),re.samplesPerLine=Dt(),re.components={},re.componentsOrder=[];var Be=re.scanLines*re.samplesPerLine;if(Be>Zt){var Ce=Math.ceil((Be-Zt)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${Ce}MP`)}var Ee,Se=jt[Ft++];for(De=0;De<Se;De++){Ee=jt[Ft];var Ne=jt[Ft+1]>>4,Fe=15&jt[Ft+1],Oe=jt[Ft+2];if(Ne<=0||Fe<=0)throw new Error("Invalid sampling factor, expected values above 0");re.componentsOrder.push(Ee),re.components[Ee]={h:Ne,v:Fe,quantizationIdx:Oe},Ft+=3}Kt(re),_e.push(re);break;case 65476:var Pe=Dt();for(De=2;De<Pe;){var Jt=jt[Ft++],Te=new Uint8Array(16),he=0;for(er=0;er<16;er++,Ft++)he+=Te[er]=jt[Ft];$t(16+he);var me=new Uint8Array(he);for(er=0;er<he;er++,Ft++)me[er]=jt[Ft];De+=17+he,(Jt>>4?ce:le)[15&Jt]=ut(Te,me)}break;case 65501:Dt(),Yt=Dt();break;case 65500:Dt(),Dt();break;case 65498:Dt();var pe=jt[Ft++],we=[];for(De=0;De<pe;De++){ir=re.components[jt[Ft++]];var Re=jt[Ft++];ir.huffmanTableDC=le[Re>>4],ir.huffmanTableAC=ce[15&Re],we.push(ir)}var Ht=jt[Ft++],oe=jt[Ft++],ge=jt[Ft++],be=dt(jt,Ft,re,we,Yt,Ht,oe,ge>>4,15&ge,this.opts);Ft+=be;break;case 65535:jt[Ft]!==255&&Ft--;break;default:if(jt[Ft-3]==255&&jt[Ft-2]>=192&&jt[Ft-2]<=254){Ft-=3;break}if(de===224||de==225){if(Ae!==-1)throw new Error(`first unknown JPEG marker at offset ${Ae.toString(16)}, second unknown JPEG marker ${de.toString(16)} at offset ${(Ft-1).toString(16)}`);Ae=Ft-1;const Xe=Dt();if(jt[Ft+Xe-2]===255){Ft+=Xe-2;break}}throw new Error("unknown JPEG marker "+de.toString(16))}de=Dt()}if(_e.length!=1)throw new Error("only single frame JPEGs supported");for(var De=0;De<_e.length;De++){var je=_e[De].components;for(var er in je)je[er].quantizationTable=ie[je[er].quantizationIdx],delete je[er].quantizationIdx}for(this.width=re.samplesPerLine,this.height=re.scanLines,this.jfif=ae,this.adobe=Ut,this.components=[],De=0;De<re.componentsOrder.length;De++){var ir=re.components[re.componentsOrder[De]];this.components.push({lines:St(0,ir),scaleX:ir.h/re.maxH,scaleY:ir.v/re.maxV})}},getData:function(jt,Zt){var Ft,Dt,Kt,re,Yt,ne,ee,ae,Ut,ie,_e,ce,le,de,Ae,ve,ye,Me,ue,xe,Be,Ce=this.width/jt,Ee=this.height/Zt,Se=0,Ne=jt*Zt*this.components.length;$t(Ne);var Fe=new Uint8Array(Ne);switch(this.components.length){case 1:for(Ft=this.components[0],ie=0;ie<Zt;ie++)for(Yt=Ft.lines[0|ie*Ft.scaleY*Ee],Ut=0;Ut<jt;Ut++)_e=Yt[0|Ut*Ft.scaleX*Ce],Fe[Se++]=_e;break;case 2:for(Ft=this.components[0],Dt=this.components[1],ie=0;ie<Zt;ie++)for(Yt=Ft.lines[0|ie*Ft.scaleY*Ee],ne=Dt.lines[0|ie*Dt.scaleY*Ee],Ut=0;Ut<jt;Ut++)_e=Yt[0|Ut*Ft.scaleX*Ce],Fe[Se++]=_e,_e=ne[0|Ut*Dt.scaleX*Ce],Fe[Se++]=_e;break;case 3:for(Be=!0,this.adobe&&this.adobe.transformCode?Be=!0:this.opts.colorTransform!==void 0&&(Be=!!this.opts.colorTransform),Ft=this.components[0],Dt=this.components[1],Kt=this.components[2],ie=0;ie<Zt;ie++)for(Yt=Ft.lines[0|ie*Ft.scaleY*Ee],ne=Dt.lines[0|ie*Dt.scaleY*Ee],ee=Kt.lines[0|ie*Kt.scaleY*Ee],Ut=0;Ut<jt;Ut++)Be?(_e=Yt[0|Ut*Ft.scaleX*Ce],ce=ne[0|Ut*Dt.scaleX*Ce],Me=Tt(_e+1.402*((le=ee[0|Ut*Kt.scaleX*Ce])-128)),ue=Tt(_e-.3441363*(ce-128)-.71413636*(le-128)),xe=Tt(_e+1.772*(ce-128))):(Me=Yt[0|Ut*Ft.scaleX*Ce],ue=ne[0|Ut*Dt.scaleX*Ce],xe=ee[0|Ut*Kt.scaleX*Ce]),Fe[Se++]=Me,Fe[Se++]=ue,Fe[Se++]=xe;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(Be=!1,this.adobe&&this.adobe.transformCode?Be=!0:this.opts.colorTransform!==void 0&&(Be=!!this.opts.colorTransform),Ft=this.components[0],Dt=this.components[1],Kt=this.components[2],re=this.components[3],ie=0;ie<Zt;ie++)for(Yt=Ft.lines[0|ie*Ft.scaleY*Ee],ne=Dt.lines[0|ie*Dt.scaleY*Ee],ee=Kt.lines[0|ie*Kt.scaleY*Ee],ae=re.lines[0|ie*re.scaleY*Ee],Ut=0;Ut<jt;Ut++)Be?(_e=Yt[0|Ut*Ft.scaleX*Ce],ce=ne[0|Ut*Dt.scaleX*Ce],le=ee[0|Ut*Kt.scaleX*Ce],de=ae[0|Ut*re.scaleX*Ce],Ae=255-Tt(_e+1.402*(le-128)),ve=255-Tt(_e-.3441363*(ce-128)-.71413636*(le-128)),ye=255-Tt(_e+1.772*(ce-128))):(Ae=Yt[0|Ut*Ft.scaleX*Ce],ve=ne[0|Ut*Dt.scaleX*Ce],ye=ee[0|Ut*Kt.scaleX*Ce],de=ae[0|Ut*re.scaleX*Ce]),Fe[Se++]=255-Ae,Fe[Se++]=255-ve,Fe[Se++]=255-ye,Fe[Se++]=255-de;break;default:throw new Error("Unsupported color mode")}return Fe},copyToImageData:function(jt,Zt){var Ft,Dt,Kt,re,Yt,ne,ee,ae,Ut,ie=jt.width,_e=jt.height,ce=jt.data,le=this.getData(ie,_e),de=0,Ae=0;switch(this.components.length){case 1:for(Dt=0;Dt<_e;Dt++)for(Ft=0;Ft<ie;Ft++)Kt=le[de++],ce[Ae++]=Kt,ce[Ae++]=Kt,ce[Ae++]=Kt,Zt&&(ce[Ae++]=255);break;case 3:for(Dt=0;Dt<_e;Dt++)for(Ft=0;Ft<ie;Ft++)ee=le[de++],ae=le[de++],Ut=le[de++],ce[Ae++]=ee,ce[Ae++]=ae,ce[Ae++]=Ut,Zt&&(ce[Ae++]=255);break;case 4:for(Dt=0;Dt<_e;Dt++)for(Ft=0;Ft<ie;Ft++)Yt=le[de++],ne=le[de++],Kt=le[de++],ee=255-Tt(Yt*(1-(re=le[de++])/255)+re),ae=255-Tt(ne*(1-re/255)+re),Ut=255-Tt(Kt*(1-re/255)+re),ce[Ae++]=ee,ce[Ae++]=ae,ce[Ae++]=Ut,Zt&&(ce[Ae++]=255);break;default:throw new Error("Unsupported color mode")}}};var Rt=0,zt=0;function $t(jt=0){var Zt=Rt+jt;if(Zt>zt){var Ft=Math.ceil((Zt-zt)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${Ft}MB`)}Rt=Zt}return ft.resetMaxMemoryUsage=function(jt){Rt=0,zt=jt},ft.getBytesAllocated=function(){return Rt},ft.requestMemoryAllocation=$t,ft}(),module.exports=function(d,m={}){var g={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...m},w=new Uint8Array(d),D=new JpegImage;D.opts=g,JpegImage.resetMaxMemoryUsage(1024*g.maxMemoryUsageInMB*1024),D.parse(w);var H=g.formatAsRGBA?4:3,q=D.width*D.height*H;try{JpegImage.requestMemoryAllocation(q);var it={width:D.width,height:D.height,exifBuffer:D.exifBuffer,data:g.useTArray?new Uint8Array(q):Buffer.alloc(q)};D.comments.length>0&&(it.comments=D.comments)}catch(ot){throw ot instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+q):ot instanceof ReferenceError&&ot.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):ot}return D.copyToImageData(it,g.formatAsRGBA),it};var decoderExports=decoder.exports,encode=encoderExports,decode=decoderExports,jpegJs={encode,decode},JPEG=getDefaultExportFromCjs(jpegJs);function jpeg$2(){return{mime:"image/jpeg",encode:(d,{quality:m=100}={})=>JPEG.encode(d,m).data,decode:(d,m)=>JPEG.decode(d,m)}}function commonjsRequire(d){throw new Error('Could not dynamically require "'+d+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var browser$1={exports:{}};browser$1.exports=function(){function d(m,g,w){function D(it,ot){if(!g[it]){if(!m[it]){var ft=typeof commonjsRequire=="function"&&commonjsRequire;if(!ot&&ft)return ft(it,!0);if(H)return H(it,!0);var ut=new Error("Cannot find module '"+it+"'");throw ut.code="MODULE_NOT_FOUND",ut}var dt=g[it]={exports:{}};m[it][0].call(dt.exports,function(St){return D(m[it][1][St]||St)},dt,dt.exports,d,m,g,w)}return g[it].exports}for(var H=typeof commonjsRequire=="function"&&commonjsRequire,q=0;q<w.length;q++)D(w[q]);return D}return d}()({1:[function(d,m,g){(function(w){(function(){let D=d("./interlace"),H=[function(){},function(ut,dt,St,Tt){if(Tt===dt.length)throw new Error("Ran out of data");let Rt=dt[Tt];ut[St]=Rt,ut[St+1]=Rt,ut[St+2]=Rt,ut[St+3]=255},function(ut,dt,St,Tt){if(Tt+1>=dt.length)throw new Error("Ran out of data");let Rt=dt[Tt];ut[St]=Rt,ut[St+1]=Rt,ut[St+2]=Rt,ut[St+3]=dt[Tt+1]},function(ut,dt,St,Tt){if(Tt+2>=dt.length)throw new Error("Ran out of data");ut[St]=dt[Tt],ut[St+1]=dt[Tt+1],ut[St+2]=dt[Tt+2],ut[St+3]=255},function(ut,dt,St,Tt){if(Tt+3>=dt.length)throw new Error("Ran out of data");ut[St]=dt[Tt],ut[St+1]=dt[Tt+1],ut[St+2]=dt[Tt+2],ut[St+3]=dt[Tt+3]}],q=[function(){},function(ut,dt,St,Tt){let Rt=dt[0];ut[St]=Rt,ut[St+1]=Rt,ut[St+2]=Rt,ut[St+3]=Tt},function(ut,dt,St){let Tt=dt[0];ut[St]=Tt,ut[St+1]=Tt,ut[St+2]=Tt,ut[St+3]=dt[1]},function(ut,dt,St,Tt){ut[St]=dt[0],ut[St+1]=dt[1],ut[St+2]=dt[2],ut[St+3]=Tt},function(ut,dt,St){ut[St]=dt[0],ut[St+1]=dt[1],ut[St+2]=dt[2],ut[St+3]=dt[3]}];function it(ut,dt){let St=[],Tt=0;function Rt(){if(Tt===ut.length)throw new Error("Ran out of data");let zt,$t,jt,Zt,Ft,Dt,Kt,re,Yt=ut[Tt];switch(Tt++,dt){default:throw new Error("unrecognised depth");case 16:Kt=ut[Tt],Tt++,St.push((Yt<<8)+Kt);break;case 4:Kt=15&Yt,re=Yt>>4,St.push(re,Kt);break;case 2:Ft=3&Yt,Dt=Yt>>2&3,Kt=Yt>>4&3,re=Yt>>6&3,St.push(re,Kt,Dt,Ft);break;case 1:zt=1&Yt,$t=Yt>>1&1,jt=Yt>>2&1,Zt=Yt>>3&1,Ft=Yt>>4&1,Dt=Yt>>5&1,Kt=Yt>>6&1,re=Yt>>7&1,St.push(re,Kt,Dt,Ft,Zt,jt,$t,zt)}}return{get:function(zt){for(;St.length<zt;)Rt();let $t=St.slice(0,zt);return St=St.slice(zt),$t},resetAfterLine:function(){St.length=0},end:function(){if(Tt!==ut.length)throw new Error("extra data found")}}}function ot(ut,dt,St,Tt,Rt,zt){let $t=ut.width,jt=ut.height,Zt=ut.index;for(let Ft=0;Ft<jt;Ft++)for(let Dt=0;Dt<$t;Dt++){let Kt=St(Dt,Ft,Zt);H[Tt](dt,Rt,Kt,zt),zt+=Tt}return zt}function ft(ut,dt,St,Tt,Rt,zt){let $t=ut.width,jt=ut.height,Zt=ut.index;for(let Ft=0;Ft<jt;Ft++){for(let Dt=0;Dt<$t;Dt++){let Kt=Rt.get(Tt),re=St(Dt,Ft,Zt);q[Tt](dt,Kt,re,zt)}Rt.resetAfterLine()}}g.dataToBitMap=function(ut,dt){let St,Tt,Rt=dt.width,zt=dt.height,$t=dt.depth,jt=dt.bpp,Zt=dt.interlace;$t!==8&&(St=it(ut,$t)),Tt=$t<=8?w.alloc(Rt*zt*4):new Uint16Array(Rt*zt*4);let Ft,Dt,Kt=Math.pow(2,$t)-1,re=0;if(Zt)Ft=D.getImagePasses(Rt,zt),Dt=D.getInterlaceIterator(Rt,zt);else{let Yt=0;Dt=function(){let ne=Yt;return Yt+=4,ne},Ft=[{width:Rt,height:zt}]}for(let Yt=0;Yt<Ft.length;Yt++)$t===8?re=ot(Ft[Yt],Tt,Dt,jt,ut,re):ft(Ft[Yt],Tt,Dt,jt,St,Kt);if($t===8){if(re!==ut.length)throw new Error("extra data found")}else St.end();return Tt}}).call(this)}).call(this,d("buffer").Buffer)},{"./interlace":11,buffer:32}],2:[function(d,m,g){(function(w){(function(){let D=d("./constants");m.exports=function(H,q,it,ot){let ft=[D.COLORTYPE_COLOR_ALPHA,D.COLORTYPE_ALPHA].indexOf(ot.colorType)!==-1;if(ot.colorType===ot.inputColorType){let Ft=function(){let Dt=new ArrayBuffer(2);return new DataView(Dt).setInt16(0,256,!0),new Int16Array(Dt)[0]!==256}();if(ot.bitDepth===8||ot.bitDepth===16&&Ft)return H}let ut=ot.bitDepth!==16?H:new Uint16Array(H.buffer),dt=255,St=D.COLORTYPE_TO_BPP_MAP[ot.inputColorType];St!==4||ot.inputHasAlpha||(St=3);let Tt=D.COLORTYPE_TO_BPP_MAP[ot.colorType];ot.bitDepth===16&&(dt=65535,Tt*=2);let Rt=w.alloc(q*it*Tt),zt=0,$t=0,jt=ot.bgColor||{};function Zt(){let Ft,Dt,Kt,re=dt;switch(ot.inputColorType){case D.COLORTYPE_COLOR_ALPHA:re=ut[zt+3],Ft=ut[zt],Dt=ut[zt+1],Kt=ut[zt+2];break;case D.COLORTYPE_COLOR:Ft=ut[zt],Dt=ut[zt+1],Kt=ut[zt+2];break;case D.COLORTYPE_ALPHA:re=ut[zt+1],Ft=ut[zt],Dt=Ft,Kt=Ft;break;case D.COLORTYPE_GRAYSCALE:Ft=ut[zt],Dt=Ft,Kt=Ft;break;default:throw new Error("input color type:"+ot.inputColorType+" is not supported at present")}return ot.inputHasAlpha&&(ft||(re/=dt,Ft=Math.min(Math.max(Math.round((1-re)*jt.red+re*Ft),0),dt),Dt=Math.min(Math.max(Math.round((1-re)*jt.green+re*Dt),0),dt),Kt=Math.min(Math.max(Math.round((1-re)*jt.blue+re*Kt),0),dt))),{red:Ft,green:Dt,blue:Kt,alpha:re}}jt.red===void 0&&(jt.red=dt),jt.green===void 0&&(jt.green=dt),jt.blue===void 0&&(jt.blue=dt);for(let Ft=0;Ft<it;Ft++)for(let Dt=0;Dt<q;Dt++){let Kt=Zt();switch(ot.colorType){case D.COLORTYPE_COLOR_ALPHA:case D.COLORTYPE_COLOR:ot.bitDepth===8?(Rt[$t]=Kt.red,Rt[$t+1]=Kt.green,Rt[$t+2]=Kt.blue,ft&&(Rt[$t+3]=Kt.alpha)):(Rt.writeUInt16BE(Kt.red,$t),Rt.writeUInt16BE(Kt.green,$t+2),Rt.writeUInt16BE(Kt.blue,$t+4),ft&&Rt.writeUInt16BE(Kt.alpha,$t+6));break;case D.COLORTYPE_ALPHA:case D.COLORTYPE_GRAYSCALE:{let re=(Kt.red+Kt.green+Kt.blue)/3;ot.bitDepth===8?(Rt[$t]=re,ft&&(Rt[$t+1]=Kt.alpha)):(Rt.writeUInt16BE(re,$t),ft&&Rt.writeUInt16BE(Kt.alpha,$t+2));break}default:throw new Error("unrecognised color Type "+ot.colorType)}zt+=St,$t+=Tt}return Rt}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,buffer:32}],3:[function(d,m,g){(function(w,D){(function(){let H=d("util"),q=d("stream"),it=m.exports=function(){q.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};H.inherits(it,q),it.prototype.read=function(ot,ft){this._reads.push({length:Math.abs(ot),allowLess:ot<0,func:ft}),w.nextTick((function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},it.prototype.write=function(ot,ft){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let ut;return ut=D.isBuffer(ot)?ot:D.from(ot,ft||this._encoding),this._buffers.push(ut),this._buffered+=ut.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},it.prototype.end=function(ot,ft){ot&&this.write(ot,ft),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},it.prototype.destroySoon=it.prototype.end,it.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},it.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},it.prototype._processReadAllowingLess=function(ot){this._reads.shift();let ft=this._buffers[0];ft.length>ot.length?(this._buffered-=ot.length,this._buffers[0]=ft.slice(ot.length),ot.func.call(this,ft.slice(0,ot.length))):(this._buffered-=ft.length,this._buffers.shift(),ot.func.call(this,ft))},it.prototype._processRead=function(ot){this._reads.shift();let ft=0,ut=0,dt=D.alloc(ot.length);for(;ft<ot.length;){let St=this._buffers[ut++],Tt=Math.min(St.length,ot.length-ft);St.copy(dt,ft,0,Tt),ft+=Tt,Tt!==St.length&&(this._buffers[--ut]=St.slice(Tt))}ut>0&&this._buffers.splice(0,ut),this._buffered-=ot.length,ot.func.call(this,dt)},it.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let ot=this._reads[0];if(ot.allowLess)this._processReadAllowingLess(ot);else{if(!(this._buffered>=ot.length))break;this._processRead(ot)}}this._buffers&&!this.writable&&this._end()}catch(ot){this.emit("error",ot)}}}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,buffer:32,stream:65,util:84}],4:[function(d,m,g){m.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],5:[function(d,m,g){let w=[];(function(){for(let H=0;H<256;H++){let q=H;for(let it=0;it<8;it++)1&q?q=3988292384^q>>>1:q>>>=1;w[H]=q}})();let D=m.exports=function(){this._crc=-1};D.prototype.write=function(H){for(let q=0;q<H.length;q++)this._crc=w[255&(this._crc^H[q])]^this._crc>>>8;return!0},D.prototype.crc32=function(){return~this._crc},D.crc32=function(H){let q=-1;for(let it=0;it<H.length;it++)q=w[255&(q^H[it])]^q>>>8;return~q}},{}],6:[function(d,m,g){(function(w){(function(){let D=d("./paeth-predictor");function H(jt,Zt,Ft,Dt,Kt){for(let re=0;re<Ft;re++)Dt[Kt+re]=jt[Zt+re]}function q(jt,Zt,Ft){let Dt=0,Kt=Zt+Ft;for(let re=Zt;re<Kt;re++)Dt+=Math.abs(jt[re]);return Dt}function it(jt,Zt,Ft,Dt,Kt,re){for(let Yt=0;Yt<Ft;Yt++){let ne=Yt>=re?jt[Zt+Yt-re]:0,ee=jt[Zt+Yt]-ne;Dt[Kt+Yt]=ee}}function ot(jt,Zt,Ft,Dt){let Kt=0;for(let re=0;re<Ft;re++){let Yt=re>=Dt?jt[Zt+re-Dt]:0,ne=jt[Zt+re]-Yt;Kt+=Math.abs(ne)}return Kt}function ft(jt,Zt,Ft,Dt,Kt){for(let re=0;re<Ft;re++){let Yt=Zt>0?jt[Zt+re-Ft]:0,ne=jt[Zt+re]-Yt;Dt[Kt+re]=ne}}function ut(jt,Zt,Ft){let Dt=0,Kt=Zt+Ft;for(let re=Zt;re<Kt;re++){let Yt=Zt>0?jt[re-Ft]:0,ne=jt[re]-Yt;Dt+=Math.abs(ne)}return Dt}function dt(jt,Zt,Ft,Dt,Kt,re){for(let Yt=0;Yt<Ft;Yt++){let ne=Yt>=re?jt[Zt+Yt-re]:0,ee=Zt>0?jt[Zt+Yt-Ft]:0,ae=jt[Zt+Yt]-(ne+ee>>1);Dt[Kt+Yt]=ae}}function St(jt,Zt,Ft,Dt){let Kt=0;for(let re=0;re<Ft;re++){let Yt=re>=Dt?jt[Zt+re-Dt]:0,ne=Zt>0?jt[Zt+re-Ft]:0,ee=jt[Zt+re]-(Yt+ne>>1);Kt+=Math.abs(ee)}return Kt}function Tt(jt,Zt,Ft,Dt,Kt,re){for(let Yt=0;Yt<Ft;Yt++){let ne=Yt>=re?jt[Zt+Yt-re]:0,ee=Zt>0?jt[Zt+Yt-Ft]:0,ae=Zt>0&&Yt>=re?jt[Zt+Yt-(Ft+re)]:0,Ut=jt[Zt+Yt]-D(ne,ee,ae);Dt[Kt+Yt]=Ut}}function Rt(jt,Zt,Ft,Dt){let Kt=0;for(let re=0;re<Ft;re++){let Yt=re>=Dt?jt[Zt+re-Dt]:0,ne=Zt>0?jt[Zt+re-Ft]:0,ee=Zt>0&&re>=Dt?jt[Zt+re-(Ft+Dt)]:0,ae=jt[Zt+re]-D(Yt,ne,ee);Kt+=Math.abs(ae)}return Kt}let zt={0:H,1:it,2:ft,3:dt,4:Tt},$t={0:q,1:ot,2:ut,3:St,4:Rt};m.exports=function(jt,Zt,Ft,Dt,Kt){let re;if("filterType"in Dt&&Dt.filterType!==-1){if(typeof Dt.filterType!="number")throw new Error("unrecognised filter types");re=[Dt.filterType]}else re=[0,1,2,3,4];Dt.bitDepth===16&&(Kt*=2);let Yt=Zt*Kt,ne=0,ee=0,ae=w.alloc((Yt+1)*Ft),Ut=re[0];for(let ie=0;ie<Ft;ie++){if(re.length>1){let _e=1/0;for(let ce=0;ce<re.length;ce++){let le=$t[re[ce]](jt,ee,Yt,Kt);le<_e&&(Ut=re[ce],_e=le)}}ae[ne]=Ut,ne++,zt[Ut](jt,ee,Yt,ae,ne,Kt),ne+=Yt,ee+=Yt}return ae}}).call(this)}).call(this,d("buffer").Buffer)},{"./paeth-predictor":15,buffer:32}],7:[function(d,m,g){(function(w){(function(){let D=d("util"),H=d("./chunkstream"),q=d("./filter-parse"),it=m.exports=function(ot){H.call(this);let ft=[],ut=this;this._filter=new q(ot,{read:this.read.bind(this),write:function(dt){ft.push(dt)},complete:function(){ut.emit("complete",w.concat(ft))}}),this._filter.start()};D.inherits(it,H)}).call(this)}).call(this,d("buffer").Buffer)},{"./chunkstream":3,"./filter-parse":9,buffer:32,util:84}],8:[function(d,m,g){(function(w){(function(){let D=d("./sync-reader"),H=d("./filter-parse");g.process=function(q,it){let ot=[],ft=new D(q);return new H(it,{read:ft.read.bind(ft),write:function(ut){ot.push(ut)},complete:function(){}}).start(),ft.process(),w.concat(ot)}}).call(this)}).call(this,d("buffer").Buffer)},{"./filter-parse":9,"./sync-reader":22,buffer:32}],9:[function(d,m,g){(function(w){(function(){let D=d("./interlace"),H=d("./paeth-predictor");function q(ot,ft,ut){let dt=ot*ft;return ut!==8&&(dt=Math.ceil(dt/(8/ut))),dt}let it=m.exports=function(ot,ft){let ut=ot.width,dt=ot.height,St=ot.interlace,Tt=ot.bpp,Rt=ot.depth;if(this.read=ft.read,this.write=ft.write,this.complete=ft.complete,this._imageIndex=0,this._images=[],St){let zt=D.getImagePasses(ut,dt);for(let $t=0;$t<zt.length;$t++)this._images.push({byteWidth:q(zt[$t].width,Tt,Rt),height:zt[$t].height,lineIndex:0})}else this._images.push({byteWidth:q(ut,Tt,Rt),height:dt,lineIndex:0});this._xComparison=Rt===8?Tt:Rt===16?2*Tt:1};it.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},it.prototype._unFilterType1=function(ot,ft,ut){let dt=this._xComparison,St=dt-1;for(let Tt=0;Tt<ut;Tt++){let Rt=ot[1+Tt],zt=Tt>St?ft[Tt-dt]:0;ft[Tt]=Rt+zt}},it.prototype._unFilterType2=function(ot,ft,ut){let dt=this._lastLine;for(let St=0;St<ut;St++){let Tt=ot[1+St],Rt=dt?dt[St]:0;ft[St]=Tt+Rt}},it.prototype._unFilterType3=function(ot,ft,ut){let dt=this._xComparison,St=dt-1,Tt=this._lastLine;for(let Rt=0;Rt<ut;Rt++){let zt=ot[1+Rt],$t=Tt?Tt[Rt]:0,jt=Rt>St?ft[Rt-dt]:0,Zt=Math.floor((jt+$t)/2);ft[Rt]=zt+Zt}},it.prototype._unFilterType4=function(ot,ft,ut){let dt=this._xComparison,St=dt-1,Tt=this._lastLine;for(let Rt=0;Rt<ut;Rt++){let zt=ot[1+Rt],$t=Tt?Tt[Rt]:0,jt=Rt>St?ft[Rt-dt]:0,Zt=Rt>St&&Tt?Tt[Rt-dt]:0,Ft=H(jt,$t,Zt);ft[Rt]=zt+Ft}},it.prototype._reverseFilterLine=function(ot){let ft,ut=ot[0],dt=this._images[this._imageIndex],St=dt.byteWidth;if(ut===0)ft=ot.slice(1,St+1);else switch(ft=w.alloc(St),ut){case 1:this._unFilterType1(ot,ft,St);break;case 2:this._unFilterType2(ot,ft,St);break;case 3:this._unFilterType3(ot,ft,St);break;case 4:this._unFilterType4(ot,ft,St);break;default:throw new Error("Unrecognised filter type - "+ut)}this.write(ft),dt.lineIndex++,dt.lineIndex>=dt.height?(this._lastLine=null,this._imageIndex++,dt=this._images[this._imageIndex]):this._lastLine=ft,dt?this.read(dt.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this)}).call(this,d("buffer").Buffer)},{"./interlace":11,"./paeth-predictor":15,buffer:32}],10:[function(d,m,g){(function(w){(function(){function D(it,ot,ft,ut,dt){let St=0;for(let Tt=0;Tt<ut;Tt++)for(let Rt=0;Rt<ft;Rt++){let zt=dt[it[St]];if(!zt)throw new Error("index "+it[St]+" not in palette");for(let $t=0;$t<4;$t++)ot[St+$t]=zt[$t];St+=4}}function H(it,ot,ft,ut,dt){let St=0;for(let Tt=0;Tt<ut;Tt++)for(let Rt=0;Rt<ft;Rt++){let zt=!1;if(dt.length===1?dt[0]===it[St]&&(zt=!0):dt[0]===it[St]&&dt[1]===it[St+1]&&dt[2]===it[St+2]&&(zt=!0),zt)for(let $t=0;$t<4;$t++)ot[St+$t]=0;St+=4}}function q(it,ot,ft,ut,dt){let St=255,Tt=Math.pow(2,dt)-1,Rt=0;for(let zt=0;zt<ut;zt++)for(let $t=0;$t<ft;$t++){for(let jt=0;jt<4;jt++)ot[Rt+jt]=Math.floor(it[Rt+jt]*St/Tt+.5);Rt+=4}}m.exports=function(it,ot,ft=!1){let ut=ot.depth,dt=ot.width,St=ot.height,Tt=ot.colorType,Rt=ot.transColor,zt=ot.palette,$t=it;return Tt===3?D(it,$t,dt,St,zt):(Rt&&H(it,$t,dt,St,Rt),ut===8||ft||(ut===16&&($t=w.alloc(dt*St*4)),q(it,$t,dt,St,ut))),$t}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:32}],11:[function(d,m,g){let w=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];g.getImagePasses=function(D,H){let q=[],it=D%8,ot=H%8,ft=(D-it)/8,ut=(H-ot)/8;for(let dt=0;dt<w.length;dt++){let St=w[dt],Tt=ft*St.x.length,Rt=ut*St.y.length;for(let zt=0;zt<St.x.length&&St.x[zt]<it;zt++)Tt++;for(let zt=0;zt<St.y.length&&St.y[zt]<ot;zt++)Rt++;Tt>0&&Rt>0&&q.push({width:Tt,height:Rt,index:dt})}return q},g.getInterlaceIterator=function(D){return function(H,q,it){let ot=H%w[it].x.length,ft=(H-ot)/w[it].x.length*8+w[it].x[ot],ut=q%w[it].y.length;return 4*ft+((q-ut)/w[it].y.length*8+w[it].y[ut])*D*4}}},{}],12:[function(d,m,g){(function(w){(function(){let D=d("util"),H=d("stream"),q=d("./constants"),it=d("./packer"),ot=m.exports=function(ft){H.call(this);let ut=ft||{};this._packer=new it(ut),this._deflate=this._packer.createDeflate(),this.readable=!0};D.inherits(ot,H),ot.prototype.pack=function(ft,ut,dt,St){this.emit("data",w.from(q.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(ut,dt)),St&&this.emit("data",this._packer.packGAMA(St));let Tt=this._packer.filterData(ft,ut,dt);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(Rt){this.emit("data",this._packer.packIDAT(Rt))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(Tt)}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,stream:65,util:84}],13:[function(d,m,g){(function(w){(function(){let D=!0,H=d("zlib");H.deflateSync||(D=!1);let q=d("./constants"),it=d("./packer");m.exports=function(ot,ft){if(!D)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let ut=new it(ft||{}),dt=[];dt.push(w.from(q.PNG_SIGNATURE)),dt.push(ut.packIHDR(ot.width,ot.height)),ot.gamma&&dt.push(ut.packGAMA(ot.gamma));let St=ut.filterData(ot.data,ot.width,ot.height),Tt=H.deflateSync(St,ut.getDeflateOptions());if(St=null,!Tt||!Tt.length)throw new Error("bad png - invalid compressed data response");return dt.push(ut.packIDAT(Tt)),dt.push(ut.packIEND()),w.concat(dt)}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,zlib:31}],14:[function(d,m,g){(function(w){(function(){let D=d("./constants"),H=d("./crc"),q=d("./bitpacker"),it=d("./filter-pack"),ot=d("zlib"),ft=m.exports=function(ut){if(this._options=ut,ut.deflateChunkSize=ut.deflateChunkSize||32768,ut.deflateLevel=ut.deflateLevel!=null?ut.deflateLevel:9,ut.deflateStrategy=ut.deflateStrategy!=null?ut.deflateStrategy:3,ut.inputHasAlpha=ut.inputHasAlpha==null||ut.inputHasAlpha,ut.deflateFactory=ut.deflateFactory||ot.createDeflate,ut.bitDepth=ut.bitDepth||8,ut.colorType=typeof ut.colorType=="number"?ut.colorType:D.COLORTYPE_COLOR_ALPHA,ut.inputColorType=typeof ut.inputColorType=="number"?ut.inputColorType:D.COLORTYPE_COLOR_ALPHA,[D.COLORTYPE_GRAYSCALE,D.COLORTYPE_COLOR,D.COLORTYPE_COLOR_ALPHA,D.COLORTYPE_ALPHA].indexOf(ut.colorType)===-1)throw new Error("option color type:"+ut.colorType+" is not supported at present");if([D.COLORTYPE_GRAYSCALE,D.COLORTYPE_COLOR,D.COLORTYPE_COLOR_ALPHA,D.COLORTYPE_ALPHA].indexOf(ut.inputColorType)===-1)throw new Error("option input color type:"+ut.inputColorType+" is not supported at present");if(ut.bitDepth!==8&&ut.bitDepth!==16)throw new Error("option bit depth:"+ut.bitDepth+" is not supported at present")};ft.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},ft.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},ft.prototype.filterData=function(ut,dt,St){let Tt=q(ut,dt,St,this._options),Rt=D.COLORTYPE_TO_BPP_MAP[this._options.colorType];return it(Tt,dt,St,this._options,Rt)},ft.prototype._packChunk=function(ut,dt){let St=dt?dt.length:0,Tt=w.alloc(St+12);return Tt.writeUInt32BE(St,0),Tt.writeUInt32BE(ut,4),dt&&dt.copy(Tt,8),Tt.writeInt32BE(H.crc32(Tt.slice(4,Tt.length-4)),Tt.length-4),Tt},ft.prototype.packGAMA=function(ut){let dt=w.alloc(4);return dt.writeUInt32BE(Math.floor(ut*D.GAMMA_DIVISION),0),this._packChunk(D.TYPE_gAMA,dt)},ft.prototype.packIHDR=function(ut,dt){let St=w.alloc(13);return St.writeUInt32BE(ut,0),St.writeUInt32BE(dt,4),St[8]=this._options.bitDepth,St[9]=this._options.colorType,St[10]=0,St[11]=0,St[12]=0,this._packChunk(D.TYPE_IHDR,St)},ft.prototype.packIDAT=function(ut){return this._packChunk(D.TYPE_IDAT,ut)},ft.prototype.packIEND=function(){return this._packChunk(D.TYPE_IEND,null)}}).call(this)}).call(this,d("buffer").Buffer)},{"./bitpacker":2,"./constants":4,"./crc":5,"./filter-pack":6,buffer:32,zlib:31}],15:[function(d,m,g){m.exports=function(w,D,H){let q=w+D-H,it=Math.abs(q-w),ot=Math.abs(q-D),ft=Math.abs(q-H);return it<=ot&&it<=ft?w:ot<=ft?D:H}},{}],16:[function(d,m,g){let w=d("util"),D=d("zlib"),H=d("./chunkstream"),q=d("./filter-parse-async"),it=d("./parser"),ot=d("./bitmapper"),ft=d("./format-normaliser"),ut=m.exports=function(dt){H.call(this),this._parser=new it(dt,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=dt,this.writable=!0,this._parser.start()};w.inherits(ut,H),ut.prototype._handleError=function(dt){this.emit("error",dt),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},ut.prototype._inflateData=function(dt){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=D.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let St=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,Tt=Math.max(St,D.Z_MIN_CHUNK);this._inflate=D.createInflate({chunkSize:Tt});let Rt=St,zt=this.emit.bind(this,"error");this._inflate.on("error",function(jt){Rt&&zt(jt)}),this._filter.on("complete",this._complete.bind(this));let $t=this._filter.write.bind(this._filter);this._inflate.on("data",function(jt){Rt&&(jt.length>Rt&&(jt=jt.slice(0,Rt)),Rt-=jt.length,$t(jt))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(dt)},ut.prototype._handleMetaData=function(dt){this._metaData=dt,this._bitmapInfo=Object.create(dt),this._filter=new q(this._bitmapInfo)},ut.prototype._handleTransColor=function(dt){this._bitmapInfo.transColor=dt},ut.prototype._handlePalette=function(dt){this._bitmapInfo.palette=dt},ut.prototype._simpleTransparency=function(){this._metaData.alpha=!0},ut.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},ut.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},ut.prototype._complete=function(dt){if(this.errord)return;let St;try{let Tt=ot.dataToBitMap(dt,this._bitmapInfo);St=ft(Tt,this._bitmapInfo,this._options.skipRescale),Tt=null}catch(Tt){return void this._handleError(Tt)}this.emit("parsed",St)}},{"./bitmapper":1,"./chunkstream":3,"./filter-parse-async":7,"./format-normaliser":10,"./parser":18,util:84,zlib:31}],17:[function(d,m,g){(function(w){(function(){let D=!0,H=d("zlib"),q=d("./sync-inflate");H.deflateSync||(D=!1);let it=d("./sync-reader"),ot=d("./filter-parse-sync"),ft=d("./parser"),ut=d("./bitmapper"),dt=d("./format-normaliser");m.exports=function(St,Tt){if(!D)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let Rt,zt,$t;function jt(le){Rt=le}function Zt(le){zt=le}function Ft(le){zt.transColor=le}function Dt(le){zt.palette=le}function Kt(){zt.alpha=!0}function re(le){$t=le}let Yt=[];function ne(le){Yt.push(le)}let ee=new it(St);if(new ft(Tt,{read:ee.read.bind(ee),error:jt,metadata:Zt,gamma:re,palette:Dt,transColor:Ft,inflateData:ne,simpleTransparency:Kt}).start(),ee.process(),Rt)throw Rt;let ae,Ut=w.concat(Yt);if(Yt.length=0,zt.interlace)ae=H.inflateSync(Ut);else{let le=(1+(zt.width*zt.bpp*zt.depth+7>>3))*zt.height;ae=q(Ut,{chunkSize:le,maxLength:le})}if(Ut=null,!ae||!ae.length)throw new Error("bad png - invalid inflate data response");let ie=ot.process(ae,zt);Ut=null;let _e=ut.dataToBitMap(ie,zt);ie=null;let ce=dt(_e,zt,Tt.skipRescale);return zt.data=ce,zt.gamma=$t||0,zt}}).call(this)}).call(this,d("buffer").Buffer)},{"./bitmapper":1,"./filter-parse-sync":8,"./format-normaliser":10,"./parser":18,"./sync-inflate":21,"./sync-reader":22,buffer:32,zlib:31}],18:[function(d,m,g){(function(w){(function(){let D=d("./constants"),H=d("./crc"),q=m.exports=function(it,ot){this._options=it,it.checkCRC=it.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[D.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[D.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[D.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[D.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[D.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[D.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=ot.read,this.error=ot.error,this.metadata=ot.metadata,this.gamma=ot.gamma,this.transColor=ot.transColor,this.palette=ot.palette,this.parsed=ot.parsed,this.inflateData=ot.inflateData,this.finished=ot.finished,this.simpleTransparency=ot.simpleTransparency,this.headersFinished=ot.headersFinished||function(){}};q.prototype.start=function(){this.read(D.PNG_SIGNATURE.length,this._parseSignature.bind(this))},q.prototype._parseSignature=function(it){let ot=D.PNG_SIGNATURE;for(let ft=0;ft<ot.length;ft++)if(it[ft]!==ot[ft])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},q.prototype._parseChunkBegin=function(it){let ot=it.readUInt32BE(0),ft=it.readUInt32BE(4),ut="";for(let St=4;St<8;St++)ut+=String.fromCharCode(it[St]);let dt=!!(32&it[4]);if(this._hasIHDR||ft===D.TYPE_IHDR){if(this._crc=new H,this._crc.write(w.from(ut)),this._chunks[ft])return this._chunks[ft](ot);dt?this.read(ot+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+ut))}else this.error(new Error("Expected IHDR on beggining"))},q.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},q.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},q.prototype._parseChunkEnd=function(it){let ot=it.readInt32BE(0),ft=this._crc.crc32();this._options.checkCRC&&ft!==ot?this.error(new Error("Crc error - "+ot+" - "+ft)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},q.prototype._handleIHDR=function(it){this.read(it,this._parseIHDR.bind(this))},q.prototype._parseIHDR=function(it){this._crc.write(it);let ot=it.readUInt32BE(0),ft=it.readUInt32BE(4),ut=it[8],dt=it[9],St=it[10],Tt=it[11],Rt=it[12];if(ut!==8&&ut!==4&&ut!==2&&ut!==1&&ut!==16)return void this.error(new Error("Unsupported bit depth "+ut));if(!(dt in D.COLORTYPE_TO_BPP_MAP))return void this.error(new Error("Unsupported color type"));if(St!==0)return void this.error(new Error("Unsupported compression method"));if(Tt!==0)return void this.error(new Error("Unsupported filter method"));if(Rt!==0&&Rt!==1)return void this.error(new Error("Unsupported interlace method"));this._colorType=dt;let zt=D.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:ot,height:ft,depth:ut,interlace:!!Rt,palette:!!(dt&D.COLORTYPE_PALETTE),color:!!(dt&D.COLORTYPE_COLOR),alpha:!!(dt&D.COLORTYPE_ALPHA),bpp:zt,colorType:dt}),this._handleChunkEnd()},q.prototype._handlePLTE=function(it){this.read(it,this._parsePLTE.bind(this))},q.prototype._parsePLTE=function(it){this._crc.write(it);let ot=Math.floor(it.length/3);for(let ft=0;ft<ot;ft++)this._palette.push([it[3*ft],it[3*ft+1],it[3*ft+2],255]);this.palette(this._palette),this._handleChunkEnd()},q.prototype._handleTRNS=function(it){this.simpleTransparency(),this.read(it,this._parseTRNS.bind(this))},q.prototype._parseTRNS=function(it){if(this._crc.write(it),this._colorType===D.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0)return void this.error(new Error("Transparency chunk must be after palette"));if(it.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(let ot=0;ot<it.length;ot++)this._palette[ot][3]=it[ot];this.palette(this._palette)}this._colorType===D.COLORTYPE_GRAYSCALE&&this.transColor([it.readUInt16BE(0)]),this._colorType===D.COLORTYPE_COLOR&&this.transColor([it.readUInt16BE(0),it.readUInt16BE(2),it.readUInt16BE(4)]),this._handleChunkEnd()},q.prototype._handleGAMA=function(it){this.read(it,this._parseGAMA.bind(this))},q.prototype._parseGAMA=function(it){this._crc.write(it),this.gamma(it.readUInt32BE(0)/D.GAMMA_DIVISION),this._handleChunkEnd()},q.prototype._handleIDAT=function(it){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-it,this._parseIDAT.bind(this,it))},q.prototype._parseIDAT=function(it,ot){if(this._crc.write(ot),this._colorType===D.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(ot);let ft=it-ot.length;ft>0?this._handleIDAT(ft):this._handleChunkEnd()},q.prototype._handleIEND=function(it){this.read(it,this._parseIEND.bind(this))},q.prototype._parseIEND=function(it){this._crc.write(it),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./crc":5,buffer:32}],19:[function(d,m,g){let w=d("./parser-sync"),D=d("./packer-sync");g.read=function(H,q){return w(H,q||{})},g.write=function(H,q){return D(H,q)}},{"./packer-sync":13,"./parser-sync":17}],20:[function(d,m,g){(function(w,D){(function(){let H=d("util"),q=d("stream"),it=d("./parser-async"),ot=d("./packer-async"),ft=d("./png-sync"),ut=g.PNG=function(dt){q.call(this),dt=dt||{},this.width=0|dt.width,this.height=0|dt.height,this.data=this.width>0&&this.height>0?D.alloc(4*this.width*this.height):null,dt.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new it(dt),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(St){this.data=St,this.emit("parsed",St)}).bind(this)),this._packer=new ot(dt),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};H.inherits(ut,q),ut.sync=ft,ut.prototype.pack=function(){return this.data&&this.data.length?(w.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this):(this.emit("error","No data provided"),this)},ut.prototype.parse=function(dt,St){if(St){let Tt,Rt;Tt=(function(zt){this.removeListener("error",Rt),this.data=zt,St(null,this)}).bind(this),Rt=(function(zt){this.removeListener("parsed",Tt),St(zt,null)}).bind(this),this.once("parsed",Tt),this.once("error",Rt)}return this.end(dt),this},ut.prototype.write=function(dt){return this._parser.write(dt),!0},ut.prototype.end=function(dt){this._parser.end(dt)},ut.prototype._metadata=function(dt){this.width=dt.width,this.height=dt.height,this.emit("metadata",dt)},ut.prototype._gamma=function(dt){this.gamma=dt},ut.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},ut.bitblt=function(dt,St,Tt,Rt,zt,$t,jt,Zt){if(Rt|=0,zt|=0,$t|=0,jt|=0,Zt|=0,(Tt|=0)>dt.width||Rt>dt.height||Tt+zt>dt.width||Rt+$t>dt.height)throw new Error("bitblt reading outside image");if(jt>St.width||Zt>St.height||jt+zt>St.width||Zt+$t>St.height)throw new Error("bitblt writing outside image");for(let Ft=0;Ft<$t;Ft++)dt.data.copy(St.data,(Zt+Ft)*St.width+jt<<2,(Rt+Ft)*dt.width+Tt<<2,(Rt+Ft)*dt.width+Tt+zt<<2)},ut.prototype.bitblt=function(dt,St,Tt,Rt,zt,$t,jt){return ut.bitblt(this,dt,St,Tt,Rt,zt,$t,jt),this},ut.adjustGamma=function(dt){if(dt.gamma){for(let St=0;St<dt.height;St++)for(let Tt=0;Tt<dt.width;Tt++){let Rt=dt.width*St+Tt<<2;for(let zt=0;zt<3;zt++){let $t=dt.data[Rt+zt]/255;$t=Math.pow($t,1/2.2/dt.gamma),dt.data[Rt+zt]=Math.round(255*$t)}}dt.gamma=0}},ut.prototype.adjustGamma=function(){ut.adjustGamma(this)}}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{"./packer-async":12,"./parser-async":16,"./png-sync":19,_process:63,buffer:32,stream:65,util:84}],21:[function(d,m,g){(function(w,D){(function(){let H=d("assert").ok,q=d("zlib"),it=d("util"),ot=d("buffer").kMaxLength;function ft(Rt){if(!(this instanceof ft))return new ft(Rt);Rt&&Rt.chunkSize<q.Z_MIN_CHUNK&&(Rt.chunkSize=q.Z_MIN_CHUNK),q.Inflate.call(this,Rt),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,Rt&&Rt.maxLength!=null&&(this._maxLength=Rt.maxLength)}function ut(Rt){return new ft(Rt)}function dt(Rt,zt){Rt._handle&&(Rt._handle.close(),Rt._handle=null)}function St(Rt,zt){if(typeof zt=="string"&&(zt=D.from(zt)),!(zt instanceof D))throw new TypeError("Not a string or buffer");let $t=Rt._finishFlushFlag;return $t==null&&($t=q.Z_FINISH),Rt._processChunk(zt,$t)}function Tt(Rt,zt){return St(new ft(zt),Rt)}ft.prototype._processChunk=function(Rt,zt,$t){if(typeof $t=="function")return q.Inflate._processChunk.call(this,Rt,zt,$t);let jt,Zt,Ft=this,Dt=Rt&&Rt.length,Kt=this._chunkSize-this._offset,re=this._maxLength,Yt=0,ne=[],ee=0;function ae(ie,_e){if(Ft._hadError)return;let ce=Kt-_e;if(H(ce>=0,"have should not go down"),ce>0){let le=Ft._buffer.slice(Ft._offset,Ft._offset+ce);if(Ft._offset+=ce,le.length>re&&(le=le.slice(0,re)),ne.push(le),ee+=le.length,re-=le.length,re===0)return!1}return(_e===0||Ft._offset>=Ft._chunkSize)&&(Kt=Ft._chunkSize,Ft._offset=0,Ft._buffer=D.allocUnsafe(Ft._chunkSize)),_e===0&&(Yt+=Dt-ie,Dt=ie,!0)}this.on("error",function(ie){jt=ie}),H(this._handle,"zlib binding closed");do Zt=this._handle.writeSync(zt,Rt,Yt,Dt,this._buffer,this._offset,Kt),Zt=Zt||this._writeState;while(!this._hadError&&ae(Zt[0],Zt[1]));if(this._hadError)throw jt;if(ee>=ot)throw dt(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+ot.toString(16)+" bytes");let Ut=D.concat(ne,ee);return dt(this),Ut},it.inherits(ft,q.Inflate),m.exports=g=Tt,g.Inflate=ft,g.createInflate=ut,g.inflateSync=Tt}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,assert:23,buffer:32,util:84,zlib:31}],22:[function(d,m,g){let w=m.exports=function(D){this._buffer=D,this._reads=[]};w.prototype.read=function(D,H){this._reads.push({length:Math.abs(D),allowLess:D<0,func:H})},w.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let D=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=D.length||D.allowLess))break;{this._reads.shift();let H=this._buffer;this._buffer=H.slice(D.length),D.func.call(this,H.slice(0,D.length))}}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}},{}],23:[function(d,m,g){(function(w){(function(){var D=d("object-assign");/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */function H(ce,le){if(ce===le)return 0;for(var de=ce.length,Ae=le.length,ve=0,ye=Math.min(de,Ae);ve<ye;++ve)if(ce[ve]!==le[ve]){de=ce[ve],Ae=le[ve];break}return de<Ae?-1:Ae<de?1:0}function q(ce){return w.Buffer&&typeof w.Buffer.isBuffer=="function"?w.Buffer.isBuffer(ce):!(ce==null||!ce._isBuffer)}var it=d("util/"),ot=Object.prototype.hasOwnProperty,ft=Array.prototype.slice,ut=(function(){}).name==="foo";function dt(ce){return Object.prototype.toString.call(ce)}function St(ce){return!q(ce)&&typeof w.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(ce):!!ce&&(ce instanceof DataView||!!(ce.buffer&&ce.buffer instanceof ArrayBuffer)))}var Tt=m.exports=Dt,Rt=/\s*function\s+([^\(\s]*)\s*/;function zt(ce){if(it.isFunction(ce)){if(ut)return ce.name;var le=ce.toString().match(Rt);return le&&le[1]}}function $t(ce,le){return typeof ce=="string"?ce.length<le?ce:ce.slice(0,le):ce}function jt(ce){if(ut||!it.isFunction(ce))return it.inspect(ce);var le=zt(ce);return"[Function"+(le?": "+le:"")+"]"}function Zt(ce){return $t(jt(ce.actual),128)+" "+ce.operator+" "+$t(jt(ce.expected),128)}function Ft(ce,le,de,Ae,ve){throw new Tt.AssertionError({message:de,actual:ce,expected:le,operator:Ae,stackStartFunction:ve})}function Dt(ce,le){ce||Ft(ce,!0,le,"==",Tt.ok)}function Kt(ce,le,de,Ae){if(ce===le)return!0;if(q(ce)&&q(le))return H(ce,le)===0;if(it.isDate(ce)&&it.isDate(le))return ce.getTime()===le.getTime();if(it.isRegExp(ce)&&it.isRegExp(le))return ce.source===le.source&&ce.global===le.global&&ce.multiline===le.multiline&&ce.lastIndex===le.lastIndex&&ce.ignoreCase===le.ignoreCase;if(ce!==null&&typeof ce=="object"||le!==null&&typeof le=="object"){if(St(ce)&&St(le)&&dt(ce)===dt(le)&&!(ce instanceof Float32Array||ce instanceof Float64Array))return H(new Uint8Array(ce.buffer),new Uint8Array(le.buffer))===0;if(q(ce)!==q(le))return!1;var ve=(Ae=Ae||{actual:[],expected:[]}).actual.indexOf(ce);return ve!==-1&&ve===Ae.expected.indexOf(le)||(Ae.actual.push(ce),Ae.expected.push(le),Yt(ce,le,de,Ae))}return de?ce===le:ce==le}function re(ce){return Object.prototype.toString.call(ce)=="[object Arguments]"}function Yt(ce,le,de,Ae){if(ce==null||le==null)return!1;if(it.isPrimitive(ce)||it.isPrimitive(le))return ce===le;if(de&&Object.getPrototypeOf(ce)!==Object.getPrototypeOf(le))return!1;var ve=re(ce),ye=re(le);if(ve&&!ye||!ve&&ye)return!1;if(ve)return Kt(ce=ft.call(ce),le=ft.call(le),de);var Me,ue,xe=_e(ce),Be=_e(le);if(xe.length!==Be.length)return!1;for(xe.sort(),Be.sort(),ue=xe.length-1;ue>=0;ue--)if(xe[ue]!==Be[ue])return!1;for(ue=xe.length-1;ue>=0;ue--)if(!Kt(ce[Me=xe[ue]],le[Me],de,Ae))return!1;return!0}function ne(ce,le,de){Kt(ce,le,!0)&&Ft(ce,le,de,"notDeepStrictEqual",ne)}function ee(ce,le){if(!ce||!le)return!1;if(Object.prototype.toString.call(le)=="[object RegExp]")return le.test(ce);try{if(ce instanceof le)return!0}catch{}return!Error.isPrototypeOf(le)&&le.call({},ce)===!0}function ae(ce){var le;try{ce()}catch(de){le=de}return le}function Ut(ce,le,de,Ae){var ve;if(typeof le!="function")throw new TypeError('"block" argument must be a function');typeof de=="string"&&(Ae=de,de=null),ve=ae(le),Ae=(de&&de.name?" ("+de.name+").":".")+(Ae?" "+Ae:"."),ce&&!ve&&Ft(ve,de,"Missing expected exception"+Ae);var ye=typeof Ae=="string",Me=!ce&&ve&&!de;if((!ce&&it.isError(ve)&&ye&&ee(ve,de)||Me)&&Ft(ve,de,"Got unwanted exception"+Ae),ce&&ve&&de&&!ee(ve,de)||!ce&&ve)throw ve}function ie(ce,le){ce||Ft(ce,!0,le,"==",ie)}Tt.AssertionError=function(ce){this.name="AssertionError",this.actual=ce.actual,this.expected=ce.expected,this.operator=ce.operator,ce.message?(this.message=ce.message,this.generatedMessage=!1):(this.message=Zt(this),this.generatedMessage=!0);var le=ce.stackStartFunction||Ft;if(Error.captureStackTrace)Error.captureStackTrace(this,le);else{var de=new Error;if(de.stack){var Ae=de.stack,ve=zt(le),ye=Ae.indexOf(`
`+ve);if(ye>=0){var Me=Ae.indexOf(`
`,ye+1);Ae=Ae.substring(Me+1)}this.stack=Ae}}},it.inherits(Tt.AssertionError,Error),Tt.fail=Ft,Tt.ok=Dt,Tt.equal=function(ce,le,de){ce!=le&&Ft(ce,le,de,"==",Tt.equal)},Tt.notEqual=function(ce,le,de){ce==le&&Ft(ce,le,de,"!=",Tt.notEqual)},Tt.deepEqual=function(ce,le,de){Kt(ce,le,!1)||Ft(ce,le,de,"deepEqual",Tt.deepEqual)},Tt.deepStrictEqual=function(ce,le,de){Kt(ce,le,!0)||Ft(ce,le,de,"deepStrictEqual",Tt.deepStrictEqual)},Tt.notDeepEqual=function(ce,le,de){Kt(ce,le,!1)&&Ft(ce,le,de,"notDeepEqual",Tt.notDeepEqual)},Tt.notDeepStrictEqual=ne,Tt.strictEqual=function(ce,le,de){ce!==le&&Ft(ce,le,de,"===",Tt.strictEqual)},Tt.notStrictEqual=function(ce,le,de){ce===le&&Ft(ce,le,de,"!==",Tt.notStrictEqual)},Tt.throws=function(ce,le,de){Ut(!0,ce,le,de)},Tt.doesNotThrow=function(ce,le,de){Ut(!1,ce,le,de)},Tt.ifError=function(ce){if(ce)throw ce},Tt.strict=D(ie,Tt,{equal:Tt.strictEqual,deepEqual:Tt.deepStrictEqual,notEqual:Tt.notStrictEqual,notDeepEqual:Tt.notDeepStrictEqual}),Tt.strict.strict=Tt.strict;var _e=Object.keys||function(ce){var le=[];for(var de in ce)ot.call(ce,de)&&le.push(de);return le}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"object-assign":51,"util/":26}],24:[function(d,m,g){typeof Object.create=="function"?m.exports=function(w,D){w.super_=D,w.prototype=Object.create(D.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}})}:m.exports=function(w,D){w.super_=D;var H=function(){};H.prototype=D.prototype,w.prototype=new H,w.prototype.constructor=w}},{}],25:[function(d,m,g){m.exports=function(w){return w&&typeof w=="object"&&typeof w.copy=="function"&&typeof w.fill=="function"&&typeof w.readUInt8=="function"}},{}],26:[function(d,m,g){(function(w,D){(function(){var H=/%[sdj%]/g;g.format=function(ue){if(!Yt(ue)){for(var xe=[],Be=0;Be<arguments.length;Be++)xe.push(ot(arguments[Be]));return xe.join(" ")}Be=1;for(var Ce=arguments,Ee=Ce.length,Se=String(ue).replace(H,function(Fe){if(Fe==="%%")return"%";if(Be>=Ee)return Fe;switch(Fe){case"%s":return String(Ce[Be++]);case"%d":return Number(Ce[Be++]);case"%j":try{return JSON.stringify(Ce[Be++])}catch{return"[Circular]"}default:return Fe}}),Ne=Ce[Be];Be<Ee;Ne=Ce[++Be])Dt(Ne)||!Ut(Ne)?Se+=" "+Ne:Se+=" "+ot(Ne);return Se},g.deprecate=function(ue,xe){if(ee(D.process))return function(){return g.deprecate(ue,xe).apply(this,arguments)};if(w.noDeprecation===!0)return ue;var Be=!1;function Ce(){if(!Be){if(w.throwDeprecation)throw new Error(xe);w.traceDeprecation?console.trace(xe):console.error(xe),Be=!0}return ue.apply(this,arguments)}return Ce};var q,it={};function ot(ue,xe){var Be={seen:[],stylize:ut};return arguments.length>=3&&(Be.depth=arguments[2]),arguments.length>=4&&(Be.colors=arguments[3]),Ft(xe)?Be.showHidden=xe:xe&&g._extend(Be,xe),ee(Be.showHidden)&&(Be.showHidden=!1),ee(Be.depth)&&(Be.depth=2),ee(Be.colors)&&(Be.colors=!1),ee(Be.customInspect)&&(Be.customInspect=!0),Be.colors&&(Be.stylize=ft),St(Be,ue,Be.depth)}function ft(ue,xe){var Be=ot.styles[xe];return Be?"\x1B["+ot.colors[Be][0]+"m"+ue+"\x1B["+ot.colors[Be][1]+"m":ue}function ut(ue,xe){return ue}function dt(ue){var xe={};return ue.forEach(function(Be,Ce){xe[Be]=!0}),xe}function St(ue,xe,Be){if(ue.customInspect&&xe&&ce(xe.inspect)&&xe.inspect!==g.inspect&&(!xe.constructor||xe.constructor.prototype!==xe)){var Ce=xe.inspect(Be,ue);return Yt(Ce)||(Ce=St(ue,Ce,Be)),Ce}var Ee=Tt(ue,xe);if(Ee)return Ee;var Se=Object.keys(xe),Ne=dt(Se);if(ue.showHidden&&(Se=Object.getOwnPropertyNames(xe)),_e(xe)&&(Se.indexOf("message")>=0||Se.indexOf("description")>=0))return Rt(xe);if(Se.length===0){if(ce(xe)){var Fe=xe.name?": "+xe.name:"";return ue.stylize("[Function"+Fe+"]","special")}if(ae(xe))return ue.stylize(RegExp.prototype.toString.call(xe),"regexp");if(ie(xe))return ue.stylize(Date.prototype.toString.call(xe),"date");if(_e(xe))return Rt(xe)}var Oe,Pe="",Jt=!1,Te=["{","}"];return Zt(xe)&&(Jt=!0,Te=["[","]"]),ce(xe)&&(Pe=" [Function"+(xe.name?": "+xe.name:"")+"]"),ae(xe)&&(Pe=" "+RegExp.prototype.toString.call(xe)),ie(xe)&&(Pe=" "+Date.prototype.toUTCString.call(xe)),_e(xe)&&(Pe=" "+Rt(xe)),Se.length!==0||Jt&&xe.length!=0?Be<0?ae(xe)?ue.stylize(RegExp.prototype.toString.call(xe),"regexp"):ue.stylize("[Object]","special"):(ue.seen.push(xe),Oe=Jt?zt(ue,xe,Be,Ne,Se):Se.map(function(he){return $t(ue,xe,Be,Ne,he,Jt)}),ue.seen.pop(),jt(Oe,Pe,Te)):Te[0]+Pe+Te[1]}function Tt(ue,xe){if(ee(xe))return ue.stylize("undefined","undefined");if(Yt(xe)){var Be="'"+JSON.stringify(xe).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ue.stylize(Be,"string")}return re(xe)?ue.stylize(""+xe,"number"):Ft(xe)?ue.stylize(""+xe,"boolean"):Dt(xe)?ue.stylize("null","null"):void 0}function Rt(ue){return"["+Error.prototype.toString.call(ue)+"]"}function zt(ue,xe,Be,Ce,Ee){for(var Se=[],Ne=0,Fe=xe.length;Ne<Fe;++Ne)Me(xe,String(Ne))?Se.push($t(ue,xe,Be,Ce,String(Ne),!0)):Se.push("");return Ee.forEach(function(Oe){Oe.match(/^\d+$/)||Se.push($t(ue,xe,Be,Ce,Oe,!0))}),Se}function $t(ue,xe,Be,Ce,Ee,Se){var Ne,Fe,Oe;if((Oe=Object.getOwnPropertyDescriptor(xe,Ee)||{value:xe[Ee]}).get?Fe=Oe.set?ue.stylize("[Getter/Setter]","special"):ue.stylize("[Getter]","special"):Oe.set&&(Fe=ue.stylize("[Setter]","special")),Me(Ce,Ee)||(Ne="["+Ee+"]"),Fe||(ue.seen.indexOf(Oe.value)<0?(Fe=Dt(Be)?St(ue,Oe.value,null):St(ue,Oe.value,Be-1)).indexOf(`
`)>-1&&(Fe=Se?Fe.split(`
`).map(function(Pe){return"  "+Pe}).join(`
`).substr(2):`
`+Fe.split(`
`).map(function(Pe){return"   "+Pe}).join(`
`)):Fe=ue.stylize("[Circular]","special")),ee(Ne)){if(Se&&Ee.match(/^\d+$/))return Fe;(Ne=JSON.stringify(""+Ee)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Ne=Ne.substr(1,Ne.length-2),Ne=ue.stylize(Ne,"name")):(Ne=Ne.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Ne=ue.stylize(Ne,"string"))}return Ne+": "+Fe}function jt(ue,xe,Be){return ue.reduce(function(Ce,Ee){return Ee.indexOf(`
`),Ce+Ee.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Be[0]+(xe===""?"":xe+`
 `)+" "+ue.join(`,
  `)+" "+Be[1]:Be[0]+xe+" "+ue.join(", ")+" "+Be[1]}function Zt(ue){return Array.isArray(ue)}function Ft(ue){return typeof ue=="boolean"}function Dt(ue){return ue===null}function Kt(ue){return ue==null}function re(ue){return typeof ue=="number"}function Yt(ue){return typeof ue=="string"}function ne(ue){return typeof ue=="symbol"}function ee(ue){return ue===void 0}function ae(ue){return Ut(ue)&&de(ue)==="[object RegExp]"}function Ut(ue){return typeof ue=="object"&&ue!==null}function ie(ue){return Ut(ue)&&de(ue)==="[object Date]"}function _e(ue){return Ut(ue)&&(de(ue)==="[object Error]"||ue instanceof Error)}function ce(ue){return typeof ue=="function"}function le(ue){return ue===null||typeof ue=="boolean"||typeof ue=="number"||typeof ue=="string"||typeof ue=="symbol"||ue===void 0}function de(ue){return Object.prototype.toString.call(ue)}function Ae(ue){return ue<10?"0"+ue.toString(10):ue.toString(10)}g.debuglog=function(ue){if(ee(q)&&(q=w.env.NODE_DEBUG||""),ue=ue.toUpperCase(),!it[ue])if(new RegExp("\\b"+ue+"\\b","i").test(q)){var xe=w.pid;it[ue]=function(){var Be=g.format.apply(g,arguments);console.error("%s %d: %s",ue,xe,Be)}}else it[ue]=function(){};return it[ue]},g.inspect=ot,ot.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ot.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},g.isArray=Zt,g.isBoolean=Ft,g.isNull=Dt,g.isNullOrUndefined=Kt,g.isNumber=re,g.isString=Yt,g.isSymbol=ne,g.isUndefined=ee,g.isRegExp=ae,g.isObject=Ut,g.isDate=ie,g.isError=_e,g.isFunction=ce,g.isPrimitive=le,g.isBuffer=d("./support/isBuffer");var ve=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ye(){var ue=new Date,xe=[Ae(ue.getHours()),Ae(ue.getMinutes()),Ae(ue.getSeconds())].join(":");return[ue.getDate(),ve[ue.getMonth()],xe].join(" ")}function Me(ue,xe){return Object.prototype.hasOwnProperty.call(ue,xe)}g.log=function(){console.log("%s - %s",ye(),g.format.apply(g,arguments))},g.inherits=d("inherits"),g._extend=function(ue,xe){if(!xe||!Ut(xe))return ue;for(var Be=Object.keys(xe),Ce=Be.length;Ce--;)ue[Be[Ce]]=xe[Be[Ce]];return ue}}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":25,_process:63,inherits:24}],27:[function(d,m,g){(function(w){(function(){var D=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],H=typeof globalThis>"u"?w:globalThis;m.exports=function(){for(var q=[],it=0;it<D.length;it++)typeof H[D[it]]=="function"&&(q[q.length]=D[it]);return q}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],28:[function(d,m,g){g.byteLength=ut,g.toByteArray=St,g.fromByteArray=zt;for(var w=[],D=[],H=typeof Uint8Array<"u"?Uint8Array:Array,q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",it=0,ot=q.length;it<ot;++it)w[it]=q[it],D[q.charCodeAt(it)]=it;function ft($t){var jt=$t.length;if(jt%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Zt=$t.indexOf("=");return Zt===-1&&(Zt=jt),[Zt,Zt===jt?0:4-Zt%4]}function ut($t){var jt=ft($t),Zt=jt[0],Ft=jt[1];return 3*(Zt+Ft)/4-Ft}function dt($t,jt,Zt){return 3*(jt+Zt)/4-Zt}function St($t){var jt,Zt,Ft=ft($t),Dt=Ft[0],Kt=Ft[1],re=new H(dt($t,Dt,Kt)),Yt=0,ne=Kt>0?Dt-4:Dt;for(Zt=0;Zt<ne;Zt+=4)jt=D[$t.charCodeAt(Zt)]<<18|D[$t.charCodeAt(Zt+1)]<<12|D[$t.charCodeAt(Zt+2)]<<6|D[$t.charCodeAt(Zt+3)],re[Yt++]=jt>>16&255,re[Yt++]=jt>>8&255,re[Yt++]=255&jt;return Kt===2&&(jt=D[$t.charCodeAt(Zt)]<<2|D[$t.charCodeAt(Zt+1)]>>4,re[Yt++]=255&jt),Kt===1&&(jt=D[$t.charCodeAt(Zt)]<<10|D[$t.charCodeAt(Zt+1)]<<4|D[$t.charCodeAt(Zt+2)]>>2,re[Yt++]=jt>>8&255,re[Yt++]=255&jt),re}function Tt($t){return w[$t>>18&63]+w[$t>>12&63]+w[$t>>6&63]+w[63&$t]}function Rt($t,jt,Zt){for(var Ft,Dt=[],Kt=jt;Kt<Zt;Kt+=3)Ft=($t[Kt]<<16&16711680)+($t[Kt+1]<<8&65280)+(255&$t[Kt+2]),Dt.push(Tt(Ft));return Dt.join("")}function zt($t){for(var jt,Zt=$t.length,Ft=Zt%3,Dt=[],Kt=16383,re=0,Yt=Zt-Ft;re<Yt;re+=Kt)Dt.push(Rt($t,re,re+Kt>Yt?Yt:re+Kt));return Ft===1?(jt=$t[Zt-1],Dt.push(w[jt>>2]+w[jt<<4&63]+"==")):Ft===2&&(jt=($t[Zt-2]<<8)+$t[Zt-1],Dt.push(w[jt>>10]+w[jt>>4&63]+w[jt<<2&63]+"=")),Dt.join("")}D[45]=62,D[95]=63},{}],29:[function(d,m,g){},{}],30:[function(d,m,g){(function(w,D){(function(){var H=d("assert"),q=d("pako/lib/zlib/zstream"),it=d("pako/lib/zlib/deflate.js"),ot=d("pako/lib/zlib/inflate.js"),ft=d("pako/lib/zlib/constants");for(var ut in ft)g[ut]=ft[ut];g.NONE=0,g.DEFLATE=1,g.INFLATE=2,g.GZIP=3,g.GUNZIP=4,g.DEFLATERAW=5,g.INFLATERAW=6,g.UNZIP=7;var dt=31,St=139;function Tt(Rt){if(typeof Rt!="number"||Rt<g.DEFLATE||Rt>g.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=Rt,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}Tt.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,H(this.init_done,"close before init"),H(this.mode<=g.UNZIP),this.mode===g.DEFLATE||this.mode===g.GZIP||this.mode===g.DEFLATERAW?it.deflateEnd(this.strm):this.mode!==g.INFLATE&&this.mode!==g.GUNZIP&&this.mode!==g.INFLATERAW&&this.mode!==g.UNZIP||ot.inflateEnd(this.strm),this.mode=g.NONE,this.dictionary=null)},Tt.prototype.write=function(Rt,zt,$t,jt,Zt,Ft,Dt){return this._write(!0,Rt,zt,$t,jt,Zt,Ft,Dt)},Tt.prototype.writeSync=function(Rt,zt,$t,jt,Zt,Ft,Dt){return this._write(!1,Rt,zt,$t,jt,Zt,Ft,Dt)},Tt.prototype._write=function(Rt,zt,$t,jt,Zt,Ft,Dt,Kt){if(H.equal(arguments.length,8),H(this.init_done,"write before init"),H(this.mode!==g.NONE,"already finalized"),H.equal(!1,this.write_in_progress,"write already in progress"),H.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,H.equal(!1,zt===void 0,"must provide flush value"),this.write_in_progress=!0,zt!==g.Z_NO_FLUSH&&zt!==g.Z_PARTIAL_FLUSH&&zt!==g.Z_SYNC_FLUSH&&zt!==g.Z_FULL_FLUSH&&zt!==g.Z_FINISH&&zt!==g.Z_BLOCK)throw new Error("Invalid flush value");if($t==null&&($t=D.alloc(0),Zt=0,jt=0),this.strm.avail_in=Zt,this.strm.input=$t,this.strm.next_in=jt,this.strm.avail_out=Kt,this.strm.output=Ft,this.strm.next_out=Dt,this.flush=zt,!Rt)return this._process(),this._checkError()?this._afterSync():void 0;var re=this;return w.nextTick(function(){re._process(),re._after()}),this},Tt.prototype._afterSync=function(){var Rt=this.strm.avail_out,zt=this.strm.avail_in;return this.write_in_progress=!1,[zt,Rt]},Tt.prototype._process=function(){var Rt=null;switch(this.mode){case g.DEFLATE:case g.GZIP:case g.DEFLATERAW:this.err=it.deflate(this.strm,this.flush);break;case g.UNZIP:switch(this.strm.avail_in>0&&(Rt=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(Rt===null)break;if(this.strm.input[Rt]!==dt){this.mode=g.INFLATE;break}if(this.gzip_id_bytes_read=1,Rt++,this.strm.avail_in===1)break;case 1:if(Rt===null)break;this.strm.input[Rt]===St?(this.gzip_id_bytes_read=2,this.mode=g.GUNZIP):this.mode=g.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case g.INFLATE:case g.GUNZIP:case g.INFLATERAW:for(this.err=ot.inflate(this.strm,this.flush),this.err===g.Z_NEED_DICT&&this.dictionary&&(this.err=ot.inflateSetDictionary(this.strm,this.dictionary),this.err===g.Z_OK?this.err=ot.inflate(this.strm,this.flush):this.err===g.Z_DATA_ERROR&&(this.err=g.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===g.GUNZIP&&this.err===g.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=ot.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},Tt.prototype._checkError=function(){switch(this.err){case g.Z_OK:case g.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===g.Z_FINISH)return this._error("unexpected end of file"),!1;break;case g.Z_STREAM_END:break;case g.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},Tt.prototype._after=function(){if(this._checkError()){var Rt=this.strm.avail_out,zt=this.strm.avail_in;this.write_in_progress=!1,this.callback(zt,Rt),this.pending_close&&this.close()}},Tt.prototype._error=function(Rt){this.strm.msg&&(Rt=this.strm.msg),this.onerror(Rt,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},Tt.prototype.init=function(Rt,zt,$t,jt,Zt){H(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),H(Rt>=8&&Rt<=15,"invalid windowBits"),H(zt>=-1&&zt<=9,"invalid compression level"),H($t>=1&&$t<=9,"invalid memlevel"),H(jt===g.Z_FILTERED||jt===g.Z_HUFFMAN_ONLY||jt===g.Z_RLE||jt===g.Z_FIXED||jt===g.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(zt,Rt,$t,jt,Zt),this._setDictionary()},Tt.prototype.params=function(){throw new Error("deflateParams Not supported")},Tt.prototype.reset=function(){this._reset(),this._setDictionary()},Tt.prototype._init=function(Rt,zt,$t,jt,Zt){switch(this.level=Rt,this.windowBits=zt,this.memLevel=$t,this.strategy=jt,this.flush=g.Z_NO_FLUSH,this.err=g.Z_OK,this.mode!==g.GZIP&&this.mode!==g.GUNZIP||(this.windowBits+=16),this.mode===g.UNZIP&&(this.windowBits+=32),this.mode!==g.DEFLATERAW&&this.mode!==g.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new q,this.mode){case g.DEFLATE:case g.GZIP:case g.DEFLATERAW:this.err=it.deflateInit2(this.strm,this.level,g.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case g.INFLATE:case g.GUNZIP:case g.INFLATERAW:case g.UNZIP:this.err=ot.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==g.Z_OK&&this._error("Init error"),this.dictionary=Zt,this.write_in_progress=!1,this.init_done=!0},Tt.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=g.Z_OK,this.mode){case g.DEFLATE:case g.DEFLATERAW:this.err=it.deflateSetDictionary(this.strm,this.dictionary)}this.err!==g.Z_OK&&this._error("Failed to set dictionary")}},Tt.prototype._reset=function(){switch(this.err=g.Z_OK,this.mode){case g.DEFLATE:case g.DEFLATERAW:case g.GZIP:this.err=it.deflateReset(this.strm);break;case g.INFLATE:case g.INFLATERAW:case g.GUNZIP:this.err=ot.inflateReset(this.strm)}this.err!==g.Z_OK&&this._error("Failed to reset stream")},g.Zlib=Tt}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,assert:23,buffer:32,"pako/lib/zlib/constants":54,"pako/lib/zlib/deflate.js":56,"pako/lib/zlib/inflate.js":58,"pako/lib/zlib/zstream":62}],31:[function(d,m,g){(function(w){(function(){var D=d("buffer").Buffer,H=d("stream").Transform,q=d("./binding"),it=d("util"),ot=d("assert").ok,ft=d("buffer").kMaxLength,ut="Cannot create final Buffer. It would be larger than 0x"+ft.toString(16)+" bytes";q.Z_MIN_WINDOWBITS=8,q.Z_MAX_WINDOWBITS=15,q.Z_DEFAULT_WINDOWBITS=15,q.Z_MIN_CHUNK=64,q.Z_MAX_CHUNK=1/0,q.Z_DEFAULT_CHUNK=16384,q.Z_MIN_MEMLEVEL=1,q.Z_MAX_MEMLEVEL=9,q.Z_DEFAULT_MEMLEVEL=8,q.Z_MIN_LEVEL=-1,q.Z_MAX_LEVEL=9,q.Z_DEFAULT_LEVEL=q.Z_DEFAULT_COMPRESSION;for(var dt=Object.keys(q),St=0;St<dt.length;St++){var Tt=dt[St];Tt.match(/^Z/)&&Object.defineProperty(g,Tt,{enumerable:!0,value:q[Tt],writable:!1})}for(var Rt={Z_OK:q.Z_OK,Z_STREAM_END:q.Z_STREAM_END,Z_NEED_DICT:q.Z_NEED_DICT,Z_ERRNO:q.Z_ERRNO,Z_STREAM_ERROR:q.Z_STREAM_ERROR,Z_DATA_ERROR:q.Z_DATA_ERROR,Z_MEM_ERROR:q.Z_MEM_ERROR,Z_BUF_ERROR:q.Z_BUF_ERROR,Z_VERSION_ERROR:q.Z_VERSION_ERROR},zt=Object.keys(Rt),$t=0;$t<zt.length;$t++){var jt=zt[$t];Rt[Rt[jt]]=jt}function Zt(le,de,Ae){var ve=[],ye=0;function Me(){for(var Be;(Be=le.read())!==null;)ve.push(Be),ye+=Be.length;le.once("readable",Me)}function ue(Be){le.removeListener("end",xe),le.removeListener("readable",Me),Ae(Be)}function xe(){var Be,Ce=null;ye>=ft?Ce=new RangeError(ut):Be=D.concat(ve,ye),ve=[],le.close(),Ae(Ce,Be)}le.on("error",ue),le.on("end",xe),le.end(de),Me()}function Ft(le,de){if(typeof de=="string"&&(de=D.from(de)),!D.isBuffer(de))throw new TypeError("Not a string or buffer");var Ae=le._finishFlushFlag;return le._processChunk(de,Ae)}function Dt(le){if(!(this instanceof Dt))return new Dt(le);ie.call(this,le,q.DEFLATE)}function Kt(le){if(!(this instanceof Kt))return new Kt(le);ie.call(this,le,q.INFLATE)}function re(le){if(!(this instanceof re))return new re(le);ie.call(this,le,q.GZIP)}function Yt(le){if(!(this instanceof Yt))return new Yt(le);ie.call(this,le,q.GUNZIP)}function ne(le){if(!(this instanceof ne))return new ne(le);ie.call(this,le,q.DEFLATERAW)}function ee(le){if(!(this instanceof ee))return new ee(le);ie.call(this,le,q.INFLATERAW)}function ae(le){if(!(this instanceof ae))return new ae(le);ie.call(this,le,q.UNZIP)}function Ut(le){return le===q.Z_NO_FLUSH||le===q.Z_PARTIAL_FLUSH||le===q.Z_SYNC_FLUSH||le===q.Z_FULL_FLUSH||le===q.Z_FINISH||le===q.Z_BLOCK}function ie(le,de){var Ae=this;if(this._opts=le=le||{},this._chunkSize=le.chunkSize||g.Z_DEFAULT_CHUNK,H.call(this,le),le.flush&&!Ut(le.flush))throw new Error("Invalid flush flag: "+le.flush);if(le.finishFlush&&!Ut(le.finishFlush))throw new Error("Invalid flush flag: "+le.finishFlush);if(this._flushFlag=le.flush||q.Z_NO_FLUSH,this._finishFlushFlag=le.finishFlush!==void 0?le.finishFlush:q.Z_FINISH,le.chunkSize&&(le.chunkSize<g.Z_MIN_CHUNK||le.chunkSize>g.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+le.chunkSize);if(le.windowBits&&(le.windowBits<g.Z_MIN_WINDOWBITS||le.windowBits>g.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+le.windowBits);if(le.level&&(le.level<g.Z_MIN_LEVEL||le.level>g.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+le.level);if(le.memLevel&&(le.memLevel<g.Z_MIN_MEMLEVEL||le.memLevel>g.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+le.memLevel);if(le.strategy&&le.strategy!=g.Z_FILTERED&&le.strategy!=g.Z_HUFFMAN_ONLY&&le.strategy!=g.Z_RLE&&le.strategy!=g.Z_FIXED&&le.strategy!=g.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+le.strategy);if(le.dictionary&&!D.isBuffer(le.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new q.Zlib(de);var ve=this;this._hadError=!1,this._handle.onerror=function(ue,xe){_e(ve),ve._hadError=!0;var Be=new Error(ue);Be.errno=xe,Be.code=g.codes[xe],ve.emit("error",Be)};var ye=g.Z_DEFAULT_COMPRESSION;typeof le.level=="number"&&(ye=le.level);var Me=g.Z_DEFAULT_STRATEGY;typeof le.strategy=="number"&&(Me=le.strategy),this._handle.init(le.windowBits||g.Z_DEFAULT_WINDOWBITS,ye,le.memLevel||g.Z_DEFAULT_MEMLEVEL,Me,le.dictionary),this._buffer=D.allocUnsafe(this._chunkSize),this._offset=0,this._level=ye,this._strategy=Me,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Ae._handle},configurable:!0,enumerable:!0})}function _e(le,de){de&&w.nextTick(de),le._handle&&(le._handle.close(),le._handle=null)}function ce(le){le.emit("close")}Object.defineProperty(g,"codes",{enumerable:!0,value:Object.freeze(Rt),writable:!1}),g.Deflate=Dt,g.Inflate=Kt,g.Gzip=re,g.Gunzip=Yt,g.DeflateRaw=ne,g.InflateRaw=ee,g.Unzip=ae,g.createDeflate=function(le){return new Dt(le)},g.createInflate=function(le){return new Kt(le)},g.createDeflateRaw=function(le){return new ne(le)},g.createInflateRaw=function(le){return new ee(le)},g.createGzip=function(le){return new re(le)},g.createGunzip=function(le){return new Yt(le)},g.createUnzip=function(le){return new ae(le)},g.deflate=function(le,de,Ae){return typeof de=="function"&&(Ae=de,de={}),Zt(new Dt(de),le,Ae)},g.deflateSync=function(le,de){return Ft(new Dt(de),le)},g.gzip=function(le,de,Ae){return typeof de=="function"&&(Ae=de,de={}),Zt(new re(de),le,Ae)},g.gzipSync=function(le,de){return Ft(new re(de),le)},g.deflateRaw=function(le,de,Ae){return typeof de=="function"&&(Ae=de,de={}),Zt(new ne(de),le,Ae)},g.deflateRawSync=function(le,de){return Ft(new ne(de),le)},g.unzip=function(le,de,Ae){return typeof de=="function"&&(Ae=de,de={}),Zt(new ae(de),le,Ae)},g.unzipSync=function(le,de){return Ft(new ae(de),le)},g.inflate=function(le,de,Ae){return typeof de=="function"&&(Ae=de,de={}),Zt(new Kt(de),le,Ae)},g.inflateSync=function(le,de){return Ft(new Kt(de),le)},g.gunzip=function(le,de,Ae){return typeof de=="function"&&(Ae=de,de={}),Zt(new Yt(de),le,Ae)},g.gunzipSync=function(le,de){return Ft(new Yt(de),le)},g.inflateRaw=function(le,de,Ae){return typeof de=="function"&&(Ae=de,de={}),Zt(new ee(de),le,Ae)},g.inflateRawSync=function(le,de){return Ft(new ee(de),le)},it.inherits(ie,H),ie.prototype.params=function(le,de,Ae){if(le<g.Z_MIN_LEVEL||le>g.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+le);if(de!=g.Z_FILTERED&&de!=g.Z_HUFFMAN_ONLY&&de!=g.Z_RLE&&de!=g.Z_FIXED&&de!=g.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+de);if(this._level!==le||this._strategy!==de){var ve=this;this.flush(q.Z_SYNC_FLUSH,function(){ot(ve._handle,"zlib binding closed"),ve._handle.params(le,de),ve._hadError||(ve._level=le,ve._strategy=de,Ae&&Ae())})}else w.nextTick(Ae)},ie.prototype.reset=function(){return ot(this._handle,"zlib binding closed"),this._handle.reset()},ie.prototype._flush=function(le){this._transform(D.alloc(0),"",le)},ie.prototype.flush=function(le,de){var Ae=this,ve=this._writableState;(typeof le=="function"||le===void 0&&!de)&&(de=le,le=q.Z_FULL_FLUSH),ve.ended?de&&w.nextTick(de):ve.ending?de&&this.once("end",de):ve.needDrain?de&&this.once("drain",function(){return Ae.flush(le,de)}):(this._flushFlag=le,this.write(D.alloc(0),"",de))},ie.prototype.close=function(le){_e(this,le),w.nextTick(ce,this)},ie.prototype._transform=function(le,de,Ae){var ve,ye=this._writableState,Me=(ye.ending||ye.ended)&&(!le||ye.length===le.length);return le===null||D.isBuffer(le)?this._handle?(Me?ve=this._finishFlushFlag:(ve=this._flushFlag,le.length>=ye.length&&(this._flushFlag=this._opts.flush||q.Z_NO_FLUSH)),void this._processChunk(le,ve,Ae)):Ae(new Error("zlib binding closed")):Ae(new Error("invalid input"))},ie.prototype._processChunk=function(le,de,Ae){var ve=le&&le.length,ye=this._chunkSize-this._offset,Me=0,ue=this,xe=typeof Ae=="function";if(!xe){var Be,Ce=[],Ee=0;this.on("error",function(Pe){Be=Pe}),ot(this._handle,"zlib binding closed");do var Se=this._handle.writeSync(de,le,Me,ve,this._buffer,this._offset,ye);while(!this._hadError&&Oe(Se[0],Se[1]));if(this._hadError)throw Be;if(Ee>=ft)throw _e(this),new RangeError(ut);var Ne=D.concat(Ce,Ee);return _e(this),Ne}ot(this._handle,"zlib binding closed");var Fe=this._handle.write(de,le,Me,ve,this._buffer,this._offset,ye);function Oe(Pe,Jt){if(this&&(this.buffer=null,this.callback=null),!ue._hadError){var Te=ye-Jt;if(ot(Te>=0,"have should not go down"),Te>0){var he=ue._buffer.slice(ue._offset,ue._offset+Te);ue._offset+=Te,xe?ue.push(he):(Ce.push(he),Ee+=he.length)}if((Jt===0||ue._offset>=ue._chunkSize)&&(ye=ue._chunkSize,ue._offset=0,ue._buffer=D.allocUnsafe(ue._chunkSize)),Jt===0){if(Me+=ve-Pe,ve=Pe,!xe)return!0;var me=ue._handle.write(de,le,Me,ve,ue._buffer,ue._offset,ue._chunkSize);return me.callback=Oe,void(me.buffer=le)}if(!xe)return!1;Ae()}}Fe.buffer=le,Fe.callback=Oe},it.inherits(Dt,ie),it.inherits(Kt,ie),it.inherits(re,ie),it.inherits(Yt,ie),it.inherits(ne,ie),it.inherits(ee,ie),it.inherits(ae,ie)}).call(this)}).call(this,d("_process"))},{"./binding":30,_process:63,assert:23,buffer:32,stream:65,util:84}],32:[function(d,m,g){(function(w){(function(){var D=d("base64-js"),H=d("ieee754");g.Buffer=ft,g.SlowBuffer=Ft,g.INSPECT_MAX_BYTES=50;var q=2147483647;function it(){try{var Ht=new Uint8Array(1);return Ht.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Ht.foo()===42}catch{return!1}}function ot(Ht){if(Ht>q)throw new RangeError('The value "'+Ht+'" is invalid for option "size"');var oe=new Uint8Array(Ht);return oe.__proto__=ft.prototype,oe}function ft(Ht,oe,ge){if(typeof Ht=="number"){if(typeof oe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Tt(Ht)}return ut(Ht,oe,ge)}function ut(Ht,oe,ge){if(typeof Ht=="string")return Rt(Ht,oe);if(ArrayBuffer.isView(Ht))return zt(Ht);if(Ht==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ht);if(we(Ht,ArrayBuffer)||Ht&&we(Ht.buffer,ArrayBuffer))return $t(Ht,oe,ge);if(typeof Ht=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var be=Ht.valueOf&&Ht.valueOf();if(be!=null&&be!==Ht)return ft.from(be,oe,ge);var De=jt(Ht);if(De)return De;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ht[Symbol.toPrimitive]=="function")return ft.from(Ht[Symbol.toPrimitive]("string"),oe,ge);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ht)}function dt(Ht){if(typeof Ht!="number")throw new TypeError('"size" argument must be of type number');if(Ht<0)throw new RangeError('The value "'+Ht+'" is invalid for option "size"')}function St(Ht,oe,ge){return dt(Ht),Ht<=0?ot(Ht):oe!==void 0?typeof ge=="string"?ot(Ht).fill(oe,ge):ot(Ht).fill(oe):ot(Ht)}function Tt(Ht){return dt(Ht),ot(Ht<0?0:0|Zt(Ht))}function Rt(Ht,oe){if(typeof oe=="string"&&oe!==""||(oe="utf8"),!ft.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);var ge=0|Dt(Ht,oe),be=ot(ge),De=be.write(Ht,oe);return De!==ge&&(be=be.slice(0,De)),be}function zt(Ht){for(var oe=Ht.length<0?0:0|Zt(Ht.length),ge=ot(oe),be=0;be<oe;be+=1)ge[be]=255&Ht[be];return ge}function $t(Ht,oe,ge){if(oe<0||Ht.byteLength<oe)throw new RangeError('"offset" is outside of buffer bounds');if(Ht.byteLength<oe+(ge||0))throw new RangeError('"length" is outside of buffer bounds');var be;return(be=oe===void 0&&ge===void 0?new Uint8Array(Ht):ge===void 0?new Uint8Array(Ht,oe):new Uint8Array(Ht,oe,ge)).__proto__=ft.prototype,be}function jt(Ht){if(ft.isBuffer(Ht)){var oe=0|Zt(Ht.length),ge=ot(oe);return ge.length===0||Ht.copy(ge,0,0,oe),ge}return Ht.length!==void 0?typeof Ht.length!="number"||Re(Ht.length)?ot(0):zt(Ht):Ht.type==="Buffer"&&Array.isArray(Ht.data)?zt(Ht.data):void 0}function Zt(Ht){if(Ht>=q)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+q.toString(16)+" bytes");return 0|Ht}function Ft(Ht){return+Ht!=Ht&&(Ht=0),ft.alloc(+Ht)}function Dt(Ht,oe){if(ft.isBuffer(Ht))return Ht.length;if(ArrayBuffer.isView(Ht)||we(Ht,ArrayBuffer))return Ht.byteLength;if(typeof Ht!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ht);var ge=Ht.length,be=arguments.length>2&&arguments[2]===!0;if(!be&&ge===0)return 0;for(var De=!1;;)switch(oe){case"ascii":case"latin1":case"binary":return ge;case"utf8":case"utf-8":return Jt(Ht).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ge;case"hex":return ge>>>1;case"base64":return me(Ht).length;default:if(De)return be?-1:Jt(Ht).length;oe=(""+oe).toLowerCase(),De=!0}}function Kt(Ht,oe,ge){var be=!1;if((oe===void 0||oe<0)&&(oe=0),oe>this.length||((ge===void 0||ge>this.length)&&(ge=this.length),ge<=0)||(ge>>>=0)<=(oe>>>=0))return"";for(Ht||(Ht="utf8");;)switch(Ht){case"hex":return ue(this,oe,ge);case"utf8":case"utf-8":return de(this,oe,ge);case"ascii":return ye(this,oe,ge);case"latin1":case"binary":return Me(this,oe,ge);case"base64":return le(this,oe,ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,oe,ge);default:if(be)throw new TypeError("Unknown encoding: "+Ht);Ht=(Ht+"").toLowerCase(),be=!0}}function re(Ht,oe,ge){var be=Ht[oe];Ht[oe]=Ht[ge],Ht[ge]=be}function Yt(Ht,oe,ge,be,De){if(Ht.length===0)return-1;if(typeof ge=="string"?(be=ge,ge=0):ge>2147483647?ge=2147483647:ge<-2147483648&&(ge=-2147483648),Re(ge=+ge)&&(ge=De?0:Ht.length-1),ge<0&&(ge=Ht.length+ge),ge>=Ht.length){if(De)return-1;ge=Ht.length-1}else if(ge<0){if(!De)return-1;ge=0}if(typeof oe=="string"&&(oe=ft.from(oe,be)),ft.isBuffer(oe))return oe.length===0?-1:ne(Ht,oe,ge,be,De);if(typeof oe=="number")return oe&=255,typeof Uint8Array.prototype.indexOf=="function"?De?Uint8Array.prototype.indexOf.call(Ht,oe,ge):Uint8Array.prototype.lastIndexOf.call(Ht,oe,ge):ne(Ht,[oe],ge,be,De);throw new TypeError("val must be string, number or Buffer")}function ne(Ht,oe,ge,be,De){var je,er=1,ir=Ht.length,Xe=oe.length;if(be!==void 0&&((be=String(be).toLowerCase())==="ucs2"||be==="ucs-2"||be==="utf16le"||be==="utf-16le")){if(Ht.length<2||oe.length<2)return-1;er=2,ir/=2,Xe/=2,ge/=2}function ar(hr,kr){return er===1?hr[kr]:hr.readUInt16BE(kr*er)}if(De){var rr=-1;for(je=ge;je<ir;je++)if(ar(Ht,je)===ar(oe,rr===-1?0:je-rr)){if(rr===-1&&(rr=je),je-rr+1===Xe)return rr*er}else rr!==-1&&(je-=je-rr),rr=-1}else for(ge+Xe>ir&&(ge=ir-Xe),je=ge;je>=0;je--){for(var gr=!0,dr=0;dr<Xe;dr++)if(ar(Ht,je+dr)!==ar(oe,dr)){gr=!1;break}if(gr)return je}return-1}function ee(Ht,oe,ge,be){ge=Number(ge)||0;var De=Ht.length-ge;be?(be=Number(be))>De&&(be=De):be=De;var je=oe.length;be>je/2&&(be=je/2);for(var er=0;er<be;++er){var ir=parseInt(oe.substr(2*er,2),16);if(Re(ir))return er;Ht[ge+er]=ir}return er}function ae(Ht,oe,ge,be){return pe(Jt(oe,Ht.length-ge),Ht,ge,be)}function Ut(Ht,oe,ge,be){return pe(Te(oe),Ht,ge,be)}function ie(Ht,oe,ge,be){return Ut(Ht,oe,ge,be)}function _e(Ht,oe,ge,be){return pe(me(oe),Ht,ge,be)}function ce(Ht,oe,ge,be){return pe(he(oe,Ht.length-ge),Ht,ge,be)}function le(Ht,oe,ge){return oe===0&&ge===Ht.length?D.fromByteArray(Ht):D.fromByteArray(Ht.slice(oe,ge))}function de(Ht,oe,ge){ge=Math.min(Ht.length,ge);for(var be=[],De=oe;De<ge;){var je,er,ir,Xe,ar=Ht[De],rr=null,gr=ar>239?4:ar>223?3:ar>191?2:1;if(De+gr<=ge)switch(gr){case 1:ar<128&&(rr=ar);break;case 2:(192&(je=Ht[De+1]))==128&&(Xe=(31&ar)<<6|63&je)>127&&(rr=Xe);break;case 3:je=Ht[De+1],er=Ht[De+2],(192&je)==128&&(192&er)==128&&(Xe=(15&ar)<<12|(63&je)<<6|63&er)>2047&&(Xe<55296||Xe>57343)&&(rr=Xe);break;case 4:je=Ht[De+1],er=Ht[De+2],ir=Ht[De+3],(192&je)==128&&(192&er)==128&&(192&ir)==128&&(Xe=(15&ar)<<18|(63&je)<<12|(63&er)<<6|63&ir)>65535&&Xe<1114112&&(rr=Xe)}rr===null?(rr=65533,gr=1):rr>65535&&(rr-=65536,be.push(rr>>>10&1023|55296),rr=56320|1023&rr),be.push(rr),De+=gr}return ve(be)}g.kMaxLength=q,ft.TYPED_ARRAY_SUPPORT=it(),ft.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(ft.prototype,"parent",{enumerable:!0,get:function(){if(ft.isBuffer(this))return this.buffer}}),Object.defineProperty(ft.prototype,"offset",{enumerable:!0,get:function(){if(ft.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&ft[Symbol.species]===ft&&Object.defineProperty(ft,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),ft.poolSize=8192,ft.from=function(Ht,oe,ge){return ut(Ht,oe,ge)},ft.prototype.__proto__=Uint8Array.prototype,ft.__proto__=Uint8Array,ft.alloc=function(Ht,oe,ge){return St(Ht,oe,ge)},ft.allocUnsafe=function(Ht){return Tt(Ht)},ft.allocUnsafeSlow=function(Ht){return Tt(Ht)},ft.isBuffer=function(Ht){return Ht!=null&&Ht._isBuffer===!0&&Ht!==ft.prototype},ft.compare=function(Ht,oe){if(we(Ht,Uint8Array)&&(Ht=ft.from(Ht,Ht.offset,Ht.byteLength)),we(oe,Uint8Array)&&(oe=ft.from(oe,oe.offset,oe.byteLength)),!ft.isBuffer(Ht)||!ft.isBuffer(oe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ht===oe)return 0;for(var ge=Ht.length,be=oe.length,De=0,je=Math.min(ge,be);De<je;++De)if(Ht[De]!==oe[De]){ge=Ht[De],be=oe[De];break}return ge<be?-1:be<ge?1:0},ft.isEncoding=function(Ht){switch(String(Ht).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ft.concat=function(Ht,oe){if(!Array.isArray(Ht))throw new TypeError('"list" argument must be an Array of Buffers');if(Ht.length===0)return ft.alloc(0);var ge;if(oe===void 0)for(oe=0,ge=0;ge<Ht.length;++ge)oe+=Ht[ge].length;var be=ft.allocUnsafe(oe),De=0;for(ge=0;ge<Ht.length;++ge){var je=Ht[ge];if(we(je,Uint8Array)&&(je=ft.from(je)),!ft.isBuffer(je))throw new TypeError('"list" argument must be an Array of Buffers');je.copy(be,De),De+=je.length}return be},ft.byteLength=Dt,ft.prototype._isBuffer=!0,ft.prototype.swap16=function(){var Ht=this.length;if(Ht%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var oe=0;oe<Ht;oe+=2)re(this,oe,oe+1);return this},ft.prototype.swap32=function(){var Ht=this.length;if(Ht%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var oe=0;oe<Ht;oe+=4)re(this,oe,oe+3),re(this,oe+1,oe+2);return this},ft.prototype.swap64=function(){var Ht=this.length;if(Ht%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var oe=0;oe<Ht;oe+=8)re(this,oe,oe+7),re(this,oe+1,oe+6),re(this,oe+2,oe+5),re(this,oe+3,oe+4);return this},ft.prototype.toString=function(){var Ht=this.length;return Ht===0?"":arguments.length===0?de(this,0,Ht):Kt.apply(this,arguments)},ft.prototype.toLocaleString=ft.prototype.toString,ft.prototype.equals=function(Ht){if(!ft.isBuffer(Ht))throw new TypeError("Argument must be a Buffer");return this===Ht||ft.compare(this,Ht)===0},ft.prototype.inspect=function(){var Ht="",oe=g.INSPECT_MAX_BYTES;return Ht=this.toString("hex",0,oe).replace(/(.{2})/g,"$1 ").trim(),this.length>oe&&(Ht+=" ... "),"<Buffer "+Ht+">"},ft.prototype.compare=function(Ht,oe,ge,be,De){if(we(Ht,Uint8Array)&&(Ht=ft.from(Ht,Ht.offset,Ht.byteLength)),!ft.isBuffer(Ht))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Ht);if(oe===void 0&&(oe=0),ge===void 0&&(ge=Ht?Ht.length:0),be===void 0&&(be=0),De===void 0&&(De=this.length),oe<0||ge>Ht.length||be<0||De>this.length)throw new RangeError("out of range index");if(be>=De&&oe>=ge)return 0;if(be>=De)return-1;if(oe>=ge)return 1;if(this===Ht)return 0;for(var je=(De>>>=0)-(be>>>=0),er=(ge>>>=0)-(oe>>>=0),ir=Math.min(je,er),Xe=this.slice(be,De),ar=Ht.slice(oe,ge),rr=0;rr<ir;++rr)if(Xe[rr]!==ar[rr]){je=Xe[rr],er=ar[rr];break}return je<er?-1:er<je?1:0},ft.prototype.includes=function(Ht,oe,ge){return this.indexOf(Ht,oe,ge)!==-1},ft.prototype.indexOf=function(Ht,oe,ge){return Yt(this,Ht,oe,ge,!0)},ft.prototype.lastIndexOf=function(Ht,oe,ge){return Yt(this,Ht,oe,ge,!1)},ft.prototype.write=function(Ht,oe,ge,be){if(oe===void 0)be="utf8",ge=this.length,oe=0;else if(ge===void 0&&typeof oe=="string")be=oe,ge=this.length,oe=0;else{if(!isFinite(oe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");oe>>>=0,isFinite(ge)?(ge>>>=0,be===void 0&&(be="utf8")):(be=ge,ge=void 0)}var De=this.length-oe;if((ge===void 0||ge>De)&&(ge=De),Ht.length>0&&(ge<0||oe<0)||oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");be||(be="utf8");for(var je=!1;;)switch(be){case"hex":return ee(this,Ht,oe,ge);case"utf8":case"utf-8":return ae(this,Ht,oe,ge);case"ascii":return Ut(this,Ht,oe,ge);case"latin1":case"binary":return ie(this,Ht,oe,ge);case"base64":return _e(this,Ht,oe,ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,Ht,oe,ge);default:if(je)throw new TypeError("Unknown encoding: "+be);be=(""+be).toLowerCase(),je=!0}},ft.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ae=4096;function ve(Ht){var oe=Ht.length;if(oe<=Ae)return String.fromCharCode.apply(String,Ht);for(var ge="",be=0;be<oe;)ge+=String.fromCharCode.apply(String,Ht.slice(be,be+=Ae));return ge}function ye(Ht,oe,ge){var be="";ge=Math.min(Ht.length,ge);for(var De=oe;De<ge;++De)be+=String.fromCharCode(127&Ht[De]);return be}function Me(Ht,oe,ge){var be="";ge=Math.min(Ht.length,ge);for(var De=oe;De<ge;++De)be+=String.fromCharCode(Ht[De]);return be}function ue(Ht,oe,ge){var be=Ht.length;(!oe||oe<0)&&(oe=0),(!ge||ge<0||ge>be)&&(ge=be);for(var De="",je=oe;je<ge;++je)De+=Pe(Ht[je]);return De}function xe(Ht,oe,ge){for(var be=Ht.slice(oe,ge),De="",je=0;je<be.length;je+=2)De+=String.fromCharCode(be[je]+256*be[je+1]);return De}function Be(Ht,oe,ge){if(Ht%1!=0||Ht<0)throw new RangeError("offset is not uint");if(Ht+oe>ge)throw new RangeError("Trying to access beyond buffer length")}function Ce(Ht,oe,ge,be,De,je){if(!ft.isBuffer(Ht))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe>De||oe<je)throw new RangeError('"value" argument is out of bounds');if(ge+be>Ht.length)throw new RangeError("Index out of range")}function Ee(Ht,oe,ge,be,De,je){if(ge+be>Ht.length)throw new RangeError("Index out of range");if(ge<0)throw new RangeError("Index out of range")}function Se(Ht,oe,ge,be,De){return oe=+oe,ge>>>=0,De||Ee(Ht,oe,ge,4),H.write(Ht,oe,ge,be,23,4),ge+4}function Ne(Ht,oe,ge,be,De){return oe=+oe,ge>>>=0,De||Ee(Ht,oe,ge,8),H.write(Ht,oe,ge,be,52,8),ge+8}ft.prototype.slice=function(Ht,oe){var ge=this.length;(Ht=~~Ht)<0?(Ht+=ge)<0&&(Ht=0):Ht>ge&&(Ht=ge),(oe=oe===void 0?ge:~~oe)<0?(oe+=ge)<0&&(oe=0):oe>ge&&(oe=ge),oe<Ht&&(oe=Ht);var be=this.subarray(Ht,oe);return be.__proto__=ft.prototype,be},ft.prototype.readUIntLE=function(Ht,oe,ge){Ht>>>=0,oe>>>=0,ge||Be(Ht,oe,this.length);for(var be=this[Ht],De=1,je=0;++je<oe&&(De*=256);)be+=this[Ht+je]*De;return be},ft.prototype.readUIntBE=function(Ht,oe,ge){Ht>>>=0,oe>>>=0,ge||Be(Ht,oe,this.length);for(var be=this[Ht+--oe],De=1;oe>0&&(De*=256);)be+=this[Ht+--oe]*De;return be},ft.prototype.readUInt8=function(Ht,oe){return Ht>>>=0,oe||Be(Ht,1,this.length),this[Ht]},ft.prototype.readUInt16LE=function(Ht,oe){return Ht>>>=0,oe||Be(Ht,2,this.length),this[Ht]|this[Ht+1]<<8},ft.prototype.readUInt16BE=function(Ht,oe){return Ht>>>=0,oe||Be(Ht,2,this.length),this[Ht]<<8|this[Ht+1]},ft.prototype.readUInt32LE=function(Ht,oe){return Ht>>>=0,oe||Be(Ht,4,this.length),(this[Ht]|this[Ht+1]<<8|this[Ht+2]<<16)+16777216*this[Ht+3]},ft.prototype.readUInt32BE=function(Ht,oe){return Ht>>>=0,oe||Be(Ht,4,this.length),16777216*this[Ht]+(this[Ht+1]<<16|this[Ht+2]<<8|this[Ht+3])},ft.prototype.readIntLE=function(Ht,oe,ge){Ht>>>=0,oe>>>=0,ge||Be(Ht,oe,this.length);for(var be=this[Ht],De=1,je=0;++je<oe&&(De*=256);)be+=this[Ht+je]*De;return be>=(De*=128)&&(be-=Math.pow(2,8*oe)),be},ft.prototype.readIntBE=function(Ht,oe,ge){Ht>>>=0,oe>>>=0,ge||Be(Ht,oe,this.length);for(var be=oe,De=1,je=this[Ht+--be];be>0&&(De*=256);)je+=this[Ht+--be]*De;return je>=(De*=128)&&(je-=Math.pow(2,8*oe)),je},ft.prototype.readInt8=function(Ht,oe){return Ht>>>=0,oe||Be(Ht,1,this.length),128&this[Ht]?-1*(255-this[Ht]+1):this[Ht]},ft.prototype.readInt16LE=function(Ht,oe){Ht>>>=0,oe||Be(Ht,2,this.length);var ge=this[Ht]|this[Ht+1]<<8;return 32768&ge?4294901760|ge:ge},ft.prototype.readInt16BE=function(Ht,oe){Ht>>>=0,oe||Be(Ht,2,this.length);var ge=this[Ht+1]|this[Ht]<<8;return 32768&ge?4294901760|ge:ge},ft.prototype.readInt32LE=function(Ht,oe){return Ht>>>=0,oe||Be(Ht,4,this.length),this[Ht]|this[Ht+1]<<8|this[Ht+2]<<16|this[Ht+3]<<24},ft.prototype.readInt32BE=function(Ht,oe){return Ht>>>=0,oe||Be(Ht,4,this.length),this[Ht]<<24|this[Ht+1]<<16|this[Ht+2]<<8|this[Ht+3]},ft.prototype.readFloatLE=function(Ht,oe){return Ht>>>=0,oe||Be(Ht,4,this.length),H.read(this,Ht,!0,23,4)},ft.prototype.readFloatBE=function(Ht,oe){return Ht>>>=0,oe||Be(Ht,4,this.length),H.read(this,Ht,!1,23,4)},ft.prototype.readDoubleLE=function(Ht,oe){return Ht>>>=0,oe||Be(Ht,8,this.length),H.read(this,Ht,!0,52,8)},ft.prototype.readDoubleBE=function(Ht,oe){return Ht>>>=0,oe||Be(Ht,8,this.length),H.read(this,Ht,!1,52,8)},ft.prototype.writeUIntLE=function(Ht,oe,ge,be){Ht=+Ht,oe>>>=0,ge>>>=0,be||Ce(this,Ht,oe,ge,Math.pow(2,8*ge)-1,0);var De=1,je=0;for(this[oe]=255&Ht;++je<ge&&(De*=256);)this[oe+je]=Ht/De&255;return oe+ge},ft.prototype.writeUIntBE=function(Ht,oe,ge,be){Ht=+Ht,oe>>>=0,ge>>>=0,be||Ce(this,Ht,oe,ge,Math.pow(2,8*ge)-1,0);var De=ge-1,je=1;for(this[oe+De]=255&Ht;--De>=0&&(je*=256);)this[oe+De]=Ht/je&255;return oe+ge},ft.prototype.writeUInt8=function(Ht,oe,ge){return Ht=+Ht,oe>>>=0,ge||Ce(this,Ht,oe,1,255,0),this[oe]=255&Ht,oe+1},ft.prototype.writeUInt16LE=function(Ht,oe,ge){return Ht=+Ht,oe>>>=0,ge||Ce(this,Ht,oe,2,65535,0),this[oe]=255&Ht,this[oe+1]=Ht>>>8,oe+2},ft.prototype.writeUInt16BE=function(Ht,oe,ge){return Ht=+Ht,oe>>>=0,ge||Ce(this,Ht,oe,2,65535,0),this[oe]=Ht>>>8,this[oe+1]=255&Ht,oe+2},ft.prototype.writeUInt32LE=function(Ht,oe,ge){return Ht=+Ht,oe>>>=0,ge||Ce(this,Ht,oe,4,4294967295,0),this[oe+3]=Ht>>>24,this[oe+2]=Ht>>>16,this[oe+1]=Ht>>>8,this[oe]=255&Ht,oe+4},ft.prototype.writeUInt32BE=function(Ht,oe,ge){return Ht=+Ht,oe>>>=0,ge||Ce(this,Ht,oe,4,4294967295,0),this[oe]=Ht>>>24,this[oe+1]=Ht>>>16,this[oe+2]=Ht>>>8,this[oe+3]=255&Ht,oe+4},ft.prototype.writeIntLE=function(Ht,oe,ge,be){if(Ht=+Ht,oe>>>=0,!be){var De=Math.pow(2,8*ge-1);Ce(this,Ht,oe,ge,De-1,-De)}var je=0,er=1,ir=0;for(this[oe]=255&Ht;++je<ge&&(er*=256);)Ht<0&&ir===0&&this[oe+je-1]!==0&&(ir=1),this[oe+je]=(Ht/er|0)-ir&255;return oe+ge},ft.prototype.writeIntBE=function(Ht,oe,ge,be){if(Ht=+Ht,oe>>>=0,!be){var De=Math.pow(2,8*ge-1);Ce(this,Ht,oe,ge,De-1,-De)}var je=ge-1,er=1,ir=0;for(this[oe+je]=255&Ht;--je>=0&&(er*=256);)Ht<0&&ir===0&&this[oe+je+1]!==0&&(ir=1),this[oe+je]=(Ht/er|0)-ir&255;return oe+ge},ft.prototype.writeInt8=function(Ht,oe,ge){return Ht=+Ht,oe>>>=0,ge||Ce(this,Ht,oe,1,127,-128),Ht<0&&(Ht=255+Ht+1),this[oe]=255&Ht,oe+1},ft.prototype.writeInt16LE=function(Ht,oe,ge){return Ht=+Ht,oe>>>=0,ge||Ce(this,Ht,oe,2,32767,-32768),this[oe]=255&Ht,this[oe+1]=Ht>>>8,oe+2},ft.prototype.writeInt16BE=function(Ht,oe,ge){return Ht=+Ht,oe>>>=0,ge||Ce(this,Ht,oe,2,32767,-32768),this[oe]=Ht>>>8,this[oe+1]=255&Ht,oe+2},ft.prototype.writeInt32LE=function(Ht,oe,ge){return Ht=+Ht,oe>>>=0,ge||Ce(this,Ht,oe,4,2147483647,-2147483648),this[oe]=255&Ht,this[oe+1]=Ht>>>8,this[oe+2]=Ht>>>16,this[oe+3]=Ht>>>24,oe+4},ft.prototype.writeInt32BE=function(Ht,oe,ge){return Ht=+Ht,oe>>>=0,ge||Ce(this,Ht,oe,4,2147483647,-2147483648),Ht<0&&(Ht=4294967295+Ht+1),this[oe]=Ht>>>24,this[oe+1]=Ht>>>16,this[oe+2]=Ht>>>8,this[oe+3]=255&Ht,oe+4},ft.prototype.writeFloatLE=function(Ht,oe,ge){return Se(this,Ht,oe,!0,ge)},ft.prototype.writeFloatBE=function(Ht,oe,ge){return Se(this,Ht,oe,!1,ge)},ft.prototype.writeDoubleLE=function(Ht,oe,ge){return Ne(this,Ht,oe,!0,ge)},ft.prototype.writeDoubleBE=function(Ht,oe,ge){return Ne(this,Ht,oe,!1,ge)},ft.prototype.copy=function(Ht,oe,ge,be){if(!ft.isBuffer(Ht))throw new TypeError("argument should be a Buffer");if(ge||(ge=0),be||be===0||(be=this.length),oe>=Ht.length&&(oe=Ht.length),oe||(oe=0),be>0&&be<ge&&(be=ge),be===ge||Ht.length===0||this.length===0)return 0;if(oe<0)throw new RangeError("targetStart out of bounds");if(ge<0||ge>=this.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("sourceEnd out of bounds");be>this.length&&(be=this.length),Ht.length-oe<be-ge&&(be=Ht.length-oe+ge);var De=be-ge;if(this===Ht&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(oe,ge,be);else if(this===Ht&&ge<oe&&oe<be)for(var je=De-1;je>=0;--je)Ht[je+oe]=this[je+ge];else Uint8Array.prototype.set.call(Ht,this.subarray(ge,be),oe);return De},ft.prototype.fill=function(Ht,oe,ge,be){if(typeof Ht=="string"){if(typeof oe=="string"?(be=oe,oe=0,ge=this.length):typeof ge=="string"&&(be=ge,ge=this.length),be!==void 0&&typeof be!="string")throw new TypeError("encoding must be a string");if(typeof be=="string"&&!ft.isEncoding(be))throw new TypeError("Unknown encoding: "+be);if(Ht.length===1){var De=Ht.charCodeAt(0);(be==="utf8"&&De<128||be==="latin1")&&(Ht=De)}}else typeof Ht=="number"&&(Ht&=255);if(oe<0||this.length<oe||this.length<ge)throw new RangeError("Out of range index");if(ge<=oe)return this;var je;if(oe>>>=0,ge=ge===void 0?this.length:ge>>>0,Ht||(Ht=0),typeof Ht=="number")for(je=oe;je<ge;++je)this[je]=Ht;else{var er=ft.isBuffer(Ht)?Ht:ft.from(Ht,be),ir=er.length;if(ir===0)throw new TypeError('The value "'+Ht+'" is invalid for argument "value"');for(je=0;je<ge-oe;++je)this[je+oe]=er[je%ir]}return this};var Fe=/[^+/0-9A-Za-z-_]/g;function Oe(Ht){if((Ht=(Ht=Ht.split("=")[0]).trim().replace(Fe,"")).length<2)return"";for(;Ht.length%4!=0;)Ht+="=";return Ht}function Pe(Ht){return Ht<16?"0"+Ht.toString(16):Ht.toString(16)}function Jt(Ht,oe){var ge;oe=oe||1/0;for(var be=Ht.length,De=null,je=[],er=0;er<be;++er){if((ge=Ht.charCodeAt(er))>55295&&ge<57344){if(!De){if(ge>56319){(oe-=3)>-1&&je.push(239,191,189);continue}if(er+1===be){(oe-=3)>-1&&je.push(239,191,189);continue}De=ge;continue}if(ge<56320){(oe-=3)>-1&&je.push(239,191,189),De=ge;continue}ge=65536+(De-55296<<10|ge-56320)}else De&&(oe-=3)>-1&&je.push(239,191,189);if(De=null,ge<128){if((oe-=1)<0)break;je.push(ge)}else if(ge<2048){if((oe-=2)<0)break;je.push(ge>>6|192,63&ge|128)}else if(ge<65536){if((oe-=3)<0)break;je.push(ge>>12|224,ge>>6&63|128,63&ge|128)}else{if(!(ge<1114112))throw new Error("Invalid code point");if((oe-=4)<0)break;je.push(ge>>18|240,ge>>12&63|128,ge>>6&63|128,63&ge|128)}}return je}function Te(Ht){for(var oe=[],ge=0;ge<Ht.length;++ge)oe.push(255&Ht.charCodeAt(ge));return oe}function he(Ht,oe){for(var ge,be,De,je=[],er=0;er<Ht.length&&!((oe-=2)<0);++er)be=(ge=Ht.charCodeAt(er))>>8,De=ge%256,je.push(De),je.push(be);return je}function me(Ht){return D.toByteArray(Oe(Ht))}function pe(Ht,oe,ge,be){for(var De=0;De<be&&!(De+ge>=oe.length||De>=Ht.length);++De)oe[De+ge]=Ht[De];return De}function we(Ht,oe){return Ht instanceof oe||Ht!=null&&Ht.constructor!=null&&Ht.constructor.name!=null&&Ht.constructor.name===oe.name}function Re(Ht){return Ht!=Ht}}).call(this)}).call(this,d("buffer").Buffer)},{"base64-js":28,buffer:32,ieee754:45}],33:[function(d,m,g){var w=d("get-intrinsic"),D=d("./"),H=D(w("String.prototype.indexOf"));m.exports=function(q,it){var ot=w(q,!!it);return typeof ot=="function"&&H(q,".prototype.")>-1?D(ot):ot}},{"./":34,"get-intrinsic":39}],34:[function(d,m,g){var w=d("function-bind"),D=d("get-intrinsic"),H=D("%Function.prototype.apply%"),q=D("%Function.prototype.call%"),it=D("%Reflect.apply%",!0)||w.call(q,H),ot=D("%Object.getOwnPropertyDescriptor%",!0),ft=D("%Object.defineProperty%",!0),ut=D("%Math.max%");if(ft)try{ft({},"a",{value:1})}catch{ft=null}m.exports=function(St){var Tt=it(w,q,arguments);return ot&&ft&&ot(Tt,"length").configurable&&ft(Tt,"length",{value:1+ut(0,St.length-(arguments.length-1))}),Tt};var dt=function(){return it(w,H,arguments)};ft?ft(m.exports,"apply",{value:dt}):m.exports.apply=dt},{"function-bind":38,"get-intrinsic":39}],35:[function(d,m,g){var w,D=typeof Reflect=="object"?Reflect:null,H=D&&typeof D.apply=="function"?D.apply:function(Yt,ne,ee){return Function.prototype.apply.call(Yt,ne,ee)};function q(Yt){console&&console.warn&&console.warn(Yt)}w=D&&typeof D.ownKeys=="function"?D.ownKeys:Object.getOwnPropertySymbols?function(Yt){return Object.getOwnPropertyNames(Yt).concat(Object.getOwnPropertySymbols(Yt))}:function(Yt){return Object.getOwnPropertyNames(Yt)};var it=Number.isNaN||function(Yt){return Yt!=Yt};function ot(){ot.init.call(this)}m.exports=ot,m.exports.once=Dt,ot.EventEmitter=ot,ot.prototype._events=void 0,ot.prototype._eventsCount=0,ot.prototype._maxListeners=void 0;var ft=10;function ut(Yt){if(typeof Yt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Yt)}function dt(Yt){return Yt._maxListeners===void 0?ot.defaultMaxListeners:Yt._maxListeners}function St(Yt,ne,ee,ae){var Ut,ie,_e;if(ut(ee),(ie=Yt._events)===void 0?(ie=Yt._events=Object.create(null),Yt._eventsCount=0):(ie.newListener!==void 0&&(Yt.emit("newListener",ne,ee.listener?ee.listener:ee),ie=Yt._events),_e=ie[ne]),_e===void 0)_e=ie[ne]=ee,++Yt._eventsCount;else if(typeof _e=="function"?_e=ie[ne]=ae?[ee,_e]:[_e,ee]:ae?_e.unshift(ee):_e.push(ee),(Ut=dt(Yt))>0&&_e.length>Ut&&!_e.warned){_e.warned=!0;var ce=new Error("Possible EventEmitter memory leak detected. "+_e.length+" "+String(ne)+" listeners added. Use emitter.setMaxListeners() to increase limit");ce.name="MaxListenersExceededWarning",ce.emitter=Yt,ce.type=ne,ce.count=_e.length,q(ce)}return Yt}function Tt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Rt(Yt,ne,ee){var ae={fired:!1,wrapFn:void 0,target:Yt,type:ne,listener:ee},Ut=Tt.bind(ae);return Ut.listener=ee,ae.wrapFn=Ut,Ut}function zt(Yt,ne,ee){var ae=Yt._events;if(ae===void 0)return[];var Ut=ae[ne];return Ut===void 0?[]:typeof Ut=="function"?ee?[Ut.listener||Ut]:[Ut]:ee?Ft(Ut):jt(Ut,Ut.length)}function $t(Yt){var ne=this._events;if(ne!==void 0){var ee=ne[Yt];if(typeof ee=="function")return 1;if(ee!==void 0)return ee.length}return 0}function jt(Yt,ne){for(var ee=new Array(ne),ae=0;ae<ne;++ae)ee[ae]=Yt[ae];return ee}function Zt(Yt,ne){for(;ne+1<Yt.length;ne++)Yt[ne]=Yt[ne+1];Yt.pop()}function Ft(Yt){for(var ne=new Array(Yt.length),ee=0;ee<ne.length;++ee)ne[ee]=Yt[ee].listener||Yt[ee];return ne}function Dt(Yt,ne){return new Promise(function(ee,ae){function Ut(_e){Yt.removeListener(ne,ie),ae(_e)}function ie(){typeof Yt.removeListener=="function"&&Yt.removeListener("error",Ut),ee([].slice.call(arguments))}re(Yt,ne,ie,{once:!0}),ne!=="error"&&Kt(Yt,Ut,{once:!0})})}function Kt(Yt,ne,ee){typeof Yt.on=="function"&&re(Yt,"error",ne,ee)}function re(Yt,ne,ee,ae){if(typeof Yt.on=="function")ae.once?Yt.once(ne,ee):Yt.on(ne,ee);else{if(typeof Yt.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Yt);Yt.addEventListener(ne,function Ut(ie){ae.once&&Yt.removeEventListener(ne,Ut),ee(ie)})}}Object.defineProperty(ot,"defaultMaxListeners",{enumerable:!0,get:function(){return ft},set:function(Yt){if(typeof Yt!="number"||Yt<0||it(Yt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Yt+".");ft=Yt}}),ot.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ot.prototype.setMaxListeners=function(Yt){if(typeof Yt!="number"||Yt<0||it(Yt))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Yt+".");return this._maxListeners=Yt,this},ot.prototype.getMaxListeners=function(){return dt(this)},ot.prototype.emit=function(Yt){for(var ne=[],ee=1;ee<arguments.length;ee++)ne.push(arguments[ee]);var ae=Yt==="error",Ut=this._events;if(Ut!==void 0)ae=ae&&Ut.error===void 0;else if(!ae)return!1;if(ae){var ie;if(ne.length>0&&(ie=ne[0]),ie instanceof Error)throw ie;var _e=new Error("Unhandled error."+(ie?" ("+ie.message+")":""));throw _e.context=ie,_e}var ce=Ut[Yt];if(ce===void 0)return!1;if(typeof ce=="function")H(ce,this,ne);else{var le=ce.length,de=jt(ce,le);for(ee=0;ee<le;++ee)H(de[ee],this,ne)}return!0},ot.prototype.addListener=function(Yt,ne){return St(this,Yt,ne,!1)},ot.prototype.on=ot.prototype.addListener,ot.prototype.prependListener=function(Yt,ne){return St(this,Yt,ne,!0)},ot.prototype.once=function(Yt,ne){return ut(ne),this.on(Yt,Rt(this,Yt,ne)),this},ot.prototype.prependOnceListener=function(Yt,ne){return ut(ne),this.prependListener(Yt,Rt(this,Yt,ne)),this},ot.prototype.removeListener=function(Yt,ne){var ee,ae,Ut,ie,_e;if(ut(ne),(ae=this._events)===void 0)return this;if((ee=ae[Yt])===void 0)return this;if(ee===ne||ee.listener===ne)--this._eventsCount==0?this._events=Object.create(null):(delete ae[Yt],ae.removeListener&&this.emit("removeListener",Yt,ee.listener||ne));else if(typeof ee!="function"){for(Ut=-1,ie=ee.length-1;ie>=0;ie--)if(ee[ie]===ne||ee[ie].listener===ne){_e=ee[ie].listener,Ut=ie;break}if(Ut<0)return this;Ut===0?ee.shift():Zt(ee,Ut),ee.length===1&&(ae[Yt]=ee[0]),ae.removeListener!==void 0&&this.emit("removeListener",Yt,_e||ne)}return this},ot.prototype.off=ot.prototype.removeListener,ot.prototype.removeAllListeners=function(Yt){var ne,ee,ae;if((ee=this._events)===void 0)return this;if(ee.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):ee[Yt]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete ee[Yt]),this;if(arguments.length===0){var Ut,ie=Object.keys(ee);for(ae=0;ae<ie.length;++ae)(Ut=ie[ae])!=="removeListener"&&this.removeAllListeners(Ut);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(ne=ee[Yt])=="function")this.removeListener(Yt,ne);else if(ne!==void 0)for(ae=ne.length-1;ae>=0;ae--)this.removeListener(Yt,ne[ae]);return this},ot.prototype.listeners=function(Yt){return zt(this,Yt,!0)},ot.prototype.rawListeners=function(Yt){return zt(this,Yt,!1)},ot.listenerCount=function(Yt,ne){return typeof Yt.listenerCount=="function"?Yt.listenerCount(ne):$t.call(Yt,ne)},ot.prototype.listenerCount=$t,ot.prototype.eventNames=function(){return this._eventsCount>0?w(this._events):[]}},{}],36:[function(d,m,g){var w=d("is-callable"),D=Object.prototype.toString,H=Object.prototype.hasOwnProperty,q=function(ut,dt,St){for(var Tt=0,Rt=ut.length;Tt<Rt;Tt++)H.call(ut,Tt)&&(St==null?dt(ut[Tt],Tt,ut):dt.call(St,ut[Tt],Tt,ut))},it=function(ut,dt,St){for(var Tt=0,Rt=ut.length;Tt<Rt;Tt++)St==null?dt(ut.charAt(Tt),Tt,ut):dt.call(St,ut.charAt(Tt),Tt,ut)},ot=function(ut,dt,St){for(var Tt in ut)H.call(ut,Tt)&&(St==null?dt(ut[Tt],Tt,ut):dt.call(St,ut[Tt],Tt,ut))},ft=function(ut,dt,St){if(!w(dt))throw new TypeError("iterator must be a function");var Tt;arguments.length>=3&&(Tt=St),D.call(ut)==="[object Array]"?q(ut,dt,Tt):typeof ut=="string"?it(ut,dt,Tt):ot(ut,dt,Tt)};m.exports=ft},{"is-callable":48}],37:[function(d,m,g){var w="Function.prototype.bind called on incompatible ",D=Array.prototype.slice,H=Object.prototype.toString,q="[object Function]";m.exports=function(it){var ot=this;if(typeof ot!="function"||H.call(ot)!==q)throw new TypeError(w+ot);for(var ft,ut=D.call(arguments,1),dt=function(){if(this instanceof ft){var $t=ot.apply(this,ut.concat(D.call(arguments)));return Object($t)===$t?$t:this}return ot.apply(it,ut.concat(D.call(arguments)))},St=Math.max(0,ot.length-ut.length),Tt=[],Rt=0;Rt<St;Rt++)Tt.push("$"+Rt);if(ft=Function("binder","return function ("+Tt.join(",")+"){ return binder.apply(this,arguments); }")(dt),ot.prototype){var zt=function(){};zt.prototype=ot.prototype,ft.prototype=new zt,zt.prototype=null}return ft}},{}],38:[function(d,m,g){var w=d("./implementation");m.exports=Function.prototype.bind||w},{"./implementation":37}],39:[function(d,m,g){var w,D=SyntaxError,H=Function,q=TypeError,it=function(ce){try{return H('"use strict"; return ('+ce+").constructor;")()}catch{}},ot=Object.getOwnPropertyDescriptor;if(ot)try{ot({},"")}catch{ot=null}var ft=function(){throw new q},ut=ot?function(){try{return ft}catch{try{return ot(arguments,"callee").get}catch{return ft}}}():ft,dt=d("has-symbols")(),St=Object.getPrototypeOf||function(ce){return ce.__proto__},Tt={},Rt=typeof Uint8Array>"u"?w:St(Uint8Array),zt={"%AggregateError%":typeof AggregateError>"u"?w:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?w:ArrayBuffer,"%ArrayIteratorPrototype%":dt?St([][Symbol.iterator]()):w,"%AsyncFromSyncIteratorPrototype%":w,"%AsyncFunction%":Tt,"%AsyncGenerator%":Tt,"%AsyncGeneratorFunction%":Tt,"%AsyncIteratorPrototype%":Tt,"%Atomics%":typeof Atomics>"u"?w:Atomics,"%BigInt%":typeof BigInt>"u"?w:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?w:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?w:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?w:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?w:Float32Array,"%Float64Array%":typeof Float64Array>"u"?w:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?w:FinalizationRegistry,"%Function%":H,"%GeneratorFunction%":Tt,"%Int8Array%":typeof Int8Array>"u"?w:Int8Array,"%Int16Array%":typeof Int16Array>"u"?w:Int16Array,"%Int32Array%":typeof Int32Array>"u"?w:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":dt?St(St([][Symbol.iterator]())):w,"%JSON%":typeof JSON=="object"?JSON:w,"%Map%":typeof Map>"u"?w:Map,"%MapIteratorPrototype%":typeof Map<"u"&&dt?St(new Map()[Symbol.iterator]()):w,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?w:Promise,"%Proxy%":typeof Proxy>"u"?w:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?w:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?w:Set,"%SetIteratorPrototype%":typeof Set<"u"&&dt?St(new Set()[Symbol.iterator]()):w,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?w:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":dt?St(""[Symbol.iterator]()):w,"%Symbol%":dt?Symbol:w,"%SyntaxError%":D,"%ThrowTypeError%":ut,"%TypedArray%":Rt,"%TypeError%":q,"%Uint8Array%":typeof Uint8Array>"u"?w:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?w:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?w:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?w:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?w:WeakMap,"%WeakRef%":typeof WeakRef>"u"?w:WeakRef,"%WeakSet%":typeof WeakSet>"u"?w:WeakSet};try{null.error}catch(ce){var $t=St(St(ce));zt["%Error.prototype%"]=$t}var jt=function ce(le){var de;if(le==="%AsyncFunction%")de=it("async function () {}");else if(le==="%GeneratorFunction%")de=it("function* () {}");else if(le==="%AsyncGeneratorFunction%")de=it("async function* () {}");else if(le==="%AsyncGenerator%"){var Ae=ce("%AsyncGeneratorFunction%");Ae&&(de=Ae.prototype)}else if(le==="%AsyncIteratorPrototype%"){var ve=ce("%AsyncGenerator%");ve&&(de=St(ve.prototype))}return zt[le]=de,de},Zt={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ft=d("function-bind"),Dt=d("has"),Kt=Ft.call(Function.call,Array.prototype.concat),re=Ft.call(Function.apply,Array.prototype.splice),Yt=Ft.call(Function.call,String.prototype.replace),ne=Ft.call(Function.call,String.prototype.slice),ee=Ft.call(Function.call,RegExp.prototype.exec),ae=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ut=/\\(\\)?/g,ie=function(ce){var le=ne(ce,0,1),de=ne(ce,-1);if(le==="%"&&de!=="%")throw new D("invalid intrinsic syntax, expected closing `%`");if(de==="%"&&le!=="%")throw new D("invalid intrinsic syntax, expected opening `%`");var Ae=[];return Yt(ce,ae,function(ve,ye,Me,ue){Ae[Ae.length]=Me?Yt(ue,Ut,"$1"):ye||ve}),Ae},_e=function(ce,le){var de,Ae=ce;if(Dt(Zt,Ae)&&(Ae="%"+(de=Zt[Ae])[0]+"%"),Dt(zt,Ae)){var ve=zt[Ae];if(ve===Tt&&(ve=jt(Ae)),ve===void 0&&!le)throw new q("intrinsic "+ce+" exists, but is not available. Please file an issue!");return{alias:de,name:Ae,value:ve}}throw new D("intrinsic "+ce+" does not exist!")};m.exports=function(ce,le){if(typeof ce!="string"||ce.length===0)throw new q("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof le!="boolean")throw new q('"allowMissing" argument must be a boolean');if(ee(/^%?[^%]*%?$/,ce)===null)throw new D("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var de=ie(ce),Ae=de.length>0?de[0]:"",ve=_e("%"+Ae+"%",le),ye=ve.name,Me=ve.value,ue=!1,xe=ve.alias;xe&&(Ae=xe[0],re(de,Kt([0,1],xe)));for(var Be=1,Ce=!0;Be<de.length;Be+=1){var Ee=de[Be],Se=ne(Ee,0,1),Ne=ne(Ee,-1);if((Se==='"'||Se==="'"||Se==="`"||Ne==='"'||Ne==="'"||Ne==="`")&&Se!==Ne)throw new D("property names with quotes must have matching quotes");if(Ee!=="constructor"&&Ce||(ue=!0),Dt(zt,ye="%"+(Ae+="."+Ee)+"%"))Me=zt[ye];else if(Me!=null){if(!(Ee in Me)){if(!le)throw new q("base intrinsic for "+ce+" exists, but the property is not available.");return}if(ot&&Be+1>=de.length){var Fe=ot(Me,Ee);Me=(Ce=!!Fe)&&"get"in Fe&&!("originalValue"in Fe.get)?Fe.get:Me[Ee]}else Ce=Dt(Me,Ee),Me=Me[Ee];Ce&&!ue&&(zt[ye]=Me)}}return Me}},{"function-bind":38,has:44,"has-symbols":41}],40:[function(d,m,g){var w=d("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if(w)try{w([],"length")}catch{w=null}m.exports=w},{"get-intrinsic":39}],41:[function(d,m,g){var w=typeof Symbol<"u"&&Symbol,D=d("./shams");m.exports=function(){return typeof w=="function"&&typeof Symbol=="function"&&typeof w("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&D()}},{"./shams":42}],42:[function(d,m,g){m.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var w={},D=Symbol("test"),H=Object(D);if(typeof D=="string"||Object.prototype.toString.call(D)!=="[object Symbol]"||Object.prototype.toString.call(H)!=="[object Symbol]")return!1;var q=42;for(D in w[D]=q,w)return!1;if(typeof Object.keys=="function"&&Object.keys(w).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(w).length!==0)return!1;var it=Object.getOwnPropertySymbols(w);if(it.length!==1||it[0]!==D||!Object.prototype.propertyIsEnumerable.call(w,D))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var ot=Object.getOwnPropertyDescriptor(w,D);if(ot.value!==q||ot.enumerable!==!0)return!1}return!0}},{}],43:[function(d,m,g){var w=d("has-symbols/shams");m.exports=function(){return w()&&!!Symbol.toStringTag}},{"has-symbols/shams":42}],44:[function(d,m,g){var w=d("function-bind");m.exports=w.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":38}],45:[function(d,m,g){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g.read=function(w,D,H,q,it){var ot,ft,ut=8*it-q-1,dt=(1<<ut)-1,St=dt>>1,Tt=-7,Rt=H?it-1:0,zt=H?-1:1,$t=w[D+Rt];for(Rt+=zt,ot=$t&(1<<-Tt)-1,$t>>=-Tt,Tt+=ut;Tt>0;ot=256*ot+w[D+Rt],Rt+=zt,Tt-=8);for(ft=ot&(1<<-Tt)-1,ot>>=-Tt,Tt+=q;Tt>0;ft=256*ft+w[D+Rt],Rt+=zt,Tt-=8);if(ot===0)ot=1-St;else{if(ot===dt)return ft?NaN:1/0*($t?-1:1);ft+=Math.pow(2,q),ot-=St}return($t?-1:1)*ft*Math.pow(2,ot-q)},g.write=function(w,D,H,q,it,ot){var ft,ut,dt,St=8*ot-it-1,Tt=(1<<St)-1,Rt=Tt>>1,zt=it===23?Math.pow(2,-24)-Math.pow(2,-77):0,$t=q?0:ot-1,jt=q?1:-1,Zt=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(ut=isNaN(D)?1:0,ft=Tt):(ft=Math.floor(Math.log(D)/Math.LN2),D*(dt=Math.pow(2,-ft))<1&&(ft--,dt*=2),(D+=ft+Rt>=1?zt/dt:zt*Math.pow(2,1-Rt))*dt>=2&&(ft++,dt/=2),ft+Rt>=Tt?(ut=0,ft=Tt):ft+Rt>=1?(ut=(D*dt-1)*Math.pow(2,it),ft+=Rt):(ut=D*Math.pow(2,Rt-1)*Math.pow(2,it),ft=0));it>=8;w[H+$t]=255&ut,$t+=jt,ut/=256,it-=8);for(ft=ft<<it|ut,St+=it;St>0;w[H+$t]=255&ft,$t+=jt,ft/=256,St-=8);w[H+$t-jt]|=128*Zt}},{}],46:[function(d,m,g){typeof Object.create=="function"?m.exports=function(w,D){D&&(w.super_=D,w.prototype=Object.create(D.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:m.exports=function(w,D){if(D){w.super_=D;var H=function(){};H.prototype=D.prototype,w.prototype=new H,w.prototype.constructor=w}}},{}],47:[function(d,m,g){var w=d("has-tostringtag/shams")(),D=d("call-bind/callBound")("Object.prototype.toString"),H=function(ot){return!(w&&ot&&typeof ot=="object"&&Symbol.toStringTag in ot)&&D(ot)==="[object Arguments]"},q=function(ot){return!!H(ot)||ot!==null&&typeof ot=="object"&&typeof ot.length=="number"&&ot.length>=0&&D(ot)!=="[object Array]"&&D(ot.callee)==="[object Function]"},it=function(){return H(arguments)}();H.isLegacyArguments=q,m.exports=it?H:q},{"call-bind/callBound":33,"has-tostringtag/shams":43}],48:[function(d,m,g){var w,D,H=Function.prototype.toString,q=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof q=="function"&&typeof Object.defineProperty=="function")try{w=Object.defineProperty({},"length",{get:function(){throw D}}),D={},q(function(){throw 42},null,w)}catch(Kt){Kt!==D&&(q=null)}else q=null;var it=/^\s*class\b/,ot=function(Kt){try{var re=H.call(Kt);return it.test(re)}catch{return!1}},ft=function(Kt){try{return!ot(Kt)&&(H.call(Kt),!0)}catch{return!1}},ut=Object.prototype.toString,dt="[object Object]",St="[object Function]",Tt="[object GeneratorFunction]",Rt="[object HTMLAllCollection]",zt="[object HTML document.all class]",$t="[object HTMLCollection]",jt=typeof Symbol=="function"&&!!Symbol.toStringTag,Zt=!(0 in[,]),Ft=function(){return!1};if(typeof document=="object"){var Dt=document.all;ut.call(Dt)===ut.call(document.all)&&(Ft=function(Kt){if((Zt||!Kt)&&(Kt===void 0||typeof Kt=="object"))try{var re=ut.call(Kt);return(re===Rt||re===zt||re===$t||re===dt)&&Kt("")==null}catch{}return!1})}m.exports=q?function(Kt){if(Ft(Kt))return!0;if(!Kt||typeof Kt!="function"&&typeof Kt!="object")return!1;try{q(Kt,null,w)}catch(re){if(re!==D)return!1}return!ot(Kt)&&ft(Kt)}:function(Kt){if(Ft(Kt))return!0;if(!Kt||typeof Kt!="function"&&typeof Kt!="object")return!1;if(jt)return ft(Kt);if(ot(Kt))return!1;var re=ut.call(Kt);return!(re!==St&&re!==Tt&&!/^\[object HTML/.test(re))&&ft(Kt)}},{}],49:[function(d,m,g){var w,D=Object.prototype.toString,H=Function.prototype.toString,q=/^\s*(?:function)?\*/,it=d("has-tostringtag/shams")(),ot=Object.getPrototypeOf,ft=function(){if(!it)return!1;try{return Function("return function*() {}")()}catch{}};m.exports=function(ut){if(typeof ut!="function")return!1;if(q.test(H.call(ut)))return!0;if(!it)return D.call(ut)==="[object GeneratorFunction]";if(!ot)return!1;if(w===void 0){var dt=ft();w=!!dt&&ot(dt)}return ot(ut)===w}},{"has-tostringtag/shams":43}],50:[function(d,m,g){(function(w){(function(){var D=d("for-each"),H=d("available-typed-arrays"),q=d("call-bind/callBound"),it=q("Object.prototype.toString"),ot=d("has-tostringtag/shams")(),ft=d("gopd"),ut=typeof globalThis>"u"?w:globalThis,dt=H(),St=q("Array.prototype.indexOf",!0)||function(jt,Zt){for(var Ft=0;Ft<jt.length;Ft+=1)if(jt[Ft]===Zt)return Ft;return-1},Tt=q("String.prototype.slice"),Rt={},zt=Object.getPrototypeOf;ot&&ft&&zt&&D(dt,function(jt){var Zt=new ut[jt];if(Symbol.toStringTag in Zt){var Ft=zt(Zt),Dt=ft(Ft,Symbol.toStringTag);if(!Dt){var Kt=zt(Ft);Dt=ft(Kt,Symbol.toStringTag)}Rt[jt]=Dt.get}});var $t=function(jt){var Zt=!1;return D(Rt,function(Ft,Dt){if(!Zt)try{Zt=Ft.call(jt)===Dt}catch{}}),Zt};m.exports=function(jt){if(!jt||typeof jt!="object")return!1;if(!ot||!(Symbol.toStringTag in jt)){var Zt=Tt(it(jt),8,-1);return St(dt,Zt)>-1}return!!ft&&$t(jt)}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43}],51:[function(d,m,g){var w=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;function q(ot){if(ot==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(ot)}function it(){try{if(!Object.assign)return!1;var ot=new String("abc");if(ot[5]="de",Object.getOwnPropertyNames(ot)[0]==="5")return!1;for(var ft={},ut=0;ut<10;ut++)ft["_"+String.fromCharCode(ut)]=ut;var dt=Object.getOwnPropertyNames(ft).map(function(Tt){return ft[Tt]});if(dt.join("")!=="0123456789")return!1;var St={};return"abcdefghijklmnopqrst".split("").forEach(function(Tt){St[Tt]=Tt}),Object.keys(Object.assign({},St)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}m.exports=it()?Object.assign:function(ot,ft){for(var ut,dt,St=q(ot),Tt=1;Tt<arguments.length;Tt++){for(var Rt in ut=Object(arguments[Tt]))D.call(ut,Rt)&&(St[Rt]=ut[Rt]);if(w){dt=w(ut);for(var zt=0;zt<dt.length;zt++)H.call(ut,dt[zt])&&(St[dt[zt]]=ut[dt[zt]])}}return St}},{}],52:[function(d,m,g){var w=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function D(it,ot){return Object.prototype.hasOwnProperty.call(it,ot)}g.assign=function(it){for(var ot=Array.prototype.slice.call(arguments,1);ot.length;){var ft=ot.shift();if(ft){if(typeof ft!="object")throw new TypeError(ft+"must be non-object");for(var ut in ft)D(ft,ut)&&(it[ut]=ft[ut])}}return it},g.shrinkBuf=function(it,ot){return it.length===ot?it:it.subarray?it.subarray(0,ot):(it.length=ot,it)};var H={arraySet:function(it,ot,ft,ut,dt){if(ot.subarray&&it.subarray)it.set(ot.subarray(ft,ft+ut),dt);else for(var St=0;St<ut;St++)it[dt+St]=ot[ft+St]},flattenChunks:function(it){var ot,ft,ut,dt,St,Tt;for(ut=0,ot=0,ft=it.length;ot<ft;ot++)ut+=it[ot].length;for(Tt=new Uint8Array(ut),dt=0,ot=0,ft=it.length;ot<ft;ot++)St=it[ot],Tt.set(St,dt),dt+=St.length;return Tt}},q={arraySet:function(it,ot,ft,ut,dt){for(var St=0;St<ut;St++)it[dt+St]=ot[ft+St]},flattenChunks:function(it){return[].concat.apply([],it)}};g.setTyped=function(it){it?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,H)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,q))},g.setTyped(w)},{}],53:[function(d,m,g){function w(D,H,q,it){for(var ot=65535&D,ft=D>>>16&65535,ut=0;q!==0;){q-=ut=q>2e3?2e3:q;do ft=ft+(ot=ot+H[it++]|0)|0;while(--ut);ot%=65521,ft%=65521}return ot|ft<<16}m.exports=w},{}],54:[function(d,m,g){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],55:[function(d,m,g){function w(){for(var q,it=[],ot=0;ot<256;ot++){q=ot;for(var ft=0;ft<8;ft++)q=1&q?3988292384^q>>>1:q>>>1;it[ot]=q}return it}var D=w();function H(q,it,ot,ft){var ut=D,dt=ft+ot;q^=-1;for(var St=ft;St<dt;St++)q=q>>>8^ut[255&(q^it[St])];return~q}m.exports=H},{}],56:[function(d,m,g){var w,D=d("../utils/common"),H=d("./trees"),q=d("./adler32"),it=d("./crc32"),ot=d("./messages"),ft=0,ut=1,dt=3,St=4,Tt=5,Rt=0,zt=1,$t=-2,jt=-3,Zt=-5,Ft=-1,Dt=1,Kt=2,re=3,Yt=4,ne=0,ee=2,ae=8,Ut=9,ie=15,_e=8,ce=286,le=30,de=19,Ae=2*ce+1,ve=15,ye=3,Me=258,ue=Me+ye+1,xe=32,Be=42,Ce=69,Ee=73,Se=91,Ne=103,Fe=113,Oe=666,Pe=1,Jt=2,Te=3,he=4,me=3;function pe(se,Ve){return se.msg=ot[Ve],Ve}function we(se){return(se<<1)-(se>4?9:0)}function Re(se){for(var Ve=se.length;--Ve>=0;)se[Ve]=0}function Ht(se){var Ve=se.state,Ze=Ve.pending;Ze>se.avail_out&&(Ze=se.avail_out),Ze!==0&&(D.arraySet(se.output,Ve.pending_buf,Ve.pending_out,Ze,se.next_out),se.next_out+=Ze,Ve.pending_out+=Ze,se.total_out+=Ze,se.avail_out-=Ze,Ve.pending-=Ze,Ve.pending===0&&(Ve.pending_out=0))}function oe(se,Ve){H._tr_flush_block(se,se.block_start>=0?se.block_start:-1,se.strstart-se.block_start,Ve),se.block_start=se.strstart,Ht(se.strm)}function ge(se,Ve){se.pending_buf[se.pending++]=Ve}function be(se,Ve){se.pending_buf[se.pending++]=Ve>>>8&255,se.pending_buf[se.pending++]=255&Ve}function De(se,Ve,Ze,$e){var We=se.avail_in;return We>$e&&(We=$e),We===0?0:(se.avail_in-=We,D.arraySet(Ve,se.input,se.next_in,We,Ze),se.state.wrap===1?se.adler=q(se.adler,Ve,We,Ze):se.state.wrap===2&&(se.adler=it(se.adler,Ve,We,Ze)),se.next_in+=We,se.total_in+=We,We)}function je(se,Ve){var Ze,$e,We=se.max_chain_length,qe=se.strstart,_r=se.prev_length,fr=se.nice_match,pr=se.strstart>se.w_size-ue?se.strstart-(se.w_size-ue):0,Ir=se.window,Xr=se.w_mask,Ar=se.prev,Nr=se.strstart+Me,Br=Ir[qe+_r-1],$r=Ir[qe+_r];se.prev_length>=se.good_match&&(We>>=2),fr>se.lookahead&&(fr=se.lookahead);do if(Ir[(Ze=Ve)+_r]===$r&&Ir[Ze+_r-1]===Br&&Ir[Ze]===Ir[qe]&&Ir[++Ze]===Ir[qe+1]){qe+=2,Ze++;do;while(Ir[++qe]===Ir[++Ze]&&Ir[++qe]===Ir[++Ze]&&Ir[++qe]===Ir[++Ze]&&Ir[++qe]===Ir[++Ze]&&Ir[++qe]===Ir[++Ze]&&Ir[++qe]===Ir[++Ze]&&Ir[++qe]===Ir[++Ze]&&Ir[++qe]===Ir[++Ze]&&qe<Nr);if($e=Me-(Nr-qe),qe=Nr-Me,$e>_r){if(se.match_start=Ve,_r=$e,$e>=fr)break;Br=Ir[qe+_r-1],$r=Ir[qe+_r]}}while((Ve=Ar[Ve&Xr])>pr&&--We!=0);return _r<=se.lookahead?_r:se.lookahead}function er(se){var Ve,Ze,$e,We,qe,_r=se.w_size;do{if(We=se.window_size-se.lookahead-se.strstart,se.strstart>=_r+(_r-ue)){D.arraySet(se.window,se.window,_r,_r,0),se.match_start-=_r,se.strstart-=_r,se.block_start-=_r,Ve=Ze=se.hash_size;do $e=se.head[--Ve],se.head[Ve]=$e>=_r?$e-_r:0;while(--Ze);Ve=Ze=_r;do $e=se.prev[--Ve],se.prev[Ve]=$e>=_r?$e-_r:0;while(--Ze);We+=_r}if(se.strm.avail_in===0)break;if(Ze=De(se.strm,se.window,se.strstart+se.lookahead,We),se.lookahead+=Ze,se.lookahead+se.insert>=ye)for(qe=se.strstart-se.insert,se.ins_h=se.window[qe],se.ins_h=(se.ins_h<<se.hash_shift^se.window[qe+1])&se.hash_mask;se.insert&&(se.ins_h=(se.ins_h<<se.hash_shift^se.window[qe+ye-1])&se.hash_mask,se.prev[qe&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=qe,qe++,se.insert--,!(se.lookahead+se.insert<ye)););}while(se.lookahead<ue&&se.strm.avail_in!==0)}function ir(se,Ve){var Ze=65535;for(Ze>se.pending_buf_size-5&&(Ze=se.pending_buf_size-5);;){if(se.lookahead<=1){if(er(se),se.lookahead===0&&Ve===ft)return Pe;if(se.lookahead===0)break}se.strstart+=se.lookahead,se.lookahead=0;var $e=se.block_start+Ze;if((se.strstart===0||se.strstart>=$e)&&(se.lookahead=se.strstart-$e,se.strstart=$e,oe(se,!1),se.strm.avail_out===0)||se.strstart-se.block_start>=se.w_size-ue&&(oe(se,!1),se.strm.avail_out===0))return Pe}return se.insert=0,Ve===St?(oe(se,!0),se.strm.avail_out===0?Te:he):(se.strstart>se.block_start&&(oe(se,!1),se.strm.avail_out),Pe)}function Xe(se,Ve){for(var Ze,$e;;){if(se.lookahead<ue){if(er(se),se.lookahead<ue&&Ve===ft)return Pe;if(se.lookahead===0)break}if(Ze=0,se.lookahead>=ye&&(se.ins_h=(se.ins_h<<se.hash_shift^se.window[se.strstart+ye-1])&se.hash_mask,Ze=se.prev[se.strstart&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=se.strstart),Ze!==0&&se.strstart-Ze<=se.w_size-ue&&(se.match_length=je(se,Ze)),se.match_length>=ye)if($e=H._tr_tally(se,se.strstart-se.match_start,se.match_length-ye),se.lookahead-=se.match_length,se.match_length<=se.max_lazy_match&&se.lookahead>=ye){se.match_length--;do se.strstart++,se.ins_h=(se.ins_h<<se.hash_shift^se.window[se.strstart+ye-1])&se.hash_mask,Ze=se.prev[se.strstart&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=se.strstart;while(--se.match_length!=0);se.strstart++}else se.strstart+=se.match_length,se.match_length=0,se.ins_h=se.window[se.strstart],se.ins_h=(se.ins_h<<se.hash_shift^se.window[se.strstart+1])&se.hash_mask;else $e=H._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++;if($e&&(oe(se,!1),se.strm.avail_out===0))return Pe}return se.insert=se.strstart<ye-1?se.strstart:ye-1,Ve===St?(oe(se,!0),se.strm.avail_out===0?Te:he):se.last_lit&&(oe(se,!1),se.strm.avail_out===0)?Pe:Jt}function ar(se,Ve){for(var Ze,$e,We;;){if(se.lookahead<ue){if(er(se),se.lookahead<ue&&Ve===ft)return Pe;if(se.lookahead===0)break}if(Ze=0,se.lookahead>=ye&&(se.ins_h=(se.ins_h<<se.hash_shift^se.window[se.strstart+ye-1])&se.hash_mask,Ze=se.prev[se.strstart&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=se.strstart),se.prev_length=se.match_length,se.prev_match=se.match_start,se.match_length=ye-1,Ze!==0&&se.prev_length<se.max_lazy_match&&se.strstart-Ze<=se.w_size-ue&&(se.match_length=je(se,Ze),se.match_length<=5&&(se.strategy===Dt||se.match_length===ye&&se.strstart-se.match_start>4096)&&(se.match_length=ye-1)),se.prev_length>=ye&&se.match_length<=se.prev_length){We=se.strstart+se.lookahead-ye,$e=H._tr_tally(se,se.strstart-1-se.prev_match,se.prev_length-ye),se.lookahead-=se.prev_length-1,se.prev_length-=2;do++se.strstart<=We&&(se.ins_h=(se.ins_h<<se.hash_shift^se.window[se.strstart+ye-1])&se.hash_mask,Ze=se.prev[se.strstart&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=se.strstart);while(--se.prev_length!=0);if(se.match_available=0,se.match_length=ye-1,se.strstart++,$e&&(oe(se,!1),se.strm.avail_out===0))return Pe}else if(se.match_available){if(($e=H._tr_tally(se,0,se.window[se.strstart-1]))&&oe(se,!1),se.strstart++,se.lookahead--,se.strm.avail_out===0)return Pe}else se.match_available=1,se.strstart++,se.lookahead--}return se.match_available&&($e=H._tr_tally(se,0,se.window[se.strstart-1]),se.match_available=0),se.insert=se.strstart<ye-1?se.strstart:ye-1,Ve===St?(oe(se,!0),se.strm.avail_out===0?Te:he):se.last_lit&&(oe(se,!1),se.strm.avail_out===0)?Pe:Jt}function rr(se,Ve){for(var Ze,$e,We,qe,_r=se.window;;){if(se.lookahead<=Me){if(er(se),se.lookahead<=Me&&Ve===ft)return Pe;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=ye&&se.strstart>0&&($e=_r[We=se.strstart-1])===_r[++We]&&$e===_r[++We]&&$e===_r[++We]){qe=se.strstart+Me;do;while($e===_r[++We]&&$e===_r[++We]&&$e===_r[++We]&&$e===_r[++We]&&$e===_r[++We]&&$e===_r[++We]&&$e===_r[++We]&&$e===_r[++We]&&We<qe);se.match_length=Me-(qe-We),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=ye?(Ze=H._tr_tally(se,1,se.match_length-ye),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(Ze=H._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),Ze&&(oe(se,!1),se.strm.avail_out===0))return Pe}return se.insert=0,Ve===St?(oe(se,!0),se.strm.avail_out===0?Te:he):se.last_lit&&(oe(se,!1),se.strm.avail_out===0)?Pe:Jt}function gr(se,Ve){for(var Ze;;){if(se.lookahead===0&&(er(se),se.lookahead===0)){if(Ve===ft)return Pe;break}if(se.match_length=0,Ze=H._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,Ze&&(oe(se,!1),se.strm.avail_out===0))return Pe}return se.insert=0,Ve===St?(oe(se,!0),se.strm.avail_out===0?Te:he):se.last_lit&&(oe(se,!1),se.strm.avail_out===0)?Pe:Jt}function dr(se,Ve,Ze,$e,We){this.good_length=se,this.max_lazy=Ve,this.nice_length=Ze,this.max_chain=$e,this.func=We}function hr(se){se.window_size=2*se.w_size,Re(se.head),se.max_lazy_match=w[se.level].max_lazy,se.good_match=w[se.level].good_length,se.nice_match=w[se.level].nice_length,se.max_chain_length=w[se.level].max_chain,se.strstart=0,se.block_start=0,se.lookahead=0,se.insert=0,se.match_length=se.prev_length=ye-1,se.match_available=0,se.ins_h=0}function kr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ae,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new D.Buf16(2*Ae),this.dyn_dtree=new D.Buf16(2*(2*le+1)),this.bl_tree=new D.Buf16(2*(2*de+1)),Re(this.dyn_ltree),Re(this.dyn_dtree),Re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new D.Buf16(ve+1),this.heap=new D.Buf16(2*ce+1),Re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new D.Buf16(2*ce+1),Re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function cr(se){var Ve;return se&&se.state?(se.total_in=se.total_out=0,se.data_type=ee,(Ve=se.state).pending=0,Ve.pending_out=0,Ve.wrap<0&&(Ve.wrap=-Ve.wrap),Ve.status=Ve.wrap?Be:Fe,se.adler=Ve.wrap===2?0:1,Ve.last_flush=ft,H._tr_init(Ve),Rt):pe(se,$t)}function ze(se){var Ve=cr(se);return Ve===Rt&&hr(se.state),Ve}function nr(se,Ve){return se&&se.state?se.state.wrap!==2?$t:(se.state.gzhead=Ve,Rt):$t}function Le(se,Ve,Ze,$e,We,qe){if(!se)return $t;var _r=1;if(Ve===Ft&&(Ve=6),$e<0?(_r=0,$e=-$e):$e>15&&(_r=2,$e-=16),We<1||We>Ut||Ze!==ae||$e<8||$e>15||Ve<0||Ve>9||qe<0||qe>Yt)return pe(se,$t);$e===8&&($e=9);var fr=new kr;return se.state=fr,fr.strm=se,fr.wrap=_r,fr.gzhead=null,fr.w_bits=$e,fr.w_size=1<<fr.w_bits,fr.w_mask=fr.w_size-1,fr.hash_bits=We+7,fr.hash_size=1<<fr.hash_bits,fr.hash_mask=fr.hash_size-1,fr.hash_shift=~~((fr.hash_bits+ye-1)/ye),fr.window=new D.Buf8(2*fr.w_size),fr.head=new D.Buf16(fr.hash_size),fr.prev=new D.Buf16(fr.w_size),fr.lit_bufsize=1<<We+6,fr.pending_buf_size=4*fr.lit_bufsize,fr.pending_buf=new D.Buf8(fr.pending_buf_size),fr.d_buf=1*fr.lit_bufsize,fr.l_buf=3*fr.lit_bufsize,fr.level=Ve,fr.strategy=qe,fr.method=Ze,ze(se)}function Qe(se,Ve){return Le(se,Ve,ae,ie,_e,ne)}function ke(se,Ve){var Ze,$e,We,qe;if(!se||!se.state||Ve>Tt||Ve<0)return se?pe(se,$t):$t;if($e=se.state,!se.output||!se.input&&se.avail_in!==0||$e.status===Oe&&Ve!==St)return pe(se,se.avail_out===0?Zt:$t);if($e.strm=se,Ze=$e.last_flush,$e.last_flush=Ve,$e.status===Be)if($e.wrap===2)se.adler=0,ge($e,31),ge($e,139),ge($e,8),$e.gzhead?(ge($e,($e.gzhead.text?1:0)+($e.gzhead.hcrc?2:0)+($e.gzhead.extra?4:0)+($e.gzhead.name?8:0)+($e.gzhead.comment?16:0)),ge($e,255&$e.gzhead.time),ge($e,$e.gzhead.time>>8&255),ge($e,$e.gzhead.time>>16&255),ge($e,$e.gzhead.time>>24&255),ge($e,$e.level===9?2:$e.strategy>=Kt||$e.level<2?4:0),ge($e,255&$e.gzhead.os),$e.gzhead.extra&&$e.gzhead.extra.length&&(ge($e,255&$e.gzhead.extra.length),ge($e,$e.gzhead.extra.length>>8&255)),$e.gzhead.hcrc&&(se.adler=it(se.adler,$e.pending_buf,$e.pending,0)),$e.gzindex=0,$e.status=Ce):(ge($e,0),ge($e,0),ge($e,0),ge($e,0),ge($e,0),ge($e,$e.level===9?2:$e.strategy>=Kt||$e.level<2?4:0),ge($e,me),$e.status=Fe);else{var _r=ae+($e.w_bits-8<<4)<<8;_r|=($e.strategy>=Kt||$e.level<2?0:$e.level<6?1:$e.level===6?2:3)<<6,$e.strstart!==0&&(_r|=xe),_r+=31-_r%31,$e.status=Fe,be($e,_r),$e.strstart!==0&&(be($e,se.adler>>>16),be($e,65535&se.adler)),se.adler=1}if($e.status===Ce)if($e.gzhead.extra){for(We=$e.pending;$e.gzindex<(65535&$e.gzhead.extra.length)&&($e.pending!==$e.pending_buf_size||($e.gzhead.hcrc&&$e.pending>We&&(se.adler=it(se.adler,$e.pending_buf,$e.pending-We,We)),Ht(se),We=$e.pending,$e.pending!==$e.pending_buf_size));)ge($e,255&$e.gzhead.extra[$e.gzindex]),$e.gzindex++;$e.gzhead.hcrc&&$e.pending>We&&(se.adler=it(se.adler,$e.pending_buf,$e.pending-We,We)),$e.gzindex===$e.gzhead.extra.length&&($e.gzindex=0,$e.status=Ee)}else $e.status=Ee;if($e.status===Ee)if($e.gzhead.name){We=$e.pending;do{if($e.pending===$e.pending_buf_size&&($e.gzhead.hcrc&&$e.pending>We&&(se.adler=it(se.adler,$e.pending_buf,$e.pending-We,We)),Ht(se),We=$e.pending,$e.pending===$e.pending_buf_size)){qe=1;break}qe=$e.gzindex<$e.gzhead.name.length?255&$e.gzhead.name.charCodeAt($e.gzindex++):0,ge($e,qe)}while(qe!==0);$e.gzhead.hcrc&&$e.pending>We&&(se.adler=it(se.adler,$e.pending_buf,$e.pending-We,We)),qe===0&&($e.gzindex=0,$e.status=Se)}else $e.status=Se;if($e.status===Se)if($e.gzhead.comment){We=$e.pending;do{if($e.pending===$e.pending_buf_size&&($e.gzhead.hcrc&&$e.pending>We&&(se.adler=it(se.adler,$e.pending_buf,$e.pending-We,We)),Ht(se),We=$e.pending,$e.pending===$e.pending_buf_size)){qe=1;break}qe=$e.gzindex<$e.gzhead.comment.length?255&$e.gzhead.comment.charCodeAt($e.gzindex++):0,ge($e,qe)}while(qe!==0);$e.gzhead.hcrc&&$e.pending>We&&(se.adler=it(se.adler,$e.pending_buf,$e.pending-We,We)),qe===0&&($e.status=Ne)}else $e.status=Ne;if($e.status===Ne&&($e.gzhead.hcrc?($e.pending+2>$e.pending_buf_size&&Ht(se),$e.pending+2<=$e.pending_buf_size&&(ge($e,255&se.adler),ge($e,se.adler>>8&255),se.adler=0,$e.status=Fe)):$e.status=Fe),$e.pending!==0){if(Ht(se),se.avail_out===0)return $e.last_flush=-1,Rt}else if(se.avail_in===0&&we(Ve)<=we(Ze)&&Ve!==St)return pe(se,Zt);if($e.status===Oe&&se.avail_in!==0)return pe(se,Zt);if(se.avail_in!==0||$e.lookahead!==0||Ve!==ft&&$e.status!==Oe){var fr=$e.strategy===Kt?gr($e,Ve):$e.strategy===re?rr($e,Ve):w[$e.level].func($e,Ve);if(fr!==Te&&fr!==he||($e.status=Oe),fr===Pe||fr===Te)return se.avail_out===0&&($e.last_flush=-1),Rt;if(fr===Jt&&(Ve===ut?H._tr_align($e):Ve!==Tt&&(H._tr_stored_block($e,0,0,!1),Ve===dt&&(Re($e.head),$e.lookahead===0&&($e.strstart=0,$e.block_start=0,$e.insert=0))),Ht(se),se.avail_out===0))return $e.last_flush=-1,Rt}return Ve!==St?Rt:$e.wrap<=0?zt:($e.wrap===2?(ge($e,255&se.adler),ge($e,se.adler>>8&255),ge($e,se.adler>>16&255),ge($e,se.adler>>24&255),ge($e,255&se.total_in),ge($e,se.total_in>>8&255),ge($e,se.total_in>>16&255),ge($e,se.total_in>>24&255)):(be($e,se.adler>>>16),be($e,65535&se.adler)),Ht(se),$e.wrap>0&&($e.wrap=-$e.wrap),$e.pending!==0?Rt:zt)}function tr(se){var Ve;return se&&se.state?(Ve=se.state.status)!==Be&&Ve!==Ce&&Ve!==Ee&&Ve!==Se&&Ve!==Ne&&Ve!==Fe&&Ve!==Oe?pe(se,$t):(se.state=null,Ve===Fe?pe(se,jt):Rt):$t}function br(se,Ve){var Ze,$e,We,qe,_r,fr,pr,Ir,Xr=Ve.length;if(!se||!se.state||(qe=(Ze=se.state).wrap)===2||qe===1&&Ze.status!==Be||Ze.lookahead)return $t;for(qe===1&&(se.adler=q(se.adler,Ve,Xr,0)),Ze.wrap=0,Xr>=Ze.w_size&&(qe===0&&(Re(Ze.head),Ze.strstart=0,Ze.block_start=0,Ze.insert=0),Ir=new D.Buf8(Ze.w_size),D.arraySet(Ir,Ve,Xr-Ze.w_size,Ze.w_size,0),Ve=Ir,Xr=Ze.w_size),_r=se.avail_in,fr=se.next_in,pr=se.input,se.avail_in=Xr,se.next_in=0,se.input=Ve,er(Ze);Ze.lookahead>=ye;){$e=Ze.strstart,We=Ze.lookahead-(ye-1);do Ze.ins_h=(Ze.ins_h<<Ze.hash_shift^Ze.window[$e+ye-1])&Ze.hash_mask,Ze.prev[$e&Ze.w_mask]=Ze.head[Ze.ins_h],Ze.head[Ze.ins_h]=$e,$e++;while(--We);Ze.strstart=$e,Ze.lookahead=ye-1,er(Ze)}return Ze.strstart+=Ze.lookahead,Ze.block_start=Ze.strstart,Ze.insert=Ze.lookahead,Ze.lookahead=0,Ze.match_length=Ze.prev_length=ye-1,Ze.match_available=0,se.next_in=fr,se.input=pr,se.avail_in=_r,Ze.wrap=qe,Rt}w=[new dr(0,0,0,0,ir),new dr(4,4,8,4,Xe),new dr(4,5,16,8,Xe),new dr(4,6,32,32,Xe),new dr(4,4,16,16,ar),new dr(8,16,32,32,ar),new dr(8,16,128,128,ar),new dr(8,32,128,256,ar),new dr(32,128,258,1024,ar),new dr(32,258,258,4096,ar)],g.deflateInit=Qe,g.deflateInit2=Le,g.deflateReset=ze,g.deflateResetKeep=cr,g.deflateSetHeader=nr,g.deflate=ke,g.deflateEnd=tr,g.deflateSetDictionary=br,g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./messages":60,"./trees":61}],57:[function(d,m,g){var w=30,D=12;m.exports=function(H,q){var it,ot,ft,ut,dt,St,Tt,Rt,zt,$t,jt,Zt,Ft,Dt,Kt,re,Yt,ne,ee,ae,Ut,ie,_e,ce,le;it=H.state,ot=H.next_in,ce=H.input,ft=ot+(H.avail_in-5),ut=H.next_out,le=H.output,dt=ut-(q-H.avail_out),St=ut+(H.avail_out-257),Tt=it.dmax,Rt=it.wsize,zt=it.whave,$t=it.wnext,jt=it.window,Zt=it.hold,Ft=it.bits,Dt=it.lencode,Kt=it.distcode,re=(1<<it.lenbits)-1,Yt=(1<<it.distbits)-1;t:do{Ft<15&&(Zt+=ce[ot++]<<Ft,Ft+=8,Zt+=ce[ot++]<<Ft,Ft+=8),ne=Dt[Zt&re];e:for(;;){if(Zt>>>=ee=ne>>>24,Ft-=ee,(ee=ne>>>16&255)==0)le[ut++]=65535&ne;else{if(!(16&ee)){if(64&ee){if(32&ee){it.mode=D;break t}H.msg="invalid literal/length code",it.mode=w;break t}ne=Dt[(65535&ne)+(Zt&(1<<ee)-1)];continue e}for(ae=65535&ne,(ee&=15)&&(Ft<ee&&(Zt+=ce[ot++]<<Ft,Ft+=8),ae+=Zt&(1<<ee)-1,Zt>>>=ee,Ft-=ee),Ft<15&&(Zt+=ce[ot++]<<Ft,Ft+=8,Zt+=ce[ot++]<<Ft,Ft+=8),ne=Kt[Zt&Yt];;){if(Zt>>>=ee=ne>>>24,Ft-=ee,16&(ee=ne>>>16&255)){if(Ut=65535&ne,Ft<(ee&=15)&&(Zt+=ce[ot++]<<Ft,(Ft+=8)<ee&&(Zt+=ce[ot++]<<Ft,Ft+=8)),(Ut+=Zt&(1<<ee)-1)>Tt){H.msg="invalid distance too far back",it.mode=w;break t}if(Zt>>>=ee,Ft-=ee,Ut>(ee=ut-dt)){if((ee=Ut-ee)>zt&&it.sane){H.msg="invalid distance too far back",it.mode=w;break t}if(ie=0,_e=jt,$t===0){if(ie+=Rt-ee,ee<ae){ae-=ee;do le[ut++]=jt[ie++];while(--ee);ie=ut-Ut,_e=le}}else if($t<ee){if(ie+=Rt+$t-ee,(ee-=$t)<ae){ae-=ee;do le[ut++]=jt[ie++];while(--ee);if(ie=0,$t<ae){ae-=ee=$t;do le[ut++]=jt[ie++];while(--ee);ie=ut-Ut,_e=le}}}else if(ie+=$t-ee,ee<ae){ae-=ee;do le[ut++]=jt[ie++];while(--ee);ie=ut-Ut,_e=le}for(;ae>2;)le[ut++]=_e[ie++],le[ut++]=_e[ie++],le[ut++]=_e[ie++],ae-=3;ae&&(le[ut++]=_e[ie++],ae>1&&(le[ut++]=_e[ie++]))}else{ie=ut-Ut;do le[ut++]=le[ie++],le[ut++]=le[ie++],le[ut++]=le[ie++],ae-=3;while(ae>2);ae&&(le[ut++]=le[ie++],ae>1&&(le[ut++]=le[ie++]))}break}if(64&ee){H.msg="invalid distance code",it.mode=w;break t}ne=Kt[(65535&ne)+(Zt&(1<<ee)-1)]}}break}}while(ot<ft&&ut<St);ot-=ae=Ft>>3,Zt&=(1<<(Ft-=ae<<3))-1,H.next_in=ot,H.next_out=ut,H.avail_in=ot<ft?ft-ot+5:5-(ot-ft),H.avail_out=ut<St?St-ut+257:257-(ut-St),it.hold=Zt,it.bits=Ft}},{}],58:[function(d,m,g){var w=d("../utils/common"),D=d("./adler32"),H=d("./crc32"),q=d("./inffast"),it=d("./inftrees"),ot=0,ft=1,ut=2,dt=4,St=5,Tt=6,Rt=0,zt=1,$t=2,jt=-2,Zt=-3,Ft=-4,Dt=-5,Kt=8,re=1,Yt=2,ne=3,ee=4,ae=5,Ut=6,ie=7,_e=8,ce=9,le=10,de=11,Ae=12,ve=13,ye=14,Me=15,ue=16,xe=17,Be=18,Ce=19,Ee=20,Se=21,Ne=22,Fe=23,Oe=24,Pe=25,Jt=26,Te=27,he=28,me=29,pe=30,we=31,Re=852,Ht=592,oe=15;function ge(Le){return(Le>>>24&255)+(Le>>>8&65280)+((65280&Le)<<8)+((255&Le)<<24)}function be(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new w.Buf16(320),this.work=new w.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function De(Le){var Qe;return Le&&Le.state?(Qe=Le.state,Le.total_in=Le.total_out=Qe.total=0,Le.msg="",Qe.wrap&&(Le.adler=1&Qe.wrap),Qe.mode=re,Qe.last=0,Qe.havedict=0,Qe.dmax=32768,Qe.head=null,Qe.hold=0,Qe.bits=0,Qe.lencode=Qe.lendyn=new w.Buf32(Re),Qe.distcode=Qe.distdyn=new w.Buf32(Ht),Qe.sane=1,Qe.back=-1,Rt):jt}function je(Le){var Qe;return Le&&Le.state?((Qe=Le.state).wsize=0,Qe.whave=0,Qe.wnext=0,De(Le)):jt}function er(Le,Qe){var ke,tr;return Le&&Le.state?(tr=Le.state,Qe<0?(ke=0,Qe=-Qe):(ke=1+(Qe>>4),Qe<48&&(Qe&=15)),Qe&&(Qe<8||Qe>15)?jt:(tr.window!==null&&tr.wbits!==Qe&&(tr.window=null),tr.wrap=ke,tr.wbits=Qe,je(Le))):jt}function ir(Le,Qe){var ke,tr;return Le?(tr=new be,Le.state=tr,tr.window=null,(ke=er(Le,Qe))!==Rt&&(Le.state=null),ke):jt}function Xe(Le){return ir(Le,oe)}var ar,rr,gr=!0;function dr(Le){if(gr){var Qe;for(ar=new w.Buf32(512),rr=new w.Buf32(32),Qe=0;Qe<144;)Le.lens[Qe++]=8;for(;Qe<256;)Le.lens[Qe++]=9;for(;Qe<280;)Le.lens[Qe++]=7;for(;Qe<288;)Le.lens[Qe++]=8;for(it(ft,Le.lens,0,288,ar,0,Le.work,{bits:9}),Qe=0;Qe<32;)Le.lens[Qe++]=5;it(ut,Le.lens,0,32,rr,0,Le.work,{bits:5}),gr=!1}Le.lencode=ar,Le.lenbits=9,Le.distcode=rr,Le.distbits=5}function hr(Le,Qe,ke,tr){var br,se=Le.state;return se.window===null&&(se.wsize=1<<se.wbits,se.wnext=0,se.whave=0,se.window=new w.Buf8(se.wsize)),tr>=se.wsize?(w.arraySet(se.window,Qe,ke-se.wsize,se.wsize,0),se.wnext=0,se.whave=se.wsize):((br=se.wsize-se.wnext)>tr&&(br=tr),w.arraySet(se.window,Qe,ke-tr,br,se.wnext),(tr-=br)?(w.arraySet(se.window,Qe,ke-tr,tr,0),se.wnext=tr,se.whave=se.wsize):(se.wnext+=br,se.wnext===se.wsize&&(se.wnext=0),se.whave<se.wsize&&(se.whave+=br))),0}function kr(Le,Qe){var ke,tr,br,se,Ve,Ze,$e,We,qe,_r,fr,pr,Ir,Xr,Ar,Nr,Br,$r,xn,An,Fr,rn,_n,Zr,Wr=0,Lr=new w.Buf8(4),Yn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Le||!Le.state||!Le.output||!Le.input&&Le.avail_in!==0)return jt;(ke=Le.state).mode===Ae&&(ke.mode=ve),Ve=Le.next_out,br=Le.output,$e=Le.avail_out,se=Le.next_in,tr=Le.input,Ze=Le.avail_in,We=ke.hold,qe=ke.bits,_r=Ze,fr=$e,rn=Rt;t:for(;;)switch(ke.mode){case re:if(ke.wrap===0){ke.mode=ve;break}for(;qe<16;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(2&ke.wrap&&We===35615){ke.check=0,Lr[0]=255&We,Lr[1]=We>>>8&255,ke.check=H(ke.check,Lr,2,0),We=0,qe=0,ke.mode=Yt;break}if(ke.flags=0,ke.head&&(ke.head.done=!1),!(1&ke.wrap)||(((255&We)<<8)+(We>>8))%31){Le.msg="incorrect header check",ke.mode=pe;break}if((15&We)!==Kt){Le.msg="unknown compression method",ke.mode=pe;break}if(qe-=4,Fr=8+(15&(We>>>=4)),ke.wbits===0)ke.wbits=Fr;else if(Fr>ke.wbits){Le.msg="invalid window size",ke.mode=pe;break}ke.dmax=1<<Fr,Le.adler=ke.check=1,ke.mode=512&We?le:Ae,We=0,qe=0;break;case Yt:for(;qe<16;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(ke.flags=We,(255&ke.flags)!==Kt){Le.msg="unknown compression method",ke.mode=pe;break}if(57344&ke.flags){Le.msg="unknown header flags set",ke.mode=pe;break}ke.head&&(ke.head.text=We>>8&1),512&ke.flags&&(Lr[0]=255&We,Lr[1]=We>>>8&255,ke.check=H(ke.check,Lr,2,0)),We=0,qe=0,ke.mode=ne;case ne:for(;qe<32;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}ke.head&&(ke.head.time=We),512&ke.flags&&(Lr[0]=255&We,Lr[1]=We>>>8&255,Lr[2]=We>>>16&255,Lr[3]=We>>>24&255,ke.check=H(ke.check,Lr,4,0)),We=0,qe=0,ke.mode=ee;case ee:for(;qe<16;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}ke.head&&(ke.head.xflags=255&We,ke.head.os=We>>8),512&ke.flags&&(Lr[0]=255&We,Lr[1]=We>>>8&255,ke.check=H(ke.check,Lr,2,0)),We=0,qe=0,ke.mode=ae;case ae:if(1024&ke.flags){for(;qe<16;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}ke.length=We,ke.head&&(ke.head.extra_len=We),512&ke.flags&&(Lr[0]=255&We,Lr[1]=We>>>8&255,ke.check=H(ke.check,Lr,2,0)),We=0,qe=0}else ke.head&&(ke.head.extra=null);ke.mode=Ut;case Ut:if(1024&ke.flags&&((pr=ke.length)>Ze&&(pr=Ze),pr&&(ke.head&&(Fr=ke.head.extra_len-ke.length,ke.head.extra||(ke.head.extra=new Array(ke.head.extra_len)),w.arraySet(ke.head.extra,tr,se,pr,Fr)),512&ke.flags&&(ke.check=H(ke.check,tr,pr,se)),Ze-=pr,se+=pr,ke.length-=pr),ke.length))break t;ke.length=0,ke.mode=ie;case ie:if(2048&ke.flags){if(Ze===0)break t;pr=0;do Fr=tr[se+pr++],ke.head&&Fr&&ke.length<65536&&(ke.head.name+=String.fromCharCode(Fr));while(Fr&&pr<Ze);if(512&ke.flags&&(ke.check=H(ke.check,tr,pr,se)),Ze-=pr,se+=pr,Fr)break t}else ke.head&&(ke.head.name=null);ke.length=0,ke.mode=_e;case _e:if(4096&ke.flags){if(Ze===0)break t;pr=0;do Fr=tr[se+pr++],ke.head&&Fr&&ke.length<65536&&(ke.head.comment+=String.fromCharCode(Fr));while(Fr&&pr<Ze);if(512&ke.flags&&(ke.check=H(ke.check,tr,pr,se)),Ze-=pr,se+=pr,Fr)break t}else ke.head&&(ke.head.comment=null);ke.mode=ce;case ce:if(512&ke.flags){for(;qe<16;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(We!==(65535&ke.check)){Le.msg="header crc mismatch",ke.mode=pe;break}We=0,qe=0}ke.head&&(ke.head.hcrc=ke.flags>>9&1,ke.head.done=!0),Le.adler=ke.check=0,ke.mode=Ae;break;case le:for(;qe<32;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}Le.adler=ke.check=ge(We),We=0,qe=0,ke.mode=de;case de:if(ke.havedict===0)return Le.next_out=Ve,Le.avail_out=$e,Le.next_in=se,Le.avail_in=Ze,ke.hold=We,ke.bits=qe,$t;Le.adler=ke.check=1,ke.mode=Ae;case Ae:if(Qe===St||Qe===Tt)break t;case ve:if(ke.last){We>>>=7&qe,qe-=7&qe,ke.mode=Te;break}for(;qe<3;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}switch(ke.last=1&We,qe-=1,3&(We>>>=1)){case 0:ke.mode=ye;break;case 1:if(dr(ke),ke.mode=Ee,Qe===Tt){We>>>=2,qe-=2;break t}break;case 2:ke.mode=xe;break;case 3:Le.msg="invalid block type",ke.mode=pe}We>>>=2,qe-=2;break;case ye:for(We>>>=7&qe,qe-=7&qe;qe<32;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if((65535&We)!=(We>>>16^65535)){Le.msg="invalid stored block lengths",ke.mode=pe;break}if(ke.length=65535&We,We=0,qe=0,ke.mode=Me,Qe===Tt)break t;case Me:ke.mode=ue;case ue:if(pr=ke.length){if(pr>Ze&&(pr=Ze),pr>$e&&(pr=$e),pr===0)break t;w.arraySet(br,tr,se,pr,Ve),Ze-=pr,se+=pr,$e-=pr,Ve+=pr,ke.length-=pr;break}ke.mode=Ae;break;case xe:for(;qe<14;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(ke.nlen=257+(31&We),We>>>=5,qe-=5,ke.ndist=1+(31&We),We>>>=5,qe-=5,ke.ncode=4+(15&We),We>>>=4,qe-=4,ke.nlen>286||ke.ndist>30){Le.msg="too many length or distance symbols",ke.mode=pe;break}ke.have=0,ke.mode=Be;case Be:for(;ke.have<ke.ncode;){for(;qe<3;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}ke.lens[Yn[ke.have++]]=7&We,We>>>=3,qe-=3}for(;ke.have<19;)ke.lens[Yn[ke.have++]]=0;if(ke.lencode=ke.lendyn,ke.lenbits=7,_n={bits:ke.lenbits},rn=it(ot,ke.lens,0,19,ke.lencode,0,ke.work,_n),ke.lenbits=_n.bits,rn){Le.msg="invalid code lengths set",ke.mode=pe;break}ke.have=0,ke.mode=Ce;case Ce:for(;ke.have<ke.nlen+ke.ndist;){for(;Nr=(Wr=ke.lencode[We&(1<<ke.lenbits)-1])>>>16&255,Br=65535&Wr,!((Ar=Wr>>>24)<=qe);){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(Br<16)We>>>=Ar,qe-=Ar,ke.lens[ke.have++]=Br;else{if(Br===16){for(Zr=Ar+2;qe<Zr;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(We>>>=Ar,qe-=Ar,ke.have===0){Le.msg="invalid bit length repeat",ke.mode=pe;break}Fr=ke.lens[ke.have-1],pr=3+(3&We),We>>>=2,qe-=2}else if(Br===17){for(Zr=Ar+3;qe<Zr;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}qe-=Ar,Fr=0,pr=3+(7&(We>>>=Ar)),We>>>=3,qe-=3}else{for(Zr=Ar+7;qe<Zr;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}qe-=Ar,Fr=0,pr=11+(127&(We>>>=Ar)),We>>>=7,qe-=7}if(ke.have+pr>ke.nlen+ke.ndist){Le.msg="invalid bit length repeat",ke.mode=pe;break}for(;pr--;)ke.lens[ke.have++]=Fr}}if(ke.mode===pe)break;if(ke.lens[256]===0){Le.msg="invalid code -- missing end-of-block",ke.mode=pe;break}if(ke.lenbits=9,_n={bits:ke.lenbits},rn=it(ft,ke.lens,0,ke.nlen,ke.lencode,0,ke.work,_n),ke.lenbits=_n.bits,rn){Le.msg="invalid literal/lengths set",ke.mode=pe;break}if(ke.distbits=6,ke.distcode=ke.distdyn,_n={bits:ke.distbits},rn=it(ut,ke.lens,ke.nlen,ke.ndist,ke.distcode,0,ke.work,_n),ke.distbits=_n.bits,rn){Le.msg="invalid distances set",ke.mode=pe;break}if(ke.mode=Ee,Qe===Tt)break t;case Ee:ke.mode=Se;case Se:if(Ze>=6&&$e>=258){Le.next_out=Ve,Le.avail_out=$e,Le.next_in=se,Le.avail_in=Ze,ke.hold=We,ke.bits=qe,q(Le,fr),Ve=Le.next_out,br=Le.output,$e=Le.avail_out,se=Le.next_in,tr=Le.input,Ze=Le.avail_in,We=ke.hold,qe=ke.bits,ke.mode===Ae&&(ke.back=-1);break}for(ke.back=0;Nr=(Wr=ke.lencode[We&(1<<ke.lenbits)-1])>>>16&255,Br=65535&Wr,!((Ar=Wr>>>24)<=qe);){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(Nr&&!(240&Nr)){for($r=Ar,xn=Nr,An=Br;Nr=(Wr=ke.lencode[An+((We&(1<<$r+xn)-1)>>$r)])>>>16&255,Br=65535&Wr,!($r+(Ar=Wr>>>24)<=qe);){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}We>>>=$r,qe-=$r,ke.back+=$r}if(We>>>=Ar,qe-=Ar,ke.back+=Ar,ke.length=Br,Nr===0){ke.mode=Jt;break}if(32&Nr){ke.back=-1,ke.mode=Ae;break}if(64&Nr){Le.msg="invalid literal/length code",ke.mode=pe;break}ke.extra=15&Nr,ke.mode=Ne;case Ne:if(ke.extra){for(Zr=ke.extra;qe<Zr;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}ke.length+=We&(1<<ke.extra)-1,We>>>=ke.extra,qe-=ke.extra,ke.back+=ke.extra}ke.was=ke.length,ke.mode=Fe;case Fe:for(;Nr=(Wr=ke.distcode[We&(1<<ke.distbits)-1])>>>16&255,Br=65535&Wr,!((Ar=Wr>>>24)<=qe);){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(!(240&Nr)){for($r=Ar,xn=Nr,An=Br;Nr=(Wr=ke.distcode[An+((We&(1<<$r+xn)-1)>>$r)])>>>16&255,Br=65535&Wr,!($r+(Ar=Wr>>>24)<=qe);){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}We>>>=$r,qe-=$r,ke.back+=$r}if(We>>>=Ar,qe-=Ar,ke.back+=Ar,64&Nr){Le.msg="invalid distance code",ke.mode=pe;break}ke.offset=Br,ke.extra=15&Nr,ke.mode=Oe;case Oe:if(ke.extra){for(Zr=ke.extra;qe<Zr;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}ke.offset+=We&(1<<ke.extra)-1,We>>>=ke.extra,qe-=ke.extra,ke.back+=ke.extra}if(ke.offset>ke.dmax){Le.msg="invalid distance too far back",ke.mode=pe;break}ke.mode=Pe;case Pe:if($e===0)break t;if(pr=fr-$e,ke.offset>pr){if((pr=ke.offset-pr)>ke.whave&&ke.sane){Le.msg="invalid distance too far back",ke.mode=pe;break}pr>ke.wnext?(pr-=ke.wnext,Ir=ke.wsize-pr):Ir=ke.wnext-pr,pr>ke.length&&(pr=ke.length),Xr=ke.window}else Xr=br,Ir=Ve-ke.offset,pr=ke.length;pr>$e&&(pr=$e),$e-=pr,ke.length-=pr;do br[Ve++]=Xr[Ir++];while(--pr);ke.length===0&&(ke.mode=Se);break;case Jt:if($e===0)break t;br[Ve++]=ke.length,$e--,ke.mode=Se;break;case Te:if(ke.wrap){for(;qe<32;){if(Ze===0)break t;Ze--,We|=tr[se++]<<qe,qe+=8}if(fr-=$e,Le.total_out+=fr,ke.total+=fr,fr&&(Le.adler=ke.check=ke.flags?H(ke.check,br,fr,Ve-fr):D(ke.check,br,fr,Ve-fr)),fr=$e,(ke.flags?We:ge(We))!==ke.check){Le.msg="incorrect data check",ke.mode=pe;break}We=0,qe=0}ke.mode=he;case he:if(ke.wrap&&ke.flags){for(;qe<32;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(We!==(4294967295&ke.total)){Le.msg="incorrect length check",ke.mode=pe;break}We=0,qe=0}ke.mode=me;case me:rn=zt;break t;case pe:rn=Zt;break t;case we:return Ft;default:return jt}return Le.next_out=Ve,Le.avail_out=$e,Le.next_in=se,Le.avail_in=Ze,ke.hold=We,ke.bits=qe,(ke.wsize||fr!==Le.avail_out&&ke.mode<pe&&(ke.mode<Te||Qe!==dt))&&hr(Le,Le.output,Le.next_out,fr-Le.avail_out),_r-=Le.avail_in,fr-=Le.avail_out,Le.total_in+=_r,Le.total_out+=fr,ke.total+=fr,ke.wrap&&fr&&(Le.adler=ke.check=ke.flags?H(ke.check,br,fr,Le.next_out-fr):D(ke.check,br,fr,Le.next_out-fr)),Le.data_type=ke.bits+(ke.last?64:0)+(ke.mode===Ae?128:0)+(ke.mode===Ee||ke.mode===Me?256:0),(_r===0&&fr===0||Qe===dt)&&rn===Rt&&(rn=Dt),rn}function cr(Le){if(!Le||!Le.state)return jt;var Qe=Le.state;return Qe.window&&(Qe.window=null),Le.state=null,Rt}function ze(Le,Qe){var ke;return Le&&Le.state&&2&(ke=Le.state).wrap?(ke.head=Qe,Qe.done=!1,Rt):jt}function nr(Le,Qe){var ke,tr=Qe.length;return Le&&Le.state?(ke=Le.state).wrap!==0&&ke.mode!==de?jt:ke.mode===de&&D(1,Qe,tr,0)!==ke.check?Zt:hr(Le,Qe,tr,tr)?(ke.mode=we,Ft):(ke.havedict=1,Rt):jt}g.inflateReset=je,g.inflateReset2=er,g.inflateResetKeep=De,g.inflateInit=Xe,g.inflateInit2=ir,g.inflate=kr,g.inflateEnd=cr,g.inflateGetHeader=ze,g.inflateSetDictionary=nr,g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./inffast":57,"./inftrees":59}],59:[function(d,m,g){var w=d("../utils/common"),D=15,H=852,q=592,it=0,ot=1,ft=2,ut=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],dt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],St=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Tt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(Rt,zt,$t,jt,Zt,Ft,Dt,Kt){var re,Yt,ne,ee,ae,Ut,ie,_e,ce,le=Kt.bits,de=0,Ae=0,ve=0,ye=0,Me=0,ue=0,xe=0,Be=0,Ce=0,Ee=0,Se=null,Ne=0,Fe=new w.Buf16(D+1),Oe=new w.Buf16(D+1),Pe=null,Jt=0;for(de=0;de<=D;de++)Fe[de]=0;for(Ae=0;Ae<jt;Ae++)Fe[zt[$t+Ae]]++;for(Me=le,ye=D;ye>=1&&Fe[ye]===0;ye--);if(Me>ye&&(Me=ye),ye===0)return Zt[Ft++]=20971520,Zt[Ft++]=20971520,Kt.bits=1,0;for(ve=1;ve<ye&&Fe[ve]===0;ve++);for(Me<ve&&(Me=ve),Be=1,de=1;de<=D;de++)if(Be<<=1,(Be-=Fe[de])<0)return-1;if(Be>0&&(Rt===it||ye!==1))return-1;for(Oe[1]=0,de=1;de<D;de++)Oe[de+1]=Oe[de]+Fe[de];for(Ae=0;Ae<jt;Ae++)zt[$t+Ae]!==0&&(Dt[Oe[zt[$t+Ae]]++]=Ae);if(Rt===it?(Se=Pe=Dt,Ut=19):Rt===ot?(Se=ut,Ne-=257,Pe=dt,Jt-=257,Ut=256):(Se=St,Pe=Tt,Ut=-1),Ee=0,Ae=0,de=ve,ae=Ft,ue=Me,xe=0,ne=-1,ee=(Ce=1<<Me)-1,Rt===ot&&Ce>H||Rt===ft&&Ce>q)return 1;for(;;){ie=de-xe,Dt[Ae]<Ut?(_e=0,ce=Dt[Ae]):Dt[Ae]>Ut?(_e=Pe[Jt+Dt[Ae]],ce=Se[Ne+Dt[Ae]]):(_e=96,ce=0),re=1<<de-xe,ve=Yt=1<<ue;do Zt[ae+(Ee>>xe)+(Yt-=re)]=ie<<24|_e<<16|ce;while(Yt!==0);for(re=1<<de-1;Ee&re;)re>>=1;if(re!==0?(Ee&=re-1,Ee+=re):Ee=0,Ae++,--Fe[de]==0){if(de===ye)break;de=zt[$t+Dt[Ae]]}if(de>Me&&(Ee&ee)!==ne){for(xe===0&&(xe=Me),ae+=ve,Be=1<<(ue=de-xe);ue+xe<ye&&!((Be-=Fe[ue+xe])<=0);)ue++,Be<<=1;if(Ce+=1<<ue,Rt===ot&&Ce>H||Rt===ft&&Ce>q)return 1;Zt[ne=Ee&ee]=Me<<24|ue<<16|ae-Ft}}return Ee!==0&&(Zt[ae+Ee]=de-xe<<24|64<<16),Kt.bits=Me,0}},{"../utils/common":52}],60:[function(d,m,g){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],61:[function(d,m,g){var w=d("../utils/common"),D=4,H=0,q=1,it=2;function ot(ze){for(var nr=ze.length;--nr>=0;)ze[nr]=0}var ft=0,ut=1,dt=2,St=3,Tt=258,Rt=29,zt=256,$t=zt+1+Rt,jt=30,Zt=19,Ft=2*$t+1,Dt=15,Kt=16,re=7,Yt=256,ne=16,ee=17,ae=18,Ut=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ie=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=512,de=new Array(2*($t+2));ot(de);var Ae=new Array(2*jt);ot(Ae);var ve=new Array(le);ot(ve);var ye=new Array(Tt-St+1);ot(ye);var Me=new Array(Rt);ot(Me);var ue,xe,Be,Ce=new Array(jt);function Ee(ze,nr,Le,Qe,ke){this.static_tree=ze,this.extra_bits=nr,this.extra_base=Le,this.elems=Qe,this.max_length=ke,this.has_stree=ze&&ze.length}function Se(ze,nr){this.dyn_tree=ze,this.max_code=0,this.stat_desc=nr}function Ne(ze){return ze<256?ve[ze]:ve[256+(ze>>>7)]}function Fe(ze,nr){ze.pending_buf[ze.pending++]=255&nr,ze.pending_buf[ze.pending++]=nr>>>8&255}function Oe(ze,nr,Le){ze.bi_valid>Kt-Le?(ze.bi_buf|=nr<<ze.bi_valid&65535,Fe(ze,ze.bi_buf),ze.bi_buf=nr>>Kt-ze.bi_valid,ze.bi_valid+=Le-Kt):(ze.bi_buf|=nr<<ze.bi_valid&65535,ze.bi_valid+=Le)}function Pe(ze,nr,Le){Oe(ze,Le[2*nr],Le[2*nr+1])}function Jt(ze,nr){var Le=0;do Le|=1&ze,ze>>>=1,Le<<=1;while(--nr>0);return Le>>>1}function Te(ze){ze.bi_valid===16?(Fe(ze,ze.bi_buf),ze.bi_buf=0,ze.bi_valid=0):ze.bi_valid>=8&&(ze.pending_buf[ze.pending++]=255&ze.bi_buf,ze.bi_buf>>=8,ze.bi_valid-=8)}function he(ze,nr){var Le,Qe,ke,tr,br,se,Ve=nr.dyn_tree,Ze=nr.max_code,$e=nr.stat_desc.static_tree,We=nr.stat_desc.has_stree,qe=nr.stat_desc.extra_bits,_r=nr.stat_desc.extra_base,fr=nr.stat_desc.max_length,pr=0;for(tr=0;tr<=Dt;tr++)ze.bl_count[tr]=0;for(Ve[2*ze.heap[ze.heap_max]+1]=0,Le=ze.heap_max+1;Le<Ft;Le++)(tr=Ve[2*Ve[2*(Qe=ze.heap[Le])+1]+1]+1)>fr&&(tr=fr,pr++),Ve[2*Qe+1]=tr,Qe>Ze||(ze.bl_count[tr]++,br=0,Qe>=_r&&(br=qe[Qe-_r]),se=Ve[2*Qe],ze.opt_len+=se*(tr+br),We&&(ze.static_len+=se*($e[2*Qe+1]+br)));if(pr!==0){do{for(tr=fr-1;ze.bl_count[tr]===0;)tr--;ze.bl_count[tr]--,ze.bl_count[tr+1]+=2,ze.bl_count[fr]--,pr-=2}while(pr>0);for(tr=fr;tr!==0;tr--)for(Qe=ze.bl_count[tr];Qe!==0;)(ke=ze.heap[--Le])>Ze||(Ve[2*ke+1]!==tr&&(ze.opt_len+=(tr-Ve[2*ke+1])*Ve[2*ke],Ve[2*ke+1]=tr),Qe--)}}function me(ze,nr,Le){var Qe,ke,tr=new Array(Dt+1),br=0;for(Qe=1;Qe<=Dt;Qe++)tr[Qe]=br=br+Le[Qe-1]<<1;for(ke=0;ke<=nr;ke++){var se=ze[2*ke+1];se!==0&&(ze[2*ke]=Jt(tr[se]++,se))}}function pe(){var ze,nr,Le,Qe,ke,tr=new Array(Dt+1);for(Le=0,Qe=0;Qe<Rt-1;Qe++)for(Me[Qe]=Le,ze=0;ze<1<<Ut[Qe];ze++)ye[Le++]=Qe;for(ye[Le-1]=Qe,ke=0,Qe=0;Qe<16;Qe++)for(Ce[Qe]=ke,ze=0;ze<1<<ie[Qe];ze++)ve[ke++]=Qe;for(ke>>=7;Qe<jt;Qe++)for(Ce[Qe]=ke<<7,ze=0;ze<1<<ie[Qe]-7;ze++)ve[256+ke++]=Qe;for(nr=0;nr<=Dt;nr++)tr[nr]=0;for(ze=0;ze<=143;)de[2*ze+1]=8,ze++,tr[8]++;for(;ze<=255;)de[2*ze+1]=9,ze++,tr[9]++;for(;ze<=279;)de[2*ze+1]=7,ze++,tr[7]++;for(;ze<=287;)de[2*ze+1]=8,ze++,tr[8]++;for(me(de,$t+1,tr),ze=0;ze<jt;ze++)Ae[2*ze+1]=5,Ae[2*ze]=Jt(ze,5);ue=new Ee(de,Ut,zt+1,$t,Dt),xe=new Ee(Ae,ie,0,jt,Dt),Be=new Ee(new Array(0),_e,0,Zt,re)}function we(ze){var nr;for(nr=0;nr<$t;nr++)ze.dyn_ltree[2*nr]=0;for(nr=0;nr<jt;nr++)ze.dyn_dtree[2*nr]=0;for(nr=0;nr<Zt;nr++)ze.bl_tree[2*nr]=0;ze.dyn_ltree[2*Yt]=1,ze.opt_len=ze.static_len=0,ze.last_lit=ze.matches=0}function Re(ze){ze.bi_valid>8?Fe(ze,ze.bi_buf):ze.bi_valid>0&&(ze.pending_buf[ze.pending++]=ze.bi_buf),ze.bi_buf=0,ze.bi_valid=0}function Ht(ze,nr,Le,Qe){Re(ze),Fe(ze,Le),Fe(ze,~Le),w.arraySet(ze.pending_buf,ze.window,nr,Le,ze.pending),ze.pending+=Le}function oe(ze,nr,Le,Qe){var ke=2*nr,tr=2*Le;return ze[ke]<ze[tr]||ze[ke]===ze[tr]&&Qe[nr]<=Qe[Le]}function ge(ze,nr,Le){for(var Qe=ze.heap[Le],ke=Le<<1;ke<=ze.heap_len&&(ke<ze.heap_len&&oe(nr,ze.heap[ke+1],ze.heap[ke],ze.depth)&&ke++,!oe(nr,Qe,ze.heap[ke],ze.depth));)ze.heap[Le]=ze.heap[ke],Le=ke,ke<<=1;ze.heap[Le]=Qe}function be(ze,nr,Le){var Qe,ke,tr,br,se=0;if(ze.last_lit!==0)do Qe=ze.pending_buf[ze.d_buf+2*se]<<8|ze.pending_buf[ze.d_buf+2*se+1],ke=ze.pending_buf[ze.l_buf+se],se++,Qe===0?Pe(ze,ke,nr):(Pe(ze,(tr=ye[ke])+zt+1,nr),(br=Ut[tr])!==0&&Oe(ze,ke-=Me[tr],br),Pe(ze,tr=Ne(--Qe),Le),(br=ie[tr])!==0&&Oe(ze,Qe-=Ce[tr],br));while(se<ze.last_lit);Pe(ze,Yt,nr)}function De(ze,nr){var Le,Qe,ke,tr=nr.dyn_tree,br=nr.stat_desc.static_tree,se=nr.stat_desc.has_stree,Ve=nr.stat_desc.elems,Ze=-1;for(ze.heap_len=0,ze.heap_max=Ft,Le=0;Le<Ve;Le++)tr[2*Le]!==0?(ze.heap[++ze.heap_len]=Ze=Le,ze.depth[Le]=0):tr[2*Le+1]=0;for(;ze.heap_len<2;)tr[2*(ke=ze.heap[++ze.heap_len]=Ze<2?++Ze:0)]=1,ze.depth[ke]=0,ze.opt_len--,se&&(ze.static_len-=br[2*ke+1]);for(nr.max_code=Ze,Le=ze.heap_len>>1;Le>=1;Le--)ge(ze,tr,Le);ke=Ve;do Le=ze.heap[1],ze.heap[1]=ze.heap[ze.heap_len--],ge(ze,tr,1),Qe=ze.heap[1],ze.heap[--ze.heap_max]=Le,ze.heap[--ze.heap_max]=Qe,tr[2*ke]=tr[2*Le]+tr[2*Qe],ze.depth[ke]=(ze.depth[Le]>=ze.depth[Qe]?ze.depth[Le]:ze.depth[Qe])+1,tr[2*Le+1]=tr[2*Qe+1]=ke,ze.heap[1]=ke++,ge(ze,tr,1);while(ze.heap_len>=2);ze.heap[--ze.heap_max]=ze.heap[1],he(ze,nr),me(tr,Ze,ze.bl_count)}function je(ze,nr,Le){var Qe,ke,tr=-1,br=nr[1],se=0,Ve=7,Ze=4;for(br===0&&(Ve=138,Ze=3),nr[2*(Le+1)+1]=65535,Qe=0;Qe<=Le;Qe++)ke=br,br=nr[2*(Qe+1)+1],++se<Ve&&ke===br||(se<Ze?ze.bl_tree[2*ke]+=se:ke!==0?(ke!==tr&&ze.bl_tree[2*ke]++,ze.bl_tree[2*ne]++):se<=10?ze.bl_tree[2*ee]++:ze.bl_tree[2*ae]++,se=0,tr=ke,br===0?(Ve=138,Ze=3):ke===br?(Ve=6,Ze=3):(Ve=7,Ze=4))}function er(ze,nr,Le){var Qe,ke,tr=-1,br=nr[1],se=0,Ve=7,Ze=4;for(br===0&&(Ve=138,Ze=3),Qe=0;Qe<=Le;Qe++)if(ke=br,br=nr[2*(Qe+1)+1],!(++se<Ve&&ke===br)){if(se<Ze)do Pe(ze,ke,ze.bl_tree);while(--se!=0);else ke!==0?(ke!==tr&&(Pe(ze,ke,ze.bl_tree),se--),Pe(ze,ne,ze.bl_tree),Oe(ze,se-3,2)):se<=10?(Pe(ze,ee,ze.bl_tree),Oe(ze,se-3,3)):(Pe(ze,ae,ze.bl_tree),Oe(ze,se-11,7));se=0,tr=ke,br===0?(Ve=138,Ze=3):ke===br?(Ve=6,Ze=3):(Ve=7,Ze=4)}}function ir(ze){var nr;for(je(ze,ze.dyn_ltree,ze.l_desc.max_code),je(ze,ze.dyn_dtree,ze.d_desc.max_code),De(ze,ze.bl_desc),nr=Zt-1;nr>=3&&ze.bl_tree[2*ce[nr]+1]===0;nr--);return ze.opt_len+=3*(nr+1)+5+5+4,nr}function Xe(ze,nr,Le,Qe){var ke;for(Oe(ze,nr-257,5),Oe(ze,Le-1,5),Oe(ze,Qe-4,4),ke=0;ke<Qe;ke++)Oe(ze,ze.bl_tree[2*ce[ke]+1],3);er(ze,ze.dyn_ltree,nr-1),er(ze,ze.dyn_dtree,Le-1)}function ar(ze){var nr,Le=4093624447;for(nr=0;nr<=31;nr++,Le>>>=1)if(1&Le&&ze.dyn_ltree[2*nr]!==0)return H;if(ze.dyn_ltree[18]!==0||ze.dyn_ltree[20]!==0||ze.dyn_ltree[26]!==0)return q;for(nr=32;nr<zt;nr++)if(ze.dyn_ltree[2*nr]!==0)return q;return H}ot(Ce);var rr=!1;function gr(ze){rr||(pe(),rr=!0),ze.l_desc=new Se(ze.dyn_ltree,ue),ze.d_desc=new Se(ze.dyn_dtree,xe),ze.bl_desc=new Se(ze.bl_tree,Be),ze.bi_buf=0,ze.bi_valid=0,we(ze)}function dr(ze,nr,Le,Qe){Oe(ze,(ft<<1)+(Qe?1:0),3),Ht(ze,nr,Le)}function hr(ze){Oe(ze,ut<<1,3),Pe(ze,Yt,de),Te(ze)}function kr(ze,nr,Le,Qe){var ke,tr,br=0;ze.level>0?(ze.strm.data_type===it&&(ze.strm.data_type=ar(ze)),De(ze,ze.l_desc),De(ze,ze.d_desc),br=ir(ze),ke=ze.opt_len+3+7>>>3,(tr=ze.static_len+3+7>>>3)<=ke&&(ke=tr)):ke=tr=Le+5,Le+4<=ke&&nr!==-1?dr(ze,nr,Le,Qe):ze.strategy===D||tr===ke?(Oe(ze,(ut<<1)+(Qe?1:0),3),be(ze,de,Ae)):(Oe(ze,(dt<<1)+(Qe?1:0),3),Xe(ze,ze.l_desc.max_code+1,ze.d_desc.max_code+1,br+1),be(ze,ze.dyn_ltree,ze.dyn_dtree)),we(ze),Qe&&Re(ze)}function cr(ze,nr,Le){return ze.pending_buf[ze.d_buf+2*ze.last_lit]=nr>>>8&255,ze.pending_buf[ze.d_buf+2*ze.last_lit+1]=255&nr,ze.pending_buf[ze.l_buf+ze.last_lit]=255&Le,ze.last_lit++,nr===0?ze.dyn_ltree[2*Le]++:(ze.matches++,nr--,ze.dyn_ltree[2*(ye[Le]+zt+1)]++,ze.dyn_dtree[2*Ne(nr)]++),ze.last_lit===ze.lit_bufsize-1}g._tr_init=gr,g._tr_stored_block=dr,g._tr_flush_block=kr,g._tr_tally=cr,g._tr_align=hr},{"../utils/common":52}],62:[function(d,m,g){function w(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}m.exports=w},{}],63:[function(d,m,g){var w,D,H=m.exports={};function q(){throw new Error("setTimeout has not been defined")}function it(){throw new Error("clearTimeout has not been defined")}function ot(Zt){if(w===setTimeout)return setTimeout(Zt,0);if((w===q||!w)&&setTimeout)return w=setTimeout,setTimeout(Zt,0);try{return w(Zt,0)}catch{try{return w.call(null,Zt,0)}catch{return w.call(this,Zt,0)}}}function ft(Zt){if(D===clearTimeout)return clearTimeout(Zt);if((D===it||!D)&&clearTimeout)return D=clearTimeout,clearTimeout(Zt);try{return D(Zt)}catch{try{return D.call(null,Zt)}catch{return D.call(this,Zt)}}}(function(){try{w=typeof setTimeout=="function"?setTimeout:q}catch{w=q}try{D=typeof clearTimeout=="function"?clearTimeout:it}catch{D=it}})();var ut,dt=[],St=!1,Tt=-1;function Rt(){St&&ut&&(St=!1,ut.length?dt=ut.concat(dt):Tt=-1,dt.length&&zt())}function zt(){if(!St){var Zt=ot(Rt);St=!0;for(var Ft=dt.length;Ft;){for(ut=dt,dt=[];++Tt<Ft;)ut&&ut[Tt].run();Tt=-1,Ft=dt.length}ut=null,St=!1,ft(Zt)}}function $t(Zt,Ft){this.fun=Zt,this.array=Ft}function jt(){}H.nextTick=function(Zt){var Ft=new Array(arguments.length-1);if(arguments.length>1)for(var Dt=1;Dt<arguments.length;Dt++)Ft[Dt-1]=arguments[Dt];dt.push(new $t(Zt,Ft)),dt.length!==1||St||ot(zt)},$t.prototype.run=function(){this.fun.apply(null,this.array)},H.title="browser",H.browser=!0,H.env={},H.argv=[],H.version="",H.versions={},H.on=jt,H.addListener=jt,H.once=jt,H.off=jt,H.removeListener=jt,H.removeAllListeners=jt,H.emit=jt,H.prependListener=jt,H.prependOnceListener=jt,H.listeners=function(Zt){return[]},H.binding=function(Zt){throw new Error("process.binding is not supported")},H.cwd=function(){return"/"},H.chdir=function(Zt){throw new Error("process.chdir is not supported")},H.umask=function(){return 0}},{}],64:[function(d,m,g){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var w=d("buffer"),D=w.Buffer;function H(it,ot){for(var ft in it)ot[ft]=it[ft]}function q(it,ot,ft){return D(it,ot,ft)}D.from&&D.alloc&&D.allocUnsafe&&D.allocUnsafeSlow?m.exports=w:(H(w,g),g.Buffer=q),q.prototype=Object.create(D.prototype),H(D,q),q.from=function(it,ot,ft){if(typeof it=="number")throw new TypeError("Argument must not be a number");return D(it,ot,ft)},q.alloc=function(it,ot,ft){if(typeof it!="number")throw new TypeError("Argument must be a number");var ut=D(it);return ot!==void 0?typeof ft=="string"?ut.fill(ot,ft):ut.fill(ot):ut.fill(0),ut},q.allocUnsafe=function(it){if(typeof it!="number")throw new TypeError("Argument must be a number");return D(it)},q.allocUnsafeSlow=function(it){if(typeof it!="number")throw new TypeError("Argument must be a number");return w.SlowBuffer(it)}},{buffer:32}],65:[function(d,m,g){m.exports=D;var w=d("events").EventEmitter;function D(){w.call(this)}d("inherits")(D,w),D.Readable=d("readable-stream/lib/_stream_readable.js"),D.Writable=d("readable-stream/lib/_stream_writable.js"),D.Duplex=d("readable-stream/lib/_stream_duplex.js"),D.Transform=d("readable-stream/lib/_stream_transform.js"),D.PassThrough=d("readable-stream/lib/_stream_passthrough.js"),D.finished=d("readable-stream/lib/internal/streams/end-of-stream.js"),D.pipeline=d("readable-stream/lib/internal/streams/pipeline.js"),D.Stream=D,D.prototype.pipe=function(H,q){var it=this;function ot(zt){H.writable&&H.write(zt)===!1&&it.pause&&it.pause()}function ft(){it.readable&&it.resume&&it.resume()}it.on("data",ot),H.on("drain",ft),H._isStdio||q&&q.end===!1||(it.on("end",dt),it.on("close",St));var ut=!1;function dt(){ut||(ut=!0,H.end())}function St(){ut||(ut=!0,typeof H.destroy=="function"&&H.destroy())}function Tt(zt){if(Rt(),w.listenerCount(this,"error")===0)throw zt}function Rt(){it.removeListener("data",ot),H.removeListener("drain",ft),it.removeListener("end",dt),it.removeListener("close",St),it.removeListener("error",Tt),H.removeListener("error",Tt),it.removeListener("end",Rt),it.removeListener("close",Rt),H.removeListener("close",Rt)}return it.on("error",Tt),H.on("error",Tt),it.on("end",Rt),it.on("close",Rt),H.on("close",Rt),H.emit("pipe",it),H}},{events:35,inherits:46,"readable-stream/lib/_stream_duplex.js":67,"readable-stream/lib/_stream_passthrough.js":68,"readable-stream/lib/_stream_readable.js":69,"readable-stream/lib/_stream_transform.js":70,"readable-stream/lib/_stream_writable.js":71,"readable-stream/lib/internal/streams/end-of-stream.js":75,"readable-stream/lib/internal/streams/pipeline.js":77}],66:[function(d,m,g){function w(ut,dt){ut.prototype=Object.create(dt.prototype),ut.prototype.constructor=ut,ut.__proto__=dt}var D={};function H(ut,dt,St){function Tt(zt,$t,jt){return typeof dt=="string"?dt:dt(zt,$t,jt)}St||(St=Error);var Rt=function(zt){function $t(jt,Zt,Ft){return zt.call(this,Tt(jt,Zt,Ft))||this}return w($t,zt),$t}(St);Rt.prototype.name=St.name,Rt.prototype.code=ut,D[ut]=Rt}function q(ut,dt){if(Array.isArray(ut)){var St=ut.length;return ut=ut.map(function(Tt){return String(Tt)}),St>2?"one of ".concat(dt," ").concat(ut.slice(0,St-1).join(", "),", or ")+ut[St-1]:St===2?"one of ".concat(dt," ").concat(ut[0]," or ").concat(ut[1]):"of ".concat(dt," ").concat(ut[0])}return"of ".concat(dt," ").concat(String(ut))}function it(ut,dt,St){return ut.substr(0,dt.length)===dt}function ot(ut,dt,St){return(St===void 0||St>ut.length)&&(St=ut.length),ut.substring(St-dt.length,St)===dt}function ft(ut,dt,St){return typeof St!="number"&&(St=0),!(St+dt.length>ut.length)&&ut.indexOf(dt,St)!==-1}H("ERR_INVALID_OPT_VALUE",function(ut,dt){return'The value "'+dt+'" is invalid for option "'+ut+'"'},TypeError),H("ERR_INVALID_ARG_TYPE",function(ut,dt,St){var Tt,Rt;if(typeof dt=="string"&&it(dt,"not ")?(Tt="must not be",dt=dt.replace(/^not /,"")):Tt="must be",ot(ut," argument"))Rt="The ".concat(ut," ").concat(Tt," ").concat(q(dt,"type"));else{var zt=ft(ut,".")?"property":"argument";Rt='The "'.concat(ut,'" ').concat(zt," ").concat(Tt," ").concat(q(dt,"type"))}return Rt+=". Received type ".concat(typeof St)},TypeError),H("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),H("ERR_METHOD_NOT_IMPLEMENTED",function(ut){return"The "+ut+" method is not implemented"}),H("ERR_STREAM_PREMATURE_CLOSE","Premature close"),H("ERR_STREAM_DESTROYED",function(ut){return"Cannot call "+ut+" after a stream was destroyed"}),H("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),H("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),H("ERR_STREAM_WRITE_AFTER_END","write after end"),H("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),H("ERR_UNKNOWN_ENCODING",function(ut){return"Unknown encoding: "+ut},TypeError),H("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),m.exports.codes=D},{}],67:[function(d,m,g){(function(w){(function(){var D=Object.keys||function(Tt){var Rt=[];for(var zt in Tt)Rt.push(zt);return Rt};m.exports=ut;var H=d("./_stream_readable"),q=d("./_stream_writable");d("inherits")(ut,H);for(var it=D(q.prototype),ot=0;ot<it.length;ot++){var ft=it[ot];ut.prototype[ft]||(ut.prototype[ft]=q.prototype[ft])}function ut(Tt){if(!(this instanceof ut))return new ut(Tt);H.call(this,Tt),q.call(this,Tt),this.allowHalfOpen=!0,Tt&&(Tt.readable===!1&&(this.readable=!1),Tt.writable===!1&&(this.writable=!1),Tt.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",dt)))}function dt(){this._writableState.ended||w.nextTick(St,this)}function St(Tt){Tt.end()}Object.defineProperty(ut.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ut.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ut.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ut.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(Tt){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=Tt,this._writableState.destroyed=Tt)}})}).call(this)}).call(this,d("_process"))},{"./_stream_readable":69,"./_stream_writable":71,_process:63,inherits:46}],68:[function(d,m,g){m.exports=D;var w=d("./_stream_transform");function D(H){if(!(this instanceof D))return new D(H);w.call(this,H)}d("inherits")(D,w),D.prototype._transform=function(H,q,it){it(null,H)}},{"./_stream_transform":70,inherits:46}],69:[function(d,m,g){(function(w,D){(function(){var H;m.exports=_e,_e.ReadableState=ie,d("events").EventEmitter;var q=function(pe,we){return pe.listeners(we).length},it=d("./internal/streams/stream"),ot=d("buffer").Buffer,ft=D.Uint8Array||function(){};function ut(pe){return ot.from(pe)}function dt(pe){return ot.isBuffer(pe)||pe instanceof ft}var St,Tt=d("util");St=Tt&&Tt.debuglog?Tt.debuglog("stream"):function(){};var Rt,zt,$t,jt=d("./internal/streams/buffer_list"),Zt=d("./internal/streams/destroy"),Ft=d("./internal/streams/state").getHighWaterMark,Dt=d("../errors").codes,Kt=Dt.ERR_INVALID_ARG_TYPE,re=Dt.ERR_STREAM_PUSH_AFTER_EOF,Yt=Dt.ERR_METHOD_NOT_IMPLEMENTED,ne=Dt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;d("inherits")(_e,it);var ee=Zt.errorOrDestroy,ae=["error","close","destroy","pause","resume"];function Ut(pe,we,Re){if(typeof pe.prependListener=="function")return pe.prependListener(we,Re);pe._events&&pe._events[we]?Array.isArray(pe._events[we])?pe._events[we].unshift(Re):pe._events[we]=[Re,pe._events[we]]:pe.on(we,Re)}function ie(pe,we,Re){H=H||d("./_stream_duplex"),pe=pe||{},typeof Re!="boolean"&&(Re=we instanceof H),this.objectMode=!!pe.objectMode,Re&&(this.objectMode=this.objectMode||!!pe.readableObjectMode),this.highWaterMark=Ft(this,pe,"readableHighWaterMark",Re),this.buffer=new jt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=pe.emitClose!==!1,this.autoDestroy=!!pe.autoDestroy,this.destroyed=!1,this.defaultEncoding=pe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,pe.encoding&&(Rt||(Rt=d("string_decoder/").StringDecoder),this.decoder=new Rt(pe.encoding),this.encoding=pe.encoding)}function _e(pe){if(H=H||d("./_stream_duplex"),!(this instanceof _e))return new _e(pe);var we=this instanceof H;this._readableState=new ie(pe,this,we),this.readable=!0,pe&&(typeof pe.read=="function"&&(this._read=pe.read),typeof pe.destroy=="function"&&(this._destroy=pe.destroy)),it.call(this)}function ce(pe,we,Re,Ht,oe){St("readableAddChunk",we);var ge,be=pe._readableState;if(we===null)be.reading=!1,Me(pe,be);else if(oe||(ge=de(be,we)),ge)ee(pe,ge);else if(be.objectMode||we&&we.length>0)if(typeof we=="string"||be.objectMode||Object.getPrototypeOf(we)===ot.prototype||(we=ut(we)),Ht)be.endEmitted?ee(pe,new ne):le(pe,be,we,!0);else if(be.ended)ee(pe,new re);else{if(be.destroyed)return!1;be.reading=!1,be.decoder&&!Re?(we=be.decoder.write(we),be.objectMode||we.length!==0?le(pe,be,we,!1):Be(pe,be)):le(pe,be,we,!1)}else Ht||(be.reading=!1,Be(pe,be));return!be.ended&&(be.length<be.highWaterMark||be.length===0)}function le(pe,we,Re,Ht){we.flowing&&we.length===0&&!we.sync?(we.awaitDrain=0,pe.emit("data",Re)):(we.length+=we.objectMode?1:Re.length,Ht?we.buffer.unshift(Re):we.buffer.push(Re),we.needReadable&&ue(pe)),Be(pe,we)}function de(pe,we){var Re;return dt(we)||typeof we=="string"||we===void 0||pe.objectMode||(Re=new Kt("chunk",["string","Buffer","Uint8Array"],we)),Re}Object.defineProperty(_e.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(pe){this._readableState&&(this._readableState.destroyed=pe)}}),_e.prototype.destroy=Zt.destroy,_e.prototype._undestroy=Zt.undestroy,_e.prototype._destroy=function(pe,we){we(pe)},_e.prototype.push=function(pe,we){var Re,Ht=this._readableState;return Ht.objectMode?Re=!0:typeof pe=="string"&&((we=we||Ht.defaultEncoding)!==Ht.encoding&&(pe=ot.from(pe,we),we=""),Re=!0),ce(this,pe,we,!1,Re)},_e.prototype.unshift=function(pe){return ce(this,pe,null,!0,!1)},_e.prototype.isPaused=function(){return this._readableState.flowing===!1},_e.prototype.setEncoding=function(pe){Rt||(Rt=d("string_decoder/").StringDecoder);var we=new Rt(pe);this._readableState.decoder=we,this._readableState.encoding=this._readableState.decoder.encoding;for(var Re=this._readableState.buffer.head,Ht="";Re!==null;)Ht+=we.write(Re.data),Re=Re.next;return this._readableState.buffer.clear(),Ht!==""&&this._readableState.buffer.push(Ht),this._readableState.length=Ht.length,this};var Ae=1073741824;function ve(pe){return pe>=Ae?pe=Ae:(pe--,pe|=pe>>>1,pe|=pe>>>2,pe|=pe>>>4,pe|=pe>>>8,pe|=pe>>>16,pe++),pe}function ye(pe,we){return pe<=0||we.length===0&&we.ended?0:we.objectMode?1:pe!=pe?we.flowing&&we.length?we.buffer.head.data.length:we.length:(pe>we.highWaterMark&&(we.highWaterMark=ve(pe)),pe<=we.length?pe:we.ended?we.length:(we.needReadable=!0,0))}function Me(pe,we){if(St("onEofChunk"),!we.ended){if(we.decoder){var Re=we.decoder.end();Re&&Re.length&&(we.buffer.push(Re),we.length+=we.objectMode?1:Re.length)}we.ended=!0,we.sync?ue(pe):(we.needReadable=!1,we.emittedReadable||(we.emittedReadable=!0,xe(pe)))}}function ue(pe){var we=pe._readableState;St("emitReadable",we.needReadable,we.emittedReadable),we.needReadable=!1,we.emittedReadable||(St("emitReadable",we.flowing),we.emittedReadable=!0,w.nextTick(xe,pe))}function xe(pe){var we=pe._readableState;St("emitReadable_",we.destroyed,we.length,we.ended),we.destroyed||!we.length&&!we.ended||(pe.emit("readable"),we.emittedReadable=!1),we.needReadable=!we.flowing&&!we.ended&&we.length<=we.highWaterMark,Pe(pe)}function Be(pe,we){we.readingMore||(we.readingMore=!0,w.nextTick(Ce,pe,we))}function Ce(pe,we){for(;!we.reading&&!we.ended&&(we.length<we.highWaterMark||we.flowing&&we.length===0);){var Re=we.length;if(St("maybeReadMore read 0"),pe.read(0),Re===we.length)break}we.readingMore=!1}function Ee(pe){return function(){var we=pe._readableState;St("pipeOnDrain",we.awaitDrain),we.awaitDrain&&we.awaitDrain--,we.awaitDrain===0&&q(pe,"data")&&(we.flowing=!0,Pe(pe))}}function Se(pe){var we=pe._readableState;we.readableListening=pe.listenerCount("readable")>0,we.resumeScheduled&&!we.paused?we.flowing=!0:pe.listenerCount("data")>0&&pe.resume()}function Ne(pe){St("readable nexttick read 0"),pe.read(0)}function Fe(pe,we){we.resumeScheduled||(we.resumeScheduled=!0,w.nextTick(Oe,pe,we))}function Oe(pe,we){St("resume",we.reading),we.reading||pe.read(0),we.resumeScheduled=!1,pe.emit("resume"),Pe(pe),we.flowing&&!we.reading&&pe.read(0)}function Pe(pe){var we=pe._readableState;for(St("flow",we.flowing);we.flowing&&pe.read()!==null;);}function Jt(pe,we){return we.length===0?null:(we.objectMode?Re=we.buffer.shift():!pe||pe>=we.length?(Re=we.decoder?we.buffer.join(""):we.buffer.length===1?we.buffer.first():we.buffer.concat(we.length),we.buffer.clear()):Re=we.buffer.consume(pe,we.decoder),Re);var Re}function Te(pe){var we=pe._readableState;St("endReadable",we.endEmitted),we.endEmitted||(we.ended=!0,w.nextTick(he,we,pe))}function he(pe,we){if(St("endReadableNT",pe.endEmitted,pe.length),!pe.endEmitted&&pe.length===0&&(pe.endEmitted=!0,we.readable=!1,we.emit("end"),pe.autoDestroy)){var Re=we._writableState;(!Re||Re.autoDestroy&&Re.finished)&&we.destroy()}}function me(pe,we){for(var Re=0,Ht=pe.length;Re<Ht;Re++)if(pe[Re]===we)return Re;return-1}_e.prototype.read=function(pe){St("read",pe),pe=parseInt(pe,10);var we=this._readableState,Re=pe;if(pe!==0&&(we.emittedReadable=!1),pe===0&&we.needReadable&&((we.highWaterMark!==0?we.length>=we.highWaterMark:we.length>0)||we.ended))return St("read: emitReadable",we.length,we.ended),we.length===0&&we.ended?Te(this):ue(this),null;if((pe=ye(pe,we))===0&&we.ended)return we.length===0&&Te(this),null;var Ht,oe=we.needReadable;return St("need readable",oe),(we.length===0||we.length-pe<we.highWaterMark)&&St("length less than watermark",oe=!0),we.ended||we.reading?St("reading or ended",oe=!1):oe&&(St("do read"),we.reading=!0,we.sync=!0,we.length===0&&(we.needReadable=!0),this._read(we.highWaterMark),we.sync=!1,we.reading||(pe=ye(Re,we))),(Ht=pe>0?Jt(pe,we):null)===null?(we.needReadable=we.length<=we.highWaterMark,pe=0):(we.length-=pe,we.awaitDrain=0),we.length===0&&(we.ended||(we.needReadable=!0),Re!==pe&&we.ended&&Te(this)),Ht!==null&&this.emit("data",Ht),Ht},_e.prototype._read=function(pe){ee(this,new Yt("_read()"))},_e.prototype.pipe=function(pe,we){var Re=this,Ht=this._readableState;switch(Ht.pipesCount){case 0:Ht.pipes=pe;break;case 1:Ht.pipes=[Ht.pipes,pe];break;default:Ht.pipes.push(pe)}Ht.pipesCount+=1,St("pipe count=%d opts=%j",Ht.pipesCount,we);var oe=we&&we.end===!1||pe===w.stdout||pe===w.stderr?gr:be;function ge(dr,hr){St("onunpipe"),dr===Re&&hr&&hr.hasUnpiped===!1&&(hr.hasUnpiped=!0,er())}function be(){St("onend"),pe.end()}Ht.endEmitted?w.nextTick(oe):Re.once("end",oe),pe.on("unpipe",ge);var De=Ee(Re);pe.on("drain",De);var je=!1;function er(){St("cleanup"),pe.removeListener("close",ar),pe.removeListener("finish",rr),pe.removeListener("drain",De),pe.removeListener("error",Xe),pe.removeListener("unpipe",ge),Re.removeListener("end",be),Re.removeListener("end",gr),Re.removeListener("data",ir),je=!0,!Ht.awaitDrain||pe._writableState&&!pe._writableState.needDrain||De()}function ir(dr){St("ondata");var hr=pe.write(dr);St("dest.write",hr),hr===!1&&((Ht.pipesCount===1&&Ht.pipes===pe||Ht.pipesCount>1&&me(Ht.pipes,pe)!==-1)&&!je&&(St("false write response, pause",Ht.awaitDrain),Ht.awaitDrain++),Re.pause())}function Xe(dr){St("onerror",dr),gr(),pe.removeListener("error",Xe),q(pe,"error")===0&&ee(pe,dr)}function ar(){pe.removeListener("finish",rr),gr()}function rr(){St("onfinish"),pe.removeListener("close",ar),gr()}function gr(){St("unpipe"),Re.unpipe(pe)}return Re.on("data",ir),Ut(pe,"error",Xe),pe.once("close",ar),pe.once("finish",rr),pe.emit("pipe",Re),Ht.flowing||(St("pipe resume"),Re.resume()),pe},_e.prototype.unpipe=function(pe){var we=this._readableState,Re={hasUnpiped:!1};if(we.pipesCount===0)return this;if(we.pipesCount===1)return pe&&pe!==we.pipes||(pe||(pe=we.pipes),we.pipes=null,we.pipesCount=0,we.flowing=!1,pe&&pe.emit("unpipe",this,Re)),this;if(!pe){var Ht=we.pipes,oe=we.pipesCount;we.pipes=null,we.pipesCount=0,we.flowing=!1;for(var ge=0;ge<oe;ge++)Ht[ge].emit("unpipe",this,{hasUnpiped:!1});return this}var be=me(we.pipes,pe);return be===-1||(we.pipes.splice(be,1),we.pipesCount-=1,we.pipesCount===1&&(we.pipes=we.pipes[0]),pe.emit("unpipe",this,Re)),this},_e.prototype.on=function(pe,we){var Re=it.prototype.on.call(this,pe,we),Ht=this._readableState;return pe==="data"?(Ht.readableListening=this.listenerCount("readable")>0,Ht.flowing!==!1&&this.resume()):pe==="readable"&&(Ht.endEmitted||Ht.readableListening||(Ht.readableListening=Ht.needReadable=!0,Ht.flowing=!1,Ht.emittedReadable=!1,St("on readable",Ht.length,Ht.reading),Ht.length?ue(this):Ht.reading||w.nextTick(Ne,this))),Re},_e.prototype.addListener=_e.prototype.on,_e.prototype.removeListener=function(pe,we){var Re=it.prototype.removeListener.call(this,pe,we);return pe==="readable"&&w.nextTick(Se,this),Re},_e.prototype.removeAllListeners=function(pe){var we=it.prototype.removeAllListeners.apply(this,arguments);return pe!=="readable"&&pe!==void 0||w.nextTick(Se,this),we},_e.prototype.resume=function(){var pe=this._readableState;return pe.flowing||(St("resume"),pe.flowing=!pe.readableListening,Fe(this,pe)),pe.paused=!1,this},_e.prototype.pause=function(){return St("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(St("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_e.prototype.wrap=function(pe){var we=this,Re=this._readableState,Ht=!1;for(var oe in pe.on("end",function(){if(St("wrapped end"),Re.decoder&&!Re.ended){var be=Re.decoder.end();be&&be.length&&we.push(be)}we.push(null)}),pe.on("data",function(be){St("wrapped data"),Re.decoder&&(be=Re.decoder.write(be)),Re.objectMode&&be==null||(Re.objectMode||be&&be.length)&&(we.push(be)||(Ht=!0,pe.pause()))}),pe)this[oe]===void 0&&typeof pe[oe]=="function"&&(this[oe]=function(be){return function(){return pe[be].apply(pe,arguments)}}(oe));for(var ge=0;ge<ae.length;ge++)pe.on(ae[ge],this.emit.bind(this,ae[ge]));return this._read=function(be){St("wrapped _read",be),Ht&&(Ht=!1,pe.resume())},this},typeof Symbol=="function"&&(_e.prototype[Symbol.asyncIterator]=function(){return zt===void 0&&(zt=d("./internal/streams/async_iterator")),zt(this)}),Object.defineProperty(_e.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_e.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_e.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(pe){this._readableState&&(this._readableState.flowing=pe)}}),_e._fromList=Jt,Object.defineProperty(_e.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(_e.from=function(pe,we){return $t===void 0&&($t=d("./internal/streams/from")),$t(_e,pe,we)})}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/async_iterator":72,"./internal/streams/buffer_list":73,"./internal/streams/destroy":74,"./internal/streams/from":76,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,events:35,inherits:46,"string_decoder/":80,util:29}],70:[function(d,m,g){m.exports=ut;var w=d("../errors").codes,D=w.ERR_METHOD_NOT_IMPLEMENTED,H=w.ERR_MULTIPLE_CALLBACK,q=w.ERR_TRANSFORM_ALREADY_TRANSFORMING,it=w.ERR_TRANSFORM_WITH_LENGTH_0,ot=d("./_stream_duplex");function ft(Tt,Rt){var zt=this._transformState;zt.transforming=!1;var $t=zt.writecb;if($t===null)return this.emit("error",new H);zt.writechunk=null,zt.writecb=null,Rt!=null&&this.push(Rt),$t(Tt);var jt=this._readableState;jt.reading=!1,(jt.needReadable||jt.length<jt.highWaterMark)&&this._read(jt.highWaterMark)}function ut(Tt){if(!(this instanceof ut))return new ut(Tt);ot.call(this,Tt),this._transformState={afterTransform:ft.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Tt&&(typeof Tt.transform=="function"&&(this._transform=Tt.transform),typeof Tt.flush=="function"&&(this._flush=Tt.flush)),this.on("prefinish",dt)}function dt(){var Tt=this;typeof this._flush!="function"||this._readableState.destroyed?St(this,null,null):this._flush(function(Rt,zt){St(Tt,Rt,zt)})}function St(Tt,Rt,zt){if(Rt)return Tt.emit("error",Rt);if(zt!=null&&Tt.push(zt),Tt._writableState.length)throw new it;if(Tt._transformState.transforming)throw new q;return Tt.push(null)}d("inherits")(ut,ot),ut.prototype.push=function(Tt,Rt){return this._transformState.needTransform=!1,ot.prototype.push.call(this,Tt,Rt)},ut.prototype._transform=function(Tt,Rt,zt){zt(new D("_transform()"))},ut.prototype._write=function(Tt,Rt,zt){var $t=this._transformState;if($t.writecb=zt,$t.writechunk=Tt,$t.writeencoding=Rt,!$t.transforming){var jt=this._readableState;($t.needTransform||jt.needReadable||jt.length<jt.highWaterMark)&&this._read(jt.highWaterMark)}},ut.prototype._read=function(Tt){var Rt=this._transformState;Rt.writechunk===null||Rt.transforming?Rt.needTransform=!0:(Rt.transforming=!0,this._transform(Rt.writechunk,Rt.writeencoding,Rt.afterTransform))},ut.prototype._destroy=function(Tt,Rt){ot.prototype._destroy.call(this,Tt,function(zt){Rt(zt)})}},{"../errors":66,"./_stream_duplex":67,inherits:46}],71:[function(d,m,g){(function(w,D){(function(){function H(Pe){var Jt=this;this.next=null,this.entry=null,this.finish=function(){Oe(Jt,Pe)}}var q;m.exports=ie,ie.WritableState=Ut;var it={deprecate:d("util-deprecate")},ot=d("./internal/streams/stream"),ft=d("buffer").Buffer,ut=D.Uint8Array||function(){};function dt(Pe){return ft.from(Pe)}function St(Pe){return ft.isBuffer(Pe)||Pe instanceof ut}var Tt,Rt=d("./internal/streams/destroy"),zt=d("./internal/streams/state").getHighWaterMark,$t=d("../errors").codes,jt=$t.ERR_INVALID_ARG_TYPE,Zt=$t.ERR_METHOD_NOT_IMPLEMENTED,Ft=$t.ERR_MULTIPLE_CALLBACK,Dt=$t.ERR_STREAM_CANNOT_PIPE,Kt=$t.ERR_STREAM_DESTROYED,re=$t.ERR_STREAM_NULL_VALUES,Yt=$t.ERR_STREAM_WRITE_AFTER_END,ne=$t.ERR_UNKNOWN_ENCODING,ee=Rt.errorOrDestroy;function ae(){}function Ut(Pe,Jt,Te){q=q||d("./_stream_duplex"),Pe=Pe||{},typeof Te!="boolean"&&(Te=Jt instanceof q),this.objectMode=!!Pe.objectMode,Te&&(this.objectMode=this.objectMode||!!Pe.writableObjectMode),this.highWaterMark=zt(this,Pe,"writableHighWaterMark",Te),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var he=Pe.decodeStrings===!1;this.decodeStrings=!he,this.defaultEncoding=Pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(me){Me(Jt,me)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Pe.emitClose!==!1,this.autoDestroy=!!Pe.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new H(this)}function ie(Pe){var Jt=this instanceof(q=q||d("./_stream_duplex"));if(!Jt&&!Tt.call(ie,this))return new ie(Pe);this._writableState=new Ut(Pe,this,Jt),this.writable=!0,Pe&&(typeof Pe.write=="function"&&(this._write=Pe.write),typeof Pe.writev=="function"&&(this._writev=Pe.writev),typeof Pe.destroy=="function"&&(this._destroy=Pe.destroy),typeof Pe.final=="function"&&(this._final=Pe.final)),ot.call(this)}function _e(Pe,Jt){var Te=new Yt;ee(Pe,Te),w.nextTick(Jt,Te)}function ce(Pe,Jt,Te,he){var me;return Te===null?me=new re:typeof Te=="string"||Jt.objectMode||(me=new jt("chunk",["string","Buffer"],Te)),!me||(ee(Pe,me),w.nextTick(he,me),!1)}function le(Pe,Jt,Te){return Pe.objectMode||Pe.decodeStrings===!1||typeof Jt!="string"||(Jt=ft.from(Jt,Te)),Jt}function de(Pe,Jt,Te,he,me,pe){if(!Te){var we=le(Jt,he,me);he!==we&&(Te=!0,me="buffer",he=we)}var Re=Jt.objectMode?1:he.length;Jt.length+=Re;var Ht=Jt.length<Jt.highWaterMark;if(Ht||(Jt.needDrain=!0),Jt.writing||Jt.corked){var oe=Jt.lastBufferedRequest;Jt.lastBufferedRequest={chunk:he,encoding:me,isBuf:Te,callback:pe,next:null},oe?oe.next=Jt.lastBufferedRequest:Jt.bufferedRequest=Jt.lastBufferedRequest,Jt.bufferedRequestCount+=1}else Ae(Pe,Jt,!1,Re,he,me,pe);return Ht}function Ae(Pe,Jt,Te,he,me,pe,we){Jt.writelen=he,Jt.writecb=we,Jt.writing=!0,Jt.sync=!0,Jt.destroyed?Jt.onwrite(new Kt("write")):Te?Pe._writev(me,Jt.onwrite):Pe._write(me,pe,Jt.onwrite),Jt.sync=!1}function ve(Pe,Jt,Te,he,me){--Jt.pendingcb,Te?(w.nextTick(me,he),w.nextTick(Ne,Pe,Jt),Pe._writableState.errorEmitted=!0,ee(Pe,he)):(me(he),Pe._writableState.errorEmitted=!0,ee(Pe,he),Ne(Pe,Jt))}function ye(Pe){Pe.writing=!1,Pe.writecb=null,Pe.length-=Pe.writelen,Pe.writelen=0}function Me(Pe,Jt){var Te=Pe._writableState,he=Te.sync,me=Te.writecb;if(typeof me!="function")throw new Ft;if(ye(Te),Jt)ve(Pe,Te,he,Jt,me);else{var pe=Ce(Te)||Pe.destroyed;pe||Te.corked||Te.bufferProcessing||!Te.bufferedRequest||Be(Pe,Te),he?w.nextTick(ue,Pe,Te,pe,me):ue(Pe,Te,pe,me)}}function ue(Pe,Jt,Te,he){Te||xe(Pe,Jt),Jt.pendingcb--,he(),Ne(Pe,Jt)}function xe(Pe,Jt){Jt.length===0&&Jt.needDrain&&(Jt.needDrain=!1,Pe.emit("drain"))}function Be(Pe,Jt){Jt.bufferProcessing=!0;var Te=Jt.bufferedRequest;if(Pe._writev&&Te&&Te.next){var he=Jt.bufferedRequestCount,me=new Array(he),pe=Jt.corkedRequestsFree;pe.entry=Te;for(var we=0,Re=!0;Te;)me[we]=Te,Te.isBuf||(Re=!1),Te=Te.next,we+=1;me.allBuffers=Re,Ae(Pe,Jt,!0,Jt.length,me,"",pe.finish),Jt.pendingcb++,Jt.lastBufferedRequest=null,pe.next?(Jt.corkedRequestsFree=pe.next,pe.next=null):Jt.corkedRequestsFree=new H(Jt),Jt.bufferedRequestCount=0}else{for(;Te;){var Ht=Te.chunk,oe=Te.encoding,ge=Te.callback;if(Ae(Pe,Jt,!1,Jt.objectMode?1:Ht.length,Ht,oe,ge),Te=Te.next,Jt.bufferedRequestCount--,Jt.writing)break}Te===null&&(Jt.lastBufferedRequest=null)}Jt.bufferedRequest=Te,Jt.bufferProcessing=!1}function Ce(Pe){return Pe.ending&&Pe.length===0&&Pe.bufferedRequest===null&&!Pe.finished&&!Pe.writing}function Ee(Pe,Jt){Pe._final(function(Te){Jt.pendingcb--,Te&&ee(Pe,Te),Jt.prefinished=!0,Pe.emit("prefinish"),Ne(Pe,Jt)})}function Se(Pe,Jt){Jt.prefinished||Jt.finalCalled||(typeof Pe._final!="function"||Jt.destroyed?(Jt.prefinished=!0,Pe.emit("prefinish")):(Jt.pendingcb++,Jt.finalCalled=!0,w.nextTick(Ee,Pe,Jt)))}function Ne(Pe,Jt){var Te=Ce(Jt);if(Te&&(Se(Pe,Jt),Jt.pendingcb===0&&(Jt.finished=!0,Pe.emit("finish"),Jt.autoDestroy))){var he=Pe._readableState;(!he||he.autoDestroy&&he.endEmitted)&&Pe.destroy()}return Te}function Fe(Pe,Jt,Te){Jt.ending=!0,Ne(Pe,Jt),Te&&(Jt.finished?w.nextTick(Te):Pe.once("finish",Te)),Jt.ended=!0,Pe.writable=!1}function Oe(Pe,Jt,Te){var he=Pe.entry;for(Pe.entry=null;he;){var me=he.callback;Jt.pendingcb--,me(Te),he=he.next}Jt.corkedRequestsFree.next=Pe}d("inherits")(ie,ot),Ut.prototype.getBuffer=function(){for(var Pe=this.bufferedRequest,Jt=[];Pe;)Jt.push(Pe),Pe=Pe.next;return Jt},function(){try{Object.defineProperty(Ut.prototype,"buffer",{get:it.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Tt=Function.prototype[Symbol.hasInstance],Object.defineProperty(ie,Symbol.hasInstance,{value:function(Pe){return!!Tt.call(this,Pe)||this===ie&&Pe&&Pe._writableState instanceof Ut}})):Tt=function(Pe){return Pe instanceof this},ie.prototype.pipe=function(){ee(this,new Dt)},ie.prototype.write=function(Pe,Jt,Te){var he=this._writableState,me=!1,pe=!he.objectMode&&St(Pe);return pe&&!ft.isBuffer(Pe)&&(Pe=dt(Pe)),typeof Jt=="function"&&(Te=Jt,Jt=null),pe?Jt="buffer":Jt||(Jt=he.defaultEncoding),typeof Te!="function"&&(Te=ae),he.ending?_e(this,Te):(pe||ce(this,he,Pe,Te))&&(he.pendingcb++,me=de(this,he,pe,Pe,Jt,Te)),me},ie.prototype.cork=function(){this._writableState.corked++},ie.prototype.uncork=function(){var Pe=this._writableState;Pe.corked&&(Pe.corked--,Pe.writing||Pe.corked||Pe.bufferProcessing||!Pe.bufferedRequest||Be(this,Pe))},ie.prototype.setDefaultEncoding=function(Pe){if(typeof Pe=="string"&&(Pe=Pe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Pe+"").toLowerCase())>-1))throw new ne(Pe);return this._writableState.defaultEncoding=Pe,this},Object.defineProperty(ie.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ie.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),ie.prototype._write=function(Pe,Jt,Te){Te(new Zt("_write()"))},ie.prototype._writev=null,ie.prototype.end=function(Pe,Jt,Te){var he=this._writableState;return typeof Pe=="function"?(Te=Pe,Pe=null,Jt=null):typeof Jt=="function"&&(Te=Jt,Jt=null),Pe!=null&&this.write(Pe,Jt),he.corked&&(he.corked=1,this.uncork()),he.ending||Fe(this,he,Te),this},Object.defineProperty(ie.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ie.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Pe){this._writableState&&(this._writableState.destroyed=Pe)}}),ie.prototype.destroy=Rt.destroy,ie.prototype._undestroy=Rt.undestroy,ie.prototype._destroy=function(Pe,Jt){Jt(Pe)}}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/destroy":74,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,inherits:46,"util-deprecate":81}],72:[function(d,m,g){(function(w){(function(){var D;function H(Kt,re,Yt){return re in Kt?Object.defineProperty(Kt,re,{value:Yt,enumerable:!0,configurable:!0,writable:!0}):Kt[re]=Yt,Kt}var q=d("./end-of-stream"),it=Symbol("lastResolve"),ot=Symbol("lastReject"),ft=Symbol("error"),ut=Symbol("ended"),dt=Symbol("lastPromise"),St=Symbol("handlePromise"),Tt=Symbol("stream");function Rt(Kt,re){return{value:Kt,done:re}}function zt(Kt){var re=Kt[it];if(re!==null){var Yt=Kt[Tt].read();Yt!==null&&(Kt[dt]=null,Kt[it]=null,Kt[ot]=null,re(Rt(Yt,!1)))}}function $t(Kt){w.nextTick(zt,Kt)}function jt(Kt,re){return function(Yt,ne){Kt.then(function(){re[ut]?Yt(Rt(void 0,!0)):re[St](Yt,ne)},ne)}}var Zt=Object.getPrototypeOf(function(){}),Ft=Object.setPrototypeOf((D={get stream(){return this[Tt]},next:function(){var Kt=this,re=this[ft];if(re!==null)return Promise.reject(re);if(this[ut])return Promise.resolve(Rt(void 0,!0));if(this[Tt].destroyed)return new Promise(function(ae,Ut){w.nextTick(function(){Kt[ft]?Ut(Kt[ft]):ae(Rt(void 0,!0))})});var Yt,ne=this[dt];if(ne)Yt=new Promise(jt(ne,this));else{var ee=this[Tt].read();if(ee!==null)return Promise.resolve(Rt(ee,!1));Yt=new Promise(this[St])}return this[dt]=Yt,Yt}},H(D,Symbol.asyncIterator,function(){return this}),H(D,"return",function(){var Kt=this;return new Promise(function(re,Yt){Kt[Tt].destroy(null,function(ne){ne?Yt(ne):re(Rt(void 0,!0))})})}),D),Zt),Dt=function(Kt){var re,Yt=Object.create(Ft,(H(re={},Tt,{value:Kt,writable:!0}),H(re,it,{value:null,writable:!0}),H(re,ot,{value:null,writable:!0}),H(re,ft,{value:null,writable:!0}),H(re,ut,{value:Kt._readableState.endEmitted,writable:!0}),H(re,St,{value:function(ne,ee){var ae=Yt[Tt].read();ae?(Yt[dt]=null,Yt[it]=null,Yt[ot]=null,ne(Rt(ae,!1))):(Yt[it]=ne,Yt[ot]=ee)},writable:!0}),re));return Yt[dt]=null,q(Kt,function(ne){if(ne&&ne.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ee=Yt[ot];return ee!==null&&(Yt[dt]=null,Yt[it]=null,Yt[ot]=null,ee(ne)),void(Yt[ft]=ne)}var ae=Yt[it];ae!==null&&(Yt[dt]=null,Yt[it]=null,Yt[ot]=null,ae(Rt(void 0,!0))),Yt[ut]=!0}),Kt.on("readable",$t.bind(null,Yt)),Yt};m.exports=Dt}).call(this)}).call(this,d("_process"))},{"./end-of-stream":75,_process:63}],73:[function(d,m,g){function w(Tt,Rt){var zt=Object.keys(Tt);if(Object.getOwnPropertySymbols){var $t=Object.getOwnPropertySymbols(Tt);Rt&&($t=$t.filter(function(jt){return Object.getOwnPropertyDescriptor(Tt,jt).enumerable})),zt.push.apply(zt,$t)}return zt}function D(Tt){for(var Rt=1;Rt<arguments.length;Rt++){var zt=arguments[Rt]!=null?arguments[Rt]:{};Rt%2?w(Object(zt),!0).forEach(function($t){H(Tt,$t,zt[$t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(zt)):w(Object(zt)).forEach(function($t){Object.defineProperty(Tt,$t,Object.getOwnPropertyDescriptor(zt,$t))})}return Tt}function H(Tt,Rt,zt){return Rt in Tt?Object.defineProperty(Tt,Rt,{value:zt,enumerable:!0,configurable:!0,writable:!0}):Tt[Rt]=zt,Tt}function q(Tt,Rt){if(!(Tt instanceof Rt))throw new TypeError("Cannot call a class as a function")}function it(Tt,Rt){for(var zt=0;zt<Rt.length;zt++){var $t=Rt[zt];$t.enumerable=$t.enumerable||!1,$t.configurable=!0,"value"in $t&&($t.writable=!0),Object.defineProperty(Tt,$t.key,$t)}}function ot(Tt,Rt,zt){return it(Tt.prototype,Rt),Tt}var ft=d("buffer").Buffer,ut=d("util").inspect,dt=ut&&ut.custom||"inspect";function St(Tt,Rt,zt){ft.prototype.copy.call(Tt,Rt,zt)}m.exports=function(){function Tt(){q(this,Tt),this.head=null,this.tail=null,this.length=0}return ot(Tt,[{key:"push",value:function(Rt){var zt={data:Rt,next:null};this.length>0?this.tail.next=zt:this.head=zt,this.tail=zt,++this.length}},{key:"unshift",value:function(Rt){var zt={data:Rt,next:this.head};this.length===0&&(this.tail=zt),this.head=zt,++this.length}},{key:"shift",value:function(){if(this.length!==0){var Rt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Rt}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Rt){if(this.length===0)return"";for(var zt=this.head,$t=""+zt.data;zt=zt.next;)$t+=Rt+zt.data;return $t}},{key:"concat",value:function(Rt){if(this.length===0)return ft.alloc(0);for(var zt=ft.allocUnsafe(Rt>>>0),$t=this.head,jt=0;$t;)St($t.data,zt,jt),jt+=$t.data.length,$t=$t.next;return zt}},{key:"consume",value:function(Rt,zt){var $t;return Rt<this.head.data.length?($t=this.head.data.slice(0,Rt),this.head.data=this.head.data.slice(Rt)):$t=Rt===this.head.data.length?this.shift():zt?this._getString(Rt):this._getBuffer(Rt),$t}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Rt){var zt=this.head,$t=1,jt=zt.data;for(Rt-=jt.length;zt=zt.next;){var Zt=zt.data,Ft=Rt>Zt.length?Zt.length:Rt;if(Ft===Zt.length?jt+=Zt:jt+=Zt.slice(0,Rt),(Rt-=Ft)==0){Ft===Zt.length?(++$t,zt.next?this.head=zt.next:this.head=this.tail=null):(this.head=zt,zt.data=Zt.slice(Ft));break}++$t}return this.length-=$t,jt}},{key:"_getBuffer",value:function(Rt){var zt=ft.allocUnsafe(Rt),$t=this.head,jt=1;for($t.data.copy(zt),Rt-=$t.data.length;$t=$t.next;){var Zt=$t.data,Ft=Rt>Zt.length?Zt.length:Rt;if(Zt.copy(zt,zt.length-Rt,0,Ft),(Rt-=Ft)==0){Ft===Zt.length?(++jt,$t.next?this.head=$t.next:this.head=this.tail=null):(this.head=$t,$t.data=Zt.slice(Ft));break}++jt}return this.length-=jt,zt}},{key:dt,value:function(Rt,zt){return ut(this,D({},zt,{depth:0,customInspect:!1}))}}]),Tt}()},{buffer:32,util:29}],74:[function(d,m,g){(function(w){(function(){function D(ut,dt){var St=this,Tt=this._readableState&&this._readableState.destroyed,Rt=this._writableState&&this._writableState.destroyed;return Tt||Rt?(dt?dt(ut):ut&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,w.nextTick(ot,this,ut)):w.nextTick(ot,this,ut)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ut||null,function(zt){!dt&&zt?St._writableState?St._writableState.errorEmitted?w.nextTick(q,St):(St._writableState.errorEmitted=!0,w.nextTick(H,St,zt)):w.nextTick(H,St,zt):dt?(w.nextTick(q,St),dt(zt)):w.nextTick(q,St)}),this)}function H(ut,dt){ot(ut,dt),q(ut)}function q(ut){ut._writableState&&!ut._writableState.emitClose||ut._readableState&&!ut._readableState.emitClose||ut.emit("close")}function it(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ot(ut,dt){ut.emit("error",dt)}function ft(ut,dt){var St=ut._readableState,Tt=ut._writableState;St&&St.autoDestroy||Tt&&Tt.autoDestroy?ut.destroy(dt):ut.emit("error",dt)}m.exports={destroy:D,undestroy:it,errorOrDestroy:ft}}).call(this)}).call(this,d("_process"))},{_process:63}],75:[function(d,m,g){var w=d("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function D(ot){var ft=!1;return function(){if(!ft){ft=!0;for(var ut=arguments.length,dt=new Array(ut),St=0;St<ut;St++)dt[St]=arguments[St];ot.apply(this,dt)}}}function H(){}function q(ot){return ot.setHeader&&typeof ot.abort=="function"}function it(ot,ft,ut){if(typeof ft=="function")return it(ot,null,ft);ft||(ft={}),ut=D(ut||H);var dt=ft.readable||ft.readable!==!1&&ot.readable,St=ft.writable||ft.writable!==!1&&ot.writable,Tt=function(){ot.writable||zt()},Rt=ot._writableState&&ot._writableState.finished,zt=function(){St=!1,Rt=!0,dt||ut.call(ot)},$t=ot._readableState&&ot._readableState.endEmitted,jt=function(){dt=!1,$t=!0,St||ut.call(ot)},Zt=function(Kt){ut.call(ot,Kt)},Ft=function(){var Kt;return dt&&!$t?(ot._readableState&&ot._readableState.ended||(Kt=new w),ut.call(ot,Kt)):St&&!Rt?(ot._writableState&&ot._writableState.ended||(Kt=new w),ut.call(ot,Kt)):void 0},Dt=function(){ot.req.on("finish",zt)};return q(ot)?(ot.on("complete",zt),ot.on("abort",Ft),ot.req?Dt():ot.on("request",Dt)):St&&!ot._writableState&&(ot.on("end",Tt),ot.on("close",Tt)),ot.on("end",jt),ot.on("finish",zt),ft.error!==!1&&ot.on("error",Zt),ot.on("close",Ft),function(){ot.removeListener("complete",zt),ot.removeListener("abort",Ft),ot.removeListener("request",Dt),ot.req&&ot.req.removeListener("finish",zt),ot.removeListener("end",Tt),ot.removeListener("close",Tt),ot.removeListener("finish",zt),ot.removeListener("end",jt),ot.removeListener("error",Zt),ot.removeListener("close",Ft)}}m.exports=it},{"../../../errors":66}],76:[function(d,m,g){m.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],77:[function(d,m,g){var w;function D(zt){var $t=!1;return function(){$t||($t=!0,zt.apply(void 0,arguments))}}var H=d("../../../errors").codes,q=H.ERR_MISSING_ARGS,it=H.ERR_STREAM_DESTROYED;function ot(zt){if(zt)throw zt}function ft(zt){return zt.setHeader&&typeof zt.abort=="function"}function ut(zt,$t,jt,Zt){Zt=D(Zt);var Ft=!1;zt.on("close",function(){Ft=!0}),w===void 0&&(w=d("./end-of-stream")),w(zt,{readable:$t,writable:jt},function(Kt){if(Kt)return Zt(Kt);Ft=!0,Zt()});var Dt=!1;return function(Kt){if(!Ft&&!Dt)return Dt=!0,ft(zt)?zt.abort():typeof zt.destroy=="function"?zt.destroy():void Zt(Kt||new it("pipe"))}}function dt(zt){zt()}function St(zt,$t){return zt.pipe($t)}function Tt(zt){return zt.length?typeof zt[zt.length-1]!="function"?ot:zt.pop():ot}function Rt(){for(var zt=arguments.length,$t=new Array(zt),jt=0;jt<zt;jt++)$t[jt]=arguments[jt];var Zt,Ft=Tt($t);if(Array.isArray($t[0])&&($t=$t[0]),$t.length<2)throw new q("streams");var Dt=$t.map(function(Kt,re){var Yt=re<$t.length-1;return ut(Kt,Yt,re>0,function(ne){Zt||(Zt=ne),ne&&Dt.forEach(dt),Yt||(Dt.forEach(dt),Ft(Zt))})});return $t.reduce(St)}m.exports=Rt},{"../../../errors":66,"./end-of-stream":75}],78:[function(d,m,g){var w=d("../../../errors").codes.ERR_INVALID_OPT_VALUE;function D(q,it,ot){return q.highWaterMark!=null?q.highWaterMark:it?q[ot]:null}function H(q,it,ot,ft){var ut=D(it,ft,ot);if(ut!=null){if(!isFinite(ut)||Math.floor(ut)!==ut||ut<0)throw new w(ft?ot:"highWaterMark",ut);return Math.floor(ut)}return q.objectMode?16:16384}m.exports={getHighWaterMark:H}},{"../../../errors":66}],79:[function(d,m,g){m.exports=d("events").EventEmitter},{events:35}],80:[function(d,m,g){var w=d("safe-buffer").Buffer,D=w.isEncoding||function(Dt){switch((Dt=""+Dt)&&Dt.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function H(Dt){if(!Dt)return"utf8";for(var Kt;;)switch(Dt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Dt;default:if(Kt)return;Dt=(""+Dt).toLowerCase(),Kt=!0}}function q(Dt){var Kt=H(Dt);if(typeof Kt!="string"&&(w.isEncoding===D||!D(Dt)))throw new Error("Unknown encoding: "+Dt);return Kt||Dt}function it(Dt){var Kt;switch(this.encoding=q(Dt),this.encoding){case"utf16le":this.text=Rt,this.end=zt,Kt=4;break;case"utf8":this.fillLast=dt,Kt=4;break;case"base64":this.text=$t,this.end=jt,Kt=3;break;default:return this.write=Zt,void(this.end=Ft)}this.lastNeed=0,this.lastTotal=0,this.lastChar=w.allocUnsafe(Kt)}function ot(Dt){return Dt<=127?0:Dt>>5==6?2:Dt>>4==14?3:Dt>>3==30?4:Dt>>6==2?-1:-2}function ft(Dt,Kt,re){var Yt=Kt.length-1;if(Yt<re)return 0;var ne=ot(Kt[Yt]);return ne>=0?(ne>0&&(Dt.lastNeed=ne-1),ne):--Yt<re||ne===-2?0:(ne=ot(Kt[Yt]))>=0?(ne>0&&(Dt.lastNeed=ne-2),ne):--Yt<re||ne===-2?0:(ne=ot(Kt[Yt]))>=0?(ne>0&&(ne===2?ne=0:Dt.lastNeed=ne-3),ne):0}function ut(Dt,Kt,re){if((192&Kt[0])!=128)return Dt.lastNeed=0,"";if(Dt.lastNeed>1&&Kt.length>1){if((192&Kt[1])!=128)return Dt.lastNeed=1,"";if(Dt.lastNeed>2&&Kt.length>2&&(192&Kt[2])!=128)return Dt.lastNeed=2,""}}function dt(Dt){var Kt=this.lastTotal-this.lastNeed,re=ut(this,Dt);return re!==void 0?re:this.lastNeed<=Dt.length?(Dt.copy(this.lastChar,Kt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(Dt.copy(this.lastChar,Kt,0,Dt.length),void(this.lastNeed-=Dt.length))}function St(Dt,Kt){var re=ft(this,Dt,Kt);if(!this.lastNeed)return Dt.toString("utf8",Kt);this.lastTotal=re;var Yt=Dt.length-(re-this.lastNeed);return Dt.copy(this.lastChar,0,Yt),Dt.toString("utf8",Kt,Yt)}function Tt(Dt){var Kt=Dt&&Dt.length?this.write(Dt):"";return this.lastNeed?Kt+"":Kt}function Rt(Dt,Kt){if((Dt.length-Kt)%2==0){var re=Dt.toString("utf16le",Kt);if(re){var Yt=re.charCodeAt(re.length-1);if(Yt>=55296&&Yt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Dt[Dt.length-2],this.lastChar[1]=Dt[Dt.length-1],re.slice(0,-1)}return re}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Dt[Dt.length-1],Dt.toString("utf16le",Kt,Dt.length-1)}function zt(Dt){var Kt=Dt&&Dt.length?this.write(Dt):"";if(this.lastNeed){var re=this.lastTotal-this.lastNeed;return Kt+this.lastChar.toString("utf16le",0,re)}return Kt}function $t(Dt,Kt){var re=(Dt.length-Kt)%3;return re===0?Dt.toString("base64",Kt):(this.lastNeed=3-re,this.lastTotal=3,re===1?this.lastChar[0]=Dt[Dt.length-1]:(this.lastChar[0]=Dt[Dt.length-2],this.lastChar[1]=Dt[Dt.length-1]),Dt.toString("base64",Kt,Dt.length-re))}function jt(Dt){var Kt=Dt&&Dt.length?this.write(Dt):"";return this.lastNeed?Kt+this.lastChar.toString("base64",0,3-this.lastNeed):Kt}function Zt(Dt){return Dt.toString(this.encoding)}function Ft(Dt){return Dt&&Dt.length?this.write(Dt):""}g.StringDecoder=it,it.prototype.write=function(Dt){if(Dt.length===0)return"";var Kt,re;if(this.lastNeed){if((Kt=this.fillLast(Dt))===void 0)return"";re=this.lastNeed,this.lastNeed=0}else re=0;return re<Dt.length?Kt?Kt+this.text(Dt,re):this.text(Dt,re):Kt||""},it.prototype.end=Tt,it.prototype.text=St,it.prototype.fillLast=function(Dt){if(this.lastNeed<=Dt.length)return Dt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Dt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Dt.length),this.lastNeed-=Dt.length}},{"safe-buffer":64}],81:[function(d,m,g){(function(w){(function(){function D(q,it){if(H("noDeprecation"))return q;var ot=!1;function ft(){if(!ot){if(H("throwDeprecation"))throw new Error(it);H("traceDeprecation")?console.trace(it):console.warn(it),ot=!0}return q.apply(this,arguments)}return ft}function H(q){try{if(!w.localStorage)return!1}catch{return!1}var it=w.localStorage[q];return it!=null&&String(it).toLowerCase()==="true"}m.exports=D}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],82:[function(d,m,g){arguments[4][25][0].apply(g,arguments)},{dup:25}],83:[function(d,m,g){var w=d("is-arguments"),D=d("is-generator-function"),H=d("which-typed-array"),q=d("is-typed-array");function it(be){return be.call.bind(be)}var ot=typeof BigInt<"u",ft=typeof Symbol<"u",ut=it(Object.prototype.toString),dt=it(Number.prototype.valueOf),St=it(String.prototype.valueOf),Tt=it(Boolean.prototype.valueOf);if(ot)var Rt=it(BigInt.prototype.valueOf);if(ft)var zt=it(Symbol.prototype.valueOf);function $t(be,De){if(typeof be!="object")return!1;try{return De(be),!0}catch{return!1}}function jt(be){return typeof Promise<"u"&&be instanceof Promise||be!==null&&typeof be=="object"&&typeof be.then=="function"&&typeof be.catch=="function"}function Zt(be){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(be):q(be)||Ee(be)}function Ft(be){return H(be)==="Uint8Array"}function Dt(be){return H(be)==="Uint8ClampedArray"}function Kt(be){return H(be)==="Uint16Array"}function re(be){return H(be)==="Uint32Array"}function Yt(be){return H(be)==="Int8Array"}function ne(be){return H(be)==="Int16Array"}function ee(be){return H(be)==="Int32Array"}function ae(be){return H(be)==="Float32Array"}function Ut(be){return H(be)==="Float64Array"}function ie(be){return H(be)==="BigInt64Array"}function _e(be){return H(be)==="BigUint64Array"}function ce(be){return ut(be)==="[object Map]"}function le(be){return typeof Map<"u"&&(ce.working?ce(be):be instanceof Map)}function de(be){return ut(be)==="[object Set]"}function Ae(be){return typeof Set<"u"&&(de.working?de(be):be instanceof Set)}function ve(be){return ut(be)==="[object WeakMap]"}function ye(be){return typeof WeakMap<"u"&&(ve.working?ve(be):be instanceof WeakMap)}function Me(be){return ut(be)==="[object WeakSet]"}function ue(be){return Me(be)}function xe(be){return ut(be)==="[object ArrayBuffer]"}function Be(be){return typeof ArrayBuffer<"u"&&(xe.working?xe(be):be instanceof ArrayBuffer)}function Ce(be){return ut(be)==="[object DataView]"}function Ee(be){return typeof DataView<"u"&&(Ce.working?Ce(be):be instanceof DataView)}g.isArgumentsObject=w,g.isGeneratorFunction=D,g.isTypedArray=q,g.isPromise=jt,g.isArrayBufferView=Zt,g.isUint8Array=Ft,g.isUint8ClampedArray=Dt,g.isUint16Array=Kt,g.isUint32Array=re,g.isInt8Array=Yt,g.isInt16Array=ne,g.isInt32Array=ee,g.isFloat32Array=ae,g.isFloat64Array=Ut,g.isBigInt64Array=ie,g.isBigUint64Array=_e,ce.working=typeof Map<"u"&&ce(new Map),g.isMap=le,de.working=typeof Set<"u"&&de(new Set),g.isSet=Ae,ve.working=typeof WeakMap<"u"&&ve(new WeakMap),g.isWeakMap=ye,Me.working=typeof WeakSet<"u"&&Me(new WeakSet),g.isWeakSet=ue,xe.working=typeof ArrayBuffer<"u"&&xe(new ArrayBuffer),g.isArrayBuffer=Be,Ce.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Ce(new DataView(new ArrayBuffer(1),0,1)),g.isDataView=Ee;var Se=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Ne(be){return ut(be)==="[object SharedArrayBuffer]"}function Fe(be){return Se!==void 0&&(Ne.working===void 0&&(Ne.working=Ne(new Se)),Ne.working?Ne(be):be instanceof Se)}function Oe(be){return ut(be)==="[object AsyncFunction]"}function Pe(be){return ut(be)==="[object Map Iterator]"}function Jt(be){return ut(be)==="[object Set Iterator]"}function Te(be){return ut(be)==="[object Generator]"}function he(be){return ut(be)==="[object WebAssembly.Module]"}function me(be){return $t(be,dt)}function pe(be){return $t(be,St)}function we(be){return $t(be,Tt)}function Re(be){return ot&&$t(be,Rt)}function Ht(be){return ft&&$t(be,zt)}function oe(be){return me(be)||pe(be)||we(be)||Re(be)||Ht(be)}function ge(be){return typeof Uint8Array<"u"&&(Be(be)||Fe(be))}g.isSharedArrayBuffer=Fe,g.isAsyncFunction=Oe,g.isMapIterator=Pe,g.isSetIterator=Jt,g.isGeneratorObject=Te,g.isWebAssemblyCompiledModule=he,g.isNumberObject=me,g.isStringObject=pe,g.isBooleanObject=we,g.isBigIntObject=Re,g.isSymbolObject=Ht,g.isBoxedPrimitive=oe,g.isAnyArrayBuffer=ge,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(be){Object.defineProperty(g,be,{enumerable:!1,value:function(){throw new Error(be+" is not supported in userland")}})})},{"is-arguments":47,"is-generator-function":49,"is-typed-array":50,"which-typed-array":85}],84:[function(d,m,g){(function(w){(function(){var D=Object.getOwnPropertyDescriptors||function(Ee){for(var Se=Object.keys(Ee),Ne={},Fe=0;Fe<Se.length;Fe++)Ne[Se[Fe]]=Object.getOwnPropertyDescriptor(Ee,Se[Fe]);return Ne},H=/%[sdj%]/g;g.format=function(Ee){if(!ne(Ee)){for(var Se=[],Ne=0;Ne<arguments.length;Ne++)Se.push(ft(arguments[Ne]));return Se.join(" ")}Ne=1;for(var Fe=arguments,Oe=Fe.length,Pe=String(Ee).replace(H,function(Te){if(Te==="%%")return"%";if(Ne>=Oe)return Te;switch(Te){case"%s":return String(Fe[Ne++]);case"%d":return Number(Fe[Ne++]);case"%j":try{return JSON.stringify(Fe[Ne++])}catch{return"[Circular]"}default:return Te}}),Jt=Fe[Ne];Ne<Oe;Jt=Fe[++Ne])Kt(Jt)||!ie(Jt)?Pe+=" "+Jt:Pe+=" "+ft(Jt);return Pe},g.deprecate=function(Ee,Se){if(w!==void 0&&w.noDeprecation===!0)return Ee;if(w===void 0)return function(){return g.deprecate(Ee,Se).apply(this,arguments)};var Ne=!1;function Fe(){if(!Ne){if(w.throwDeprecation)throw new Error(Se);w.traceDeprecation?console.trace(Se):console.error(Se),Ne=!0}return Ee.apply(this,arguments)}return Fe};var q={},it=/^$/;if(w.env.NODE_DEBUG){var ot=w.env.NODE_DEBUG;ot=ot.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),it=new RegExp("^"+ot+"$","i")}function ft(Ee,Se){var Ne={seen:[],stylize:dt};return arguments.length>=3&&(Ne.depth=arguments[2]),arguments.length>=4&&(Ne.colors=arguments[3]),Dt(Se)?Ne.showHidden=Se:Se&&g._extend(Ne,Se),ae(Ne.showHidden)&&(Ne.showHidden=!1),ae(Ne.depth)&&(Ne.depth=2),ae(Ne.colors)&&(Ne.colors=!1),ae(Ne.customInspect)&&(Ne.customInspect=!0),Ne.colors&&(Ne.stylize=ut),Tt(Ne,Ee,Ne.depth)}function ut(Ee,Se){var Ne=ft.styles[Se];return Ne?"\x1B["+ft.colors[Ne][0]+"m"+Ee+"\x1B["+ft.colors[Ne][1]+"m":Ee}function dt(Ee,Se){return Ee}function St(Ee){var Se={};return Ee.forEach(function(Ne,Fe){Se[Ne]=!0}),Se}function Tt(Ee,Se,Ne){if(Ee.customInspect&&Se&&le(Se.inspect)&&Se.inspect!==g.inspect&&(!Se.constructor||Se.constructor.prototype!==Se)){var Fe=Se.inspect(Ne,Ee);return ne(Fe)||(Fe=Tt(Ee,Fe,Ne)),Fe}var Oe=Rt(Ee,Se);if(Oe)return Oe;var Pe=Object.keys(Se),Jt=St(Pe);if(Ee.showHidden&&(Pe=Object.getOwnPropertyNames(Se)),ce(Se)&&(Pe.indexOf("message")>=0||Pe.indexOf("description")>=0))return zt(Se);if(Pe.length===0){if(le(Se)){var Te=Se.name?": "+Se.name:"";return Ee.stylize("[Function"+Te+"]","special")}if(Ut(Se))return Ee.stylize(RegExp.prototype.toString.call(Se),"regexp");if(_e(Se))return Ee.stylize(Date.prototype.toString.call(Se),"date");if(ce(Se))return zt(Se)}var he,me="",pe=!1,we=["{","}"];return Ft(Se)&&(pe=!0,we=["[","]"]),le(Se)&&(me=" [Function"+(Se.name?": "+Se.name:"")+"]"),Ut(Se)&&(me=" "+RegExp.prototype.toString.call(Se)),_e(Se)&&(me=" "+Date.prototype.toUTCString.call(Se)),ce(Se)&&(me=" "+zt(Se)),Pe.length!==0||pe&&Se.length!=0?Ne<0?Ut(Se)?Ee.stylize(RegExp.prototype.toString.call(Se),"regexp"):Ee.stylize("[Object]","special"):(Ee.seen.push(Se),he=pe?$t(Ee,Se,Ne,Jt,Pe):Pe.map(function(Re){return jt(Ee,Se,Ne,Jt,Re,pe)}),Ee.seen.pop(),Zt(he,me,we)):we[0]+me+we[1]}function Rt(Ee,Se){if(ae(Se))return Ee.stylize("undefined","undefined");if(ne(Se)){var Ne="'"+JSON.stringify(Se).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ee.stylize(Ne,"string")}return Yt(Se)?Ee.stylize(""+Se,"number"):Dt(Se)?Ee.stylize(""+Se,"boolean"):Kt(Se)?Ee.stylize("null","null"):void 0}function zt(Ee){return"["+Error.prototype.toString.call(Ee)+"]"}function $t(Ee,Se,Ne,Fe,Oe){for(var Pe=[],Jt=0,Te=Se.length;Jt<Te;++Jt)ue(Se,String(Jt))?Pe.push(jt(Ee,Se,Ne,Fe,String(Jt),!0)):Pe.push("");return Oe.forEach(function(he){he.match(/^\d+$/)||Pe.push(jt(Ee,Se,Ne,Fe,he,!0))}),Pe}function jt(Ee,Se,Ne,Fe,Oe,Pe){var Jt,Te,he;if((he=Object.getOwnPropertyDescriptor(Se,Oe)||{value:Se[Oe]}).get?Te=he.set?Ee.stylize("[Getter/Setter]","special"):Ee.stylize("[Getter]","special"):he.set&&(Te=Ee.stylize("[Setter]","special")),ue(Fe,Oe)||(Jt="["+Oe+"]"),Te||(Ee.seen.indexOf(he.value)<0?(Te=Kt(Ne)?Tt(Ee,he.value,null):Tt(Ee,he.value,Ne-1)).indexOf(`
`)>-1&&(Te=Pe?Te.split(`
`).map(function(me){return"  "+me}).join(`
`).slice(2):`
`+Te.split(`
`).map(function(me){return"   "+me}).join(`
`)):Te=Ee.stylize("[Circular]","special")),ae(Jt)){if(Pe&&Oe.match(/^\d+$/))return Te;(Jt=JSON.stringify(""+Oe)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Jt=Jt.slice(1,-1),Jt=Ee.stylize(Jt,"name")):(Jt=Jt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Jt=Ee.stylize(Jt,"string"))}return Jt+": "+Te}function Zt(Ee,Se,Ne){return Ee.reduce(function(Fe,Oe){return Oe.indexOf(`
`),Fe+Oe.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Ne[0]+(Se===""?"":Se+`
 `)+" "+Ee.join(`,
  `)+" "+Ne[1]:Ne[0]+Se+" "+Ee.join(", ")+" "+Ne[1]}function Ft(Ee){return Array.isArray(Ee)}function Dt(Ee){return typeof Ee=="boolean"}function Kt(Ee){return Ee===null}function re(Ee){return Ee==null}function Yt(Ee){return typeof Ee=="number"}function ne(Ee){return typeof Ee=="string"}function ee(Ee){return typeof Ee=="symbol"}function ae(Ee){return Ee===void 0}function Ut(Ee){return ie(Ee)&&Ae(Ee)==="[object RegExp]"}function ie(Ee){return typeof Ee=="object"&&Ee!==null}function _e(Ee){return ie(Ee)&&Ae(Ee)==="[object Date]"}function ce(Ee){return ie(Ee)&&(Ae(Ee)==="[object Error]"||Ee instanceof Error)}function le(Ee){return typeof Ee=="function"}function de(Ee){return Ee===null||typeof Ee=="boolean"||typeof Ee=="number"||typeof Ee=="string"||typeof Ee=="symbol"||Ee===void 0}function Ae(Ee){return Object.prototype.toString.call(Ee)}function ve(Ee){return Ee<10?"0"+Ee.toString(10):Ee.toString(10)}g.debuglog=function(Ee){if(Ee=Ee.toUpperCase(),!q[Ee])if(it.test(Ee)){var Se=w.pid;q[Ee]=function(){var Ne=g.format.apply(g,arguments);console.error("%s %d: %s",Ee,Se,Ne)}}else q[Ee]=function(){};return q[Ee]},g.inspect=ft,ft.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ft.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},g.types=d("./support/types"),g.isArray=Ft,g.isBoolean=Dt,g.isNull=Kt,g.isNullOrUndefined=re,g.isNumber=Yt,g.isString=ne,g.isSymbol=ee,g.isUndefined=ae,g.isRegExp=Ut,g.types.isRegExp=Ut,g.isObject=ie,g.isDate=_e,g.types.isDate=_e,g.isError=ce,g.types.isNativeError=ce,g.isFunction=le,g.isPrimitive=de,g.isBuffer=d("./support/isBuffer");var ye=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Me(){var Ee=new Date,Se=[ve(Ee.getHours()),ve(Ee.getMinutes()),ve(Ee.getSeconds())].join(":");return[Ee.getDate(),ye[Ee.getMonth()],Se].join(" ")}function ue(Ee,Se){return Object.prototype.hasOwnProperty.call(Ee,Se)}g.log=function(){console.log("%s - %s",Me(),g.format.apply(g,arguments))},g.inherits=d("inherits"),g._extend=function(Ee,Se){if(!Se||!ie(Se))return Ee;for(var Ne=Object.keys(Se),Fe=Ne.length;Fe--;)Ee[Ne[Fe]]=Se[Ne[Fe]];return Ee};var xe=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function Be(Ee,Se){if(!Ee){var Ne=new Error("Promise was rejected with a falsy value");Ne.reason=Ee,Ee=Ne}return Se(Ee)}function Ce(Ee){if(typeof Ee!="function")throw new TypeError('The "original" argument must be of type Function');function Se(){for(var Ne=[],Fe=0;Fe<arguments.length;Fe++)Ne.push(arguments[Fe]);var Oe=Ne.pop();if(typeof Oe!="function")throw new TypeError("The last argument must be of type Function");var Pe=this,Jt=function(){return Oe.apply(Pe,arguments)};Ee.apply(this,Ne).then(function(Te){w.nextTick(Jt.bind(null,null,Te))},function(Te){w.nextTick(Be.bind(null,Te,Jt))})}return Object.setPrototypeOf(Se,Object.getPrototypeOf(Ee)),Object.defineProperties(Se,D(Ee)),Se}g.promisify=function(Ee){if(typeof Ee!="function")throw new TypeError('The "original" argument must be of type Function');if(xe&&Ee[xe]){var Se;if(typeof(Se=Ee[xe])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Se,xe,{value:Se,enumerable:!1,writable:!1,configurable:!0}),Se}function Se(){for(var Ne,Fe,Oe=new Promise(function(Te,he){Ne=Te,Fe=he}),Pe=[],Jt=0;Jt<arguments.length;Jt++)Pe.push(arguments[Jt]);Pe.push(function(Te,he){Te?Fe(Te):Ne(he)});try{Ee.apply(this,Pe)}catch(Te){Fe(Te)}return Oe}return Object.setPrototypeOf(Se,Object.getPrototypeOf(Ee)),xe&&Object.defineProperty(Se,xe,{value:Se,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Se,D(Ee))},g.promisify.custom=xe,g.callbackify=Ce}).call(this)}).call(this,d("_process"))},{"./support/isBuffer":82,"./support/types":83,_process:63,inherits:46}],85:[function(d,m,g){(function(w){(function(){var D=d("for-each"),H=d("available-typed-arrays"),q=d("call-bind/callBound"),it=d("gopd"),ot=q("Object.prototype.toString"),ft=d("has-tostringtag/shams")(),ut=typeof globalThis>"u"?w:globalThis,dt=H(),St=q("String.prototype.slice"),Tt={},Rt=Object.getPrototypeOf;ft&&it&&Rt&&D(dt,function(jt){if(typeof ut[jt]=="function"){var Zt=new ut[jt];if(Symbol.toStringTag in Zt){var Ft=Rt(Zt),Dt=it(Ft,Symbol.toStringTag);if(!Dt){var Kt=Rt(Ft);Dt=it(Kt,Symbol.toStringTag)}Tt[jt]=Dt.get}}});var zt=function(jt){var Zt=!1;return D(Tt,function(Ft,Dt){if(!Zt)try{var Kt=Ft.call(jt);Kt===Dt&&(Zt=Kt)}catch{}}),Zt},$t=d("is-typed-array");m.exports=function(jt){return!!$t(jt)&&(ft&&Symbol.toStringTag in jt?zt(jt):St(ot(jt),8,-1))}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43,"is-typed-array":50}]},{},[20])(20);var browserExports=browser$1.exports,PNGFilterType,PNGFilterType2,PNGColorType,PNGColorType2;function png(){return{mime:"image/png",hasAlpha:!0,encode:(d,{deflateLevel:m=9,deflateStrategy:g=3,filterType:w=PNGFilterType.AUTO,colorType:D,inputHasAlpha:H=!0,...q}={})=>{const it=new browserExports.PNG({width:d.width,height:d.height});return it.data=d.data,browserExports.PNG.sync.write(it,{...q,deflateLevel:m,deflateStrategy:g,filterType:w,colorType:D!==void 0?D:H?PNGColorType.COLOR_ALPHA:PNGColorType.COLOR,inputHasAlpha:H})},decode:(d,m)=>{const g=browserExports.PNG.sync.read(d,m);return{data:g.data,width:g.width,height:g.height}}}}PNGFilterType2=PNGFilterType||(PNGFilterType={}),PNGFilterType2[PNGFilterType2.AUTO=-1]="AUTO",PNGFilterType2[PNGFilterType2.NONE=0]="NONE",PNGFilterType2[PNGFilterType2.SUB=1]="SUB",PNGFilterType2[PNGFilterType2.UP=2]="UP",PNGFilterType2[PNGFilterType2.AVERAGE=3]="AVERAGE",PNGFilterType2[PNGFilterType2.PATH=4]="PATH",PNGColorType2=PNGColorType||(PNGColorType={}),PNGColorType2[PNGColorType2.GRAYSCALE=0]="GRAYSCALE",PNGColorType2[PNGColorType2.COLOR=2]="COLOR",PNGColorType2[PNGColorType2.GRAYSCALE_ALPHA=4]="GRAYSCALE_ALPHA",PNGColorType2[PNGColorType2.COLOR_ALPHA=6]="COLOR_ALPHA";var UTIF={exports:{}},common={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,function(d){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function g(H,q){return Object.prototype.hasOwnProperty.call(H,q)}d.assign=function(H){for(var q=Array.prototype.slice.call(arguments,1);q.length;){var it=q.shift();if(it){if(typeof it!="object")throw new TypeError(it+"must be non-object");for(var ot in it)g(it,ot)&&(H[ot]=it[ot])}}return H},d.shrinkBuf=function(H,q){return H.length===q?H:H.subarray?H.subarray(0,q):(H.length=q,H)};var w={arraySet:function(H,q,it,ot,ft){if(q.subarray&&H.subarray)H.set(q.subarray(it,it+ot),ft);else for(var ut=0;ut<ot;ut++)H[ft+ut]=q[it+ut]},flattenChunks:function(H){var q,it,ot,ft,ut,dt;for(ot=0,q=0,it=H.length;q<it;q++)ot+=H[q].length;for(dt=new Uint8Array(ot),ft=0,q=0,it=H.length;q<it;q++)ut=H[q],dt.set(ut,ft),ft+=ut.length;return dt}},D={arraySet:function(H,q,it,ot,ft){for(var ut=0;ut<ot;ut++)H[ft+ut]=q[it+ut]},flattenChunks:function(H){return[].concat.apply([],H)}};d.setTyped=function(H){H?(d.Buf8=Uint8Array,d.Buf16=Uint16Array,d.Buf32=Int32Array,d.assign(d,w)):(d.Buf8=Array,d.Buf16=Array,d.Buf32=Array,d.assign(d,D))},d.setTyped(m)}(common)),common}var deflate$1={},deflate={},trees={},hasRequiredTrees,adler32_1,hasRequiredAdler32,crc32_1,hasRequiredCrc32,messages,hasRequiredMessages,hasRequiredDeflate$1;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;var d=requireCommon(),m=0,g=1;function w(he){for(var me=he.length;--me>=0;)he[me]=0}var D=0,H=29,q=256,it=q+1+H,ot=30,ft=19,ut=2*it+1,dt=15,St=16,Tt=7,Rt=256,zt=16,$t=17,jt=18,Zt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ft=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Dt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Kt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=new Array(2*(it+2));w(re);var Yt=new Array(2*ot);w(Yt);var ne=new Array(512);w(ne);var ee=new Array(256);w(ee);var ae=new Array(H);w(ae);var Ut,ie,_e,ce=new Array(ot);function le(he,me,pe,we,Re){this.static_tree=he,this.extra_bits=me,this.extra_base=pe,this.elems=we,this.max_length=Re,this.has_stree=he&&he.length}function de(he,me){this.dyn_tree=he,this.max_code=0,this.stat_desc=me}function Ae(he){return he<256?ne[he]:ne[256+(he>>>7)]}function ve(he,me){he.pending_buf[he.pending++]=255&me,he.pending_buf[he.pending++]=me>>>8&255}function ye(he,me,pe){he.bi_valid>St-pe?(he.bi_buf|=me<<he.bi_valid&65535,ve(he,he.bi_buf),he.bi_buf=me>>St-he.bi_valid,he.bi_valid+=pe-St):(he.bi_buf|=me<<he.bi_valid&65535,he.bi_valid+=pe)}function Me(he,me,pe){ye(he,pe[2*me],pe[2*me+1])}function ue(he,me){var pe=0;do pe|=1&he,he>>>=1,pe<<=1;while(--me>0);return pe>>>1}function xe(he,me,pe){var we,Re,Ht=new Array(dt+1),oe=0;for(we=1;we<=dt;we++)Ht[we]=oe=oe+pe[we-1]<<1;for(Re=0;Re<=me;Re++){var ge=he[2*Re+1];ge!==0&&(he[2*Re]=ue(Ht[ge]++,ge))}}function Be(he){var me;for(me=0;me<it;me++)he.dyn_ltree[2*me]=0;for(me=0;me<ot;me++)he.dyn_dtree[2*me]=0;for(me=0;me<ft;me++)he.bl_tree[2*me]=0;he.dyn_ltree[2*Rt]=1,he.opt_len=he.static_len=0,he.last_lit=he.matches=0}function Ce(he){he.bi_valid>8?ve(he,he.bi_buf):he.bi_valid>0&&(he.pending_buf[he.pending++]=he.bi_buf),he.bi_buf=0,he.bi_valid=0}function Ee(he,me,pe,we){var Re=2*me,Ht=2*pe;return he[Re]<he[Ht]||he[Re]===he[Ht]&&we[me]<=we[pe]}function Se(he,me,pe){for(var we=he.heap[pe],Re=pe<<1;Re<=he.heap_len&&(Re<he.heap_len&&Ee(me,he.heap[Re+1],he.heap[Re],he.depth)&&Re++,!Ee(me,we,he.heap[Re],he.depth));)he.heap[pe]=he.heap[Re],pe=Re,Re<<=1;he.heap[pe]=we}function Ne(he,me,pe){var we,Re,Ht,oe,ge=0;if(he.last_lit!==0)do we=he.pending_buf[he.d_buf+2*ge]<<8|he.pending_buf[he.d_buf+2*ge+1],Re=he.pending_buf[he.l_buf+ge],ge++,we===0?Me(he,Re,me):(Me(he,(Ht=ee[Re])+q+1,me),(oe=Zt[Ht])!==0&&ye(he,Re-=ae[Ht],oe),Me(he,Ht=Ae(--we),pe),(oe=Ft[Ht])!==0&&ye(he,we-=ce[Ht],oe));while(ge<he.last_lit);Me(he,Rt,me)}function Fe(he,me){var pe,we,Re,Ht=me.dyn_tree,oe=me.stat_desc.static_tree,ge=me.stat_desc.has_stree,be=me.stat_desc.elems,De=-1;for(he.heap_len=0,he.heap_max=ut,pe=0;pe<be;pe++)Ht[2*pe]!==0?(he.heap[++he.heap_len]=De=pe,he.depth[pe]=0):Ht[2*pe+1]=0;for(;he.heap_len<2;)Ht[2*(Re=he.heap[++he.heap_len]=De<2?++De:0)]=1,he.depth[Re]=0,he.opt_len--,ge&&(he.static_len-=oe[2*Re+1]);for(me.max_code=De,pe=he.heap_len>>1;pe>=1;pe--)Se(he,Ht,pe);Re=be;do pe=he.heap[1],he.heap[1]=he.heap[he.heap_len--],Se(he,Ht,1),we=he.heap[1],he.heap[--he.heap_max]=pe,he.heap[--he.heap_max]=we,Ht[2*Re]=Ht[2*pe]+Ht[2*we],he.depth[Re]=(he.depth[pe]>=he.depth[we]?he.depth[pe]:he.depth[we])+1,Ht[2*pe+1]=Ht[2*we+1]=Re,he.heap[1]=Re++,Se(he,Ht,1);while(he.heap_len>=2);he.heap[--he.heap_max]=he.heap[1],function(je,er){var ir,Xe,ar,rr,gr,dr,hr=er.dyn_tree,kr=er.max_code,cr=er.stat_desc.static_tree,ze=er.stat_desc.has_stree,nr=er.stat_desc.extra_bits,Le=er.stat_desc.extra_base,Qe=er.stat_desc.max_length,ke=0;for(rr=0;rr<=dt;rr++)je.bl_count[rr]=0;for(hr[2*je.heap[je.heap_max]+1]=0,ir=je.heap_max+1;ir<ut;ir++)(rr=hr[2*hr[2*(Xe=je.heap[ir])+1]+1]+1)>Qe&&(rr=Qe,ke++),hr[2*Xe+1]=rr,Xe>kr||(je.bl_count[rr]++,gr=0,Xe>=Le&&(gr=nr[Xe-Le]),dr=hr[2*Xe],je.opt_len+=dr*(rr+gr),ze&&(je.static_len+=dr*(cr[2*Xe+1]+gr)));if(ke!==0){do{for(rr=Qe-1;je.bl_count[rr]===0;)rr--;je.bl_count[rr]--,je.bl_count[rr+1]+=2,je.bl_count[Qe]--,ke-=2}while(ke>0);for(rr=Qe;rr!==0;rr--)for(Xe=je.bl_count[rr];Xe!==0;)(ar=je.heap[--ir])>kr||(hr[2*ar+1]!==rr&&(je.opt_len+=(rr-hr[2*ar+1])*hr[2*ar],hr[2*ar+1]=rr),Xe--)}}(he,me),xe(Ht,De,he.bl_count)}function Oe(he,me,pe){var we,Re,Ht=-1,oe=me[1],ge=0,be=7,De=4;for(oe===0&&(be=138,De=3),me[2*(pe+1)+1]=65535,we=0;we<=pe;we++)Re=oe,oe=me[2*(we+1)+1],++ge<be&&Re===oe||(ge<De?he.bl_tree[2*Re]+=ge:Re!==0?(Re!==Ht&&he.bl_tree[2*Re]++,he.bl_tree[2*zt]++):ge<=10?he.bl_tree[2*$t]++:he.bl_tree[2*jt]++,ge=0,Ht=Re,oe===0?(be=138,De=3):Re===oe?(be=6,De=3):(be=7,De=4))}function Pe(he,me,pe){var we,Re,Ht=-1,oe=me[1],ge=0,be=7,De=4;for(oe===0&&(be=138,De=3),we=0;we<=pe;we++)if(Re=oe,oe=me[2*(we+1)+1],!(++ge<be&&Re===oe)){if(ge<De)do Me(he,Re,he.bl_tree);while(--ge!=0);else Re!==0?(Re!==Ht&&(Me(he,Re,he.bl_tree),ge--),Me(he,zt,he.bl_tree),ye(he,ge-3,2)):ge<=10?(Me(he,$t,he.bl_tree),ye(he,ge-3,3)):(Me(he,jt,he.bl_tree),ye(he,ge-11,7));ge=0,Ht=Re,oe===0?(be=138,De=3):Re===oe?(be=6,De=3):(be=7,De=4)}}w(ce);var Jt=!1;function Te(he,me,pe,we){ye(he,(D<<1)+(we?1:0),3),function(Re,Ht,oe,ge){Ce(Re),ve(Re,oe),ve(Re,~oe),d.arraySet(Re.pending_buf,Re.window,Ht,oe,Re.pending),Re.pending+=oe}(he,me,pe)}return trees._tr_init=function(he){Jt||(function(){var me,pe,we,Re,Ht,oe=new Array(dt+1);for(we=0,Re=0;Re<H-1;Re++)for(ae[Re]=we,me=0;me<1<<Zt[Re];me++)ee[we++]=Re;for(ee[we-1]=Re,Ht=0,Re=0;Re<16;Re++)for(ce[Re]=Ht,me=0;me<1<<Ft[Re];me++)ne[Ht++]=Re;for(Ht>>=7;Re<ot;Re++)for(ce[Re]=Ht<<7,me=0;me<1<<Ft[Re]-7;me++)ne[256+Ht++]=Re;for(pe=0;pe<=dt;pe++)oe[pe]=0;for(me=0;me<=143;)re[2*me+1]=8,me++,oe[8]++;for(;me<=255;)re[2*me+1]=9,me++,oe[9]++;for(;me<=279;)re[2*me+1]=7,me++,oe[7]++;for(;me<=287;)re[2*me+1]=8,me++,oe[8]++;for(xe(re,it+1,oe),me=0;me<ot;me++)Yt[2*me+1]=5,Yt[2*me]=ue(me,5);Ut=new le(re,Zt,q+1,it,dt),ie=new le(Yt,Ft,0,ot,dt),_e=new le(new Array(0),Dt,0,ft,Tt)}(),Jt=!0),he.l_desc=new de(he.dyn_ltree,Ut),he.d_desc=new de(he.dyn_dtree,ie),he.bl_desc=new de(he.bl_tree,_e),he.bi_buf=0,he.bi_valid=0,Be(he)},trees._tr_stored_block=Te,trees._tr_flush_block=function(he,me,pe,we){var Re,Ht,oe=0;he.level>0?(he.strm.data_type===2&&(he.strm.data_type=function(ge){var be,De=4093624447;for(be=0;be<=31;be++,De>>>=1)if(1&De&&ge.dyn_ltree[2*be]!==0)return m;if(ge.dyn_ltree[18]!==0||ge.dyn_ltree[20]!==0||ge.dyn_ltree[26]!==0)return g;for(be=32;be<q;be++)if(ge.dyn_ltree[2*be]!==0)return g;return m}(he)),Fe(he,he.l_desc),Fe(he,he.d_desc),oe=function(ge){var be;for(Oe(ge,ge.dyn_ltree,ge.l_desc.max_code),Oe(ge,ge.dyn_dtree,ge.d_desc.max_code),Fe(ge,ge.bl_desc),be=ft-1;be>=3&&ge.bl_tree[2*Kt[be]+1]===0;be--);return ge.opt_len+=3*(be+1)+5+5+4,be}(he),Re=he.opt_len+3+7>>>3,(Ht=he.static_len+3+7>>>3)<=Re&&(Re=Ht)):Re=Ht=pe+5,pe+4<=Re&&me!==-1?Te(he,me,pe,we):he.strategy===4||Ht===Re?(ye(he,2+(we?1:0),3),Ne(he,re,Yt)):(ye(he,4+(we?1:0),3),function(ge,be,De,je){var er;for(ye(ge,be-257,5),ye(ge,De-1,5),ye(ge,je-4,4),er=0;er<je;er++)ye(ge,ge.bl_tree[2*Kt[er]+1],3);Pe(ge,ge.dyn_ltree,be-1),Pe(ge,ge.dyn_dtree,De-1)}(he,he.l_desc.max_code+1,he.d_desc.max_code+1,oe+1),Ne(he,he.dyn_ltree,he.dyn_dtree)),Be(he),we&&Ce(he)},trees._tr_tally=function(he,me,pe){return he.pending_buf[he.d_buf+2*he.last_lit]=me>>>8&255,he.pending_buf[he.d_buf+2*he.last_lit+1]=255&me,he.pending_buf[he.l_buf+he.last_lit]=255&pe,he.last_lit++,me===0?he.dyn_ltree[2*pe]++:(he.matches++,me--,he.dyn_ltree[2*(ee[pe]+q+1)]++,he.dyn_dtree[2*Ae(me)]++),he.last_lit===he.lit_bufsize-1},trees._tr_align=function(he){ye(he,2,3),Me(he,Rt,re),function(me){me.bi_valid===16?(ve(me,me.bi_buf),me.bi_buf=0,me.bi_valid=0):me.bi_valid>=8&&(me.pending_buf[me.pending++]=255&me.bi_buf,me.bi_buf>>=8,me.bi_valid-=8)}(he)},trees}function requireAdler32(){return hasRequiredAdler32||(hasRequiredAdler32=1,adler32_1=function(d,m,g,w){for(var D=65535&d,H=d>>>16&65535,q=0;g!==0;){g-=q=g>2e3?2e3:g;do H=H+(D=D+m[w++]|0)|0;while(--q);D%=65521,H%=65521}return D|H<<16}),adler32_1}function requireCrc32(){if(hasRequiredCrc32)return crc32_1;hasRequiredCrc32=1;var d=function(){for(var m,g=[],w=0;w<256;w++){m=w;for(var D=0;D<8;D++)m=1&m?3988292384^m>>>1:m>>>1;g[w]=m}return g}();return crc32_1=function(m,g,w,D){var H=d,q=D+w;m^=-1;for(var it=D;it<q;it++)m=m>>>8^H[255&(m^g[it])];return~m},crc32_1}function requireMessages(){return hasRequiredMessages?messages:(hasRequiredMessages=1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"})}function requireDeflate$1(){if(hasRequiredDeflate$1)return deflate;hasRequiredDeflate$1=1;var d,m=requireCommon(),g=requireTrees(),w=requireAdler32(),D=requireCrc32(),H=requireMessages(),q=0,it=4,ot=0,ft=-2,ut=-1,dt=4,St=2,Tt=8,Rt=9,zt=286,$t=30,jt=19,Zt=2*zt+1,Ft=15,Dt=3,Kt=258,re=Kt+Dt+1,Yt=42,ne=103,ee=113,ae=666,Ut=1,ie=2,_e=3,ce=4;function le(Jt,Te){return Jt.msg=H[Te],Te}function de(Jt){return(Jt<<1)-(Jt>4?9:0)}function Ae(Jt){for(var Te=Jt.length;--Te>=0;)Jt[Te]=0}function ve(Jt){var Te=Jt.state,he=Te.pending;he>Jt.avail_out&&(he=Jt.avail_out),he!==0&&(m.arraySet(Jt.output,Te.pending_buf,Te.pending_out,he,Jt.next_out),Jt.next_out+=he,Te.pending_out+=he,Jt.total_out+=he,Jt.avail_out-=he,Te.pending-=he,Te.pending===0&&(Te.pending_out=0))}function ye(Jt,Te){g._tr_flush_block(Jt,Jt.block_start>=0?Jt.block_start:-1,Jt.strstart-Jt.block_start,Te),Jt.block_start=Jt.strstart,ve(Jt.strm)}function Me(Jt,Te){Jt.pending_buf[Jt.pending++]=Te}function ue(Jt,Te){Jt.pending_buf[Jt.pending++]=Te>>>8&255,Jt.pending_buf[Jt.pending++]=255&Te}function xe(Jt,Te){var he,me,pe=Jt.max_chain_length,we=Jt.strstart,Re=Jt.prev_length,Ht=Jt.nice_match,oe=Jt.strstart>Jt.w_size-re?Jt.strstart-(Jt.w_size-re):0,ge=Jt.window,be=Jt.w_mask,De=Jt.prev,je=Jt.strstart+Kt,er=ge[we+Re-1],ir=ge[we+Re];Jt.prev_length>=Jt.good_match&&(pe>>=2),Ht>Jt.lookahead&&(Ht=Jt.lookahead);do if(ge[(he=Te)+Re]===ir&&ge[he+Re-1]===er&&ge[he]===ge[we]&&ge[++he]===ge[we+1]){we+=2,he++;do;while(ge[++we]===ge[++he]&&ge[++we]===ge[++he]&&ge[++we]===ge[++he]&&ge[++we]===ge[++he]&&ge[++we]===ge[++he]&&ge[++we]===ge[++he]&&ge[++we]===ge[++he]&&ge[++we]===ge[++he]&&we<je);if(me=Kt-(je-we),we=je-Kt,me>Re){if(Jt.match_start=Te,Re=me,me>=Ht)break;er=ge[we+Re-1],ir=ge[we+Re]}}while((Te=De[Te&be])>oe&&--pe!=0);return Re<=Jt.lookahead?Re:Jt.lookahead}function Be(Jt){var Te,he,me,pe,we,Re,Ht,oe,ge,be,De=Jt.w_size;do{if(pe=Jt.window_size-Jt.lookahead-Jt.strstart,Jt.strstart>=De+(De-re)){m.arraySet(Jt.window,Jt.window,De,De,0),Jt.match_start-=De,Jt.strstart-=De,Jt.block_start-=De,Te=he=Jt.hash_size;do me=Jt.head[--Te],Jt.head[Te]=me>=De?me-De:0;while(--he);Te=he=De;do me=Jt.prev[--Te],Jt.prev[Te]=me>=De?me-De:0;while(--he);pe+=De}if(Jt.strm.avail_in===0)break;if(Re=Jt.strm,Ht=Jt.window,oe=Jt.strstart+Jt.lookahead,ge=pe,be=void 0,(be=Re.avail_in)>ge&&(be=ge),he=be===0?0:(Re.avail_in-=be,m.arraySet(Ht,Re.input,Re.next_in,be,oe),Re.state.wrap===1?Re.adler=w(Re.adler,Ht,be,oe):Re.state.wrap===2&&(Re.adler=D(Re.adler,Ht,be,oe)),Re.next_in+=be,Re.total_in+=be,be),Jt.lookahead+=he,Jt.lookahead+Jt.insert>=Dt)for(we=Jt.strstart-Jt.insert,Jt.ins_h=Jt.window[we],Jt.ins_h=(Jt.ins_h<<Jt.hash_shift^Jt.window[we+1])&Jt.hash_mask;Jt.insert&&(Jt.ins_h=(Jt.ins_h<<Jt.hash_shift^Jt.window[we+Dt-1])&Jt.hash_mask,Jt.prev[we&Jt.w_mask]=Jt.head[Jt.ins_h],Jt.head[Jt.ins_h]=we,we++,Jt.insert--,!(Jt.lookahead+Jt.insert<Dt)););}while(Jt.lookahead<re&&Jt.strm.avail_in!==0)}function Ce(Jt,Te){for(var he,me;;){if(Jt.lookahead<re){if(Be(Jt),Jt.lookahead<re&&Te===q)return Ut;if(Jt.lookahead===0)break}if(he=0,Jt.lookahead>=Dt&&(Jt.ins_h=(Jt.ins_h<<Jt.hash_shift^Jt.window[Jt.strstart+Dt-1])&Jt.hash_mask,he=Jt.prev[Jt.strstart&Jt.w_mask]=Jt.head[Jt.ins_h],Jt.head[Jt.ins_h]=Jt.strstart),he!==0&&Jt.strstart-he<=Jt.w_size-re&&(Jt.match_length=xe(Jt,he)),Jt.match_length>=Dt)if(me=g._tr_tally(Jt,Jt.strstart-Jt.match_start,Jt.match_length-Dt),Jt.lookahead-=Jt.match_length,Jt.match_length<=Jt.max_lazy_match&&Jt.lookahead>=Dt){Jt.match_length--;do Jt.strstart++,Jt.ins_h=(Jt.ins_h<<Jt.hash_shift^Jt.window[Jt.strstart+Dt-1])&Jt.hash_mask,he=Jt.prev[Jt.strstart&Jt.w_mask]=Jt.head[Jt.ins_h],Jt.head[Jt.ins_h]=Jt.strstart;while(--Jt.match_length!=0);Jt.strstart++}else Jt.strstart+=Jt.match_length,Jt.match_length=0,Jt.ins_h=Jt.window[Jt.strstart],Jt.ins_h=(Jt.ins_h<<Jt.hash_shift^Jt.window[Jt.strstart+1])&Jt.hash_mask;else me=g._tr_tally(Jt,0,Jt.window[Jt.strstart]),Jt.lookahead--,Jt.strstart++;if(me&&(ye(Jt,!1),Jt.strm.avail_out===0))return Ut}return Jt.insert=Jt.strstart<Dt-1?Jt.strstart:Dt-1,Te===it?(ye(Jt,!0),Jt.strm.avail_out===0?_e:ce):Jt.last_lit&&(ye(Jt,!1),Jt.strm.avail_out===0)?Ut:ie}function Ee(Jt,Te){for(var he,me,pe;;){if(Jt.lookahead<re){if(Be(Jt),Jt.lookahead<re&&Te===q)return Ut;if(Jt.lookahead===0)break}if(he=0,Jt.lookahead>=Dt&&(Jt.ins_h=(Jt.ins_h<<Jt.hash_shift^Jt.window[Jt.strstart+Dt-1])&Jt.hash_mask,he=Jt.prev[Jt.strstart&Jt.w_mask]=Jt.head[Jt.ins_h],Jt.head[Jt.ins_h]=Jt.strstart),Jt.prev_length=Jt.match_length,Jt.prev_match=Jt.match_start,Jt.match_length=Dt-1,he!==0&&Jt.prev_length<Jt.max_lazy_match&&Jt.strstart-he<=Jt.w_size-re&&(Jt.match_length=xe(Jt,he),Jt.match_length<=5&&(Jt.strategy===1||Jt.match_length===Dt&&Jt.strstart-Jt.match_start>4096)&&(Jt.match_length=Dt-1)),Jt.prev_length>=Dt&&Jt.match_length<=Jt.prev_length){pe=Jt.strstart+Jt.lookahead-Dt,me=g._tr_tally(Jt,Jt.strstart-1-Jt.prev_match,Jt.prev_length-Dt),Jt.lookahead-=Jt.prev_length-1,Jt.prev_length-=2;do++Jt.strstart<=pe&&(Jt.ins_h=(Jt.ins_h<<Jt.hash_shift^Jt.window[Jt.strstart+Dt-1])&Jt.hash_mask,he=Jt.prev[Jt.strstart&Jt.w_mask]=Jt.head[Jt.ins_h],Jt.head[Jt.ins_h]=Jt.strstart);while(--Jt.prev_length!=0);if(Jt.match_available=0,Jt.match_length=Dt-1,Jt.strstart++,me&&(ye(Jt,!1),Jt.strm.avail_out===0))return Ut}else if(Jt.match_available){if((me=g._tr_tally(Jt,0,Jt.window[Jt.strstart-1]))&&ye(Jt,!1),Jt.strstart++,Jt.lookahead--,Jt.strm.avail_out===0)return Ut}else Jt.match_available=1,Jt.strstart++,Jt.lookahead--}return Jt.match_available&&(me=g._tr_tally(Jt,0,Jt.window[Jt.strstart-1]),Jt.match_available=0),Jt.insert=Jt.strstart<Dt-1?Jt.strstart:Dt-1,Te===it?(ye(Jt,!0),Jt.strm.avail_out===0?_e:ce):Jt.last_lit&&(ye(Jt,!1),Jt.strm.avail_out===0)?Ut:ie}function Se(Jt,Te,he,me,pe){this.good_length=Jt,this.max_lazy=Te,this.nice_length=he,this.max_chain=me,this.func=pe}function Ne(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Tt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(2*Zt),this.dyn_dtree=new m.Buf16(2*(2*$t+1)),this.bl_tree=new m.Buf16(2*(2*jt+1)),Ae(this.dyn_ltree),Ae(this.dyn_dtree),Ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(Ft+1),this.heap=new m.Buf16(2*zt+1),Ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(2*zt+1),Ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Fe(Jt){var Te;return Jt&&Jt.state?(Jt.total_in=Jt.total_out=0,Jt.data_type=St,(Te=Jt.state).pending=0,Te.pending_out=0,Te.wrap<0&&(Te.wrap=-Te.wrap),Te.status=Te.wrap?Yt:ee,Jt.adler=Te.wrap===2?0:1,Te.last_flush=q,g._tr_init(Te),ot):le(Jt,ft)}function Oe(Jt){var Te=Fe(Jt);return Te===ot&&function(he){he.window_size=2*he.w_size,Ae(he.head),he.max_lazy_match=d[he.level].max_lazy,he.good_match=d[he.level].good_length,he.nice_match=d[he.level].nice_length,he.max_chain_length=d[he.level].max_chain,he.strstart=0,he.block_start=0,he.lookahead=0,he.insert=0,he.match_length=he.prev_length=Dt-1,he.match_available=0,he.ins_h=0}(Jt.state),Te}function Pe(Jt,Te,he,me,pe,we){if(!Jt)return ft;var Re=1;if(Te===ut&&(Te=6),me<0?(Re=0,me=-me):me>15&&(Re=2,me-=16),pe<1||pe>Rt||he!==Tt||me<8||me>15||Te<0||Te>9||we<0||we>dt)return le(Jt,ft);me===8&&(me=9);var Ht=new Ne;return Jt.state=Ht,Ht.strm=Jt,Ht.wrap=Re,Ht.gzhead=null,Ht.w_bits=me,Ht.w_size=1<<Ht.w_bits,Ht.w_mask=Ht.w_size-1,Ht.hash_bits=pe+7,Ht.hash_size=1<<Ht.hash_bits,Ht.hash_mask=Ht.hash_size-1,Ht.hash_shift=~~((Ht.hash_bits+Dt-1)/Dt),Ht.window=new m.Buf8(2*Ht.w_size),Ht.head=new m.Buf16(Ht.hash_size),Ht.prev=new m.Buf16(Ht.w_size),Ht.lit_bufsize=1<<pe+6,Ht.pending_buf_size=4*Ht.lit_bufsize,Ht.pending_buf=new m.Buf8(Ht.pending_buf_size),Ht.d_buf=1*Ht.lit_bufsize,Ht.l_buf=3*Ht.lit_bufsize,Ht.level=Te,Ht.strategy=we,Ht.method=he,Oe(Jt)}return d=[new Se(0,0,0,0,function(Jt,Te){var he=65535;for(he>Jt.pending_buf_size-5&&(he=Jt.pending_buf_size-5);;){if(Jt.lookahead<=1){if(Be(Jt),Jt.lookahead===0&&Te===q)return Ut;if(Jt.lookahead===0)break}Jt.strstart+=Jt.lookahead,Jt.lookahead=0;var me=Jt.block_start+he;if((Jt.strstart===0||Jt.strstart>=me)&&(Jt.lookahead=Jt.strstart-me,Jt.strstart=me,ye(Jt,!1),Jt.strm.avail_out===0)||Jt.strstart-Jt.block_start>=Jt.w_size-re&&(ye(Jt,!1),Jt.strm.avail_out===0))return Ut}return Jt.insert=0,Te===it?(ye(Jt,!0),Jt.strm.avail_out===0?_e:ce):(Jt.strstart>Jt.block_start&&(ye(Jt,!1),Jt.strm.avail_out),Ut)}),new Se(4,4,8,4,Ce),new Se(4,5,16,8,Ce),new Se(4,6,32,32,Ce),new Se(4,4,16,16,Ee),new Se(8,16,32,32,Ee),new Se(8,16,128,128,Ee),new Se(8,32,128,256,Ee),new Se(32,128,258,1024,Ee),new Se(32,258,258,4096,Ee)],deflate.deflateInit=function(Jt,Te){return Pe(Jt,Te,Tt,15,8,0)},deflate.deflateInit2=Pe,deflate.deflateReset=Oe,deflate.deflateResetKeep=Fe,deflate.deflateSetHeader=function(Jt,Te){return Jt&&Jt.state?Jt.state.wrap!==2?ft:(Jt.state.gzhead=Te,ot):ft},deflate.deflate=function(Jt,Te){var he,me,pe,we;if(!Jt||!Jt.state||Te>5||Te<0)return Jt?le(Jt,ft):ft;if(me=Jt.state,!Jt.output||!Jt.input&&Jt.avail_in!==0||me.status===ae&&Te!==it)return le(Jt,Jt.avail_out===0?-5:ft);if(me.strm=Jt,he=me.last_flush,me.last_flush=Te,me.status===Yt)if(me.wrap===2)Jt.adler=0,Me(me,31),Me(me,139),Me(me,8),me.gzhead?(Me(me,(me.gzhead.text?1:0)+(me.gzhead.hcrc?2:0)+(me.gzhead.extra?4:0)+(me.gzhead.name?8:0)+(me.gzhead.comment?16:0)),Me(me,255&me.gzhead.time),Me(me,me.gzhead.time>>8&255),Me(me,me.gzhead.time>>16&255),Me(me,me.gzhead.time>>24&255),Me(me,me.level===9?2:me.strategy>=2||me.level<2?4:0),Me(me,255&me.gzhead.os),me.gzhead.extra&&me.gzhead.extra.length&&(Me(me,255&me.gzhead.extra.length),Me(me,me.gzhead.extra.length>>8&255)),me.gzhead.hcrc&&(Jt.adler=D(Jt.adler,me.pending_buf,me.pending,0)),me.gzindex=0,me.status=69):(Me(me,0),Me(me,0),Me(me,0),Me(me,0),Me(me,0),Me(me,me.level===9?2:me.strategy>=2||me.level<2?4:0),Me(me,3),me.status=ee);else{var Re=Tt+(me.w_bits-8<<4)<<8;Re|=(me.strategy>=2||me.level<2?0:me.level<6?1:me.level===6?2:3)<<6,me.strstart!==0&&(Re|=32),Re+=31-Re%31,me.status=ee,ue(me,Re),me.strstart!==0&&(ue(me,Jt.adler>>>16),ue(me,65535&Jt.adler)),Jt.adler=1}if(me.status===69)if(me.gzhead.extra){for(pe=me.pending;me.gzindex<(65535&me.gzhead.extra.length)&&(me.pending!==me.pending_buf_size||(me.gzhead.hcrc&&me.pending>pe&&(Jt.adler=D(Jt.adler,me.pending_buf,me.pending-pe,pe)),ve(Jt),pe=me.pending,me.pending!==me.pending_buf_size));)Me(me,255&me.gzhead.extra[me.gzindex]),me.gzindex++;me.gzhead.hcrc&&me.pending>pe&&(Jt.adler=D(Jt.adler,me.pending_buf,me.pending-pe,pe)),me.gzindex===me.gzhead.extra.length&&(me.gzindex=0,me.status=73)}else me.status=73;if(me.status===73)if(me.gzhead.name){pe=me.pending;do{if(me.pending===me.pending_buf_size&&(me.gzhead.hcrc&&me.pending>pe&&(Jt.adler=D(Jt.adler,me.pending_buf,me.pending-pe,pe)),ve(Jt),pe=me.pending,me.pending===me.pending_buf_size)){we=1;break}we=me.gzindex<me.gzhead.name.length?255&me.gzhead.name.charCodeAt(me.gzindex++):0,Me(me,we)}while(we!==0);me.gzhead.hcrc&&me.pending>pe&&(Jt.adler=D(Jt.adler,me.pending_buf,me.pending-pe,pe)),we===0&&(me.gzindex=0,me.status=91)}else me.status=91;if(me.status===91)if(me.gzhead.comment){pe=me.pending;do{if(me.pending===me.pending_buf_size&&(me.gzhead.hcrc&&me.pending>pe&&(Jt.adler=D(Jt.adler,me.pending_buf,me.pending-pe,pe)),ve(Jt),pe=me.pending,me.pending===me.pending_buf_size)){we=1;break}we=me.gzindex<me.gzhead.comment.length?255&me.gzhead.comment.charCodeAt(me.gzindex++):0,Me(me,we)}while(we!==0);me.gzhead.hcrc&&me.pending>pe&&(Jt.adler=D(Jt.adler,me.pending_buf,me.pending-pe,pe)),we===0&&(me.status=ne)}else me.status=ne;if(me.status===ne&&(me.gzhead.hcrc?(me.pending+2>me.pending_buf_size&&ve(Jt),me.pending+2<=me.pending_buf_size&&(Me(me,255&Jt.adler),Me(me,Jt.adler>>8&255),Jt.adler=0,me.status=ee)):me.status=ee),me.pending!==0){if(ve(Jt),Jt.avail_out===0)return me.last_flush=-1,ot}else if(Jt.avail_in===0&&de(Te)<=de(he)&&Te!==it)return le(Jt,-5);if(me.status===ae&&Jt.avail_in!==0)return le(Jt,-5);if(Jt.avail_in!==0||me.lookahead!==0||Te!==q&&me.status!==ae){var Ht=me.strategy===2?function(oe,ge){for(var be;;){if(oe.lookahead===0&&(Be(oe),oe.lookahead===0)){if(ge===q)return Ut;break}if(oe.match_length=0,be=g._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++,be&&(ye(oe,!1),oe.strm.avail_out===0))return Ut}return oe.insert=0,ge===it?(ye(oe,!0),oe.strm.avail_out===0?_e:ce):oe.last_lit&&(ye(oe,!1),oe.strm.avail_out===0)?Ut:ie}(me,Te):me.strategy===3?function(oe,ge){for(var be,De,je,er,ir=oe.window;;){if(oe.lookahead<=Kt){if(Be(oe),oe.lookahead<=Kt&&ge===q)return Ut;if(oe.lookahead===0)break}if(oe.match_length=0,oe.lookahead>=Dt&&oe.strstart>0&&(De=ir[je=oe.strstart-1])===ir[++je]&&De===ir[++je]&&De===ir[++je]){er=oe.strstart+Kt;do;while(De===ir[++je]&&De===ir[++je]&&De===ir[++je]&&De===ir[++je]&&De===ir[++je]&&De===ir[++je]&&De===ir[++je]&&De===ir[++je]&&je<er);oe.match_length=Kt-(er-je),oe.match_length>oe.lookahead&&(oe.match_length=oe.lookahead)}if(oe.match_length>=Dt?(be=g._tr_tally(oe,1,oe.match_length-Dt),oe.lookahead-=oe.match_length,oe.strstart+=oe.match_length,oe.match_length=0):(be=g._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++),be&&(ye(oe,!1),oe.strm.avail_out===0))return Ut}return oe.insert=0,ge===it?(ye(oe,!0),oe.strm.avail_out===0?_e:ce):oe.last_lit&&(ye(oe,!1),oe.strm.avail_out===0)?Ut:ie}(me,Te):d[me.level].func(me,Te);if(Ht!==_e&&Ht!==ce||(me.status=ae),Ht===Ut||Ht===_e)return Jt.avail_out===0&&(me.last_flush=-1),ot;if(Ht===ie&&(Te===1?g._tr_align(me):Te!==5&&(g._tr_stored_block(me,0,0,!1),Te===3&&(Ae(me.head),me.lookahead===0&&(me.strstart=0,me.block_start=0,me.insert=0))),ve(Jt),Jt.avail_out===0))return me.last_flush=-1,ot}return Te!==it?ot:me.wrap<=0?1:(me.wrap===2?(Me(me,255&Jt.adler),Me(me,Jt.adler>>8&255),Me(me,Jt.adler>>16&255),Me(me,Jt.adler>>24&255),Me(me,255&Jt.total_in),Me(me,Jt.total_in>>8&255),Me(me,Jt.total_in>>16&255),Me(me,Jt.total_in>>24&255)):(ue(me,Jt.adler>>>16),ue(me,65535&Jt.adler)),ve(Jt),me.wrap>0&&(me.wrap=-me.wrap),me.pending!==0?ot:1)},deflate.deflateEnd=function(Jt){var Te;return Jt&&Jt.state?(Te=Jt.state.status)!==Yt&&Te!==69&&Te!==73&&Te!==91&&Te!==ne&&Te!==ee&&Te!==ae?le(Jt,ft):(Jt.state=null,Te===ee?le(Jt,-3):ot):ft},deflate.deflateSetDictionary=function(Jt,Te){var he,me,pe,we,Re,Ht,oe,ge,be=Te.length;if(!Jt||!Jt.state||(we=(he=Jt.state).wrap)===2||we===1&&he.status!==Yt||he.lookahead)return ft;for(we===1&&(Jt.adler=w(Jt.adler,Te,be,0)),he.wrap=0,be>=he.w_size&&(we===0&&(Ae(he.head),he.strstart=0,he.block_start=0,he.insert=0),ge=new m.Buf8(he.w_size),m.arraySet(ge,Te,be-he.w_size,he.w_size,0),Te=ge,be=he.w_size),Re=Jt.avail_in,Ht=Jt.next_in,oe=Jt.input,Jt.avail_in=be,Jt.next_in=0,Jt.input=Te,Be(he);he.lookahead>=Dt;){me=he.strstart,pe=he.lookahead-(Dt-1);do he.ins_h=(he.ins_h<<he.hash_shift^he.window[me+Dt-1])&he.hash_mask,he.prev[me&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=me,me++;while(--pe);he.strstart=me,he.lookahead=Dt-1,Be(he)}return he.strstart+=he.lookahead,he.block_start=he.strstart,he.insert=he.lookahead,he.lookahead=0,he.match_length=he.prev_length=Dt-1,he.match_available=0,Jt.next_in=Ht,Jt.input=oe,Jt.avail_in=Re,he.wrap=we,ot},deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var strings={},hasRequiredStrings,zstream,hasRequiredZstream,hasRequiredDeflate;function requireStrings(){if(hasRequiredStrings)return strings;hasRequiredStrings=1;var d=requireCommon(),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var w=new d.Buf8(256),D=0;D<256;D++)w[D]=D>=252?6:D>=248?5:D>=240?4:D>=224?3:D>=192?2:1;function H(q,it){if(it<65534&&(q.subarray&&g||!q.subarray&&m))return String.fromCharCode.apply(null,d.shrinkBuf(q,it));for(var ot="",ft=0;ft<it;ft++)ot+=String.fromCharCode(q[ft]);return ot}return w[254]=w[254]=1,strings.string2buf=function(q){var it,ot,ft,ut,dt,St=q.length,Tt=0;for(ut=0;ut<St;ut++)(64512&(ot=q.charCodeAt(ut)))==55296&&ut+1<St&&(64512&(ft=q.charCodeAt(ut+1)))==56320&&(ot=65536+(ot-55296<<10)+(ft-56320),ut++),Tt+=ot<128?1:ot<2048?2:ot<65536?3:4;for(it=new d.Buf8(Tt),dt=0,ut=0;dt<Tt;ut++)(64512&(ot=q.charCodeAt(ut)))==55296&&ut+1<St&&(64512&(ft=q.charCodeAt(ut+1)))==56320&&(ot=65536+(ot-55296<<10)+(ft-56320),ut++),ot<128?it[dt++]=ot:ot<2048?(it[dt++]=192|ot>>>6,it[dt++]=128|63&ot):ot<65536?(it[dt++]=224|ot>>>12,it[dt++]=128|ot>>>6&63,it[dt++]=128|63&ot):(it[dt++]=240|ot>>>18,it[dt++]=128|ot>>>12&63,it[dt++]=128|ot>>>6&63,it[dt++]=128|63&ot);return it},strings.buf2binstring=function(q){return H(q,q.length)},strings.binstring2buf=function(q){for(var it=new d.Buf8(q.length),ot=0,ft=it.length;ot<ft;ot++)it[ot]=q.charCodeAt(ot);return it},strings.buf2string=function(q,it){var ot,ft,ut,dt,St=it||q.length,Tt=new Array(2*St);for(ft=0,ot=0;ot<St;)if((ut=q[ot++])<128)Tt[ft++]=ut;else if((dt=w[ut])>4)Tt[ft++]=65533,ot+=dt-1;else{for(ut&=dt===2?31:dt===3?15:7;dt>1&&ot<St;)ut=ut<<6|63&q[ot++],dt--;dt>1?Tt[ft++]=65533:ut<65536?Tt[ft++]=ut:(ut-=65536,Tt[ft++]=55296|ut>>10&1023,Tt[ft++]=56320|1023&ut)}return H(Tt,ft)},strings.utf8border=function(q,it){var ot;for((it=it||q.length)>q.length&&(it=q.length),ot=it-1;ot>=0&&(192&q[ot])==128;)ot--;return ot<0||ot===0?it:ot+w[q[ot]]>it?ot:it},strings}function requireZstream(){return hasRequiredZstream?zstream:(hasRequiredZstream=1,zstream=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0})}function requireDeflate(){if(hasRequiredDeflate)return deflate$1;hasRequiredDeflate=1;var d=requireDeflate$1(),m=requireCommon(),g=requireStrings(),w=requireMessages(),D=requireZstream(),H=Object.prototype.toString,q=0,it=-1,ot=0,ft=8;function ut(St){if(!(this instanceof ut))return new ut(St);this.options=m.assign({level:it,method:ft,chunkSize:16384,windowBits:15,memLevel:8,strategy:ot,to:""},St||{});var Tt=this.options;Tt.raw&&Tt.windowBits>0?Tt.windowBits=-Tt.windowBits:Tt.gzip&&Tt.windowBits>0&&Tt.windowBits<16&&(Tt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D,this.strm.avail_out=0;var Rt=d.deflateInit2(this.strm,Tt.level,Tt.method,Tt.windowBits,Tt.memLevel,Tt.strategy);if(Rt!==q)throw new Error(w[Rt]);if(Tt.header&&d.deflateSetHeader(this.strm,Tt.header),Tt.dictionary){var zt;if(zt=typeof Tt.dictionary=="string"?g.string2buf(Tt.dictionary):H.call(Tt.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Tt.dictionary):Tt.dictionary,(Rt=d.deflateSetDictionary(this.strm,zt))!==q)throw new Error(w[Rt]);this._dict_set=!0}}function dt(St,Tt){var Rt=new ut(Tt);if(Rt.push(St,!0),Rt.err)throw Rt.msg||w[Rt.err];return Rt.result}return ut.prototype.push=function(St,Tt){var Rt,zt,$t=this.strm,jt=this.options.chunkSize;if(this.ended)return!1;zt=Tt===~~Tt?Tt:Tt===!0?4:0,typeof St=="string"?$t.input=g.string2buf(St):H.call(St)==="[object ArrayBuffer]"?$t.input=new Uint8Array(St):$t.input=St,$t.next_in=0,$t.avail_in=$t.input.length;do{if($t.avail_out===0&&($t.output=new m.Buf8(jt),$t.next_out=0,$t.avail_out=jt),(Rt=d.deflate($t,zt))!==1&&Rt!==q)return this.onEnd(Rt),this.ended=!0,!1;$t.avail_out!==0&&($t.avail_in!==0||zt!==4&&zt!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(m.shrinkBuf($t.output,$t.next_out))):this.onData(m.shrinkBuf($t.output,$t.next_out)))}while(($t.avail_in>0||$t.avail_out===0)&&Rt!==1);return zt===4?(Rt=d.deflateEnd(this.strm),this.onEnd(Rt),this.ended=!0,Rt===q):zt!==2||(this.onEnd(q),$t.avail_out=0,!0)},ut.prototype.onData=function(St){this.chunks.push(St)},ut.prototype.onEnd=function(St){St===q&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=St,this.msg=this.strm.msg},deflate$1.Deflate=ut,deflate$1.deflate=dt,deflate$1.deflateRaw=function(St,Tt){return(Tt=Tt||{}).raw=!0,dt(St,Tt)},deflate$1.gzip=function(St,Tt){return(Tt=Tt||{}).gzip=!0,dt(St,Tt)},deflate$1}var inflate$1={},inflate={},inffast,hasRequiredInffast,inftrees,hasRequiredInftrees,hasRequiredInflate$1,constants,hasRequiredConstants,gzheader,hasRequiredGzheader,hasRequiredInflate,pako_1,hasRequiredPako;function requireInffast(){return hasRequiredInffast?inffast:(hasRequiredInffast=1,inffast=function(d,m){var g,w,D,H,q,it,ot,ft,ut,dt,St,Tt,Rt,zt,$t,jt,Zt,Ft,Dt,Kt,re,Yt,ne,ee,ae;g=d.state,w=d.next_in,ee=d.input,D=w+(d.avail_in-5),H=d.next_out,ae=d.output,q=H-(m-d.avail_out),it=H+(d.avail_out-257),ot=g.dmax,ft=g.wsize,ut=g.whave,dt=g.wnext,St=g.window,Tt=g.hold,Rt=g.bits,zt=g.lencode,$t=g.distcode,jt=(1<<g.lenbits)-1,Zt=(1<<g.distbits)-1;t:do{Rt<15&&(Tt+=ee[w++]<<Rt,Rt+=8,Tt+=ee[w++]<<Rt,Rt+=8),Ft=zt[Tt&jt];e:for(;;){if(Tt>>>=Dt=Ft>>>24,Rt-=Dt,(Dt=Ft>>>16&255)===0)ae[H++]=65535&Ft;else{if(!(16&Dt)){if(64&Dt){if(32&Dt){g.mode=12;break t}d.msg="invalid literal/length code",g.mode=30;break t}Ft=zt[(65535&Ft)+(Tt&(1<<Dt)-1)];continue e}for(Kt=65535&Ft,(Dt&=15)&&(Rt<Dt&&(Tt+=ee[w++]<<Rt,Rt+=8),Kt+=Tt&(1<<Dt)-1,Tt>>>=Dt,Rt-=Dt),Rt<15&&(Tt+=ee[w++]<<Rt,Rt+=8,Tt+=ee[w++]<<Rt,Rt+=8),Ft=$t[Tt&Zt];;){if(Tt>>>=Dt=Ft>>>24,Rt-=Dt,16&(Dt=Ft>>>16&255)){if(re=65535&Ft,Rt<(Dt&=15)&&(Tt+=ee[w++]<<Rt,(Rt+=8)<Dt&&(Tt+=ee[w++]<<Rt,Rt+=8)),(re+=Tt&(1<<Dt)-1)>ot){d.msg="invalid distance too far back",g.mode=30;break t}if(Tt>>>=Dt,Rt-=Dt,re>(Dt=H-q)){if((Dt=re-Dt)>ut&&g.sane){d.msg="invalid distance too far back",g.mode=30;break t}if(Yt=0,ne=St,dt===0){if(Yt+=ft-Dt,Dt<Kt){Kt-=Dt;do ae[H++]=St[Yt++];while(--Dt);Yt=H-re,ne=ae}}else if(dt<Dt){if(Yt+=ft+dt-Dt,(Dt-=dt)<Kt){Kt-=Dt;do ae[H++]=St[Yt++];while(--Dt);if(Yt=0,dt<Kt){Kt-=Dt=dt;do ae[H++]=St[Yt++];while(--Dt);Yt=H-re,ne=ae}}}else if(Yt+=dt-Dt,Dt<Kt){Kt-=Dt;do ae[H++]=St[Yt++];while(--Dt);Yt=H-re,ne=ae}for(;Kt>2;)ae[H++]=ne[Yt++],ae[H++]=ne[Yt++],ae[H++]=ne[Yt++],Kt-=3;Kt&&(ae[H++]=ne[Yt++],Kt>1&&(ae[H++]=ne[Yt++]))}else{Yt=H-re;do ae[H++]=ae[Yt++],ae[H++]=ae[Yt++],ae[H++]=ae[Yt++],Kt-=3;while(Kt>2);Kt&&(ae[H++]=ae[Yt++],Kt>1&&(ae[H++]=ae[Yt++]))}break}if(64&Dt){d.msg="invalid distance code",g.mode=30;break t}Ft=$t[(65535&Ft)+(Tt&(1<<Dt)-1)]}}break}}while(w<D&&H<it);w-=Kt=Rt>>3,Tt&=(1<<(Rt-=Kt<<3))-1,d.next_in=w,d.next_out=H,d.avail_in=w<D?D-w+5:5-(w-D),d.avail_out=H<it?it-H+257:257-(H-it),g.hold=Tt,g.bits=Rt},inffast)}function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;var d=requireCommon(),m=15,g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],w=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],D=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],H=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees=function(q,it,ot,ft,ut,dt,St,Tt){var Rt,zt,$t,jt,Zt,Ft,Dt,Kt,re,Yt=Tt.bits,ne=0,ee=0,ae=0,Ut=0,ie=0,_e=0,ce=0,le=0,de=0,Ae=0,ve=null,ye=0,Me=new d.Buf16(16),ue=new d.Buf16(16),xe=null,Be=0;for(ne=0;ne<=m;ne++)Me[ne]=0;for(ee=0;ee<ft;ee++)Me[it[ot+ee]]++;for(ie=Yt,Ut=m;Ut>=1&&Me[Ut]===0;Ut--);if(ie>Ut&&(ie=Ut),Ut===0)return ut[dt++]=20971520,ut[dt++]=20971520,Tt.bits=1,0;for(ae=1;ae<Ut&&Me[ae]===0;ae++);for(ie<ae&&(ie=ae),le=1,ne=1;ne<=m;ne++)if(le<<=1,(le-=Me[ne])<0)return-1;if(le>0&&(q===0||Ut!==1))return-1;for(ue[1]=0,ne=1;ne<m;ne++)ue[ne+1]=ue[ne]+Me[ne];for(ee=0;ee<ft;ee++)it[ot+ee]!==0&&(St[ue[it[ot+ee]]++]=ee);if(q===0?(ve=xe=St,Ft=19):q===1?(ve=g,ye-=257,xe=w,Be-=257,Ft=256):(ve=D,xe=H,Ft=-1),Ae=0,ee=0,ne=ae,Zt=dt,_e=ie,ce=0,$t=-1,jt=(de=1<<ie)-1,q===1&&de>852||q===2&&de>592)return 1;for(;;){Dt=ne-ce,St[ee]<Ft?(Kt=0,re=St[ee]):St[ee]>Ft?(Kt=xe[Be+St[ee]],re=ve[ye+St[ee]]):(Kt=96,re=0),Rt=1<<ne-ce,ae=zt=1<<_e;do ut[Zt+(Ae>>ce)+(zt-=Rt)]=Dt<<24|Kt<<16|re;while(zt!==0);for(Rt=1<<ne-1;Ae&Rt;)Rt>>=1;if(Rt!==0?(Ae&=Rt-1,Ae+=Rt):Ae=0,ee++,--Me[ne]==0){if(ne===Ut)break;ne=it[ot+St[ee]]}if(ne>ie&&(Ae&jt)!==$t){for(ce===0&&(ce=ie),Zt+=ae,le=1<<(_e=ne-ce);_e+ce<Ut&&!((le-=Me[_e+ce])<=0);)_e++,le<<=1;if(de+=1<<_e,q===1&&de>852||q===2&&de>592)return 1;ut[$t=Ae&jt]=ie<<24|_e<<16|Zt-dt}}return Ae!==0&&(ut[Zt+Ae]=ne-ce<<24|64<<16),Tt.bits=ie,0}}function requireInflate$1(){if(hasRequiredInflate$1)return inflate;hasRequiredInflate$1=1;var d=requireCommon(),m=requireAdler32(),g=requireCrc32(),w=requireInffast(),D=requireInftrees(),H=1,q=2,it=0,ot=-2,ft=1,ut=12,dt=30,St=852,Tt=592;function Rt(ee){return(ee>>>24&255)+(ee>>>8&65280)+((65280&ee)<<8)+((255&ee)<<24)}function zt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function $t(ee){var ae;return ee&&ee.state?(ae=ee.state,ee.total_in=ee.total_out=ae.total=0,ee.msg="",ae.wrap&&(ee.adler=1&ae.wrap),ae.mode=ft,ae.last=0,ae.havedict=0,ae.dmax=32768,ae.head=null,ae.hold=0,ae.bits=0,ae.lencode=ae.lendyn=new d.Buf32(St),ae.distcode=ae.distdyn=new d.Buf32(Tt),ae.sane=1,ae.back=-1,it):ot}function jt(ee){var ae;return ee&&ee.state?((ae=ee.state).wsize=0,ae.whave=0,ae.wnext=0,$t(ee)):ot}function Zt(ee,ae){var Ut,ie;return ee&&ee.state?(ie=ee.state,ae<0?(Ut=0,ae=-ae):(Ut=1+(ae>>4),ae<48&&(ae&=15)),ae&&(ae<8||ae>15)?ot:(ie.window!==null&&ie.wbits!==ae&&(ie.window=null),ie.wrap=Ut,ie.wbits=ae,jt(ee))):ot}function Ft(ee,ae){var Ut,ie;return ee?(ie=new zt,ee.state=ie,ie.window=null,(Ut=Zt(ee,ae))!==it&&(ee.state=null),Ut):ot}var Dt,Kt,re=!0;function Yt(ee){if(re){var ae;for(Dt=new d.Buf32(512),Kt=new d.Buf32(32),ae=0;ae<144;)ee.lens[ae++]=8;for(;ae<256;)ee.lens[ae++]=9;for(;ae<280;)ee.lens[ae++]=7;for(;ae<288;)ee.lens[ae++]=8;for(D(H,ee.lens,0,288,Dt,0,ee.work,{bits:9}),ae=0;ae<32;)ee.lens[ae++]=5;D(q,ee.lens,0,32,Kt,0,ee.work,{bits:5}),re=!1}ee.lencode=Dt,ee.lenbits=9,ee.distcode=Kt,ee.distbits=5}function ne(ee,ae,Ut,ie){var _e,ce=ee.state;return ce.window===null&&(ce.wsize=1<<ce.wbits,ce.wnext=0,ce.whave=0,ce.window=new d.Buf8(ce.wsize)),ie>=ce.wsize?(d.arraySet(ce.window,ae,Ut-ce.wsize,ce.wsize,0),ce.wnext=0,ce.whave=ce.wsize):((_e=ce.wsize-ce.wnext)>ie&&(_e=ie),d.arraySet(ce.window,ae,Ut-ie,_e,ce.wnext),(ie-=_e)?(d.arraySet(ce.window,ae,Ut-ie,ie,0),ce.wnext=ie,ce.whave=ce.wsize):(ce.wnext+=_e,ce.wnext===ce.wsize&&(ce.wnext=0),ce.whave<ce.wsize&&(ce.whave+=_e))),0}return inflate.inflateReset=jt,inflate.inflateReset2=Zt,inflate.inflateResetKeep=$t,inflate.inflateInit=function(ee){return Ft(ee,15)},inflate.inflateInit2=Ft,inflate.inflate=function(ee,ae){var Ut,ie,_e,ce,le,de,Ae,ve,ye,Me,ue,xe,Be,Ce,Ee,Se,Ne,Fe,Oe,Pe,Jt,Te,he,me,pe=0,we=new d.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ee||!ee.state||!ee.output||!ee.input&&ee.avail_in!==0)return ot;(Ut=ee.state).mode===ut&&(Ut.mode=13),le=ee.next_out,_e=ee.output,Ae=ee.avail_out,ce=ee.next_in,ie=ee.input,de=ee.avail_in,ve=Ut.hold,ye=Ut.bits,Me=de,ue=Ae,Te=it;t:for(;;)switch(Ut.mode){case ft:if(Ut.wrap===0){Ut.mode=13;break}for(;ye<16;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(2&Ut.wrap&&ve===35615){Ut.check=0,we[0]=255&ve,we[1]=ve>>>8&255,Ut.check=g(Ut.check,we,2,0),ve=0,ye=0,Ut.mode=2;break}if(Ut.flags=0,Ut.head&&(Ut.head.done=!1),!(1&Ut.wrap)||(((255&ve)<<8)+(ve>>8))%31){ee.msg="incorrect header check",Ut.mode=dt;break}if((15&ve)!=8){ee.msg="unknown compression method",Ut.mode=dt;break}if(ye-=4,Jt=8+(15&(ve>>>=4)),Ut.wbits===0)Ut.wbits=Jt;else if(Jt>Ut.wbits){ee.msg="invalid window size",Ut.mode=dt;break}Ut.dmax=1<<Jt,ee.adler=Ut.check=1,Ut.mode=512&ve?10:ut,ve=0,ye=0;break;case 2:for(;ye<16;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(Ut.flags=ve,(255&Ut.flags)!=8){ee.msg="unknown compression method",Ut.mode=dt;break}if(57344&Ut.flags){ee.msg="unknown header flags set",Ut.mode=dt;break}Ut.head&&(Ut.head.text=ve>>8&1),512&Ut.flags&&(we[0]=255&ve,we[1]=ve>>>8&255,Ut.check=g(Ut.check,we,2,0)),ve=0,ye=0,Ut.mode=3;case 3:for(;ye<32;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}Ut.head&&(Ut.head.time=ve),512&Ut.flags&&(we[0]=255&ve,we[1]=ve>>>8&255,we[2]=ve>>>16&255,we[3]=ve>>>24&255,Ut.check=g(Ut.check,we,4,0)),ve=0,ye=0,Ut.mode=4;case 4:for(;ye<16;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}Ut.head&&(Ut.head.xflags=255&ve,Ut.head.os=ve>>8),512&Ut.flags&&(we[0]=255&ve,we[1]=ve>>>8&255,Ut.check=g(Ut.check,we,2,0)),ve=0,ye=0,Ut.mode=5;case 5:if(1024&Ut.flags){for(;ye<16;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}Ut.length=ve,Ut.head&&(Ut.head.extra_len=ve),512&Ut.flags&&(we[0]=255&ve,we[1]=ve>>>8&255,Ut.check=g(Ut.check,we,2,0)),ve=0,ye=0}else Ut.head&&(Ut.head.extra=null);Ut.mode=6;case 6:if(1024&Ut.flags&&((xe=Ut.length)>de&&(xe=de),xe&&(Ut.head&&(Jt=Ut.head.extra_len-Ut.length,Ut.head.extra||(Ut.head.extra=new Array(Ut.head.extra_len)),d.arraySet(Ut.head.extra,ie,ce,xe,Jt)),512&Ut.flags&&(Ut.check=g(Ut.check,ie,xe,ce)),de-=xe,ce+=xe,Ut.length-=xe),Ut.length))break t;Ut.length=0,Ut.mode=7;case 7:if(2048&Ut.flags){if(de===0)break t;xe=0;do Jt=ie[ce+xe++],Ut.head&&Jt&&Ut.length<65536&&(Ut.head.name+=String.fromCharCode(Jt));while(Jt&&xe<de);if(512&Ut.flags&&(Ut.check=g(Ut.check,ie,xe,ce)),de-=xe,ce+=xe,Jt)break t}else Ut.head&&(Ut.head.name=null);Ut.length=0,Ut.mode=8;case 8:if(4096&Ut.flags){if(de===0)break t;xe=0;do Jt=ie[ce+xe++],Ut.head&&Jt&&Ut.length<65536&&(Ut.head.comment+=String.fromCharCode(Jt));while(Jt&&xe<de);if(512&Ut.flags&&(Ut.check=g(Ut.check,ie,xe,ce)),de-=xe,ce+=xe,Jt)break t}else Ut.head&&(Ut.head.comment=null);Ut.mode=9;case 9:if(512&Ut.flags){for(;ye<16;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(ve!==(65535&Ut.check)){ee.msg="header crc mismatch",Ut.mode=dt;break}ve=0,ye=0}Ut.head&&(Ut.head.hcrc=Ut.flags>>9&1,Ut.head.done=!0),ee.adler=Ut.check=0,Ut.mode=ut;break;case 10:for(;ye<32;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}ee.adler=Ut.check=Rt(ve),ve=0,ye=0,Ut.mode=11;case 11:if(Ut.havedict===0)return ee.next_out=le,ee.avail_out=Ae,ee.next_in=ce,ee.avail_in=de,Ut.hold=ve,Ut.bits=ye,2;ee.adler=Ut.check=1,Ut.mode=ut;case ut:if(ae===5||ae===6)break t;case 13:if(Ut.last){ve>>>=7&ye,ye-=7&ye,Ut.mode=27;break}for(;ye<3;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}switch(Ut.last=1&ve,ye-=1,3&(ve>>>=1)){case 0:Ut.mode=14;break;case 1:if(Yt(Ut),Ut.mode=20,ae===6){ve>>>=2,ye-=2;break t}break;case 2:Ut.mode=17;break;case 3:ee.msg="invalid block type",Ut.mode=dt}ve>>>=2,ye-=2;break;case 14:for(ve>>>=7&ye,ye-=7&ye;ye<32;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if((65535&ve)!=(ve>>>16^65535)){ee.msg="invalid stored block lengths",Ut.mode=dt;break}if(Ut.length=65535&ve,ve=0,ye=0,Ut.mode=15,ae===6)break t;case 15:Ut.mode=16;case 16:if(xe=Ut.length){if(xe>de&&(xe=de),xe>Ae&&(xe=Ae),xe===0)break t;d.arraySet(_e,ie,ce,xe,le),de-=xe,ce+=xe,Ae-=xe,le+=xe,Ut.length-=xe;break}Ut.mode=ut;break;case 17:for(;ye<14;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(Ut.nlen=257+(31&ve),ve>>>=5,ye-=5,Ut.ndist=1+(31&ve),ve>>>=5,ye-=5,Ut.ncode=4+(15&ve),ve>>>=4,ye-=4,Ut.nlen>286||Ut.ndist>30){ee.msg="too many length or distance symbols",Ut.mode=dt;break}Ut.have=0,Ut.mode=18;case 18:for(;Ut.have<Ut.ncode;){for(;ye<3;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}Ut.lens[Re[Ut.have++]]=7&ve,ve>>>=3,ye-=3}for(;Ut.have<19;)Ut.lens[Re[Ut.have++]]=0;if(Ut.lencode=Ut.lendyn,Ut.lenbits=7,he={bits:Ut.lenbits},Te=D(0,Ut.lens,0,19,Ut.lencode,0,Ut.work,he),Ut.lenbits=he.bits,Te){ee.msg="invalid code lengths set",Ut.mode=dt;break}Ut.have=0,Ut.mode=19;case 19:for(;Ut.have<Ut.nlen+Ut.ndist;){for(;Se=(pe=Ut.lencode[ve&(1<<Ut.lenbits)-1])>>>16&255,Ne=65535&pe,!((Ee=pe>>>24)<=ye);){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(Ne<16)ve>>>=Ee,ye-=Ee,Ut.lens[Ut.have++]=Ne;else{if(Ne===16){for(me=Ee+2;ye<me;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(ve>>>=Ee,ye-=Ee,Ut.have===0){ee.msg="invalid bit length repeat",Ut.mode=dt;break}Jt=Ut.lens[Ut.have-1],xe=3+(3&ve),ve>>>=2,ye-=2}else if(Ne===17){for(me=Ee+3;ye<me;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}ye-=Ee,Jt=0,xe=3+(7&(ve>>>=Ee)),ve>>>=3,ye-=3}else{for(me=Ee+7;ye<me;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}ye-=Ee,Jt=0,xe=11+(127&(ve>>>=Ee)),ve>>>=7,ye-=7}if(Ut.have+xe>Ut.nlen+Ut.ndist){ee.msg="invalid bit length repeat",Ut.mode=dt;break}for(;xe--;)Ut.lens[Ut.have++]=Jt}}if(Ut.mode===dt)break;if(Ut.lens[256]===0){ee.msg="invalid code -- missing end-of-block",Ut.mode=dt;break}if(Ut.lenbits=9,he={bits:Ut.lenbits},Te=D(H,Ut.lens,0,Ut.nlen,Ut.lencode,0,Ut.work,he),Ut.lenbits=he.bits,Te){ee.msg="invalid literal/lengths set",Ut.mode=dt;break}if(Ut.distbits=6,Ut.distcode=Ut.distdyn,he={bits:Ut.distbits},Te=D(q,Ut.lens,Ut.nlen,Ut.ndist,Ut.distcode,0,Ut.work,he),Ut.distbits=he.bits,Te){ee.msg="invalid distances set",Ut.mode=dt;break}if(Ut.mode=20,ae===6)break t;case 20:Ut.mode=21;case 21:if(de>=6&&Ae>=258){ee.next_out=le,ee.avail_out=Ae,ee.next_in=ce,ee.avail_in=de,Ut.hold=ve,Ut.bits=ye,w(ee,ue),le=ee.next_out,_e=ee.output,Ae=ee.avail_out,ce=ee.next_in,ie=ee.input,de=ee.avail_in,ve=Ut.hold,ye=Ut.bits,Ut.mode===ut&&(Ut.back=-1);break}for(Ut.back=0;Se=(pe=Ut.lencode[ve&(1<<Ut.lenbits)-1])>>>16&255,Ne=65535&pe,!((Ee=pe>>>24)<=ye);){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(Se&&!(240&Se)){for(Fe=Ee,Oe=Se,Pe=Ne;Se=(pe=Ut.lencode[Pe+((ve&(1<<Fe+Oe)-1)>>Fe)])>>>16&255,Ne=65535&pe,!(Fe+(Ee=pe>>>24)<=ye);){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}ve>>>=Fe,ye-=Fe,Ut.back+=Fe}if(ve>>>=Ee,ye-=Ee,Ut.back+=Ee,Ut.length=Ne,Se===0){Ut.mode=26;break}if(32&Se){Ut.back=-1,Ut.mode=ut;break}if(64&Se){ee.msg="invalid literal/length code",Ut.mode=dt;break}Ut.extra=15&Se,Ut.mode=22;case 22:if(Ut.extra){for(me=Ut.extra;ye<me;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}Ut.length+=ve&(1<<Ut.extra)-1,ve>>>=Ut.extra,ye-=Ut.extra,Ut.back+=Ut.extra}Ut.was=Ut.length,Ut.mode=23;case 23:for(;Se=(pe=Ut.distcode[ve&(1<<Ut.distbits)-1])>>>16&255,Ne=65535&pe,!((Ee=pe>>>24)<=ye);){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(!(240&Se)){for(Fe=Ee,Oe=Se,Pe=Ne;Se=(pe=Ut.distcode[Pe+((ve&(1<<Fe+Oe)-1)>>Fe)])>>>16&255,Ne=65535&pe,!(Fe+(Ee=pe>>>24)<=ye);){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}ve>>>=Fe,ye-=Fe,Ut.back+=Fe}if(ve>>>=Ee,ye-=Ee,Ut.back+=Ee,64&Se){ee.msg="invalid distance code",Ut.mode=dt;break}Ut.offset=Ne,Ut.extra=15&Se,Ut.mode=24;case 24:if(Ut.extra){for(me=Ut.extra;ye<me;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}Ut.offset+=ve&(1<<Ut.extra)-1,ve>>>=Ut.extra,ye-=Ut.extra,Ut.back+=Ut.extra}if(Ut.offset>Ut.dmax){ee.msg="invalid distance too far back",Ut.mode=dt;break}Ut.mode=25;case 25:if(Ae===0)break t;if(xe=ue-Ae,Ut.offset>xe){if((xe=Ut.offset-xe)>Ut.whave&&Ut.sane){ee.msg="invalid distance too far back",Ut.mode=dt;break}xe>Ut.wnext?(xe-=Ut.wnext,Be=Ut.wsize-xe):Be=Ut.wnext-xe,xe>Ut.length&&(xe=Ut.length),Ce=Ut.window}else Ce=_e,Be=le-Ut.offset,xe=Ut.length;xe>Ae&&(xe=Ae),Ae-=xe,Ut.length-=xe;do _e[le++]=Ce[Be++];while(--xe);Ut.length===0&&(Ut.mode=21);break;case 26:if(Ae===0)break t;_e[le++]=Ut.length,Ae--,Ut.mode=21;break;case 27:if(Ut.wrap){for(;ye<32;){if(de===0)break t;de--,ve|=ie[ce++]<<ye,ye+=8}if(ue-=Ae,ee.total_out+=ue,Ut.total+=ue,ue&&(ee.adler=Ut.check=Ut.flags?g(Ut.check,_e,ue,le-ue):m(Ut.check,_e,ue,le-ue)),ue=Ae,(Ut.flags?ve:Rt(ve))!==Ut.check){ee.msg="incorrect data check",Ut.mode=dt;break}ve=0,ye=0}Ut.mode=28;case 28:if(Ut.wrap&&Ut.flags){for(;ye<32;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(ve!==(4294967295&Ut.total)){ee.msg="incorrect length check",Ut.mode=dt;break}ve=0,ye=0}Ut.mode=29;case 29:Te=1;break t;case dt:Te=-3;break t;case 31:return-4;default:return ot}return ee.next_out=le,ee.avail_out=Ae,ee.next_in=ce,ee.avail_in=de,Ut.hold=ve,Ut.bits=ye,(Ut.wsize||ue!==ee.avail_out&&Ut.mode<dt&&(Ut.mode<27||ae!==4))&&ne(ee,ee.output,ee.next_out,ue-ee.avail_out),Me-=ee.avail_in,ue-=ee.avail_out,ee.total_in+=Me,ee.total_out+=ue,Ut.total+=ue,Ut.wrap&&ue&&(ee.adler=Ut.check=Ut.flags?g(Ut.check,_e,ue,ee.next_out-ue):m(Ut.check,_e,ue,ee.next_out-ue)),ee.data_type=Ut.bits+(Ut.last?64:0)+(Ut.mode===ut?128:0)+(Ut.mode===20||Ut.mode===15?256:0),(Me===0&&ue===0||ae===4)&&Te===it&&(Te=-5),Te},inflate.inflateEnd=function(ee){if(!ee||!ee.state)return ot;var ae=ee.state;return ae.window&&(ae.window=null),ee.state=null,it},inflate.inflateGetHeader=function(ee,ae){var Ut;return ee&&ee.state&&2&(Ut=ee.state).wrap?(Ut.head=ae,ae.done=!1,it):ot},inflate.inflateSetDictionary=function(ee,ae){var Ut,ie=ae.length;return ee&&ee.state?(Ut=ee.state).wrap!==0&&Ut.mode!==11?ot:Ut.mode===11&&m(1,ae,ie,0)!==Ut.check?-3:ne(ee,ae,ie,ie)?(Ut.mode=31,-4):(Ut.havedict=1,it):ot},inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}function requireConstants(){return hasRequiredConstants?constants:(hasRequiredConstants=1,constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8})}function requireGzheader(){return hasRequiredGzheader?gzheader:(hasRequiredGzheader=1,gzheader=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1})}function requireInflate(){if(hasRequiredInflate)return inflate$1;hasRequiredInflate=1;var d=requireInflate$1(),m=requireCommon(),g=requireStrings(),w=requireConstants(),D=requireMessages(),H=requireZstream(),q=requireGzheader(),it=Object.prototype.toString;function ot(ut){if(!(this instanceof ot))return new ot(ut);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},ut||{});var dt=this.options;dt.raw&&dt.windowBits>=0&&dt.windowBits<16&&(dt.windowBits=-dt.windowBits,dt.windowBits===0&&(dt.windowBits=-15)),!(dt.windowBits>=0&&dt.windowBits<16)||ut&&ut.windowBits||(dt.windowBits+=32),dt.windowBits>15&&dt.windowBits<48&&(15&dt.windowBits||(dt.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new H,this.strm.avail_out=0;var St=d.inflateInit2(this.strm,dt.windowBits);if(St!==w.Z_OK)throw new Error(D[St]);if(this.header=new q,d.inflateGetHeader(this.strm,this.header),dt.dictionary&&(typeof dt.dictionary=="string"?dt.dictionary=g.string2buf(dt.dictionary):it.call(dt.dictionary)==="[object ArrayBuffer]"&&(dt.dictionary=new Uint8Array(dt.dictionary)),dt.raw&&(St=d.inflateSetDictionary(this.strm,dt.dictionary))!==w.Z_OK))throw new Error(D[St])}function ft(ut,dt){var St=new ot(dt);if(St.push(ut,!0),St.err)throw St.msg||D[St.err];return St.result}return ot.prototype.push=function(ut,dt){var St,Tt,Rt,zt,$t,jt=this.strm,Zt=this.options.chunkSize,Ft=this.options.dictionary,Dt=!1;if(this.ended)return!1;Tt=dt===~~dt?dt:dt===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof ut=="string"?jt.input=g.binstring2buf(ut):it.call(ut)==="[object ArrayBuffer]"?jt.input=new Uint8Array(ut):jt.input=ut,jt.next_in=0,jt.avail_in=jt.input.length;do{if(jt.avail_out===0&&(jt.output=new m.Buf8(Zt),jt.next_out=0,jt.avail_out=Zt),(St=d.inflate(jt,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&Ft&&(St=d.inflateSetDictionary(this.strm,Ft)),St===w.Z_BUF_ERROR&&Dt===!0&&(St=w.Z_OK,Dt=!1),St!==w.Z_STREAM_END&&St!==w.Z_OK)return this.onEnd(St),this.ended=!0,!1;jt.next_out&&(jt.avail_out!==0&&St!==w.Z_STREAM_END&&(jt.avail_in!==0||Tt!==w.Z_FINISH&&Tt!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(Rt=g.utf8border(jt.output,jt.next_out),zt=jt.next_out-Rt,$t=g.buf2string(jt.output,Rt),jt.next_out=zt,jt.avail_out=Zt-zt,zt&&m.arraySet(jt.output,jt.output,Rt,zt,0),this.onData($t)):this.onData(m.shrinkBuf(jt.output,jt.next_out)))),jt.avail_in===0&&jt.avail_out===0&&(Dt=!0)}while((jt.avail_in>0||jt.avail_out===0)&&St!==w.Z_STREAM_END);return St===w.Z_STREAM_END&&(Tt=w.Z_FINISH),Tt===w.Z_FINISH?(St=d.inflateEnd(this.strm),this.onEnd(St),this.ended=!0,St===w.Z_OK):Tt!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),jt.avail_out=0,!0)},ot.prototype.onData=function(ut){this.chunks.push(ut)},ot.prototype.onEnd=function(ut){ut===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=ut,this.msg=this.strm.msg},inflate$1.Inflate=ot,inflate$1.inflate=ft,inflate$1.inflateRaw=function(ut,dt){return(dt=dt||{}).raw=!0,ft(ut,dt)},inflate$1.ungzip=ft,inflate$1}function requirePako(){if(hasRequiredPako)return pako_1;hasRequiredPako=1;var d={};return(0,requireCommon().assign)(d,requireDeflate(),requireInflate(),requireConstants()),pako_1=d}(function(d){(function(){var m={};function g(){typeof process<"u"||console.log.apply(console,arguments)}d.exports=m,function(w,D){(function(){var H=function(){function ot(ft){this.message="JPEG error: "+ft}return ot.prototype=new Error,ot.prototype.name="JpegError",ot.constructor=ot,ot}(),q=function(){var ot=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),ft=4017,ut=799,dt=3406,St=2276,Tt=1567,Rt=3784,zt=5793,$t=2896;function jt(ne){ne==null&&(ne={}),ne.w==null&&(ne.w=-1),this.V=ne.n,this.N=ne.w}function Zt(ne,ee){for(var ae,Ut,ie,_e=0,ce=[],le=16;le>0&&!ne[le-1];)le--;ce.push({children:[],index:0});var de=ce[0];for(ae=0;ae<le;ae++){for(Ut=0;Ut<ne[ae];Ut++){for((de=ce.pop()).children[de.index]=ee[_e];de.index>0;)de=ce.pop();for(de.index++,ce.push(de);ce.length<=ae;)ce.push(ie={children:[],index:0}),de.children[de.index]=ie.children,de=ie;_e++}ae+1<le&&(ce.push(ie={children:[],index:0}),de.children[de.index]=ie.children,de=ie)}return ce[0].children}function Ft(ne,ee,ae){return 64*((ne.P+1)*ee+ae)}function Dt(ne,ee,ae,Ut,ie,_e,ce,le,de,Ae){Ae==null&&(Ae=!1);var ve,ye,Me,ue,xe,Be,Ce,Ee,Se,Ne,Fe,Oe=ae.m,Pe=ae.Z,Jt=ee,Te=0,he=0,me=0,pe=0,we=0,Re=0;function Ht(){if(he>0)return he--,Te>>he&1;if((Te=ne[ee++])===255){var Xe=ne[ee++];if(Xe){if(Xe===220&&Ae){var ar=it(ne,ee+=2);if(ee+=2,ar>0&&ar!==ae.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",ar)}else if(Xe===217){if(Ae){var rr=8*we;if(rr>0&&rr<ae.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",rr)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new H("unexpected marker")}}return he=7,Te>>>7}function oe(Xe){for(var ar=Xe;;){switch(typeof(ar=ar[Ht()])){case"number":return ar;case"object":continue}throw new H("invalid huffman sequence")}}function ge(Xe){for(var ar=0;Xe>0;)ar=ar<<1|Ht(),Xe--;return ar}function be(Xe){if(Xe===1)return Ht()===1?1:-1;var ar=ge(Xe);return ar>=1<<Xe-1?ar:ar+(-1<<Xe)+1}function De(Xe,ar,rr,gr,dr){var hr=rr%Oe;we=(rr/Oe|0)*Xe.A+gr;var kr=hr*Xe.h+dr;ar(Xe,Ft(Xe,we,kr))}function je(Xe,ar,rr){we=rr/Xe.P|0;var gr=rr%Xe.P;ar(Xe,Ft(Xe,we,gr))}var er=Ut.length;for(Ce=Pe?_e===0?le===0?function(Xe,ar){var rr=oe(Xe.J),gr=rr===0?0:be(rr)<<de;Xe.D[ar]=Xe.Q+=gr}:function(Xe,ar){Xe.D[ar]|=Ht()<<de}:le===0?function(Xe,ar){if(me>0)me--;else for(var rr=_e,gr=ce;rr<=gr;){var dr=oe(Xe.i),hr=15&dr,kr=dr>>4;if(hr!==0){var cr=ot[rr+=kr];Xe.D[ar+cr]=be(hr)*(1<<de),rr++}else{if(kr<15){me=ge(kr)+(1<<kr)-1;break}rr+=16}}}:function(Xe,ar){for(var rr,gr,dr=_e,hr=ce,kr=0;dr<=hr;){var cr=ar+ot[dr],ze=Xe.D[cr]<0?-1:1;switch(pe){case 0:if(kr=(gr=oe(Xe.i))>>4,(rr=15&gr)==0)kr<15?(me=ge(kr)+(1<<kr),pe=4):(kr=16,pe=1);else{if(rr!==1)throw new H("invalid ACn encoding");ve=be(rr),pe=kr?2:3}continue;case 1:case 2:Xe.D[cr]?Xe.D[cr]+=ze*(Ht()<<de):--kr==0&&(pe=pe===2?3:0);break;case 3:Xe.D[cr]?Xe.D[cr]+=ze*(Ht()<<de):(Xe.D[cr]=ve<<de,pe=0);break;case 4:Xe.D[cr]&&(Xe.D[cr]+=ze*(Ht()<<de))}dr++}pe===4&&--me==0&&(pe=0)}:function(Xe,ar){var rr=oe(Xe.J),gr=rr===0?0:be(rr),dr=1;for(Xe.D[ar]=Xe.Q+=gr;dr<64;){var hr=oe(Xe.i),kr=15&hr,cr=hr>>4;if(kr!==0){var ze=ot[dr+=cr];Xe.D[ar+ze]=be(kr),dr++}else{if(cr<15)break;dr+=16}}},Se=er===1?Ut[0].P*Ut[0].c:Oe*ae.R;Re<=Se;){var ir=ie?Math.min(Se-Re,ie):Se;if(ir>0){for(Me=0;Me<er;Me++)Ut[Me].Q=0;if(me=0,er===1)for(ye=Ut[0],Be=0;Be<ir;Be++)je(ye,Ce,Re),Re++;else for(Be=0;Be<ir;Be++){for(Me=0;Me<er;Me++)for(Ne=(ye=Ut[Me]).h,Fe=ye.A,ue=0;ue<Fe;ue++)for(xe=0;xe<Ne;xe++)De(ye,Ce,Re,ue,xe);Re++}}if(he=0,!(Ee=Yt(ne,ee))||(Ee.u&&(ee=Ee.offset),!(Ee.M>=65488&&Ee.M<=65495)))break;ee+=2}return ee-Jt}function Kt(ne,ee,ae){var Ut,ie,_e,ce,le,de,Ae,ve,ye,Me,ue,xe,Be,Ce,Ee,Se,Ne,Fe=ne.$,Oe=ne.D;if(!Fe)throw new H("missing required Quantization Table.");for(var Pe=0;Pe<64;Pe+=8)ye=Oe[ee+Pe],Me=Oe[ee+Pe+1],ue=Oe[ee+Pe+2],xe=Oe[ee+Pe+3],Be=Oe[ee+Pe+4],Ce=Oe[ee+Pe+5],Ee=Oe[ee+Pe+6],Se=Oe[ee+Pe+7],ye*=Fe[Pe],Me|ue|xe|Be|Ce|Ee|Se?(Me*=Fe[Pe+1],ue*=Fe[Pe+2],xe*=Fe[Pe+3],Be*=Fe[Pe+4],Ce*=Fe[Pe+5],Ee*=Fe[Pe+6],Se*=Fe[Pe+7],ie=(Ut=(Ut=zt*ye+128>>8)+(ie=zt*Be+128>>8)+1>>1)-ie,Ne=(_e=ue)*Rt+(ce=Ee)*Tt+128>>8,_e=_e*Tt-ce*Rt+128>>8,Ae=(le=(le=$t*(Me-Se)+128>>8)+(Ae=Ce<<4)+1>>1)-Ae,de=(ve=(ve=$t*(Me+Se)+128>>8)+(de=xe<<4)+1>>1)-de,ce=(Ut=Ut+(ce=Ne)+1>>1)-ce,_e=(ie=ie+_e+1>>1)-_e,Ne=le*St+ve*dt+2048>>12,le=le*dt-ve*St+2048>>12,ve=Ne,Ne=de*ut+Ae*ft+2048>>12,de=de*ft-Ae*ut+2048>>12,Ae=Ne,ae[Pe]=Ut+ve,ae[Pe+7]=Ut-ve,ae[Pe+1]=ie+Ae,ae[Pe+6]=ie-Ae,ae[Pe+2]=_e+de,ae[Pe+5]=_e-de,ae[Pe+3]=ce+le,ae[Pe+4]=ce-le):(Ne=zt*ye+512>>10,ae[Pe]=Ne,ae[Pe+1]=Ne,ae[Pe+2]=Ne,ae[Pe+3]=Ne,ae[Pe+4]=Ne,ae[Pe+5]=Ne,ae[Pe+6]=Ne,ae[Pe+7]=Ne);for(var Jt=0;Jt<8;++Jt)ye=ae[Jt],(Me=ae[Jt+8])|(ue=ae[Jt+16])|(xe=ae[Jt+24])|(Be=ae[Jt+32])|(Ce=ae[Jt+40])|(Ee=ae[Jt+48])|(Se=ae[Jt+56])?(ie=(Ut=4112+((Ut=zt*ye+2048>>12)+(ie=zt*Be+2048>>12)+1>>1))-ie,Ne=(_e=ue)*Rt+(ce=Ee)*Tt+2048>>12,_e=_e*Tt-ce*Rt+2048>>12,ce=Ne,Ae=(le=(le=$t*(Me-Se)+2048>>12)+(Ae=Ce)+1>>1)-Ae,de=(ve=(ve=$t*(Me+Se)+2048>>12)+(de=xe)+1>>1)-de,Ne=le*St+ve*dt+2048>>12,le=le*dt-ve*St+2048>>12,ve=Ne,Ne=de*ut+Ae*ft+2048>>12,de=de*ft-Ae*ut+2048>>12,(ye=(Ut=Ut+ce+1>>1)+ve)<16?ye=0:ye>=4080?ye=255:ye>>=4,(Me=(ie=ie+_e+1>>1)+(Ae=Ne))<16?Me=0:Me>=4080?Me=255:Me>>=4,(ue=(_e=ie-_e)+de)<16?ue=0:ue>=4080?ue=255:ue>>=4,(xe=(ce=Ut-ce)+le)<16?xe=0:xe>=4080?xe=255:xe>>=4,(Be=ce-le)<16?Be=0:Be>=4080?Be=255:Be>>=4,(Ce=_e-de)<16?Ce=0:Ce>=4080?Ce=255:Ce>>=4,(Ee=ie-Ae)<16?Ee=0:Ee>=4080?Ee=255:Ee>>=4,(Se=Ut-ve)<16?Se=0:Se>=4080?Se=255:Se>>=4,Oe[ee+Jt]=ye,Oe[ee+Jt+8]=Me,Oe[ee+Jt+16]=ue,Oe[ee+Jt+24]=xe,Oe[ee+Jt+32]=Be,Oe[ee+Jt+40]=Ce,Oe[ee+Jt+48]=Ee,Oe[ee+Jt+56]=Se):(Ne=(Ne=zt*ye+8192>>14)<-2040?0:Ne>=2024?255:Ne+2056>>4,Oe[ee+Jt]=Ne,Oe[ee+Jt+8]=Ne,Oe[ee+Jt+16]=Ne,Oe[ee+Jt+24]=Ne,Oe[ee+Jt+32]=Ne,Oe[ee+Jt+40]=Ne,Oe[ee+Jt+48]=Ne,Oe[ee+Jt+56]=Ne)}function re(ne,ee){for(var ae=ee.P,Ut=ee.c,ie=new Int16Array(64),_e=0;_e<Ut;_e++)for(var ce=0;ce<ae;ce++)Kt(ee,Ft(ee,_e,ce),ie);return ee.D}function Yt(ne,ee,ae){ae==null&&(ae=ee);var Ut=ne.length-1,ie=ae<ee?ae:ee;if(ee>=Ut)return null;var _e=it(ne,ee);if(_e>=65472&&_e<=65534)return{u:null,M:_e,offset:ee};for(var ce=it(ne,ie);!(ce>=65472&&ce<=65534);){if(++ie>=Ut)return null;ce=it(ne,ie)}return{u:_e.toString(16),M:ce,offset:ie}}return jt.prototype={parse(ne,ee){ee==null&&(ee={});var ae,Ut,ie=ee.F,_e=0,ce=null,le=null,de=0;function Ae(){var Le=it(ne,_e),Qe=(_e+=2)+Le-2,ke=Yt(ne,Qe,_e);ke&&ke.u&&(Qe=ke.offset);var tr=ne.subarray(_e,Qe);return _e+=tr.length,tr}function ve(Le){for(var Qe=Math.ceil(Le.o/8/Le.X),ke=Math.ceil(Le.s/8/Le.B),tr=0;tr<Le.W.length;tr++){je=Le.W[tr];var br=Math.ceil(Math.ceil(Le.o/8)*je.h/Le.X),se=Math.ceil(Math.ceil(Le.s/8)*je.A/Le.B),Ve=Qe*je.h,Ze=64*(ke*je.A)*(Ve+1);je.D=new Int16Array(Ze),je.P=br,je.c=se}Le.m=Qe,Le.R=ke}var ye=[],Me=[],ue=[],xe=it(ne,_e);if(_e+=2,xe!==65496)throw new H("SOI not found");xe=it(ne,_e),_e+=2;t:for(;xe!==65497;){var Be,Ce,Ee;switch(xe){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Se=Ae();xe===65504&&Se[0]===74&&Se[1]===70&&Se[2]===73&&Se[3]===70&&Se[4]===0&&(ce={version:{d:Se[5],T:Se[6]},K:Se[7],j:Se[8]<<8|Se[9],H:Se[10]<<8|Se[11],S:Se[12],I:Se[13],C:Se.subarray(14,14+3*Se[12]*Se[13])}),xe===65518&&Se[0]===65&&Se[1]===100&&Se[2]===111&&Se[3]===98&&Se[4]===101&&(le={version:Se[5]<<8|Se[6],k:Se[7]<<8|Se[8],q:Se[9]<<8|Se[10],a:Se[11]});break;case 65499:for(var Ne=it(ne,_e)+(_e+=2)-2;_e<Ne;){var Fe=ne[_e++],Oe=new Uint16Array(64);if(Fe>>4){if(Fe>>4!=1)throw new H("DQT - invalid table spec");for(Ce=0;Ce<64;Ce++)Oe[ot[Ce]]=it(ne,_e),_e+=2}else for(Ce=0;Ce<64;Ce++)Oe[ot[Ce]]=ne[_e++];ye[15&Fe]=Oe}break;case 65472:case 65473:case 65474:if(ae)throw new H("Only single frame JPEGs supported");_e+=2,(ae={}).G=xe===65473,ae.Z=xe===65474,ae.precision=ne[_e++];var Pe,Jt=it(ne,_e),Te=0,he=0;_e+=2,ae.s=ie||Jt,ae.o=it(ne,_e),_e+=2,ae.W=[],ae._={};var me=ne[_e++];for(Be=0;Be<me;Be++){Pe=ne[_e];var pe=ne[_e+1]>>4,we=15&ne[_e+1];Te<pe&&(Te=pe),he<we&&(he=we);var Re=ne[_e+2];Ee=ae.W.push({h:pe,A:we,L:Re,$:null}),ae._[Pe]=Ee-1,_e+=3}ae.X=Te,ae.B=he,ve(ae);break;case 65476:var Ht=it(ne,_e);for(_e+=2,Be=2;Be<Ht;){var oe=ne[_e++],ge=new Uint8Array(16),be=0;for(Ce=0;Ce<16;Ce++,_e++)be+=ge[Ce]=ne[_e];var De=new Uint8Array(be);for(Ce=0;Ce<be;Ce++,_e++)De[Ce]=ne[_e];Be+=17+be,(oe>>4?Me:ue)[15&oe]=Zt(ge,De)}break;case 65501:Ut=it(ne,_e+=2),_e+=2;break;case 65498:var je,er=++de==1&&!ie;_e+=2;var ir=ne[_e++],Xe=[];for(Be=0;Be<ir;Be++){var ar=ne[_e++],rr=ae._[ar];(je=ae.W[rr]).index=ar;var gr=ne[_e++];je.J=ue[gr>>4],je.i=Me[15&gr],Xe.push(je)}var dr=ne[_e++],hr=ne[_e++],kr=ne[_e++];try{var cr=Dt(ne,_e,ae,Xe,Ut,dr,hr,kr>>4,15&kr,er);_e+=cr}catch(Le){if(Le instanceof DNLMarkerError)return this.parse(ne,{F:Le.s});if(Le instanceof EOIMarkerError)break t;throw Le}break;case 65500:_e+=4;break;case 65535:ne[_e]!==255&&_e--;break;default:var ze=Yt(ne,_e-2,_e-3);if(ze&&ze.u){_e=ze.offset;break}if(_e>=ne.length-1)break t;throw new H("JpegImage.parse - unknown marker: "+xe.toString(16))}xe=it(ne,_e),_e+=2}for(this.width=ae.o,this.height=ae.s,this.g=ce,this.b=le,this.W=[],Be=0;Be<ae.W.length;Be++){var nr=ye[(je=ae.W[Be]).L];nr&&(je.$=nr),this.W.push({index:je.index,e:re(0,je),l:je.h/ae.X,t:je.A/ae.B,P:je.P,c:je.c})}this.p=this.W.length},Y(ne,ee,ae){ae==null&&(ae=!1);var Ut,ie,_e,ce,le,de,Ae,ve,ye,Me,ue,xe,Be=this.width/ne,Ce=this.height/ee,Ee=0,Se=this.W.length,Ne=ne*ee*Se,Fe=new Uint8ClampedArray(Ne),Oe=new Uint32Array(ne),Pe=4294967288;for(Ae=0;Ae<Se;Ae++){if(ie=(Ut=this.W[Ae]).l*Be,_e=Ut.t*Ce,Ee=Ae,ue=Ut.e,ce=Ut.P+1<<3,ie!==xe){for(le=0;le<ne;le++)ve=0|le*ie,Oe[le]=(ve&Pe)<<3|7&ve;xe=ie}for(de=0;de<ee;de++)for(Me=ce*((ve=0|de*_e)&Pe)|(7&ve)<<3,le=0;le<ne;le++)Fe[Ee]=ue[Me+Oe[le]],Ee+=Se}var Jt=this.V;if(ae||Se!==4||Jt||(Jt=new Int32Array([-256,255,-256,255,-256,255,-256,255])),Jt)for(Ae=0;Ae<Ne;)for(ve=0,ye=0;ve<Se;ve++,Ae++,ye+=2)Fe[Ae]=(Fe[Ae]*Jt[ye]>>8)+Jt[ye+1];return Fe},get f(){return this.b?!!this.b.a:this.p===3?this.N!==0&&(this.W[0].index!==82||this.W[1].index!==71||this.W[2].index!==66):this.N===1},z:function(ne){for(var ee,ae,Ut,ie=0,_e=ne.length;ie<_e;ie+=3)ee=ne[ie],ae=ne[ie+1],Ut=ne[ie+2],ne[ie]=ee-179.456+1.402*Ut,ne[ie+1]=ee+135.459-.344*ae-.714*Ut,ne[ie+2]=ee-226.816+1.772*ae;return ne},O:function(ne){for(var ee,ae,Ut,ie,_e=0,ce=0,le=ne.length;ce<le;ce+=4)ee=ne[ce],ae=ne[ce+1],Ut=ne[ce+2],ie=ne[ce+3],ne[_e++]=ae*(-660635669420364e-19*ae+.000437130475926232*Ut-54080610064599e-18*ee+.00048449797120281*ie-.154362151871126)-122.67195406894+Ut*(-.000957964378445773*Ut+.000817076911346625*ee-.00477271405408747*ie+1.53380253221734)+ee*(.000961250184130688*ee-.00266257332283933*ie+.48357088451265)+ie*(-.000336197177618394*ie+.484791561490776),ne[_e++]=107.268039397724+ae*(219927104525741e-19*ae-.000640992018297945*Ut+.000659397001245577*ee+.000426105652938837*ie-.176491792462875)+Ut*(-.000778269941513683*Ut+.00130872261408275*ee+.000770482631801132*ie-.151051492775562)+ee*(.00126935368114843*ee-.00265090189010898*ie+.25802910206845)+ie*(-.000318913117588328*ie-.213742400323665),ne[_e++]=ae*(-.000570115196973677*ae-263409051004589e-19*Ut+.0020741088115012*ee-.00288260236853442*ie+.814272968359295)-20.810012546947+Ut*(-153496057440975e-19*Ut-.000132689043961446*ee+.000560833691242812*ie-.195152027534049)+ee*(.00174418132927582*ee-.00255243321439347*ie+.116935020465145)+ie*(-.000343531996510555*ie+.24165260232407);return ne.subarray(0,_e)},r:function(ne){for(var ee,ae,Ut,ie=0,_e=ne.length;ie<_e;ie+=4)ee=ne[ie],ae=ne[ie+1],Ut=ne[ie+2],ne[ie]=434.456-ee-1.402*Ut,ne[ie+1]=119.541-ee+.344*ae+.714*Ut,ne[ie+2]=481.816-ee-1.772*ae;return ne},U:function(ne){for(var ee,ae,Ut,ie,_e=0,ce=0,le=ne.length;ce<le;ce+=4)ee=ne[ce],ae=ne[ce+1],Ut=ne[ce+2],ie=ne[ce+3],ne[_e++]=255+ee*(-6747147073602441e-20*ee+.0008379262121013727*ae+.0002894718188643294*Ut+.003264231057537806*ie-1.1185611867203937)+ae*(26374107616089405e-21*ae-8626949158638572e-20*Ut-.0002748769067499491*ie-.02155688794978967)+Ut*(-3878099212869363e-20*Ut-.0003267808279485286*ie+.0686742238595345)-ie*(.0003361971776183937*ie+.7430659151342254),ne[_e++]=255+ee*(.00013596372813588848*ee+.000924537132573585*ae+.00010567359618683593*Ut+.0004791864687436512*ie-.3109689587515875)+ae*(-.00023545346108370344*ae+.0002702845253534714*Ut+.0020200308977307156*ie-.7488052167015494)+Ut*(6834815998235662e-20*Ut+.00015168452363460973*ie-.09751927774728933)-ie*(.0003189131175883281*ie+.7364883807733168),ne[_e++]=255+ee*(13598650411385307e-21*ee+.00012423956175490851*ae+.0004751985097583589*Ut-36729317476630422e-22*ie-.05562186980264034)+ae*(.00016141380598724676*ae+.0009692239130725186*Ut+.0007782692450036253*ie-.44015232367526463)+Ut*(5068882914068769e-22*Ut+.0017778369011375071*ie-.7591454649749609)-ie*(.0003435319965105553*ie+.7063770186160144);return ne.subarray(0,_e)},getData:function(ne){var ee=ne.width,ae=ne.height,Ut=ne.forceRGB,ie=ne.isSourcePDF;if(this.p>4)throw new H("Unsupported color mode");var _e=this.Y(ee,ae,ie);if(this.p===1&&Ut){for(var ce=_e.length,le=new Uint8ClampedArray(3*ce),de=0,Ae=0;Ae<ce;Ae++){var ve=_e[Ae];le[de++]=ve,le[de++]=ve,le[de++]=ve}return le}if(this.p===3&&this.f)return this.z(_e);if(this.p===4){if(this.f)return Ut?this.O(_e):this.r(_e);if(Ut)return this.U(_e)}return _e}},jt}();function it(ot,ft){return ot[ft]<<8|ot[ft+1]}w.JpegDecoder=q})(),w.encodeImage=function(H,q,it,ot){var ft={t256:[q],t257:[it],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[it],t279:[q*it*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(ot)for(var ut in ot)ft[ut]=ot[ut];var dt=new Uint8Array(w.encode([ft])),St=new Uint8Array(H),Tt=new Uint8Array(1e3+q*it*4);for(ut=0;ut<dt.length;ut++)Tt[ut]=dt[ut];for(ut=0;ut<St.length;ut++)Tt[1e3+ut]=St[ut];return Tt.buffer},w.encode=function(H){var q=new Uint8Array(2e4),it=4,ot=w._binBE;q[0]=q[1]=77,ot.writeUshort(q,2,42);var ft=8;ot.writeUint(q,it,ft),it+=4;for(var ut=0;ut<H.length;ut++){var dt=w._writeIFD(ot,w._types.basic,q,ft,H[ut]);ft=dt[1],ut<H.length-1&&(3&ft&&(ft+=4-(3&ft)),ot.writeUint(q,dt[0],ft))}return q.slice(0,ft).buffer},w.decode=function(H,q){q==null&&(q={parseMN:!0,debug:!1});var it=new Uint8Array(H),ot=0,ft=w._binBE.readASCII(it,ot,2);ot+=2;var ut=ft=="II"?w._binLE:w._binBE;ut.readUshort(it,ot),ot+=2;var dt=ut.readUint(it,ot);ot+=4;for(var St=[];;){var Tt=ut.readUshort(it,dt),Rt=ut.readUshort(it,dt+4);if(Tt!=0&&(Rt<1||13<Rt)){g("error in TIFF");break}if(w._readIFD(ut,it,dt,St,0,q),(dt=ut.readUint(it,dt+2+12*Tt))==0)break}return St},w.decodeImage=function(H,q,it){if(!q.data){var ot=new Uint8Array(H),ft=w._binBE.readASCII(ot,0,2);if(q.t256!=null){q.isLE=ft=="II",q.width=q.t256[0],q.height=q.t257[0];var ut=q.t259?q.t259[0]:1,dt=q.t266?q.t266[0]:1;q.t284&&q.t284[0]==2&&g("PlanarConfiguration 2 should not be used!"),ut==7&&q.t258&&q.t258.length>3&&(q.t258=q.t258.slice(0,3));var St=q.t277?q.t277[0]:1,Tt=(q.t258?q.t258[0]:1)*St;ut==1&&q.t279!=null&&q.t278&&q.t262[0]==32803&&(Tt=Math.round(8*q.t279[0]/(q.width*q.t278[0]))),q.t50885&&q.t50885[0]==4&&(Tt=3*q.t258[0]);var Rt=8*Math.ceil(q.width*Tt/8),zt=q.t273;(zt==null||q.t322)&&(zt=q.t324);var $t=q.t279;ut==1&&zt.length==1&&($t=[q.height*(Rt>>>3)]),($t==null||q.t322)&&($t=q.t325);var jt=new Uint8Array(q.height*(Rt>>>3)),Zt=0;if(q.t322!=null){var Ft=q.t322[0],Dt=q.t323[0],Kt=Math.floor((q.width+Ft-1)/Ft),re=Math.floor((q.height+Dt-1)/Dt),Yt=new Uint8Array(0|Math.ceil(Ft*Dt*Tt/8));console.log("====",Kt,re);for(var ne=0;ne<re;ne++)for(var ee=0;ee<Kt;ee++){var ae=ne*Kt+ee;Yt.fill(0),w.decode._decompress(q,it,ot,zt[ae],$t[ae],ut,Yt,0,dt,Ft,Dt),ut==6?jt=Yt:w._copyTile(Yt,0|Math.ceil(Ft*Tt/8),Dt,jt,0|Math.ceil(q.width*Tt/8),q.height,0|Math.ceil(ee*Ft*Tt/8),ne*Dt)}Zt=8*jt.length}else{if(zt==null)return;var Ut=q.t278?q.t278[0]:q.height;for(Ut=Math.min(Ut,q.height),ae=0;ae<zt.length;ae++)w.decode._decompress(q,it,ot,zt[ae],$t[ae],ut,jt,0|Math.ceil(Zt/8),dt,q.width,Ut),Zt+=Rt*Ut;Zt=Math.min(Zt,8*jt.length)}q.data=new Uint8Array(jt.buffer,0,0|Math.ceil(Zt/8))}}},w.decode._decompress=function(H,q,it,ot,ft,ut,dt,St,Tt,Rt,zt){if(H.t271&&H.t271[0]=="Panasonic"&&H.t45&&H.t45[0]==6&&(ut=34316),ut==1)for(var $t=0;$t<ft;$t++)dt[St+$t]=it[ot+$t];else if(ut==2)w.decode._decodeG2(it,ot,ft,dt,St,Rt,Tt);else if(ut==3)w.decode._decodeG3(it,ot,ft,dt,St,Rt,Tt,!!H.t292&&!(1&~H.t292[0]));else if(ut==4)w.decode._decodeG4(it,ot,ft,dt,St,Rt,Tt);else if(ut==5)w.decode._decodeLZW(it,ot,ft,dt,St,8);else if(ut==6)w.decode._decodeOldJPEG(H,it,ot,ft,dt,St);else if(ut==7||ut==34892)w.decode._decodeNewJPEG(H,it,ot,ft,dt,St);else if(ut==8||ut==32946){var jt=new Uint8Array(it.buffer,ot+2,ft-6),Zt=D.inflateRaw(jt);St+Zt.length<=dt.length&&dt.set(Zt,St)}else ut==9?w.decode._decodeVC5(it,ot,ft,dt,St,H.t33422):ut==32767?w.decode._decodeARW(H,it,ot,ft,dt,St):ut==32773?w.decode._decodePackBits(it,ot,ft,dt,St):ut==32809?w.decode._decodeThunder(it,ot,ft,dt,St):ut==34316?w.decode._decodePanasonic(H,it,ot,ft,dt,St):ut==34713?w.decode._decodeNikon(H,q,it,ot,ft,dt,St):ut==34676?w.decode._decodeLogLuv32(H,it,ot,ft,dt,St):g("Unknown compression",ut);var Ft=H.t258?Math.min(32,H.t258[0]):1,Dt=H.t277?H.t277[0]:1,Kt=Ft*Dt>>>3,re=Math.ceil(Ft*Dt*Rt/8);if(Ft==16&&!H.isLE&&H.t33422==null)for(var Yt=0;Yt<zt;Yt++)for(var ne=St+Yt*re,ee=1;ee<re;ee+=2){var ae=dt[ne+ee];dt[ne+ee]=dt[ne+ee-1],dt[ne+ee-1]=ae}if(H.t317&&H.t317[0]==2)for(Yt=0;Yt<zt;Yt++){var Ut=St+Yt*re;if(Ft==16)for($t=Kt;$t<re;$t+=2){var ie=(dt[Ut+$t+1]<<8|dt[Ut+$t])+(dt[Ut+$t-Kt+1]<<8|dt[Ut+$t-Kt]);dt[Ut+$t]=255&ie,dt[Ut+$t+1]=ie>>>8&255}else if(Dt==3)for($t=3;$t<re;$t+=3)dt[Ut+$t]=dt[Ut+$t]+dt[Ut+$t-3]&255,dt[Ut+$t+1]=dt[Ut+$t+1]+dt[Ut+$t-2]&255,dt[Ut+$t+2]=dt[Ut+$t+2]+dt[Ut+$t-1]&255;else for($t=Kt;$t<re;$t++)dt[Ut+$t]=dt[Ut+$t]+dt[Ut+$t-Kt]&255}},w.decode._decodePanasonic=function(H,q,it,ot,ft,ut){var dt,St,Tt,Rt,zt,$t,jt,Zt,Ft=q.buffer,Dt=H.t2[0],Kt=H.t3[0],re=H.t10[0],Yt=H.t45[0],ne=0,ee=0,ae=0,Ut=0,ie=Yt==6?new Uint32Array(18):new Uint8Array(16),_e=[0,0],ce=[0,0],le=0,de=new Uint8Array(16384),Ae=new Uint16Array(ft.buffer);function ve(Re){if(ae==0){var Ht=new Uint8Array(Ft,it+ee+8184,8200),oe=new Uint8Array(Ft,it+ee,8184);de.set(Ht),de.set(oe,Ht.length),ee+=16384}if(Yt!=5)return(de[Ut=(ae=ae-Re&131071)>>3^16368]|de[Ut+1]<<8)>>(7&ae)&~(-1<<Re);for(dt=0;dt<16;dt++)ie[dt]=de[ae++],ae&=16383}function ye(Re){return de[ae+15-Re]}function Me(){_e[0]=0,_e[1]=0,ce[0]=0,ce[1]=0}if(Yt==7)throw Yt;if(Yt==6){var ue=re==12,xe=ue?function(){ie[0]=ye(0)<<4|ye(1)>>4,ie[1]=4095&((15&ye(1))<<8|ye(2)),ie[2]=ye(3)>>6&3,ie[3]=(63&ye(3))<<2|ye(4)>>6,ie[4]=(63&ye(4))<<2|ye(5)>>6,ie[5]=(63&ye(5))<<2|ye(6)>>6,ie[6]=ye(6)>>4&3,ie[7]=(15&ye(6))<<4|ye(7)>>4,ie[8]=(15&ye(7))<<4|ye(8)>>4,ie[9]=(15&ye(8))<<4|ye(9)>>4,ie[10]=ye(9)>>2&3,ie[11]=(3&ye(9))<<6|ye(10)>>2,ie[12]=(3&ye(10))<<6|ye(11)>>2,ie[13]=(3&ye(11))<<6|ye(12)>>2,ie[14]=3&ye(12),ie[15]=ye(13),ie[16]=ye(14),ie[17]=ye(15),ae+=16,Ut=0}:function(){ie[0]=ye(0)<<6|ye(1)>>2,ie[1]=16383&((3&ye(1))<<12|ye(2)<<4|ye(3)>>4),ie[2]=ye(3)>>2&3,ie[3]=(3&ye(3))<<8|ye(4),ie[4]=ye(5)<<2|ye(6)>>6,ie[5]=(63&ye(6))<<4|ye(7)>>4,ie[6]=ye(7)>>2&3,ie[7]=(3&ye(7))<<8|ye(8),ie[8]=ye(9)<<2&1020|ye(10)>>6,ie[9]=1023&(ye(10)<<4|ye(11)>>4),ie[10]=ye(11)>>2&3,ie[11]=(3&ye(11))<<8|ye(12),ie[12]=1023&(ye(13)<<2&1020|ye(14)>>6),ie[13]=1023&(ye(14)<<4|ye(15)>>4),ae+=16,Ut=0},Be=ue?14:11,Ce=ue?128:512,Ee=ue?2048:8192,Se=ue?16383:65535,Ne=ue?4095:16383,Fe=Dt/Be,Oe=16*Fe,Pe=ue?18:14;for($t=0;$t<Kt-15;$t+=16){var Jt=Math.min(16,Kt-$t),Te=Oe*Jt;for(de=new Uint8Array(Ft,it+ne,Te),ae=0,ne+=Te,Zt=0,jt=0;Zt<Jt;Zt++,jt=0){le=($t+Zt)*Dt;for(var he=0;he<Fe;he++)for(xe(),Me(),Tt=0,zt=0,dt=0;dt<Be;dt++){if(Rt=1&dt,dt%3==2){var me=Ut<Pe?ie[Ut++]:0;me==3&&(me=4),zt=Ce<<me,Tt=1<<me}var pe=Ut<Pe?ie[Ut++]:0;_e[Rt]?(pe*=Tt,zt<Ee&&ce[Rt]>zt&&(pe+=ce[Rt]-zt),ce[Rt]=pe):(_e[Rt]=pe,pe?ce[Rt]=pe:pe=ce[Rt]),Ae[le+jt++]=pe-15<=Se?pe-15&Se:pe+2147483633>>31&Ne}}}}else if(Yt==5){var we=re==12?10:9;for($t=0;$t<Kt;$t++)for(jt=0;jt<Dt;jt+=we)ve(0),re==12?(Ae[le++]=((15&ie[1])<<8)+ie[0],Ae[le++]=16*ie[2]+(ie[1]>>4),Ae[le++]=((15&ie[4])<<8)+ie[3],Ae[le++]=16*ie[5]+(ie[4]>>4),Ae[le++]=((15&ie[7])<<8)+ie[6],Ae[le++]=16*ie[8]+(ie[7]>>4),Ae[le++]=((15&ie[10])<<8)+ie[9],Ae[le++]=16*ie[11]+(ie[10]>>4),Ae[le++]=((15&ie[13])<<8)+ie[12],Ae[le++]=16*ie[14]+(ie[13]>>4)):re==14&&(Ae[le++]=ie[0]+((63&ie[1])<<8),Ae[le++]=(ie[1]>>6)+4*ie[2]+((15&ie[3])<<10),Ae[le++]=(ie[3]>>4)+16*ie[4]+((3&ie[5])<<12),Ae[le++]=((252&ie[5])>>2)+(ie[6]<<6),Ae[le++]=ie[7]+((63&ie[8])<<8),Ae[le++]=(ie[8]>>6)+4*ie[9]+((15&ie[10])<<10),Ae[le++]=(ie[10]>>4)+16*ie[11]+((3&ie[12])<<12),Ae[le++]=((252&ie[12])>>2)+(ie[13]<<6),Ae[le++]=ie[14]+((63&ie[15])<<8))}else{if(Yt!=4)throw Yt;for($t=0;$t<Kt;$t++)for(jt=0;jt<Dt;jt++)Rt=1&(dt=jt%14),dt==0&&Me(),dt%3==2&&(Tt=4>>3-ve(2)),ce[Rt]?(St=ve(8))!=0&&(_e[Rt]-=128<<Tt,(_e[Rt]<0||Tt==4)&&(_e[Rt]&=~(-1<<Tt)),_e[Rt]+=St<<Tt):(ce[Rt]=ve(8),(ce[Rt]||dt>11)&&(_e[Rt]=ce[Rt]<<4|ve(4))),Ae[le++]=_e[1&jt]}},w.decode._decodeVC5=function(){var H,q,it,ot=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],ft=[3,3,3,3,2,2,2,1,1,1];function ut(Zt){var Ft=Zt[1],Dt=Zt[0][Ft>>>3]>>>7-(7&Ft)&1;return Zt[1]++,Dt}function dt(Zt,Ft){if(H==null){H={};for(var Dt=0;Dt<ot.length;Dt+=4)H[ot[Dt+1]]=ot.slice(Dt,Dt+4)}for(var Kt=ut(Zt),re=H[Kt];re==null;)Kt=Kt<<1|ut(Zt),re=H[Kt];var Yt=re[3];Yt!=0&&(Yt=ut(Zt)==0?Yt:-Yt),Ft[0]=re[2],Ft[1]=Yt}function St(Zt,Ft){for(var Dt=0;Dt<Ft;Dt++)1&~Zt||Zt++,Zt>>>=1;return Zt}function Tt(Zt,Ft){return Zt>>Ft}function Rt(Zt,Ft,Dt,Kt,re,Yt){Ft[Dt]=Tt(Tt(11*Zt[re]-4*Zt[re+Yt]+Zt[re+Yt+Yt]+4,3)+Zt[Kt],1),Ft[Dt+Yt]=Tt(Tt(5*Zt[re]+4*Zt[re+Yt]-Zt[re+Yt+Yt]+4,3)-Zt[Kt],1)}function zt(Zt,Ft,Dt,Kt,re,Yt){var ne=Zt[re-Yt]-Zt[re+Yt],ee=Zt[re],ae=Zt[Kt];Ft[Dt]=Tt(Tt(ne+4,3)+ee+ae,1),Ft[Dt+Yt]=Tt(Tt(4-ne,3)+ee-ae,1)}function $t(Zt,Ft,Dt,Kt,re,Yt){Ft[Dt]=Tt(Tt(5*Zt[re]+4*Zt[re-Yt]-Zt[re-Yt-Yt]+4,3)+Zt[Kt],1),Ft[Dt+Yt]=Tt(Tt(11*Zt[re]-4*Zt[re-Yt]+Zt[re-Yt-Yt]+4,3)-Zt[Kt],1)}function jt(Zt){return Zt=it[Zt=Zt<0?0:Zt>4095?4095:Zt]>>>2}return function(Zt,Ft,Dt,Kt,re,Yt){Kt=new Uint16Array(Kt.buffer);var ne,ee,ae,Ut,ie,_e,ce,le,de=Date.now(),Ae=w._binBE,ve=Ft+Dt;Ft+=4;for(var ye=Yt[0]==1;Ft<ve;){var Me=Ae.readShort(Zt,Ft),ue=Ae.readUshort(Zt,Ft+2);if(Ft+=4,Me==12)Fe=ue;else if(Me==20)ne=ue;else if(Me==21)ee=ue;else if(Me==48)ae=ue;else if(Me==53)Ut=ue;else if(Me!=35){if(Me==62)ie=ue;else if(Me!=101){if(Me==109)_e=ue;else if(Me!=84){if(Me!=106){if(Me!=107){if(Me!=108){if(Me!=102){if(Me==104)rr=ue;else if(Me!=105){var xe=Me<0?-Me:Me,Be=65280&xe,Ce=0;if(24576&xe&&(8192&xe?(Ce=65535&ue,Ce+=(255&xe)<<16):Ce=65535&ue),24576&~xe){if(xe==16388)Ft+=4*Ce;else if(Be!=8192&&Be!=8448&&Be!=9216)throw xe.toString(16)}else{if(ce==null){ce=[];for(var Ee=0;Ee<4;Ee++)ce[Ee]=new Int16Array((ne>>>1)*(ee>>>1));for(le=new Int16Array((ne>>>1)*(ee>>>1)),q=new Int16Array(1024),Ee=0;Ee<1024;Ee++){var Se=Ee-512,Ne=Math.abs(Se),Fe=Math.floor(768*Ne*Ne*Ne/16581375)+Ne;q[Ee]=Math.sign(Se)*Fe}for(it=new Uint16Array(4096),Ee=0;Ee<4096;Ee++){var Oe=Ee,Pe=65535*(Math.pow(113,Oe/4095)-1)/112;it[Ee]=Math.min(Pe,65535)}}var Jt=ce[ie],Te=St(ne,1+ft[ae]),he=St(ee,1+ft[ae]);if(ae==0)for(var me=0;me<he;me++)for(var pe=0;pe<Te;pe++){var we=Ft+2*(me*Te+pe);Jt[me*(ne>>>1)+pe]=Zt[we]<<8|Zt[we+1]}else{var Re=[Zt,8*Ft],Ht=[],oe=0,ge=Te*he,be=[0,0],De=0;for(ue=0;oe<ge;)for(dt(Re,be),De=be[0],ue=be[1];De>0;)Ht[oe++]=ue,De--;var je=(ae-1)%3,er=je!=1?Te:0,ir=je!=0?he:0;for(me=0;me<he;me++){var Xe=(me+ir)*(ne>>>1)+er,ar=me*Te;for(pe=0;pe<Te;pe++)Jt[Xe+pe]=q[Ht[ar+pe]+512]*Ut}if(je==2){var rr=ne>>>1,gr=2*Te,dr=2*he;for(me=0;me<he;me++)for(pe=0;pe<gr;pe++){Ee=2*me*rr+pe;var hr=he*rr+(cr=me*rr+pe);me==0?Rt(Jt,le,Ee,hr,cr,rr):me==he-1?$t(Jt,le,Ee,hr,cr,rr):zt(Jt,le,Ee,hr,cr,rr)}var kr=Jt;for(Jt=le,le=kr,me=0;me<dr;me++)for(pe=0;pe<Te;pe++){var cr;Ee=me*rr+2*pe,hr=Te+(cr=me*rr+pe),pe==0?Rt(Jt,le,Ee,hr,cr,1):pe==Te-1?$t(Jt,le,Ee,hr,cr,1):zt(Jt,le,Ee,hr,cr,1)}kr=Jt,Jt=le,le=kr;for(var ze=[],nr=2-~~((ae-1)/3),Le=0;Le<3;Le++)ze[Le]=_e>>14-2*Le&3;var Qe=ze[nr];if(Qe!=0)for(me=0;me<dr;me++)for(pe=0;pe<gr;pe++)Jt[Ee=me*rr+pe]=Jt[Ee]<<Qe}}if(ae==9&&ie==3){var ke=ce[0],tr=ce[1],br=ce[2],se=ce[3];for(me=0;me<ee;me+=2)for(pe=0;pe<ne;pe+=2){var Ve=me*ne+pe,Ze=ke[we=(me>>>1)*(ne>>>1)+(pe>>>1)],$e=tr[we]-2048,We=br[we]-2048,qe=se[we]-2048,_r=($e<<1)+Ze,fr=(We<<1)+Ze,pr=Ze+qe,Ir=Ze-qe;ye?(Kt[Ve]=jt(pr),Kt[Ve+1]=jt(fr),Kt[Ve+ne]=jt(_r),Kt[Ve+ne+1]=jt(Ir)):(Kt[Ve]=jt(_r),Kt[Ve+1]=jt(pr),Kt[Ve+ne]=jt(Ir),Kt[Ve+ne+1]=jt(fr))}}Ft+=4*Ce}}}}}}}}}}console.log(Date.now()-de)}}(),w.decode._decodeLogLuv32=function(H,q,it,ot,ft,ut){for(var dt=H.width,St=4*dt,Tt=0,Rt=new Uint8Array(St);Tt<ot;){for(var zt=0;zt<St;){var $t=q[it+Tt];if(Tt++,$t<128){for(var jt=0;jt<$t;jt++)Rt[zt+jt]=q[it+Tt+jt];zt+=$t,Tt+=$t}else{for($t-=126,jt=0;jt<$t;jt++)Rt[zt+jt]=q[it+Tt];zt+=$t,Tt++}}for(var Zt=0;Zt<dt;Zt++)ft[ut+0]=Rt[Zt],ft[ut+1]=Rt[Zt+dt],ft[ut+2]=Rt[Zt+2*dt],ft[ut+4]=Rt[Zt+3*dt],ut+=6}},w.decode._ljpeg_diff=function(H,q,it){var ot,ft,ut=w.decode._getbithuff;return ot=ut(H,q,it[0],it),(ft=ut(H,q,ot,0))&1<<ot-1||(ft-=(1<<ot)-1),ft},w.decode._decodeARW=function(H,q,it,ot,ft,ut){var dt=H.t256[0],St=H.t257[0],Tt=H.t258[0],Rt=H.isLE?w._binLE:w._binBE;if(dt*St==ot||dt*St*1.5==ot)if(dt*St*1.5!=ot){var zt,$t,jt,Zt,Ft,Dt,Kt,re,Yt=new Uint16Array(16),ne=new Uint8Array(dt+1);for(de=0;de<St;de++){for(var ee=0;ee<dt;ee++)ne[ee]=q[it++];for(re=0,le=0;le<dt-30;re+=16){for($t=2047&(zt=Rt.readUint(ne,re)),jt=2047&zt>>>11,Zt=15&zt>>>22,Ft=15&zt>>>26,Dt=0;Dt<4&&128<<Dt<=$t-jt;Dt++);for(Kt=30,ae=0;ae<16;ae++)ae==Zt?Yt[ae]=$t:ae==Ft?Yt[ae]=jt:(Yt[ae]=((Rt.readUshort(ne,re+(Kt>>3))>>>(7&Kt)&127)<<Dt)+jt,Yt[ae]>2047&&(Yt[ae]=2047),Kt+=7);for(ae=0;ae<16;ae++,le+=2)Ce=Yt[ae]<<1,w.decode._putsF(ft,(de*dt+le)*Tt,Ce<<16-Tt);le-=1&le?1:31}}}else for(var ae=0;ae<ot;ae+=3){var Ut=q[it+ae+0],ie=q[it+ae+1],_e=q[it+ae+2];ft[ut+ae]=ie<<4|Ut>>>4,ft[ut+ae+1]=Ut<<4|_e>>>4,ft[ut+ae+2]=_e<<4|ie>>>4}else{St+=8;var ce,le,de,Ae=[it,0,0,0],ve=new Uint16Array(32770),ye=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],Me=0,ue=w.decode._ljpeg_diff;for(ve[0]=15,ce=ae=0;ae<18;ae++)for(var xe=32768>>>(ye[ae]>>>8),Be=0;Be<xe;Be++)ve[++ce]=ye[ae];for(le=dt;le--;)for(de=0;de<St+1;de+=2)if(de==St&&(de=1),Me+=ue(q,Ae,ve),de<St){var Ce=4095&Me;w.decode._putsF(ft,(de*dt+le)*Tt,Ce<<16-Tt)}}},w.decode._decodeNikon=function(H,q,it,ot,ft,ut,dt){var St=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],Tt=H.t256[0],Rt=H.t257[0],zt=H.t258[0],$t=0,jt=0,Zt=w.decode._make_decoder,Ft=w.decode._getbithuff,Dt=q[0].exifIFD.makerNote,Kt=Dt.t150?Dt.t150:Dt.t140,re=0,Yt=Kt[re++],ne=Kt[re++];Yt!=73&&ne!=88||(re+=2110),Yt==70&&($t=2),zt==14&&($t+=3);for(var ee=[[0,0],[0,0]],ae=H.isLE?w._binLE:w._binBE,Ut=0;Ut<2;Ut++)for(var ie=0;ie<2;ie++)ee[Ut][ie]=ae.readShort(Kt,re),re+=2;var _e,ce,le,de,Ae,ve=1<<zt&32767,ye=0,Me=ae.readShort(Kt,re);re+=2,Me>1&&(ye=Math.floor(ve/(Me-1))),Yt==68&&ne==32&&ye>0&&(jt=ae.readShort(Kt,562));var ue=[0,0],xe=Zt(St[$t]),Be=[ot,0,0,0];for(_e=0;_e<Rt;_e++)for(jt&&_e==jt&&(xe=Zt(St[$t+1])),ce=0;ce<Tt;ce++){Ut=Ft(it,Be,xe[0],xe),(Ae=1+(Ft(it,Be,(le=15&Ut)-(de=Ut>>>4),0)<<1)<<de>>>1)&1<<le-1||(Ae-=(1<<le)-(de==0?1:0)),ce<2?ue[ce]=ee[1&_e][ce]+=Ae:ue[1&ce]+=Ae;var Ce=Math.min(Math.max(ue[1&ce],0),(1<<zt)-1),Ee=(_e*Tt+ce)*zt;w.decode._putsF(ut,Ee,Ce<<16-zt)}},w.decode._putsF=function(H,q,it){it<<=8-(7&q);var ot=q>>>3;H[ot]|=it>>>16,H[ot+1]|=it>>>8,H[ot+2]|=it},w.decode._getbithuff=function(H,q,it,ot){var ft;w.decode._get_byte;var ut=q[0],dt=q[1],St=q[2],Tt=q[3];if(it==0||St<0)return 0;for(;!Tt&&St<it&&(ft=H[ut++])!=-1&&!(Tt=0);)dt=(dt<<8)+ft,St+=8;if(ft=dt<<32-St>>>32-it,ot?(St-=ot[ft+1]>>>8,ft=255&ot[ft+1]):St-=it,St<0)throw"e";return q[0]=ut,q[1]=dt,q[2]=St,q[3]=Tt,ft},w.decode._make_decoder=function(H){var q,it,ot,ft,ut,dt=[];for(q=16;q!=0&&!H[q];q--);var St=17;for(dt[0]=q,ot=it=1;it<=q;it++)for(ft=0;ft<H[it];ft++,++St)for(ut=0;ut<1<<q-it;ut++)ot<=1<<q&&(dt[ot++]=it<<8|H[St]);return dt},w.decode._decodeNewJPEG=function(H,q,it,ot,ft,ut){ot=Math.min(ot,q.length-it);var dt=H.t347,St=dt?dt.length:0,Tt=new Uint8Array(St+ot);if(dt){for(var Rt=0,zt=0;zt<St-1&&(dt[zt]!=255||dt[zt+1]!=217);zt++)Tt[Rt++]=dt[zt];var $t=q[it],jt=q[it+1];for($t==255&&jt==216||(Tt[Rt++]=$t,Tt[Rt++]=jt),zt=2;zt<ot;zt++)Tt[Rt++]=q[it+zt]}else for(zt=0;zt<ot;zt++)Tt[zt]=q[it+zt];if(H.t262[0]==32803||H.t259[0]==7&&H.t262[0]==34892){var Zt=H.t258[0],Ft=w.LosslessJpegDecode(Tt),Dt=Ft.length;if(Zt==16)if(H.isLE)for(zt=0;zt<Dt;zt++)ft[ut+(zt<<1)]=255&Ft[zt],ft[ut+(zt<<1)+1]=Ft[zt]>>>8;else for(zt=0;zt<Dt;zt++)ft[ut+(zt<<1)]=Ft[zt]>>>8,ft[ut+(zt<<1)+1]=255&Ft[zt];else if(Zt==14||Zt==12||Zt==10){var Kt=16-Zt;for(zt=0;zt<Dt;zt++)w.decode._putsF(ft,zt*Zt,Ft[zt]<<Kt)}else{if(Zt!=8)throw new Error("unsupported bit depth "+Zt);for(zt=0;zt<Dt;zt++)ft[ut+zt]=Ft[zt]}}else{var re=new w.JpegDecoder;re.parse(Tt);var Yt=re.getData({width:re.width,height:re.height,forceRGB:!0,isSourcePDF:!1});for(zt=0;zt<Yt.length;zt++)ft[ut+zt]=Yt[zt]}H.t262[0]==6&&(H.t262[0]=2)},w.decode._decodeOldJPEGInit=function(H,q,it,ot){var ft,ut,dt,St,Tt,Rt=216,zt=0,$t=0,jt=!1,Zt=H.t513,Ft=Zt?Zt[0]:0,Dt=H.t514,Kt=Dt?Dt[0]:0,re=H.t324||H.t273||Zt,Yt=H.t530,ne=0,ee=0,ae=H.t277?H.t277[0]:1,Ut=H.t515;if(re&&($t=re[0],jt=re.length>1),!jt){if(q[it]==255&&q[it+1]==Rt)return{jpegOffset:it};if(Zt!=null&&(q[it+Ft]==255&&q[it+Ft+1]==Rt?zt=it+Ft:g("JPEGInterchangeFormat does not point to SOI"),Dt==null?g("JPEGInterchangeFormatLength field is missing"):(Ft>=$t||Ft+Kt<=$t)&&g("JPEGInterchangeFormatLength field value is invalid"),zt!=null))return{jpegOffset:zt}}if(Yt!=null&&(ne=Yt[0],ee=Yt[1]),Zt!=null&&Dt!=null)if(Kt>=2&&Ft+Kt<=$t){for(ft=q[it+Ft+Kt-2]==255&&q[it+Ft+Kt-1]==Rt?new Uint8Array(Kt-2):new Uint8Array(Kt),dt=0;dt<ft.length;dt++)ft[dt]=q[it+Ft+dt];g("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else g("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(ft==null){var ie=0,_e=[];_e[ie++]=255,_e[ie++]=Rt;var ce=H.t519;if(ce==null)throw new Error("JPEGQTables tag is missing");for(dt=0;dt<ce.length;dt++)for(_e[ie++]=255,_e[ie++]=219,_e[ie++]=0,_e[ie++]=67,_e[ie++]=dt,St=0;St<64;St++)_e[ie++]=q[it+ce[dt]+St];for(Tt=0;Tt<2;Tt++){var le=H[Tt==0?"t520":"t521"];if(le==null)throw new Error((Tt==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(dt=0;dt<le.length;dt++){_e[ie++]=255,_e[ie++]=196;var de=19;for(St=0;St<16;St++)de+=q[it+le[dt]+St];for(_e[ie++]=de>>>8,_e[ie++]=255&de,_e[ie++]=dt|Tt<<4,St=0;St<16;St++)_e[ie++]=q[it+le[dt]+St];for(St=0;St<de;St++)_e[ie++]=q[it+le[dt]+16+St]}}if(_e[ie++]=255,_e[ie++]=192,_e[ie++]=0,_e[ie++]=8+3*ae,_e[ie++]=8,_e[ie++]=H.height>>>8&255,_e[ie++]=255&H.height,_e[ie++]=H.width>>>8&255,_e[ie++]=255&H.width,_e[ie++]=ae,ae==1)_e[ie++]=1,_e[ie++]=17,_e[ie++]=0;else for(dt=0;dt<3;dt++)_e[ie++]=dt+1,_e[ie++]=dt!=0?17:(15&ne)<<4|15&ee,_e[ie++]=dt;Ut!=null&&Ut[0]!=0&&(_e[ie++]=255,_e[ie++]=221,_e[ie++]=0,_e[ie++]=4,_e[ie++]=Ut[0]>>>8&255,_e[ie++]=255&Ut[0]),ft=new Uint8Array(_e)}var Ae=-1;for(dt=0;dt<ft.length-1;){if(ft[dt]==255&&ft[dt+1]==192){Ae=dt;break}dt++}if(Ae==-1){var ve=new Uint8Array(ft.length+10+3*ae);ve.set(ft);var ye=ft.length;if(Ae=ft.length,(ft=ve)[ye++]=255,ft[ye++]=192,ft[ye++]=0,ft[ye++]=8+3*ae,ft[ye++]=8,ft[ye++]=H.height>>>8&255,ft[ye++]=255&H.height,ft[ye++]=H.width>>>8&255,ft[ye++]=255&H.width,ft[ye++]=ae,ae==1)ft[ye++]=1,ft[ye++]=17,ft[ye++]=0;else for(dt=0;dt<3;dt++)ft[ye++]=dt+1,ft[ye++]=dt!=0?17:(15&ne)<<4|15&ee,ft[ye++]=dt}if(q[$t]==255&&q[$t+1]==218){var Me=q[$t+2]<<8|q[$t+3];for((ut=new Uint8Array(Me+2))[0]=q[$t],ut[1]=q[$t+1],ut[2]=q[$t+2],ut[3]=q[$t+3],dt=0;dt<Me-2;dt++)ut[dt+4]=q[$t+dt+4]}else{var ue=0;if((ut=new Uint8Array(8+2*ae))[ue++]=255,ut[ue++]=218,ut[ue++]=0,ut[ue++]=6+2*ae,ut[ue++]=ae,ae==1)ut[ue++]=1,ut[ue++]=0;else for(dt=0;dt<3;dt++)ut[ue++]=dt+1,ut[ue++]=dt<<4|dt;ut[ue++]=0,ut[ue++]=63,ut[ue++]=0}return{jpegOffset:it,tables:ft,sosMarker:ut,sofPosition:Ae}},w.decode._decodeOldJPEG=function(H,q,it,ot,ft,ut){var dt,St,Tt,Rt,zt=w.decode._decodeOldJPEGInit(H,q,it,ot);if(zt.jpegOffset!=null)for(dt=it+ot-zt.jpegOffset,Tt=new Uint8Array(dt),Zt=0;Zt<dt;Zt++)Tt[Zt]=q[zt.jpegOffset+Zt];else{for(St=zt.tables.length,(Tt=new Uint8Array(St+zt.sosMarker.length+ot+2)).set(zt.tables),Rt=St,Tt[zt.sofPosition+5]=H.height>>>8&255,Tt[zt.sofPosition+6]=255&H.height,Tt[zt.sofPosition+7]=H.width>>>8&255,Tt[zt.sofPosition+8]=255&H.width,q[it]==255&&q[it+1]==SOS||(Tt.set(zt.sosMarker,Rt),Rt+=sosMarker.length),Zt=0;Zt<ot;Zt++)Tt[Rt++]=q[it+Zt];Tt[Rt++]=255,Tt[Rt++]=EOI}var $t=new w.JpegDecoder;$t.parse(Tt);for(var jt=$t.getData({width:$t.width,height:$t.height,forceRGB:!0,isSourcePDF:!1}),Zt=0;Zt<jt.length;Zt++)ft[ut+Zt]=jt[Zt];H.t262&&H.t262[0]==6&&(H.t262[0]=2)},w.decode._decodePackBits=function(H,q,it,ot,ft){for(var ut=new Int8Array(H.buffer),dt=new Int8Array(ot.buffer),St=q+it;q<St;){var Tt=ut[q];if(q++,Tt>=0&&Tt<128)for(var Rt=0;Rt<Tt+1;Rt++)dt[ft]=ut[q],ft++,q++;if(Tt>=-127&&Tt<0){for(Rt=0;Rt<1-Tt;Rt++)dt[ft]=ut[q],ft++;q++}}return ft},w.decode._decodeThunder=function(H,q,it,ot,ft){for(var ut=[0,1,0,-1],dt=[0,1,2,3,0,-3,-2,-1],St=q+it,Tt=2*ft,Rt=0;q<St;){var zt=H[q],$t=zt>>>6,jt=63&zt;if(q++,$t==3&&(Rt=15&jt,ot[Tt>>>1]|=Rt<<4*(1-Tt&1),Tt++),$t==0)for(var Zt=0;Zt<jt;Zt++)ot[Tt>>>1]|=Rt<<4*(1-Tt&1),Tt++;if($t==2)for(Zt=0;Zt<2;Zt++)(Ft=jt>>>3*(1-Zt)&7)!=4&&(Rt+=dt[Ft],ot[Tt>>>1]|=Rt<<4*(1-Tt&1),Tt++);if($t==1)for(Zt=0;Zt<3;Zt++){var Ft;(Ft=jt>>>2*(2-Zt)&3)!=2&&(Rt+=ut[Ft],ot[Tt>>>1]|=Rt<<4*(1-Tt&1),Tt++)}}},w.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},w.decode._lens=function(){var H=function(Tt,Rt,zt,$t){for(var jt=0;jt<Rt.length;jt++)Tt[Rt[jt]]=zt+jt*$t},q="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",it="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",ot="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",ft="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",ut="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";q=q.split(","),it=it.split(","),ot=ot.split(","),ft=ft.split(","),ut=ut.split(",");var dt={},St={};return H(dt,q,0,1),H(dt,ot,64,64),H(dt,ut,1792,64),H(St,it,0,1),H(St,ft,64,64),H(St,ut,1792,64),[dt,St]}(),w.decode._decodeG4=function(H,q,it,ot,ft,ut,dt){for(var St=w.decode,Tt=q<<3,Rt=0,zt="",$t=[],jt=[],Zt=0;Zt<ut;Zt++)jt.push(0);jt=St._makeDiff(jt);for(var Ft=0,Dt=0,Kt=0,re=0,Yt=0,ne=0,ee="",ae=0,Ut=8*Math.ceil(ut/8);Tt>>>3<q+it;){Kt=St._findDiff(jt,Ft+(Ft==0?0:1),1-Yt),re=St._findDiff(jt,Kt,Yt);var ie=0;if(dt==1&&(ie=H[Tt>>>3]>>>7-(7&Tt)&1),dt==2&&(ie=H[Tt>>>3]>>>(7&Tt)&1),Tt++,zt+=ie,ee=="H"){if(St._lens[Yt][zt]!=null){var _e=St._lens[Yt][zt];zt="",Rt+=_e,_e<64&&(St._addNtimes($t,Rt,Yt),Ft+=Rt,Yt=1-Yt,Rt=0,--ae==0&&(ee=""))}}else zt=="0001"&&(zt="",St._addNtimes($t,re-Ft,Yt),Ft=re),zt=="001"&&(zt="",ee="H",ae=2),St._dmap[zt]!=null&&(Dt=Kt+St._dmap[zt],St._addNtimes($t,Dt-Ft,Yt),Ft=Dt,zt="",Yt=1-Yt);$t.length==ut&&ee==""&&(St._writeBits($t,ot,8*ft+ne*Ut),Yt=0,ne++,Ft=0,jt=St._makeDiff($t),$t=[])}},w.decode._findDiff=function(H,q,it){for(var ot=0;ot<H.length;ot+=2)if(H[ot]>=q&&H[ot+1]==it)return H[ot]},w.decode._makeDiff=function(H){var q=[];H[0]==1&&q.push(0,1);for(var it=1;it<H.length;it++)H[it-1]!=H[it]&&q.push(it,H[it]);return q.push(H.length,0,H.length,1),q},w.decode._decodeG2=function(H,q,it,ot,ft,ut,dt){for(var St=w.decode,Tt=q<<3,Rt=0,zt="",$t=[],jt=0,Zt=0,Ft=8*Math.ceil(ut/8);Tt>>>3<q+it;){var Dt=0;dt==1&&(Dt=H[Tt>>>3]>>>7-(7&Tt)&1),dt==2&&(Dt=H[Tt>>>3]>>>(7&Tt)&1),Tt++,zt+=Dt,(Rt=St._lens[jt][zt])!=null&&(St._addNtimes($t,Rt,jt),zt="",Rt<64&&(jt=1-jt),$t.length==ut&&(St._writeBits($t,ot,8*ft+Zt*Ft),$t=[],Zt++,jt=0,7&Tt&&(Tt+=8-(7&Tt)),Rt>=64&&(Tt+=8)))}},w.decode._decodeG3=function(H,q,it,ot,ft,ut,dt,St){for(var Tt=w.decode,Rt=q<<3,zt=0,$t="",jt=[],Zt=[],Ft=0;Ft<ut;Ft++)jt.push(0);for(var Dt=0,Kt=0,re=0,Yt=0,ne=0,ee=-1,ae="",Ut=0,ie=!0,_e=8*Math.ceil(ut/8);Rt>>>3<q+it;){re=Tt._findDiff(Zt,Dt+(Dt==0?0:1),1-ne),Yt=Tt._findDiff(Zt,re,ne);var ce=0;if(dt==1&&(ce=H[Rt>>>3]>>>7-(7&Rt)&1),dt==2&&(ce=H[Rt>>>3]>>>(7&Rt)&1),Rt++,$t+=ce,ie){if(Tt._lens[ne][$t]!=null){var le=Tt._lens[ne][$t];$t="",zt+=le,le<64&&(Tt._addNtimes(jt,zt,ne),ne=1-ne,zt=0)}}else ae=="H"?Tt._lens[ne][$t]!=null&&(le=Tt._lens[ne][$t],$t="",zt+=le,le<64&&(Tt._addNtimes(jt,zt,ne),Dt+=zt,ne=1-ne,zt=0,--Ut==0&&(ae=""))):($t=="0001"&&($t="",Tt._addNtimes(jt,Yt-Dt,ne),Dt=Yt),$t=="001"&&($t="",ae="H",Ut=2),Tt._dmap[$t]!=null&&(Kt=re+Tt._dmap[$t],Tt._addNtimes(jt,Kt-Dt,ne),Dt=Kt,$t="",ne=1-ne));$t.endsWith("000000000001")&&(ee>=0&&Tt._writeBits(jt,ot,8*ft+ee*_e),St&&(dt==1&&(ie=(H[Rt>>>3]>>>7-(7&Rt)&1)==1),dt==2&&(ie=(H[Rt>>>3]>>>(7&Rt)&1)==1),Rt++),$t="",ne=0,ee++,Dt=0,Zt=Tt._makeDiff(jt),jt=[])}jt.length==ut&&Tt._writeBits(jt,ot,8*ft+ee*_e)},w.decode._addNtimes=function(H,q,it){for(var ot=0;ot<q;ot++)H.push(it)},w.decode._writeBits=function(H,q,it){for(var ot=0;ot<H.length;ot++)q[it+ot>>>3]|=H[ot]<<7-(it+ot&7)},w.decode._decodeLZW=w.decode._decodeLZW=function(){var H,q,it,ot,ft=0,ut=0,dt=0,St=0,Tt=function(){var Ft=H>>>3,Dt=(q[Ft]<<16|q[Ft+1]<<8|q[Ft+2])>>>24-(7&H)-ut&(1<<ut)-1;return H+=ut,Dt},Rt=new Uint32Array(16384),zt=0,$t=function(Ft){ut=Ft+1,ft=St+1},jt=function(Ft){for(var Dt=Ft<<2,Kt=Rt[Dt+2],re=ot+Kt-1;Dt!=65535;)it[re--]=Rt[Dt],Dt=Rt[Dt+1];ot+=Kt},Zt=function(Ft,Dt){var Kt=ft<<2,re=Ft<<2;Rt[Kt]=Rt[3+(Dt<<2)],Rt[Kt+1]=re,Rt[Kt+2]=Rt[re+2]+1,Rt[Kt+3]=Rt[re+3],++ft+1==1<<ut&&ut!=12&&ut++};return function(Ft,Dt,Kt,re,Yt,ne){H=Dt<<3,q=Ft,it=re,ot=Yt;var ee=Dt+Kt<<3,ae=0,Ut=0;for(function(ie){if(ie!=zt){zt=ie,St=1+(dt=1<<ie);for(var _e=0;_e<St+1;_e++)Rt[4*_e]=Rt[4*_e+3]=_e,Rt[4*_e+1]=65535,Rt[4*_e+2]=1}}(ne),$t(ne);H<ee&&(ae=Tt())!=St;){if(ae==dt){if($t(ne),(ae=Tt())==St)break;jt(ae)}else ae<ft?(jt(ae),Zt(Ut,ae)):(Zt(Ut,Ut),jt(ft-1));Ut=ae}return ot}}(),w.tags={},w._types=function(){var H=new Array(250);return H.fill(0),{basic:{main:H=H.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rest:{33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7}},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}}(),w._readIFD=function(H,q,it,ot,ft,ut){var dt=H.readUshort(q,it);it+=2;var St={};ut.debug&&g("   ".repeat(ft),ot.length-1,">>>----------------");for(var Tt=0;Tt<dt;Tt++){var Rt=H.readUshort(q,it);it+=2;var zt=H.readUshort(q,it);it+=2;var $t=H.readUint(q,it);it+=4;var jt=H.readUint(q,it);it+=4;var Zt=[];if(zt==1||zt==7){var Ft=$t<5?it-4:jt;Ft+$t>q.buffer.byteLength&&($t=q.buffer.byteLength-Ft),Zt=new Uint8Array(q.buffer,Ft,$t)}if(zt==2){var Dt=$t<5?it-4:jt,Kt=q[Dt],re=Math.max(0,Math.min($t-1,q.length-Dt));Kt<128||re==0?Zt.push(H.readASCII(q,Dt,re)):Zt=new Uint8Array(q.buffer,Dt,re)}if(zt==3)for(var Yt=0;Yt<$t;Yt++)Zt.push(H.readUshort(q,($t<3?it-4:jt)+2*Yt));if(zt==4||zt==13)for(Yt=0;Yt<$t;Yt++)Zt.push(H.readUint(q,($t<2?it-4:jt)+4*Yt));if(zt==5||zt==10){var ne=zt==5?H.readUint:H.readInt;for(Yt=0;Yt<$t;Yt++)Zt.push([ne(q,jt+8*Yt),ne(q,jt+8*Yt+4)])}if(zt==8)for(Yt=0;Yt<$t;Yt++)Zt.push(H.readShort(q,($t<3?it-4:jt)+2*Yt));if(zt==9)for(Yt=0;Yt<$t;Yt++)Zt.push(H.readInt(q,($t<2?it-4:jt)+4*Yt));if(zt==11)for(Yt=0;Yt<$t;Yt++)Zt.push(H.readFloat(q,jt+4*Yt));if(zt==12)for(Yt=0;Yt<$t;Yt++)Zt.push(H.readDouble(q,jt+8*Yt));if($t==0||Zt.length!=0){if(ut.debug&&g("   ".repeat(ft),Rt,zt,w.tags[Rt],Zt),St["t"+Rt]=Zt,!(Rt==330&&St.t272&&St.t272[0]=="DSLR-A100")){if(Rt==330||Rt==34665||Rt==34853||Rt==50740&&H.readUshort(q,H.readUint(Zt,0))<300||Rt==61440){var ee=Rt==50740?[H.readUint(Zt,0)]:Zt,ae=[];for(Yt=0;Yt<ee.length;Yt++)w._readIFD(H,q,ee[Yt],ae,ft+1,ut);Rt==330&&(St.subIFD=ae),Rt==34665&&(St.exifIFD=ae[0]),Rt==34853&&(St.gpsiIFD=ae[0]),Rt==50740&&(St.dngPrvt=ae[0]),Rt==61440&&(St.fujiIFD=ae[0])}}if(Rt==37500&&ut.parseMN){var Ut=Zt;if(H.readASCII(Ut,0,5)=="Nikon")St.makerNote=w.decode(Ut.slice(10).buffer)[0];else if(H.readASCII(Ut,0,5)=="OLYMP"||H.readASCII(Ut,0,9)=="OM SYSTEM"){var ie=[8208,8224,8240,8256,8272],_e=[];w._readIFD(H,Ut,Ut[1]==77?16:Ut[5]==85?12:8,_e,ft+1,ut);var ce=St.makerNote=_e.pop();for(Yt=0;Yt<ie.length;Yt++){var le="t"+ie[Yt];ce[le]!=null&&(w._readIFD(H,Ut,ce[le][0],_e,ft+1,ut),ce[le]=_e.pop())}ce.t12288&&(w._readIFD(H,ce.t12288,0,_e,ft+1,ut),ce.t12288=_e.pop())}else H.readUshort(q,jt)<300&&H.readUshort(q,jt+4)<=12&&(_e=[],w._readIFD(H,q,jt,_e,ft+1,ut),St.makerNote=_e[0])}}else if(g(Rt,"unknown TIFF tag type: ",zt,"num:",$t),Tt==0)return}return ot.push(St),ut.debug&&g("   ".repeat(ft),"<<<---------------"),it},w._writeIFD=function(H,q,it,ot,ft){var ut=Object.keys(ft),dt=ut.length;ft.exifIFD&&dt--,ft.gpsiIFD&&dt--,H.writeUshort(it,ot,dt);for(var St=(ot+=2)+12*dt+4,Tt=0;Tt<ut.length;Tt++){var Rt=ut[Tt];if(Rt!="t34665"&&Rt!="t34853"){Rt=="exifIFD"&&(Rt="t34665"),Rt=="gpsiIFD"&&(Rt="t34853");var zt=parseInt(Rt.slice(1)),$t=q.main[zt];if($t==null&&($t=q.rest[zt]),$t==null||$t==0)throw new Error("unknown type of tag: "+zt);var jt=ft[Rt];zt==34665&&(jt=[St],St=w._writeIFD(H,q,it,St,ft.exifIFD)[1]),zt==34853&&(jt=[St],St=w._writeIFD(H,w._types.gps,it,St,ft.gpsiIFD)[1]),$t==2&&(jt=jt[0]+"\0");var Zt=jt.length;H.writeUshort(it,ot,zt),ot+=2,H.writeUshort(it,ot,$t),ot+=2,H.writeUint(it,ot,Zt);var Ft=[-1,1,1,2,4,8,0,1,0,4,8,0,8][$t]*Zt,Dt=ot+=4;if(Ft>4&&(H.writeUint(it,ot,St),Dt=St),$t==1||$t==7)for(var Kt=0;Kt<Zt;Kt++)it[Dt+Kt]=jt[Kt];else if($t==2)H.writeASCII(it,Dt,jt);else if($t==3)for(Kt=0;Kt<Zt;Kt++)H.writeUshort(it,Dt+2*Kt,jt[Kt]);else if($t==4)for(Kt=0;Kt<Zt;Kt++)H.writeUint(it,Dt+4*Kt,jt[Kt]);else if($t==5||$t==10){var re=$t==5?H.writeUint:H.writeInt;for(Kt=0;Kt<Zt;Kt++){var Yt=jt[Kt],ne=Yt[0],ee=Yt[1];if(ne==null)throw"e";re(it,Dt+8*Kt,ne),re(it,Dt+8*Kt+4,ee)}}else if($t==9)for(Kt=0;Kt<Zt;Kt++)H.writeInt(it,Dt+4*Kt,jt[Kt]);else{if($t!=12)throw $t;for(Kt=0;Kt<Zt;Kt++)H.writeDouble(it,Dt+8*Kt,jt[Kt])}Ft>4&&(St+=Ft+=1&Ft),ot+=4}}return[ot,St]},w.toRGBA8=function(H,q){function it(er){return er<.0031308?12.92*er:1.055*Math.pow(er,1/2.4)-.055}var ot=H.width,ft=H.height,ut=ot*ft,dt=H.data,St=new Uint8Array(4*ut),Tt=H.t262?H.t262[0]:2,Rt=H.t258?Math.min(32,H.t258[0]):1;H.t262==null&&Rt==1&&(Tt=0);var zt=H.t277?H.t277[0]:H.t258?H.t258.length:[1,1,3,1,1,4,3][Tt],$t=H.t339?H.t339[0]:null;if(Tt==1&&Rt==32&&$t!=3)throw"e";var jt=Math.ceil(zt*Rt*ot/8);if(Tt==0){q=1/256;for(var Zt=0;Zt<ft;Zt++){var Ft=Zt*jt,Dt=Zt*ot;if(Rt==1)for(var Kt=0;Kt<ot;Kt++){var re=Dt+Kt<<2,Yt=dt[Ft+(Kt>>3)]>>7-(7&Kt)&1;St[re]=St[re+1]=St[re+2]=255*(1-Yt),St[re+3]=255}if(Rt==4)for(Kt=0;Kt<ot;Kt++)re=Dt+Kt<<2,Yt=dt[Ft+(Kt>>1)]>>4-4*(1&Kt)&15,St[re]=St[re+1]=St[re+2]=17*(15-Yt),St[re+3]=255;if(Rt==8)for(Kt=0;Kt<ot;Kt++)re=Dt+Kt<<2,Yt=dt[Ft+Kt],St[re]=St[re+1]=St[re+2]=255-Yt,St[re+3]=255;if(Rt==16)for(Kt=0;Kt<ot;Kt++)re=Dt+Kt<<2,Yt=dt[(ee=Ft+2*Kt)+1]<<8|dt[ee],St[re]=St[re+1]=St[re+2]=Math.min(255,255-~~(Yt*q)),St[re+3]=255}}else if(Tt==1){q==null&&(q=1/256);var ne=3&dt.length?null:new Float32Array(dt.buffer);for(Zt=0;Zt<ft;Zt++){if(Ft=Zt*jt,Dt=Zt*ot,Rt==1)for(Kt=0;Kt<ot;Kt++)re=Dt+Kt<<2,Yt=dt[Ft+(Kt>>3)]>>7-(7&Kt)&1,St[re]=St[re+1]=St[re+2]=255*Yt,St[re+3]=255;if(Rt==2)for(Kt=0;Kt<ot;Kt++)re=Dt+Kt<<2,Yt=dt[Ft+(Kt>>2)]>>6-2*(3&Kt)&3,St[re]=St[re+1]=St[re+2]=85*Yt,St[re+3]=255;if(Rt==8)for(Kt=0;Kt<ot;Kt++)re=Dt+Kt<<2,Yt=dt[Ft+Kt*zt],St[re]=St[re+1]=St[re+2]=Yt,St[re+3]=255;if(Rt==16)for(Kt=0;Kt<ot;Kt++)re=Dt+Kt<<2,Yt=dt[(ee=Ft+2*Kt)+1]<<8|dt[ee],St[re]=St[re+1]=St[re+2]=Math.min(255,~~(Yt*q)),St[re+3]=255;if(Rt==32)for(Kt=0;Kt<ot;Kt++){var ee;re=Dt+Kt<<2,Yt=ne[ee=(Ft>>>2)+Kt],St[re]=St[re+1]=St[re+2]=~~(.5+255*Yt),St[re+3]=255}}}else if(Tt==2)if(Rt==8){if(zt==1)for(Kt=0;Kt<ut;Kt++)St[4*Kt]=St[4*Kt+1]=St[4*Kt+2]=dt[Kt],St[4*Kt+3]=255;if(zt==3)for(Kt=0;Kt<ut;Kt++){var ae=3*Kt;St[re=Kt<<2]=dt[ae],St[re+1]=dt[ae+1],St[re+2]=dt[ae+2],St[re+3]=255}if(zt>=4)for(Kt=0;Kt<ut;Kt++)ae=Kt*zt,St[re=Kt<<2]=dt[ae],St[re+1]=dt[ae+1],St[re+2]=dt[ae+2],St[re+3]=dt[ae+3]}else if(Rt==16){if(zt==4)for(Kt=0;Kt<ut;Kt++)ae=8*Kt+1,St[re=Kt<<2]=dt[ae],St[re+1]=dt[ae+2],St[re+2]=dt[ae+4],St[re+3]=dt[ae+6];if(zt==3)for(Kt=0;Kt<ut;Kt++)ae=6*Kt+1,St[re=Kt<<2]=dt[ae],St[re+1]=dt[ae+2],St[re+2]=dt[ae+4],St[re+3]=255}else{if(Rt!=32)throw Rt;var Ut=new Float32Array(dt.buffer),ie=0;for(Kt=0;Kt<Ut.length;Kt++)ie=Math.min(ie,Ut[Kt]);if(ie<0)for(Kt=0;Kt<dt.length;Kt+=4){var _e=dt[Kt];dt[Kt]=dt[Kt+3],dt[Kt+3]=_e,_e=dt[Kt+1],dt[Kt+1]=dt[Kt+2],dt[Kt+2]=_e}var ce=[];for(Kt=0;Kt<65536;Kt++)ce.push(it(Kt/65535));for(Kt=0;Kt<Ut.length;Kt++){var le=Math.max(0,Math.min(1,Ut[Kt]));Ut[Kt]=ce[~~(.5+65535*le)]}if(zt==3)for(Kt=0;Kt<ut;Kt++)ae=3*Kt,St[re=Kt<<2]=~~(.5+255*Ut[ae]),St[re+1]=~~(.5+255*Ut[ae+1]),St[re+2]=~~(.5+255*Ut[ae+2]),St[re+3]=255;else{if(zt!=4)throw zt;for(Kt=0;Kt<ut;Kt++)ae=4*Kt,St[re=Kt<<2]=~~(.5+255*Ut[ae]),St[re+1]=~~(.5+255*Ut[ae+1]),St[re+2]=~~(.5+255*Ut[ae+2]),St[re+3]=~~(.5+255*Ut[ae+3])}}else if(Tt==3){var de=H.t320,Ae=1<<Rt,ve=Rt==8&&zt>1&&H.t338&&H.t338[0]!=0;for(Zt=0;Zt<ft;Zt++)for(var ye=0;ye<ot;ye++){re=(Kt=Zt*ot+ye)<<2;var Me=0,ue=Zt*jt;if(Rt==1)Me=dt[ue+(ye>>>3)]>>>7-(7&ye)&1;else if(Rt==2)Me=dt[ue+(ye>>>2)]>>>6-2*(3&ye)&3;else if(Rt==4)Me=dt[ue+(ye>>>1)]>>>4-4*(1&ye)&15;else{if(Rt!=8)throw Rt;Me=dt[ue+ye*zt]}St[re]=de[Me]>>8,St[re+1]=de[Ae+Me]>>8,St[re+2]=de[Ae+Ae+Me]>>8,St[re+3]=ve?dt[ue+ye*zt+1]:255}}else if(Tt==5){var xe=zt>4?1:0;for(Kt=0;Kt<ut;Kt++){re=Kt<<2;var Be=Kt*zt;if(window.UDOC){var Ce=dt[Be],Ee=dt[Be+1],Se=dt[Be+2],Ne=dt[Be+3],Fe=UDOC.C.cmykToRgb([Ce*(1/255),Ee*(1/255),Se*(1/255),Ne*(1/255)]);St[re]=~~(.5+255*Fe[0]),St[re+1]=~~(.5+255*Fe[1]),St[re+2]=~~(.5+255*Fe[2])}else Ce=255-dt[Be],Ee=255-dt[Be+1],Se=255-dt[Be+2],Ne=(255-dt[Be+3])*(1/255),St[re]=~~(Ce*Ne+.5),St[re+1]=~~(Ee*Ne+.5),St[re+2]=~~(Se*Ne+.5);St[re+3]=255*(1-xe)+dt[Be+4]*xe}}else if(Tt==6&&H.t278){var Oe=H.t278[0];for(Zt=0;Zt<ft;Zt+=Oe){Kt=Zt*ot;for(var Pe=Oe*ot,Jt=0;Jt<Pe;Jt++){re=4*(Kt+Jt),Se=dt[(Be=3*Kt+4*(Jt>>>1))+(1&Jt)];var Te=dt[Be+2]-128,he=dt[Be+3]-128,me=Se+((he>>2)+(he>>3)+(he>>5)),pe=Se-((Te>>2)+(Te>>4)+(Te>>5))-((he>>1)+(he>>3)+(he>>4)+(he>>5)),we=Se+(Te+(Te>>1)+(Te>>2)+(Te>>6));St[re]=Math.max(0,Math.min(255,me)),St[re+1]=Math.max(0,Math.min(255,pe)),St[re+2]=Math.max(0,Math.min(255,we)),St[re+3]=255}}}else if(Tt==32845)for(Zt=0;Zt<ft;Zt++)for(ye=0;ye<ot;ye++){re=4*(Zt*ot+ye);var Re=dt[(Be=6*(Zt*ot+ye))+1]<<8|dt[Be],Ht=(Re=Math.pow(2,(Re+.5)/256-64),(dt[Be+3]+.5)/410),oe=(dt[Be+5]+.5)/410,ge=9*Ht/(6*Ht-16*oe+12),be=4*oe/(6*Ht-16*oe+12),De=ge*Re/be,je=(1-ge-be)*Re/be;me=2.69*De-1.276*(Se=Re)-.414*je,pe=-1.022*De+1.978*Se+.044*je,we=.061*De-.224*Se+1.163*je,St[re]=255*it(Math.min(me,1)),St[re+1]=255*it(Math.min(pe,1)),St[re+2]=255*it(Math.min(we,1)),St[re+3]=255}else g("Unknown Photometric interpretation: "+Tt);return St},w.replaceIMG=function(H){H==null&&(H=document.getElementsByTagName("img"));for(var q=["tif","tiff","dng","cr2","nef"],it=0;it<H.length;it++){var ot=H[it],ft=ot.getAttribute("src");if(ft!=null){var ut=ft.split(".").pop().toLowerCase();if(q.indexOf(ut)!=-1){var dt=new XMLHttpRequest;w._xhrs.push(dt),w._imgs.push(ot),dt.open("GET",ft),dt.responseType="arraybuffer",dt.onload=w._imgLoaded,dt.send()}}}},w._xhrs=[],w._imgs=[],w._imgLoaded=function(H){var q=w._xhrs.indexOf(H.target),it=w._imgs[q];w._xhrs.splice(q,1),w._imgs.splice(q,1),it.setAttribute("src",w.bufferToURI(H.target.response))},w.bufferToURI=function(H){var q=w.decode(H),it=q,ot=0,ft=it[0];q[0].subIFD&&(it=it.concat(q[0].subIFD));for(var ut=0;ut<it.length;ut++){var dt=it[ut];if(!(dt.t258==null||dt.t258.length<3)){var St=dt.t256*dt.t257;St>ot&&(ot=St,ft=dt)}}w.decodeImage(H,ft,q);var Tt=w.toRGBA8(ft),Rt=ft.width,zt=ft.height,$t=document.createElement("canvas");$t.width=Rt,$t.height=zt;var jt=$t.getContext("2d"),Zt=new ImageData(new Uint8ClampedArray(Tt.buffer),Rt,zt);return jt.putImageData(Zt,0,0),$t.toDataURL()},w._binBE={nextZero:function(H,q){for(;H[q]!=0;)q++;return q},readUshort:function(H,q){return H[q]<<8|H[q+1]},readShort:function(H,q){var it=w._binBE.ui8;return it[0]=H[q+1],it[1]=H[q+0],w._binBE.i16[0]},readInt:function(H,q){var it=w._binBE.ui8;return it[0]=H[q+3],it[1]=H[q+2],it[2]=H[q+1],it[3]=H[q+0],w._binBE.i32[0]},readUint:function(H,q){var it=w._binBE.ui8;return it[0]=H[q+3],it[1]=H[q+2],it[2]=H[q+1],it[3]=H[q+0],w._binBE.ui32[0]},readASCII:function(H,q,it){for(var ot="",ft=0;ft<it;ft++)ot+=String.fromCharCode(H[q+ft]);return ot},readFloat:function(H,q){for(var it=w._binBE.ui8,ot=0;ot<4;ot++)it[ot]=H[q+3-ot];return w._binBE.fl32[0]},readDouble:function(H,q){for(var it=w._binBE.ui8,ot=0;ot<8;ot++)it[ot]=H[q+7-ot];return w._binBE.fl64[0]},writeUshort:function(H,q,it){H[q]=it>>8&255,H[q+1]=255&it},writeInt:function(H,q,it){var ot=w._binBE.ui8;w._binBE.i32[0]=it,H[q+3]=ot[0],H[q+2]=ot[1],H[q+1]=ot[2],H[q+0]=ot[3]},writeUint:function(H,q,it){H[q]=it>>24&255,H[q+1]=it>>16&255,H[q+2]=it>>8&255,H[q+3]=255&it},writeASCII:function(H,q,it){for(var ot=0;ot<it.length;ot++)H[q+ot]=it.charCodeAt(ot)},writeDouble:function(H,q,it){w._binBE.fl64[0]=it;for(var ot=0;ot<8;ot++)H[q+ot]=w._binBE.ui8[7-ot]}},w._binBE.ui8=new Uint8Array(8),w._binBE.i16=new Int16Array(w._binBE.ui8.buffer),w._binBE.i32=new Int32Array(w._binBE.ui8.buffer),w._binBE.ui32=new Uint32Array(w._binBE.ui8.buffer),w._binBE.fl32=new Float32Array(w._binBE.ui8.buffer),w._binBE.fl64=new Float64Array(w._binBE.ui8.buffer),w._binLE={nextZero:w._binBE.nextZero,readUshort:function(H,q){return H[q+1]<<8|H[q]},readShort:function(H,q){var it=w._binBE.ui8;return it[0]=H[q+0],it[1]=H[q+1],w._binBE.i16[0]},readInt:function(H,q){var it=w._binBE.ui8;return it[0]=H[q+0],it[1]=H[q+1],it[2]=H[q+2],it[3]=H[q+3],w._binBE.i32[0]},readUint:function(H,q){var it=w._binBE.ui8;return it[0]=H[q+0],it[1]=H[q+1],it[2]=H[q+2],it[3]=H[q+3],w._binBE.ui32[0]},readASCII:w._binBE.readASCII,readFloat:function(H,q){for(var it=w._binBE.ui8,ot=0;ot<4;ot++)it[ot]=H[q+ot];return w._binBE.fl32[0]},readDouble:function(H,q){for(var it=w._binBE.ui8,ot=0;ot<8;ot++)it[ot]=H[q+ot];return w._binBE.fl64[0]},writeUshort:function(H,q,it){H[q]=255&it,H[q+1]=it>>8&255},writeInt:function(H,q,it){var ot=w._binBE.ui8;w._binBE.i32[0]=it,H[q+0]=ot[0],H[q+1]=ot[1],H[q+2]=ot[2],H[q+3]=ot[3]},writeUint:function(H,q,it){H[q]=it>>>0&255,H[q+1]=it>>>8&255,H[q+2]=it>>>16&255,H[q+3]=it>>>24&255},writeASCII:w._binBE.writeASCII},w._copyTile=function(H,q,it,ot,ft,ut,dt,St){for(var Tt=Math.min(q,ft-dt),Rt=Math.min(it,ut-St),zt=0;zt<Rt;zt++)for(var $t=(St+zt)*ft+dt,jt=zt*q,Zt=0;Zt<Tt;Zt++)ot[$t+Zt]=H[jt+Zt]},w.LosslessJpegDecode=function(){var H,q;function it(){return H[q++]}function ot(){return H[q++]<<8|H[q++]}function ft(Ft){for(var Dt=it(),Kt=[0,0,0,255],re=[],Yt=0;Yt<16;Yt++)re[Yt]=it();for(Yt=0;Yt<16;Yt++)for(var ne=0;ne<re[Yt];ne++)Kt[ut(Kt,0,Yt+1,1)+3]=it();var ee=new Uint8Array(256);for(Ft[Dt]=[new Uint8Array(Kt),ee],Yt=0;Yt<256;Yt++){for(var ae=8,Ut=Yt,ie=0;Kt[ie+3]==255&&ae!=0;)ie=Kt[ie+(Ut>>--ae&1)];ee[Yt]=ie}}function ut(Ft,Dt,Kt,re){if(Ft[Dt+3]!=255)return 0;if(Kt==0)return Dt;for(var Yt=0;Yt<2;Yt++){Ft[Dt+Yt]==0&&(Ft[Dt+Yt]=Ft.length,Ft.push(0,0,re,255));var ne=ut(Ft,Ft[Dt+Yt],Kt-1,re+1);if(ne!=0)return ne}return 0}function dt(Ft){for(var Dt=Ft.b,Kt=Ft.f;Dt<25&&Ft.a<Ft.d;){var re=Ft.data[Ft.a++];re!=255||Ft.c||Ft.a++,Kt=Kt<<8|re,Dt+=8}if(Dt<0)throw"e";Ft.b=Dt,Ft.f=Kt}function St(Ft,Dt){return Dt.b<Ft&&dt(Dt),Dt.f>>(Dt.b-=Ft)&65535>>16-Ft}function Tt(Ft,Dt){var Kt=Ft[0],re=0,Yt=255;Dt.b<16&&dt(Dt);var ne=Dt.f>>Dt.b-8&255;for(Yt=Kt[(re=Ft[1][ne])+3],Dt.b-=Kt[re+2];Yt==255;)Yt=Kt[(re=Kt[re+(Dt.f>>--Dt.b&1)])+3];return Yt}function Rt(Ft,Dt){return Ft<32768>>16-Dt&&(Ft+=1-(1<<Dt)),Ft}function zt(Ft,Dt){var Kt=Tt(Ft,Dt);return Kt==0?0:Kt==16?-32768:Rt(St(Kt,Dt),Kt)}function $t(Ft,Dt,Kt,re,Yt,ne){for(var ee=0,ae=0;ae<ne;ae++){for(var Ut=ae*Dt,ie=0;ie<Dt;ie+=Yt){ee++;for(var _e=0;_e<Yt;_e++)Ft[Ut+ie+_e]=zt(re[_e],Kt)}if(Kt.e!=0&&ee%Kt.e==0&&ae!=0){for(var ce=Kt.a,le=Kt.data;le[ce]!=255||!(208<=le[ce+1]&&le[ce+1]<=215);)ce--;Kt.a=ce+2,Kt.f=0,Kt.b=0}}}function jt(Ft,Dt){return Rt(St(Ft,Dt),Ft)}function Zt(Ft,Dt,Kt,re,Yt,ne,ee,ae){for(var Ut=Kt*ee,ie=Yt;ie<ne;ie++)Ft[ie]+=1<<ae-1;for(var _e=ee;_e<Ut;_e+=ee)for(ie=Yt;ie<ne;ie++)Ft[_e+ie]+=Ft[_e+ie-ee];for(var ce=1;ce<re;ce++){var le=ce*Ut;for(ie=Yt;ie<ne;ie++)Ft[le+ie]+=Ft[le+ie-Ut];for(_e=ee;_e<Ut;_e+=ee)for(ie=Yt;ie<ne;ie++){var de=le+_e+ie,Ae=de-Ut,ve=Ft[de-ee],ye=0;if(Dt==0)ye=0;else if(Dt==1)ye=ve;else if(Dt==2)ye=Ft[Ae];else if(Dt==3)ye=Ft[Ae-ee];else if(Dt==4)ye=ve+(Ft[Ae]-Ft[Ae-ee]);else if(Dt==5)ye=ve+(Ft[Ae]-Ft[Ae-ee]>>>1);else if(Dt==6)ye=Ft[Ae]+(ve-Ft[Ae-ee]>>>1);else{if(Dt!=7)throw Dt;ye=ve+Ft[Ae]>>>1}Ft[de]+=ye}}}return function(Ft){if(H=Ft,q=0,ot()!=65496)throw"e";for(var Dt=[],Kt=0,re=0,Yt=0,ne=[],ee=[],ae=[],Ut=0,ie=0,_e=0;;){var ce=ot();if(ce!=65535){var le=ot();if(ce==65475){re=it(),ie=ot(),_e=ot(),Ut=it();for(var de=0;de<Ut;de++){var Ae=it(),ve=it();if(it()!=0)throw"e";Dt[Ae]=[de,ve>>4,15&ve]}}else if(ce==65476)for(var ye=q+le-2;q<ye;)ft(ee);else{if(ce==65498){for(q++,de=0;de<Ut;de++){var Me=Dt[it()];ae[Me[0]]=ee[it()>>>4],ne[Me[0]]=Me.slice(1)}Kt=it(),q+=2;break}ce==65501?Yt=ot():q+=le-2}}else q--}var ue=new(re>8?Uint16Array:Uint8Array)(ie*_e*Ut),xe={b:0,f:0,c:Kt==8,a:q,data:H,d:H.length,e:Yt};if(xe.c)(function(De,je,er,ir,Xe){for(var ar=H.length-q,rr=0;rr<ar;rr+=4){var gr=H[q+rr];H[q+rr]=H[q+rr+3],H[q+rr+3]=gr,gr=H[q+rr+1],H[q+rr+1]=H[q+rr+2],H[q+rr+2]=gr}for(var dr=0;dr<Xe;dr++)for(var hr=32768,kr=32768,cr=0;cr<je;cr+=2){var ze=Tt(ir,er),nr=Tt(ir,er);ze!=0&&(hr+=jt(ze,er)),nr!=0&&(kr+=jt(nr,er)),De[dr*je+cr]=65535&hr,De[dr*je+cr+1]=65535&kr}})(ue,_e*Ut,xe,ae[0],ie);else{var Be=[],Ce=0,Ee=0;for(de=0;de<Ut;de++){var Se=ne[de];(we=Se[0])>Ce&&(Ce=we),(pe=Se[1])>Ee&&(Ee=pe),Be.push(we*pe)}if(Ce!=1||Ee!=1){if(Ut!=3||Be[1]!=1||Be[2]!=1||Ce!=2||Ee!=1&&Ee!=2)throw"e";var Ne=[],Fe=0;for(de=0;de<Ut;de++){for(var Oe=0;Oe<Be[de];Oe++)Ne.push(ae[de]);Fe+=Be[de]}var Pe=_e/Ce,Jt=ie/Ee,Te=Pe*Jt;$t(ue,Pe*Fe,xe,Ne,Fe,Jt),Zt(ue,Kt,Pe,Jt,Fe-2,Fe,Fe,re);var he=new Uint16Array(Te*Be[0]);if(Ce==2&&Ee==2){for(de=0;de<Te;de++)he[4*de]=ue[6*de],he[4*de+1]=ue[6*de+1],he[4*de+2]=ue[6*de+2],he[4*de+3]=ue[6*de+3];for(Zt(he,Kt,4*Pe,Jt,0,1,1,re),de=0;de<Te;de++)ue[6*de]=he[4*de],ue[6*de+1]=he[4*de+1],ue[6*de+2]=he[4*de+2],ue[6*de+3]=he[4*de+3]}if(Ce==2&&Ee==1){for(de=0;de<Te;de++)he[2*de]=ue[4*de],he[2*de+1]=ue[4*de+1];for(Zt(he,Kt,2*Pe,Jt,0,1,1,re),de=0;de<Te;de++)ue[4*de]=he[2*de],ue[4*de+1]=he[2*de+1]}for(var me=ue.slice(0),pe=0;pe<ie;pe++)if(Ee==2)for(var we=0;we<_e;we++){var Re=((pe>>>1)*Pe+(we>>>1))*Fe,Ht=2*(1&pe)+(1&we);ue[oe=(pe*_e+we)*Ut]=me[Re+Ht],ue[oe+1]=me[Re+4],ue[oe+2]=me[Re+5]}else for(we=0;we<_e;we++){var oe;Re=(pe*Pe+(we>>>1))*Fe,Ht=1&we,ue[oe=(pe*_e+we)*Ut]=me[Re+Ht],ue[oe+1]=me[Re+2],ue[oe+2]=me[Re+3]}}else if($t(ue,_e*Ut,xe,ae,Ut,ie),Yt==0)Zt(ue,Kt,_e,ie,0,Ut,Ut,re);else{var ge=Math.floor(Yt/_e);for(pe=0;pe<ie;pe+=ge){var be=ue.slice(pe*_e*Ut,(pe+ge)*_e*Ut);Zt(be,Kt,_e,ge,0,Ut,Ut,re),ue.set(be,pe*_e*Ut)}}}return ue}}(),function(){var H=2,q=4,it=5,ot=6,ft=7,ut=12,dt=13,St=14,Tt=15,Rt=17;function zt(ne){var ee={c:new Int8Array(2<<ne.u)};return function(ae,Ut,ie){var _e=[Ut,3*Ut+18,5*Ut+67,7*Ut+276,ie];ae.o=Ut,ae.w=(_e[4]+2*Ut)/(2*Ut+1)+1|0,ae.v=Math.ceil(Math.log2(ae.w)),ae.t=9,function(ce,le){for(var de=-le[4],Ae=0;de<=le[4];Ae++,de++)ce[Ae]=de<=-le[3]?-4:de<=-le[2]?-3:de<=-le[1]?-2:de<-le[0]?-1:de<=le[0]?0:de<le[1]?1:de<le[2]?2:de<le[3]?3:4}(ae.c,_e)}(ee,0,ne.g),ee}function $t(ne){for(var ee=[[],[],[]],ae=Math.max(2,ne.w+32>>>6),Ut=0;Ut<3;Ut++)for(var ie=0;ie<41;ie++)ee[Ut][ie]=[ae,1];return ee}function jt(ne,ee){var ae=0,Ut=8-ne.a;if(ne.j,ne.a,ee){if(ee>=Ut)do ae<<=Ut,ee-=Ut,ae|=ne[ne.j]&(1<<Ut)-1,ne.j++,Ut=8;while(ee>=8);ee&&(ae<<=ee,Ut-=ee,ae|=ne[ne.j]>>>Ut&(1<<ee)-1),ne.a=8-Ut}return ae}function Zt(ne,ee,ae,Ut,ie,_e,ce,le){le==null&&(le=0);var de,Ae,ve,ye,Me,ue,xe=_e+1,Be=xe%2,Ce=0,Ee=Ut[ie],Se=Ut[ie-1],Ne=Ut[ie-2][xe],Fe=Se[xe-1],Oe=Se[xe],Pe=Se[xe+1],Jt=Ee[xe-1],Te=Ee[xe+1],he=Math.abs;if(Be&&(ve=he(Pe-Oe),ye=he(Ne-Oe),Me=he(Fe-Oe)),Be){if(ue=(ue=ve>Me&&ye<ve?Ne+Fe:ve<Me&&ye<Me?Ne+Pe:Pe+Fe)+2*Oe>>>2,le)return void(Ee[xe]=ue);de=ee.t*ee.c[ne.g+Oe-Ne]+ee.c[ne.g+Fe-Oe]}else ue=Oe>Fe&&Oe>Pe||Oe<Fe&&Oe<Pe?Te+Jt+2*Oe>>>2:Jt+Te>>>1,de=ee.t*ee.c[ne.g+Oe-Fe]+ee.c[ne.g+Fe-Jt];Ae=he(de);var me=function(we){for(var Re=-1,Ht=0;!Ht;Re++)Ht=we[we.j]>>>7-we.a&1,we.a++,we.a&=7,we.a||we.j++;return Re}(ae);if(me<ne.n-ee.v-1){var pe=function(we,Re){var Ht=0;if(Re<we)for(;Ht<=14&&Re<<++Ht<we;);return Ht}(ce[Ae][0],ce[Ae][1]);Ce=jt(ae,pe)+(me<<pe)}else Ce=jt(ae,ee.v)+1;Ce=1&Ce?-1-(Ce>>>1):Ce>>>1,ce[Ae][0]+=he(Ce),ce[Ae][1]==ne.f&&(ce[Ae][0]>>>=1,ce[Ae][1]>>>=1),ce[Ae][1]++,ue=de<0?ue-Ce:ue+Ce,ne.i&&(ue<0?ue+=ee.w:ue>ne.g&&(ue-=ee.w)),Ee[xe]=ue>=0?Math.min(ue,ne.g):0}function Ft(ne,ee,ae){for(var Ut=ne[0].length,ie=ee;ie<=ae;ie++)ne[ie][0]=ne[ie-1][1],ne[ie][Ut-1]=ne[ie-1][Ut-2]}function Dt(ne){Ft(ne,ft,ut),Ft(ne,H,q),Ft(ne,Tt,Rt)}function Kt(ne,ee,ae,Ut,ie,_e,ce,le,de,Ae,ve,ye,Me){for(var ue=0,xe=1,Be=ie<dt&&ie>q;xe<ne.m;)ue<ne.m&&(Zt(ne,ee,ae,Ut,ie,ue,ce[de],ne.h&&(Be&&Ae||!Be&&(ve||(ue&ye)==Me))),Zt(ne,ee,ae,Ut,_e,ue,ce[de],ne.h&&(!Be&&Ae||Be&&(ve||(ue&ye)==Me))),ue+=2),ue>8&&(Zt(ne,ee,ae,Ut,ie,xe,le[de]),Zt(ne,ee,ae,Ut,_e,xe,le[de]),xe+=2);Dt(Ut)}function re(ne,ee,ae,Ut,ie,_e){Kt(ne,ee,ae,Ut,H,ft,ie,_e,0,0,1,0,8),Kt(ne,ee,ae,Ut,8,Tt,ie,_e,1,0,1,0,8),Kt(ne,ee,ae,Ut,3,9,ie,_e,2,1,0,3,0),Kt(ne,ee,ae,Ut,10,16,ie,_e,0,0,0,3,2),Kt(ne,ee,ae,Ut,q,11,ie,_e,1,0,0,3,2),Kt(ne,ee,ae,Ut,ut,Rt,ie,_e,2,1,0,3,0)}function Yt(ne,ee,ae,Ut,ie,_e){var ce=_e.length,le=ne.l;ie+1==ne.s&&(le=ne.e-ie*ne.l);for(var de=6*ne.e*Ut+ie*ne.l,Ae=0;Ae<6;Ae++){for(var ve=0;ve<le;ve++){var ye,Me=_e[Ae%ce][ve%ce];ye=Me==0?H+(Ae>>>1):Me==2?Tt+(Ae>>>1):ft+Ae;var ue=ne.h?(2*ve/3&2147483646|ve%3&1)+(ve%3>>>1):ve>>>1;ee[de+ve]=ae[ye][ue+1]}de+=ne.e}}w._decompressRAF=function(ne,ee){var ae=function(xe){var Be=w._binBE.readUshort,Ce={b:Be(xe,0),i:xe[2],C:xe[3],u:xe[4],q:Be(xe,5),k:Be(xe,7),e:Be(xe,9),l:Be(xe,11),s:xe[13],d:Be(xe,14)};if(Ce.b!=18771||Ce.i>1||Ce.q<6||Ce.q%6||Ce.e<768||Ce.e%24||Ce.l!=768||Ce.k<Ce.l||Ce.k%Ce.l||Ce.k-Ce.e>=Ce.l||Ce.s>16||Ce.s!=Ce.k/Ce.l||Ce.s!=Math.ceil(Ce.e/Ce.l)||Ce.d!=Ce.q/6||Ce.u!=12&&Ce.u!=14&&Ce.u!=16||Ce.C!=16&&Ce.C!=0)throw"Invalid data";if(Ce.i==0)throw"Not implemented. We need this file!";return Ce.h=Ce.C==16,Ce.m=0|(Ce.h?2*Ce.l/3:Ce.l>>>1),Ce.A=Ce.m+2,Ce.f=64,Ce.g=(1<<Ce.u)-1,Ce.n=4*Ce.u,Ce}(ne),Ut=function(xe,Be){var Ce=new Array(Be.s),Ee=4*Be.s,Se=16+Ee;12&Ee&&(Se+=16-(12&Ee));for(var Ne=0,Fe=16;Ne<Be.s;Fe+=4){var Oe=w._binBE.readUint(xe,Fe);Ce[Ne]=xe.slice(Se,Se+Oe),Ce[Ne].j=0,Ce[Ne].a=0,Se+=Oe,Ne++}if(Se!=xe.length)throw"Invalid data";return Ce}(ne,ae),ie=zt(ae),_e=new Int16Array(ae.e*ae.q);ee==null&&(ee=ae.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var ce=[[0,3],[1,q],[it,11],[ot,ut],[dt,16],[St,Rt]],le=[],de=0;de<18;de++)le[de]=new Uint16Array(ae.A);for(var Ae=0;Ae<ae.s;Ae++){var ve=$t(ie),ye=$t(ie);for(de=0;de<18;de++)for(var Me=0;Me<ae.A;Me++)le[de][Me]=0;for(var ue=0;ue<ae.d;ue++){for(re(ae,ie,Ut[Ae],le,ve,ye),de=0;de<6;de++)for(Me=0;Me<ae.A;Me++)le[ce[de][0]][Me]=le[ce[de][1]][Me];for(Yt(ae,_e,le,ue,Ae,ee),de=H;de<18;de++)if([it,ot,dt,St].indexOf(de)==-1)for(Me=0;Me<ae.A;Me++)le[de][Me]=0;Dt(le)}}return _e}}()}(m,typeof commonjsRequire=="function"?requirePako():self.pako)})()})(UTIF);var UTIFExports=UTIF.exports,utif=getDefaultExportFromCjs(UTIFExports),util$1,objectUtil;function getDimensionValue(d){return typeof d=="number"?d:d instanceof Uint8Array?d[0]:typeof d[0]=="string"?parseInt(d[0]):d[0]}function tiff(){return{mime:"image/tiff",encode:d=>{const m=utif.encodeImage(d.data,d.width,d.height);return Buffer.from(m)},decode:d=>{const m=utif.decode(d),g=m[0];if(!g)throw new Error("No page found in TIFF");if(!g.t256)throw new Error("No image width found in TIFF");if(!g.t257)throw new Error("No image height found in TIFF");m.forEach(D=>{utif.decodeImage(d,D)});const w=utif.toRGBA8(g);return{data:Buffer.from(w),width:getDimensionValue(g.t256),height:getDimensionValue(g.t257)}}}}(function(d){d.assertEqual=m=>m,d.assertIs=function(m){},d.assertNever=function(m){throw new Error},d.arrayToEnum=m=>{const g={};for(const w of m)g[w]=w;return g},d.getValidEnumValues=m=>{const g=d.objectKeys(m).filter(D=>typeof m[m[D]]!="number"),w={};for(const D of g)w[D]=m[D];return d.objectValues(w)},d.objectValues=m=>d.objectKeys(m).map(function(g){return m[g]}),d.objectKeys=typeof Object.keys=="function"?m=>Object.keys(m):m=>{const g=[];for(const w in m)Object.prototype.hasOwnProperty.call(m,w)&&g.push(w);return g},d.find=(m,g)=>{for(const w of m)if(g(w))return w},d.isInteger=typeof Number.isInteger=="function"?m=>Number.isInteger(m):m=>typeof m=="number"&&isFinite(m)&&Math.floor(m)===m,d.joinValues=function(m,g=" | "){return m.map(w=>typeof w=="string"?`'${w}'`:w).join(g)},d.jsonStringifyReplacer=(m,g)=>typeof g=="bigint"?g.toString():g})(util$1||(util$1={})),function(d){d.mergeShapes=(m,g)=>({...m,...g})}(objectUtil||(objectUtil={}));const ZodParsedType=util$1.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=d=>{switch(typeof d){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(d)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(d)?ZodParsedType.array:d===null?ZodParsedType.null:d.then&&typeof d.then=="function"&&d.catch&&typeof d.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&d instanceof Map?ZodParsedType.map:typeof Set<"u"&&d instanceof Set?ZodParsedType.set:typeof Date<"u"&&d instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$1.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=d=>JSON.stringify(d,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(m){super(),this.issues=[],this.addIssue=w=>{this.issues=[...this.issues,w]},this.addIssues=(w=[])=>{this.issues=[...this.issues,...w]};const g=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,g):this.__proto__=g,this.name="ZodError",this.issues=m}get errors(){return this.issues}format(m){const g=m||function(H){return H.message},w={_errors:[]},D=H=>{for(const q of H.issues)if(q.code==="invalid_union")q.unionErrors.map(D);else if(q.code==="invalid_return_type")D(q.returnTypeError);else if(q.code==="invalid_arguments")D(q.argumentsError);else if(q.path.length===0)w._errors.push(g(q));else{let it=w,ot=0;for(;ot<q.path.length;){const ft=q.path[ot];ot===q.path.length-1?(it[ft]=it[ft]||{_errors:[]},it[ft]._errors.push(g(q))):it[ft]=it[ft]||{_errors:[]},it=it[ft],ot++}}};return D(this),w}static assert(m){if(!(m instanceof ZodError))throw new Error(`Not a ZodError: ${m}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$1.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(m=g=>g.message){const g={},w=[];for(const D of this.issues)D.path.length>0?(g[D.path[0]]=g[D.path[0]]||[],g[D.path[0]].push(m(D))):w.push(m(D));return{formErrors:w,fieldErrors:g}}get formErrors(){return this.flatten()}}ZodError.create=d=>new ZodError(d);const errorMap=(d,m)=>{let g;switch(d.code){case ZodIssueCode.invalid_type:g=d.received===ZodParsedType.undefined?"Required":`Expected ${d.expected}, received ${d.received}`;break;case ZodIssueCode.invalid_literal:g=`Invalid literal value, expected ${JSON.stringify(d.expected,util$1.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:g=`Unrecognized key(s) in object: ${util$1.joinValues(d.keys,", ")}`;break;case ZodIssueCode.invalid_union:g="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:g=`Invalid discriminator value. Expected ${util$1.joinValues(d.options)}`;break;case ZodIssueCode.invalid_enum_value:g=`Invalid enum value. Expected ${util$1.joinValues(d.options)}, received '${d.received}'`;break;case ZodIssueCode.invalid_arguments:g="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:g="Invalid function return type";break;case ZodIssueCode.invalid_date:g="Invalid date";break;case ZodIssueCode.invalid_string:typeof d.validation=="object"?"includes"in d.validation?(g=`Invalid input: must include "${d.validation.includes}"`,typeof d.validation.position=="number"&&(g=`${g} at one or more positions greater than or equal to ${d.validation.position}`)):"startsWith"in d.validation?g=`Invalid input: must start with "${d.validation.startsWith}"`:"endsWith"in d.validation?g=`Invalid input: must end with "${d.validation.endsWith}"`:util$1.assertNever(d.validation):g=d.validation!=="regex"?`Invalid ${d.validation}`:"Invalid";break;case ZodIssueCode.too_small:g=d.type==="array"?`Array must contain ${d.exact?"exactly":d.inclusive?"at least":"more than"} ${d.minimum} element(s)`:d.type==="string"?`String must contain ${d.exact?"exactly":d.inclusive?"at least":"over"} ${d.minimum} character(s)`:d.type==="number"?`Number must be ${d.exact?"exactly equal to ":d.inclusive?"greater than or equal to ":"greater than "}${d.minimum}`:d.type==="date"?`Date must be ${d.exact?"exactly equal to ":d.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(d.minimum))}`:"Invalid input";break;case ZodIssueCode.too_big:g=d.type==="array"?`Array must contain ${d.exact?"exactly":d.inclusive?"at most":"less than"} ${d.maximum} element(s)`:d.type==="string"?`String must contain ${d.exact?"exactly":d.inclusive?"at most":"under"} ${d.maximum} character(s)`:d.type==="number"?`Number must be ${d.exact?"exactly":d.inclusive?"less than or equal to":"less than"} ${d.maximum}`:d.type==="bigint"?`BigInt must be ${d.exact?"exactly":d.inclusive?"less than or equal to":"less than"} ${d.maximum}`:d.type==="date"?`Date must be ${d.exact?"exactly":d.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(d.maximum))}`:"Invalid input";break;case ZodIssueCode.custom:g="Invalid input";break;case ZodIssueCode.invalid_intersection_types:g="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:g=`Number must be a multiple of ${d.multipleOf}`;break;case ZodIssueCode.not_finite:g="Number must be finite";break;default:g=m.defaultError,util$1.assertNever(d)}return{message:g}};let overrideErrorMap=errorMap;function setErrorMap(d){overrideErrorMap=d}function getErrorMap(){return overrideErrorMap}const makeIssue=d=>{const{data:m,path:g,errorMaps:w,issueData:D}=d,H=[...g,...D.path||[]],q={...D,path:H};if(D.message!==void 0)return{...D,path:H,message:D.message};let it="";const ot=w.filter(ft=>!!ft).slice().reverse();for(const ft of ot)it=ft(q,{data:m,defaultError:it}).message;return{...D,path:H,message:it}},EMPTY_PATH=[];function addIssueToContext(d,m){const g=getErrorMap(),w=makeIssue({issueData:m,data:d.data,path:d.path,errorMaps:[d.common.contextualErrorMap,d.schemaErrorMap,g,g===errorMap?void 0:errorMap].filter(D=>!!D)});d.common.issues.push(w)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(m,g){const w=[];for(const D of g){if(D.status==="aborted")return INVALID;D.status==="dirty"&&m.dirty(),w.push(D.value)}return{status:m.value,value:w}}static async mergeObjectAsync(m,g){const w=[];for(const D of g){const H=await D.key,q=await D.value;w.push({key:H,value:q})}return ParseStatus.mergeObjectSync(m,w)}static mergeObjectSync(m,g){const w={};for(const D of g){const{key:H,value:q}=D;if(H.status==="aborted"||q.status==="aborted")return INVALID;H.status==="dirty"&&m.dirty(),q.status==="dirty"&&m.dirty(),H.value==="__proto__"||q.value===void 0&&!D.alwaysSet||(w[H.value]=q.value)}return{status:m.value,value:w}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=d=>({status:"dirty",value:d}),OK=d=>({status:"valid",value:d}),isAborted=d=>d.status==="aborted",isDirty=d=>d.status==="dirty",isValid=d=>d.status==="valid",isAsync=d=>typeof Promise<"u"&&d instanceof Promise;function __classPrivateFieldGet(d,m,g,w){if(typeof m=="function"?d!==m||!0:!m.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m.get(d)}function __classPrivateFieldSet(d,m,g,w,D){if(typeof m=="function"?d!==m||!0:!m.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return m.set(d,g),g}var errorUtil,_ZodEnum_cache,_ZodNativeEnum_cache;typeof SuppressedError=="function"&&SuppressedError,function(d){d.errToObj=m=>typeof m=="string"?{message:m}:m||{},d.toString=m=>typeof m=="string"?m:m==null?void 0:m.message}(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(m,g,w,D){this._cachedPath=[],this.parent=m,this.data=g,this._path=w,this._key=D}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(d,m)=>{if(isValid(m))return{success:!0,data:m.value};if(!d.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const g=new ZodError(d.common.issues);return this._error=g,this._error}}};function processCreateParams(d){if(!d)return{};const{errorMap:m,invalid_type_error:g,required_error:w,description:D}=d;if(m&&(g||w))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return m?{errorMap:m,description:D}:{errorMap:(H,q)=>{var it,ot;const{message:ft}=d;return H.code==="invalid_enum_value"?{message:ft??q.defaultError}:q.data===void 0?{message:(it=ft??w)!==null&&it!==void 0?it:q.defaultError}:H.code!=="invalid_type"?{message:q.defaultError}:{message:(ot=ft??g)!==null&&ot!==void 0?ot:q.defaultError}},description:D}}class ZodType{constructor(m){this.spa=this.safeParseAsync,this._def=m,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(m){return getParsedType(m.data)}_getOrReturnCtx(m,g){return g||{common:m.parent.common,data:m.data,parsedType:getParsedType(m.data),schemaErrorMap:this._def.errorMap,path:m.path,parent:m.parent}}_processInputParams(m){return{status:new ParseStatus,ctx:{common:m.parent.common,data:m.data,parsedType:getParsedType(m.data),schemaErrorMap:this._def.errorMap,path:m.path,parent:m.parent}}}_parseSync(m){const g=this._parse(m);if(isAsync(g))throw new Error("Synchronous parse encountered promise.");return g}_parseAsync(m){const g=this._parse(m);return Promise.resolve(g)}parse(m,g){const w=this.safeParse(m,g);if(w.success)return w.data;throw w.error}safeParse(m,g){var w;const D={common:{issues:[],async:(w=g==null?void 0:g.async)!==null&&w!==void 0&&w,contextualErrorMap:g==null?void 0:g.errorMap},path:(g==null?void 0:g.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:m,parsedType:getParsedType(m)},H=this._parseSync({data:m,path:D.path,parent:D});return handleResult(D,H)}async parseAsync(m,g){const w=await this.safeParseAsync(m,g);if(w.success)return w.data;throw w.error}async safeParseAsync(m,g){const w={common:{issues:[],contextualErrorMap:g==null?void 0:g.errorMap,async:!0},path:(g==null?void 0:g.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:m,parsedType:getParsedType(m)},D=this._parse({data:m,path:w.path,parent:w}),H=await(isAsync(D)?D:Promise.resolve(D));return handleResult(w,H)}refine(m,g){const w=D=>typeof g=="string"||g===void 0?{message:g}:typeof g=="function"?g(D):g;return this._refinement((D,H)=>{const q=m(D),it=()=>H.addIssue({code:ZodIssueCode.custom,...w(D)});return typeof Promise<"u"&&q instanceof Promise?q.then(ot=>!!ot||(it(),!1)):!!q||(it(),!1)})}refinement(m,g){return this._refinement((w,D)=>!!m(w)||(D.addIssue(typeof g=="function"?g(w,D):g),!1))}_refinement(m){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:m}})}superRefine(m){return this._refinement(m)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(m){return ZodUnion.create([this,m],this._def)}and(m){return ZodIntersection.create(this,m,this._def)}transform(m){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:m}})}default(m){const g=typeof m=="function"?m:()=>m;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:g,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(m){const g=typeof m=="function"?m:()=>m;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:g,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(m){return new this.constructor({...this._def,description:m})}pipe(m){return ZodPipeline.create(this,m)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(d){let m="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return d.precision?m=`${m}\\.\\d{${d.precision}}`:d.precision==null&&(m=`${m}(\\.\\d+)?`),m}function timeRegex(d){return new RegExp(`^${timeRegexSource(d)}$`)}function datetimeRegex(d){let m=`${dateRegexSource}T${timeRegexSource(d)}`;const g=[];return g.push(d.local?"Z?":"Z"),d.offset&&g.push("([+-]\\d{2}:?\\d{2})"),m=`${m}(${g.join("|")})`,new RegExp(`^${m}$`)}function isValidIP(d,m){return!(m!=="v4"&&m||!ipv4Regex.test(d))||!(m!=="v6"&&m||!ipv6Regex.test(d))}class ZodString extends ZodType{_parse(m){if(this._def.coerce&&(m.data=String(m.data)),this._getType(m)!==ZodParsedType.string){const D=this._getOrReturnCtx(m);return addIssueToContext(D,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:D.parsedType}),INVALID}const g=new ParseStatus;let w;for(const D of this._def.checks)if(D.kind==="min")m.data.length<D.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:D.value,type:"string",inclusive:!0,exact:!1,message:D.message}),g.dirty());else if(D.kind==="max")m.data.length>D.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:D.value,type:"string",inclusive:!0,exact:!1,message:D.message}),g.dirty());else if(D.kind==="length"){const H=m.data.length>D.value,q=m.data.length<D.value;(H||q)&&(w=this._getOrReturnCtx(m,w),H?addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:D.value,type:"string",inclusive:!0,exact:!0,message:D.message}):q&&addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:D.value,type:"string",inclusive:!0,exact:!0,message:D.message}),g.dirty())}else if(D.kind==="email")emailRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"email",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"emoji",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="uuid")uuidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"uuid",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="nanoid")nanoidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="cuid")cuidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"cuid",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="cuid2")cuid2Regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="ulid")ulidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"ulid",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty());else if(D.kind==="url")try{new URL(m.data)}catch{w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"url",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty()}else D.kind==="regex"?(D.regex.lastIndex=0,D.regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"regex",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty())):D.kind==="trim"?m.data=m.data.trim():D.kind==="includes"?m.data.includes(D.value,D.position)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{includes:D.value,position:D.position},message:D.message}),g.dirty()):D.kind==="toLowerCase"?m.data=m.data.toLowerCase():D.kind==="toUpperCase"?m.data=m.data.toUpperCase():D.kind==="startsWith"?m.data.startsWith(D.value)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{startsWith:D.value},message:D.message}),g.dirty()):D.kind==="endsWith"?m.data.endsWith(D.value)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{endsWith:D.value},message:D.message}),g.dirty()):D.kind==="datetime"?datetimeRegex(D).test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"datetime",message:D.message}),g.dirty()):D.kind==="date"?dateRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"date",message:D.message}),g.dirty()):D.kind==="time"?timeRegex(D).test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"time",message:D.message}),g.dirty()):D.kind==="duration"?durationRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"duration",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty()):D.kind==="ip"?isValidIP(m.data,D.version)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"ip",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty()):D.kind==="base64"?base64Regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"base64",code:ZodIssueCode.invalid_string,message:D.message}),g.dirty()):util$1.assertNever(D);return{status:g.value,value:m.data}}_regex(m,g,w){return this.refinement(D=>m.test(D),{validation:g,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(w)})}_addCheck(m){return new ZodString({...this._def,checks:[...this._def.checks,m]})}email(m){return this._addCheck({kind:"email",...errorUtil.errToObj(m)})}url(m){return this._addCheck({kind:"url",...errorUtil.errToObj(m)})}emoji(m){return this._addCheck({kind:"emoji",...errorUtil.errToObj(m)})}uuid(m){return this._addCheck({kind:"uuid",...errorUtil.errToObj(m)})}nanoid(m){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(m)})}cuid(m){return this._addCheck({kind:"cuid",...errorUtil.errToObj(m)})}cuid2(m){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(m)})}ulid(m){return this._addCheck({kind:"ulid",...errorUtil.errToObj(m)})}base64(m){return this._addCheck({kind:"base64",...errorUtil.errToObj(m)})}ip(m){return this._addCheck({kind:"ip",...errorUtil.errToObj(m)})}datetime(m){var g,w;return typeof m=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:m}):this._addCheck({kind:"datetime",precision:(m==null?void 0:m.precision)===void 0?null:m==null?void 0:m.precision,offset:(g=m==null?void 0:m.offset)!==null&&g!==void 0&&g,local:(w=m==null?void 0:m.local)!==null&&w!==void 0&&w,...errorUtil.errToObj(m==null?void 0:m.message)})}date(m){return this._addCheck({kind:"date",message:m})}time(m){return typeof m=="string"?this._addCheck({kind:"time",precision:null,message:m}):this._addCheck({kind:"time",precision:(m==null?void 0:m.precision)===void 0?null:m==null?void 0:m.precision,...errorUtil.errToObj(m==null?void 0:m.message)})}duration(m){return this._addCheck({kind:"duration",...errorUtil.errToObj(m)})}regex(m,g){return this._addCheck({kind:"regex",regex:m,...errorUtil.errToObj(g)})}includes(m,g){return this._addCheck({kind:"includes",value:m,position:g==null?void 0:g.position,...errorUtil.errToObj(g==null?void 0:g.message)})}startsWith(m,g){return this._addCheck({kind:"startsWith",value:m,...errorUtil.errToObj(g)})}endsWith(m,g){return this._addCheck({kind:"endsWith",value:m,...errorUtil.errToObj(g)})}min(m,g){return this._addCheck({kind:"min",value:m,...errorUtil.errToObj(g)})}max(m,g){return this._addCheck({kind:"max",value:m,...errorUtil.errToObj(g)})}length(m,g){return this._addCheck({kind:"length",value:m,...errorUtil.errToObj(g)})}nonempty(m){return this.min(1,errorUtil.errToObj(m))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(m=>m.kind==="datetime")}get isDate(){return!!this._def.checks.find(m=>m.kind==="date")}get isTime(){return!!this._def.checks.find(m=>m.kind==="time")}get isDuration(){return!!this._def.checks.find(m=>m.kind==="duration")}get isEmail(){return!!this._def.checks.find(m=>m.kind==="email")}get isURL(){return!!this._def.checks.find(m=>m.kind==="url")}get isEmoji(){return!!this._def.checks.find(m=>m.kind==="emoji")}get isUUID(){return!!this._def.checks.find(m=>m.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(m=>m.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(m=>m.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(m=>m.kind==="cuid2")}get isULID(){return!!this._def.checks.find(m=>m.kind==="ulid")}get isIP(){return!!this._def.checks.find(m=>m.kind==="ip")}get isBase64(){return!!this._def.checks.find(m=>m.kind==="base64")}get minLength(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxLength(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}}function floatSafeRemainder(d,m){const g=(d.toString().split(".")[1]||"").length,w=(m.toString().split(".")[1]||"").length,D=g>w?g:w;return parseInt(d.toFixed(D).replace(".",""))%parseInt(m.toFixed(D).replace(".",""))/Math.pow(10,D)}ZodString.create=d=>{var m;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(m=d==null?void 0:d.coerce)!==null&&m!==void 0&&m,...processCreateParams(d)})};class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(m){if(this._def.coerce&&(m.data=Number(m.data)),this._getType(m)!==ZodParsedType.number){const D=this._getOrReturnCtx(m);return addIssueToContext(D,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:D.parsedType}),INVALID}let g;const w=new ParseStatus;for(const D of this._def.checks)D.kind==="int"?util$1.isInteger(m.data)||(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:D.message}),w.dirty()):D.kind==="min"?(D.inclusive?m.data<D.value:m.data<=D.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_small,minimum:D.value,type:"number",inclusive:D.inclusive,exact:!1,message:D.message}),w.dirty()):D.kind==="max"?(D.inclusive?m.data>D.value:m.data>=D.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_big,maximum:D.value,type:"number",inclusive:D.inclusive,exact:!1,message:D.message}),w.dirty()):D.kind==="multipleOf"?floatSafeRemainder(m.data,D.value)!==0&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_multiple_of,multipleOf:D.value,message:D.message}),w.dirty()):D.kind==="finite"?Number.isFinite(m.data)||(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_finite,message:D.message}),w.dirty()):util$1.assertNever(D);return{status:w.value,value:m.data}}gte(m,g){return this.setLimit("min",m,!0,errorUtil.toString(g))}gt(m,g){return this.setLimit("min",m,!1,errorUtil.toString(g))}lte(m,g){return this.setLimit("max",m,!0,errorUtil.toString(g))}lt(m,g){return this.setLimit("max",m,!1,errorUtil.toString(g))}setLimit(m,g,w,D){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:m,value:g,inclusive:w,message:errorUtil.toString(D)}]})}_addCheck(m){return new ZodNumber({...this._def,checks:[...this._def.checks,m]})}int(m){return this._addCheck({kind:"int",message:errorUtil.toString(m)})}positive(m){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(m)})}negative(m){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(m)})}nonpositive(m){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(m)})}nonnegative(m){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(m)})}multipleOf(m,g){return this._addCheck({kind:"multipleOf",value:m,message:errorUtil.toString(g)})}finite(m){return this._addCheck({kind:"finite",message:errorUtil.toString(m)})}safe(m){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(m)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(m)})}get minValue(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxValue(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}get isInt(){return!!this._def.checks.find(m=>m.kind==="int"||m.kind==="multipleOf"&&util$1.isInteger(m.value))}get isFinite(){let m=null,g=null;for(const w of this._def.checks){if(w.kind==="finite"||w.kind==="int"||w.kind==="multipleOf")return!0;w.kind==="min"?(g===null||w.value>g)&&(g=w.value):w.kind==="max"&&(m===null||w.value<m)&&(m=w.value)}return Number.isFinite(g)&&Number.isFinite(m)}}ZodNumber.create=d=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(d==null?void 0:d.coerce)||!1,...processCreateParams(d)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(m){if(this._def.coerce&&(m.data=BigInt(m.data)),this._getType(m)!==ZodParsedType.bigint){const D=this._getOrReturnCtx(m);return addIssueToContext(D,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:D.parsedType}),INVALID}let g;const w=new ParseStatus;for(const D of this._def.checks)D.kind==="min"?(D.inclusive?m.data<D.value:m.data<=D.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_small,type:"bigint",minimum:D.value,inclusive:D.inclusive,message:D.message}),w.dirty()):D.kind==="max"?(D.inclusive?m.data>D.value:m.data>=D.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_big,type:"bigint",maximum:D.value,inclusive:D.inclusive,message:D.message}),w.dirty()):D.kind==="multipleOf"?m.data%D.value!==BigInt(0)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_multiple_of,multipleOf:D.value,message:D.message}),w.dirty()):util$1.assertNever(D);return{status:w.value,value:m.data}}gte(m,g){return this.setLimit("min",m,!0,errorUtil.toString(g))}gt(m,g){return this.setLimit("min",m,!1,errorUtil.toString(g))}lte(m,g){return this.setLimit("max",m,!0,errorUtil.toString(g))}lt(m,g){return this.setLimit("max",m,!1,errorUtil.toString(g))}setLimit(m,g,w,D){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:m,value:g,inclusive:w,message:errorUtil.toString(D)}]})}_addCheck(m){return new ZodBigInt({...this._def,checks:[...this._def.checks,m]})}positive(m){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(m)})}negative(m){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(m)})}nonpositive(m){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(m)})}nonnegative(m){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(m)})}multipleOf(m,g){return this._addCheck({kind:"multipleOf",value:m,message:errorUtil.toString(g)})}get minValue(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxValue(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}}ZodBigInt.create=d=>{var m;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(m=d==null?void 0:d.coerce)!==null&&m!==void 0&&m,...processCreateParams(d)})};class ZodBoolean extends ZodType{_parse(m){if(this._def.coerce&&(m.data=!!m.data),this._getType(m)!==ZodParsedType.boolean){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:g.parsedType}),INVALID}return OK(m.data)}}ZodBoolean.create=d=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(d==null?void 0:d.coerce)||!1,...processCreateParams(d)});class ZodDate extends ZodType{_parse(m){if(this._def.coerce&&(m.data=new Date(m.data)),this._getType(m)!==ZodParsedType.date){const D=this._getOrReturnCtx(m);return addIssueToContext(D,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:D.parsedType}),INVALID}if(isNaN(m.data.getTime()))return addIssueToContext(this._getOrReturnCtx(m),{code:ZodIssueCode.invalid_date}),INVALID;const g=new ParseStatus;let w;for(const D of this._def.checks)D.kind==="min"?m.data.getTime()<D.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_small,message:D.message,inclusive:!0,exact:!1,minimum:D.value,type:"date"}),g.dirty()):D.kind==="max"?m.data.getTime()>D.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_big,message:D.message,inclusive:!0,exact:!1,maximum:D.value,type:"date"}),g.dirty()):util$1.assertNever(D);return{status:g.value,value:new Date(m.data.getTime())}}_addCheck(m){return new ZodDate({...this._def,checks:[...this._def.checks,m]})}min(m,g){return this._addCheck({kind:"min",value:m.getTime(),message:errorUtil.toString(g)})}max(m,g){return this._addCheck({kind:"max",value:m.getTime(),message:errorUtil.toString(g)})}get minDate(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m!=null?new Date(m):null}get maxDate(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m!=null?new Date(m):null}}ZodDate.create=d=>new ZodDate({checks:[],coerce:(d==null?void 0:d.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(d)});class ZodSymbol extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.symbol){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:g.parsedType}),INVALID}return OK(m.data)}}ZodSymbol.create=d=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(d)});class ZodUndefined extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.undefined){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:g.parsedType}),INVALID}return OK(m.data)}}ZodUndefined.create=d=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(d)});class ZodNull extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.null){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:g.parsedType}),INVALID}return OK(m.data)}}ZodNull.create=d=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(d)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(m){return OK(m.data)}}ZodAny.create=d=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(d)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(m){return OK(m.data)}}ZodUnknown.create=d=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(d)});class ZodNever extends ZodType{_parse(m){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:g.parsedType}),INVALID}}ZodNever.create=d=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(d)});class ZodVoid extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.undefined){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:g.parsedType}),INVALID}return OK(m.data)}}ZodVoid.create=d=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(d)});class ZodArray extends ZodType{_parse(m){const{ctx:g,status:w}=this._processInputParams(m),D=this._def;if(g.parsedType!==ZodParsedType.array)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:g.parsedType}),INVALID;if(D.exactLength!==null){const q=g.data.length>D.exactLength.value,it=g.data.length<D.exactLength.value;(q||it)&&(addIssueToContext(g,{code:q?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:it?D.exactLength.value:void 0,maximum:q?D.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:D.exactLength.message}),w.dirty())}if(D.minLength!==null&&g.data.length<D.minLength.value&&(addIssueToContext(g,{code:ZodIssueCode.too_small,minimum:D.minLength.value,type:"array",inclusive:!0,exact:!1,message:D.minLength.message}),w.dirty()),D.maxLength!==null&&g.data.length>D.maxLength.value&&(addIssueToContext(g,{code:ZodIssueCode.too_big,maximum:D.maxLength.value,type:"array",inclusive:!0,exact:!1,message:D.maxLength.message}),w.dirty()),g.common.async)return Promise.all([...g.data].map((q,it)=>D.type._parseAsync(new ParseInputLazyPath(g,q,g.path,it)))).then(q=>ParseStatus.mergeArray(w,q));const H=[...g.data].map((q,it)=>D.type._parseSync(new ParseInputLazyPath(g,q,g.path,it)));return ParseStatus.mergeArray(w,H)}get element(){return this._def.type}min(m,g){return new ZodArray({...this._def,minLength:{value:m,message:errorUtil.toString(g)}})}max(m,g){return new ZodArray({...this._def,maxLength:{value:m,message:errorUtil.toString(g)}})}length(m,g){return new ZodArray({...this._def,exactLength:{value:m,message:errorUtil.toString(g)}})}nonempty(m){return this.min(1,m)}}function deepPartialify(d){if(d instanceof ZodObject){const m={};for(const g in d.shape){const w=d.shape[g];m[g]=ZodOptional.create(deepPartialify(w))}return new ZodObject({...d._def,shape:()=>m})}return d instanceof ZodArray?new ZodArray({...d._def,type:deepPartialify(d.element)}):d instanceof ZodOptional?ZodOptional.create(deepPartialify(d.unwrap())):d instanceof ZodNullable?ZodNullable.create(deepPartialify(d.unwrap())):d instanceof ZodTuple?ZodTuple.create(d.items.map(m=>deepPartialify(m))):d}ZodArray.create=(d,m)=>new ZodArray({type:d,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(m)});class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const m=this._def.shape(),g=util$1.objectKeys(m);return this._cached={shape:m,keys:g}}_parse(m){if(this._getType(m)!==ZodParsedType.object){const ot=this._getOrReturnCtx(m);return addIssueToContext(ot,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ot.parsedType}),INVALID}const{status:g,ctx:w}=this._processInputParams(m),{shape:D,keys:H}=this._getCached(),q=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const ot in w.data)H.includes(ot)||q.push(ot);const it=[];for(const ot of H){const ft=D[ot],ut=w.data[ot];it.push({key:{status:"valid",value:ot},value:ft._parse(new ParseInputLazyPath(w,ut,w.path,ot)),alwaysSet:ot in w.data})}if(this._def.catchall instanceof ZodNever){const ot=this._def.unknownKeys;if(ot==="passthrough")for(const ft of q)it.push({key:{status:"valid",value:ft},value:{status:"valid",value:w.data[ft]}});else if(ot==="strict")q.length>0&&(addIssueToContext(w,{code:ZodIssueCode.unrecognized_keys,keys:q}),g.dirty());else if(ot!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const ot=this._def.catchall;for(const ft of q){const ut=w.data[ft];it.push({key:{status:"valid",value:ft},value:ot._parse(new ParseInputLazyPath(w,ut,w.path,ft)),alwaysSet:ft in w.data})}}return w.common.async?Promise.resolve().then(async()=>{const ot=[];for(const ft of it){const ut=await ft.key,dt=await ft.value;ot.push({key:ut,value:dt,alwaysSet:ft.alwaysSet})}return ot}).then(ot=>ParseStatus.mergeObjectSync(g,ot)):ParseStatus.mergeObjectSync(g,it)}get shape(){return this._def.shape()}strict(m){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...m!==void 0?{errorMap:(g,w)=>{var D,H,q,it;const ot=(q=(H=(D=this._def).errorMap)===null||H===void 0?void 0:H.call(D,g,w).message)!==null&&q!==void 0?q:w.defaultError;return g.code==="unrecognized_keys"?{message:(it=errorUtil.errToObj(m).message)!==null&&it!==void 0?it:ot}:{message:ot}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(m){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...m})})}merge(m){return new ZodObject({unknownKeys:m._def.unknownKeys,catchall:m._def.catchall,shape:()=>({...this._def.shape(),...m._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(m,g){return this.augment({[m]:g})}catchall(m){return new ZodObject({...this._def,catchall:m})}pick(m){const g={};return util$1.objectKeys(m).forEach(w=>{m[w]&&this.shape[w]&&(g[w]=this.shape[w])}),new ZodObject({...this._def,shape:()=>g})}omit(m){const g={};return util$1.objectKeys(this.shape).forEach(w=>{m[w]||(g[w]=this.shape[w])}),new ZodObject({...this._def,shape:()=>g})}deepPartial(){return deepPartialify(this)}partial(m){const g={};return util$1.objectKeys(this.shape).forEach(w=>{const D=this.shape[w];m&&!m[w]?g[w]=D:g[w]=D.optional()}),new ZodObject({...this._def,shape:()=>g})}required(m){const g={};return util$1.objectKeys(this.shape).forEach(w=>{if(m&&!m[w])g[w]=this.shape[w];else{let D=this.shape[w];for(;D instanceof ZodOptional;)D=D._def.innerType;g[w]=D}}),new ZodObject({...this._def,shape:()=>g})}keyof(){return createZodEnum(util$1.objectKeys(this.shape))}}ZodObject.create=(d,m)=>new ZodObject({shape:()=>d,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)}),ZodObject.strictCreate=(d,m)=>new ZodObject({shape:()=>d,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)}),ZodObject.lazycreate=(d,m)=>new ZodObject({shape:d,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)});class ZodUnion extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w=this._def.options;if(g.common.async)return Promise.all(w.map(async D=>{const H={...g,common:{...g.common,issues:[]},parent:null};return{result:await D._parseAsync({data:g.data,path:g.path,parent:H}),ctx:H}})).then(function(D){for(const q of D)if(q.result.status==="valid")return q.result;for(const q of D)if(q.result.status==="dirty")return g.common.issues.push(...q.ctx.common.issues),q.result;const H=D.map(q=>new ZodError(q.ctx.common.issues));return addIssueToContext(g,{code:ZodIssueCode.invalid_union,unionErrors:H}),INVALID});{let D;const H=[];for(const it of w){const ot={...g,common:{...g.common,issues:[]},parent:null},ft=it._parseSync({data:g.data,path:g.path,parent:ot});if(ft.status==="valid")return ft;ft.status!=="dirty"||D||(D={result:ft,ctx:ot}),ot.common.issues.length&&H.push(ot.common.issues)}if(D)return g.common.issues.push(...D.ctx.common.issues),D.result;const q=H.map(it=>new ZodError(it));return addIssueToContext(g,{code:ZodIssueCode.invalid_union,unionErrors:q}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(d,m)=>new ZodUnion({options:d,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(m)});const getDiscriminator=d=>d instanceof ZodLazy?getDiscriminator(d.schema):d instanceof ZodEffects?getDiscriminator(d.innerType()):d instanceof ZodLiteral?[d.value]:d instanceof ZodEnum?d.options:d instanceof ZodNativeEnum?util$1.objectValues(d.enum):d instanceof ZodDefault?getDiscriminator(d._def.innerType):d instanceof ZodUndefined?[void 0]:d instanceof ZodNull?[null]:d instanceof ZodOptional?[void 0,...getDiscriminator(d.unwrap())]:d instanceof ZodNullable?[null,...getDiscriminator(d.unwrap())]:d instanceof ZodBranded||d instanceof ZodReadonly?getDiscriminator(d.unwrap()):d instanceof ZodCatch?getDiscriminator(d._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.object)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:g.parsedType}),INVALID;const w=this.discriminator,D=g.data[w],H=this.optionsMap.get(D);return H?g.common.async?H._parseAsync({data:g.data,path:g.path,parent:g}):H._parseSync({data:g.data,path:g.path,parent:g}):(addIssueToContext(g,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[w]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(m,g,w){const D=new Map;for(const H of g){const q=getDiscriminator(H.shape[m]);if(!q.length)throw new Error(`A discriminator value for key \`${m}\` could not be extracted from all schema options`);for(const it of q){if(D.has(it))throw new Error(`Discriminator property ${String(m)} has duplicate value ${String(it)}`);D.set(it,H)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:m,options:g,optionsMap:D,...processCreateParams(w)})}}function mergeValues(d,m){const g=getParsedType(d),w=getParsedType(m);if(d===m)return{valid:!0,data:d};if(g===ZodParsedType.object&&w===ZodParsedType.object){const D=util$1.objectKeys(m),H=util$1.objectKeys(d).filter(it=>D.indexOf(it)!==-1),q={...d,...m};for(const it of H){const ot=mergeValues(d[it],m[it]);if(!ot.valid)return{valid:!1};q[it]=ot.data}return{valid:!0,data:q}}if(g===ZodParsedType.array&&w===ZodParsedType.array){if(d.length!==m.length)return{valid:!1};const D=[];for(let H=0;H<d.length;H++){const q=mergeValues(d[H],m[H]);if(!q.valid)return{valid:!1};D.push(q.data)}return{valid:!0,data:D}}return g===ZodParsedType.date&&w===ZodParsedType.date&&+d==+m?{valid:!0,data:d}:{valid:!1}}class ZodIntersection extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m),D=(H,q)=>{if(isAborted(H)||isAborted(q))return INVALID;const it=mergeValues(H.value,q.value);return it.valid?((isDirty(H)||isDirty(q))&&g.dirty(),{status:g.value,value:it.data}):(addIssueToContext(w,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return w.common.async?Promise.all([this._def.left._parseAsync({data:w.data,path:w.path,parent:w}),this._def.right._parseAsync({data:w.data,path:w.path,parent:w})]).then(([H,q])=>D(H,q)):D(this._def.left._parseSync({data:w.data,path:w.path,parent:w}),this._def.right._parseSync({data:w.data,path:w.path,parent:w}))}}ZodIntersection.create=(d,m,g)=>new ZodIntersection({left:d,right:m,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(g)});class ZodTuple extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.array)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:w.parsedType}),INVALID;if(w.data.length<this._def.items.length)return addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&w.data.length>this._def.items.length&&(addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),g.dirty());const D=[...w.data].map((H,q)=>{const it=this._def.items[q]||this._def.rest;return it?it._parse(new ParseInputLazyPath(w,H,w.path,q)):null}).filter(H=>!!H);return w.common.async?Promise.all(D).then(H=>ParseStatus.mergeArray(g,H)):ParseStatus.mergeArray(g,D)}get items(){return this._def.items}rest(m){return new ZodTuple({...this._def,rest:m})}}ZodTuple.create=(d,m)=>{if(!Array.isArray(d))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:d,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(m)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.object)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:w.parsedType}),INVALID;const D=[],H=this._def.keyType,q=this._def.valueType;for(const it in w.data)D.push({key:H._parse(new ParseInputLazyPath(w,it,w.path,it)),value:q._parse(new ParseInputLazyPath(w,w.data[it],w.path,it)),alwaysSet:it in w.data});return w.common.async?ParseStatus.mergeObjectAsync(g,D):ParseStatus.mergeObjectSync(g,D)}get element(){return this._def.valueType}static create(m,g,w){return new ZodRecord(g instanceof ZodType?{keyType:m,valueType:g,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(w)}:{keyType:ZodString.create(),valueType:m,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(g)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.map)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:w.parsedType}),INVALID;const D=this._def.keyType,H=this._def.valueType,q=[...w.data.entries()].map(([it,ot],ft)=>({key:D._parse(new ParseInputLazyPath(w,it,w.path,[ft,"key"])),value:H._parse(new ParseInputLazyPath(w,ot,w.path,[ft,"value"]))}));if(w.common.async){const it=new Map;return Promise.resolve().then(async()=>{for(const ot of q){const ft=await ot.key,ut=await ot.value;if(ft.status==="aborted"||ut.status==="aborted")return INVALID;ft.status!=="dirty"&&ut.status!=="dirty"||g.dirty(),it.set(ft.value,ut.value)}return{status:g.value,value:it}})}{const it=new Map;for(const ot of q){const ft=ot.key,ut=ot.value;if(ft.status==="aborted"||ut.status==="aborted")return INVALID;ft.status!=="dirty"&&ut.status!=="dirty"||g.dirty(),it.set(ft.value,ut.value)}return{status:g.value,value:it}}}}ZodMap.create=(d,m,g)=>new ZodMap({valueType:m,keyType:d,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(g)});class ZodSet extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.set)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:w.parsedType}),INVALID;const D=this._def;D.minSize!==null&&w.data.size<D.minSize.value&&(addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:D.minSize.value,type:"set",inclusive:!0,exact:!1,message:D.minSize.message}),g.dirty()),D.maxSize!==null&&w.data.size>D.maxSize.value&&(addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:D.maxSize.value,type:"set",inclusive:!0,exact:!1,message:D.maxSize.message}),g.dirty());const H=this._def.valueType;function q(ot){const ft=new Set;for(const ut of ot){if(ut.status==="aborted")return INVALID;ut.status==="dirty"&&g.dirty(),ft.add(ut.value)}return{status:g.value,value:ft}}const it=[...w.data.values()].map((ot,ft)=>H._parse(new ParseInputLazyPath(w,ot,w.path,ft)));return w.common.async?Promise.all(it).then(ot=>q(ot)):q(it)}min(m,g){return new ZodSet({...this._def,minSize:{value:m,message:errorUtil.toString(g)}})}max(m,g){return new ZodSet({...this._def,maxSize:{value:m,message:errorUtil.toString(g)}})}size(m,g){return this.min(m,g).max(m,g)}nonempty(m){return this.min(1,m)}}ZodSet.create=(d,m)=>new ZodSet({valueType:d,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(m)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.function)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:g.parsedType}),INVALID;function w(it,ot){return makeIssue({data:it,path:g.path,errorMaps:[g.common.contextualErrorMap,g.schemaErrorMap,getErrorMap(),errorMap].filter(ft=>!!ft),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:ot}})}function D(it,ot){return makeIssue({data:it,path:g.path,errorMaps:[g.common.contextualErrorMap,g.schemaErrorMap,getErrorMap(),errorMap].filter(ft=>!!ft),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:ot}})}const H={errorMap:g.common.contextualErrorMap},q=g.data;if(this._def.returns instanceof ZodPromise){const it=this;return OK(async function(...ot){const ft=new ZodError([]),ut=await it._def.args.parseAsync(ot,H).catch(Tt=>{throw ft.addIssue(w(ot,Tt)),ft}),dt=await Reflect.apply(q,this,ut);return await it._def.returns._def.type.parseAsync(dt,H).catch(Tt=>{throw ft.addIssue(D(dt,Tt)),ft})})}{const it=this;return OK(function(...ot){const ft=it._def.args.safeParse(ot,H);if(!ft.success)throw new ZodError([w(ot,ft.error)]);const ut=Reflect.apply(q,this,ft.data),dt=it._def.returns.safeParse(ut,H);if(!dt.success)throw new ZodError([D(ut,dt.error)]);return dt.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...m){return new ZodFunction({...this._def,args:ZodTuple.create(m).rest(ZodUnknown.create())})}returns(m){return new ZodFunction({...this._def,returns:m})}implement(m){return this.parse(m)}strictImplement(m){return this.parse(m)}static create(m,g,w){return new ZodFunction({args:m||ZodTuple.create([]).rest(ZodUnknown.create()),returns:g||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(w)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(m){const{ctx:g}=this._processInputParams(m);return this._def.getter()._parse({data:g.data,path:g.path,parent:g})}}ZodLazy.create=(d,m)=>new ZodLazy({getter:d,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(m)});class ZodLiteral extends ZodType{_parse(m){if(m.data!==this._def.value){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{received:g.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:m.data}}get value(){return this._def.value}}function createZodEnum(d,m){return new ZodEnum({values:d,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(m)})}ZodLiteral.create=(d,m)=>new ZodLiteral({value:d,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(m)});class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(m){if(typeof m.data!="string"){const g=this._getOrReturnCtx(m),w=this._def.values;return addIssueToContext(g,{expected:util$1.joinValues(w),received:g.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodEnum_cache)||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet(this,_ZodEnum_cache).has(m.data)){const g=this._getOrReturnCtx(m),w=this._def.values;return addIssueToContext(g,{received:g.data,code:ZodIssueCode.invalid_enum_value,options:w}),INVALID}return OK(m.data)}get options(){return this._def.values}get enum(){const m={};for(const g of this._def.values)m[g]=g;return m}get Values(){const m={};for(const g of this._def.values)m[g]=g;return m}get Enum(){const m={};for(const g of this._def.values)m[g]=g;return m}extract(m,g=this._def){return ZodEnum.create(m,{...this._def,...g})}exclude(m,g=this._def){return ZodEnum.create(this.options.filter(w=>!m.includes(w)),{...this._def,...g})}}_ZodEnum_cache=new WeakMap,ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(m){const g=util$1.getValidEnumValues(this._def.values),w=this._getOrReturnCtx(m);if(w.parsedType!==ZodParsedType.string&&w.parsedType!==ZodParsedType.number){const D=util$1.objectValues(g);return addIssueToContext(w,{expected:util$1.joinValues(D),received:w.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache)||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util$1.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_ZodNativeEnum_cache).has(m.data)){const D=util$1.objectValues(g);return addIssueToContext(w,{received:w.data,code:ZodIssueCode.invalid_enum_value,options:D}),INVALID}return OK(m.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap,ZodNativeEnum.create=(d,m)=>new ZodNativeEnum({values:d,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(m)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.promise&&g.common.async===!1)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:g.parsedType}),INVALID;const w=g.parsedType===ZodParsedType.promise?g.data:Promise.resolve(g.data);return OK(w.then(D=>this._def.type.parseAsync(D,{path:g.path,errorMap:g.common.contextualErrorMap})))}}ZodPromise.create=(d,m)=>new ZodPromise({type:d,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(m)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(m){const{status:g,ctx:w}=this._processInputParams(m),D=this._def.effect||null,H={addIssue:q=>{addIssueToContext(w,q),q.fatal?g.abort():g.dirty()},get path(){return w.path}};if(H.addIssue=H.addIssue.bind(H),D.type==="preprocess"){const q=D.transform(w.data,H);if(w.common.async)return Promise.resolve(q).then(async it=>{if(g.value==="aborted")return INVALID;const ot=await this._def.schema._parseAsync({data:it,path:w.path,parent:w});return ot.status==="aborted"?INVALID:ot.status==="dirty"||g.value==="dirty"?DIRTY(ot.value):ot});{if(g.value==="aborted")return INVALID;const it=this._def.schema._parseSync({data:q,path:w.path,parent:w});return it.status==="aborted"?INVALID:it.status==="dirty"||g.value==="dirty"?DIRTY(it.value):it}}if(D.type==="refinement"){const q=it=>{const ot=D.refinement(it,H);if(w.common.async)return Promise.resolve(ot);if(ot instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return it};if(w.common.async===!1){const it=this._def.schema._parseSync({data:w.data,path:w.path,parent:w});return it.status==="aborted"?INVALID:(it.status==="dirty"&&g.dirty(),q(it.value),{status:g.value,value:it.value})}return this._def.schema._parseAsync({data:w.data,path:w.path,parent:w}).then(it=>it.status==="aborted"?INVALID:(it.status==="dirty"&&g.dirty(),q(it.value).then(()=>({status:g.value,value:it.value}))))}if(D.type==="transform"){if(w.common.async===!1){const q=this._def.schema._parseSync({data:w.data,path:w.path,parent:w});if(!isValid(q))return q;const it=D.transform(q.value,H);if(it instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:g.value,value:it}}return this._def.schema._parseAsync({data:w.data,path:w.path,parent:w}).then(q=>isValid(q)?Promise.resolve(D.transform(q.value,H)).then(it=>({status:g.value,value:it})):q)}util$1.assertNever(D)}}ZodEffects.create=(d,m,g)=>new ZodEffects({schema:d,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:m,...processCreateParams(g)}),ZodEffects.createWithPreprocess=(d,m,g)=>new ZodEffects({schema:m,effect:{type:"preprocess",transform:d},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(g)});class ZodOptional extends ZodType{_parse(m){return this._getType(m)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(m)}unwrap(){return this._def.innerType}}ZodOptional.create=(d,m)=>new ZodOptional({innerType:d,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(m)});class ZodNullable extends ZodType{_parse(m){return this._getType(m)===ZodParsedType.null?OK(null):this._def.innerType._parse(m)}unwrap(){return this._def.innerType}}ZodNullable.create=(d,m)=>new ZodNullable({innerType:d,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(m)});class ZodDefault extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m);let w=g.data;return g.parsedType===ZodParsedType.undefined&&(w=this._def.defaultValue()),this._def.innerType._parse({data:w,path:g.path,parent:g})}removeDefault(){return this._def.innerType}}ZodDefault.create=(d,m)=>new ZodDefault({innerType:d,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof m.default=="function"?m.default:()=>m.default,...processCreateParams(m)});class ZodCatch extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w={...g,common:{...g.common,issues:[]}},D=this._def.innerType._parse({data:w.data,path:w.path,parent:{...w}});return isAsync(D)?D.then(H=>({status:"valid",value:H.status==="valid"?H.value:this._def.catchValue({get error(){return new ZodError(w.common.issues)},input:w.data})})):{status:"valid",value:D.status==="valid"?D.value:this._def.catchValue({get error(){return new ZodError(w.common.issues)},input:w.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(d,m)=>new ZodCatch({innerType:d,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof m.catch=="function"?m.catch:()=>m.catch,...processCreateParams(m)});class ZodNaN extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.nan){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:g.parsedType}),INVALID}return{status:"valid",value:m.data}}}ZodNaN.create=d=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(d)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w=g.data;return this._def.type._parse({data:w,path:g.path,parent:g})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.common.async)return(async()=>{const D=await this._def.in._parseAsync({data:w.data,path:w.path,parent:w});return D.status==="aborted"?INVALID:D.status==="dirty"?(g.dirty(),DIRTY(D.value)):this._def.out._parseAsync({data:D.value,path:w.path,parent:w})})();{const D=this._def.in._parseSync({data:w.data,path:w.path,parent:w});return D.status==="aborted"?INVALID:D.status==="dirty"?(g.dirty(),{status:"dirty",value:D.value}):this._def.out._parseSync({data:D.value,path:w.path,parent:w})}}static create(m,g){return new ZodPipeline({in:m,out:g,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(m){const g=this._def.innerType._parse(m),w=D=>(isValid(D)&&(D.value=Object.freeze(D.value)),D);return isAsync(g)?g.then(D=>w(D)):w(g)}unwrap(){return this._def.innerType}}function custom(d,m={},g){return d?ZodAny.create().superRefine((w,D)=>{var H,q;if(!d(w)){const it=typeof m=="function"?m(w):typeof m=="string"?{message:m}:m,ot=(q=(H=it.fatal)!==null&&H!==void 0?H:g)===null||q===void 0||q,ft=typeof it=="string"?{message:it}:it;D.addIssue({code:"custom",...ft,fatal:ot})}}):ZodAny.create()}ZodReadonly.create=(d,m)=>new ZodReadonly({innerType:d,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(m)});const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(d){d.ZodString="ZodString",d.ZodNumber="ZodNumber",d.ZodNaN="ZodNaN",d.ZodBigInt="ZodBigInt",d.ZodBoolean="ZodBoolean",d.ZodDate="ZodDate",d.ZodSymbol="ZodSymbol",d.ZodUndefined="ZodUndefined",d.ZodNull="ZodNull",d.ZodAny="ZodAny",d.ZodUnknown="ZodUnknown",d.ZodNever="ZodNever",d.ZodVoid="ZodVoid",d.ZodArray="ZodArray",d.ZodObject="ZodObject",d.ZodUnion="ZodUnion",d.ZodDiscriminatedUnion="ZodDiscriminatedUnion",d.ZodIntersection="ZodIntersection",d.ZodTuple="ZodTuple",d.ZodRecord="ZodRecord",d.ZodMap="ZodMap",d.ZodSet="ZodSet",d.ZodFunction="ZodFunction",d.ZodLazy="ZodLazy",d.ZodLiteral="ZodLiteral",d.ZodEnum="ZodEnum",d.ZodEffects="ZodEffects",d.ZodNativeEnum="ZodNativeEnum",d.ZodOptional="ZodOptional",d.ZodNullable="ZodNullable",d.ZodDefault="ZodDefault",d.ZodCatch="ZodCatch",d.ZodPromise="ZodPromise",d.ZodBranded="ZodBranded",d.ZodPipeline="ZodPipeline",d.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(d,m={message:`Input not instance of ${d.name}`})=>custom(g=>g instanceof d,m),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:d=>ZodString.create({...d,coerce:!0}),number:d=>ZodNumber.create({...d,coerce:!0}),boolean:d=>ZodBoolean.create({...d,coerce:!0}),bigint:d=>ZodBigInt.create({...d,coerce:!0}),date:d=>ZodDate.create({...d,coerce:!0})},NEVER=INVALID;var z$1=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util$1},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError}),Edge,Edge2;Edge2=Edge||(Edge={}),Edge2[Edge2.EXTEND=1]="EXTEND",Edge2[Edge2.WRAP=2]="WRAP",Edge2[Edge2.CROP=3]="CROP";const JimpClassSchema=z$1.object({bitmap:z$1.object({data:z$1.union([z$1.instanceof(Buffer),z$1.instanceof(Uint8Array)]),width:z$1.number(),height:z$1.number()})}),BlitOptionsSchemaComplex=z$1.object({src:JimpClassSchema,x:z$1.number().optional(),y:z$1.number().optional(),srcX:z$1.number().optional(),srcY:z$1.number().optional(),srcW:z$1.number().optional(),srcH:z$1.number().optional()}),BlitOptionsSchema=z$1.union([JimpClassSchema,BlitOptionsSchemaComplex]),methods$h={blit(d,m){const g=BlitOptionsSchema.parse(m);let{src:w,x:D=0,y:H=0,srcX:q=0,srcY:it=0,srcW:ot=w.bitmap.width,srcH:ft=w.bitmap.height}="bitmap"in g?{src:g}:g;if(!("bitmap"in w))throw new Error("The source must be a Jimp image");if(typeof D!="number"||typeof H!="number")throw new Error("x and y must be numbers");D=Math.round(D),H=Math.round(H),q=Math.round(q),it=Math.round(it),ot=Math.round(ot),ft=Math.round(ft);const ut=d.bitmap.width,dt=d.bitmap.height;return scan(w,q,it,ot,ft,function(St,Tt,Rt){const zt=D+St-q,$t=H+Tt-it;if(zt>=0&&$t>=0&&ut-zt>0&&dt-$t>0){const jt=d.getPixelIndex(zt,$t),Zt={r:w.bitmap.data[Rt]||0,g:w.bitmap.data[Rt+1]||0,b:w.bitmap.data[Rt+2]||0,a:w.bitmap.data[Rt+3]||0},Ft={r:d.bitmap.data[jt]||0,g:d.bitmap.data[jt+1]||0,b:d.bitmap.data[jt+2]||0,a:d.bitmap.data[jt+3]||0};d.bitmap.data[jt]=(Zt.a*(Zt.r-Ft.r)-Ft.r+255>>8)+Ft.r,d.bitmap.data[jt+1]=(Zt.a*(Zt.g-Ft.g)-Ft.g+255>>8)+Ft.g,d.bitmap.data[jt+2]=(Zt.a*(Zt.b-Ft.b)-Ft.b+255>>8)+Ft.b,d.bitmap.data[jt+3]=limit255(Ft.a+Zt.a)}}),d}},mulTable=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],shgTable=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18],methods$g={blur(d,m){if(typeof m!="number")throw new Error("r must be a number");if(m<1)throw new Error("r must be greater than 0");let g,w,D,H,q,it,ot,ft,ut,dt,St,Tt,Rt;const zt=d.bitmap.width-1,$t=d.bitmap.height-1,jt=m+1,Zt=mulTable[m],Ft=shgTable[m],Dt=[],Kt=[],re=[],Yt=[],ne=[],ee=[];let ae=2;for(;ae-- >0;){for(Tt=0,Rt=0,it=0;it<d.bitmap.height;it++){for(g=d.bitmap.data[Rt]*jt,w=d.bitmap.data[Rt+1]*jt,D=d.bitmap.data[Rt+2]*jt,H=d.bitmap.data[Rt+3]*jt,ot=1;ot<=m;ot++)ft=Rt+((ot>zt?zt:ot)<<2),g+=d.bitmap.data[ft++],w+=d.bitmap.data[ft++],D+=d.bitmap.data[ft++],H+=d.bitmap.data[ft];for(q=0;q<d.bitmap.width;q++)Dt[Tt]=g,Kt[Tt]=w,re[Tt]=D,Yt[Tt]=H,it===0&&(ne[q]=((ft=q+jt)<zt?ft:zt)<<2,ee[q]=(ft=q-m)>0?ft<<2:0),ut=Rt+ne[q],dt=Rt+ee[q],g+=d.bitmap.data[ut++]-d.bitmap.data[dt++],w+=d.bitmap.data[ut++]-d.bitmap.data[dt++],D+=d.bitmap.data[ut++]-d.bitmap.data[dt++],H+=d.bitmap.data[ut]-d.bitmap.data[dt++],Tt++;Rt+=d.bitmap.width<<2}for(q=0;q<d.bitmap.width;q++){for(St=q,g=Dt[St]*jt,w=Kt[St]*jt,D=re[St]*jt,H=Yt[St]*jt,ot=1;ot<=m;ot++)St+=ot>$t?0:d.bitmap.width,g+=Dt[St],w+=Kt[St],D+=re[St],H+=Yt[St];for(Tt=q<<2,it=0;it<d.bitmap.height;it++)d.bitmap.data[Tt]=limit255(g*Zt>>>Ft),d.bitmap.data[Tt+1]=limit255(w*Zt>>>Ft),d.bitmap.data[Tt+2]=limit255(D*Zt>>>Ft),d.bitmap.data[Tt+3]=limit255(H*Zt>>>Ft),q===0&&(ne[it]=((ft=it+jt)<$t?ft:$t)*d.bitmap.width,ee[it]=(ft=it-m)>0?ft*d.bitmap.width:0),ut=q+ne[it],dt=q+ee[it],g+=Dt[ut]-Dt[dt],w+=Kt[ut]-Kt[dt],D+=re[ut]-re[dt],H+=Yt[ut]-Yt[dt],Tt+=d.bitmap.width<<2}}return d},gaussian(d,m){if(typeof m!="number")throw new Error("r must be a number");if(m<1)throw new Error("r must be greater than 0");const g=Math.ceil(2.57*m),w=2*g+1,D=m*m*2,H=D*Math.PI,q=[];for(let it=0;it<w;it++){const ot=[];for(let ft=0;ft<w;ft++){const ut=(ft-g)**2+(it-g)**2;ot[ft]=Math.exp(-ut/D)/H}q.push(ot)}for(let it=0;it<d.bitmap.height;it++)for(let ot=0;ot<d.bitmap.width;ot++){let ft=0,ut=0,dt=0,St=0,Tt=0;for(let Rt=0;Rt<w;Rt++){for(let $t=0;$t<w;$t++){const jt=Math.min(d.bitmap.width-1,Math.max(0,$t+ot-g)),Zt=Math.min(d.bitmap.height-1,Math.max(0,Rt+it-g)),Ft=q[Rt][$t],Dt=Zt*d.bitmap.width+jt<<2;ft+=d.bitmap.data[Dt]*Ft,ut+=d.bitmap.data[Dt+1]*Ft,dt+=d.bitmap.data[Dt+2]*Ft,St+=d.bitmap.data[Dt+3]*Ft,Tt+=Ft}const zt=it*d.bitmap.width+ot<<2;d.bitmap.data[zt]=Math.round(ft/Tt),d.bitmap.data[zt+1]=Math.round(ut/Tt),d.bitmap.data[zt+2]=Math.round(dt/Tt),d.bitmap.data[zt+3]=Math.round(St/Tt)}}return d}},CircleOptionsSchema=z$1.object({x:z$1.number().optional(),y:z$1.number().optional(),radius:z$1.number().min(0).optional()}),methods$f={circle(d,m={}){const g=CircleOptionsSchema.parse(m),w=g.radius||(d.bitmap.width>d.bitmap.height?d.bitmap.height:d.bitmap.width)/2,D=typeof g.x=="number"?g.x:d.bitmap.width/2,H=typeof g.y=="number"?g.y:d.bitmap.height/2;return d.scan((q,it,ot)=>{const ft=Math.sqrt(Math.pow(q-D,2)+Math.pow(it-H,2));w-ft<=0?d.bitmap.data[ot+3]=0:w-ft<1&&(d.bitmap.data[ot+3]=255*(w-ft))}),d}},ConvolutionMatrixSchema=z$1.array(z$1.number()).min(1).array(),ConvolutionComplexOptionsSchema=z$1.object({kernel:ConvolutionMatrixSchema,edgeHandling:z$1.nativeEnum(Edge).optional()}),ConvolutionOptionsSchema=z$1.union([ConvolutionMatrixSchema,ConvolutionComplexOptionsSchema]),ConvoluteComplexOptionsSchema=z$1.object({kernel:ConvolutionMatrixSchema,x:z$1.number().optional(),y:z$1.number().optional(),w:z$1.number().optional(),h:z$1.number().optional()}),ConvoluteOptionsSchema=z$1.union([ConvolutionMatrixSchema,ConvoluteComplexOptionsSchema]),PixelateSize=z$1.number().min(1).max(1/0),PixelateComplexOptionsSchema=z$1.object({size:PixelateSize,x:z$1.number().optional(),y:z$1.number().optional(),w:z$1.number().optional(),h:z$1.number().optional()}),PixelateOptionsSchema=z$1.union([PixelateSize,PixelateComplexOptionsSchema]);function applyKernel(d,m,g,w){const D=[0,0,0,0],H=(m.length-1)/2;for(let q=0;q<m.length;q+=1)for(let it=0;it<m[q].length;it+=1){const ot=d.getPixelIndex(g+q-H,w+it-H);D[0]+=d.bitmap.data[ot]*m[q][it],D[1]+=d.bitmap.data[ot+1]*m[q][it],D[2]+=d.bitmap.data[ot+2]*m[q][it],D[3]+=d.bitmap.data[ot+3]*m[q][it]}return D}function mix(d,m,g=50){return{r:(m.r-d.r)*(g/100)+d.r,g:(m.g-d.g)*(g/100)+d.g,b:(m.b-d.b)*(g/100)+d.b}}const HueActionSchema=z$1.object({apply:z$1.literal("hue"),params:z$1.tuple([z$1.number().min(-360).max(360)])}),SpinActionSchema=z$1.object({apply:z$1.literal("spin"),params:z$1.tuple([z$1.number().min(-360).max(360)])}),LightenActionSchema=z$1.object({apply:z$1.literal("lighten"),params:z$1.tuple([z$1.number().min(0).max(100)]).optional()}),RGBColorSchema=z$1.object({r:z$1.number().min(0).max(255),g:z$1.number().min(0).max(255),b:z$1.number().min(0).max(255)}),MixActionSchema=z$1.object({apply:z$1.literal("mix"),params:z$1.union([z$1.tuple([RGBColorSchema]),z$1.tuple([RGBColorSchema,z$1.number().min(0).max(100)])])}),TintActionSchema=z$1.object({apply:z$1.literal("tint"),params:z$1.tuple([z$1.number().min(0).max(100)]).optional()}),ShadeActionSchema=z$1.object({apply:z$1.literal("shade"),params:z$1.tuple([z$1.number().min(0).max(100)]).optional()}),XorActionSchema=z$1.object({apply:z$1.literal("xor"),params:z$1.tuple([RGBColorSchema])}),RedActionSchema=z$1.object({apply:z$1.literal("red"),params:z$1.tuple([z$1.number().min(-255).max(255)])}),GreenActionSchema=z$1.object({apply:z$1.literal("green"),params:z$1.tuple([z$1.number().min(-255).max(255)])}),BlueActionSchema=z$1.object({apply:z$1.literal("blue"),params:z$1.tuple([z$1.number().min(-255).max(255)])}),BrightenActionSchema=z$1.object({apply:z$1.literal("brighten"),params:z$1.tuple([z$1.number().min(0).max(100)]).optional()}),DarkenActionSchema=z$1.object({apply:z$1.literal("darken"),params:z$1.tuple([z$1.number().min(0).max(100)]).optional()}),DesaturateActionSchema=z$1.object({apply:z$1.literal("desaturate"),params:z$1.tuple([z$1.number().min(0).max(100)]).optional()}),SaturateActionSchema=z$1.object({apply:z$1.literal("saturate"),params:z$1.tuple([z$1.number().min(0).max(100)]).optional()}),GrayscaleActionSchema=z$1.object({apply:z$1.literal("greyscale"),params:z$1.tuple([]).optional()}),ColorActionNameSchema=z$1.union([HueActionSchema,SpinActionSchema,LightenActionSchema,MixActionSchema,TintActionSchema,ShadeActionSchema,XorActionSchema,RedActionSchema,GreenActionSchema,BlueActionSchema,BrightenActionSchema,DarkenActionSchema,DesaturateActionSchema,SaturateActionSchema,GrayscaleActionSchema]);function histogram(d){const m={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return d.scan((g,w,D)=>{m.r[d.bitmap.data[D+0]]++,m.g[d.bitmap.data[D+1]]++,m.b[d.bitmap.data[D+2]]++}),m}const normalizeValue=function(d,m,g){return 255*(d-m)/(g-m)},getBounds=function(d){return[d.findIndex(m=>m>0),255-d.slice().reverse().findIndex(m=>m>0)]},methods$e={normalize(d){const m=histogram(d),g={r:getBounds(m.r),g:getBounds(m.g),b:getBounds(m.b)};return d.scan((w,D,H)=>{const q=d.bitmap.data[H+0],it=d.bitmap.data[H+1],ot=d.bitmap.data[H+2];d.bitmap.data[H+0]=normalizeValue(q,g.r[0],g.r[1]),d.bitmap.data[H+1]=normalizeValue(it,g.g[0],g.g[1]),d.bitmap.data[H+2]=normalizeValue(ot,g.b[0],g.b[1])}),d},invert:d=>(d.scan((m,g,w)=>{d.bitmap.data[w]=255-d.bitmap.data[w],d.bitmap.data[w+1]=255-d.bitmap.data[w+1],d.bitmap.data[w+2]=255-d.bitmap.data[w+2]}),d),brightness(d,m){if(typeof m!="number")throw new Error("val must be numbers");return d.scan((g,w,D)=>{d.bitmap.data[D]=limit255(d.bitmap.data[D]*m),d.bitmap.data[D+1]=limit255(d.bitmap.data[D+1]*m),d.bitmap.data[D+2]=limit255(d.bitmap.data[D+2]*m)}),d},contrast(d,m){if(typeof m!="number")throw new Error("val must be numbers");if(m<-1||m>1)throw new Error("val must be a number between -1 and +1");const g=(m+1)/(1-m);function w(D){return(D=Math.floor(g*(D-127)+127))<0?0:D>255?255:D}return d.scan((D,H,q)=>{d.bitmap.data[q]=w(d.bitmap.data[q]),d.bitmap.data[q+1]=w(d.bitmap.data[q+1]),d.bitmap.data[q+2]=w(d.bitmap.data[q+2])}),d},posterize(d,m){if(typeof m!="number")throw new Error("n must be numbers");return m<2&&(m=2),d.scan((g,w,D)=>{const H=d.bitmap.data[D],q=d.bitmap.data[D+1],it=d.bitmap.data[D+2];d.bitmap.data[D]=Math.floor(H/255*(m-1))/(m-1)*255,d.bitmap.data[D+1]=Math.floor(q/255*(m-1))/(m-1)*255,d.bitmap.data[D+2]=Math.floor(it/255*(m-1))/(m-1)*255}),d},greyscale:d=>(d.scan((m,g,w)=>{const D=.2126*d.bitmap.data[w]+.7152*d.bitmap.data[w+1]+.0722*d.bitmap.data[w+2];d.bitmap.data[w]=D,d.bitmap.data[w+1]=D,d.bitmap.data[w+2]=D}),d),opacity(d,m){if(typeof m!="number")throw new Error("f must be a number");if(m<0||m>1)throw new Error("f must be a number from 0 to 1");return d.scan((g,w,D)=>{const H=d.bitmap.data[D+3]*m;d.bitmap.data[D+3]=H}),d},sepia:d=>(d.scan((m,g,w)=>{let D=d.bitmap.data[w],H=d.bitmap.data[w+1],q=d.bitmap.data[w+2];D=.393*D+.769*H+.189*q,H=.349*D+.686*H+.168*q,q=.272*D+.534*H+.131*q,d.bitmap.data[w]=D<255?D:255,d.bitmap.data[w+1]=H<255?H:255,d.bitmap.data[w+2]=q<255?q:255}),d),fade(d,m){if(typeof m!="number")throw new Error("f must be a number");if(m<0||m>1)throw new Error("f must be a number from 0 to 1");return this.opacity(d,1-m)},convolution(d,m){const g=ConvolutionOptionsSchema.parse(m),{kernel:w,edgeHandling:D=Edge.EXTEND}="kernel"in g?g:{kernel:g,edgeHandling:void 0};if(!w[0])throw new Error("kernel must be a matrix");const H=Buffer.from(d.bitmap.data),q=w.length,it=w[0].length,ot=Math.floor(q/2),ft=Math.floor(it/2),ut=-ot,dt=-ft;let St,Tt,Rt,zt,$t,jt,Zt,Ft,Dt,Kt;return d.scan((re,Yt,ne)=>{zt=0,Rt=0,Tt=0;for(let ee=ut;ee<=ot;ee++)for(let ae=dt;ae<=ft;ae++)Ft=re+ae,Dt=Yt+ee,St=w[ee+ot][ae+ft],Kt=d.getPixelIndex(Ft,Dt,D),Kt===-1?(Zt=0,jt=0,$t=0):($t=d.bitmap.data[Kt+0],jt=d.bitmap.data[Kt+1],Zt=d.bitmap.data[Kt+2]),Tt+=St*$t,Rt+=St*jt,zt+=St*Zt;Tt<0&&(Tt=0),Rt<0&&(Rt=0),zt<0&&(zt=0),Tt>255&&(Tt=255),Rt>255&&(Rt=255),zt>255&&(zt=255),H[ne+0]=Tt,H[ne+1]=Rt,H[ne+2]=zt}),d.bitmap.data=H,d},opaque:d=>(d.scan((m,g,w)=>{d.bitmap.data[w+3]=255}),d),pixelate(d,m){const g=PixelateOptionsSchema.parse(m),{size:w,x:D=0,y:H=0,w:q=d.bitmap.width-D,h:it=d.bitmap.height-H}=typeof g=="number"?{size:g}:g,ot=[[1/16,2/16,1/16],[2/16,.25,2/16],[1/16,2/16,1/16]],ft=clone(d);return scan(ft,D,H,q,it,(ut,dt,St)=>{ut=w*Math.floor(ut/w),dt=w*Math.floor(dt/w);const Tt=applyKernel(ft,ot,ut,dt);d.bitmap.data[St]=Tt[0],d.bitmap.data[St+1]=Tt[1],d.bitmap.data[St+2]=Tt[2],d.bitmap.data[St+3]=Tt[3]}),d},convolute(d,m){const g=ConvoluteOptionsSchema.parse(m),{kernel:w,x:D=0,y:H=0,w:q=d.bitmap.width-D,h:it=d.bitmap.height-H}="kernel"in g?g:{kernel:g},ot=clone(d);return scan(ot,D,H,q,it,(ft,ut,dt)=>{const St=applyKernel(ot,w,ft,ut);d.bitmap.data[dt]=limit255(St[0]),d.bitmap.data[dt+1]=limit255(St[1]),d.bitmap.data[dt+2]=limit255(St[2]),d.bitmap.data[dt+3]=limit255(St[3])}),d},color(d,m){if(!m||!Array.isArray(m))throw new Error("actions must be an array");return m.forEach(g=>ColorActionNameSchema.parse(g)),m=m.map(g=>(g.apply!=="xor"&&g.apply!=="mix"||(g.params[0]=tinycolor(g.params[0]).toRgb()),g)),d.scan((g,w,D)=>{let H={r:d.bitmap.data[D],g:d.bitmap.data[D+1],b:d.bitmap.data[D+2]};const q=(it,ot)=>limit255(H[it]+ot);m.forEach(it=>{var ot,ft;if(it.apply==="mix")H=mix(H,it.params[0],it.params[1]);else if(it.apply==="tint")H=mix(H,{r:255,g:255,b:255},(ot=it.params)==null?void 0:ot[0]);else if(it.apply==="shade")H=mix(H,{r:0,g:0,b:0},(ft=it.params)==null?void 0:ft[0]);else if(it.apply==="xor")H={r:H.r^it.params[0].r,g:H.g^it.params[0].g,b:H.b^it.params[0].b};else if(it.apply==="red")H.r=q("r",it.params[0]);else if(it.apply==="green")H.g=q("g",it.params[0]);else if(it.apply==="blue")H.b=q("b",it.params[0]);else{it.apply==="hue"&&(it.apply="spin");const ut=tinycolor(H),dt=ut[it.apply].bind(ut);if(!dt)throw new Error("action "+it.apply+" not supported");H=dt(...it.params||[]).toRgb()}}),d.bitmap.data[D]=H.r,d.bitmap.data[D+1]=H.g,d.bitmap.data[D+2]=H.b}),d}};var lib$1={},ieee754={read:function(d,m,g,w,D){var H,q,it=8*D-w-1,ot=(1<<it)-1,ft=ot>>1,ut=-7,dt=g?D-1:0,St=g?-1:1,Tt=d[m+dt];for(dt+=St,H=Tt&(1<<-ut)-1,Tt>>=-ut,ut+=it;ut>0;H=256*H+d[m+dt],dt+=St,ut-=8);for(q=H&(1<<-ut)-1,H>>=-ut,ut+=w;ut>0;q=256*q+d[m+dt],dt+=St,ut-=8);if(H===0)H=1-ft;else{if(H===ot)return q?NaN:1/0*(Tt?-1:1);q+=Math.pow(2,w),H-=ft}return(Tt?-1:1)*q*Math.pow(2,H-w)},write:function(d,m,g,w,D,H){var q,it,ot,ft=8*H-D-1,ut=(1<<ft)-1,dt=ut>>1,St=D===23?Math.pow(2,-24)-Math.pow(2,-77):0,Tt=w?0:H-1,Rt=w?1:-1,zt=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(it=isNaN(m)?1:0,q=ut):(q=Math.floor(Math.log(m)/Math.LN2),m*(ot=Math.pow(2,-q))<1&&(q--,ot*=2),(m+=q+dt>=1?St/ot:St*Math.pow(2,1-dt))*ot>=2&&(q++,ot/=2),q+dt>=ut?(it=0,q=ut):q+dt>=1?(it=(m*ot-1)*Math.pow(2,D),q+=dt):(it=m*Math.pow(2,dt-1)*Math.pow(2,D),q=0));D>=8;d[g+Tt]=255&it,Tt+=Rt,it/=256,D-=8);for(q=q<<D|it,ft+=D;ft>0;d[g+Tt]=255&q,Tt+=Rt,q/=256,ft-=8);d[g+Tt-Rt]|=128*zt}};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.AnsiStringType=d.StringType=d.BufferType=d.Uint8ArrayType=d.IgnoreType=d.Float80_LE=d.Float80_BE=d.Float64_LE=d.Float64_BE=d.Float32_LE=d.Float32_BE=d.Float16_LE=d.Float16_BE=d.INT64_BE=d.UINT64_BE=d.INT64_LE=d.UINT64_LE=d.INT32_LE=d.INT32_BE=d.INT24_BE=d.INT24_LE=d.INT16_LE=d.INT16_BE=d.INT8=d.UINT32_BE=d.UINT32_LE=d.UINT24_BE=d.UINT24_LE=d.UINT16_BE=d.UINT16_LE=d.UINT8=void 0;const m=ieee754;function g(D){return new DataView(D.buffer,D.byteOffset)}d.UINT8={len:1,get:(D,H)=>g(D).getUint8(H),put:(D,H,q)=>(g(D).setUint8(H,q),H+1)},d.UINT16_LE={len:2,get:(D,H)=>g(D).getUint16(H,!0),put:(D,H,q)=>(g(D).setUint16(H,q,!0),H+2)},d.UINT16_BE={len:2,get:(D,H)=>g(D).getUint16(H),put:(D,H,q)=>(g(D).setUint16(H,q),H+2)},d.UINT24_LE={len:3,get(D,H){const q=g(D);return q.getUint8(H)+(q.getUint16(H+1,!0)<<8)},put(D,H,q){const it=g(D);return it.setUint8(H,255&q),it.setUint16(H+1,q>>8,!0),H+3}},d.UINT24_BE={len:3,get(D,H){const q=g(D);return(q.getUint16(H)<<8)+q.getUint8(H+2)},put(D,H,q){const it=g(D);return it.setUint16(H,q>>8),it.setUint8(H+2,255&q),H+3}},d.UINT32_LE={len:4,get:(D,H)=>g(D).getUint32(H,!0),put:(D,H,q)=>(g(D).setUint32(H,q,!0),H+4)},d.UINT32_BE={len:4,get:(D,H)=>g(D).getUint32(H),put:(D,H,q)=>(g(D).setUint32(H,q),H+4)},d.INT8={len:1,get:(D,H)=>g(D).getInt8(H),put:(D,H,q)=>(g(D).setInt8(H,q),H+1)},d.INT16_BE={len:2,get:(D,H)=>g(D).getInt16(H),put:(D,H,q)=>(g(D).setInt16(H,q),H+2)},d.INT16_LE={len:2,get:(D,H)=>g(D).getInt16(H,!0),put:(D,H,q)=>(g(D).setInt16(H,q,!0),H+2)},d.INT24_LE={len:3,get(D,H){const q=d.UINT24_LE.get(D,H);return q>8388607?q-16777216:q},put(D,H,q){const it=g(D);return it.setUint8(H,255&q),it.setUint16(H+1,q>>8,!0),H+3}},d.INT24_BE={len:3,get(D,H){const q=d.UINT24_BE.get(D,H);return q>8388607?q-16777216:q},put(D,H,q){const it=g(D);return it.setUint16(H,q>>8),it.setUint8(H+2,255&q),H+3}},d.INT32_BE={len:4,get:(D,H)=>g(D).getInt32(H),put:(D,H,q)=>(g(D).setInt32(H,q),H+4)},d.INT32_LE={len:4,get:(D,H)=>g(D).getInt32(H,!0),put:(D,H,q)=>(g(D).setInt32(H,q,!0),H+4)},d.UINT64_LE={len:8,get:(D,H)=>g(D).getBigUint64(H,!0),put:(D,H,q)=>(g(D).setBigUint64(H,q,!0),H+8)},d.INT64_LE={len:8,get:(D,H)=>g(D).getBigInt64(H,!0),put:(D,H,q)=>(g(D).setBigInt64(H,q,!0),H+8)},d.UINT64_BE={len:8,get:(D,H)=>g(D).getBigUint64(H),put:(D,H,q)=>(g(D).setBigUint64(H,q),H+8)},d.INT64_BE={len:8,get:(D,H)=>g(D).getBigInt64(H),put:(D,H,q)=>(g(D).setBigInt64(H,q),H+8)},d.Float16_BE={len:2,get(D,H){return m.read(D,H,!1,10,this.len)},put(D,H,q){return m.write(D,q,H,!1,10,this.len),H+this.len}},d.Float16_LE={len:2,get(D,H){return m.read(D,H,!0,10,this.len)},put(D,H,q){return m.write(D,q,H,!0,10,this.len),H+this.len}},d.Float32_BE={len:4,get:(D,H)=>g(D).getFloat32(H),put:(D,H,q)=>(g(D).setFloat32(H,q),H+4)},d.Float32_LE={len:4,get:(D,H)=>g(D).getFloat32(H,!0),put:(D,H,q)=>(g(D).setFloat32(H,q,!0),H+4)},d.Float64_BE={len:8,get:(D,H)=>g(D).getFloat64(H),put:(D,H,q)=>(g(D).setFloat64(H,q),H+8)},d.Float64_LE={len:8,get:(D,H)=>g(D).getFloat64(H,!0),put:(D,H,q)=>(g(D).setFloat64(H,q,!0),H+8)},d.Float80_BE={len:10,get(D,H){return m.read(D,H,!1,63,this.len)},put(D,H,q){return m.write(D,q,H,!1,63,this.len),H+this.len}},d.Float80_LE={len:10,get(D,H){return m.read(D,H,!0,63,this.len)},put(D,H,q){return m.write(D,q,H,!0,63,this.len),H+this.len}},d.IgnoreType=class{constructor(D){this.len=D}get(D,H){}},d.Uint8ArrayType=class{constructor(D){this.len=D}get(D,H){return D.subarray(H,H+this.len)}},d.BufferType=class{constructor(D){this.len=D}get(D,H){return Buffer.from(D.subarray(H,H+this.len))}},d.StringType=class{constructor(D,H){this.len=D,this.encoding=H}get(D,H){return Buffer.from(D).toString(this.encoding,H,H+this.len)}};class w{constructor(H){this.len=H}static decode(H,q,it){let ot="";for(let ft=q;ft<it;++ft)ot+=w.codePointToString(w.singleByteDecoder(H[ft]));return ot}static inRange(H,q,it){return q<=H&&H<=it}static codePointToString(H){return H<=65535?String.fromCharCode(H):(H-=65536,String.fromCharCode(55296+(H>>10),56320+(1023&H)))}static singleByteDecoder(H){if(w.inRange(H,0,127))return H;const q=w.windows1252[H-128];if(q===null)throw Error("invaliding encoding");return q}get(H,q=0){return w.decode(H,q,q+this.len)}}d.AnsiStringType=w,w.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]})(lib$1);var core$1={},ReadStreamTokenizer$1={},AbstractTokenizer$1={},lib={},EndOfFileStream={};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.EndOfStreamError=d.defaultMessages=void 0,d.defaultMessages="End-Of-Stream";class m extends Error{constructor(){super(d.defaultMessages)}}d.EndOfStreamError=m})(EndOfFileStream);var StreamReader={},Deferred$1={};Object.defineProperty(Deferred$1,"__esModule",{value:!0}),Deferred$1.Deferred=void 0;class Deferred{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((m,g)=>{this.reject=g,this.resolve=m})}}Deferred$1.Deferred=Deferred,function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;const m=EndOfFileStream,g=Deferred$1;var w=EndOfFileStream;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}}),d.StreamReader=class{constructor(D){if(this.s=D,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!D.read||!D.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new m.EndOfStreamError)),this.s.once("error",H=>this.reject(H)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(D,H,q){const it=await this.read(D,H,q);return this.peekQueue.push(D.subarray(H,H+it)),it}async read(D,H,q){if(q===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new m.EndOfStreamError;let it=q,ot=0;for(;this.peekQueue.length>0&&it>0;){const ft=this.peekQueue.pop();if(!ft)throw new Error("peekData should be defined");const ut=Math.min(ft.length,it);D.set(ft.subarray(0,ut),H+ot),ot+=ut,it-=ut,ut<ft.length&&this.peekQueue.push(ft.subarray(ut))}for(;it>0&&!this.endOfStream;){const ft=Math.min(it,1048576),ut=await this.readFromStream(D,H+ot,ft);if(ot+=ut,ut<ft)break;it-=ut}return ot}async readFromStream(D,H,q){const it=this.s.read(q);if(it)return D.set(it,H),it.length;{const ot={buffer:D,offset:H,length:q,deferred:new g.Deferred};return this.deferred=ot.deferred,this.s.once("readable",()=>{this.readDeferred(ot)}),ot.deferred.promise}}readDeferred(D){const H=this.s.read(D.length);H?(D.buffer.set(H,D.offset),D.deferred.resolve(H.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(D)})}reject(D){this.endOfStream=!0,this.deferred&&(this.deferred.reject(D),this.deferred=null)}}}(StreamReader),function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;var m=EndOfFileStream;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return m.EndOfStreamError}});var g=StreamReader;Object.defineProperty(d,"StreamReader",{enumerable:!0,get:function(){return g.StreamReader}})}(lib),Object.defineProperty(AbstractTokenizer$1,"__esModule",{value:!0}),AbstractTokenizer$1.AbstractTokenizer=void 0;const peek_readable_1$2=lib;class AbstractTokenizer{constructor(m){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=m||{}}async readToken(m,g=this.position){const w=Buffer.alloc(m.len);if(await this.readBuffer(w,{position:g})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(w,0)}async peekToken(m,g=this.position){const w=Buffer.alloc(m.len);if(await this.peekBuffer(w,{position:g})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(w,0)}async readNumber(m){if(await this.readBuffer(this.numBuffer,{length:m.len})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(this.numBuffer,0)}async peekNumber(m){if(await this.peekBuffer(this.numBuffer,{length:m.len})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(this.numBuffer,0)}async ignore(m){if(this.fileInfo.size!==void 0){const g=this.fileInfo.size-this.position;if(m>g)return this.position+=g,g}return this.position+=m,m}async close(){}normalizeOptions(m,g){if(g&&g.position!==void 0&&g.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return g?{mayBeLess:g.mayBeLess===!0,offset:g.offset?g.offset:0,length:g.length?g.length:m.length-(g.offset?g.offset:0),position:g.position?g.position:this.position}:{mayBeLess:!1,offset:0,length:m.length,position:this.position}}}AbstractTokenizer$1.AbstractTokenizer=AbstractTokenizer,Object.defineProperty(ReadStreamTokenizer$1,"__esModule",{value:!0}),ReadStreamTokenizer$1.ReadStreamTokenizer=void 0;const AbstractTokenizer_1$1=AbstractTokenizer$1,peek_readable_1$1=lib,maxBufferSize=256e3;class ReadStreamTokenizer extends AbstractTokenizer_1$1.AbstractTokenizer{constructor(m,g){super(g),this.streamReader=new peek_readable_1$1.StreamReader(m)}async getFileInfo(){return this.fileInfo}async readBuffer(m,g){const w=this.normalizeOptions(m,g),D=w.position-this.position;if(D>0)return await this.ignore(D),this.readBuffer(m,g);if(D<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(w.length===0)return 0;const H=await this.streamReader.read(m,w.offset,w.length);if(this.position+=H,(!g||!g.mayBeLess)&&H<w.length)throw new peek_readable_1$1.EndOfStreamError;return H}async peekBuffer(m,g){const w=this.normalizeOptions(m,g);let D=0;if(w.position){const H=w.position-this.position;if(H>0){const q=new Uint8Array(w.length+H);return D=await this.peekBuffer(q,{mayBeLess:w.mayBeLess}),m.set(q.subarray(H),w.offset),D-H}if(H<0)throw new Error("Cannot peek from a negative offset in a stream")}if(w.length>0){try{D=await this.streamReader.peek(m,w.offset,w.length)}catch(H){if(g&&g.mayBeLess&&H instanceof peek_readable_1$1.EndOfStreamError)return 0;throw H}if(!w.mayBeLess&&D<w.length)throw new peek_readable_1$1.EndOfStreamError}return D}async ignore(m){const g=Math.min(maxBufferSize,m),w=new Uint8Array(g);let D=0;for(;D<m;){const H=m-D,q=await this.readBuffer(w,{length:Math.min(g,H)});if(q<0)return q;D+=q}return D}}ReadStreamTokenizer$1.ReadStreamTokenizer=ReadStreamTokenizer;var BufferTokenizer$1={};Object.defineProperty(BufferTokenizer$1,"__esModule",{value:!0}),BufferTokenizer$1.BufferTokenizer=void 0;const peek_readable_1=lib,AbstractTokenizer_1=AbstractTokenizer$1;class BufferTokenizer extends AbstractTokenizer_1.AbstractTokenizer{constructor(m,g){super(g),this.uint8Array=m,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:m.length}async readBuffer(m,g){if(g&&g.position){if(g.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=g.position}const w=await this.peekBuffer(m,g);return this.position+=w,w}async peekBuffer(m,g){const w=this.normalizeOptions(m,g),D=Math.min(this.uint8Array.length-w.position,w.length);if(!w.mayBeLess&&D<w.length)throw new peek_readable_1.EndOfStreamError;return m.set(this.uint8Array.subarray(w.position,w.position+D),w.offset),D}async close(){}}BufferTokenizer$1.BufferTokenizer=BufferTokenizer,function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.fromBuffer=d.fromStream=d.EndOfStreamError=void 0;const m=ReadStreamTokenizer$1,g=BufferTokenizer$1;var w=lib;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}}),d.fromStream=function(D,H){return H=H||{},new m.ReadStreamTokenizer(D,H)},d.fromBuffer=function(D,H){return new g.BufferTokenizer(D,H)}}(core$1);var util={stringToBytes:d=>[...d].map(m=>m.charCodeAt(0)),tarHeaderChecksumMatches:(d,m=0)=>{const g=parseInt(d.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(g))return!1;let w=256;for(let D=m;D<m+148;D++)w+=d[D];for(let D=m+156;D<m+512;D++)w+=d[D];return g===w},uint32SyncSafeToken:{get:(d,m)=>127&d[m+3]|d[m+2]<<7|d[m+1]<<14|d[m]<<21,len:4}},supported$1={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]};const Token=lib$1,strtok3=core$1,{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=util,supported=supported$1,minimumBytes=4100;async function fromStream(d){const m=await strtok3.fromStream(d);try{return await fromTokenizer(m)}finally{await m.close()}}async function fromBuffer(d){if(!(d instanceof Uint8Array||d instanceof ArrayBuffer||Buffer.isBuffer(d)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof d}\``);const m=d instanceof Buffer?d:Buffer.from(d);if(m&&m.length>1)return fromTokenizer(strtok3.fromBuffer(m))}function _check(d,m,g){g={offset:0,...g};for(const[w,D]of m.entries())if(g.mask){if(D!==(g.mask[w]&d[w+g.offset]))return!1}else if(D!==d[w+g.offset])return!1;return!0}async function fromTokenizer(d){try{return _fromTokenizer(d)}catch(m){if(!(m instanceof strtok3.EndOfStreamError))throw m}}async function _fromTokenizer(d){let m=Buffer.alloc(minimumBytes);const g=(D,H)=>_check(m,D,H),w=(D,H)=>g(stringToBytes(D),H);if(d.fileInfo.size||(d.fileInfo.size=Number.MAX_SAFE_INTEGER),await d.peekBuffer(m,{length:12,mayBeLess:!0}),g([66,77]))return{ext:"bmp",mime:"image/bmp"};if(g([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(g([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(g([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(g([37,33]))return await d.peekBuffer(m,{length:24,mayBeLess:!0}),w("PS-Adobe-",{offset:2})&&w(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(g([31,160])||g([31,157]))return{ext:"Z",mime:"application/x-compress"};if(g([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(g([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(g([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(g([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(w("ID3")){await d.ignore(6);const D=await d.readToken(uint32SyncSafeToken);return d.position+D>d.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await d.ignore(D),fromTokenizer(d))}if(w("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((m[0]===67||m[0]===70)&&g([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(g([71,73,70]))return{ext:"gif",mime:"image/gif"};if(w("FLIF"))return{ext:"flif",mime:"image/flif"};if(w("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(w("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(w("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(w("FORM"))return{ext:"aif",mime:"audio/aiff"};if(w("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(g([80,75,3,4])){try{for(;d.position+30<d.fileInfo.size;){await d.readBuffer(m,{length:30});const D={compressedSize:m.readUInt32LE(18),uncompressedSize:m.readUInt32LE(22),filenameLength:m.readUInt16LE(26),extraFieldLength:m.readUInt16LE(28)};if(D.filename=await d.readToken(new Token.StringType(D.filenameLength,"utf-8")),await d.ignore(D.extraFieldLength),D.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(D.filename.endsWith(".rels")||D.filename.endsWith(".xml"))switch(D.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(D.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(D.filename.startsWith("3D/")&&D.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(D.filename==="mimetype"&&D.compressedSize===D.uncompressedSize)switch(await d.readToken(new Token.StringType(D.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(D.compressedSize===0){let H=-1;for(;H<0&&d.position<d.fileInfo.size;)await d.peekBuffer(m,{mayBeLess:!0}),H=m.indexOf("504B0304",0,"hex"),await d.ignore(H>=0?H:m.length)}else await d.ignore(D.compressedSize)}}catch(D){if(!(D instanceof strtok3.EndOfStreamError))throw D}return{ext:"zip",mime:"application/zip"}}if(w("OggS")){await d.ignore(28);const D=Buffer.alloc(8);return await d.readBuffer(D),_check(D,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(D,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(D,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(D,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(D,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(D,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(g([80,75])&&(m[2]===3||m[2]===5||m[2]===7)&&(m[3]===4||m[3]===6||m[3]===8))return{ext:"zip",mime:"application/zip"};if(w("ftyp",{offset:4})&&96&m[8]){const D=m.toString("binary",8,12).replace("\0"," ").trim();switch(D){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return D.startsWith("3g")?D.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(w("MThd"))return{ext:"mid",mime:"audio/midi"};if(w("wOFF")&&(g([0,1,0,0],{offset:4})||w("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(w("wOF2")&&(g([0,1,0,0],{offset:4})||w("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(g([212,195,178,161])||g([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(w("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(w("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(w("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(g([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(w("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(w("%PDF")){await d.ignore(1350);const D=10485760,H=Buffer.alloc(Math.min(D,d.fileInfo.size));return await d.readBuffer(H,{mayBeLess:!0}),H.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(g([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(g([73,73,42,0]))return w("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:g([28,0,254,0],{offset:8})||g([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:g([8,0,0,0],{offset:4})&&(g([45,0,254,0],{offset:8})||g([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(m=Buffer.alloc(24),await d.peekBuffer(m),(g([16,251,134,1],{offset:4})||g([8,0,0,0],{offset:4}))&&g([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(g([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(w("MAC "))return{ext:"ape",mime:"audio/ape"};if(g([26,69,223,163])){async function D(){const ot=await d.peekNumber(Token.UINT8);let ft=128,ut=0;for(;!(ot&ft)&&ft!==0;)++ut,ft>>=1;const dt=Buffer.alloc(ut+1);return await d.readBuffer(dt),dt}async function H(){const ot=await D(),ft=await D();ft[0]^=128>>ft.length-1;const ut=Math.min(6,ft.length);return{id:ot.readUIntBE(0,ot.length),len:ft.readUIntBE(ft.length-ut,ut)}}async function q(ot,ft){for(;ft>0;){const ut=await H();if(ut.id===17026)return d.readToken(new Token.StringType(ut.len,"utf-8"));await d.ignore(ut.len),--ft}}const it=await H();switch(await q(0,it.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(g([82,73,70,70])){if(g([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(g([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(g([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(w("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(g([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(w("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(w("MSCF")||w("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(g([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(g([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(g([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(g([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(w("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(w("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(g([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(w("IMPM"))return{ext:"it",mime:"audio/x-it"};if(w("-lh0-",{offset:2})||w("-lh1-",{offset:2})||w("-lh2-",{offset:2})||w("-lh3-",{offset:2})||w("-lh4-",{offset:2})||w("-lh5-",{offset:2})||w("-lh6-",{offset:2})||w("-lh7-",{offset:2})||w("-lzs-",{offset:2})||w("-lz4-",{offset:2})||w("-lz5-",{offset:2})||w("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(g([0,0,1,186])){if(g([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(g([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(w("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(g([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(w("<?xml "))return{ext:"xml",mime:"application/xml"};if(g([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(g([82,97,114,33,26,7])&&(m[6]===0||m[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(w("solid "))return{ext:"stl",mime:"model/stl"};if(w("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(w("!<arch>"))return await d.ignore(8),await d.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(g([137,80,78,71,13,10,26,10])){async function D(){return{length:await d.readToken(Token.INT32_BE),type:await d.readToken(new Token.StringType(4,"binary"))}}await d.ignore(8);do{const H=await D();if(H.length<0)return;switch(H.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await d.ignore(H.length+4)}}while(d.position+8<d.fileInfo.size);return{ext:"png",mime:"image/png"}}if(g([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(g([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(g([102,114,101,101],{offset:4})||g([109,100,97,116],{offset:4})||g([109,111,111,118],{offset:4})||g([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(g([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(w("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(g([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(g([48,38,178,117,142,102,207,17,166,217])){async function D(){const H=Buffer.alloc(16);return await d.readBuffer(H),{id:H,size:Number(await d.readToken(Token.UINT64_LE))}}for(await d.ignore(30);d.position+24<d.fileInfo.size;){const H=await D();let q=H.size-24;if(_check(H.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const it=Buffer.alloc(16);if(q-=await d.readBuffer(it),_check(it,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(it,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await d.ignore(q)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(g([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((g([126,16,4])||g([126,24,4]))&&g([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(g([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(g([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await d.ignore(20),await d.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(g([255,10])||g([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(g([0,0,1,186])||g([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(g([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(g([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(g([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(g([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await d.peekBuffer(m,{length:Math.min(256,d.fileInfo.size),mayBeLess:!0}),w("BEGIN:")){if(w("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(w("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(w("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(w("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(w("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(g([4,0,0,0])&&m.length>=16){const D=m.readUInt32LE(12);if(D>12&&m.length>=D+16)try{const H=m.slice(16,D+16).toString();if(JSON.parse(H).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(g([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(w("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(g([71],{offset:4})&&(g([71],{offset:192})||g([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(g([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(g([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(g([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(g([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(g([76,80],{offset:34})&&(g([0,0,1],{offset:8})||g([1,0,2],{offset:8})||g([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(g([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await d.peekBuffer(m,{length:Math.min(512,d.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(m))return{ext:"tar",mime:"application/x-tar"};if(g([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(w("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(m.length>=2&&g([255,224],{offset:0,mask:[255,224]})){if(g([16],{offset:1,mask:[22]}))return g([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(g([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(g([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(g([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const d=new stream.PassThrough;let m;m=stream.pipeline?stream.pipeline(readableStream,d,()=>{}):readableStream.pipe(d);const g=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const w=await fromBuffer(g);d.fileType=w}catch(w){reject(w)}resolve(m)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)});var core=fileType,fileType$1=getDefaultExportFromCjs(core);function to(d,m){return d.then(function(g){return[null,g]}).catch(function(g){return[g,void 0]})}const writeFile=async()=>{throw new Error("Not supported")};function Mime$1(){this._types=Object.create(null),this._extensions=Object.create(null);for(let d=0;d<arguments.length;d++)this.define(arguments[d]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime$1.prototype.define=function(d,m){for(let g in d){let w=d[g].map(function(D){return D.toLowerCase()});g=g.toLowerCase();for(let D=0;D<w.length;D++){const H=w[D];if(H[0]!=="*"){if(!m&&H in this._types)throw new Error('Attempt to change mapping for "'+H+'" extension from "'+this._types[H]+'" to "'+g+'". Pass `force=true` to allow this, otherwise remove "'+H+'" from the list of extensions for "'+g+'".');this._types[H]=g}}if(m||!this._extensions[g]){const D=w[0];this._extensions[g]=D[0]!=="*"?D:D.substr(1)}}},Mime$1.prototype.getType=function(d){let m=(d=String(d)).replace(/^.*[/\\]/,"").toLowerCase(),g=m.replace(/^.*\./,"").toLowerCase(),w=m.length<d.length;return(g.length<m.length-1||!w)&&this._types[g]||null},Mime$1.prototype.getExtension=function(d){return(d=/^\s*([^;\s]*)/.test(d)&&RegExp.$1)&&this._extensions[d.toLowerCase()]||null};var Mime_1=Mime$1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};let Mime=Mime_1;var lite=new Mime(standard),mime=getDefaultExportFromCjs(lite),HorizontalAlign,HorizontalAlign2,VerticalAlign,VerticalAlign2,BlendMode,BlendMode2;function srcOver(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a;return{r:(d.r*d.a+m.r*m.a*(1-d.a))/w,g:(d.g*d.a+m.g*m.a*(1-d.a))/w,b:(d.b*d.a+m.b*m.a*(1-d.a))/w,a:w}}function dstOver(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a;return{r:(m.r*m.a+d.r*d.a*(1-m.a))/w,g:(m.g*m.a+d.g*d.a*(1-m.a))/w,b:(m.b*m.a+d.b*d.a*(1-m.a))/w,a:w}}function multiply(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a,it=m.r*m.a,ot=m.g*m.a,ft=m.b*m.a;return{r:(D*it+D*(1-m.a)+it*(1-d.a))/w,g:(H*ot+H*(1-m.a)+ot*(1-d.a))/w,b:(q*ft+q*(1-m.a)+ft*(1-d.a))/w,a:w}}function add(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a;return{r:(D+m.r*m.a)/w,g:(H+m.g*m.a)/w,b:(q+m.b*m.a)/w,a:w}}function screen(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a,it=m.r*m.a,ot=m.g*m.a,ft=m.b*m.a;return{r:(D*m.a+it*d.a-D*it+D*(1-m.a)+it*(1-d.a))/w,g:(H*m.a+ot*d.a-H*ot+H*(1-m.a)+ot*(1-d.a))/w,b:(q*m.a+ft*d.a-q*ft+q*(1-m.a)+ft*(1-d.a))/w,a:w}}function overlay(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a,it=m.r*m.a,ot=m.g*m.a,ft=m.b*m.a;return{r:(2*it<=m.a?2*D*it+D*(1-m.a)+it*(1-d.a):D*(1+m.a)+it*(1+d.a)-2*it*D-m.a*d.a)/w,g:(2*ot<=m.a?2*H*ot+H*(1-m.a)+ot*(1-d.a):H*(1+m.a)+ot*(1+d.a)-2*ot*H-m.a*d.a)/w,b:(2*ft<=m.a?2*q*ft+q*(1-m.a)+ft*(1-d.a):q*(1+m.a)+ft*(1+d.a)-2*ft*q-m.a*d.a)/w,a:w}}function darken(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a,it=m.r*m.a,ot=m.g*m.a,ft=m.b*m.a;return{r:(Math.min(D*m.a,it*d.a)+D*(1-m.a)+it*(1-d.a))/w,g:(Math.min(H*m.a,ot*d.a)+H*(1-m.a)+ot*(1-d.a))/w,b:(Math.min(q*m.a,ft*d.a)+q*(1-m.a)+ft*(1-d.a))/w,a:w}}function lighten(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a,it=m.r*m.a,ot=m.g*m.a,ft=m.b*m.a;return{r:(Math.max(D*m.a,it*d.a)+D*(1-m.a)+it*(1-d.a))/w,g:(Math.max(H*m.a,ot*d.a)+H*(1-m.a)+ot*(1-d.a))/w,b:(Math.max(q*m.a,ft*d.a)+q*(1-m.a)+ft*(1-d.a))/w,a:w}}function hardLight(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a,it=m.r*m.a,ot=m.g*m.a,ft=m.b*m.a;return{r:(2*D<=d.a?2*D*it+D*(1-m.a)+it*(1-d.a):D*(1+m.a)+it*(1+d.a)-2*it*D-m.a*d.a)/w,g:(2*H<=d.a?2*H*ot+H*(1-m.a)+ot*(1-d.a):H*(1+m.a)+ot*(1+d.a)-2*ot*H-m.a*d.a)/w,b:(2*q<=d.a?2*q*ft+q*(1-m.a)+ft*(1-d.a):q*(1+m.a)+ft*(1+d.a)-2*ft*q-m.a*d.a)/w,a:w}}function difference(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a,it=m.r*m.a,ot=m.g*m.a,ft=m.b*m.a;return{r:(D+it-2*Math.min(D*m.a,it*d.a))/w,g:(H+ot-2*Math.min(H*m.a,ot*d.a))/w,b:(q+ft-2*Math.min(q*m.a,ft*d.a))/w,a:w}}function exclusion(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,D=d.r*d.a,H=d.g*d.a,q=d.b*d.a,it=m.r*m.a,ot=m.g*m.a,ft=m.b*m.a;return{r:(D*m.a+it*d.a-2*D*it+D*(1-m.a)+it*(1-d.a))/w,g:(H*m.a+ot*d.a-2*H*ot+H*(1-m.a)+ot*(1-d.a))/w,b:(q*m.a+ft*d.a-2*q*ft+q*(1-m.a)+ft*(1-d.a))/w,a:w}}HorizontalAlign2=HorizontalAlign||(HorizontalAlign={}),HorizontalAlign2[HorizontalAlign2.LEFT=1]="LEFT",HorizontalAlign2[HorizontalAlign2.CENTER=2]="CENTER",HorizontalAlign2[HorizontalAlign2.RIGHT=4]="RIGHT",VerticalAlign2=VerticalAlign||(VerticalAlign={}),VerticalAlign2[VerticalAlign2.TOP=8]="TOP",VerticalAlign2[VerticalAlign2.MIDDLE=16]="MIDDLE",VerticalAlign2[VerticalAlign2.BOTTOM=32]="BOTTOM",BlendMode2=BlendMode||(BlendMode={}),BlendMode2.SRC_OVER="srcOver",BlendMode2.DST_OVER="dstOver",BlendMode2.MULTIPLY="multiply",BlendMode2.ADD="add",BlendMode2.SCREEN="screen",BlendMode2.OVERLAY="overlay",BlendMode2.DARKEN="darken",BlendMode2.LIGHTEN="lighten",BlendMode2.HARD_LIGHT="hardLight",BlendMode2.DIFFERENCE="difference",BlendMode2.EXCLUSION="exclusion";const names=[srcOver,dstOver,multiply,add,screen,overlay,darken,lighten,hardLight,difference,exclusion];var compositeModes=Object.freeze({__proto__:null,add,darken,difference,dstOver,exclusion,hardLight,lighten,multiply,names,overlay,screen,srcOver});function composite(d,m,g=0,w=0,D={}){if(!(m instanceof d.constructor))throw new Error("The source must be a Jimp image");if(typeof g!="number"||typeof w!="number")throw new Error("x and y must be numbers");const{mode:H=BlendMode.SRC_OVER}=D;let{opacitySource:q=1,opacityDest:it=1}=D;(typeof q!="number"||q<0||q>1)&&(q=1),(typeof it!="number"||it<0||it>1)&&(it=1);const ot=compositeModes[H];return g=Math.round(g),w=Math.round(w),it!==1&&d.scan((ft,ut,dt)=>{const St=d.bitmap.data[dt+3]*it;d.bitmap.data[dt+3]=St}),m.scan((ft,ut,dt)=>{const St=d.getPixelIndex(g+ft,w+ut,Edge.CROP);if(St===-1)return;const Tt=ot({r:m.bitmap.data[dt+0]/255,g:m.bitmap.data[dt+1]/255,b:m.bitmap.data[dt+2]/255,a:m.bitmap.data[dt+3]/255},{r:d.bitmap.data[St+0]/255,g:d.bitmap.data[St+1]/255,b:d.bitmap.data[St+2]/255,a:d.bitmap.data[St+3]/255},q);d.bitmap.data[St+0]=limit255(255*Tt.r),d.bitmap.data[St+1]=limit255(255*Tt.g),d.bitmap.data[St+2]=limit255(255*Tt.b),d.bitmap.data[St+3]=limit255(255*Tt.a)}),d}var jpeg$1={parseSections:function(d,m){var g,w;for(d.setBigEndian(!0);d.remainingLength()>0&&w!==218;){if(d.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");g=(w=d.nextUInt8())>=208&&w<=217||w===218?0:d.nextUInt16()-2,m(w,d.branch(0,g)),d.skip(g)}},getSizeFromSOFSection:function(d){return d.skip(1),{height:d.nextUInt16(),width:d.nextUInt16()}},getSectionName:function(d){var m,g;switch(d){case 216:m="SOI";break;case 196:m="DHT";break;case 219:m="DQT";break;case 221:m="DRI";break;case 218:m="SOS";break;case 254:m="COM";break;case 217:m="EOI";break;default:d>=224&&d<=239?(m="APP",g=d-224):d>=192&&d<=207&&d!==196&&d!==200&&d!==204?(m="SOF",g=d-192):d>=208&&d<=215&&(m="RST",g=d-208)}var w={name:m};return typeof g=="number"&&(w.index=g),w}};function readExifValue(d,m){switch(d){case 1:return m.nextUInt8();case 3:case 8:return m.nextUInt16();case 4:case 9:return m.nextUInt32();case 5:return[m.nextUInt32(),m.nextUInt32()];case 6:return m.nextInt8();case 10:return[m.nextInt32(),m.nextInt32()];case 11:return m.nextFloat();case 12:return m.nextDouble();default:throw new Error("Invalid format while decoding: "+d)}}function getBytesPerComponent(d){switch(d){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function readExifTag(d,m){var g,w,D=m.nextUInt16(),H=m.nextUInt16(),q=getBytesPerComponent(H),it=m.nextUInt32(),ot=q*it;if(ot>4&&(m=d.openWithOffset(m.nextUInt32())),H===2){var ft=(g=m.nextString(it)).indexOf("\0");ft!==-1&&(g=g.substr(0,ft))}else if(H===7)g=m.nextBuffer(it);else if(H!==0)for(g=[],w=0;w<it;++w)g.push(readExifValue(H,m));return ot<4&&m.skip(4-ot),[D,g,H]}function readIFDSection(d,m,g){var w,D,H=m.nextUInt16();for(D=0;D<H;++D)g((w=readExifTag(d,m))[0],w[1],w[2])}function readHeader(d){if(d.nextString(6)!=="Exif\0\0")throw new Error("Invalid EXIF header");var m=d.mark(),g=d.nextUInt16();if(g===18761)d.setBigEndian(!1);else{if(g!==19789)throw new Error("Invalid TIFF header");d.setBigEndian(!0)}if(d.nextUInt16()!==42)throw new Error("Invalid TIFF data");return m}var exif$2={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(d,m){var g,w,D,H;try{g=readHeader(d)}catch{return!1}var q=g.openWithOffset(d.nextUInt32()),it=this.IFD0;readIFDSection(g,q,function(Rt,zt,$t){switch(Rt){case 34853:D=zt[0];break;case 34665:w=zt[0];break;default:m(it,Rt,zt,$t)}});var ot=q.nextUInt32();if(ot!==0){var ft=g.openWithOffset(ot);readIFDSection(g,ft,m.bind(null,this.IFD1))}if(D){var ut=g.openWithOffset(D);readIFDSection(g,ut,m.bind(null,this.GPSIFD))}if(w){var dt=g.openWithOffset(w),St=this.InteropIFD;readIFDSection(g,dt,function(Rt,zt,$t){Rt===40965?H=zt[0]:m(St,Rt,zt,$t)})}if(H){var Tt=g.openWithOffset(H);readIFDSection(g,Tt,m.bind(null,this.InteropIFD))}return!0}};function parseNumber(d){return parseInt(d,10)}var hours=3600,minutes=60;function parseDateTimeParts(d,m){d=d.map(parseNumber),m=m.map(parseNumber);var g=d[0],w=d[1]-1,D=d[2],H=m[0],q=m[1],it=m[2];return Date.UTC(g,w,D,H,q,it,0)/1e3}function parseDateWithTimezoneFormat(d){var m=d.substr(0,10).split("-"),g=d.substr(11,8).split(":"),w=d.substr(19,6).split(":").map(parseNumber),D=w[0]*hours+w[1]*minutes,H=parseDateTimeParts(m,g);if(typeof(H-=D)=="number"&&!isNaN(H))return H}function parseDateWithSpecFormat(d){var m=d.split(" "),g=parseDateTimeParts(m[0].split(":"),m[1].split(":"));if(typeof g=="number"&&!isNaN(g))return g}function parseExifDate(d){var m=d.length===19&&d.charAt(4)===":";return d.length===25&&d.charAt(10)==="T"?parseDateWithTimezoneFormat(d):m?parseDateWithSpecFormat(d):void 0}var date$1={parseDateWithSpecFormat,parseDateWithTimezoneFormat,parseExifDate},exif$1=exif$2,date=date$1,degreeTags=[{section:exif$1.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:exif$1.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],dateTags=[{section:exif$1.SubIFD,type:306,name:"ModifyDate"},{section:exif$1.SubIFD,type:36867,name:"DateTimeOriginal"},{section:exif$1.SubIFD,type:36868,name:"CreateDate"},{section:exif$1.SubIFD,type:306,name:"ModifyDate"}],simplify$1={castDegreeValues:function(d,m){degreeTags.forEach(function(g){var w=d(g);if(w){var D=d({section:g.section,type:g.refType,name:g.refName})===g.posVal?1:-1,H=(w[0]+w[1]/60+w[2]/3600)*D;m(g,H)}})},castDateValues:function(d,m){dateTags.forEach(function(g){var w=d(g);if(w){var D=date.parseExifDate(w);D!==void 0&&m(g,D)}})},simplifyValue:function(d,m){return Array.isArray(d)&&(d=d.map(function(g){return m===10||m===5?g[0]/g[1]:g})).length===1&&(d=d[0]),d}},exifTags,hasRequiredExifTags;function requireExifTags(){return hasRequiredExifTags?exifTags:(hasRequiredExifTags=1,exifTags={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}})}var jpeg=jpeg$1,exif=exif$2,simplify=simplify$1;function ExifResult(d,m,g,w,D,H,q){this.startMarker=d,this.tags=m,this.imageSize=g,this.thumbnailOffset=w,this.thumbnailLength=D,this.thumbnailType=H,this.app1Offset=q}function Parser$1(d){this.stream=d,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}ExifResult.prototype={hasThumbnail:function(d){return!(!this.thumbnailOffset||!this.thumbnailLength)&&(typeof d!="string"||(d.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:d.toLowerCase().trim()==="image/tiff"&&this.thumbnailType===1))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var d,m=this._getThumbnailStream();return jpeg.parseSections(m,function(g,w){jpeg.getSectionName(g).name==="SOF"&&(d=jpeg.getSizeFromSOFSection(w))}),d}},Parser$1.prototype={enableBinaryFields:function(d){return this.flags.readBinaryTags=!!d,this},enablePointers:function(d){return this.flags.hidePointers=!d,this},enableTagNames:function(d){return this.flags.resolveTagNames=!!d,this},enableImageSize:function(d){return this.flags.imageSize=!!d,this},enableReturnTags:function(d){return this.flags.returnTags=!!d,this},enableSimpleValues:function(d){return this.flags.simplifyValues=!!d,this},parse:function(){var d,m,g,w,D,H,q,it,ot,ft=this.stream.mark(),ut=ft.openWithOffset(0),dt=this.flags;return dt.resolveTagNames&&(q=requireExifTags()),dt.resolveTagNames?(d={},it=function(St){return d[St.name]},ot=function(St,Tt){d[St.name]=Tt}):(d=[],it=function(St){var Tt;for(Tt=0;Tt<d.length;++Tt)if(d[Tt].type===St.type&&d[Tt].section===St.section)return d.value},ot=function(St,Tt){var Rt;for(Rt=0;Rt<d.length;++Rt)if(d[Rt].type===St.type&&d[Rt].section===St.section)return void(d.value=Tt)}),jpeg.parseSections(ut,function(St,Tt){var Rt=Tt.offsetFrom(ft);St===225?exif.parseTags(Tt,function(zt,$t,jt,Zt){if(dt.readBinaryTags||Zt!==7){if($t===513){if(g=jt[0],dt.hidePointers)return}else if($t===514){if(w=jt[0],dt.hidePointers)return}else if($t===259&&(D=jt[0],dt.hidePointers))return;if(dt.returnTags)if(dt.simplifyValues&&(jt=simplify.simplifyValue(jt,Zt)),dt.resolveTagNames){var Ft=(zt===exif.GPSIFD?q.gps:q.exif)[$t];Ft||(Ft=q.exif[$t]),d.hasOwnProperty(Ft)||(d[Ft]=jt)}else d.push({section:zt,type:$t,value:jt})}})&&(H=Rt):dt.imageSize&&jpeg.getSectionName(St).name==="SOF"&&(m=jpeg.getSizeFromSOFSection(Tt))}),dt.simplifyValues&&(simplify.castDegreeValues(it,ot),simplify.castDateValues(it,ot)),new ExifResult(ft,d,m,g,w,D,H)}};var parser=Parser$1,domBufferstream,hasRequiredDomBufferstream,bufferstream,hasRequiredBufferstream;function requireDomBufferstream(){if(hasRequiredDomBufferstream)return domBufferstream;function d(m,g,w,D,H,q){this.global=H,g=g||0,w=w||m.byteLength-g,this.arrayBuffer=m.slice(g,g+w),this.view=new H.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(D),this.offset=0,this.parentOffset=(q||0)+g}return hasRequiredDomBufferstream=1,d.prototype={setBigEndian:function(m){this.littleEndian=!m},nextUInt8:function(){var m=this.view.getUint8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.view.getInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,m},nextUInt32:function(){var m=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,m},nextInt16:function(){var m=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,m},nextInt32:function(){var m=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,m},nextFloat:function(){var m=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,m},nextDouble:function(){var m=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,m},nextBuffer:function(m){var g=this.arrayBuffer.slice(this.offset,this.offset+m);return this.offset+=m,g},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(m){var g=this.arrayBuffer.slice(this.offset,this.offset+m);return g=String.fromCharCode.apply(null,new this.global.Uint8Array(g)),this.offset+=m,g},mark:function(){var m=this;return{openWithOffset:function(g){return g=(g||0)+this.offset,new d(m.arrayBuffer,g,m.arrayBuffer.byteLength-g,!m.littleEndian,m.global,m.parentOffset)},offset:this.offset,getParentOffset:function(){return m.parentOffset}}},offsetFrom:function(m){return this.parentOffset+this.offset-(m.offset+m.getParentOffset())},skip:function(m){this.offset+=m},branch:function(m,g){return g=typeof g=="number"?g:this.arrayBuffer.byteLength-(this.offset+m),new d(this.arrayBuffer,this.offset+m,g,!this.littleEndian,this.global,this.parentOffset)}},domBufferstream=d}function requireBufferstream(){if(hasRequiredBufferstream)return bufferstream;function d(m,g,w,D){this.buffer=m,this.offset=g||0,w=typeof w=="number"?w:m.length,this.endPosition=this.offset+w,this.setBigEndian(D)}return hasRequiredBufferstream=1,d.prototype={setBigEndian:function(m){this.bigEndian=!!m},nextUInt8:function(){var m=this.buffer.readUInt8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.buffer.readInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,m},nextUInt32:function(){var m=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,m},nextInt16:function(){var m=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,m},nextInt32:function(){var m=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,m},nextFloat:function(){var m=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,m},nextDouble:function(){var m=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,m},nextBuffer:function(m){var g=this.buffer.slice(this.offset,this.offset+m);return this.offset+=m,g},remainingLength:function(){return this.endPosition-this.offset},nextString:function(m){var g=this.buffer.toString("utf8",this.offset,this.offset+m);return this.offset+=m,g},mark:function(){var m=this;return{openWithOffset:function(g){return g=(g||0)+this.offset,new d(m.buffer,g,m.endPosition-g,m.bigEndian)},offset:this.offset}},offsetFrom:function(m){return this.offset-m.offset},skip:function(m){this.offset+=m},branch:function(m,g){return g=typeof g=="number"?g:this.endPosition-(this.offset+m),new d(this.buffer,this.offset+m,g,this.bigEndian)}},bufferstream=d}var Parser=parser;function getGlobal(){return(0,eval)("this")}var exifParser={create:function(d,m){if(d instanceof(m=m||getGlobal()).ArrayBuffer){var g=requireDomBufferstream();return new Parser(new g(d,0,d.byteLength,!0,m))}var w=requireBufferstream();return new Parser(new w(d,0,d.length,!0))}},EXIFParser=getDefaultExportFromCjs(exifParser);function getExifOrientation(d){const m=d._exif;return m&&m.tags&&m.tags.Orientation||1}function getExifOrientationTransformation(d){const m=d.bitmap.width,g=d.bitmap.height;switch(getExifOrientation(d)){case 1:default:return null;case 2:return function(w,D){return[m-w-1,D]};case 3:return function(w,D){return[m-w-1,g-D-1]};case 4:return function(w,D){return[w,g-D-1]};case 5:return function(w,D){return[D,w]};case 6:return function(w,D){return[D,g-w-1]};case 7:return function(w,D){return[m-D-1,g-w-1]};case 8:return function(w,D){return[m-D-1,w]}}}function transformBitmap(d,m,g,w){const D=d.bitmap.data,H=d.bitmap.width,q=Buffer.alloc(D.length);for(let it=0;it<m;it++)for(let ot=0;ot<g;ot++){const[ft,ut]=w(it,ot),dt=m*ot+it<<2,St=H*ut+ft<<2,Tt=D.readUInt32BE(St);q.writeUInt32BE(Tt,dt)}d.bitmap.data=q,d.bitmap.width=m,d.bitmap.height=g,d._exif.tags.Orientation=1}function exifRotate(d){if(getExifOrientation(d)<2)return;const m=getExifOrientationTransformation(d),g=getExifOrientation(d)>4,w=g?d.bitmap.height:d.bitmap.width,D=g?d.bitmap.width:d.bitmap.height;m&&transformBitmap(d,w,D,m)}async function attemptExifRotate(d,m){try{d._exif=EXIFParser.create(m).parse(),exifRotate(d)}catch{}}var __defProp$2=Object.defineProperty,__defNormalProp$2=(d,m,g)=>m in d?__defProp$2(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__publicField$2=(d,m,g)=>__defNormalProp$2(d,typeof m!="symbol"?m+"":m,g);const emptyBitmap={data:Buffer.alloc(0),width:0,height:0};function bufferFromArrayBuffer(d){const m=Buffer.alloc(d.byteLength),g=new Uint8Array(d);for(let w=0;w<m.length;++w)m[w]=g[w];return m}function createJimp({plugins:d,formats:m}={}){const g=d||[],w=(m||[]).map(H=>H()),D=class{constructor(H=emptyBitmap){if(__publicField$2(this,"bitmap",emptyBitmap),__publicField$2(this,"background",0),__publicField$2(this,"formats",[]),__publicField$2(this,"mime"),this.formats=w,"data"in H)this.bitmap=H;else if(this.bitmap={data:Buffer.alloc(H.width*H.height*4),width:H.width,height:H.height},H.color){this.background=typeof H.color=="string"?cssColorToHex(H.color):H.color;for(let q=0;q<this.bitmap.data.length;q+=4)this.bitmap.data.writeUInt32BE(this.background,q)}for(const q of g)for(const it in q)this[it]=(...ot)=>{var ut;const ft=(ut=q[it])==null?void 0:ut.call(q,this,...ot);return typeof ft=="object"&&"bitmap"in ft?(this.bitmap=ft.bitmap,this):ft}}static async read(H,q){if(Buffer.isBuffer(H)||H instanceof ArrayBuffer)return this.fromBuffer(H);const[it,ot]=await to(fetch(H));if(it)throw new Error(`Could not load Buffer from URL: ${H}`);if(!ot.ok)throw new Error(`HTTP Status ${ot.status} for url ${H}`);const[ft,ut]=await to(ot.arrayBuffer());if(ft)throw new Error(`Could not load Buffer from ${H}`);const dt=bufferFromArrayBuffer(ut);return this.fromBuffer(dt,q)}static fromBitmap(H){let q;if(H.data instanceof Buffer&&(q=Buffer.from(H.data)),(H.data instanceof Uint8Array||H.data instanceof Uint8ClampedArray)&&(q=Buffer.from(H.data.buffer)),Array.isArray(H.data)&&(q=Buffer.concat(H.data.map(it=>Buffer.from(it.toString(16).padStart(8,"0"),"hex")))),!q)throw new Error("data must be a Buffer");if(typeof H.height!="number"||typeof H.width!="number")throw new Error("bitmap must have width and height");return new D({height:H.height,width:H.width,data:q})}static async fromBuffer(H,q){const it=H instanceof ArrayBuffer?bufferFromArrayBuffer(H):H,ot=await fileType$1.fromBuffer(it);if(!ot||!ot.mime)throw new Error("Could not find MIME for Buffer");const ft=w.find(dt=>dt.mime===ot.mime);if(!ft||!ft.decode)throw new Error(`Mime type ${ot.mime} does not support decoding`);const ut=new D(await ft.decode(it,q==null?void 0:q[ft.mime]));return ut.mime=ot.mime,attemptExifRotate(ut,it),ut}inspect(){return"<Jimp "+(this.bitmap===emptyBitmap?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}toString(){return"[object Jimp]"}get width(){return this.bitmap.width}get height(){return this.bitmap.height}async getBuffer(H,q){const it=this.formats.find(ft=>ft.mime===H);if(!it||!it.encode)throw new Error(`Unsupported MIME type: ${H}`);let ot;return it.hasAlpha?ot=this:(ot=new D({width:this.bitmap.width,height:this.bitmap.height,color:this.background}),composite(ot,this)),it.encode(ot.bitmap,q)}async getBase64(H,q){return"data:"+H+";base64,"+(await this.getBuffer(H,q)).toString("base64")}async write(H,q){const it=mime.getType(H);await writeFile(H,await this.getBuffer(it,q))}clone(){return new D({...this.bitmap,data:Buffer.from(this.bitmap.data)})}getPixelIndex(H,q,it){let ot,ft;if(it||(it=Edge.EXTEND),typeof H!="number"||typeof q!="number")throw new Error("x and y must be numbers");ot=H=Math.round(H),ft=q=Math.round(q),it===Edge.EXTEND&&(H<0&&(ot=0),H>=this.bitmap.width&&(ot=this.bitmap.width-1),q<0&&(ft=0),q>=this.bitmap.height&&(ft=this.bitmap.height-1)),it===Edge.WRAP&&(H<0&&(ot=this.bitmap.width+H),H>=this.bitmap.width&&(ot=H%this.bitmap.width),q<0&&(ft=this.bitmap.height+q),q>=this.bitmap.height&&(ft=q%this.bitmap.height));let ut=this.bitmap.width*ft+ot<<2;return(ot<0||ot>=this.bitmap.width)&&(ut=-1),(ft<0||ft>=this.bitmap.height)&&(ut=-1),ut}getPixelColor(H,q){if(typeof H!="number"||typeof q!="number")throw new Error("x and y must be numbers");const it=this.getPixelIndex(H,q);return this.bitmap.data.readUInt32BE(it)}setPixelColor(H,q,it){if(typeof H!="number"||typeof q!="number"||typeof it!="number")throw new Error("hex, x and y must be numbers");const ot=this.getPixelIndex(q,it);return this.bitmap.data.writeUInt32BE(H,ot),this}hasAlpha(){const{width:H,height:q,data:it}=this.bitmap,ot=H*q<<2;for(let ft=3;ft<ot;ft+=4)if(it[ft]!==255)return!0;return!1}composite(H,q=0,it=0,ot={}){return composite(this,H,q,it,ot)}scan(H,q,it,ot,ft){return scan(this,H,q,it,ot,ft)}scanIterator(H=0,q=0,it=this.bitmap.width,ot=this.bitmap.height){if(typeof H!="number"||typeof q!="number")throw new Error("x and y must be numbers");if(typeof it!="number"||typeof ot!="number")throw new Error("w and h must be numbers");return scanIterator(this,H,q,it,ot)}};return D}var ResizeStrategy,ResizeStrategy2;function Resize(d,m,g,w,D,H,q){this.widthOriginal=Math.abs(Math.floor(d)||0),this.heightOriginal=Math.abs(Math.floor(m)||0),this.targetWidth=Math.abs(Math.floor(g)||0),this.targetHeight=Math.abs(Math.floor(w)||0),this.colorChannels=D?4:3,this.interpolationPass=!!H,this.resizeCallback=typeof q=="function"?q:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}ResizeStrategy2=ResizeStrategy||(ResizeStrategy={}),ResizeStrategy2.NEAREST_NEIGHBOR="nearestNeighbor",ResizeStrategy2.BILINEAR="bilinearInterpolation",ResizeStrategy2.BICUBIC="bicubicInterpolation",ResizeStrategy2.HERMITE="hermiteInterpolation",ResizeStrategy2.BEZIER="bezierInterpolation",Resize.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw console.log(this),new Error("Invalid settings specified for the resizer.");this.configurePasses()},Resize.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},Resize.prototype._resizeWidthInterpolatedRGBChannels=function(d,m){const g=m?4:3,w=this.ratioWeightWidthPass,D=this.widthBuffer;let H,q,it=0,ot=0,ft=0,ut=0,dt=0;for(H=0;it<1/3;H+=g,it+=w)for(ot=H,ft=0;ot<this.widthPassResultSize;ft+=this.originalWidthMultipliedByChannels,ot+=this.targetWidthMultipliedByChannels)D[ot]=d[ft],D[ot+1]=d[ft+1],D[ot+2]=d[ft+2],m&&(D[ot+3]=d[ft+3]);for(it-=1/3,q=this.widthOriginal-1;it<q;H+=g,it+=w)for(dt=it%1,ut=1-dt,ot=H,ft=Math.floor(it)*g;ot<this.widthPassResultSize;ft+=this.originalWidthMultipliedByChannels,ot+=this.targetWidthMultipliedByChannels)D[ot+0]=d[ft+0]*ut+d[ft+g+0]*dt,D[ot+1]=d[ft+1]*ut+d[ft+g+1]*dt,D[ot+2]=d[ft+2]*ut+d[ft+g+2]*dt,m&&(D[ot+3]=d[ft+3]*ut+d[ft+g+3]*dt);for(q=this.originalWidthMultipliedByChannels-g;H<this.targetWidthMultipliedByChannels;H+=g)for(ot=H,ft=q;ot<this.widthPassResultSize;ft+=this.originalWidthMultipliedByChannels,ot+=this.targetWidthMultipliedByChannels)D[ot]=d[ft],D[ot+1]=d[ft+1],D[ot+2]=d[ft+2],m&&(D[ot+3]=d[ft+3]);return D},Resize.prototype._resizeWidthRGBChannels=function(d,m){const g=m?4:3,w=this.ratioWeightWidthPass,D=1/w,H=this.originalWidthMultipliedByChannels-g+1,q=this.targetWidthMultipliedByChannels-g+1,it=this.outputWidthWorkBench,ot=this.widthBuffer,ft=this.outputWidthWorkBenchOpaquePixelsCount;let ut=0,dt=0,St=0,Tt=0,Rt=0,zt=0,$t=0,jt=1,Zt=0,Ft=0,Dt=0,Kt=0;do{for(Rt=0;Rt<this.originalHeightMultipliedByChannels;)it[Rt++]=0,it[Rt++]=0,it[Rt++]=0,m&&(it[Rt++]=0,ft[Rt/g-1]=0);ut=w;do{for(dt=1+St-Tt,jt=Math.min(ut,dt),Rt=0,zt=St;Rt<this.originalHeightMultipliedByChannels;zt+=H)Zt=d[zt],Ft=d[++zt],Dt=d[++zt],Kt=m?d[++zt]:255,it[Rt++]+=(Kt?Zt:0)*jt,it[Rt++]+=(Kt?Ft:0)*jt,it[Rt++]+=(Kt?Dt:0)*jt,m&&(it[Rt++]+=Kt*jt,ft[Rt/g-1]+=Kt?jt:0);if(!(ut>=dt)){Tt+=ut;break}St+=g,Tt=St,ut-=dt}while(ut>0&&St<this.originalWidthMultipliedByChannels);for(Rt=0,zt=$t;Rt<this.originalHeightMultipliedByChannels;zt+=q)ut=m?ft[Rt/g]:1,jt=m?ut?1/ut:0:D,ot[zt]=it[Rt++]*jt,ot[++zt]=it[Rt++]*jt,ot[++zt]=it[Rt++]*jt,m&&(ot[++zt]=it[Rt++]*D);$t+=g}while($t<this.targetWidthMultipliedByChannels);return ot},Resize.prototype._resizeHeightRGBChannels=function(d,m){const g=this.ratioWeightHeightPass,w=1/g,D=this.outputHeightWorkBench,H=this.heightBuffer,q=this.outputHeightWorkBenchOpaquePixelsCount;let it=0,ot=0,ft=0,ut=0,dt=0,St=0,Tt=0,Rt=1,zt=0,$t=0,jt=0,Zt=0;do{for(dt=0;dt<this.targetWidthMultipliedByChannels;)D[dt++]=0,D[dt++]=0,D[dt++]=0,m&&(D[dt++]=0,q[dt/4-1]=0);it=g;do{for(ot=1+ft-ut,Rt=Math.min(it,ot),Tt=ft,dt=0;dt<this.targetWidthMultipliedByChannels;)zt=d[Tt++],$t=d[Tt++],jt=d[Tt++],Zt=m?d[Tt++]:255,D[dt++]+=(Zt?zt:0)*Rt,D[dt++]+=(Zt?$t:0)*Rt,D[dt++]+=(Zt?jt:0)*Rt,m&&(D[dt++]+=Zt*Rt,q[dt/4-1]+=Zt?Rt:0);if(!(it>=ot)){ut+=it;break}ft=Tt,ut=ft,it-=ot}while(it>0&&ft<this.widthPassResultSize);for(dt=0;dt<this.targetWidthMultipliedByChannels;)it=m?q[dt/4]:1,Rt=m?it?1/it:0:w,H[St++]=Math.round(D[dt++]*Rt),H[St++]=Math.round(D[dt++]*Rt),H[St++]=Math.round(D[dt++]*Rt),m&&(H[St++]=Math.round(D[dt++]*w))}while(St<this.finalResultSize);return H},Resize.prototype.resizeWidthInterpolatedRGB=function(d){return this._resizeWidthInterpolatedRGBChannels(d,!1)},Resize.prototype.resizeWidthInterpolatedRGBA=function(d){return this._resizeWidthInterpolatedRGBChannels(d,!0)},Resize.prototype.resizeWidthRGB=function(d){return this._resizeWidthRGBChannels(d,!1)},Resize.prototype.resizeWidthRGBA=function(d){return this._resizeWidthRGBChannels(d,!0)},Resize.prototype.resizeHeightInterpolated=function(d){const m=this.ratioWeightHeightPass,g=this.heightBuffer;let w,D=0,H=0,q=0,it=0,ot=0,ft=0,ut=0;for(;D<1/3;D+=m)for(q=0;q<this.targetWidthMultipliedByChannels;)g[H++]=Math.round(d[q++]);for(D-=1/3,w=this.heightOriginal-1;D<w;D+=m)for(ut=D%1,ft=1-ut,it=Math.floor(D)*this.targetWidthMultipliedByChannels,ot=it+this.targetWidthMultipliedByChannels,q=0;q<this.targetWidthMultipliedByChannels;++q)g[H++]=Math.round(d[it++]*ft+d[ot++]*ut);for(;H<this.finalResultSize;)for(q=0,it=w*this.targetWidthMultipliedByChannels;q<this.targetWidthMultipliedByChannels;++q)g[H++]=Math.round(d[it++]);return g},Resize.prototype.resizeHeightRGB=function(d){return this._resizeHeightRGBChannels(d,!1)},Resize.prototype.resizeHeightRGBA=function(d){return this._resizeHeightRGBChannels(d,!0)},Resize.prototype.resize=function(d){this.resizeCallback(this.resizeHeight(this.resizeWidth(d)))},Resize.prototype.bypassResizer=function(d){return d},Resize.prototype.initializeFirstPassBuffers=function(d){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),d||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},Resize.prototype.initializeSecondPassBuffers=function(d){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),d||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},Resize.prototype.generateFloatBuffer=function(d){try{return new Float32Array(d)}catch(m){return console.error(m),[]}},Resize.prototype.generateFloat64Buffer=function(d){try{return new Float64Array(d)}catch(m){return console.error(m),[]}},Resize.prototype.generateUint8Buffer=function(d){try{return new Uint8Array(d)}catch(m){return console.error(m),[]}};const operations={nearestNeighbor(d,m){const g=d.width,w=d.height,D=m.width,H=m.height,q=d.data,it=m.data;for(let ot=0;ot<H;ot++)for(let ft=0;ft<D;ft++){let ut=4*(ot*D+ft),dt=4*(Math.floor(ot*w/H)*g+Math.floor(ft*g/D));it[ut++]=q[dt++],it[ut++]=q[dt++],it[ut++]=q[dt++],it[ut++]=q[dt++]}},bilinearInterpolation(d,m){const g=d.width,w=d.height,D=m.width,H=m.height,q=d.data,it=m.data,ot=function(ut,dt,St,Tt,Rt){return dt===Tt?St:Math.round((ut-dt)*Rt+(Tt-ut)*St)},ft=function(ut,dt,St,Tt,Rt,zt,$t,jt){let Zt=4*($t*g+Tt)+dt,Ft=4*($t*g+Rt)+dt;const Dt=ot(St,Tt,q[Zt],Rt,q[Ft]);if(jt===$t)it[ut+dt]=Dt;else{Zt=4*(jt*g+Tt)+dt,Ft=4*(jt*g+Rt)+dt;const Kt=ot(St,Tt,q[Zt],Rt,q[Ft]);it[ut+dt]=ot(zt,$t,Dt,jt,Kt)}};for(let ut=0;ut<H;ut++)for(let dt=0;dt<D;dt++){const St=4*(ut*D+dt),Tt=dt*g/D,Rt=Math.floor(Tt),zt=Math.min(Math.ceil(Tt),g-1),$t=ut*w/H,jt=Math.floor($t),Zt=Math.min(Math.ceil($t),w-1);ft(St,0,Tt,Rt,zt,$t,jt,Zt),ft(St,1,Tt,Rt,zt,$t,jt,Zt),ft(St,2,Tt,Rt,zt,$t,jt,Zt),ft(St,3,Tt,Rt,zt,$t,jt,Zt)}},_interpolate2D(d,m,g,w){const D=d.data,H=m.data,q=d.width,it=d.height,ot=m.width,ft=m.height,ut=Math.max(1,Math.floor(q/ot)),dt=ot*ut,St=Math.max(1,Math.floor(it/ft)),Tt=ft*St,Rt=Buffer.alloc(dt*it*4);for(let jt=0;jt<it;jt++)for(let Zt=0;Zt<dt;Zt++){const Ft=Zt*(q-1)/dt,Dt=Math.floor(Ft),Kt=Ft-Dt,re=4*(jt*q+Dt),Yt=4*(jt*dt+Zt);for(let ne=0;ne<4;ne++){const ee=re+ne,ae=Dt>0?D[ee-4]:2*D[ee]-D[ee+4],Ut=D[ee],ie=D[ee+4],_e=Dt<q-2?D[ee+8]:2*D[ee+4]-D[ee];Rt[Yt+ne]=w(ae,Ut,ie,_e,Kt)}}const zt=Buffer.alloc(dt*Tt*4);for(let jt=0;jt<Tt;jt++)for(let Zt=0;Zt<dt;Zt++){const Ft=jt*(it-1)/Tt,Dt=Math.floor(Ft),Kt=Ft-Dt,re=4*(Dt*dt+Zt),Yt=4*(jt*dt+Zt);for(let ne=0;ne<4;ne++){const ee=re+ne,ae=Dt>0?Rt[ee-4*dt]:2*Rt[ee]-Rt[ee+4*dt],Ut=Rt[ee],ie=Rt[ee+4*dt],_e=Dt<it-2?Rt[ee+8*dt]:2*Rt[ee+4*dt]-Rt[ee];zt[Yt+ne]=w(ae,Ut,ie,_e,Kt)}}const $t=ut*St;if($t>1)for(let jt=0;jt<ft;jt++)for(let Zt=0;Zt<ot;Zt++){let Ft=0,Dt=0,Kt=0,re=0,Yt=0;for(let ee=0;ee<St;ee++){const ae=jt*St+ee;for(let Ut=0;Ut<ut;Ut++){const ie=4*(ae*dt+(Zt*ut+Ut)),_e=zt[ie+3];_e&&(Ft+=zt[ie],Dt+=zt[ie+1],Kt+=zt[ie+2],Yt++),re+=_e}}const ne=4*(jt*ot+Zt);H[ne]=Yt?Math.round(Ft/Yt):0,H[ne+1]=Yt?Math.round(Dt/Yt):0,H[ne+2]=Yt?Math.round(Kt/Yt):0,H[ne+3]=Math.round(re/$t)}else m.data=zt},bicubicInterpolation(d,m,g){return this._interpolate2D(d,m,g,function(w,D,H,q,it){const ot=q-H-w+D,ft=w-D-ot,ut=H-w,dt=D;return Math.max(0,Math.min(255,ot*(it*it*it)+ft*(it*it)+ut*it+dt))})},hermiteInterpolation(d,m,g){return this._interpolate2D(d,m,g,function(w,D,H,q,it){const ot=D,ft=.5*(H-w),ut=w-2.5*D+2*H-.5*q,dt=.5*(q-w)+1.5*(D-H);return Math.max(0,Math.min(255,Math.round(((dt*it+ut)*it+ft)*it+ot)))})},bezierInterpolation(d,m,g){return this._interpolate2D(d,m,g,function(w,D,H,q,it){const ot=1-it,ft=D*ot*ot*ot,ut=3*(D+(H-w)/4)*ot*ot*it,dt=3*(H-(q-D)/4)*ot*it*it,St=H*it*it*it;return Math.max(0,Math.min(255,Math.round(ft+ut+dt+St)))})}},ResizeOptionsSchema=z$1.union([z$1.object({w:z$1.number().min(0),h:z$1.number().min(0).optional(),mode:z$1.nativeEnum(ResizeStrategy).optional()}),z$1.object({w:z$1.number().min(0).optional(),h:z$1.number().min(0),mode:z$1.nativeEnum(ResizeStrategy).optional()})]),ScaleToFitOptionsSchema=z$1.object({w:z$1.number().min(0),h:z$1.number().min(0),mode:z$1.nativeEnum(ResizeStrategy).optional()}),ScaleComplexOptionsSchema=z$1.object({f:z$1.number().min(0),mode:z$1.nativeEnum(ResizeStrategy).optional()}),methods$d={resize(d,m){const{mode:g}=ResizeOptionsSchema.parse(m);let w,D;if(typeof m.w=="number")w=m.w,D=m.h??d.bitmap.height*(w/d.bitmap.width);else{if(typeof m.h!="number")throw new Error("w must be a number");D=m.h,w=m.w??d.bitmap.width*(D/d.bitmap.height)}if(w=Math.round(w)||1,D=Math.round(D)||1,g&&typeof operations[g]=="function"){const H={data:Buffer.alloc(w*D*4),width:w,height:D};operations[g](d.bitmap,H),d.bitmap=H}else new Resize(d.bitmap.width,d.bitmap.height,w,D,!0,!0,H=>{d.bitmap.data=Buffer.from(H),d.bitmap.width=w,d.bitmap.height=D}).resize(d.bitmap.data);return d},scale(d,m){const{f:g,mode:w}=typeof m=="number"?{f:m}:ScaleComplexOptionsSchema.parse(m),D=d.bitmap.width*g,H=d.bitmap.height*g;return this.resize(d,{w:D,h:H,mode:w})},scaleToFit(d,m){const{h:g,w,mode:D}=ScaleToFitOptionsSchema.parse(m),H=w/g>d.bitmap.width/d.bitmap.height?g/d.bitmap.height:w/d.bitmap.width;return this.scale(d,{f:H,mode:D})}},ContainOptionsSchema=z$1.object({w:z$1.number(),h:z$1.number(),align:z$1.number().optional(),mode:z$1.nativeEnum(ResizeStrategy).optional()}),methods$c={contain(d,m){const{w:g,h:w,align:D=HorizontalAlign.CENTER|VerticalAlign.MIDDLE,mode:H}=ContainOptionsSchema.parse(m),q=7&D,it=D>>3;if((q===0||q&q-1)&&(it===0||it&it-1))throw new Error("only use one flag per alignment direction");const ot=q>>1,ft=it>>1,ut=g/w>d.bitmap.width/d.bitmap.height?w/d.bitmap.height:g/d.bitmap.width,dt=methods$d.scale(clone(d),{f:ut,mode:H});return(d=methods$d.resize(d,{w:g,h:w,mode:H})).scan((St,Tt,Rt)=>{d.bitmap.data.writeUInt32BE(d.background,Rt)}),d=methods$h.blit(d,{src:dt,x:(d.bitmap.width-dt.bitmap.width)/2*ot,y:(d.bitmap.height-dt.bitmap.height)/2*ft})}},CropOptionsSchema=z$1.object({x:z$1.number(),y:z$1.number(),w:z$1.number(),h:z$1.number()}),AutocropComplexOptionsSchema=z$1.object({tolerance:z$1.number().min(0).max(1).optional(),cropOnlyFrames:z$1.boolean().optional(),cropSymmetric:z$1.boolean().optional(),leaveBorder:z$1.number().optional(),ignoreSides:z$1.object({north:z$1.boolean().optional(),south:z$1.boolean().optional(),east:z$1.boolean().optional(),west:z$1.boolean().optional()}).optional()}),methods$b={crop(d,m){let{x:g,y:w,w:D,h:H}=CropOptionsSchema.parse(m);if(g=Math.round(g),w=Math.round(w),D=Math.round(D),H=Math.round(H),g===0&&D===d.bitmap.width){const q=D*w+g<<2,it=q+(H*D<<2);d.bitmap.data=d.bitmap.data.slice(q,it)}else{const q=Buffer.allocUnsafe(D*H*4);let it=0;scan(d,g,w,D,H,function(ot,ft,ut){const dt=d.bitmap.data.readUInt32BE(ut);q.writeUInt32BE(dt,it),it+=4}),d.bitmap.data=q}return d.bitmap.width=D,d.bitmap.height=H,d},autocrop(d,m={}){const{tolerance:g=2e-4,cropOnlyFrames:w=!0,cropSymmetric:D=!1,leaveBorder:H=0,ignoreSides:q}=typeof m=="number"?{tolerance:m}:AutocropComplexOptionsSchema.parse(m),it=d.bitmap.width,ot=d.bitmap.height,ft={north:!1,south:!1,east:!1,west:!1,...q};let ut=d.getPixelColor(0,0);const dt=intToRGBA$1(ut);let St=0,Tt=0,Rt=0,zt=0;if(ut=d.getPixelColor(0,0),!ft.north)t:for(let Ft=0;Ft<ot-1;Ft++){for(let Dt=0;Dt<it;Dt++)if(colorDiff(dt,intToRGBA$1(d.getPixelColor(Dt,Ft)))>g)break t;St++}if(ut=d.getPixelColor(it,0),!ft.west)t:for(let Ft=0;Ft<it-1;Ft++){for(let Dt=0+St;Dt<ot;Dt++)if(colorDiff(dt,intToRGBA$1(d.getPixelColor(Ft,Dt)))>g)break t;zt++}if(ut=d.getPixelColor(0,ot),!ft.south)t:for(let Ft=ot-1;Ft>=St+1;Ft--){for(let Dt=it-Tt-1;Dt>=0;Dt--)if(colorDiff(dt,intToRGBA$1(d.getPixelColor(Dt,Ft)))>g)break t;Rt++}if(ut=d.getPixelColor(it,ot),!ft.east)t:for(let Ft=it-1;Ft>=0+zt+1;Ft--){for(let Dt=ot-1;Dt>=0+St;Dt--)if(colorDiff(dt,intToRGBA$1(d.getPixelColor(Ft,Dt)))>g)break t;Tt++}let $t=!1;if(zt-=H,Tt-=H,St-=H,Rt-=H,D){const Ft=Math.min(Tt,zt),Dt=Math.min(St,Rt);zt=Ft,Tt=Ft,St=Dt,Rt=Dt}zt=zt>=0?zt:0,Tt=Tt>=0?Tt:0,St=St>=0?St:0,Rt=Rt>=0?Rt:0;const jt=it-(zt+Tt),Zt=ot-(Rt+St);return $t=w?Tt!==0&&St!==0&&zt!==0&&Rt!==0:Tt!==0||St!==0||zt!==0||Rt!==0,$t&&this.crop(d,{x:zt,y:St,w:jt,h:Zt}),d}},CoverOptionsSchema=z$1.object({w:z$1.number(),h:z$1.number(),align:z$1.number().optional(),mode:z$1.nativeEnum(ResizeStrategy).optional()}),methods$a={cover(d,m){const{w:g,h:w,align:D=HorizontalAlign.CENTER|VerticalAlign.MIDDLE,mode:H}=CoverOptionsSchema.parse(m),q=7&D,it=D>>3;if((q===0||q&q-1)&&(it===0||it&it-1))throw new Error("only use one flag per alignment direction");const ot=q>>1,ft=it>>1,ut=g/w>d.bitmap.width/d.bitmap.height?g/d.bitmap.width:w/d.bitmap.height;return d=methods$d.scale(d,{f:ut,mode:H}),d=methods$b.crop(d,{x:(d.bitmap.width-g)/2*ot,y:(d.bitmap.height-w)/2*ft,w:g,h:w})}},DisplaceOptionsSchema=z$1.object({map:JimpClassSchema,offset:z$1.number()}),methods$9={displace(d,m){const{map:g,offset:w}=DisplaceOptionsSchema.parse(m),D=clone(d);return d.scan((H,q,it)=>{let ot=g.bitmap.data[it]/256*w;ot=Math.round(ot);const ft=d.getPixelIndex(H+ot,q);d.bitmap.data[ft]=D.bitmap.data[it],d.bitmap.data[ft+1]=D.bitmap.data[it+1],d.bitmap.data[ft+2]=D.bitmap.data[it+2]}),d}},methods$8={dither(d){const m=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return d.scan((g,w,D)=>{const H=m[((3&w)<<2)+g%4];d.bitmap.data[D]=Math.min(d.bitmap.data[D]+H,255),d.bitmap.data[D+1]=Math.min(d.bitmap.data[D+1]+H,255),d.bitmap.data[D+2]=Math.min(d.bitmap.data[D+2]+H,255)}),d}},FisheyeOptionsSchema=z$1.object({radius:z$1.number().min(0).optional()}),methods$7={fisheye(d,m={}){const{radius:g=2.5}=FisheyeOptionsSchema.parse(m),w=clone(d),{width:D,height:H}=w.bitmap;return w.scan((q,it)=>{const ot=q/D,ft=it/H,ut=Math.sqrt(Math.pow(ot-.5,2)+Math.pow(ft-.5,2)),dt=2*Math.pow(ut,g),St=(ot-.5)/ut,Tt=(ft-.5)/ut,Rt=Math.round((dt*St+.5)*D),zt=Math.round((dt*Tt+.5)*H),$t=w.getPixelColor(Rt,zt);d.setPixelColor($t,q,it)}),d.setPixelColor(w.getPixelColor(D/2,H/2),D/2,H/2),d}},FlipOptionsSchema=z$1.object({horizontal:z$1.boolean().optional(),vertical:z$1.boolean().optional()}),methods$6={flip(d,m){const{horizontal:g,vertical:w}=FlipOptionsSchema.parse(m),D=Buffer.alloc(d.bitmap.data.length);return d.scan((H,q,it)=>{const ot=g?d.bitmap.width-1-H:H,ft=w?d.bitmap.height-1-q:q,ut=d.bitmap.width*ft+ot<<2,dt=d.bitmap.data.readUInt32BE(it);D.writeUInt32BE(dt,ut)}),d.bitmap.data=Buffer.from(D),d}};function Converter$1(d,m){if(!(d&&m&&d.length&&m.length))throw new Error("Bad alphabet");this.srcAlphabet=d,this.dstAlphabet=m}Converter$1.prototype.convert=function(d){var m,g,w,D={},H=this.srcAlphabet.length,q=this.dstAlphabet.length,it=d.length,ot=typeof d=="string"?"":[];if(!this.isValid(d))throw new Error('Number "'+d+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return d;for(m=0;m<it;m++)D[m]=this.srcAlphabet.indexOf(d[m]);do{for(g=0,w=0,m=0;m<it;m++)(g=g*H+D[m])>=q?(D[w++]=parseInt(g/q,10),g%=q):w>0&&(D[w++]=0);it=w,ot=this.dstAlphabet.slice(g,g+1).concat(ot)}while(w!==0);return ot},Converter$1.prototype.isValid=function(d){for(var m=0;m<d.length;++m)if(this.srcAlphabet.indexOf(d[m])===-1)return!1;return!0};var converter=Converter$1,Converter=converter;function anyBase(d,m){var g=new Converter(d,m);return function(w){return g.convert(w)}}anyBase.BIN="01",anyBase.OCT="01234567",anyBase.DEC="0123456789",anyBase.HEX="0123456789abcdef";var anyBase_1=anyBase,anyBase$1=getDefaultExportFromCjs(anyBase_1),__defProp$1=Object.defineProperty,__defNormalProp$1=(d,m,g)=>m in d?__defProp$1(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__publicField$1=(d,m,g)=>__defNormalProp$1(d,typeof m!="symbol"?m+"":m,g);class ImagePHash{constructor(m,g){__publicField$1(this,"size"),__publicField$1(this,"smallerSize"),this.size=m||32,this.smallerSize=g||8,initCoefficients(this.size)}distance(m,g){let w=0;for(let D=0;D<m.length;D++)m[D]!==g[D]&&w++;return w/m.length}getHash(m){m=methods$d.resize(clone(m),{w:this.size,h:this.size}),m=methods$e.greyscale(m);const g=[];for(let it=0;it<m.bitmap.width;it++){const ot=[];for(let ft=0;ft<m.bitmap.height;ft++)ot[ft]=intToRGBA(m.getPixelColor(it,ft)).b;g[it]=ot}const w=applyDCT(g,this.size);let D=0;for(let it=0;it<this.smallerSize;it++)for(let ot=0;ot<this.smallerSize;ot++)D+=w[it][ot];const H=D/(this.smallerSize*this.smallerSize);let q="";for(let it=0;it<this.smallerSize;it++)for(let ot=0;ot<this.smallerSize;ot++)q+=w[it][ot]>H?"1":"0";return q}}function intToRGBA(d){const m=255&d,g=255&(d>>>=8),w=255&(d>>>=8);return{r:255&(d>>>=8),g:w,b:g,a:m}}const c$1=[];function initCoefficients(d){for(let m=1;m<d;m++)c$1[m]=1;c$1[0]=1/Math.sqrt(2)}function applyDCT(d,m){const g=m,w=[];for(let D=0;D<g;D++){const H=[];for(let q=0;q<g;q++){let it=0;for(let ot=0;ot<g;ot++)for(let ft=0;ft<g;ft++)it+=Math.cos((2*ot+1)/(2*g)*D*Math.PI)*Math.cos((2*ft+1)/(2*g)*q*Math.PI)*d[ot][ft];it*=c$1[D]*c$1[q]/4,H[q]=it,w[D]=H}}return w}const alphabet="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",maxHashLength=[NaN,NaN];for(let d=2;d<65;d++){const m=anyBase$1(anyBase$1.BIN,alphabet.slice(0,d))(new Array(65).join("1"));maxHashLength.push(m.length)}const methods$5={pHash:d=>new ImagePHash().getHash(d),hash(d,m=64){if(m<2||m>64)throw new Error("base must be a number between 2 and 64");const g=alphabet.slice(0,m),w=this.pHash(d),D=maxHashLength[m];return anyBase$1(anyBase$1.BIN,g)(w).padStart(D,"0")},distanceFromHash(d,m){const g=new ImagePHash,w=g.getHash(d);return g.distance(w,m)}},MaskOptionsObjectSchema=z$1.object({src:JimpClassSchema,x:z$1.number().optional(),y:z$1.number().optional()}),MaskOptionsSchema=z$1.union([JimpClassSchema,MaskOptionsObjectSchema]),methods$4={mask(d,m){let g,w,D;MaskOptionsSchema.parse(m),"bitmap"in m?(g=m,w=0,D=0):(g=m.src,w=m.x??0,D=m.y??0),w=Math.round(w),D=Math.round(D);const H=d.bitmap.width,q=d.bitmap.height;return g.scan(function(it,ot,ft){const ut=w+it,dt=D+ot;if(ut>=0&&dt>=0&&ut<H&&dt<q){const St=d.getPixelIndex(ut,dt),{data:Tt}=g.bitmap,Rt=(Tt[ft+0]+Tt[ft+1]+Tt[ft+2])/3;d.bitmap.data[St+3]*=Rt/255}}),d}};function measureText(d,m){let g=0;for(let w=0;w<m.length;w++){const D=m[w],H=d.chars[D];if(H){const q=d.kernings[D],it=m[w+1],ot=q&&it&&q[it]&&q[it]||0;g+=(H.xadvance||0)+ot}}return g}function splitLines(d,m,g){const w=m.replace(/[\r\n]+/g,` 
`).split(" "),D=[];let H=[],q=0;return w.forEach(it=>{if(measureText(d,it+(w.length>1?" ":""))>g){const ut=it[Symbol.iterator]();let dt="";for(const St of ut){const Tt=[...H,dt+St].join(" "),Rt=measureText(d,Tt);Rt<g?dt+=St:Rt>g?(D.push([...H,dt]),H=[],dt=St):(D.push([...H,dt+St]),H=[],dt="")}return}const ot=[...H,it].join(" "),ft=measureText(d,ot);ft<=g&&!it.includes(`
`)?(ft>q&&(q=ft),H.push(it)):(D.push(H),H=[it.replace(`
`,"")])}),D.push(H),{lines:D,longestLine:q}}function measureTextHeight(d,m,g){const{lines:w}=splitLines(d,m,g);return w.length*d.common.lineHeight}const PrintOptionsSchema=z$1.object({x:z$1.number(),y:z$1.number(),text:z$1.union([z$1.union([z$1.string(),z$1.number()]),z$1.object({text:z$1.union([z$1.string(),z$1.number()]),alignmentX:z$1.nativeEnum(HorizontalAlign).optional(),alignmentY:z$1.nativeEnum(VerticalAlign).optional()})]),maxWidth:z$1.number().optional(),maxHeight:z$1.number().optional(),cb:z$1.function(z$1.tuple([z$1.object({x:z$1.number(),y:z$1.number()})])).optional()});function xOffsetBasedOnAlignment(d,m,g,w){return w===HorizontalAlign.LEFT?0:w===HorizontalAlign.CENTER?(g-measureText(d,m))/2:g-measureText(d,m)}function drawCharacter(d,m,g,w,D){if(D.width>0&&D.height>0){const H=m.pages[D.page];H&&(d=methods$h.blit(d,{src:H,x:g+D.xoffset,y:w+D.yoffset,srcX:D.x,srcY:D.y,srcW:D.width,srcH:D.height}))}return d}function printText(d,m,g,w,D,H){for(let q=0;q<D.length;q++){const it=D[q];let ot;ot=m.chars[it]?it:/\s/.test(it)?"":"?";const ft=m.chars[ot]||{xadvance:void 0},ut=m.kernings[ot];drawCharacter(d,m,g,w,ft);const dt=D[q+1];g+=(ut&&dt&&ut[dt]&&ut[dt]||0)+(ft.xadvance||H)}}const methods$3={print(d,{font:m,...g}){var Rt;let w,D,{x:H,y:q,text:it,maxWidth:ot=1/0,maxHeight:ft=1/0,cb:ut=()=>{}}=PrintOptionsSchema.parse(g);typeof it=="object"&&it.text!==null&&it.text!==void 0?(w=it.alignmentX||HorizontalAlign.LEFT,D=it.alignmentY||VerticalAlign.TOP,{text:it}=it):(w=HorizontalAlign.LEFT,D=VerticalAlign.TOP,it=it.toString()),typeof it=="number"&&(it=it.toString()),ft!==1/0&&D===VerticalAlign.BOTTOM?q+=ft-measureTextHeight(m,it,ot):ft!==1/0&&D===VerticalAlign.MIDDLE&&(q+=ft/2-measureTextHeight(m,it,ot)/2);const dt=(Rt=Object.entries(m.chars).find(zt=>zt[1].xadvance))==null?void 0:Rt[1].xadvance;if(typeof dt!="number")throw new Error("Could not find default character width");const{lines:St,longestLine:Tt}=splitLines(m,it,ot);return St.forEach(zt=>{const $t=zt.join(" "),jt=xOffsetBasedOnAlignment(m,$t,ot,w);printText(d,m,H+jt,q,$t,dt),q+=m.common.lineHeight}),ut.bind(d)({x:H+Tt,y:q}),d}},RotateOptionsSchema=z$1.union([z$1.number(),z$1.object({deg:z$1.number(),mode:z$1.union([z$1.boolean(),z$1.nativeEnum(ResizeStrategy)]).optional()})]);function createIdxTranslationFunction(d){return function(m,g){return g*d+m<<2}}function matrixRotate(d,m){if(Math.abs(m)%90!=0)throw new Error("Unsupported matrix rotation degree");const g=d.bitmap.width,w=d.bitmap.height;let D;switch(m){case 90:case-270:D=90;break;case 180:case-180:D=180;break;case 270:case-90:D=-90;break;default:throw new Error("Unsupported matrix rotation degree")}const H=D===180?g:w,q=D===180?w:g,it=Buffer.alloc(d.bitmap.data.length),ot=createIdxTranslationFunction(g),ft=createIdxTranslationFunction(H);for(let ut=0;ut<g;ut++)for(let dt=0;dt<w;dt++){const St=ot(ut,dt),Tt=d.bitmap.data.readUInt32BE(St);let Rt;switch(D){case 90:Rt=ft(dt,g-ut-1);break;case-90:Rt=ft(w-dt-1,ut);break;case 180:Rt=ft(g-ut-1,w-dt-1);break;default:throw new Error("Unsupported matrix rotation angle")}it.writeUInt32BE(Tt,Rt)}d.bitmap.data=it,d.bitmap.width=H,d.bitmap.height=q}function createTranslationFunction(d,m){return function(g,w){return{x:g+d,y:w+m}}}function advancedRotate(d,m,g){const w=m*Math.PI/180,D=Math.cos(w),H=Math.sin(w);let q=d.bitmap.width,it=d.bitmap.height;if(g===!0||typeof g=="string"){q=Math.ceil(Math.abs(d.bitmap.width*D)+Math.abs(d.bitmap.height*H))+1,it=Math.ceil(Math.abs(d.bitmap.width*H)+Math.abs(d.bitmap.height*D))+1,q%2!=0&&q++,it%2!=0&&it++;const Tt=clone(d);d.scan((zt,$t,jt)=>{d.bitmap.data.writeUInt32BE(d.background,jt)});const Rt=Math.max(q,it,d.bitmap.width,d.bitmap.height);d=composite(d=methods$d.resize(d,{h:Rt,w:Rt,mode:g===!0?void 0:g}),Tt,d.bitmap.width/2-Tt.bitmap.width/2,d.bitmap.height/2-Tt.bitmap.height/2)}const ot=d.bitmap.width,ft=d.bitmap.height,ut=Buffer.alloc(d.bitmap.data.length),dt=createTranslationFunction(-ot/2,-ft/2),St=createTranslationFunction(ot/2+.5,ft/2+.5);for(let Tt=1;Tt<=ft;Tt++)for(let Rt=1;Rt<=ot;Rt++){const zt=dt(Rt,Tt),$t=St(D*zt.x-H*zt.y,D*zt.y+H*zt.x),jt=ot*(Tt-1)+Rt-1<<2;if($t.x>=0&&$t.x<ot&&$t.y>=0&&$t.y<ft){const Zt=ot*(0|$t.y)+$t.x<<2,Ft=d.bitmap.data.readUInt32BE(Zt);ut.writeUInt32BE(Ft,jt)}else ut.writeUInt32BE(d.background,jt)}if(d.bitmap.data=ut,g===!0||typeof g=="string"){const Tt=Math.max(ot/2-q/2,0),Rt=Math.max(ft/2-it/2,0);d=methods$b.crop(d,{x:Tt,y:Rt,w:q,h:it})}}const methods$2={rotate(d,m){const g=RotateOptionsSchema.parse(m),w=typeof g=="number"?{deg:g}:g,{mode:D=!0}=w;let{deg:H}=w;return H%=360,H%360==0||(H%90==0&&(D||d.bitmap.width===d.bitmap.height||H%180==0)?matrixRotate(d,H):advancedRotate(d,H,D)),d}},ThresholdOptionsSchema=z$1.object({max:z$1.number().min(0).max(255),replace:z$1.number().min(0).max(255).optional(),autoGreyscale:z$1.boolean().optional()}),methods$1={threshold(d,m){let{max:g,replace:w=255,autoGreyscale:D=!0}=ThresholdOptionsSchema.parse(m);return g=limit255(g),w=limit255(w),D&&methods$e.greyscale(d),d.scan((H,q,it)=>{const ot=d.bitmap.data[it]<g?d.bitmap.data[it]:w;d.bitmap.data[it]=ot,d.bitmap.data[it+1]=ot,d.bitmap.data[it+2]=ot}),d}};var __defProp=Object.defineProperty,__defNormalProp=(d,m,g)=>m in d?__defProp(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__export=(d,m)=>{for(var g in m)__defProp(d,g,{get:m[g],enumerable:!0})},__publicField=(d,m,g)=>(__defNormalProp(d,typeof m!="symbol"?m+"":m,g),g),constants_exports={};__export(constants_exports,{bt709:()=>bt709_exports});var bt709_exports={};__export(bt709_exports,{Y:()=>Y,x:()=>x$1,y:()=>y$1});var Y=(d=>(d[d.RED=.2126]="RED",d[d.GREEN=.7152]="GREEN",d[d.BLUE=.0722]="BLUE",d[d.WHITE=1]="WHITE",d))(Y||{}),x$1=(d=>(d[d.RED=.64]="RED",d[d.GREEN=.3]="GREEN",d[d.BLUE=.15]="BLUE",d[d.WHITE=.3127]="WHITE",d))(x$1||{}),y$1=(d=>(d[d.RED=.33]="RED",d[d.GREEN=.6]="GREEN",d[d.BLUE=.06]="BLUE",d[d.WHITE=.329]="WHITE",d))(y$1||{}),conversion_exports={};function correctGamma(d){return d>.04045?((d+.055)/1.055)**2.4:d/12.92}function rgb2xyz(d,m,g){return{x:.4124*(d=correctGamma(d/255))+.3576*(m=correctGamma(m/255))+.1805*(g=correctGamma(g/255)),y:.2126*d+.7152*m+.0722*g,z:.0193*d+.1192*m+.9505*g}}__export(conversion_exports,{lab2rgb:()=>lab2rgb,lab2xyz:()=>lab2xyz,rgb2hsl:()=>rgb2hsl,rgb2lab:()=>rgb2lab,rgb2xyz:()=>rgb2xyz,xyz2lab:()=>xyz2lab,xyz2rgb:()=>xyz2rgb});var arithmetic_exports={};function degrees2radians(d){return d*(Math.PI/180)}function max3(d,m,g){let w=d;return w<m&&(w=m),w<g&&(w=g),w}function min3(d,m,g){let w=d;return w>m&&(w=m),w>g&&(w=g),w}function intInRange(d,m,g){return d>g&&(d=g),d<m&&(d=m),0|d}function inRange0to255Rounded(d){return(d=Math.round(d))>255?d=255:d<0&&(d=0),d}function inRange0to255(d){return d>255?d=255:d<0&&(d=0),d}function stableSort(d,m){const g=typeof d[0];let w;if(g==="number"||g==="string"){const D=Object.create(null);for(let H=0,q=d.length;H<q;H++){const it=d[H];D[it]||D[it]===0||(D[it]=H)}w=d.sort((H,q)=>m(H,q)||D[H]-D[q])}else{const D=d.slice(0);w=d.sort((H,q)=>m(H,q)||D.indexOf(H)-D.indexOf(q))}return w}function rgb2hsl(d,m,g){const w=min3(d,m,g),D=max3(d,m,g),H=D-w,q=(w+D)/510;let it=0;q>0&&q<1&&(it=H/(q<.5?D+w:510-D-w));let ot=0;return H>0&&(ot=D===d?(m-g)/H:D===m?2+(g-d)/H:4+(d-m)/H,ot*=60,ot<0&&(ot+=360)),{h:ot,s:it,l:q}}__export(arithmetic_exports,{degrees2radians:()=>degrees2radians,inRange0to255:()=>inRange0to255,inRange0to255Rounded:()=>inRange0to255Rounded,intInRange:()=>intInRange,max3:()=>max3,min3:()=>min3,stableSort:()=>stableSort});var refX=.95047,refY=1,refZ=1.08883;function pivot(d){return d>.008856?d**(1/3):7.787*d+16/116}function xyz2lab(d,m,g){if(d=pivot(d/refX),m=pivot(m/refY),g=pivot(g/refZ),116*m-16<0)throw new Error("xxx");return{L:Math.max(0,116*m-16),a:500*(d-m),b:200*(m-g)}}function rgb2lab(d,m,g){const w=rgb2xyz(d,m,g);return xyz2lab(w.x,w.y,w.z)}var refX2=.95047,refY2=1,refZ2=1.08883;function pivot2(d){return d>.206893034?d**3:(d-16/116)/7.787}function lab2xyz(d,m,g){const w=(d+16)/116,D=w-g/200;return{x:refX2*pivot2(m/500+w),y:refY2*pivot2(w),z:refZ2*pivot2(D)}}function correctGamma2(d){return d>.0031308?1.055*d**(1/2.4)-.055:12.92*d}function xyz2rgb(d,m,g){const w=correctGamma2(3.2406*d+-1.5372*m+-.4986*g),D=correctGamma2(-.9689*d+1.8758*m+.0415*g),H=correctGamma2(.0557*d+-.204*m+1.057*g);return{r:inRange0to255Rounded(255*w),g:inRange0to255Rounded(255*D),b:inRange0to255Rounded(255*H)}}function lab2rgb(d,m,g){const w=lab2xyz(d,m,g);return xyz2rgb(w.x,w.y,w.z)}var distance_exports={};__export(distance_exports,{AbstractDistanceCalculator:()=>AbstractDistanceCalculator,AbstractEuclidean:()=>AbstractEuclidean,AbstractManhattan:()=>AbstractManhattan,CIE94GraphicArts:()=>CIE94GraphicArts,CIE94Textiles:()=>CIE94Textiles,CIEDE2000:()=>CIEDE2000,CMetric:()=>CMetric,Euclidean:()=>Euclidean,EuclideanBT709:()=>EuclideanBT709,EuclideanBT709NoAlpha:()=>EuclideanBT709NoAlpha,Manhattan:()=>Manhattan,ManhattanBT709:()=>ManhattanBT709,ManhattanNommyde:()=>ManhattanNommyde,PNGQuant:()=>PNGQuant});var AbstractDistanceCalculator=class{constructor(){__publicField(this,"_maxDistance"),__publicField(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(d,m,g,w){this._whitePoint={r:d>0?255/d:0,g:m>0?255/m:0,b:g>0?255/g:0,a:w>0?255/w:0},this._maxDistance=this.calculateRaw(d,m,g,w,0,0,0,0)}calculateNormalized(d,m){return this.calculateRaw(d.r,d.g,d.b,d.a,m.r,m.g,m.b,m.a)/this._maxDistance}},AbstractCIE94=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,H,q,it){const ot=rgb2lab(inRange0to255(d*this._whitePoint.r),inRange0to255(m*this._whitePoint.g),inRange0to255(g*this._whitePoint.b)),ft=rgb2lab(inRange0to255(D*this._whitePoint.r),inRange0to255(H*this._whitePoint.g),inRange0to255(q*this._whitePoint.b)),ut=ot.L-ft.L,dt=ot.a-ft.a,St=ot.b-ft.b,Tt=Math.sqrt(ot.a*ot.a+ot.b*ot.b),Rt=Tt-Math.sqrt(ft.a*ft.a+ft.b*ft.b);let zt=dt*dt+St*St-Rt*Rt;zt=zt<0?0:Math.sqrt(zt);const $t=(it-w)*this._whitePoint.a*this._kA;return Math.sqrt((ut/this._Kl)**2+(Rt/(1+this._K1*Tt))**2+(zt/(1+this._K2*Tt))**2+$t**2)}},CIE94Textiles=class extends AbstractCIE94{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},CIE94GraphicArts=class extends AbstractCIE94{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},_CIEDE2000=class extends AbstractDistanceCalculator{_setDefaults(){}static _calculatehp(d,m){const g=Math.atan2(d,m);return g>=0?g:g+_CIEDE2000._deg360InRad}static _calculateRT(d,m){const g=m**7,w=2*Math.sqrt(g/(g+_CIEDE2000._pow25to7)),D=_CIEDE2000._deg30InRad*Math.exp(-(((d-_CIEDE2000._deg275InRad)/_CIEDE2000._deg25InRad)**2));return-Math.sin(2*D)*w}static _calculateT(d){return 1-.17*Math.cos(d-_CIEDE2000._deg30InRad)+.24*Math.cos(2*d)+.32*Math.cos(3*d+_CIEDE2000._deg6InRad)-.2*Math.cos(4*d-_CIEDE2000._deg63InRad)}static _calculate_ahp(d,m,g,w){const D=g+w;return d===0?D:m<=_CIEDE2000._deg180InRad?D/2:D<_CIEDE2000._deg360InRad?(D+_CIEDE2000._deg360InRad)/2:(D-_CIEDE2000._deg360InRad)/2}static _calculate_dHp(d,m,g,w){let D;return D=d===0?0:m<=_CIEDE2000._deg180InRad?g-w:g<=w?g-w+_CIEDE2000._deg360InRad:g-w-_CIEDE2000._deg360InRad,2*Math.sqrt(d)*Math.sin(D/2)}calculateRaw(d,m,g,w,D,H,q,it){const ot=rgb2lab(inRange0to255(d*this._whitePoint.r),inRange0to255(m*this._whitePoint.g),inRange0to255(g*this._whitePoint.b)),ft=rgb2lab(inRange0to255(D*this._whitePoint.r),inRange0to255(H*this._whitePoint.g),inRange0to255(q*this._whitePoint.b)),ut=(it-w)*this._whitePoint.a*_CIEDE2000._kA,dt=this.calculateRawInLab(ot,ft);return Math.sqrt(dt+ut*ut)}calculateRawInLab(d,m){const g=d.L,w=d.a,D=d.b,H=m.L,q=m.a,it=m.b,ot=((Math.sqrt(w*w+D*D)+Math.sqrt(q*q+it*it))/2)**7,ft=.5*(1-Math.sqrt(ot/(ot+_CIEDE2000._pow25to7))),ut=(1+ft)*w,dt=(1+ft)*q,St=Math.sqrt(ut*ut+D*D),Tt=Math.sqrt(dt*dt+it*it),Rt=St*Tt,zt=_CIEDE2000._calculatehp(D,ut),$t=_CIEDE2000._calculatehp(it,dt),jt=Math.abs(zt-$t),Zt=H-g,Ft=Tt-St,Dt=_CIEDE2000._calculate_dHp(Rt,jt,$t,zt),Kt=_CIEDE2000._calculate_ahp(Rt,jt,zt,$t),re=(St+Tt)/2,Yt=((g+H)/2-50)**2,ne=Ft/(1+.045*re),ee=Dt/(1+.015*_CIEDE2000._calculateT(Kt)*re);return(Zt/(1+.015*Yt/Math.sqrt(20+Yt)))**2+ne**2+ee**2+_CIEDE2000._calculateRT(Kt,re)*ne*ee}},CIEDE2000=_CIEDE2000;__publicField(CIEDE2000,"_kA",25/255),__publicField(CIEDE2000,"_pow25to7",25**7),__publicField(CIEDE2000,"_deg360InRad",degrees2radians(360)),__publicField(CIEDE2000,"_deg180InRad",degrees2radians(180)),__publicField(CIEDE2000,"_deg30InRad",degrees2radians(30)),__publicField(CIEDE2000,"_deg6InRad",degrees2radians(6)),__publicField(CIEDE2000,"_deg63InRad",degrees2radians(63)),__publicField(CIEDE2000,"_deg275InRad",degrees2radians(275)),__publicField(CIEDE2000,"_deg25InRad",degrees2radians(25));var CMetric=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,H,q,it){const ot=(d+D)/2*this._whitePoint.r,ft=(d-D)*this._whitePoint.r,ut=(m-H)*this._whitePoint.g,dt=(g-q)*this._whitePoint.b,St=((512+ot)*ft*ft>>8)+4*ut*ut+((767-ot)*dt*dt>>8),Tt=(it-w)*this._whitePoint.a;return Math.sqrt(St+Tt*Tt)}_setDefaults(){}},AbstractEuclidean=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,H,q,it){const ot=D-d,ft=H-m,ut=q-g,dt=it-w;return Math.sqrt(this._kR*ot*ot+this._kG*ft*ft+this._kB*ut*ut+this._kA*dt*dt)}},Euclidean=class extends AbstractEuclidean{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},EuclideanBT709=class extends AbstractEuclidean{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},EuclideanBT709NoAlpha=class extends AbstractEuclidean{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},AbstractManhattan=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,H,q,it){let ot=D-d,ft=H-m,ut=q-g,dt=it-w;return ot<0&&(ot=0-ot),ft<0&&(ft=0-ft),ut<0&&(ut=0-ut),dt<0&&(dt=0-dt),this._kR*ot+this._kG*ft+this._kB*ut+this._kA*dt}},Manhattan=class extends AbstractManhattan{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},ManhattanNommyde=class extends AbstractManhattan{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ManhattanBT709=class extends AbstractManhattan{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},PNGQuant=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,D,H,q,it){const ot=(it-w)*this._whitePoint.a;return this._colordifferenceCh(d*this._whitePoint.r,D*this._whitePoint.r,ot)+this._colordifferenceCh(m*this._whitePoint.g,H*this._whitePoint.g,ot)+this._colordifferenceCh(g*this._whitePoint.b,q*this._whitePoint.b,ot)}_colordifferenceCh(d,m,g){const w=d-m,D=w+g;return w*w+D*D}_setDefaults(){}},palette_exports={};__export(palette_exports,{AbstractPaletteQuantizer:()=>AbstractPaletteQuantizer,ColorHistogram:()=>ColorHistogram,NeuQuant:()=>NeuQuant,NeuQuantFloat:()=>NeuQuantFloat,RGBQuant:()=>RGBQuant,WuColorCube:()=>WuColorCube,WuQuant:()=>WuQuant});var AbstractPaletteQuantizer=class{quantizeSync(){for(const d of this.quantize())if(d.palette)return d.palette;throw new Error("unreachable")}},Point=class{constructor(){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),__publicField(this,"uint32"),__publicField(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(d){const m=new Point;return m.r=0|d[0],m.g=0|d[1],m.b=0|d[2],m.a=0|d[3],m._loadUINT32(),m._loadQuadruplet(),m}static createByRGBA(d,m,g,w){const D=new Point;return D.r=0|d,D.g=0|m,D.b=0|g,D.a=0|w,D._loadUINT32(),D._loadQuadruplet(),D}static createByUint32(d){const m=new Point;return m.uint32=d>>>0,m._loadRGBA(),m._loadQuadruplet(),m}from(d){this.r=d.r,this.g=d.g,this.b=d.b,this.a=d.a,this.uint32=d.uint32,this.rgba[0]=d.r,this.rgba[1]=d.g,this.rgba[2]=d.b,this.rgba[3]=d.a}getLuminosity(d){let m=this.r,g=this.g,w=this.b;return d&&(m=Math.min(255,255-this.a+this.a*m/255),g=Math.min(255,255-this.a+this.a*g/255),w=Math.min(255,255-this.a+this.a*w/255)),.2126*m+.7152*g+.0722*w}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},PointContainer=class{constructor(){__publicField(this,"_pointArray"),__publicField(this,"_width"),__publicField(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(d){this._width=d}setHeight(d){this._height=d}getPointArray(){return this._pointArray}clone(){const d=new PointContainer;d._width=this._width,d._height=this._height;for(let m=0,g=this._pointArray.length;m<g;m++)d._pointArray[m]=Point.createByUint32(0|this._pointArray[m].uint32);return d}toUint32Array(){const d=this._pointArray.length,m=new Uint32Array(d);for(let g=0;g<d;g++)m[g]=this._pointArray[g].uint32;return m}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(d){const m=d.naturalWidth,g=d.naturalHeight,w=document.createElement("canvas");return w.width=m,w.height=g,w.getContext("2d").drawImage(d,0,0,m,g,0,0,m,g),PointContainer.fromHTMLCanvasElement(w)}static fromHTMLCanvasElement(d){const m=d.width,g=d.height,w=d.getContext("2d").getImageData(0,0,m,g);return PointContainer.fromImageData(w)}static fromImageData(d){const m=d.width,g=d.height;return PointContainer.fromUint8Array(d.data,m,g)}static fromUint8Array(d,m,g){switch(Object.prototype.toString.call(d)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:d=new Uint8Array(d)}const w=new Uint32Array(d.buffer);return PointContainer.fromUint32Array(w,m,g)}static fromUint32Array(d,m,g){const w=new PointContainer;w._width=m,w._height=g;for(let D=0,H=d.length;D<H;D++)w._pointArray[D]=Point.createByUint32(0|d[D]);return w}static fromBuffer(d,m,g){const w=new Uint32Array(d.buffer,d.byteOffset,d.byteLength/Uint32Array.BYTES_PER_ELEMENT);return PointContainer.fromUint32Array(w,m,g)}},hueGroups=10;function hueGroup(d,m){const g=360/m;for(let w=1,D=g-g/2;w<m;w++,D+=g)if(d>=D&&d<D+g)return w;return 0}var Palette=class{constructor(){__publicField(this,"_pointContainer"),__publicField(this,"_pointArray",[]),__publicField(this,"_i32idx",{}),this._pointContainer=new PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(d){this._pointArray.push(d),this._pointContainer.setWidth(this._pointArray.length)}has(d){for(let m=this._pointArray.length-1;m>=0;m--)if(d.uint32===this._pointArray[m].uint32)return!0;return!1}getNearestColor(d,m){return this._pointArray[0|this._getNearestIndex(d,m)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(d){return typeof this._i32idx[d]=="number"?this._i32idx[d]:-1}_getNearestIndex(d,m){let g=this._nearestPointFromCache(""+m.uint32);if(g>=0)return g;let w=Number.MAX_VALUE;g=0;for(let D=0,H=this._pointArray.length;D<H;D++){const q=this._pointArray[D],it=d.calculateRaw(m.r,m.g,m.b,m.a,q.r,q.g,q.b,q.a);it<w&&(w=it,g=D)}return this._i32idx[m.uint32]=g,g}sort(){this._i32idx={},this._pointArray.sort((d,m)=>{const g=rgb2hsl(d.r,d.g,d.b),w=rgb2hsl(m.r,m.g,m.b),D=d.r===d.g&&d.g===d.b?0:1+hueGroup(g.h,hueGroups),H=(m.r===m.g&&m.g===m.b?0:1+hueGroup(w.h,hueGroups))-D;if(H)return-H;const q=d.getLuminosity(!0),it=m.getLuminosity(!0);if(it-q!=0)return it-q;const ot=(100*w.s|0)-(100*g.s|0);return ot?-ot:0})}},utils_exports={};__export(utils_exports,{HueStatistics:()=>HueStatistics,Palette:()=>Palette,Point:()=>Point,PointContainer:()=>PointContainer,ProgressTracker:()=>ProgressTracker,arithmetic:()=>arithmetic_exports});var HueGroup=class{constructor(){__publicField(this,"num",0),__publicField(this,"cols",[])}},HueStatistics=class{constructor(d,m){__publicField(this,"_numGroups"),__publicField(this,"_minCols"),__publicField(this,"_stats"),__publicField(this,"_groupsFull"),this._numGroups=d,this._minCols=m,this._stats=[];for(let g=0;g<=d;g++)this._stats[g]=new HueGroup;this._groupsFull=0}check(d){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const m=255&d,g=d>>>8&255,w=d>>>16&255,D=m===g&&g===w?0:1+hueGroup(rgb2hsl(m,g,w).h,this._numGroups),H=this._stats[D],q=this._minCols;H.num++,H.num>q||(H.num===q&&this._groupsFull++,H.num<=q&&this._stats[D].cols.push(d))}injectIntoDictionary(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d[g]?d[g]++:d[g]=1})}injectIntoArray(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d.indexOf(g)===-1&&d.push(g)})}},_ProgressTracker=class{constructor(d,m){__publicField(this,"progress"),__publicField(this,"_step"),__publicField(this,"_range"),__publicField(this,"_last"),__publicField(this,"_progressRange"),this._range=d,this._progressRange=m,this._step=Math.max(1,this._range/(_ProgressTracker.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(d){return d-this._last>=this._step&&(this._last=d,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},ProgressTracker=_ProgressTracker;__publicField(ProgressTracker,"steps",100);var networkBiasShift=3,Neuron=class{constructor(d){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point.createByRGBA(this.r>>networkBiasShift,this.g>>networkBiasShift,this.b>>networkBiasShift,this.a>>networkBiasShift)}subtract(d,m,g,w){this.r-=0|d,this.g-=0|m,this.b-=0|g,this.a-=0|w}},_NeuQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256){super(),__publicField(this,"_pointArray"),__publicField(this,"_networkSize"),__publicField(this,"_network"),__publicField(this,"_sampleFactor"),__publicField(this,"_radPower"),__publicField(this,"_freq"),__publicField(this,"_bias"),__publicField(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift,255<<networkBiasShift,255<<networkBiasShift,255<<networkBiasShift)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new Neuron((d<<networkBiasShift+8)/this._networkSize|0),this._freq[d]=_NeuQuant._initialBias/this._networkSize|0,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuant._minpicturebytes&&(d=1);const g=30+(d-1)/3|0,w=m/d|0;let D,H=w/_NeuQuant._nCycles|0,q=_NeuQuant._initAlpha,it=(this._networkSize>>3)*_NeuQuant._radiusBias,ot=it>>_NeuQuant._radiusBiasShift;ot<=1&&(ot=0);for(let ut=0;ut<ot;ut++)this._radPower[ut]=q*((ot*ot-ut*ut)*_NeuQuant._radBias/(ot*ot))>>>0;D=m<_NeuQuant._minpicturebytes?1:m%_NeuQuant._prime1!=0?_NeuQuant._prime1:m%_NeuQuant._prime2!=0?_NeuQuant._prime2:m%_NeuQuant._prime3!=0?_NeuQuant._prime3:_NeuQuant._prime4;const ft=new ProgressTracker(w,99);for(let ut=0,dt=0;ut<w;){ft.shouldNotify(ut)&&(yield{progress:ft.progress});const St=this._pointArray[dt],Tt=St.b<<networkBiasShift,Rt=St.g<<networkBiasShift,zt=St.r<<networkBiasShift,$t=St.a<<networkBiasShift,jt=this._contest(Tt,Rt,zt,$t);if(this._alterSingle(q,jt,Tt,Rt,zt,$t),ot!==0&&this._alterNeighbour(ot,jt,Tt,Rt,zt,$t),dt+=D,dt>=m&&(dt-=m),ut++,H===0&&(H=1),ut%H==0){q-=q/g|0,it-=it/_NeuQuant._radiusDecrease|0,ot=it>>_NeuQuant._radiusBiasShift,ot<=1&&(ot=0);for(let Zt=0;Zt<ot;Zt++)this._radPower[Zt]=q*((ot*ot-Zt*Zt)*_NeuQuant._radBias/(ot*ot))>>>0}}}_buildPalette(){const d=new Palette;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,D,H){let q=m-d;q<-1&&(q=-1);let it=m+d;it>this._networkSize&&(it=this._networkSize);let ot=m+1,ft=m-1,ut=1;for(;ot<it||ft>q;){const dt=this._radPower[ut++]/_NeuQuant._alphaRadBias;if(ot<it){const St=this._network[ot++];St.subtract(dt*(St.r-D),dt*(St.g-w),dt*(St.b-g),dt*(St.a-H))}if(ft>q){const St=this._network[ft--];St.subtract(dt*(St.r-D),dt*(St.g-w),dt*(St.b-g),dt*(St.a-H))}}}_alterSingle(d,m,g,w,D,H){d/=_NeuQuant._initAlpha;const q=this._network[m];q.subtract(d*(q.r-D),d*(q.g-w),d*(q.b-g),d*(q.a-H))}_contest(d,m,g,w){const D=1020<<networkBiasShift;let H=2147483647,q=H,it=-1,ot=it;for(let ft=0;ft<this._networkSize;ft++){const ut=this._network[ft],dt=this._distance.calculateNormalized(ut,{r:g,g:m,b:d,a:w})*D|0;dt<H&&(H=dt,it=ft);const St=dt-(this._bias[ft]>>_NeuQuant._initialBiasShift-networkBiasShift);St<q&&(q=St,ot=ft);const Tt=this._freq[ft]>>_NeuQuant._betaShift;this._freq[ft]-=Tt,this._bias[ft]+=Tt<<_NeuQuant._gammaShift}return this._freq[it]+=_NeuQuant._beta,this._bias[it]-=_NeuQuant._betaGamma,ot}},NeuQuant=_NeuQuant;__publicField(NeuQuant,"_prime1",499),__publicField(NeuQuant,"_prime2",491),__publicField(NeuQuant,"_prime3",487),__publicField(NeuQuant,"_prime4",503),__publicField(NeuQuant,"_minpicturebytes",_NeuQuant._prime4),__publicField(NeuQuant,"_nCycles",100),__publicField(NeuQuant,"_initialBiasShift",16),__publicField(NeuQuant,"_initialBias",1<<_NeuQuant._initialBiasShift),__publicField(NeuQuant,"_gammaShift",10),__publicField(NeuQuant,"_betaShift",10),__publicField(NeuQuant,"_beta",_NeuQuant._initialBias>>_NeuQuant._betaShift),__publicField(NeuQuant,"_betaGamma",_NeuQuant._initialBias<<_NeuQuant._gammaShift-_NeuQuant._betaShift),__publicField(NeuQuant,"_radiusBiasShift",6),__publicField(NeuQuant,"_radiusBias",1<<_NeuQuant._radiusBiasShift),__publicField(NeuQuant,"_radiusDecrease",30),__publicField(NeuQuant,"_alphaBiasShift",10),__publicField(NeuQuant,"_initAlpha",1<<_NeuQuant._alphaBiasShift),__publicField(NeuQuant,"_radBiasShift",8),__publicField(NeuQuant,"_radBias",1<<_NeuQuant._radBiasShift),__publicField(NeuQuant,"_alphaRadBiasShift",_NeuQuant._alphaBiasShift+_NeuQuant._radBiasShift),__publicField(NeuQuant,"_alphaRadBias",1<<_NeuQuant._alphaRadBiasShift);var networkBiasShift2=3,NeuronFloat=class{constructor(d){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point.createByRGBA(this.r>>networkBiasShift2,this.g>>networkBiasShift2,this.b>>networkBiasShift2,this.a>>networkBiasShift2)}subtract(d,m,g,w){this.r-=d,this.g-=m,this.b-=g,this.a-=w}},_NeuQuantFloat=class extends AbstractPaletteQuantizer{constructor(d,m=256){super(),__publicField(this,"_pointArray"),__publicField(this,"_networkSize"),__publicField(this,"_network"),__publicField(this,"_sampleFactor"),__publicField(this,"_radPower"),__publicField(this,"_freq"),__publicField(this,"_bias"),__publicField(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift2,255<<networkBiasShift2,255<<networkBiasShift2,255<<networkBiasShift2)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new NeuronFloat((d<<networkBiasShift2+8)/this._networkSize),this._freq[d]=_NeuQuantFloat._initialBias/this._networkSize,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuantFloat._minpicturebytes&&(d=1);const g=30+(d-1)/3,w=m/d;let D,H=w/_NeuQuantFloat._nCycles|0,q=_NeuQuantFloat._initAlpha,it=(this._networkSize>>3)*_NeuQuantFloat._radiusBias,ot=it>>_NeuQuantFloat._radiusBiasShift;ot<=1&&(ot=0);for(let ut=0;ut<ot;ut++)this._radPower[ut]=q*((ot*ot-ut*ut)*_NeuQuantFloat._radBias/(ot*ot));D=m<_NeuQuantFloat._minpicturebytes?1:m%_NeuQuantFloat._prime1!=0?_NeuQuantFloat._prime1:m%_NeuQuantFloat._prime2!=0?_NeuQuantFloat._prime2:m%_NeuQuantFloat._prime3!=0?_NeuQuantFloat._prime3:_NeuQuantFloat._prime4;const ft=new ProgressTracker(w,99);for(let ut=0,dt=0;ut<w;){ft.shouldNotify(ut)&&(yield{progress:ft.progress});const St=this._pointArray[dt],Tt=St.b<<networkBiasShift2,Rt=St.g<<networkBiasShift2,zt=St.r<<networkBiasShift2,$t=St.a<<networkBiasShift2,jt=this._contest(Tt,Rt,zt,$t);if(this._alterSingle(q,jt,Tt,Rt,zt,$t),ot!==0&&this._alterNeighbour(ot,jt,Tt,Rt,zt,$t),dt+=D,dt>=m&&(dt-=m),ut++,H===0&&(H=1),ut%H==0){q-=q/g,it-=it/_NeuQuantFloat._radiusDecrease,ot=it>>_NeuQuantFloat._radiusBiasShift,ot<=1&&(ot=0);for(let Zt=0;Zt<ot;Zt++)this._radPower[Zt]=q*((ot*ot-Zt*Zt)*_NeuQuantFloat._radBias/(ot*ot))}}}_buildPalette(){const d=new Palette;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,D,H){let q=m-d;q<-1&&(q=-1);let it=m+d;it>this._networkSize&&(it=this._networkSize);let ot=m+1,ft=m-1,ut=1;for(;ot<it||ft>q;){const dt=this._radPower[ut++]/_NeuQuantFloat._alphaRadBias;if(ot<it){const St=this._network[ot++];St.subtract(dt*(St.r-D),dt*(St.g-w),dt*(St.b-g),dt*(St.a-H))}if(ft>q){const St=this._network[ft--];St.subtract(dt*(St.r-D),dt*(St.g-w),dt*(St.b-g),dt*(St.a-H))}}}_alterSingle(d,m,g,w,D,H){d/=_NeuQuantFloat._initAlpha;const q=this._network[m];q.subtract(d*(q.r-D),d*(q.g-w),d*(q.b-g),d*(q.a-H))}_contest(d,m,g,w){const D=1020<<networkBiasShift2;let H=2147483647,q=H,it=-1,ot=it;for(let ft=0;ft<this._networkSize;ft++){const ut=this._network[ft],dt=this._distance.calculateNormalized(ut,{r:g,g:m,b:d,a:w})*D;dt<H&&(H=dt,it=ft);const St=dt-(this._bias[ft]>>_NeuQuantFloat._initialBiasShift-networkBiasShift2);St<q&&(q=St,ot=ft);const Tt=this._freq[ft]>>_NeuQuantFloat._betaShift;this._freq[ft]-=Tt,this._bias[ft]+=Tt<<_NeuQuantFloat._gammaShift}return this._freq[it]+=_NeuQuantFloat._beta,this._bias[it]-=_NeuQuantFloat._betaGamma,ot}},NeuQuantFloat=_NeuQuantFloat;__publicField(NeuQuantFloat,"_prime1",499),__publicField(NeuQuantFloat,"_prime2",491),__publicField(NeuQuantFloat,"_prime3",487),__publicField(NeuQuantFloat,"_prime4",503),__publicField(NeuQuantFloat,"_minpicturebytes",_NeuQuantFloat._prime4),__publicField(NeuQuantFloat,"_nCycles",100),__publicField(NeuQuantFloat,"_initialBiasShift",16),__publicField(NeuQuantFloat,"_initialBias",1<<_NeuQuantFloat._initialBiasShift),__publicField(NeuQuantFloat,"_gammaShift",10),__publicField(NeuQuantFloat,"_betaShift",10),__publicField(NeuQuantFloat,"_beta",_NeuQuantFloat._initialBias>>_NeuQuantFloat._betaShift),__publicField(NeuQuantFloat,"_betaGamma",_NeuQuantFloat._initialBias<<_NeuQuantFloat._gammaShift-_NeuQuantFloat._betaShift),__publicField(NeuQuantFloat,"_radiusBiasShift",6),__publicField(NeuQuantFloat,"_radiusBias",1<<_NeuQuantFloat._radiusBiasShift),__publicField(NeuQuantFloat,"_radiusDecrease",30),__publicField(NeuQuantFloat,"_alphaBiasShift",10),__publicField(NeuQuantFloat,"_initAlpha",1<<_NeuQuantFloat._alphaBiasShift),__publicField(NeuQuantFloat,"_radBiasShift",8),__publicField(NeuQuantFloat,"_radBias",1<<_NeuQuantFloat._radBiasShift),__publicField(NeuQuantFloat,"_alphaRadBiasShift",_NeuQuantFloat._alphaBiasShift+_NeuQuantFloat._radBiasShift),__publicField(NeuQuantFloat,"_alphaRadBias",1<<_NeuQuantFloat._alphaRadBiasShift);var _ColorHistogram=class{constructor(d,m){__publicField(this,"_method"),__publicField(this,"_hueStats"),__publicField(this,"_histogram"),__publicField(this,"_initColors"),__publicField(this,"_minHueCols"),this._method=d,this._minHueCols=m<<2,this._initColors=m<<2,this._hueStats=new HueStatistics(_ColorHistogram._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(d){switch(this._method){case 1:this._colorStats1D(d);break;case 2:this._colorStats2D(d)}}getImportanceSortedColorsIDXI32(){const d=stableSort(Object.keys(this._histogram),(g,w)=>this._histogram[w]-this._histogram[g]);if(d.length===0)return[];let m;switch(this._method){case 1:const g=Math.min(d.length,this._initColors),w=d[g-1],D=this._histogram[w];m=d.slice(0,g);let H=g;const q=d.length;for(;H<q&&this._histogram[d[H]]===D;)m.push(d[H++]);this._hueStats.injectIntoArray(m);break;case 2:m=d;break;default:throw new Error("Incorrect method")}return m.map(g=>+g)}_colorStats1D(d){const m=this._histogram,g=d.getPointArray(),w=g.length;for(let D=0;D<w;D++){const H=g[D].uint32;this._hueStats.check(H),H in m?m[H]++:m[H]=1}}_colorStats2D(d){const m=d.getWidth(),g=d.getHeight(),w=d.getPointArray(),D=_ColorHistogram._boxSize[0],H=_ColorHistogram._boxSize[1],q=D*H,it=this._makeBoxes(m,g,D,H),ot=this._histogram;it.forEach(ft=>{let ut=Math.round(ft.w*ft.h/q)*_ColorHistogram._boxPixels;ut<2&&(ut=2);const dt={};this._iterateBox(ft,m,St=>{const Tt=w[St].uint32;this._hueStats.check(Tt),Tt in ot?ot[Tt]++:Tt in dt?++dt[Tt]>=ut&&(ot[Tt]=dt[Tt]):dt[Tt]=1})}),this._hueStats.injectIntoDictionary(ot)}_iterateBox(d,m,g){const w=d,D=w.y*m+w.x,H=(w.y+w.h-1)*m+(w.x+w.w-1),q=m-w.w+1;let it=0,ot=D;do g.call(this,ot),ot+=++it%w.w==0?q:1;while(ot<=H)}_makeBoxes(d,m,g,w){const D=d%g,H=m%w,q=d-D,it=m-H,ot=[];for(let ft=0;ft<m;ft+=w)for(let ut=0;ut<d;ut+=g)ot.push({x:ut,y:ft,w:ut===q?D:g,h:ft===it?H:w});return ot}},ColorHistogram=_ColorHistogram;__publicField(ColorHistogram,"_boxSize",[64,64]),__publicField(ColorHistogram,"_boxPixels",2),__publicField(ColorHistogram,"_hueGroups",10);var RemovedColor=class{constructor(d,m,g){__publicField(this,"index"),__publicField(this,"color"),__publicField(this,"distance"),this.index=d,this.color=m,this.distance=g}},RGBQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256,g=2){super(),__publicField(this,"_colors"),__publicField(this,"_initialDistance"),__publicField(this,"_distanceIncrement"),__publicField(this,"_histogram"),__publicField(this,"_distance"),this._distance=d,this._colors=m,this._histogram=new ColorHistogram(g,m),this._initialDistance=.01,this._distanceIncrement=.005}sample(d){this._histogram.sample(d)}*quantize(){const d=this._histogram.getImportanceSortedColorsIDXI32();if(d.length===0)throw new Error("No colors in image");yield*this._buildPalette(d)}*_buildPalette(d){const m=new Palette,g=m.getPointContainer().getPointArray(),w=new Array(d.length);for(let ut=0;ut<d.length;ut++)g.push(Point.createByUint32(d[ut])),w[ut]=1;const D=g.length,H=[];let q=D,it=this._initialDistance;const ot=new ProgressTracker(q-this._colors,99);for(;q>this._colors;){H.length=0;for(let ut=0;ut<D;ut++){if(ot.shouldNotify(D-q)&&(yield{progress:ot.progress}),w[ut]===0)continue;const dt=g[ut];for(let St=ut+1;St<D;St++){if(w[St]===0)continue;const Tt=g[St],Rt=this._distance.calculateNormalized(dt,Tt);Rt<it&&(H.push(new RemovedColor(St,Tt,Rt)),w[St]=0,q--)}}it+=q>3*this._colors?this._initialDistance:this._distanceIncrement}if(q<this._colors){stableSort(H,(dt,St)=>St.distance-dt.distance);let ut=0;for(;q<this._colors&&ut<H.length;)w[H[ut].index]=1,q++,ut++}let ft=g.length;for(let ut=ft-1;ut>=0;ut--)w[ut]===0&&(ut!==ft-1&&(g[ut]=g[ft-1]),--ft);g.length=ft,m.sort(),yield{palette:m,progress:100}}};function createArray1D(d){const m=[];for(let g=0;g<d;g++)m[g]=0;return m}function createArray4D(d,m,g,w){const D=new Array(d);for(let H=0;H<d;H++){D[H]=new Array(m);for(let q=0;q<m;q++){D[H][q]=new Array(g);for(let it=0;it<g;it++){D[H][q][it]=new Array(w);for(let ot=0;ot<w;ot++)D[H][q][it][ot]=0}}}return D}function createArray3D(d,m,g){const w=new Array(d);for(let D=0;D<d;D++){w[D]=new Array(m);for(let H=0;H<m;H++){w[D][H]=new Array(g);for(let q=0;q<g;q++)w[D][H][q]=0}}return w}function fillArray3D(d,m,g,w,D){for(let H=0;H<m;H++){d[H]=[];for(let q=0;q<g;q++){d[H][q]=[];for(let it=0;it<w;it++)d[H][q][it]=D}}}function fillArray1D(d,m,g){for(let w=0;w<m;w++)d[w]=g}var WuColorCube=class{constructor(){__publicField(this,"redMinimum"),__publicField(this,"redMaximum"),__publicField(this,"greenMinimum"),__publicField(this,"greenMaximum"),__publicField(this,"blueMinimum"),__publicField(this,"blueMaximum"),__publicField(this,"volume"),__publicField(this,"alphaMinimum"),__publicField(this,"alphaMaximum")}},_WuQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256,g=5){super(),__publicField(this,"_reds"),__publicField(this,"_greens"),__publicField(this,"_blues"),__publicField(this,"_alphas"),__publicField(this,"_sums"),__publicField(this,"_weights"),__publicField(this,"_momentsRed"),__publicField(this,"_momentsGreen"),__publicField(this,"_momentsBlue"),__publicField(this,"_momentsAlpha"),__publicField(this,"_moments"),__publicField(this,"_table"),__publicField(this,"_pixels"),__publicField(this,"_cubes"),__publicField(this,"_colors"),__publicField(this,"_significantBitsPerChannel"),__publicField(this,"_maxSideIndex"),__publicField(this,"_alphaMaxSideIndex"),__publicField(this,"_sideSize"),__publicField(this,"_alphaSideSize"),__publicField(this,"_distance"),this._distance=d,this._setQuality(g),this._initialize(m)}sample(d){const m=d.getPointArray();for(let g=0,w=m.length;g<w;g++)this._addColor(m[g]);this._pixels=this._pixels.concat(m)}*quantize(){yield*this._preparePalette();const d=new Palette;for(let m=0;m<this._colors;m++)if(this._sums[m]>0){const g=this._sums[m],w=this._reds[m]/g,D=this._greens[m]/g,H=this._blues[m]/g,q=this._alphas[m]/g,it=Point.createByRGBA(0|w,0|D,0|H,0|q);d.add(it)}d.sort(),yield{palette:d,progress:100}}*_preparePalette(){yield*this._calculateMoments();let d=0;const m=createArray1D(this._colors);for(let q=1;q<this._colors;++q){this._cut(this._cubes[d],this._cubes[q])?(m[d]=this._cubes[d].volume>1?this._calculateVariance(this._cubes[d]):0,m[q]=this._cubes[q].volume>1?this._calculateVariance(this._cubes[q]):0):(m[d]=0,q--),d=0;let it=m[0];for(let ot=1;ot<=q;++ot)m[ot]>it&&(it=m[ot],d=ot);if(it<=0){this._colors=q+1;break}}const g=[],w=[],D=[],H=[];for(let q=0;q<this._colors;++q){const it=_WuQuant._volume(this._cubes[q],this._weights);it>0?(g[q]=_WuQuant._volume(this._cubes[q],this._momentsRed)/it|0,w[q]=_WuQuant._volume(this._cubes[q],this._momentsGreen)/it|0,D[q]=_WuQuant._volume(this._cubes[q],this._momentsBlue)/it|0,H[q]=_WuQuant._volume(this._cubes[q],this._momentsAlpha)/it|0):(g[q]=0,w[q]=0,D[q]=0,H[q]=0)}this._reds=createArray1D(this._colors+1),this._greens=createArray1D(this._colors+1),this._blues=createArray1D(this._colors+1),this._alphas=createArray1D(this._colors+1),this._sums=createArray1D(this._colors+1);for(let q=0,it=this._pixels.length;q<it;q++){const ot=this._pixels[q];let ft=-1,ut=Number.MAX_VALUE;for(let dt=0;dt<this._colors;dt++){const St=g[dt],Tt=w[dt],Rt=D[dt],zt=H[dt],$t=this._distance.calculateRaw(St,Tt,Rt,zt,ot.r,ot.g,ot.b,ot.a);$t<ut&&(ut=$t,ft=dt)}this._reds[ft]+=ot.r,this._greens[ft]+=ot.g,this._blues[ft]+=ot.b,this._alphas[ft]+=ot.a,this._sums[ft]++}}_addColor(d){const m=8-this._significantBitsPerChannel,g=1+(d.r>>m),w=1+(d.g>>m),D=1+(d.b>>m),H=1+(d.a>>m);this._weights[H][g][w][D]++,this._momentsRed[H][g][w][D]+=d.r,this._momentsGreen[H][g][w][D]+=d.g,this._momentsBlue[H][g][w][D]+=d.b,this._momentsAlpha[H][g][w][D]+=d.a,this._moments[H][g][w][D]+=this._table[d.r]+this._table[d.g]+this._table[d.b]+this._table[d.a]}*_calculateMoments(){const d=[],m=[],g=[],w=[],D=[],H=[],q=createArray3D(this._sideSize,this._sideSize,this._sideSize),it=createArray3D(this._sideSize,this._sideSize,this._sideSize),ot=createArray3D(this._sideSize,this._sideSize,this._sideSize),ft=createArray3D(this._sideSize,this._sideSize,this._sideSize),ut=createArray3D(this._sideSize,this._sideSize,this._sideSize),dt=createArray3D(this._sideSize,this._sideSize,this._sideSize);let St=0;const Tt=new ProgressTracker(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let Rt=1;Rt<=this._alphaMaxSideIndex;++Rt){fillArray3D(q,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(it,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(ot,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(ft,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(ut,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(dt,this._sideSize,this._sideSize,this._sideSize,0);for(let zt=1;zt<=this._maxSideIndex;++zt,++St){Tt.shouldNotify(St)&&(yield{progress:Tt.progress}),fillArray1D(d,this._sideSize,0),fillArray1D(m,this._sideSize,0),fillArray1D(g,this._sideSize,0),fillArray1D(w,this._sideSize,0),fillArray1D(D,this._sideSize,0),fillArray1D(H,this._sideSize,0);for(let $t=1;$t<=this._maxSideIndex;++$t){let jt=0,Zt=0,Ft=0,Dt=0,Kt=0,re=0;for(let Yt=1;Yt<=this._maxSideIndex;++Yt)jt+=this._weights[Rt][zt][$t][Yt],Zt+=this._momentsRed[Rt][zt][$t][Yt],Ft+=this._momentsGreen[Rt][zt][$t][Yt],Dt+=this._momentsBlue[Rt][zt][$t][Yt],Kt+=this._momentsAlpha[Rt][zt][$t][Yt],re+=this._moments[Rt][zt][$t][Yt],d[Yt]+=jt,m[Yt]+=Zt,g[Yt]+=Ft,w[Yt]+=Dt,D[Yt]+=Kt,H[Yt]+=re,q[zt][$t][Yt]=q[zt-1][$t][Yt]+d[Yt],it[zt][$t][Yt]=it[zt-1][$t][Yt]+m[Yt],ot[zt][$t][Yt]=ot[zt-1][$t][Yt]+g[Yt],ft[zt][$t][Yt]=ft[zt-1][$t][Yt]+w[Yt],ut[zt][$t][Yt]=ut[zt-1][$t][Yt]+D[Yt],dt[zt][$t][Yt]=dt[zt-1][$t][Yt]+H[Yt],this._weights[Rt][zt][$t][Yt]=this._weights[Rt-1][zt][$t][Yt]+q[zt][$t][Yt],this._momentsRed[Rt][zt][$t][Yt]=this._momentsRed[Rt-1][zt][$t][Yt]+it[zt][$t][Yt],this._momentsGreen[Rt][zt][$t][Yt]=this._momentsGreen[Rt-1][zt][$t][Yt]+ot[zt][$t][Yt],this._momentsBlue[Rt][zt][$t][Yt]=this._momentsBlue[Rt-1][zt][$t][Yt]+ft[zt][$t][Yt],this._momentsAlpha[Rt][zt][$t][Yt]=this._momentsAlpha[Rt-1][zt][$t][Yt]+ut[zt][$t][Yt],this._moments[Rt][zt][$t][Yt]=this._moments[Rt-1][zt][$t][Yt]+dt[zt][$t][Yt]}}}}static _volumeFloat(d,m){return m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMaximum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum])}static _volume(d,m){return 0|_WuQuant._volumeFloat(d,m)}static _top(d,m,g,w){let D;switch(m){case _WuQuant._alpha:D=w[g][d.redMaximum][d.greenMaximum][d.blueMaximum]-w[g][d.redMaximum][d.greenMinimum][d.blueMaximum]-w[g][d.redMinimum][d.greenMaximum][d.blueMaximum]+w[g][d.redMinimum][d.greenMinimum][d.blueMaximum]-(w[g][d.redMaximum][d.greenMaximum][d.blueMinimum]-w[g][d.redMaximum][d.greenMinimum][d.blueMinimum]-w[g][d.redMinimum][d.greenMaximum][d.blueMinimum]+w[g][d.redMinimum][d.greenMinimum][d.blueMinimum]);break;case _WuQuant._red:D=w[d.alphaMaximum][g][d.greenMaximum][d.blueMaximum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMaximum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMaximum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMaximum]-(w[d.alphaMaximum][g][d.greenMaximum][d.blueMinimum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMinimum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMinimum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMinimum]);break;case _WuQuant._green:D=w[d.alphaMaximum][d.redMaximum][g][d.blueMaximum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMaximum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMaximum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMaximum]-(w[d.alphaMaximum][d.redMaximum][g][d.blueMinimum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMinimum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMinimum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMinimum]);break;case _WuQuant._blue:D=w[d.alphaMaximum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMaximum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMaximum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMaximum][d.redMinimum][d.greenMinimum][g]-(w[d.alphaMinimum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMinimum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMinimum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMinimum][d.redMinimum][d.greenMinimum][g]);break;default:throw new Error("impossible")}return 0|D}static _bottom(d,m,g){switch(m){case _WuQuant._alpha:return-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._red:return-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._green:return-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._blue:return-g[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);default:return 0}}_calculateVariance(d){const m=_WuQuant._volume(d,this._momentsRed),g=_WuQuant._volume(d,this._momentsGreen),w=_WuQuant._volume(d,this._momentsBlue),D=_WuQuant._volume(d,this._momentsAlpha);return _WuQuant._volumeFloat(d,this._moments)-(m*m+g*g+w*w+D*D)/_WuQuant._volume(d,this._weights)}_maximize(d,m,g,w,D,H,q,it,ot){const ft=0|_WuQuant._bottom(d,m,this._momentsRed),ut=0|_WuQuant._bottom(d,m,this._momentsGreen),dt=0|_WuQuant._bottom(d,m,this._momentsBlue),St=0|_WuQuant._bottom(d,m,this._momentsAlpha),Tt=0|_WuQuant._bottom(d,m,this._weights);let Rt=0,zt=-1;for(let $t=g;$t<w;++$t){let jt=ft+_WuQuant._top(d,m,$t,this._momentsRed),Zt=ut+_WuQuant._top(d,m,$t,this._momentsGreen),Ft=dt+_WuQuant._top(d,m,$t,this._momentsBlue),Dt=St+_WuQuant._top(d,m,$t,this._momentsAlpha),Kt=Tt+_WuQuant._top(d,m,$t,this._weights);if(Kt!==0){let re=jt*jt+Zt*Zt+Ft*Ft+Dt*Dt,Yt=re/Kt;jt=D-jt,Zt=H-Zt,Ft=q-Ft,Dt=it-Dt,Kt=ot-Kt,Kt!==0&&(re=jt*jt+Zt*Zt+Ft*Ft+Dt*Dt,Yt+=re/Kt,Yt>Rt&&(Rt=Yt,zt=$t))}}return{max:Rt,position:zt}}_cut(d,m){let g;const w=_WuQuant._volume(d,this._momentsRed),D=_WuQuant._volume(d,this._momentsGreen),H=_WuQuant._volume(d,this._momentsBlue),q=_WuQuant._volume(d,this._momentsAlpha),it=_WuQuant._volume(d,this._weights),ot=this._maximize(d,_WuQuant._red,d.redMinimum+1,d.redMaximum,w,D,H,q,it),ft=this._maximize(d,_WuQuant._green,d.greenMinimum+1,d.greenMaximum,w,D,H,q,it),ut=this._maximize(d,_WuQuant._blue,d.blueMinimum+1,d.blueMaximum,w,D,H,q,it),dt=this._maximize(d,_WuQuant._alpha,d.alphaMinimum+1,d.alphaMaximum,w,D,H,q,it);if(dt.max>=ot.max&&dt.max>=ft.max&&dt.max>=ut.max){if(g=_WuQuant._alpha,dt.position<0)return!1}else g=ot.max>=dt.max&&ot.max>=ft.max&&ot.max>=ut.max?_WuQuant._red:ft.max>=dt.max&&ft.max>=ot.max&&ft.max>=ut.max?_WuQuant._green:_WuQuant._blue;switch(m.redMaximum=d.redMaximum,m.greenMaximum=d.greenMaximum,m.blueMaximum=d.blueMaximum,m.alphaMaximum=d.alphaMaximum,g){case _WuQuant._red:m.redMinimum=d.redMaximum=ot.position,m.greenMinimum=d.greenMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._green:m.greenMinimum=d.greenMaximum=ft.position,m.redMinimum=d.redMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._blue:m.blueMinimum=d.blueMaximum=ut.position,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._alpha:m.alphaMinimum=d.alphaMaximum=dt.position,m.blueMinimum=d.blueMinimum,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum}return d.volume=(d.redMaximum-d.redMinimum)*(d.greenMaximum-d.greenMinimum)*(d.blueMaximum-d.blueMinimum)*(d.alphaMaximum-d.alphaMinimum),m.volume=(m.redMaximum-m.redMinimum)*(m.greenMaximum-m.greenMinimum)*(m.blueMaximum-m.blueMinimum)*(m.alphaMaximum-m.alphaMinimum),!0}_initialize(d){this._colors=d,this._cubes=[];for(let m=0;m<d;m++)this._cubes[m]=new WuColorCube;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let m=0;m<256;++m)this._table[m]=m*m;this._pixels=[]}_setQuality(d=5){this._significantBitsPerChannel=d,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},WuQuant=_WuQuant;__publicField(WuQuant,"_alpha",3),__publicField(WuQuant,"_red",2),__publicField(WuQuant,"_green",1),__publicField(WuQuant,"_blue",0);var image_exports={};__export(image_exports,{AbstractImageQuantizer:()=>AbstractImageQuantizer,ErrorDiffusionArray:()=>ErrorDiffusionArray,ErrorDiffusionArrayKernel:()=>ErrorDiffusionArrayKernel,ErrorDiffusionRiemersma:()=>ErrorDiffusionRiemersma,NearestColor:()=>NearestColor});var AbstractImageQuantizer=class{quantizeSync(d,m){for(const g of this.quantize(d,m))if(g.pointContainer)return g.pointContainer;throw new Error("unreachable")}},NearestColor=class extends AbstractImageQuantizer{constructor(d){super(),__publicField(this,"_distance"),this._distance=d}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),D=d.getHeight(),H=new ProgressTracker(D,99);for(let q=0;q<D;q++){H.shouldNotify(q)&&(yield{progress:H.progress});for(let it=0,ot=q*w;it<w;it++,ot++){const ft=g[ot];ft.from(m.getNearestColor(this._distance,ft))}}yield{pointContainer:d,progress:100}}},ErrorDiffusionArrayKernel=(d=>(d[d.FloydSteinberg=0]="FloydSteinberg",d[d.FalseFloydSteinberg=1]="FalseFloydSteinberg",d[d.Stucki=2]="Stucki",d[d.Atkinson=3]="Atkinson",d[d.Jarvis=4]="Jarvis",d[d.Burkes=5]="Burkes",d[d.Sierra=6]="Sierra",d[d.TwoSierra=7]="TwoSierra",d[d.SierraLite=8]="SierraLite",d))(ErrorDiffusionArrayKernel||{}),ErrorDiffusionArray=class extends AbstractImageQuantizer{constructor(d,m,g=!0,w=0,D=!1){super(),__publicField(this,"_minColorDistance"),__publicField(this,"_serpentine"),__publicField(this,"_kernel"),__publicField(this,"_calculateErrorLikeGIMP"),__publicField(this,"_distance"),this._setKernel(m),this._distance=d,this._minColorDistance=w,this._serpentine=g,this._calculateErrorLikeGIMP=D}*quantize(d,m){const g=d.getPointArray(),w=new Point,D=d.getWidth(),H=d.getHeight(),q=[];let it=1,ot=1;for(const ut of this._kernel){const dt=ut[2]+1;ot<dt&&(ot=dt)}for(let ut=0;ut<ot;ut++)this._fillErrorLine(q[ut]=[],D);const ft=new ProgressTracker(H,99);for(let ut=0;ut<H;ut++){ft.shouldNotify(ut)&&(yield{progress:ft.progress}),this._serpentine&&(it*=-1);const dt=ut*D,St=it===1?0:D-1,Tt=it===1?D:-1;this._fillErrorLine(q[0],D),q.push(q.shift());const Rt=q[0];for(let zt=St,$t=dt+St;zt!==Tt;zt+=it,$t+=it){const jt=g[$t],Zt=Rt[zt];w.from(jt);const Ft=Point.createByRGBA(inRange0to255Rounded(jt.r+Zt[0]),inRange0to255Rounded(jt.g+Zt[1]),inRange0to255Rounded(jt.b+Zt[2]),inRange0to255Rounded(jt.a+Zt[3])),Dt=m.getNearestColor(this._distance,Ft);if(jt.from(Dt),this._minColorDistance&&this._distance.calculateNormalized(w,Dt)<this._minColorDistance)continue;let Kt,re,Yt,ne;this._calculateErrorLikeGIMP?(Kt=Ft.r-Dt.r,re=Ft.g-Dt.g,Yt=Ft.b-Dt.b,ne=Ft.a-Dt.a):(Kt=w.r-Dt.r,re=w.g-Dt.g,Yt=w.b-Dt.b,ne=w.a-Dt.a);const ee=it===1?0:this._kernel.length-1,ae=it===1?this._kernel.length:-1;for(let Ut=ee;Ut!==ae;Ut+=it){const ie=this._kernel[Ut][1]*it,_e=this._kernel[Ut][2];if(ie+zt>=0&&ie+zt<D&&_e+ut>=0&&_e+ut<H){const ce=this._kernel[Ut][0],le=q[_e][ie+zt];le[0]+=Kt*ce,le[1]+=re*ce,le[2]+=Yt*ce,le[3]+=ne*ce}}}}yield{pointContainer:d,progress:100}}_fillErrorLine(d,m){d.length>m&&(d.length=m);const g=d.length;for(let w=0;w<g;w++){const D=d[w];D[0]=D[1]=D[2]=D[3]=0}for(let w=g;w<m;w++)d[w]=[0,0,0,0]}_setKernel(d){switch(d){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${d}`)}}};function*hilbertCurve(d,m,g){const w=Math.max(d,m),D={width:d,height:m,level:Math.floor(Math.log(w)/Math.log(2)+1),callback:g,tracker:new ProgressTracker(d*m,99),index:0,x:0,y:0};yield*walkHilbert(D,1),visit(D,0)}function*walkHilbert(d,m){if(!(d.level<1)){switch(d.tracker.shouldNotify(d.index)&&(yield{progress:d.tracker.progress}),d.level--,m){case 2:yield*walkHilbert(d,1),visit(d,3),yield*walkHilbert(d,2),visit(d,4),yield*walkHilbert(d,2),visit(d,2),yield*walkHilbert(d,4);break;case 3:yield*walkHilbert(d,4),visit(d,2),yield*walkHilbert(d,3),visit(d,1),yield*walkHilbert(d,3),visit(d,3),yield*walkHilbert(d,1);break;case 1:yield*walkHilbert(d,2),visit(d,4),yield*walkHilbert(d,1),visit(d,3),yield*walkHilbert(d,1),visit(d,1),yield*walkHilbert(d,3);break;case 4:yield*walkHilbert(d,3),visit(d,1),yield*walkHilbert(d,4),visit(d,2),yield*walkHilbert(d,4),visit(d,4),yield*walkHilbert(d,2)}d.level++}}function visit(d,m){switch(d.x>=0&&d.x<d.width&&d.y>=0&&d.y<d.height&&(d.callback(d.x,d.y),d.index++),m){case 2:d.x--;break;case 3:d.x++;break;case 1:d.y--;break;case 4:d.y++}}var ErrorDiffusionRiemersma=class extends AbstractImageQuantizer{constructor(d,m=16,g=1){super(),__publicField(this,"_distance"),__publicField(this,"_weights"),__publicField(this,"_errorQueueSize"),this._distance=d,this._errorQueueSize=m,this._weights=ErrorDiffusionRiemersma._createWeights(g,m)}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),D=d.getHeight(),H=[];let q=0;for(let it=0;it<this._errorQueueSize;it++)H[it]={r:0,g:0,b:0,a:0};yield*hilbertCurve(w,D,(it,ot)=>{const ft=g[it+ot*w];let{r:ut,g:dt,b:St,a:Tt}=ft;for(let jt=0;jt<this._errorQueueSize;jt++){const Zt=this._weights[jt],Ft=H[(jt+q)%this._errorQueueSize];ut+=Ft.r*Zt,dt+=Ft.g*Zt,St+=Ft.b*Zt,Tt+=Ft.a*Zt}const Rt=Point.createByRGBA(inRange0to255Rounded(ut),inRange0to255Rounded(dt),inRange0to255Rounded(St),inRange0to255Rounded(Tt)),zt=m.getNearestColor(this._distance,Rt);q=(q+1)%this._errorQueueSize;const $t=(q+this._errorQueueSize-1)%this._errorQueueSize;H[$t].r=ft.r-zt.r,H[$t].g=ft.g-zt.g,H[$t].b=ft.b-zt.b,H[$t].a=ft.a-zt.a,ft.from(zt)}),yield{pointContainer:d,progress:100}}static _createWeights(d,m){const g=[],w=Math.exp(Math.log(m)/(m-1));for(let D=0,H=1;D<m;D++)g[D]=(H+.5|0)/m*d,H*=w;return g}},quality_exports={};__export(quality_exports,{ssim:()=>ssim});var K1=.01,K2=.03;function ssim(d,m){if(d.getHeight()!==m.getHeight()||d.getWidth()!==m.getWidth())throw new Error("Images have different sizes!");const g=(255*K1)**2,w=(255*K2)**2;let D=0,H=0;return iterate(d,m,(q,it,ot,ft)=>{let ut=0,dt=0,St=0;for(let Rt=0;Rt<q.length;Rt++)dt+=(q[Rt]-ot)**2,St+=(it[Rt]-ft)**2,ut+=(q[Rt]-ot)*(it[Rt]-ft);const Tt=q.length-1;dt/=Tt,St/=Tt,ut/=Tt,H+=(2*ot*ft+g)*(2*ut+w)/((ot**2+ft**2+g)*(dt+St+w)),D++}),H/D}function iterate(d,m,g){const w=d.getWidth(),D=d.getHeight();for(let H=0;H<D;H+=8)for(let q=0;q<w;q+=8){const it=Math.min(8,w-q),ot=Math.min(8,D-H),ft=calculateLumaValuesForWindow(d,q,H,it,ot),ut=calculateLumaValuesForWindow(m,q,H,it,ot);g(ft,ut,calculateAverageLuma(ft),calculateAverageLuma(ut))}}function calculateLumaValuesForWindow(d,m,g,w,D){const H=d.getPointArray(),q=[];let it=0;for(let ot=g;ot<g+D;ot++){const ft=ot*d.getWidth();for(let ut=m;ut<m+w;ut++){const dt=H[ft+ut];q[it]=.2126*dt.r+.7152*dt.g+.0722*dt.b,it++}}return q}function calculateAverageLuma(d){let m=0;for(const g of d)m+=g;return m/d.length}function buildPaletteSync(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w}={}){const D=paletteQuantizationToPaletteQuantizer(colorDistanceFormulaToColorDistance(m),g,w);return d.forEach(H=>D.sample(H)),D.quantizeSync()}function applyPaletteSync(d,m,{colorDistanceFormula:g,imageQuantization:w}={}){return imageQuantizationToImageQuantizer(colorDistanceFormulaToColorDistance(g),w).quantizeSync(d,m)}function colorDistanceFormulaToColorDistance(d="euclidean-bt709"){switch(d){case"cie94-graphic-arts":return new CIE94GraphicArts;case"cie94-textiles":return new CIE94Textiles;case"ciede2000":return new CIEDE2000;case"color-metric":return new CMetric;case"euclidean":return new Euclidean;case"euclidean-bt709":return new EuclideanBT709;case"euclidean-bt709-noalpha":return new EuclideanBT709NoAlpha;case"manhattan":return new Manhattan;case"manhattan-bt709":return new ManhattanBT709;case"manhattan-nommyde":return new ManhattanNommyde;case"pngquant":return new PNGQuant;default:throw new Error(`Unknown colorDistanceFormula ${d}`)}}function imageQuantizationToImageQuantizer(d,m="floyd-steinberg"){switch(m){case"nearest":return new NearestColor(d);case"riemersma":return new ErrorDiffusionRiemersma(d);case"floyd-steinberg":return new ErrorDiffusionArray(d,0);case"false-floyd-steinberg":return new ErrorDiffusionArray(d,1);case"stucki":return new ErrorDiffusionArray(d,2);case"atkinson":return new ErrorDiffusionArray(d,3);case"jarvis":return new ErrorDiffusionArray(d,4);case"burkes":return new ErrorDiffusionArray(d,5);case"sierra":return new ErrorDiffusionArray(d,6);case"two-sierra":return new ErrorDiffusionArray(d,7);case"sierra-lite":return new ErrorDiffusionArray(d,8);default:throw new Error(`Unknown imageQuantization ${m}`)}}function paletteQuantizationToPaletteQuantizer(d,m="wuquant",g=256){switch(m){case"neuquant":return new NeuQuant(d,g);case"rgbquant":return new RGBQuant(d,g);case"wuquant":return new WuQuant(d,g);case"neuquant-float":return new NeuQuantFloat(d,g);default:throw new Error(`Unknown paletteQuantization ${m}`)}}/**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * common.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ditherErrorDiffusionArray.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * helper.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * nearestColor.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * palette.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ssim.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 *//**
 * @preserve
 * MIT License
 *
 * Copyright 2015-2018 Igor Bezkrovnyi
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * riemersma.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */typeof setImmediate=="function"?setImmediate:typeof process<"u"&&(process==null||process.nextTick);const QuantizeOptionsSchema=z$1.object({colors:z$1.number().optional(),colorDistanceFormula:z$1.union([z$1.literal("cie94-textiles"),z$1.literal("cie94-graphic-arts"),z$1.literal("ciede2000"),z$1.literal("color-metric"),z$1.literal("euclidean"),z$1.literal("euclidean-bt709-noalpha"),z$1.literal("euclidean-bt709"),z$1.literal("manhattan"),z$1.literal("manhattan-bt709"),z$1.literal("manhattan-nommyde"),z$1.literal("pngquant")]).optional(),paletteQuantization:z$1.union([z$1.literal("neuquant"),z$1.literal("neuquant-float"),z$1.literal("rgbquant"),z$1.literal("wuquant")]).optional(),imageQuantization:z$1.union([z$1.literal("nearest"),z$1.literal("riemersma"),z$1.literal("floyd-steinberg"),z$1.literal("false-floyd-steinberg"),z$1.literal("stucki"),z$1.literal("atkinson"),z$1.literal("jarvis"),z$1.literal("burkes"),z$1.literal("sierra"),z$1.literal("two-sierra"),z$1.literal("sierra-lite")]).optional()}),methods={quantize(d,m){const{colors:g,colorDistanceFormula:w,paletteQuantization:D,imageQuantization:H}=QuantizeOptionsSchema.parse(m),q=utils_exports.PointContainer.fromUint8Array(d.bitmap.data,d.bitmap.width,d.bitmap.height),it=applyPaletteSync(q,buildPaletteSync([q],{colors:g,colorDistanceFormula:w,paletteQuantization:D}),{colorDistanceFormula:w,imageQuantization:H});return d.bitmap.data=Buffer.from(it.toUint8Array()),d}};var parseBmfontAscii=function(d){if(!d)throw new Error("no data provided");var m={pages:[],chars:[],kernings:[]},g=(d=d.toString().trim()).split(/\r\n?|\n/g);if(g.length===0)throw new Error("no data in BMFont file");for(var w=0;w<g.length;w++){var D=splitLine(g[w],w);if(D)if(D.key==="page"){if(typeof D.data.id!="number")throw new Error("malformed file at line "+w+" -- needs page id=N");if(typeof D.data.file!="string")throw new Error("malformed file at line "+w+' -- needs page file="path"');m.pages[D.data.id]=D.data.file}else D.key==="chars"||D.key==="kernings"||(D.key==="char"?m.chars.push(D.data):D.key==="kerning"?m.kernings.push(D.data):m[D.key]=D.data)}return m};function splitLine(d,m){if(!(d=d.replace(/\t+/g," ").trim()))return null;var g=d.indexOf(" ");if(g===-1)throw new Error("no named row at line "+m);var w=d.substring(0,g);d=(d=(d=(d=d.substring(g+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(ot){return ot.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var D=[],H=0;H<d.length;H++){var q=d[H];H===0?D.push({key:q[0],data:""}):H===d.length-1?D[D.length-1].data=parseData(q[0]):(D[D.length-1].data=parseData(q[0]),D.push({key:q[1],data:""}))}var it={key:w,data:{}};return D.forEach(function(ot){it.data[ot.key]=ot.data}),it}function parseData(d){return d&&d.length!==0?d.indexOf('"')===0||d.indexOf("'")===0?d.substring(1,d.length-1):d.indexOf(",")!==-1?parseIntList$1(d):parseInt(d,10):""}function parseIntList$1(d){return d.split(",").map(function(m){return parseInt(m,10)})}getDefaultExportFromCjs(parseBmfontAscii);var GLYPH_DESIGNER_ERROR="chasrset",parseAttribs=function(d){for(var m in d=Object.assign({},d),GLYPH_DESIGNER_ERROR in d&&(d.charset=d[GLYPH_DESIGNER_ERROR],delete d[GLYPH_DESIGNER_ERROR]),d)m!=="face"&&m!=="charset"&&(d[m]=m==="padding"||m==="spacing"?parseIntList(d[m]):parseInt(d[m],10));return d};function parseIntList(d){return d.split(",").map(function(m){return parseInt(m,10)})}var xmlParseFromString=self.DOMParser!==void 0?function(d){return new self.DOMParser().parseFromString(d,"application/xml")}:self.ActiveXObject!==void 0&&new self.ActiveXObject("Microsoft.XMLDOM")?function(d){var m=new self.ActiveXObject("Microsoft.XMLDOM");return m.async="false",m.loadXML(d),m}:function(d){var m=document.createElement("div");return m.innerHTML=d,m},parseAttributes=parseAttribs,parseFromString=xmlParseFromString,NAME_MAP={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"},browser=function(d){d=d.toString();var m=parseFromString(d),g={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(ft){var ut=m.getElementsByTagName(ft)[0];ut&&(g[ft]=parseAttributes(getAttribs(ut)))});var w=m.getElementsByTagName("pages")[0];if(!w)throw new Error("malformed file -- no <pages> element");for(var D=w.getElementsByTagName("page"),H=0;H<D.length;H++){var q=D[H],it=parseInt(q.getAttribute("id"),10),ot=q.getAttribute("file");if(isNaN(it))throw new Error('malformed file -- page "id" attribute is NaN');if(!ot)throw new Error('malformed file -- needs page "file" attribute');g.pages[parseInt(it,10)]=ot}return["chars","kernings"].forEach(function(ft){var ut=m.getElementsByTagName(ft)[0];if(ut)for(var dt=ft.substring(0,ft.length-1),St=ut.getElementsByTagName(dt),Tt=0;Tt<St.length;Tt++){var Rt=St[Tt];g[ft].push(parseAttributes(getAttribs(Rt)))}}),g};function getAttribs(d){return getAttribList(d).reduce(function(m,g){return m[mapName(g.nodeName)]=g.nodeValue,m},{})}function getAttribList(d){for(var m=[],g=0;g<d.attributes.length;g++)m.push(d.attributes[g]);return m}function mapName(d){return NAME_MAP[d.toLowerCase()]||d}getDefaultExportFromCjs(browser);var HEADER$1=[66,77,70],parseBmfontBinary=function(d){if(d.length<6)throw new Error("invalid buffer length for BMFont");var m=HEADER$1.every(function(H,q){return d.readUInt8(q)===H});if(!m)throw new Error("BMFont missing BMF byte header");var g=3;if(d.readUInt8(g++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var w={kernings:[],chars:[]},D=0;D<5;D++)g+=readBlock(w,d,g);return w};function readBlock(d,m,g){if(g>m.length-1)return 0;var w=m.readUInt8(g++),D=m.readInt32LE(g);switch(g+=4,w){case 1:d.info=readInfo(m,g);break;case 2:d.common=readCommon(m,g);break;case 3:d.pages=readPages(m,g,D);break;case 4:d.chars=readChars(m,g,D);break;case 5:d.kernings=readKernings(m,g,D)}return 5+D}function readInfo(d,m){var g={};g.size=d.readInt16LE(m);var w=d.readUInt8(m+2);return g.smooth=w>>7&1,g.unicode=w>>6&1,g.italic=w>>5&1,g.bold=w>>4&1,w>>3&1&&(g.fixedHeight=1),g.charset=d.readUInt8(m+3)||"",g.stretchH=d.readUInt16LE(m+4),g.aa=d.readUInt8(m+6),g.padding=[d.readInt8(m+7),d.readInt8(m+8),d.readInt8(m+9),d.readInt8(m+10)],g.spacing=[d.readInt8(m+11),d.readInt8(m+12)],g.outline=d.readUInt8(m+13),g.face=readStringNT(d,m+14),g}function readCommon(d,m){var g={};return g.lineHeight=d.readUInt16LE(m),g.base=d.readUInt16LE(m+2),g.scaleW=d.readUInt16LE(m+4),g.scaleH=d.readUInt16LE(m+6),g.pages=d.readUInt16LE(m+8),d.readUInt8(m+10),g.packed=0,g.alphaChnl=d.readUInt8(m+11),g.redChnl=d.readUInt8(m+12),g.greenChnl=d.readUInt8(m+13),g.blueChnl=d.readUInt8(m+14),g}function readPages(d,m,g){for(var w=[],D=readNameNT(d,m),H=D.length+1,q=g/H,it=0;it<q;it++)w[it]=d.slice(m,m+D.length).toString("utf8"),m+=H;return w}function readChars(d,m,g){for(var w=[],D=g/20,H=0;H<D;H++){var q={},it=20*H;q.id=d.readUInt32LE(m+0+it),q.x=d.readUInt16LE(m+4+it),q.y=d.readUInt16LE(m+6+it),q.width=d.readUInt16LE(m+8+it),q.height=d.readUInt16LE(m+10+it),q.xoffset=d.readInt16LE(m+12+it),q.yoffset=d.readInt16LE(m+14+it),q.xadvance=d.readInt16LE(m+16+it),q.page=d.readUInt8(m+18+it),q.chnl=d.readUInt8(m+19+it),w[H]=q}return w}function readKernings(d,m,g){for(var w=[],D=g/10,H=0;H<D;H++){var q={},it=10*H;q.first=d.readUInt32LE(m+0+it),q.second=d.readUInt32LE(m+4+it),q.amount=d.readInt16LE(m+8+it),w[H]=q}return w}function readNameNT(d,m){for(var g=m;g<d.length&&d[g]!==0;g++);return d.slice(m,g)}function readStringNT(d,m){return readNameNT(d,m).toString("utf8")}getDefaultExportFromCjs(parseBmfontBinary);function e(d){return d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}const t=d=>{if(!d)return null;const m={};switch(d.type){case"ELEMENT":{let g={};const w=E(d.value.attributes),D=t(d.value.children);if(w&&(g=Object.assign(g,w)),D){const H=r$1(d.value.children);g=Object.assign(g,H)}m[d.value.type]=g;break}case"ATTRIBUTE":{const g=d.value;m[g.name]=g.value;break}case"CONTENT":return{content:d.value}}return m},r$1=d=>d&&Array.isArray(d)&&d.length!==0?n(d)?{content:d[0].value}:{children:d.map(t)}:null,n=d=>d&&Array.isArray(d)&&d.length===1&&d[0].type==="CONTENT",E=d=>d&&Array.isArray(d)?d.map(t).reduce((m,g)=>Object.assign(m,g),{}):null;var s={convert:d=>t(d.value.children[0])},a={Token:(d,m)=>({type:d,value:m}),TOKEN_TYPE:{OPEN_BRACKET:"OPEN_BRACKET",ELEMENT_TYPE:"ELEMENT_TYPE",CLOSE_ELEMENT:"CLOSE_ELEMENT",ATTRIB_NAME:"ATTRIB_NAME",ATTRIB_VALUE:"ATTRIB_VALUE",ASSIGN:"ASSIGN",CLOSE_BRACKET:"CLOSE_BRACKET",CONTENT:"CONTENT",EOF:"EOF"}};const{Token:T,TOKEN_TYPE:u}=a,c=T("EOF"),l=d=>d===" "||d===`
`||d==="\r"||d==="	",o=d=>d.replace(/'/g,'"');var N$1={createLexer:function(d){let m=null,g=(dt=>{let St=0;for(;St<dt.length&&l(dt[St]);)St++;return((Tt,Rt)=>{if(Tt.startsWith("<?xml",Rt)){const zt=Tt.length;for(;Rt<zt;)if(Tt[Rt]!=="?")Rt++;else{if(Tt[Rt+1]===">")return Rt+2;Rt++}}return Rt})(dt,St)})(d),w=[];const D=()=>d[g],H=()=>m!==c&&g<d.length,q=dt=>dt==='"'||dt==="'",it=()=>{for(;H()&&l(d[g]);)g++},ot=dt=>{if(H()){if(d[g]==="<"){let St="<";return g++,H()&&d[g]==="/"?(g++,St="</"):H()&&d[g]==="!"&&d[g+1]==="-"&&d[g+2]==="-"&&(g++,g++,g++,St="<!--"),St}if(D()==="/"){let St="/";return g++,H()&&D()===">"&&(g++,St="/>"),St}if(d[g]==="="||d[g]===">"){const St=d[g];return g++,St}}return ft(!!dt)},ft=dt=>{const St=dt?/[^>=<]/u:/[a-zA-Z0-9_:-]/;let Tt=g;for(;H()&&d[g].match(St);)g++;return o(d.substring(Tt,g))},ut=()=>{const dt=g;it();const St=g-dt;if(H())if(m&&m.type===u.OPEN_BRACKET){it();const Tt=ot(!1);m=T(u.ELEMENT_TYPE,Tt),w.push(Tt)}else if(m&&m.type===u.ASSIGN){H()&&q(D())&&g++;let Tt=g;for(;H()&&!q(D());)g++;const Rt=o(d.substring(Tt,g));g++,m=T(u.ATTRIB_VALUE,Rt)}else{it();let Tt=ot(!0);switch(Tt){case"=":m=m.type===u.ATTRIB_NAME?T(u.ASSIGN):T(u.CONTENT,Tt);break;case"</":{const Rt=g;for(;d[g]!==">";)g++;m=T(u.CLOSE_ELEMENT,d.substring(Rt,g)),g++,w.pop();break}case"/>":{const Rt=w.pop();m=T(u.CLOSE_ELEMENT,Rt);break}case"<!--":{const Rt=["!","-","-"];for(;H()&&(Rt[2]!==">"||Rt[1]!=="-"||Rt[0]!=="-");)Rt.shift(),Rt.push(d[g]),g++;return ut()}case">":m=T(u.CLOSE_BRACKET);break;case"<":m=T(u.OPEN_BRACKET);break;default:if(Tt&&Tt.length>0){if(m.type===u.CLOSE_BRACKET){let Rt="";D()!=="<"&&(Rt=ft(!0)),m=T(u.CONTENT,Tt+Rt)}else if(m.type!==u.ATTRIB_NAME&&m.type!==u.CONTENT)m.type===u.CLOSE_ELEMENT?(Tt=" ".repeat(St)+Tt,m=T(u.CONTENT,Tt)):m=T(u.ATTRIB_NAME,Tt);else{const Rt=" ".repeat(St)+Tt;m=T(u.CONTENT,Rt)}break}{const Rt='Unknown Syntax : "'+d[g]+'"';throw new Error(Rt)}}}else m=c;return m};return{peek:D,next:ut,hasNext:H}}};const{createLexer:i}=N$1,{Token:p,TOKEN_TYPE:O}=a,[A,f,C,h]=["ROOT","ELEMENT","ATTRIBUTE","CONTENT"],_=(d,m)=>({type:d,value:m}),L$1=d=>_(h,d),y$3=(d,m,g)=>_(f,{type:d,attributes:m,children:g}),v=(d,m)=>_(C,{name:d,value:m}),S=(d,m)=>{const g=[];for(;d.hasNext();){const w=d.next();switch(w.type){case O.OPEN_BRACKET:{const D=d.next(),[H,q]=R(d);let it=[];q.type!==O.CLOSE_ELEMENT&&(it=S(d,D)),it&&it.length>0&&it[0].type===O.CONTENT&&(it=b(it)),g.push(y$3(D.value,H,it));break}case O.CLOSE_ELEMENT:if(w.value===m.value)return g;break;case O.CONTENT:g.push(L$1(w.value));break;case O.EOF:return g;default:throw new Error(`Unknown Lexem type: ${w.type} "${w.value}, scoping element: ${m.value}"`)}}return g},R=d=>{const m=[];let g=d.peek();if(!d.hasNext()||g&&g.type===O.CLOSE_BRACKET||g&&g.type===O.CLOSE_ELEMENT)return[m,g];for(g=d.next();d.hasNext()&&g&&g.type!==O.CLOSE_BRACKET&&g.type!==O.CLOSE_ELEMENT;){const w=g;d.next();const D=d.next(),H=v(w.value,D.value);m.push(H),g=d.next()}return[m,g]};function b(d){let m=[],g="";return d.forEach(w=>{w.type===O.CONTENT?g+=w.value:(g.length&&(m.push(L$1(g)),g=""),m.push(w))}),g.length&&m.push(L$1(g)),m}var B$1={transpile:function(d,m){const g=(w=>_(A,{children:S(w,p(A,"ROOT"))}))(i(d));return m?m.convert(g):g},Node:_,ElementNode:y$3,AttribNode:v};const M=s,{transpile:x}=B$1;var k=e({convertXML:function(d,m){return x(d,m||M)},createAST:function(d){return x(d)}}),simpleXmlToJson_min=k;getDefaultExportFromCjs(simpleXmlToJson_min);createJimp({formats:[png]});Buffer.from([66,77,70,3]);var pixelmatch_1=pixelmatch;const defaultOptions={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};function pixelmatch(d,m,g,w,D,H){if(!isPixelData(d)||!isPixelData(m)||g&&!isPixelData(g))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(d.length!==m.length||g&&g.length!==d.length)throw new Error("Image sizes do not match.");if(d.length!==w*D*4)throw new Error("Image data size does not match width/height.");H=Object.assign({},defaultOptions,H);const q=w*D,it=new Uint32Array(d.buffer,d.byteOffset,q),ot=new Uint32Array(m.buffer,m.byteOffset,q);let ft=!0;for(let St=0;St<q;St++)if(it[St]!==ot[St]){ft=!1;break}if(ft){if(g&&!H.diffMask)for(let St=0;St<q;St++)drawGrayPixel(d,4*St,H.alpha,g);return 0}const ut=35215*H.threshold*H.threshold;let dt=0;for(let St=0;St<D;St++)for(let Tt=0;Tt<w;Tt++){const Rt=4*(St*w+Tt),zt=colorDelta(d,m,Rt,Rt);Math.abs(zt)>ut?H.includeAA||!antialiased(d,Tt,St,w,D,m)&&!antialiased(m,Tt,St,w,D,d)?(g&&drawPixel(g,Rt,...zt<0&&H.diffColorAlt||H.diffColor),dt++):g&&!H.diffMask&&drawPixel(g,Rt,...H.aaColor):g&&(H.diffMask||drawGrayPixel(d,Rt,H.alpha,g))}return dt}function isPixelData(d){return ArrayBuffer.isView(d)&&d.constructor.BYTES_PER_ELEMENT===1}function antialiased(d,m,g,w,D,H){const q=Math.max(m-1,0),it=Math.max(g-1,0),ot=Math.min(m+1,w-1),ft=Math.min(g+1,D-1),ut=4*(g*w+m);let dt,St,Tt,Rt,zt=m===q||m===ot||g===it||g===ft?1:0,$t=0,jt=0;for(let Zt=q;Zt<=ot;Zt++)for(let Ft=it;Ft<=ft;Ft++){if(Zt===m&&Ft===g)continue;const Dt=colorDelta(d,d,ut,4*(Ft*w+Zt),!0);if(Dt===0){if(zt++,zt>2)return!1}else Dt<$t?($t=Dt,dt=Zt,St=Ft):Dt>jt&&(jt=Dt,Tt=Zt,Rt=Ft)}return $t!==0&&jt!==0&&(hasManySiblings(d,dt,St,w,D)&&hasManySiblings(H,dt,St,w,D)||hasManySiblings(d,Tt,Rt,w,D)&&hasManySiblings(H,Tt,Rt,w,D))}function hasManySiblings(d,m,g,w,D){const H=Math.max(m-1,0),q=Math.max(g-1,0),it=Math.min(m+1,w-1),ot=Math.min(g+1,D-1),ft=4*(g*w+m);let ut=m===H||m===it||g===q||g===ot?1:0;for(let dt=H;dt<=it;dt++)for(let St=q;St<=ot;St++){if(dt===m&&St===g)continue;const Tt=4*(St*w+dt);if(d[ft]===d[Tt]&&d[ft+1]===d[Tt+1]&&d[ft+2]===d[Tt+2]&&d[ft+3]===d[Tt+3]&&ut++,ut>2)return!0}return!1}function colorDelta(d,m,g,w,D){let H=d[g+0],q=d[g+1],it=d[g+2],ot=d[g+3],ft=m[w+0],ut=m[w+1],dt=m[w+2],St=m[w+3];if(ot===St&&H===ft&&q===ut&&it===dt)return 0;ot<255&&(ot/=255,H=blend(H,ot),q=blend(q,ot),it=blend(it,ot)),St<255&&(St/=255,ft=blend(ft,St),ut=blend(ut,St),dt=blend(dt,St));const Tt=rgb2y(H,q,it),Rt=rgb2y(ft,ut,dt),zt=Tt-Rt;if(D)return zt;const $t=rgb2i(H,q,it)-rgb2i(ft,ut,dt),jt=rgb2q(H,q,it)-rgb2q(ft,ut,dt),Zt=.5053*zt*zt+.299*$t*$t+.1957*jt*jt;return Tt>Rt?-Zt:Zt}function rgb2y(d,m,g){return .29889531*d+.58662247*m+.11448223*g}function rgb2i(d,m,g){return .59597799*d-.2741761*m-.32180189*g}function rgb2q(d,m,g){return .21147017*d-.52261711*m+.31114694*g}function blend(d,m){return 255+(d-255)*m}function drawPixel(d,m,g,w,D){d[m+0]=g,d[m+1]=w,d[m+2]=D,d[m+3]=255}function drawGrayPixel(d,m,g,w){const D=blend(rgb2y(d[m+0],d[m+1],d[m+2]),g*d[m+3]/255);drawPixel(w,m,D,D,D)}getDefaultExportFromCjs(pixelmatch_1);const defaultPlugins=[methods$h,methods$g,methods$f,methods$e,methods$c,methods$a,methods$b,methods$9,methods$8,methods$7,methods$6,methods$5,methods$4,methods$3,methods$d,methods$2,methods$1,methods],defaultFormats=[bmp,msBmp,gif,jpeg$2,png,tiff];bmp().mime,gif().mime,jpeg$2().mime,png().mime,tiff().mime;const Jimp=createJimp({formats:defaultFormats,plugins:defaultPlugins}),handleUploadClick=d=>{var m;(m=d.current)==null||m.click()},handleFileChange=(d,m)=>{var w;const g=(w=d.target.files)==null?void 0:w[0];if(g){const D=new FileReader;D.onload=H=>{var q;m((q=H.target)==null?void 0:q.result)},D.readAsDataURL(g)}},processImage=async(d,m,g,w)=>{if(!d){w("No image uploaded.",!0);return}try{const H=await(await fetch(d)).arrayBuffer(),q=await Jimp.read(H),it={r:255,g:255,b:255,a:255},ot={r:0,g:0,b:0,a:0},ft=(St,Tt)=>Math.sqrt(Math.pow(St.r-Tt.r,2)+Math.pow(St.g-Tt.g,2)+Math.pow(St.b-Tt.b,2)+Math.pow(St.a-Tt.a,2));q.scan(0,0,q.bitmap.width,q.bitmap.height,(St,Tt,Rt)=>{const zt={r:q.bitmap.data[Rt],g:q.bitmap.data[Rt+1],b:q.bitmap.data[Rt+2],a:q.bitmap.data[Rt+3]};ft(it,zt)<=m&&(q.bitmap.data[Rt]=ot.r,q.bitmap.data[Rt+1]=ot.g,q.bitmap.data[Rt+2]=ot.b,q.bitmap.data[Rt+3]=ot.a)}),g(await q.getBase64("image/png")),await new Promise(St=>setTimeout(St,1e3));const ut=await q.getBuffer("image/png"),dt=new Blob([ut],{type:"image/png"});await navigator.clipboard.write([new ClipboardItem({[dt.type]:dt})])}catch(D){console.error("Error processing image:",D)}},handlePaste=(d,m)=>{var w;const g=(w=d.clipboardData)==null?void 0:w.items;if(g){for(const D of g)if(D.type.startsWith("image/")){const H=D.getAsFile();if(H){const q=new FileReader;q.onload=it=>{var ot;m((ot=it.target)==null?void 0:ot.result)},q.readAsDataURL(H)}}}};function r(d){var m,g,w="";if(typeof d=="string"||typeof d=="number")w+=d;else if(typeof d=="object")if(Array.isArray(d)){var D=d.length;for(m=0;m<D;m++)d[m]&&(g=r(d[m]))&&(w&&(w+=" "),w+=g)}else for(g in d)d[g]&&(w&&(w+=" "),w+=g);return w}function clsx(){for(var d,m,g=0,w="",D=arguments.length;g<D;g++)(d=arguments[g])&&(m=r(d))&&(w&&(w+=" "),w+=m);return w}function Mt(d){if(typeof document>"u")return;let m=document.head||document.getElementsByTagName("head")[0],g=document.createElement("style");g.type="text/css",m.firstChild?m.insertBefore(g,m.firstChild):m.appendChild(g),g.styleSheet?g.styleSheet.cssText=d:g.appendChild(document.createTextNode(d))}Mt(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var L=d=>typeof d=="number"&&!isNaN(d),N=d=>typeof d=="string",P=d=>typeof d=="function",mt=d=>N(d)||L(d),B=d=>N(d)||P(d)?d:null,pt=(d,m)=>d===!1||L(d)&&d>0?d:m,z=d=>reactExports.isValidElement(d)||N(d)||P(d)||L(d);function Z(d,m,g=300){let{scrollHeight:w,style:D}=d;requestAnimationFrame(()=>{D.minHeight="initial",D.height=w+"px",D.transition=`all ${g}ms`,requestAnimationFrame(()=>{D.height="0",D.padding="0",D.margin="0",setTimeout(m,g)})})}function $({enter:d,exit:m,appendPosition:g=!1,collapse:w=!0,collapseDuration:D=300}){return function({children:H,position:q,preventExitTransition:it,done:ot,nodeRef:ft,isIn:ut,playToast:dt}){let St=g?`${d}--${q}`:d,Tt=g?`${m}--${q}`:m,Rt=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{let zt=ft.current,$t=St.split(" "),jt=Zt=>{Zt.target===ft.current&&(dt(),zt.removeEventListener("animationend",jt),zt.removeEventListener("animationcancel",jt),Rt.current===0&&Zt.type!=="animationcancel"&&zt.classList.remove(...$t))};zt.classList.add(...$t),zt.addEventListener("animationend",jt),zt.addEventListener("animationcancel",jt)},[]),reactExports.useEffect(()=>{let zt=ft.current,$t=()=>{zt.removeEventListener("animationend",$t),w?Z(zt,ot,D):ot()};ut||(it?$t():(Rt.current=1,zt.className+=` ${Tt}`,zt.addEventListener("animationend",$t)))},[ut]),ct.createElement(ct.Fragment,null,H)}}function J(d,m){return{content:tt(d.content,d.props),containerId:d.props.containerId,id:d.props.toastId,theme:d.props.theme,type:d.props.type,data:d.props.data||{},isLoading:d.props.isLoading,icon:d.props.icon,reason:d.removalReason,status:m}}function tt(d,m,g=!1){return reactExports.isValidElement(d)&&!N(d.type)?reactExports.cloneElement(d,{closeToast:m.closeToast,toastProps:m,data:m.data,isPaused:g}):P(d)?d({closeToast:m.closeToast,toastProps:m,data:m.data,isPaused:g}):d}function yt({closeToast:d,theme:m,ariaLabel:g="close"}){return ct.createElement("button",{className:`Toastify__close-button Toastify__close-button--${m}`,type:"button",onClick:w=>{w.stopPropagation(),d(!0)},"aria-label":g},ct.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ct.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gt({delay:d,isRunning:m,closeToast:g,type:w="default",hide:D,className:H,controlledProgress:q,progress:it,rtl:ot,isIn:ft,theme:ut}){let dt=D||q&&it===0,St={animationDuration:`${d}ms`,animationPlayState:m?"running":"paused"};q&&(St.transform=`scaleX(${it})`);let Tt=clsx("Toastify__progress-bar",q?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${ut}`,`Toastify__progress-bar--${w}`,{"Toastify__progress-bar--rtl":ot}),Rt=P(H)?H({rtl:ot,type:w,defaultClassName:Tt}):clsx(Tt,H),zt={[q&&it>=1?"onTransitionEnd":"onAnimationEnd"]:q&&it<1?null:()=>{ft&&g()}};return ct.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":dt},ct.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${ut} Toastify__progress-bar--${w}`}),ct.createElement("div",{role:"progressbar","aria-hidden":dt?"true":"false","aria-label":"notification timer",className:Rt,style:St,...zt}))}var Xt=1,at=()=>`${Xt++}`;function _t(d,m,g){let w=1,D=0,H=[],q=[],it=m,ot=new Map,ft=new Set,ut=Zt=>(ft.add(Zt),()=>ft.delete(Zt)),dt=()=>{q=Array.from(ot.values()),ft.forEach(Zt=>Zt())},St=({containerId:Zt,toastId:Ft,updateId:Dt})=>{let Kt=Zt?Zt!==d:d!==1,re=ot.has(Ft)&&Dt==null;return Kt||re},Tt=(Zt,Ft)=>{ot.forEach(Dt=>{var Kt;(Ft==null||Ft===Dt.props.toastId)&&((Kt=Dt.toggle)==null||Kt.call(Dt,Zt))})},Rt=Zt=>{var Ft,Dt;(Dt=(Ft=Zt.props)==null?void 0:Ft.onClose)==null||Dt.call(Ft,Zt.removalReason),Zt.isActive=!1},zt=Zt=>{if(Zt==null)ot.forEach(Rt);else{let Ft=ot.get(Zt);Ft&&Rt(Ft)}dt()},$t=()=>{D-=H.length,H=[]},jt=Zt=>{var Ft,Dt;let{toastId:Kt,updateId:re}=Zt.props,Yt=re==null;Zt.staleId&&ot.delete(Zt.staleId),Zt.isActive=!0,ot.set(Kt,Zt),dt(),g(J(Zt,Yt?"added":"updated")),Yt&&((Dt=(Ft=Zt.props).onOpen)==null||Dt.call(Ft))};return{id:d,props:it,observe:ut,toggle:Tt,removeToast:zt,toasts:ot,clearQueue:$t,buildToast:(Zt,Ft)=>{if(St(Ft))return;let{toastId:Dt,updateId:Kt,data:re,staleId:Yt,delay:ne}=Ft,ee=Kt==null;ee&&D++;let ae={...it,style:it.toastStyle,key:w++,...Object.fromEntries(Object.entries(Ft).filter(([ie,_e])=>_e!=null)),toastId:Dt,updateId:Kt,data:re,isIn:!1,className:B(Ft.className||it.toastClassName),progressClassName:B(Ft.progressClassName||it.progressClassName),autoClose:Ft.isLoading?!1:pt(Ft.autoClose,it.autoClose),closeToast(ie){ot.get(Dt).removalReason=ie,zt(Dt)},deleteToast(){let ie=ot.get(Dt);if(ie!=null){if(g(J(ie,"removed")),ot.delete(Dt),D--,D<0&&(D=0),H.length>0){jt(H.shift());return}dt()}}};ae.closeButton=it.closeButton,Ft.closeButton===!1||z(Ft.closeButton)?ae.closeButton=Ft.closeButton:Ft.closeButton===!0&&(ae.closeButton=z(it.closeButton)?it.closeButton:!0);let Ut={content:Zt,props:ae,staleId:Yt};it.limit&&it.limit>0&&D>it.limit&&ee?H.push(Ut):L(ne)?setTimeout(()=>{jt(Ut)},ne):jt(Ut)},setProps(Zt){it=Zt},setToggle:(Zt,Ft)=>{let Dt=ot.get(Zt);Dt&&(Dt.toggle=Ft)},isToastActive:Zt=>{var Ft;return(Ft=ot.get(Zt))==null?void 0:Ft.isActive},getSnapshot:()=>q}}var I=new Map,F=[],st=new Set,Vt=d=>st.forEach(m=>m(d)),bt=()=>I.size>0;function Qt(){F.forEach(d=>nt(d.content,d.options)),F=[]}var vt=(d,{containerId:m})=>{var g;return(g=I.get(m||1))==null?void 0:g.toasts.get(d)};function X(d,m){var g;if(m)return!!((g=I.get(m))!=null&&g.isToastActive(d));let w=!1;return I.forEach(D=>{D.isToastActive(d)&&(w=!0)}),w}function ht(d){if(!bt()){F=F.filter(m=>d!=null&&m.options.toastId!==d);return}if(d==null||mt(d))I.forEach(m=>{m.removeToast(d)});else if(d&&("containerId"in d||"id"in d)){let m=I.get(d.containerId);m?m.removeToast(d.id):I.forEach(g=>{g.removeToast(d.id)})}}var Ct=(d={})=>{I.forEach(m=>{m.props.limit&&(!d.containerId||m.id===d.containerId)&&m.clearQueue()})};function nt(d,m){z(d)&&(bt()||F.push({content:d,options:m}),I.forEach(g=>{g.buildToast(d,m)}))}function xt(d){var m;(m=I.get(d.containerId||1))==null||m.setToggle(d.id,d.fn)}function rt(d,m){I.forEach(g=>{(m==null||!(m!=null&&m.containerId)||(m==null?void 0:m.containerId)===g.id)&&g.toggle(d,m==null?void 0:m.id)})}function Et(d){let m=d.containerId||1;return{subscribe(g){let w=_t(m,d,Vt);I.set(m,w);let D=w.observe(g);return Qt(),()=>{D(),I.delete(m)}},setProps(g){var w;(w=I.get(m))==null||w.setProps(g)},getSnapshot(){var g;return(g=I.get(m))==null?void 0:g.getSnapshot()}}}function Pt(d){return st.add(d),()=>{st.delete(d)}}function Wt(d){return d&&(N(d.toastId)||L(d.toastId))?d.toastId:at()}function U(d,m){return nt(d,m),m.toastId}function V(d,m){return{...m,type:m&&m.type||d,toastId:Wt(m)}}function Q(d){return(m,g)=>U(m,V(d,g))}function y(d,m){return U(d,V("default",m))}y.loading=(d,m)=>U(d,V("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...m}));function Gt(d,{pending:m,error:g,success:w},D){let H;m&&(H=N(m)?y.loading(m,D):y.loading(m.render,{...D,...m}));let q={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},it=(ft,ut,dt)=>{if(ut==null){y.dismiss(H);return}let St={type:ft,...q,...D,data:dt},Tt=N(ut)?{render:ut}:ut;return H?y.update(H,{...St,...Tt}):y(Tt.render,{...St,...Tt}),dt},ot=P(d)?d():d;return ot.then(ft=>it("success",w,ft)).catch(ft=>it("error",g,ft)),ot}y.promise=Gt;y.success=Q("success");y.info=Q("info");y.error=Q("error");y.warning=Q("warning");y.warn=y.warning;y.dark=(d,m)=>U(d,V("default",{theme:"dark",...m}));function qt(d){ht(d)}y.dismiss=qt;y.clearWaitingQueue=Ct;y.isActive=X;y.update=(d,m={})=>{let g=vt(d,m);if(g){let{props:w,content:D}=g,H={delay:100,...w,...m,toastId:m.toastId||d,updateId:at()};H.toastId!==d&&(H.staleId=d);let q=H.render||D;delete H.render,U(q,H)}};y.done=d=>{y.update(d,{progress:1})};y.onChange=Pt;y.play=d=>rt(!0,d);y.pause=d=>rt(!1,d);function It(d){var m;let{subscribe:g,getSnapshot:w,setProps:D}=reactExports.useRef(Et(d)).current;D(d);let H=(m=reactExports.useSyncExternalStore(g,w,w))==null?void 0:m.slice();function q(it){if(!H)return[];let ot=new Map;return d.newestOnTop&&H.reverse(),H.forEach(ft=>{let{position:ut}=ft.props;ot.has(ut)||ot.set(ut,[]),ot.get(ut).push(ft)}),Array.from(ot,ft=>it(ft[0],ft[1]))}return{getToastToRender:q,isToastActive:X,count:H==null?void 0:H.length}}function At(d){let[m,g]=reactExports.useState(!1),[w,D]=reactExports.useState(!1),H=reactExports.useRef(null),q=reactExports.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:it,pauseOnHover:ot,closeToast:ft,onClick:ut,closeOnClick:dt}=d;xt({id:d.toastId,containerId:d.containerId,fn:g}),reactExports.useEffect(()=>{if(d.pauseOnFocusLoss)return St(),()=>{Tt()}},[d.pauseOnFocusLoss]);function St(){document.hasFocus()||jt(),window.addEventListener("focus",$t),window.addEventListener("blur",jt)}function Tt(){window.removeEventListener("focus",$t),window.removeEventListener("blur",jt)}function Rt(Yt){if(d.draggable===!0||d.draggable===Yt.pointerType){Zt();let ne=H.current;q.canCloseOnClick=!0,q.canDrag=!0,ne.style.transition="none",d.draggableDirection==="x"?(q.start=Yt.clientX,q.removalDistance=ne.offsetWidth*(d.draggablePercent/100)):(q.start=Yt.clientY,q.removalDistance=ne.offsetHeight*(d.draggablePercent===80?d.draggablePercent*1.5:d.draggablePercent)/100)}}function zt(Yt){let{top:ne,bottom:ee,left:ae,right:Ut}=H.current.getBoundingClientRect();Yt.nativeEvent.type!=="touchend"&&d.pauseOnHover&&Yt.clientX>=ae&&Yt.clientX<=Ut&&Yt.clientY>=ne&&Yt.clientY<=ee?jt():$t()}function $t(){g(!0)}function jt(){g(!1)}function Zt(){q.didMove=!1,document.addEventListener("pointermove",Dt),document.addEventListener("pointerup",Kt)}function Ft(){document.removeEventListener("pointermove",Dt),document.removeEventListener("pointerup",Kt)}function Dt(Yt){let ne=H.current;if(q.canDrag&&ne){q.didMove=!0,m&&jt(),d.draggableDirection==="x"?q.delta=Yt.clientX-q.start:q.delta=Yt.clientY-q.start,q.start!==Yt.clientX&&(q.canCloseOnClick=!1);let ee=d.draggableDirection==="x"?`${q.delta}px, var(--y)`:`0, calc(${q.delta}px + var(--y))`;ne.style.transform=`translate3d(${ee},0)`,ne.style.opacity=`${1-Math.abs(q.delta/q.removalDistance)}`}}function Kt(){Ft();let Yt=H.current;if(q.canDrag&&q.didMove&&Yt){if(q.canDrag=!1,Math.abs(q.delta)>q.removalDistance){D(!0),d.closeToast(!0),d.collapseAll();return}Yt.style.transition="transform 0.2s, opacity 0.2s",Yt.style.removeProperty("transform"),Yt.style.removeProperty("opacity")}}let re={onPointerDown:Rt,onPointerUp:zt};return it&&ot&&(re.onMouseEnter=jt,d.stacked||(re.onMouseLeave=$t)),dt&&(re.onClick=Yt=>{ut&&ut(Yt),q.canCloseOnClick&&ft(!0)}),{playToast:$t,pauseToast:jt,isRunning:m,preventExitTransition:w,toastRef:H,eventHandlers:re}}var Ot=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,G=({theme:d,type:m,isLoading:g,...w})=>ct.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:d==="colored"?"currentColor":`var(--toastify-icon-color-${m})`,...w});function ao(d){return ct.createElement(G,{...d},ct.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function so(d){return ct.createElement(G,{...d},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function no(d){return ct.createElement(G,{...d},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ro(d){return ct.createElement(G,{...d},ct.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function io(){return ct.createElement("div",{className:"Toastify__spinner"})}var W={info:so,warning:ao,success:no,error:ro,spinner:io},lo=d=>d in W;function Nt({theme:d,type:m,isLoading:g,icon:w}){let D=null,H={theme:d,type:m};return w===!1||(P(w)?D=w({...H,isLoading:g}):reactExports.isValidElement(w)?D=reactExports.cloneElement(w,H):g?D=W.spinner():lo(m)&&(D=W[m](H))),D}var wt=d=>{let{isRunning:m,preventExitTransition:g,toastRef:w,eventHandlers:D,playToast:H}=At(d),{closeButton:q,children:it,autoClose:ot,onClick:ft,type:ut,hideProgressBar:dt,closeToast:St,transition:Tt,position:Rt,className:zt,style:$t,progressClassName:jt,updateId:Zt,role:Ft,progress:Dt,rtl:Kt,toastId:re,deleteToast:Yt,isIn:ne,isLoading:ee,closeOnClick:ae,theme:Ut,ariaLabel:ie}=d,_e=clsx("Toastify__toast",`Toastify__toast-theme--${Ut}`,`Toastify__toast--${ut}`,{"Toastify__toast--rtl":Kt},{"Toastify__toast--close-on-click":ae}),ce=P(zt)?zt({rtl:Kt,position:Rt,type:ut,defaultClassName:_e}):clsx(_e,zt),le=Nt(d),de=!!Dt||!ot,Ae={closeToast:St,type:ut,theme:Ut},ve=null;return q===!1||(P(q)?ve=q(Ae):reactExports.isValidElement(q)?ve=reactExports.cloneElement(q,Ae):ve=yt(Ae)),ct.createElement(Tt,{isIn:ne,done:Yt,position:Rt,preventExitTransition:g,nodeRef:w,playToast:H},ct.createElement("div",{id:re,tabIndex:0,onClick:ft,"data-in":ne,className:ce,...D,style:$t,ref:w,...ne&&{role:Ft,"aria-label":ie}},le!=null&&ct.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ee})},le),tt(it,d,!m),ve,!d.customProgressBar&&ct.createElement(gt,{...Zt&&!de?{key:`p-${Zt}`}:{},rtl:Kt,theme:Ut,delay:ot,isRunning:m,isIn:ne,closeToast:St,hide:dt,type:ut,className:jt,controlledProgress:de,progress:Dt||0})))},K=(d,m=!1)=>({enter:`Toastify--animate Toastify__${d}-enter`,exit:`Toastify--animate Toastify__${d}-exit`,appendPosition:m}),lt=$(K("bounce",!0)),_o={position:"top-right",transition:lt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:d=>d.altKey&&d.code==="KeyT"};function Lt(d){let m={..._o,...d},g=d.stacked,[w,D]=reactExports.useState(!0),H=reactExports.useRef(null),{getToastToRender:q,isToastActive:it,count:ot}=It(m),{className:ft,style:ut,rtl:dt,containerId:St,hotKeys:Tt}=m;function Rt($t){let jt=clsx("Toastify__toast-container",`Toastify__toast-container--${$t}`,{"Toastify__toast-container--rtl":dt});return P(ft)?ft({position:$t,rtl:dt,defaultClassName:jt}):clsx(jt,B(ft))}function zt(){g&&(D(!0),y.play())}return Ot(()=>{var $t;if(g){let jt=H.current.querySelectorAll('[data-in="true"]'),Zt=12,Ft=($t=m.position)==null?void 0:$t.includes("top"),Dt=0,Kt=0;Array.from(jt).reverse().forEach((re,Yt)=>{let ne=re;ne.classList.add("Toastify__toast--stacked"),Yt>0&&(ne.dataset.collapsed=`${w}`),ne.dataset.pos||(ne.dataset.pos=Ft?"top":"bot");let ee=Dt*(w?.2:1)+(w?0:Zt*Yt);ne.style.setProperty("--y",`${Ft?ee:ee*-1}px`),ne.style.setProperty("--g",`${Zt}`),ne.style.setProperty("--s",`${1-(w?Kt:0)}`),Dt+=ne.offsetHeight,Kt+=.025})}},[w,ot,g]),reactExports.useEffect(()=>{function $t(jt){var Zt;let Ft=H.current;Tt(jt)&&((Zt=Ft.querySelector('[tabIndex="0"]'))==null||Zt.focus(),D(!1),y.pause()),jt.key==="Escape"&&(document.activeElement===Ft||Ft!=null&&Ft.contains(document.activeElement))&&(D(!0),y.play())}return document.addEventListener("keydown",$t),()=>{document.removeEventListener("keydown",$t)}},[Tt]),ct.createElement("section",{ref:H,className:"Toastify",id:St,onMouseEnter:()=>{g&&(D(!1),y.pause())},onMouseLeave:zt,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":m["aria-label"]},q(($t,jt)=>{let Zt=jt.length?{...ut}:{...ut,pointerEvents:"none"};return ct.createElement("div",{tabIndex:-1,className:Rt($t),"data-stacked":g,style:Zt,key:`c-${$t}`},jt.map(({content:Ft,props:Dt})=>ct.createElement(wt,{...Dt,stacked:g,collapseAll:zt,isIn:it(Dt.toastId,Dt.containerId),key:`t-${Dt.key}`},Ft)))}))}const defaultIconDimensions=Object.freeze({left:0,top:0,width:16,height:16}),defaultIconTransformations=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),defaultIconProps=Object.freeze({...defaultIconDimensions,...defaultIconTransformations}),defaultExtendedIconProps=Object.freeze({...defaultIconProps,body:"",hidden:!1});function mergeIconTransformations(d,m){const g={};!d.hFlip!=!m.hFlip&&(g.hFlip=!0),!d.vFlip!=!m.vFlip&&(g.vFlip=!0);const w=((d.rotate||0)+(m.rotate||0))%4;return w&&(g.rotate=w),g}function mergeIconData(d,m){const g=mergeIconTransformations(d,m);for(const w in defaultExtendedIconProps)w in defaultIconTransformations?w in d&&!(w in g)&&(g[w]=defaultIconTransformations[w]):w in m?g[w]=m[w]:w in d&&(g[w]=d[w]);return g}function getIconsTree(d,m){const g=d.icons,w=d.aliases||Object.create(null),D=Object.create(null);function H(q){if(g[q])return D[q]=[];if(!(q in D)){D[q]=null;const it=w[q]&&w[q].parent,ot=it&&H(it);ot&&(D[q]=[it].concat(ot))}return D[q]}return Object.keys(g).concat(Object.keys(w)).forEach(H),D}function internalGetIconData(d,m,g){const w=d.icons,D=d.aliases||Object.create(null);let H={};function q(it){H=mergeIconData(w[it]||D[it],H)}return q(m),g.forEach(q),mergeIconData(d,H)}function parseIconSet(d,m){const g=[];if(typeof d!="object"||typeof d.icons!="object")return g;d.not_found instanceof Array&&d.not_found.forEach(D=>{m(D,null),g.push(D)});const w=getIconsTree(d);for(const D in w){const H=w[D];H&&(m(D,internalGetIconData(d,D,H)),g.push(D))}return g}const optionalPropertyDefaults={provider:"",aliases:{},not_found:{},...defaultIconDimensions};function checkOptionalProps(d,m){for(const g in m)if(g in d&&typeof d[g]!=typeof m[g])return!1;return!0}function quicklyValidateIconSet(d){if(typeof d!="object"||d===null)return null;const m=d;if(typeof m.prefix!="string"||!d.icons||typeof d.icons!="object"||!checkOptionalProps(d,optionalPropertyDefaults))return null;const g=m.icons;for(const D in g){const H=g[D];if(!D||typeof H.body!="string"||!checkOptionalProps(H,defaultExtendedIconProps))return null}const w=m.aliases||Object.create(null);for(const D in w){const H=w[D],q=H.parent;if(!D||typeof q!="string"||!g[q]&&!w[q]||!checkOptionalProps(H,defaultExtendedIconProps))return null}return m}const matchIconName=/^[a-z0-9]+(-[a-z0-9]+)*$/,stringToIcon=(d,m,g,w="")=>{const D=d.split(":");if(d.slice(0,1)==="@"){if(D.length<2||D.length>3)return null;w=D.shift().slice(1)}if(D.length>3||!D.length)return null;if(D.length>1){const it=D.pop(),ot=D.pop(),ft={provider:D.length>0?D[0]:w,prefix:ot,name:it};return m&&!validateIconName(ft)?null:ft}const H=D[0],q=H.split("-");if(q.length>1){const it={provider:w,prefix:q.shift(),name:q.join("-")};return m&&!validateIconName(it)?null:it}if(g&&w===""){const it={provider:w,prefix:"",name:H};return m&&!validateIconName(it,g)?null:it}return null},validateIconName=(d,m)=>d?!!((m&&d.prefix===""||d.prefix)&&d.name):!1,dataStorage=Object.create(null);function newStorage(d,m){return{provider:d,prefix:m,icons:Object.create(null),missing:new Set}}function getStorage(d,m){const g=dataStorage[d]||(dataStorage[d]=Object.create(null));return g[m]||(g[m]=newStorage(d,m))}function addIconSet(d,m){return quicklyValidateIconSet(m)?parseIconSet(m,(g,w)=>{w?d.icons[g]=w:d.missing.add(g)}):[]}function addIconToStorage(d,m,g){try{if(typeof g.body=="string")return d.icons[m]={...g},!0}catch{}return!1}let simpleNames=!1;function allowSimpleNames(d){return typeof d=="boolean"&&(simpleNames=d),simpleNames}function getIconData(d){const m=typeof d=="string"?stringToIcon(d,!0,simpleNames):d;if(m){const g=getStorage(m.provider,m.prefix),w=m.name;return g.icons[w]||(g.missing.has(w)?null:void 0)}}function addIcon(d,m){const g=stringToIcon(d,!0,simpleNames);if(!g)return!1;const w=getStorage(g.provider,g.prefix);return m?addIconToStorage(w,g.name,m):(w.missing.add(g.name),!0)}function addCollection(d,m){if(typeof d!="object")return!1;if(typeof m!="string"&&(m=d.provider||""),simpleNames&&!m&&!d.prefix){let D=!1;return quicklyValidateIconSet(d)&&(d.prefix="",parseIconSet(d,(H,q)=>{addIcon(H,q)&&(D=!0)})),D}const g=d.prefix;if(!validateIconName({provider:m,prefix:g,name:"a"}))return!1;const w=getStorage(m,g);return!!addIconSet(w,d)}const defaultIconSizeCustomisations=Object.freeze({width:null,height:null}),defaultIconCustomisations=Object.freeze({...defaultIconSizeCustomisations,...defaultIconTransformations}),unitsSplit=/(-?[0-9.]*[0-9]+[0-9.]*)/g,unitsTest=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize(d,m,g){if(m===1)return d;if(g=g||100,typeof d=="number")return Math.ceil(d*m*g)/g;if(typeof d!="string")return d;const w=d.split(unitsSplit);if(w===null||!w.length)return d;const D=[];let H=w.shift(),q=unitsTest.test(H);for(;;){if(q){const it=parseFloat(H);isNaN(it)?D.push(H):D.push(Math.ceil(it*m*g)/g)}else D.push(H);if(H=w.shift(),H===void 0)return D.join("");q=!q}}function splitSVGDefs(d,m="defs"){let g="";const w=d.indexOf("<"+m);for(;w>=0;){const D=d.indexOf(">",w),H=d.indexOf("</"+m);if(D===-1||H===-1)break;const q=d.indexOf(">",H);if(q===-1)break;g+=d.slice(D+1,H).trim(),d=d.slice(0,w).trim()+d.slice(q+1)}return{defs:g,content:d}}function mergeDefsAndContent(d,m){return d?"<defs>"+d+"</defs>"+m:m}function wrapSVGContent(d,m,g){const w=splitSVGDefs(d);return mergeDefsAndContent(w.defs,m+w.content+g)}const isUnsetKeyword=d=>d==="unset"||d==="undefined"||d==="none";function iconToSVG(d,m){const g={...defaultIconProps,...d},w={...defaultIconCustomisations,...m},D={left:g.left,top:g.top,width:g.width,height:g.height};let H=g.body;[g,w].forEach(zt=>{const $t=[],jt=zt.hFlip,Zt=zt.vFlip;let Ft=zt.rotate;jt?Zt?Ft+=2:($t.push("translate("+(D.width+D.left).toString()+" "+(0-D.top).toString()+")"),$t.push("scale(-1 1)"),D.top=D.left=0):Zt&&($t.push("translate("+(0-D.left).toString()+" "+(D.height+D.top).toString()+")"),$t.push("scale(1 -1)"),D.top=D.left=0);let Dt;switch(Ft<0&&(Ft-=Math.floor(Ft/4)*4),Ft=Ft%4,Ft){case 1:Dt=D.height/2+D.top,$t.unshift("rotate(90 "+Dt.toString()+" "+Dt.toString()+")");break;case 2:$t.unshift("rotate(180 "+(D.width/2+D.left).toString()+" "+(D.height/2+D.top).toString()+")");break;case 3:Dt=D.width/2+D.left,$t.unshift("rotate(-90 "+Dt.toString()+" "+Dt.toString()+")");break}Ft%2===1&&(D.left!==D.top&&(Dt=D.left,D.left=D.top,D.top=Dt),D.width!==D.height&&(Dt=D.width,D.width=D.height,D.height=Dt)),$t.length&&(H=wrapSVGContent(H,'<g transform="'+$t.join(" ")+'">',"</g>"))});const q=w.width,it=w.height,ot=D.width,ft=D.height;let ut,dt;q===null?(dt=it===null?"1em":it==="auto"?ft:it,ut=calculateSize(dt,ot/ft)):(ut=q==="auto"?ot:q,dt=it===null?calculateSize(ut,ft/ot):it==="auto"?ft:it);const St={},Tt=(zt,$t)=>{isUnsetKeyword($t)||(St[zt]=$t.toString())};Tt("width",ut),Tt("height",dt);const Rt=[D.left,D.top,ot,ft];return St.viewBox=Rt.join(" "),{attributes:St,viewBox:Rt,body:H}}const regex=/\sid="(\S+)"/g,randomPrefix="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let counter=0;function replaceIDs(d,m=randomPrefix){const g=[];let w;for(;w=regex.exec(d);)g.push(w[1]);if(!g.length)return d;const D="suffix"+(Math.random()*16777216|Date.now()).toString(16);return g.forEach(H=>{const q=typeof m=="function"?m(H):m+(counter++).toString(),it=H.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");d=d.replace(new RegExp('([#;"])('+it+')([")]|\\.[a-z])',"g"),"$1"+q+D+"$3")}),d=d.replace(new RegExp(D,"g"),""),d}const storage=Object.create(null);function setAPIModule(d,m){storage[d]=m}function getAPIModule(d){return storage[d]||storage[""]}function createAPIConfig(d){let m;if(typeof d.resources=="string")m=[d.resources];else if(m=d.resources,!(m instanceof Array)||!m.length)return null;return{resources:m,path:d.path||"/",maxURL:d.maxURL||500,rotate:d.rotate||750,timeout:d.timeout||5e3,random:d.random===!0,index:d.index||0,dataAfterTimeout:d.dataAfterTimeout!==!1}}const configStorage=Object.create(null),fallBackAPISources=["https://api.simplesvg.com","https://api.unisvg.com"],fallBackAPI=[];for(;fallBackAPISources.length>0;)fallBackAPISources.length===1||Math.random()>.5?fallBackAPI.push(fallBackAPISources.shift()):fallBackAPI.push(fallBackAPISources.pop());configStorage[""]=createAPIConfig({resources:["https://api.iconify.design"].concat(fallBackAPI)});function addAPIProvider(d,m){const g=createAPIConfig(m);return g===null?!1:(configStorage[d]=g,!0)}function getAPIConfig(d){return configStorage[d]}const detectFetch=()=>{let d;try{if(d=fetch,typeof d=="function")return d}catch{}};let fetchModule=detectFetch();function calculateMaxLength(d,m){const g=getAPIConfig(d);if(!g)return 0;let w;if(!g.maxURL)w=0;else{let D=0;g.resources.forEach(q=>{D=Math.max(D,q.length)});const H=m+".json?icons=";w=g.maxURL-D-g.path.length-H.length}return w}function shouldAbort(d){return d===404}const prepare=(d,m,g)=>{const w=[],D=calculateMaxLength(d,m),H="icons";let q={type:H,provider:d,prefix:m,icons:[]},it=0;return g.forEach((ot,ft)=>{it+=ot.length+1,it>=D&&ft>0&&(w.push(q),q={type:H,provider:d,prefix:m,icons:[]},it=ot.length),q.icons.push(ot)}),w.push(q),w};function getPath(d){if(typeof d=="string"){const m=getAPIConfig(d);if(m)return m.path}return"/"}const send=(d,m,g)=>{if(!fetchModule){g("abort",424);return}let w=getPath(m.provider);switch(m.type){case"icons":{const H=m.prefix,it=m.icons.join(","),ot=new URLSearchParams({icons:it});w+=H+".json?"+ot.toString();break}case"custom":{const H=m.uri;w+=H.slice(0,1)==="/"?H.slice(1):H;break}default:g("abort",400);return}let D=503;fetchModule(d+w).then(H=>{const q=H.status;if(q!==200){setTimeout(()=>{g(shouldAbort(q)?"abort":"next",q)});return}return D=501,H.json()}).then(H=>{if(typeof H!="object"||H===null){setTimeout(()=>{H===404?g("abort",H):g("next",D)});return}setTimeout(()=>{g("success",H)})}).catch(()=>{g("next",D)})},fetchAPIModule={prepare,send};function sortIcons(d){const m={loaded:[],missing:[],pending:[]},g=Object.create(null);d.sort((D,H)=>D.provider!==H.provider?D.provider.localeCompare(H.provider):D.prefix!==H.prefix?D.prefix.localeCompare(H.prefix):D.name.localeCompare(H.name));let w={provider:"",prefix:"",name:""};return d.forEach(D=>{if(w.name===D.name&&w.prefix===D.prefix&&w.provider===D.provider)return;w=D;const H=D.provider,q=D.prefix,it=D.name,ot=g[H]||(g[H]=Object.create(null)),ft=ot[q]||(ot[q]=getStorage(H,q));let ut;it in ft.icons?ut=m.loaded:q===""||ft.missing.has(it)?ut=m.missing:ut=m.pending;const dt={provider:H,prefix:q,name:it};ut.push(dt)}),m}function removeCallback(d,m){d.forEach(g=>{const w=g.loaderCallbacks;w&&(g.loaderCallbacks=w.filter(D=>D.id!==m))})}function updateCallbacks(d){d.pendingCallbacksFlag||(d.pendingCallbacksFlag=!0,setTimeout(()=>{d.pendingCallbacksFlag=!1;const m=d.loaderCallbacks?d.loaderCallbacks.slice(0):[];if(!m.length)return;let g=!1;const w=d.provider,D=d.prefix;m.forEach(H=>{const q=H.icons,it=q.pending.length;q.pending=q.pending.filter(ot=>{if(ot.prefix!==D)return!0;const ft=ot.name;if(d.icons[ft])q.loaded.push({provider:w,prefix:D,name:ft});else if(d.missing.has(ft))q.missing.push({provider:w,prefix:D,name:ft});else return g=!0,!0;return!1}),q.pending.length!==it&&(g||removeCallback([d],H.id),H.callback(q.loaded.slice(0),q.missing.slice(0),q.pending.slice(0),H.abort))})}))}let idCounter=0;function storeCallback(d,m,g){const w=idCounter++,D=removeCallback.bind(null,g,w);if(!m.pending.length)return D;const H={id:w,icons:m,callback:d,abort:D};return g.forEach(q=>{(q.loaderCallbacks||(q.loaderCallbacks=[])).push(H)}),D}function listToIcons(d,m=!0,g=!1){const w=[];return d.forEach(D=>{const H=typeof D=="string"?stringToIcon(D,m,g):D;H&&w.push(H)}),w}var defaultConfig={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function sendQuery(d,m,g,w){const D=d.resources.length,H=d.random?Math.floor(Math.random()*D):d.index;let q;if(d.random){let re=d.resources.slice(0);for(q=[];re.length>1;){const Yt=Math.floor(Math.random()*re.length);q.push(re[Yt]),re=re.slice(0,Yt).concat(re.slice(Yt+1))}q=q.concat(re)}else q=d.resources.slice(H).concat(d.resources.slice(0,H));const it=Date.now();let ot="pending",ft=0,ut,dt=null,St=[],Tt=[];typeof w=="function"&&Tt.push(w);function Rt(){dt&&(clearTimeout(dt),dt=null)}function zt(){ot==="pending"&&(ot="aborted"),Rt(),St.forEach(re=>{re.status==="pending"&&(re.status="aborted")}),St=[]}function $t(re,Yt){Yt&&(Tt=[]),typeof re=="function"&&Tt.push(re)}function jt(){return{startTime:it,payload:m,status:ot,queriesSent:ft,queriesPending:St.length,subscribe:$t,abort:zt}}function Zt(){ot="failed",Tt.forEach(re=>{re(void 0,ut)})}function Ft(){St.forEach(re=>{re.status==="pending"&&(re.status="aborted")}),St=[]}function Dt(re,Yt,ne){const ee=Yt!=="success";switch(St=St.filter(ae=>ae!==re),ot){case"pending":break;case"failed":if(ee||!d.dataAfterTimeout)return;break;default:return}if(Yt==="abort"){ut=ne,Zt();return}if(ee){ut=ne,St.length||(q.length?Kt():Zt());return}if(Rt(),Ft(),!d.random){const ae=d.resources.indexOf(re.resource);ae!==-1&&ae!==d.index&&(d.index=ae)}ot="completed",Tt.forEach(ae=>{ae(ne)})}function Kt(){if(ot!=="pending")return;Rt();const re=q.shift();if(re===void 0){if(St.length){dt=setTimeout(()=>{Rt(),ot==="pending"&&(Ft(),Zt())},d.timeout);return}Zt();return}const Yt={status:"pending",resource:re,callback:(ne,ee)=>{Dt(Yt,ne,ee)}};St.push(Yt),ft++,dt=setTimeout(Kt,d.rotate),g(re,m,Yt.callback)}return setTimeout(Kt),jt}function initRedundancy(d){const m={...defaultConfig,...d};let g=[];function w(){g=g.filter(it=>it().status==="pending")}function D(it,ot,ft){const ut=sendQuery(m,it,ot,(dt,St)=>{w(),ft&&ft(dt,St)});return g.push(ut),ut}function H(it){return g.find(ot=>it(ot))||null}return{query:D,find:H,setIndex:it=>{m.index=it},getIndex:()=>m.index,cleanup:w}}function emptyCallback$1(){}const redundancyCache=Object.create(null);function getRedundancyCache(d){if(!redundancyCache[d]){const m=getAPIConfig(d);if(!m)return;const g=initRedundancy(m),w={config:m,redundancy:g};redundancyCache[d]=w}return redundancyCache[d]}function sendAPIQuery(d,m,g){let w,D;if(typeof d=="string"){const H=getAPIModule(d);if(!H)return g(void 0,424),emptyCallback$1;D=H.send;const q=getRedundancyCache(d);q&&(w=q.redundancy)}else{const H=createAPIConfig(d);if(H){w=initRedundancy(H);const q=d.resources?d.resources[0]:"",it=getAPIModule(q);it&&(D=it.send)}}return!w||!D?(g(void 0,424),emptyCallback$1):w.query(m,D,g)().abort}function emptyCallback(){}function loadedNewIcons(d){d.iconsLoaderFlag||(d.iconsLoaderFlag=!0,setTimeout(()=>{d.iconsLoaderFlag=!1,updateCallbacks(d)}))}function checkIconNamesForAPI(d){const m=[],g=[];return d.forEach(w=>{(w.match(matchIconName)?m:g).push(w)}),{valid:m,invalid:g}}function parseLoaderResponse(d,m,g){function w(){const D=d.pendingIcons;m.forEach(H=>{D&&D.delete(H),d.icons[H]||d.missing.add(H)})}if(g&&typeof g=="object")try{if(!addIconSet(d,g).length){w();return}}catch(D){console.error(D)}w(),loadedNewIcons(d)}function parsePossiblyAsyncResponse(d,m){d instanceof Promise?d.then(g=>{m(g)}).catch(()=>{m(null)}):m(d)}function loadNewIcons(d,m){d.iconsToLoad?d.iconsToLoad=d.iconsToLoad.concat(m).sort():d.iconsToLoad=m,d.iconsQueueFlag||(d.iconsQueueFlag=!0,setTimeout(()=>{d.iconsQueueFlag=!1;const{provider:g,prefix:w}=d,D=d.iconsToLoad;if(delete d.iconsToLoad,!D||!D.length)return;const H=d.loadIcon;if(d.loadIcons&&(D.length>1||!H)){parsePossiblyAsyncResponse(d.loadIcons(D,w,g),ut=>{parseLoaderResponse(d,D,ut)});return}if(H){D.forEach(ut=>{const dt=H(ut,w,g);parsePossiblyAsyncResponse(dt,St=>{const Tt=St?{prefix:w,icons:{[ut]:St}}:null;parseLoaderResponse(d,[ut],Tt)})});return}const{valid:q,invalid:it}=checkIconNamesForAPI(D);if(it.length&&parseLoaderResponse(d,it,null),!q.length)return;const ot=w.match(matchIconName)?getAPIModule(g):null;if(!ot){parseLoaderResponse(d,q,null);return}ot.prepare(g,w,q).forEach(ut=>{sendAPIQuery(g,ut,dt=>{parseLoaderResponse(d,ut.icons,dt)})})}))}const loadIcons=(d,m)=>{const g=listToIcons(d,!0,allowSimpleNames()),w=sortIcons(g);if(!w.pending.length){let ot=!0;return setTimeout(()=>{ot&&m(w.loaded,w.missing,w.pending,emptyCallback)}),()=>{ot=!1}}const D=Object.create(null),H=[];let q,it;return w.pending.forEach(ot=>{const{provider:ft,prefix:ut}=ot;if(ut===it&&ft===q)return;q=ft,it=ut,H.push(getStorage(ft,ut));const dt=D[ft]||(D[ft]=Object.create(null));dt[ut]||(dt[ut]=[])}),w.pending.forEach(ot=>{const{provider:ft,prefix:ut,name:dt}=ot,St=getStorage(ft,ut),Tt=St.pendingIcons||(St.pendingIcons=new Set);Tt.has(dt)||(Tt.add(dt),D[ft][ut].push(dt))}),H.forEach(ot=>{const ft=D[ot.provider][ot.prefix];ft.length&&loadNewIcons(ot,ft)}),storeCallback(m,w,H)};function mergeCustomisations(d,m){const g={...d};for(const w in m){const D=m[w],H=typeof D;w in defaultIconSizeCustomisations?(D===null||D&&(H==="string"||H==="number"))&&(g[w]=D):H===typeof g[w]&&(g[w]=w==="rotate"?D%4:D)}return g}const separator=/[\s,]+/;function flipFromString(d,m){m.split(separator).forEach(g=>{switch(g.trim()){case"horizontal":d.hFlip=!0;break;case"vertical":d.vFlip=!0;break}})}function rotateFromString(d,m=0){const g=d.replace(/^-?[0-9.]*/,"");function w(D){for(;D<0;)D+=4;return D%4}if(g===""){const D=parseInt(d);return isNaN(D)?0:w(D)}else if(g!==d){let D=0;switch(g){case"%":D=25;break;case"deg":D=90}if(D){let H=parseFloat(d.slice(0,d.length-g.length));return isNaN(H)?0:(H=H/D,H%1===0?w(H):0)}}return m}function iconToHTML(d,m){let g=d.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const w in m)g+=" "+w+'="'+m[w]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+g+">"+d+"</svg>"}function encodeSVGforURL(d){return d.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function svgToData(d){return"data:image/svg+xml,"+encodeSVGforURL(d)}function svgToURL(d){return'url("'+svgToData(d)+'")'}let policy;function createPolicy(){try{policy=window.trustedTypes.createPolicy("iconify",{createHTML:d=>d})}catch{policy=null}}function cleanUpInnerHTML(d){return policy===void 0&&createPolicy(),policy?policy.createHTML(d):d}const defaultExtendedIconCustomisations={...defaultIconCustomisations,inline:!1},svgDefaults={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},commonProps={display:"inline-block"},monotoneProps={backgroundColor:"currentColor"},coloredProps={backgroundColor:"transparent"},propsToAdd={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},propsToAddTo={WebkitMask:monotoneProps,mask:monotoneProps,background:coloredProps};for(const d in propsToAddTo){const m=propsToAddTo[d];for(const g in propsToAdd)m[d+g]=propsToAdd[g]}const inlineDefaults={...defaultExtendedIconCustomisations,inline:!0};function fixSize(d){return d+(d.match(/^[-0-9.]+$/)?"px":"")}const render=(d,m,g)=>{const w=m.inline?inlineDefaults:defaultExtendedIconCustomisations,D=mergeCustomisations(w,m),H=m.mode||"svg",q={},it=m.style||{},ot={...H==="svg"?svgDefaults:{}};if(g){const $t=stringToIcon(g,!1,!0);if($t){const jt=["iconify"],Zt=["provider","prefix"];for(const Ft of Zt)$t[Ft]&&jt.push("iconify--"+$t[Ft]);ot.className=jt.join(" ")}}for(let $t in m){const jt=m[$t];if(jt!==void 0)switch($t){case"icon":case"style":case"children":case"onLoad":case"mode":case"ssr":break;case"_ref":ot.ref=jt;break;case"className":ot[$t]=(ot[$t]?ot[$t]+" ":"")+jt;break;case"inline":case"hFlip":case"vFlip":D[$t]=jt===!0||jt==="true"||jt===1;break;case"flip":typeof jt=="string"&&flipFromString(D,jt);break;case"color":q.color=jt;break;case"rotate":typeof jt=="string"?D[$t]=rotateFromString(jt):typeof jt=="number"&&(D[$t]=jt);break;case"ariaHidden":case"aria-hidden":jt!==!0&&jt!=="true"&&delete ot["aria-hidden"];break;default:w[$t]===void 0&&(ot[$t]=jt)}}const ft=iconToSVG(d,D),ut=ft.attributes;if(D.inline&&(q.verticalAlign="-0.125em"),H==="svg"){ot.style={...q,...it},Object.assign(ot,ut);let $t=0,jt=m.id;return typeof jt=="string"&&(jt=jt.replace(/-/g,"_")),ot.dangerouslySetInnerHTML={__html:cleanUpInnerHTML(replaceIDs(ft.body,jt?()=>jt+"ID"+$t++:"iconifyReact"))},reactExports.createElement("svg",ot)}const{body:dt,width:St,height:Tt}=d,Rt=H==="mask"||(H==="bg"?!1:dt.indexOf("currentColor")!==-1),zt=iconToHTML(dt,{...ut,width:St+"",height:Tt+""});return ot.style={...q,"--svg":svgToURL(zt),width:fixSize(ut.width),height:fixSize(ut.height),...commonProps,...Rt?monotoneProps:coloredProps,...it},reactExports.createElement("span",ot)};allowSimpleNames(!0);setAPIModule("",fetchAPIModule);if(typeof document<"u"&&typeof window<"u"){const d=window;if(d.IconifyPreload!==void 0){const m=d.IconifyPreload,g="Invalid IconifyPreload syntax.";typeof m=="object"&&m!==null&&(m instanceof Array?m:[m]).forEach(w=>{try{(typeof w!="object"||w===null||w instanceof Array||typeof w.icons!="object"||typeof w.prefix!="string"||!addCollection(w))&&console.error(g)}catch{console.error(g)}})}if(d.IconifyProviders!==void 0){const m=d.IconifyProviders;if(typeof m=="object"&&m!==null)for(let g in m){const w="IconifyProviders["+g+"] is invalid.";try{const D=m[g];if(typeof D!="object"||!D||D.resources===void 0)continue;addAPIProvider(g,D)||console.error(w)}catch{console.error(w)}}}}function IconComponent(d){const[m,g]=reactExports.useState(!!d.ssr),[w,D]=reactExports.useState({});function H(Tt){if(Tt){const Rt=d.icon;if(typeof Rt=="object")return{name:"",data:Rt};const zt=getIconData(Rt);if(zt)return{name:Rt,data:zt}}return{name:""}}const[q,it]=reactExports.useState(H(!!d.ssr));function ot(){const Tt=w.callback;Tt&&(Tt(),D({}))}function ft(Tt){if(JSON.stringify(q)!==JSON.stringify(Tt))return ot(),it(Tt),!0}function ut(){var Tt;const Rt=d.icon;if(typeof Rt=="object"){ft({name:"",data:Rt});return}const zt=getIconData(Rt);if(ft({name:Rt,data:zt}))if(zt===void 0){const $t=loadIcons([Rt],ut);D({callback:$t})}else zt&&((Tt=d.onLoad)===null||Tt===void 0||Tt.call(d,Rt))}reactExports.useEffect(()=>(g(!0),ot),[]),reactExports.useEffect(()=>{m&&ut()},[d.icon,m]);const{name:dt,data:St}=q;return St?render({...defaultIconProps,...St},d,dt):d.children?d.children:reactExports.createElement("span",{})}const Icon=reactExports.forwardRef((d,m)=>IconComponent({...d,_ref:m}));reactExports.forwardRef((d,m)=>IconComponent({inline:!0,...d,_ref:m}));const App=()=>{const[d,m]=reactExports.useState(null),[g,w]=reactExports.useState(null),[D,H]=reactExports.useState(0),[q,it]=reactExports.useState(D),ot=reactExports.useRef(null),ft=(ut,dt)=>{dt?y.error(ut):y.success(ut)};return reactExports.useEffect(()=>(window.addEventListener("paste",ut=>handlePaste(ut,m)),()=>{window.removeEventListener("paste",ut=>handlePaste(ut,m))}),[]),reactExports.useEffect(()=>{d&&processImage(d,D,w,ft).then()},[d,D]),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",padding:"20px",fontFamily:"Arial, sans-serif"},children:[jsxRuntimeExports.jsx("h1",{children:"Remove (White) Pixels"}),jsxRuntimeExports.jsxs("div",{className:"controls",children:[jsxRuntimeExports.jsxs("div",{className:"slider-container",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"tolerance",children:["Tolerance: ",q]}),jsxRuntimeExports.jsx("input",{type:"range",id:"tolerance",min:"0",max:"255",value:q,onChange:ut=>it(Number(ut.target.value)),onMouseUp:()=>H(q),onTouchEnd:()=>H(q)})]}),jsxRuntimeExports.jsxs("button",{className:"refresh-button","aria-label":"Clear",onClick:()=>{m(null),w(null),it(0)},children:[jsxRuntimeExports.jsx(Icon,{icon:"basil:refresh-outline",width:"24",height:"24",style:{fontSize:"1.5em"}}),jsxRuntimeExports.jsx("span",{children:"Clear"})]})]}),g?jsxRuntimeExports.jsx("img",{src:g,alt:"Processed"}):jsxRuntimeExports.jsx("input",{type:"text",className:"input-placeholder",onClick:()=>handleUploadClick(ot),onDragOver:ut=>ut.preventDefault(),placeholder:"Click here or paste an image to get started"}),jsxRuntimeExports.jsx("input",{type:"file",ref:ot,accept:"image/*",onChange:ut=>handleFileChange(ut,m)}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(Lt,{position:"top-center",hideProgressBar:!0,closeOnClick:!0,className:"toast-container"})]})},container=document.getElementById("root"),root=clientExports.createRoot(container);root.render(jsxRuntimeExports.jsx(App,{}))});export default Wd();
