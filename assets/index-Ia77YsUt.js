var Zd=Object.defineProperty;var Gd=(d,m,g)=>m in d?Zd(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g;var Hd=(d,m)=>()=>(m||d((m={exports:{}}).exports,m),m.exports);var Er=(d,m,g)=>Gd(d,typeof m!="symbol"?m+"":m,g);var Wd=Hd((exports,module)=>{(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const j of document.querySelectorAll('link[rel="modulepreload"]'))w(j);new MutationObserver(j=>{for(const H of j)if(H.type==="childList")for(const et of H.addedNodes)et.tagName==="LINK"&&et.rel==="modulepreload"&&w(et)}).observe(document,{childList:!0,subtree:!0});function g(j){const H={};return j.integrity&&(H.integrity=j.integrity),j.referrerPolicy&&(H.referrerPolicy=j.referrerPolicy),j.crossOrigin==="use-credentials"?H.credentials="include":j.crossOrigin==="anonymous"?H.credentials="omit":H.credentials="same-origin",H}function w(j){if(j.ep)return;j.ep=!0;const H=g(j);fetch(j.href,H)}})();function getDefaultExportFromCjs$1(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var d=Symbol.for("react.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),et=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),ut=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),dt=Symbol.iterator;function St(ue){return ue===null||typeof ue!="object"?null:(ue=dt&&ue[dt]||ue["@@iterator"],typeof ue=="function"?ue:null)}var Tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rt=Object.assign,zt={};function $t(ue,xe,Be){this.props=ue,this.context=xe,this.refs=zt,this.updater=Be||Tt}$t.prototype.isReactComponent={},$t.prototype.setState=function(ue,xe){if(typeof ue!="object"&&typeof ue!="function"&&ue!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ue,xe,"setState")},$t.prototype.forceUpdate=function(ue){this.updater.enqueueForceUpdate(this,ue,"forceUpdate")};function Ht(){}Ht.prototype=$t.prototype;function jt(ue,xe,Be){this.props=ue,this.context=xe,this.refs=zt,this.updater=Be||Tt}var Ft=jt.prototype=new Ht;Ft.constructor=jt,Rt(Ft,$t.prototype),Ft.isPureReactComponent=!0;var Dt=Array.isArray,Yt=Object.prototype.hasOwnProperty,ne={current:null},Kt={key:!0,ref:!0,__self:!0,__source:!0};function re(ue,xe,Be){var Pe,Ee={},Se=null,Ne=null;if(xe!=null)for(Pe in xe.ref!==void 0&&(Ne=xe.ref),xe.key!==void 0&&(Se=""+xe.key),xe)Yt.call(xe,Pe)&&!Kt.hasOwnProperty(Pe)&&(Ee[Pe]=xe[Pe]);var Fe=arguments.length-2;if(Fe===1)Ee.children=Be;else if(1<Fe){for(var Oe=Array(Fe),Ce=0;Ce<Fe;Ce++)Oe[Ce]=arguments[Ce+2];Ee.children=Oe}if(ue&&ue.defaultProps)for(Pe in Fe=ue.defaultProps,Fe)Ee[Pe]===void 0&&(Ee[Pe]=Fe[Pe]);return{$$typeof:d,type:ue,key:Se,ref:Ne,props:Ee,_owner:ne.current}}function ee(ue,xe){return{$$typeof:d,type:ue.type,key:xe,ref:ue.ref,props:ue.props,_owner:ue._owner}}function oe(ue){return typeof ue=="object"&&ue!==null&&ue.$$typeof===d}function Ut(ue){var xe={"=":"=0",":":"=2"};return"$"+ue.replace(/[=:]/g,function(Be){return xe[Be]})}var ie=/\/+/g;function ge(ue,xe){return typeof ue=="object"&&ue!==null&&ue.key!=null?Ut(""+ue.key):xe.toString(36)}function ce(ue,xe,Be,Pe,Ee){var Se=typeof ue;(Se==="undefined"||Se==="boolean")&&(ue=null);var Ne=!1;if(ue===null)Ne=!0;else switch(Se){case"string":case"number":Ne=!0;break;case"object":switch(ue.$$typeof){case d:case m:Ne=!0}}if(Ne)return Ne=ue,Ee=Ee(Ne),ue=Pe===""?"."+ge(Ne,0):Pe,Dt(Ee)?(Be="",ue!=null&&(Be=ue.replace(ie,"$&/")+"/"),ce(Ee,xe,Be,"",function(Ce){return Ce})):Ee!=null&&(oe(Ee)&&(Ee=ee(Ee,Be+(!Ee.key||Ne&&Ne.key===Ee.key?"":(""+Ee.key).replace(ie,"$&/")+"/")+ue)),xe.push(Ee)),1;if(Ne=0,Pe=Pe===""?".":Pe+":",Dt(ue))for(var Fe=0;Fe<ue.length;Fe++){Se=ue[Fe];var Oe=Pe+ge(Se,Fe);Ne+=ce(Se,xe,Be,Oe,Ee)}else if(Oe=St(ue),typeof Oe=="function")for(ue=Oe.call(ue),Fe=0;!(Se=ue.next()).done;)Se=Se.value,Oe=Pe+ge(Se,Fe++),Ne+=ce(Se,xe,Be,Oe,Ee);else if(Se==="object")throw xe=String(ue),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(ue).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.");return Ne}function le(ue,xe,Be){if(ue==null)return ue;var Pe=[],Ee=0;return ce(ue,Pe,"","",function(Se){return xe.call(Be,Se,Ee++)}),Pe}function de(ue){if(ue._status===-1){var xe=ue._result;xe=xe(),xe.then(function(Be){(ue._status===0||ue._status===-1)&&(ue._status=1,ue._result=Be)},function(Be){(ue._status===0||ue._status===-1)&&(ue._status=2,ue._result=Be)}),ue._status===-1&&(ue._status=0,ue._result=xe)}if(ue._status===1)return ue._result.default;throw ue._result}var Ae={current:null},ve={transition:null},ye={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ve,ReactCurrentOwner:ne};function Me(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:le,forEach:function(ue,xe,Be){le(ue,function(){xe.apply(this,arguments)},Be)},count:function(ue){var xe=0;return le(ue,function(){xe++}),xe},toArray:function(ue){return le(ue,function(xe){return xe})||[]},only:function(ue){if(!oe(ue))throw Error("React.Children.only expected to receive a single React element child.");return ue}},react_production_min.Component=$t,react_production_min.Fragment=g,react_production_min.Profiler=j,react_production_min.PureComponent=jt,react_production_min.StrictMode=w,react_production_min.Suspense=ot,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,react_production_min.act=Me,react_production_min.cloneElement=function(ue,xe,Be){if(ue==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ue+".");var Pe=Rt({},ue.props),Ee=ue.key,Se=ue.ref,Ne=ue._owner;if(xe!=null){if(xe.ref!==void 0&&(Se=xe.ref,Ne=ne.current),xe.key!==void 0&&(Ee=""+xe.key),ue.type&&ue.type.defaultProps)var Fe=ue.type.defaultProps;for(Oe in xe)Yt.call(xe,Oe)&&!Kt.hasOwnProperty(Oe)&&(Pe[Oe]=xe[Oe]===void 0&&Fe!==void 0?Fe[Oe]:xe[Oe])}var Oe=arguments.length-2;if(Oe===1)Pe.children=Be;else if(1<Oe){Fe=Array(Oe);for(var Ce=0;Ce<Oe;Ce++)Fe[Ce]=arguments[Ce+2];Pe.children=Fe}return{$$typeof:d,type:ue.type,key:Ee,ref:Se,props:Pe,_owner:Ne}},react_production_min.createContext=function(ue){return ue={$$typeof:et,_currentValue:ue,_currentValue2:ue,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ue.Provider={$$typeof:H,_context:ue},ue.Consumer=ue},react_production_min.createElement=re,react_production_min.createFactory=function(ue){var xe=re.bind(null,ue);return xe.type=ue,xe},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(ue){return{$$typeof:it,render:ue}},react_production_min.isValidElement=oe,react_production_min.lazy=function(ue){return{$$typeof:ft,_payload:{_status:-1,_result:ue},_init:de}},react_production_min.memo=function(ue,xe){return{$$typeof:ut,type:ue,compare:xe===void 0?null:xe}},react_production_min.startTransition=function(ue){var xe=ve.transition;ve.transition={};try{ue()}finally{ve.transition=xe}},react_production_min.unstable_act=Me,react_production_min.useCallback=function(ue,xe){return Ae.current.useCallback(ue,xe)},react_production_min.useContext=function(ue){return Ae.current.useContext(ue)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(ue){return Ae.current.useDeferredValue(ue)},react_production_min.useEffect=function(ue,xe){return Ae.current.useEffect(ue,xe)},react_production_min.useId=function(){return Ae.current.useId()},react_production_min.useImperativeHandle=function(ue,xe,Be){return Ae.current.useImperativeHandle(ue,xe,Be)},react_production_min.useInsertionEffect=function(ue,xe){return Ae.current.useInsertionEffect(ue,xe)},react_production_min.useLayoutEffect=function(ue,xe){return Ae.current.useLayoutEffect(ue,xe)},react_production_min.useMemo=function(ue,xe){return Ae.current.useMemo(ue,xe)},react_production_min.useReducer=function(ue,xe,Be){return Ae.current.useReducer(ue,xe,Be)},react_production_min.useRef=function(ue){return Ae.current.useRef(ue)},react_production_min.useState=function(ue){return Ae.current.useState(ue)},react_production_min.useSyncExternalStore=function(ue,xe,Be){return Ae.current.useSyncExternalStore(ue,xe,Be)},react_production_min.useTransition=function(){return Ae.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var d=requireReact(),m=Symbol.for("react.element"),g=Symbol.for("react.fragment"),w=Object.prototype.hasOwnProperty,j=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H={key:!0,ref:!0,__self:!0,__source:!0};function et(it,ot,ut){var ft,dt={},St=null,Tt=null;ut!==void 0&&(St=""+ut),ot.key!==void 0&&(St=""+ot.key),ot.ref!==void 0&&(Tt=ot.ref);for(ft in ot)w.call(ot,ft)&&!H.hasOwnProperty(ft)&&(dt[ft]=ot[ft]);if(it&&it.defaultProps)for(ft in ot=it.defaultProps,ot)dt[ft]===void 0&&(dt[ft]=ot[ft]);return{$$typeof:m,type:it,key:St,ref:Tt,props:dt,_owner:j.current}}return reactJsxRuntime_production_min.Fragment=g,reactJsxRuntime_production_min.jsx=et,reactJsxRuntime_production_min.jsxs=et,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(d){function m(ve,ye){var Me=ve.length;ve.push(ye);t:for(;0<Me;){var ue=Me-1>>>1,xe=ve[ue];if(0<j(xe,ye))ve[ue]=ye,ve[Me]=xe,Me=ue;else break t}}function g(ve){return ve.length===0?null:ve[0]}function w(ve){if(ve.length===0)return null;var ye=ve[0],Me=ve.pop();if(Me!==ye){ve[0]=Me;t:for(var ue=0,xe=ve.length,Be=xe>>>1;ue<Be;){var Pe=2*(ue+1)-1,Ee=ve[Pe],Se=Pe+1,Ne=ve[Se];if(0>j(Ee,Me))Se<xe&&0>j(Ne,Ee)?(ve[ue]=Ne,ve[Se]=Me,ue=Se):(ve[ue]=Ee,ve[Pe]=Me,ue=Pe);else if(Se<xe&&0>j(Ne,Me))ve[ue]=Ne,ve[Se]=Me,ue=Se;else break t}}return ye}function j(ve,ye){var Me=ve.sortIndex-ye.sortIndex;return Me!==0?Me:ve.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var H=performance;d.unstable_now=function(){return H.now()}}else{var et=Date,it=et.now();d.unstable_now=function(){return et.now()-it}}var ot=[],ut=[],ft=1,dt=null,St=3,Tt=!1,Rt=!1,zt=!1,$t=typeof setTimeout=="function"?setTimeout:null,Ht=typeof clearTimeout=="function"?clearTimeout:null,jt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ft(ve){for(var ye=g(ut);ye!==null;){if(ye.callback===null)w(ut);else if(ye.startTime<=ve)w(ut),ye.sortIndex=ye.expirationTime,m(ot,ye);else break;ye=g(ut)}}function Dt(ve){if(zt=!1,Ft(ve),!Rt)if(g(ot)!==null)Rt=!0,de(Yt);else{var ye=g(ut);ye!==null&&Ae(Dt,ye.startTime-ve)}}function Yt(ve,ye){Rt=!1,zt&&(zt=!1,Ht(re),re=-1),Tt=!0;var Me=St;try{for(Ft(ye),dt=g(ot);dt!==null&&(!(dt.expirationTime>ye)||ve&&!Ut());){var ue=dt.callback;if(typeof ue=="function"){dt.callback=null,St=dt.priorityLevel;var xe=ue(dt.expirationTime<=ye);ye=d.unstable_now(),typeof xe=="function"?dt.callback=xe:dt===g(ot)&&w(ot),Ft(ye)}else w(ot);dt=g(ot)}if(dt!==null)var Be=!0;else{var Pe=g(ut);Pe!==null&&Ae(Dt,Pe.startTime-ye),Be=!1}return Be}finally{dt=null,St=Me,Tt=!1}}var ne=!1,Kt=null,re=-1,ee=5,oe=-1;function Ut(){return!(d.unstable_now()-oe<ee)}function ie(){if(Kt!==null){var ve=d.unstable_now();oe=ve;var ye=!0;try{ye=Kt(!0,ve)}finally{ye?ge():(ne=!1,Kt=null)}}else ne=!1}var ge;if(typeof jt=="function")ge=function(){jt(ie)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,le=ce.port2;ce.port1.onmessage=ie,ge=function(){le.postMessage(null)}}else ge=function(){$t(ie,0)};function de(ve){Kt=ve,ne||(ne=!0,ge())}function Ae(ve,ye){re=$t(function(){ve(d.unstable_now())},ye)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(ve){ve.callback=null},d.unstable_continueExecution=function(){Rt||Tt||(Rt=!0,de(Yt))},d.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<ve?Math.floor(1e3/ve):5},d.unstable_getCurrentPriorityLevel=function(){return St},d.unstable_getFirstCallbackNode=function(){return g(ot)},d.unstable_next=function(ve){switch(St){case 1:case 2:case 3:var ye=3;break;default:ye=St}var Me=St;St=ye;try{return ve()}finally{St=Me}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(ve,ye){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var Me=St;St=ve;try{return ye()}finally{St=Me}},d.unstable_scheduleCallback=function(ve,ye,Me){var ue=d.unstable_now();switch(typeof Me=="object"&&Me!==null?(Me=Me.delay,Me=typeof Me=="number"&&0<Me?ue+Me:ue):Me=ue,ve){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Me+xe,ve={id:ft++,callback:ye,priorityLevel:ve,startTime:Me,expirationTime:xe,sortIndex:-1},Me>ue?(ve.sortIndex=Me,m(ut,ve),g(ot)===null&&ve===g(ut)&&(zt?(Ht(re),re=-1):zt=!0,Ae(Dt,Me-ue))):(ve.sortIndex=xe,m(ot,ve),Rt||Tt||(Rt=!0,de(Yt))),ve},d.unstable_shouldYield=Ut,d.unstable_wrapCallback=function(ve){var ye=St;return function(){var Me=St;St=ye;try{return ve.apply(this,arguments)}finally{St=Me}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var d=requireReact(),m=requireScheduler();function g(D){for(var q="https://reactjs.org/docs/error-decoder.html?invariant="+D,kt=1;kt<arguments.length;kt++)q+="&args[]="+encodeURIComponent(arguments[kt]);return"Minified React error #"+D+"; visit "+q+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w=new Set,j={};function H(D,q){et(D,q),et(D+"Capture",q)}function et(D,q){for(j[D]=q,D=0;D<q.length;D++)w.add(q[D])}var it=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ot=Object.prototype.hasOwnProperty,ut=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ft={},dt={};function St(D){return ot.call(dt,D)?!0:ot.call(ft,D)?!1:ut.test(D)?dt[D]=!0:(ft[D]=!0,!1)}function Tt(D,q,kt,Bt){if(kt!==null&&kt.type===0)return!1;switch(typeof q){case"function":case"symbol":return!0;case"boolean":return Bt?!1:kt!==null?!kt.acceptsBooleans:(D=D.toLowerCase().slice(0,5),D!=="data-"&&D!=="aria-");default:return!1}}function Rt(D,q,kt,Bt){if(q===null||typeof q>"u"||Tt(D,q,kt,Bt))return!0;if(Bt)return!1;if(kt!==null)switch(kt.type){case 3:return!q;case 4:return q===!1;case 5:return isNaN(q);case 6:return isNaN(q)||1>q}return!1}function zt(D,q,kt,Bt,te,fe,Ie){this.acceptsBooleans=q===2||q===3||q===4,this.attributeName=Bt,this.attributeNamespace=te,this.mustUseProperty=kt,this.propertyName=D,this.type=q,this.sanitizeURL=fe,this.removeEmptyString=Ie}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(D){$t[D]=new zt(D,0,!1,D,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(D){var q=D[0];$t[q]=new zt(q,1,!1,D[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(D){$t[D]=new zt(D,2,!1,D.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(D){$t[D]=new zt(D,2,!1,D,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(D){$t[D]=new zt(D,3,!1,D.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(D){$t[D]=new zt(D,3,!0,D,null,!1,!1)}),["capture","download"].forEach(function(D){$t[D]=new zt(D,4,!1,D,null,!1,!1)}),["cols","rows","size","span"].forEach(function(D){$t[D]=new zt(D,6,!1,D,null,!1,!1)}),["rowSpan","start"].forEach(function(D){$t[D]=new zt(D,5,!1,D.toLowerCase(),null,!1,!1)});var Ht=/[\-:]([a-z])/g;function jt(D){return D[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(D){var q=D.replace(Ht,jt);$t[q]=new zt(q,1,!1,D,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(D){var q=D.replace(Ht,jt);$t[q]=new zt(q,1,!1,D,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(D){var q=D.replace(Ht,jt);$t[q]=new zt(q,1,!1,D,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(D){$t[D]=new zt(D,1,!1,D.toLowerCase(),null,!1,!1)}),$t.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(D){$t[D]=new zt(D,1,!1,D.toLowerCase(),null,!0,!0)});function Ft(D,q,kt,Bt){var te=$t.hasOwnProperty(q)?$t[q]:null;(te!==null?te.type!==0:Bt||!(2<q.length)||q[0]!=="o"&&q[0]!=="O"||q[1]!=="n"&&q[1]!=="N")&&(Rt(q,kt,te,Bt)&&(kt=null),Bt||te===null?St(q)&&(kt===null?D.removeAttribute(q):D.setAttribute(q,""+kt)):te.mustUseProperty?D[te.propertyName]=kt===null?te.type===3?!1:"":kt:(q=te.attributeName,Bt=te.attributeNamespace,kt===null?D.removeAttribute(q):(te=te.type,kt=te===3||te===4&&kt===!0?"":""+kt,Bt?D.setAttributeNS(Bt,q,kt):D.setAttribute(q,kt))))}var Dt=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yt=Symbol.for("react.element"),ne=Symbol.for("react.portal"),Kt=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),Ut=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),ve=Symbol.iterator;function ye(D){return D===null||typeof D!="object"?null:(D=ve&&D[ve]||D["@@iterator"],typeof D=="function"?D:null)}var Me=Object.assign,ue;function xe(D){if(ue===void 0)try{throw Error()}catch(kt){var q=kt.stack.trim().match(/\n( *(at )?)/);ue=q&&q[1]||""}return`
`+ue+D}var Be=!1;function Pe(D,q){if(!D||Be)return"";Be=!0;var kt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(q)if(q=function(){throw Error()},Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(Je){var Bt=Je}Reflect.construct(D,[],q)}else{try{q.call()}catch(Je){Bt=Je}D.call(q.prototype)}else{try{throw Error()}catch(Je){Bt=Je}D()}}catch(Je){if(Je&&Bt&&typeof Je.stack=="string"){for(var te=Je.stack.split(`
`),fe=Bt.stack.split(`
`),Ie=te.length-1,Ue=fe.length-1;1<=Ie&&0<=Ue&&te[Ie]!==fe[Ue];)Ue--;for(;1<=Ie&&0<=Ue;Ie--,Ue--)if(te[Ie]!==fe[Ue]){if(Ie!==1||Ue!==1)do if(Ie--,Ue--,0>Ue||te[Ie]!==fe[Ue]){var Ge=`
`+te[Ie].replace(" at new "," at ");return D.displayName&&Ge.includes("<anonymous>")&&(Ge=Ge.replace("<anonymous>",D.displayName)),Ge}while(1<=Ie&&0<=Ue);break}}}finally{Be=!1,Error.prepareStackTrace=kt}return(D=D?D.displayName||D.name:"")?xe(D):""}function Ee(D){switch(D.tag){case 5:return xe(D.type);case 16:return xe("Lazy");case 13:return xe("Suspense");case 19:return xe("SuspenseList");case 0:case 2:case 15:return D=Pe(D.type,!1),D;case 11:return D=Pe(D.type.render,!1),D;case 1:return D=Pe(D.type,!0),D;default:return""}}function Se(D){if(D==null)return null;if(typeof D=="function")return D.displayName||D.name||null;if(typeof D=="string")return D;switch(D){case Kt:return"Fragment";case ne:return"Portal";case ee:return"Profiler";case re:return"StrictMode";case ge:return"Suspense";case ce:return"SuspenseList"}if(typeof D=="object")switch(D.$$typeof){case Ut:return(D.displayName||"Context")+".Consumer";case oe:return(D._context.displayName||"Context")+".Provider";case ie:var q=D.render;return D=D.displayName,D||(D=q.displayName||q.name||"",D=D!==""?"ForwardRef("+D+")":"ForwardRef"),D;case le:return q=D.displayName||null,q!==null?q:Se(D.type)||"Memo";case de:q=D._payload,D=D._init;try{return Se(D(q))}catch{}}return null}function Ne(D){var q=D.type;switch(D.tag){case 24:return"Cache";case 9:return(q.displayName||"Context")+".Consumer";case 10:return(q._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return D=q.render,D=D.displayName||D.name||"",q.displayName||(D!==""?"ForwardRef("+D+")":"ForwardRef");case 7:return"Fragment";case 5:return q;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(q);case 8:return q===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof q=="function")return q.displayName||q.name||null;if(typeof q=="string")return q}return null}function Fe(D){switch(typeof D){case"boolean":case"number":case"string":case"undefined":return D;case"object":return D;default:return""}}function Oe(D){var q=D.type;return(D=D.nodeName)&&D.toLowerCase()==="input"&&(q==="checkbox"||q==="radio")}function Ce(D){var q=Oe(D)?"checked":"value",kt=Object.getOwnPropertyDescriptor(D.constructor.prototype,q),Bt=""+D[q];if(!D.hasOwnProperty(q)&&typeof kt<"u"&&typeof kt.get=="function"&&typeof kt.set=="function"){var te=kt.get,fe=kt.set;return Object.defineProperty(D,q,{configurable:!0,get:function(){return te.call(this)},set:function(Ie){Bt=""+Ie,fe.call(this,Ie)}}),Object.defineProperty(D,q,{enumerable:kt.enumerable}),{getValue:function(){return Bt},setValue:function(Ie){Bt=""+Ie},stopTracking:function(){D._valueTracker=null,delete D[q]}}}}function Jt(D){D._valueTracker||(D._valueTracker=Ce(D))}function Te(D){if(!D)return!1;var q=D._valueTracker;if(!q)return!0;var kt=q.getValue(),Bt="";return D&&(Bt=Oe(D)?D.checked?"true":"false":D.value),D=Bt,D!==kt?(q.setValue(D),!0):!1}function he(D){if(D=D||(typeof document<"u"?document:void 0),typeof D>"u")return null;try{return D.activeElement||D.body}catch{return D.body}}function me(D,q){var kt=q.checked;return Me({},q,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:kt??D._wrapperState.initialChecked})}function pe(D,q){var kt=q.defaultValue==null?"":q.defaultValue,Bt=q.checked!=null?q.checked:q.defaultChecked;kt=Fe(q.value!=null?q.value:kt),D._wrapperState={initialChecked:Bt,initialValue:kt,controlled:q.type==="checkbox"||q.type==="radio"?q.checked!=null:q.value!=null}}function we(D,q){q=q.checked,q!=null&&Ft(D,"checked",q,!1)}function Re(D,q){we(D,q);var kt=Fe(q.value),Bt=q.type;if(kt!=null)Bt==="number"?(kt===0&&D.value===""||D.value!=kt)&&(D.value=""+kt):D.value!==""+kt&&(D.value=""+kt);else if(Bt==="submit"||Bt==="reset"){D.removeAttribute("value");return}q.hasOwnProperty("value")?ae(D,q.type,kt):q.hasOwnProperty("defaultValue")&&ae(D,q.type,Fe(q.defaultValue)),q.checked==null&&q.defaultChecked!=null&&(D.defaultChecked=!!q.defaultChecked)}function Zt(D,q,kt){if(q.hasOwnProperty("value")||q.hasOwnProperty("defaultValue")){var Bt=q.type;if(!(Bt!=="submit"&&Bt!=="reset"||q.value!==void 0&&q.value!==null))return;q=""+D._wrapperState.initialValue,kt||q===D.value||(D.value=q),D.defaultValue=q}kt=D.name,kt!==""&&(D.name=""),D.defaultChecked=!!D._wrapperState.initialChecked,kt!==""&&(D.name=kt)}function ae(D,q,kt){(q!=="number"||he(D.ownerDocument)!==D)&&(kt==null?D.defaultValue=""+D._wrapperState.initialValue:D.defaultValue!==""+kt&&(D.defaultValue=""+kt))}var _e=Array.isArray;function be(D,q,kt,Bt){if(D=D.options,q){q={};for(var te=0;te<kt.length;te++)q["$"+kt[te]]=!0;for(kt=0;kt<D.length;kt++)te=q.hasOwnProperty("$"+D[kt].value),D[kt].selected!==te&&(D[kt].selected=te),te&&Bt&&(D[kt].defaultSelected=!0)}else{for(kt=""+Fe(kt),q=null,te=0;te<D.length;te++){if(D[te].value===kt){D[te].selected=!0,Bt&&(D[te].defaultSelected=!0);return}q!==null||D[te].disabled||(q=D[te])}q!==null&&(q.selected=!0)}}function De(D,q){if(q.dangerouslySetInnerHTML!=null)throw Error(g(91));return Me({},q,{value:void 0,defaultValue:void 0,children:""+D._wrapperState.initialValue})}function je(D,q){var kt=q.value;if(kt==null){if(kt=q.children,q=q.defaultValue,kt!=null){if(q!=null)throw Error(g(92));if(_e(kt)){if(1<kt.length)throw Error(g(93));kt=kt[0]}q=kt}q==null&&(q=""),kt=q}D._wrapperState={initialValue:Fe(kt)}}function er(D,q){var kt=Fe(q.value),Bt=Fe(q.defaultValue);kt!=null&&(kt=""+kt,kt!==D.value&&(D.value=kt),q.defaultValue==null&&D.defaultValue!==kt&&(D.defaultValue=kt)),Bt!=null&&(D.defaultValue=""+Bt)}function ir(D){var q=D.textContent;q===D._wrapperState.initialValue&&q!==""&&q!==null&&(D.value=q)}function Xe(D){switch(D){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ar(D,q){return D==null||D==="http://www.w3.org/1999/xhtml"?Xe(q):D==="http://www.w3.org/2000/svg"&&q==="foreignObject"?"http://www.w3.org/1999/xhtml":D}var rr,_r=function(D){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(q,kt,Bt,te){MSApp.execUnsafeLocalFunction(function(){return D(q,kt,Bt,te)})}:D}(function(D,q){if(D.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in D)D.innerHTML=q;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+q.valueOf().toString()+"</svg>",q=rr.firstChild;D.firstChild;)D.removeChild(D.firstChild);for(;q.firstChild;)D.appendChild(q.firstChild)}});function dr(D,q){if(q){var kt=D.firstChild;if(kt&&kt===D.lastChild&&kt.nodeType===3){kt.nodeValue=q;return}}D.textContent=q}var hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kr=["Webkit","ms","Moz","O"];Object.keys(hr).forEach(function(D){kr.forEach(function(q){q=q+D.charAt(0).toUpperCase()+D.substring(1),hr[q]=hr[D]})});function cr(D,q,kt){return q==null||typeof q=="boolean"||q===""?"":kt||typeof q!="number"||q===0||hr.hasOwnProperty(D)&&hr[D]?(""+q).trim():q+"px"}function ze(D,q){D=D.style;for(var kt in q)if(q.hasOwnProperty(kt)){var Bt=kt.indexOf("--")===0,te=cr(kt,q[kt],Bt);kt==="float"&&(kt="cssFloat"),Bt?D.setProperty(kt,te):D[kt]=te}}var nr=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Le(D,q){if(q){if(nr[D]&&(q.children!=null||q.dangerouslySetInnerHTML!=null))throw Error(g(137,D));if(q.dangerouslySetInnerHTML!=null){if(q.children!=null)throw Error(g(60));if(typeof q.dangerouslySetInnerHTML!="object"||!("__html"in q.dangerouslySetInnerHTML))throw Error(g(61))}if(q.style!=null&&typeof q.style!="object")throw Error(g(62))}}function Qe(D,q){if(D.indexOf("-")===-1)return typeof q.is=="string";switch(D){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function tr(D){return D=D.target||D.srcElement||window,D.correspondingUseElement&&(D=D.correspondingUseElement),D.nodeType===3?D.parentNode:D}var br=null,se=null,Ve=null;function Ze(D){if(D=ya(D)){if(typeof br!="function")throw Error(g(280));var q=D.stateNode;q&&(q=oo(q),br(D.stateNode,D.type,q))}}function $e(D){se?Ve?Ve.push(D):Ve=[D]:se=D}function We(){if(se){var D=se,q=Ve;if(Ve=se=null,Ze(D),q)for(D=0;D<q.length;D++)Ze(q[D])}}function qe(D,q){return D(q)}function gr(){}var fr=!1;function pr(D,q,kt){if(fr)return D(q,kt);fr=!0;try{return qe(D,q,kt)}finally{fr=!1,(se!==null||Ve!==null)&&(gr(),We())}}function Ir(D,q){var kt=D.stateNode;if(kt===null)return null;var Bt=oo(kt);if(Bt===null)return null;kt=Bt[q];t:switch(q){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Bt=!Bt.disabled)||(D=D.type,Bt=!(D==="button"||D==="input"||D==="select"||D==="textarea")),D=!Bt;break t;default:D=!1}if(D)return null;if(kt&&typeof kt!="function")throw Error(g(231,q,typeof kt));return kt}var Xr=!1;if(it)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{Xr=!1}function Nr(D,q,kt,Bt,te,fe,Ie,Ue,Ge){var Je=Array.prototype.slice.call(arguments,3);try{q.apply(kt,Je)}catch(sr){this.onError(sr)}}var Br=!1,$r=null,xn=!1,An=null,Fr={onError:function(D){Br=!0,$r=D}};function rn(D,q,kt,Bt,te,fe,Ie,Ue,Ge){Br=!1,$r=null,Nr.apply(Fr,arguments)}function gn(D,q,kt,Bt,te,fe,Ie,Ue,Ge){if(rn.apply(this,arguments),Br){if(Br){var Je=$r;Br=!1,$r=null}else throw Error(g(198));xn||(xn=!0,An=Je)}}function Zr(D){var q=D,kt=D;if(D.alternate)for(;q.return;)q=q.return;else{D=q;do q=D,q.flags&4098&&(kt=q.return),D=q.return;while(D)}return q.tag===3?kt:null}function Wr(D){if(D.tag===13){var q=D.memoizedState;if(q===null&&(D=D.alternate,D!==null&&(q=D.memoizedState)),q!==null)return q.dehydrated}return null}function Lr(D){if(Zr(D)!==D)throw Error(g(188))}function Yn(D){var q=D.alternate;if(!q){if(q=Zr(D),q===null)throw Error(g(188));return q!==D?null:D}for(var kt=D,Bt=q;;){var te=kt.return;if(te===null)break;var fe=te.alternate;if(fe===null){if(Bt=te.return,Bt!==null){kt=Bt;continue}break}if(te.child===fe.child){for(fe=te.child;fe;){if(fe===kt)return Lr(te),D;if(fe===Bt)return Lr(te),q;fe=fe.sibling}throw Error(g(188))}if(kt.return!==Bt.return)kt=te,Bt=fe;else{for(var Ie=!1,Ue=te.child;Ue;){if(Ue===kt){Ie=!0,kt=te,Bt=fe;break}if(Ue===Bt){Ie=!0,Bt=te,kt=fe;break}Ue=Ue.sibling}if(!Ie){for(Ue=fe.child;Ue;){if(Ue===kt){Ie=!0,kt=fe,Bt=te;break}if(Ue===Bt){Ie=!0,Bt=fe,kt=te;break}Ue=Ue.sibling}if(!Ie)throw Error(g(189))}}if(kt.alternate!==Bt)throw Error(g(190))}if(kt.tag!==3)throw Error(g(188));return kt.stateNode.current===kt?D:q}function Yi(D){return D=Yn(D),D!==null?Ki(D):null}function Ki(D){if(D.tag===5||D.tag===6)return D;for(D=D.child;D!==null;){var q=Ki(D);if(q!==null)return q;D=D.sibling}return null}var Xi=m.unstable_scheduleCallback,Ji=m.unstable_cancelCallback,Ba=m.unstable_shouldYield,za=m.unstable_requestPaint,Ur=m.unstable_now,nc=m.unstable_getCurrentPriorityLevel,Yo=m.unstable_ImmediatePriority,Pl=m.unstable_UserBlockingPriority,Na=m.unstable_NormalPriority,ic=m.unstable_LowPriority,Rl=m.unstable_IdlePriority,$a=null,Fn=null;function ac(D){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot($a,D,void 0,(D.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:lc,oc=Math.log,sc=Math.LN2;function lc(D){return D>>>=0,D===0?32:31-(oc(D)/sc|0)|0}var Fa=64,Oa=4194304;function ta(D){switch(D&-D){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return D&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return D&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return D}}function Da(D,q){var kt=D.pendingLanes;if(kt===0)return 0;var Bt=0,te=D.suspendedLanes,fe=D.pingedLanes,Ie=kt&268435455;if(Ie!==0){var Ue=Ie&~te;Ue!==0?Bt=ta(Ue):(fe&=Ie,fe!==0&&(Bt=ta(fe)))}else Ie=kt&~te,Ie!==0?Bt=ta(Ie):fe!==0&&(Bt=ta(fe));if(Bt===0)return 0;if(q!==0&&q!==Bt&&!(q&te)&&(te=Bt&-Bt,fe=q&-q,te>=fe||te===16&&(fe&4194240)!==0))return q;if(Bt&4&&(Bt|=kt&16),q=D.entangledLanes,q!==0)for(D=D.entanglements,q&=Bt;0<q;)kt=31-Cn(q),te=1<<kt,Bt|=D[kt],q&=~te;return Bt}function uc(D,q){switch(D){case 1:case 2:case 4:return q+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return q+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fc(D,q){for(var kt=D.suspendedLanes,Bt=D.pingedLanes,te=D.expirationTimes,fe=D.pendingLanes;0<fe;){var Ie=31-Cn(fe),Ue=1<<Ie,Ge=te[Ie];Ge===-1?(!(Ue&kt)||Ue&Bt)&&(te[Ie]=uc(Ue,q)):Ge<=q&&(D.expiredLanes|=Ue),fe&=~Ue}}function Ko(D){return D=D.pendingLanes&-1073741825,D!==0?D:D&1073741824?1073741824:0}function Bl(){var D=Fa;return Fa<<=1,!(Fa&4194240)&&(Fa=64),D}function Xo(D){for(var q=[],kt=0;31>kt;kt++)q.push(D);return q}function ea(D,q,kt){D.pendingLanes|=q,q!==536870912&&(D.suspendedLanes=0,D.pingedLanes=0),D=D.eventTimes,q=31-Cn(q),D[q]=kt}function cc(D,q){var kt=D.pendingLanes&~q;D.pendingLanes=q,D.suspendedLanes=0,D.pingedLanes=0,D.expiredLanes&=q,D.mutableReadLanes&=q,D.entangledLanes&=q,q=D.entanglements;var Bt=D.eventTimes;for(D=D.expirationTimes;0<kt;){var te=31-Cn(kt),fe=1<<te;q[te]=0,Bt[te]=-1,D[te]=-1,kt&=~fe}}function Jo(D,q){var kt=D.entangledLanes|=q;for(D=D.entanglements;kt;){var Bt=31-Cn(kt),te=1<<Bt;te&q|D[Bt]&q&&(D[Bt]|=q),kt&=~te}}var Rr=0;function zl(D){return D&=-D,1<D?4<D?D&268435455?16:536870912:4:1}var Nl,ts,$l,Fl,Ol,es=!1,La=[],Kn=null,Xn=null,Jn=null,ra=new Map,na=new Map,ti=[],dc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dl(D,q){switch(D){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":ra.delete(q.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(q.pointerId)}}function ia(D,q,kt,Bt,te,fe){return D===null||D.nativeEvent!==fe?(D={blockedOn:q,domEventName:kt,eventSystemFlags:Bt,nativeEvent:fe,targetContainers:[te]},q!==null&&(q=ya(q),q!==null&&ts(q)),D):(D.eventSystemFlags|=Bt,q=D.targetContainers,te!==null&&q.indexOf(te)===-1&&q.push(te),D)}function hc(D,q,kt,Bt,te){switch(q){case"focusin":return Kn=ia(Kn,D,q,kt,Bt,te),!0;case"dragenter":return Xn=ia(Xn,D,q,kt,Bt,te),!0;case"mouseover":return Jn=ia(Jn,D,q,kt,Bt,te),!0;case"pointerover":var fe=te.pointerId;return ra.set(fe,ia(ra.get(fe)||null,D,q,kt,Bt,te)),!0;case"gotpointercapture":return fe=te.pointerId,na.set(fe,ia(na.get(fe)||null,D,q,kt,Bt,te)),!0}return!1}function Ll(D){var q=_i(D.target);if(q!==null){var kt=Zr(q);if(kt!==null){if(q=kt.tag,q===13){if(q=Wr(kt),q!==null){D.blockedOn=q,Ol(D.priority,function(){$l(kt)});return}}else if(q===3&&kt.stateNode.current.memoizedState.isDehydrated){D.blockedOn=kt.tag===3?kt.stateNode.containerInfo:null;return}}}D.blockedOn=null}function Ua(D){if(D.blockedOn!==null)return!1;for(var q=D.targetContainers;0<q.length;){var kt=ns(D.domEventName,D.eventSystemFlags,q[0],D.nativeEvent);if(kt===null){kt=D.nativeEvent;var Bt=new kt.constructor(kt.type,kt);ke=Bt,kt.target.dispatchEvent(Bt),ke=null}else return q=ya(kt),q!==null&&ts(q),D.blockedOn=kt,!1;q.shift()}return!0}function Ul(D,q,kt){Ua(D)&&kt.delete(q)}function pc(){es=!1,Kn!==null&&Ua(Kn)&&(Kn=null),Xn!==null&&Ua(Xn)&&(Xn=null),Jn!==null&&Ua(Jn)&&(Jn=null),ra.forEach(Ul),na.forEach(Ul)}function aa(D,q){D.blockedOn===q&&(D.blockedOn=null,es||(es=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,pc)))}function oa(D){function q(te){return aa(te,D)}if(0<La.length){aa(La[0],D);for(var kt=1;kt<La.length;kt++){var Bt=La[kt];Bt.blockedOn===D&&(Bt.blockedOn=null)}}for(Kn!==null&&aa(Kn,D),Xn!==null&&aa(Xn,D),Jn!==null&&aa(Jn,D),ra.forEach(q),na.forEach(q),kt=0;kt<ti.length;kt++)Bt=ti[kt],Bt.blockedOn===D&&(Bt.blockedOn=null);for(;0<ti.length&&(kt=ti[0],kt.blockedOn===null);)Ll(kt),kt.blockedOn===null&&ti.shift()}var Mi=Dt.ReactCurrentBatchConfig,ja=!0;function mc(D,q,kt,Bt){var te=Rr,fe=Mi.transition;Mi.transition=null;try{Rr=1,rs(D,q,kt,Bt)}finally{Rr=te,Mi.transition=fe}}function _c(D,q,kt,Bt){var te=Rr,fe=Mi.transition;Mi.transition=null;try{Rr=4,rs(D,q,kt,Bt)}finally{Rr=te,Mi.transition=fe}}function rs(D,q,kt,Bt){if(ja){var te=ns(D,q,kt,Bt);if(te===null)vs(D,q,Bt,Za,kt),Dl(D,Bt);else if(hc(te,D,q,kt,Bt))Bt.stopPropagation();else if(Dl(D,Bt),q&4&&-1<dc.indexOf(D)){for(;te!==null;){var fe=ya(te);if(fe!==null&&Nl(fe),fe=ns(D,q,kt,Bt),fe===null&&vs(D,q,Bt,Za,kt),fe===te)break;te=fe}te!==null&&Bt.stopPropagation()}else vs(D,q,Bt,null,kt)}}var Za=null;function ns(D,q,kt,Bt){if(Za=null,D=tr(Bt),D=_i(D),D!==null)if(q=Zr(D),q===null)D=null;else if(kt=q.tag,kt===13){if(D=Wr(q),D!==null)return D;D=null}else if(kt===3){if(q.stateNode.current.memoizedState.isDehydrated)return q.tag===3?q.stateNode.containerInfo:null;D=null}else q!==D&&(D=null);return Za=D,null}function jl(D){switch(D){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nc()){case Yo:return 1;case Pl:return 4;case Na:case ic:return 16;case Rl:return 536870912;default:return 16}default:return 16}}var ei=null,is=null,Ga=null;function Zl(){if(Ga)return Ga;var D,q=is,kt=q.length,Bt,te="value"in ei?ei.value:ei.textContent,fe=te.length;for(D=0;D<kt&&q[D]===te[D];D++);var Ie=kt-D;for(Bt=1;Bt<=Ie&&q[kt-Bt]===te[fe-Bt];Bt++);return Ga=te.slice(D,1<Bt?1-Bt:void 0)}function Ha(D){var q=D.keyCode;return"charCode"in D?(D=D.charCode,D===0&&q===13&&(D=13)):D=q,D===10&&(D=13),32<=D||D===13?D:0}function Wa(){return!0}function Gl(){return!1}function yn(D){function q(kt,Bt,te,fe,Ie){this._reactName=kt,this._targetInst=te,this.type=Bt,this.nativeEvent=fe,this.target=Ie,this.currentTarget=null;for(var Ue in D)D.hasOwnProperty(Ue)&&(kt=D[Ue],this[Ue]=kt?kt(fe):fe[Ue]);return this.isDefaultPrevented=(fe.defaultPrevented!=null?fe.defaultPrevented:fe.returnValue===!1)?Wa:Gl,this.isPropagationStopped=Gl,this}return Me(q.prototype,{preventDefault:function(){this.defaultPrevented=!0;var kt=this.nativeEvent;kt&&(kt.preventDefault?kt.preventDefault():typeof kt.returnValue!="unknown"&&(kt.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var kt=this.nativeEvent;kt&&(kt.stopPropagation?kt.stopPropagation():typeof kt.cancelBubble!="unknown"&&(kt.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),q}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(D){return D.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=yn(Ai),sa=Me({},Ai,{view:0,detail:0}),gc=yn(sa),os,ss,la,Qa=Me({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(D){return D.relatedTarget===void 0?D.fromElement===D.srcElement?D.toElement:D.fromElement:D.relatedTarget},movementX:function(D){return"movementX"in D?D.movementX:(D!==la&&(la&&D.type==="mousemove"?(os=D.screenX-la.screenX,ss=D.screenY-la.screenY):ss=os=0,la=D),os)},movementY:function(D){return"movementY"in D?D.movementY:ss}}),Hl=yn(Qa),yc=Me({},Qa,{dataTransfer:0}),bc=yn(yc),vc=Me({},sa,{relatedTarget:0}),ls=yn(vc),wc=Me({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),xc=yn(wc),Ec=Me({},Ai,{clipboardData:function(D){return"clipboardData"in D?D.clipboardData:window.clipboardData}}),kc=yn(Ec),Sc=Me({},Ai,{data:0}),Wl=yn(Sc),Tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ac(D){var q=this.nativeEvent;return q.getModifierState?q.getModifierState(D):(D=Mc[D])?!!q[D]:!1}function us(){return Ac}var Cc=Me({},sa,{key:function(D){if(D.key){var q=Tc[D.key]||D.key;if(q!=="Unidentified")return q}return D.type==="keypress"?(D=Ha(D),D===13?"Enter":String.fromCharCode(D)):D.type==="keydown"||D.type==="keyup"?Ic[D.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(D){return D.type==="keypress"?Ha(D):0},keyCode:function(D){return D.type==="keydown"||D.type==="keyup"?D.keyCode:0},which:function(D){return D.type==="keypress"?Ha(D):D.type==="keydown"||D.type==="keyup"?D.keyCode:0}}),Pc=yn(Cc),Rc=Me({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ql=yn(Rc),Bc=Me({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),zc=yn(Bc),Nc=Me({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),$c=yn(Nc),Fc=Me({},Qa,{deltaX:function(D){return"deltaX"in D?D.deltaX:"wheelDeltaX"in D?-D.wheelDeltaX:0},deltaY:function(D){return"deltaY"in D?D.deltaY:"wheelDeltaY"in D?-D.wheelDeltaY:"wheelDelta"in D?-D.wheelDelta:0},deltaZ:0,deltaMode:0}),Oc=yn(Fc),Dc=[9,13,27,32],fs=it&&"CompositionEvent"in window,ua=null;it&&"documentMode"in document&&(ua=document.documentMode);var Lc=it&&"TextEvent"in window&&!ua,ql=it&&(!fs||ua&&8<ua&&11>=ua),Vl=" ",Yl=!1;function Kl(D,q){switch(D){case"keyup":return Dc.indexOf(q.keyCode)!==-1;case"keydown":return q.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xl(D){return D=D.detail,typeof D=="object"&&"data"in D?D.data:null}var Ci=!1;function Uc(D,q){switch(D){case"compositionend":return Xl(q);case"keypress":return q.which!==32?null:(Yl=!0,Vl);case"textInput":return D=q.data,D===Vl&&Yl?null:D;default:return null}}function jc(D,q){if(Ci)return D==="compositionend"||!fs&&Kl(D,q)?(D=Zl(),Ga=is=ei=null,Ci=!1,D):null;switch(D){case"paste":return null;case"keypress":if(!(q.ctrlKey||q.altKey||q.metaKey)||q.ctrlKey&&q.altKey){if(q.char&&1<q.char.length)return q.char;if(q.which)return String.fromCharCode(q.which)}return null;case"compositionend":return ql&&q.locale!=="ko"?null:q.data;default:return null}}var Zc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jl(D){var q=D&&D.nodeName&&D.nodeName.toLowerCase();return q==="input"?!!Zc[D.type]:q==="textarea"}function tu(D,q,kt,Bt){$e(Bt),q=Xa(q,"onChange"),0<q.length&&(kt=new as("onChange","change",null,kt,Bt),D.push({event:kt,listeners:q}))}var fa=null,ca=null;function Gc(D){yu(D,0)}function qa(D){var q=Ni(D);if(Te(q))return D}function Hc(D,q){if(D==="change")return q}var eu=!1;if(it){var cs;if(it){var ds="oninput"in document;if(!ds){var ru=document.createElement("div");ru.setAttribute("oninput","return;"),ds=typeof ru.oninput=="function"}cs=ds}else cs=!1;eu=cs&&(!document.documentMode||9<document.documentMode)}function nu(){fa&&(fa.detachEvent("onpropertychange",iu),ca=fa=null)}function iu(D){if(D.propertyName==="value"&&qa(ca)){var q=[];tu(q,ca,D,tr(D)),pr(Gc,q)}}function Wc(D,q,kt){D==="focusin"?(nu(),fa=q,ca=kt,fa.attachEvent("onpropertychange",iu)):D==="focusout"&&nu()}function Qc(D){if(D==="selectionchange"||D==="keyup"||D==="keydown")return qa(ca)}function qc(D,q){if(D==="click")return qa(q)}function Vc(D,q){if(D==="input"||D==="change")return qa(q)}function Yc(D,q){return D===q&&(D!==0||1/D===1/q)||D!==D&&q!==q}var Pn=typeof Object.is=="function"?Object.is:Yc;function da(D,q){if(Pn(D,q))return!0;if(typeof D!="object"||D===null||typeof q!="object"||q===null)return!1;var kt=Object.keys(D),Bt=Object.keys(q);if(kt.length!==Bt.length)return!1;for(Bt=0;Bt<kt.length;Bt++){var te=kt[Bt];if(!ot.call(q,te)||!Pn(D[te],q[te]))return!1}return!0}function au(D){for(;D&&D.firstChild;)D=D.firstChild;return D}function ou(D,q){var kt=au(D);D=0;for(var Bt;kt;){if(kt.nodeType===3){if(Bt=D+kt.textContent.length,D<=q&&Bt>=q)return{node:kt,offset:q-D};D=Bt}t:{for(;kt;){if(kt.nextSibling){kt=kt.nextSibling;break t}kt=kt.parentNode}kt=void 0}kt=au(kt)}}function su(D,q){return D&&q?D===q?!0:D&&D.nodeType===3?!1:q&&q.nodeType===3?su(D,q.parentNode):"contains"in D?D.contains(q):D.compareDocumentPosition?!!(D.compareDocumentPosition(q)&16):!1:!1}function lu(){for(var D=window,q=he();q instanceof D.HTMLIFrameElement;){try{var kt=typeof q.contentWindow.location.href=="string"}catch{kt=!1}if(kt)D=q.contentWindow;else break;q=he(D.document)}return q}function hs(D){var q=D&&D.nodeName&&D.nodeName.toLowerCase();return q&&(q==="input"&&(D.type==="text"||D.type==="search"||D.type==="tel"||D.type==="url"||D.type==="password")||q==="textarea"||D.contentEditable==="true")}function Kc(D){var q=lu(),kt=D.focusedElem,Bt=D.selectionRange;if(q!==kt&&kt&&kt.ownerDocument&&su(kt.ownerDocument.documentElement,kt)){if(Bt!==null&&hs(kt)){if(q=Bt.start,D=Bt.end,D===void 0&&(D=q),"selectionStart"in kt)kt.selectionStart=q,kt.selectionEnd=Math.min(D,kt.value.length);else if(D=(q=kt.ownerDocument||document)&&q.defaultView||window,D.getSelection){D=D.getSelection();var te=kt.textContent.length,fe=Math.min(Bt.start,te);Bt=Bt.end===void 0?fe:Math.min(Bt.end,te),!D.extend&&fe>Bt&&(te=Bt,Bt=fe,fe=te),te=ou(kt,fe);var Ie=ou(kt,Bt);te&&Ie&&(D.rangeCount!==1||D.anchorNode!==te.node||D.anchorOffset!==te.offset||D.focusNode!==Ie.node||D.focusOffset!==Ie.offset)&&(q=q.createRange(),q.setStart(te.node,te.offset),D.removeAllRanges(),fe>Bt?(D.addRange(q),D.extend(Ie.node,Ie.offset)):(q.setEnd(Ie.node,Ie.offset),D.addRange(q)))}}for(q=[],D=kt;D=D.parentNode;)D.nodeType===1&&q.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof kt.focus=="function"&&kt.focus(),kt=0;kt<q.length;kt++)D=q[kt],D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}var Xc=it&&"documentMode"in document&&11>=document.documentMode,Pi=null,ps=null,ha=null,ms=!1;function uu(D,q,kt){var Bt=kt.window===kt?kt.document:kt.nodeType===9?kt:kt.ownerDocument;ms||Pi==null||Pi!==he(Bt)||(Bt=Pi,"selectionStart"in Bt&&hs(Bt)?Bt={start:Bt.selectionStart,end:Bt.selectionEnd}:(Bt=(Bt.ownerDocument&&Bt.ownerDocument.defaultView||window).getSelection(),Bt={anchorNode:Bt.anchorNode,anchorOffset:Bt.anchorOffset,focusNode:Bt.focusNode,focusOffset:Bt.focusOffset}),ha&&da(ha,Bt)||(ha=Bt,Bt=Xa(ps,"onSelect"),0<Bt.length&&(q=new as("onSelect","select",null,q,kt),D.push({event:q,listeners:Bt}),q.target=Pi)))}function Va(D,q){var kt={};return kt[D.toLowerCase()]=q.toLowerCase(),kt["Webkit"+D]="webkit"+q,kt["Moz"+D]="moz"+q,kt}var Ri={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionend:Va("Transition","TransitionEnd")},_s={},fu={};it&&(fu=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function Ya(D){if(_s[D])return _s[D];if(!Ri[D])return D;var q=Ri[D],kt;for(kt in q)if(q.hasOwnProperty(kt)&&kt in fu)return _s[D]=q[kt];return D}var cu=Ya("animationend"),du=Ya("animationiteration"),hu=Ya("animationstart"),pu=Ya("transitionend"),mu=new Map,_u="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(D,q){mu.set(D,q),H(q,[D])}for(var gs=0;gs<_u.length;gs++){var ys=_u[gs],Jc=ys.toLowerCase(),td=ys[0].toUpperCase()+ys.slice(1);ri(Jc,"on"+td)}ri(cu,"onAnimationEnd"),ri(du,"onAnimationIteration"),ri(hu,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(pu,"onTransitionEnd"),et("onMouseEnter",["mouseout","mouseover"]),et("onMouseLeave",["mouseout","mouseover"]),et("onPointerEnter",["pointerout","pointerover"]),et("onPointerLeave",["pointerout","pointerover"]),H("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),H("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),H("onBeforeInput",["compositionend","keypress","textInput","paste"]),H("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),H("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),H("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ed=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function gu(D,q,kt){var Bt=D.type||"unknown-event";D.currentTarget=kt,gn(Bt,q,void 0,D),D.currentTarget=null}function yu(D,q){q=(q&4)!==0;for(var kt=0;kt<D.length;kt++){var Bt=D[kt],te=Bt.event;Bt=Bt.listeners;t:{var fe=void 0;if(q)for(var Ie=Bt.length-1;0<=Ie;Ie--){var Ue=Bt[Ie],Ge=Ue.instance,Je=Ue.currentTarget;if(Ue=Ue.listener,Ge!==fe&&te.isPropagationStopped())break t;gu(te,Ue,Je),fe=Ge}else for(Ie=0;Ie<Bt.length;Ie++){if(Ue=Bt[Ie],Ge=Ue.instance,Je=Ue.currentTarget,Ue=Ue.listener,Ge!==fe&&te.isPropagationStopped())break t;gu(te,Ue,Je),fe=Ge}}}if(xn)throw D=An,xn=!1,An=null,D}function Or(D,q){var kt=q[Ts];kt===void 0&&(kt=q[Ts]=new Set);var Bt=D+"__bubble";kt.has(Bt)||(bu(q,D,2,!1),kt.add(Bt))}function bs(D,q,kt){var Bt=0;q&&(Bt|=4),bu(kt,D,Bt,q)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function ma(D){if(!D[Ka]){D[Ka]=!0,w.forEach(function(kt){kt!=="selectionchange"&&(ed.has(kt)||bs(kt,!1,D),bs(kt,!0,D))});var q=D.nodeType===9?D:D.ownerDocument;q===null||q[Ka]||(q[Ka]=!0,bs("selectionchange",!1,q))}}function bu(D,q,kt,Bt){switch(jl(q)){case 1:var te=mc;break;case 4:te=_c;break;default:te=rs}kt=te.bind(null,q,kt,D),te=void 0,!Xr||q!=="touchstart"&&q!=="touchmove"&&q!=="wheel"||(te=!0),Bt?te!==void 0?D.addEventListener(q,kt,{capture:!0,passive:te}):D.addEventListener(q,kt,!0):te!==void 0?D.addEventListener(q,kt,{passive:te}):D.addEventListener(q,kt,!1)}function vs(D,q,kt,Bt,te){var fe=Bt;if(!(q&1)&&!(q&2)&&Bt!==null)t:for(;;){if(Bt===null)return;var Ie=Bt.tag;if(Ie===3||Ie===4){var Ue=Bt.stateNode.containerInfo;if(Ue===te||Ue.nodeType===8&&Ue.parentNode===te)break;if(Ie===4)for(Ie=Bt.return;Ie!==null;){var Ge=Ie.tag;if((Ge===3||Ge===4)&&(Ge=Ie.stateNode.containerInfo,Ge===te||Ge.nodeType===8&&Ge.parentNode===te))return;Ie=Ie.return}for(;Ue!==null;){if(Ie=_i(Ue),Ie===null)return;if(Ge=Ie.tag,Ge===5||Ge===6){Bt=fe=Ie;continue t}Ue=Ue.parentNode}}Bt=Bt.return}pr(function(){var Je=fe,sr=tr(kt),lr=[];t:{var or=mu.get(D);if(or!==void 0){var mr=as,vr=D;switch(D){case"keypress":if(Ha(kt)===0)break t;case"keydown":case"keyup":mr=Pc;break;case"focusin":vr="focus",mr=ls;break;case"focusout":vr="blur",mr=ls;break;case"beforeblur":case"afterblur":mr=ls;break;case"click":if(kt.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mr=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mr=bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mr=zc;break;case cu:case du:case hu:mr=xc;break;case pu:mr=$c;break;case"scroll":mr=gc;break;case"wheel":mr=Oc;break;case"copy":case"cut":case"paste":mr=kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mr=Ql}var wr=(q&4)!==0,qr=!wr&&D==="scroll",Ye=wr?or!==null?or+"Capture":null:or;wr=[];for(var He=Je,Ke;He!==null;){Ke=He;var ur=Ke.stateNode;if(Ke.tag===5&&ur!==null&&(Ke=ur,Ye!==null&&(ur=Ir(He,Ye),ur!=null&&wr.push(_a(He,ur,Ke)))),qr)break;He=He.return}0<wr.length&&(or=new mr(or,vr,null,kt,sr),lr.push({event:or,listeners:wr}))}}if(!(q&7)){t:{if(or=D==="mouseover"||D==="pointerover",mr=D==="mouseout"||D==="pointerout",or&&kt!==ke&&(vr=kt.relatedTarget||kt.fromElement)&&(_i(vr)||vr[jn]))break t;if((mr||or)&&(or=sr.window===sr?sr:(or=sr.ownerDocument)?or.defaultView||or.parentWindow:window,mr?(vr=kt.relatedTarget||kt.toElement,mr=Je,vr=vr?_i(vr):null,vr!==null&&(qr=Zr(vr),vr!==qr||vr.tag!==5&&vr.tag!==6)&&(vr=null)):(mr=null,vr=Je),mr!==vr)){if(wr=Hl,ur="onMouseLeave",Ye="onMouseEnter",He="mouse",(D==="pointerout"||D==="pointerover")&&(wr=Ql,ur="onPointerLeave",Ye="onPointerEnter",He="pointer"),qr=mr==null?or:Ni(mr),Ke=vr==null?or:Ni(vr),or=new wr(ur,He+"leave",mr,kt,sr),or.target=qr,or.relatedTarget=Ke,ur=null,_i(sr)===Je&&(wr=new wr(Ye,He+"enter",vr,kt,sr),wr.target=Ke,wr.relatedTarget=qr,ur=wr),qr=ur,mr&&vr)e:{for(wr=mr,Ye=vr,He=0,Ke=wr;Ke;Ke=Bi(Ke))He++;for(Ke=0,ur=Ye;ur;ur=Bi(ur))Ke++;for(;0<He-Ke;)wr=Bi(wr),He--;for(;0<Ke-He;)Ye=Bi(Ye),Ke--;for(;He--;){if(wr===Ye||Ye!==null&&wr===Ye.alternate)break e;wr=Bi(wr),Ye=Bi(Ye)}wr=null}else wr=null;mr!==null&&vu(lr,or,mr,wr,!1),vr!==null&&qr!==null&&vu(lr,qr,vr,wr,!0)}}t:{if(or=Je?Ni(Je):window,mr=or.nodeName&&or.nodeName.toLowerCase(),mr==="select"||mr==="input"&&or.type==="file")var xr=Hc;else if(Jl(or))if(eu)xr=Vc;else{xr=Qc;var Sr=Wc}else(mr=or.nodeName)&&mr.toLowerCase()==="input"&&(or.type==="checkbox"||or.type==="radio")&&(xr=qc);if(xr&&(xr=xr(D,Je))){tu(lr,xr,kt,sr);break t}Sr&&Sr(D,or,Je),D==="focusout"&&(Sr=or._wrapperState)&&Sr.controlled&&or.type==="number"&&ae(or,"number",or.value)}switch(Sr=Je?Ni(Je):window,D){case"focusin":(Jl(Sr)||Sr.contentEditable==="true")&&(Pi=Sr,ps=Je,ha=null);break;case"focusout":ha=ps=Pi=null;break;case"mousedown":ms=!0;break;case"contextmenu":case"mouseup":case"dragend":ms=!1,uu(lr,kt,sr);break;case"selectionchange":if(Xc)break;case"keydown":case"keyup":uu(lr,kt,sr)}var Tr;if(fs)t:{switch(D){case"compositionstart":var Mr="onCompositionStart";break t;case"compositionend":Mr="onCompositionEnd";break t;case"compositionupdate":Mr="onCompositionUpdate";break t}Mr=void 0}else Ci?Kl(D,kt)&&(Mr="onCompositionEnd"):D==="keydown"&&kt.keyCode===229&&(Mr="onCompositionStart");Mr&&(ql&&kt.locale!=="ko"&&(Ci||Mr!=="onCompositionStart"?Mr==="onCompositionEnd"&&Ci&&(Tr=Zl()):(ei=sr,is="value"in ei?ei.value:ei.textContent,Ci=!0)),Sr=Xa(Je,Mr),0<Sr.length&&(Mr=new Wl(Mr,D,null,kt,sr),lr.push({event:Mr,listeners:Sr}),Tr?Mr.data=Tr:(Tr=Xl(kt),Tr!==null&&(Mr.data=Tr)))),(Tr=Lc?Uc(D,kt):jc(D,kt))&&(Je=Xa(Je,"onBeforeInput"),0<Je.length&&(sr=new Wl("onBeforeInput","beforeinput",null,kt,sr),lr.push({event:sr,listeners:Je}),sr.data=Tr))}yu(lr,q)})}function _a(D,q,kt){return{instance:D,listener:q,currentTarget:kt}}function Xa(D,q){for(var kt=q+"Capture",Bt=[];D!==null;){var te=D,fe=te.stateNode;te.tag===5&&fe!==null&&(te=fe,fe=Ir(D,kt),fe!=null&&Bt.unshift(_a(D,fe,te)),fe=Ir(D,q),fe!=null&&Bt.push(_a(D,fe,te))),D=D.return}return Bt}function Bi(D){if(D===null)return null;do D=D.return;while(D&&D.tag!==5);return D||null}function vu(D,q,kt,Bt,te){for(var fe=q._reactName,Ie=[];kt!==null&&kt!==Bt;){var Ue=kt,Ge=Ue.alternate,Je=Ue.stateNode;if(Ge!==null&&Ge===Bt)break;Ue.tag===5&&Je!==null&&(Ue=Je,te?(Ge=Ir(kt,fe),Ge!=null&&Ie.unshift(_a(kt,Ge,Ue))):te||(Ge=Ir(kt,fe),Ge!=null&&Ie.push(_a(kt,Ge,Ue)))),kt=kt.return}Ie.length!==0&&D.push({event:q,listeners:Ie})}var rd=/\r\n?/g,nd=/\u0000|\uFFFD/g;function wu(D){return(typeof D=="string"?D:""+D).replace(rd,`
`).replace(nd,"")}function Ja(D,q,kt){if(q=wu(q),wu(D)!==q&&kt)throw Error(g(425))}function eo(){}var ws=null,xs=null;function Es(D,q){return D==="textarea"||D==="noscript"||typeof q.children=="string"||typeof q.children=="number"||typeof q.dangerouslySetInnerHTML=="object"&&q.dangerouslySetInnerHTML!==null&&q.dangerouslySetInnerHTML.__html!=null}var ks=typeof setTimeout=="function"?setTimeout:void 0,id=typeof clearTimeout=="function"?clearTimeout:void 0,xu=typeof Promise=="function"?Promise:void 0,ad=typeof queueMicrotask=="function"?queueMicrotask:typeof xu<"u"?function(D){return xu.resolve(null).then(D).catch(od)}:ks;function od(D){setTimeout(function(){throw D})}function Ss(D,q){var kt=q,Bt=0;do{var te=kt.nextSibling;if(D.removeChild(kt),te&&te.nodeType===8)if(kt=te.data,kt==="/$"){if(Bt===0){D.removeChild(te),oa(q);return}Bt--}else kt!=="$"&&kt!=="$?"&&kt!=="$!"||Bt++;kt=te}while(kt);oa(q)}function ni(D){for(;D!=null;D=D.nextSibling){var q=D.nodeType;if(q===1||q===3)break;if(q===8){if(q=D.data,q==="$"||q==="$!"||q==="$?")break;if(q==="/$")return null}}return D}function Eu(D){D=D.previousSibling;for(var q=0;D;){if(D.nodeType===8){var kt=D.data;if(kt==="$"||kt==="$!"||kt==="$?"){if(q===0)return D;q--}else kt==="/$"&&q++}D=D.previousSibling}return null}var zi=Math.random().toString(36).slice(2),On="__reactFiber$"+zi,ga="__reactProps$"+zi,jn="__reactContainer$"+zi,Ts="__reactEvents$"+zi,sd="__reactListeners$"+zi,ld="__reactHandles$"+zi;function _i(D){var q=D[On];if(q)return q;for(var kt=D.parentNode;kt;){if(q=kt[jn]||kt[On]){if(kt=q.alternate,q.child!==null||kt!==null&&kt.child!==null)for(D=Eu(D);D!==null;){if(kt=D[On])return kt;D=Eu(D)}return q}D=kt,kt=D.parentNode}return null}function ya(D){return D=D[On]||D[jn],!D||D.tag!==5&&D.tag!==6&&D.tag!==13&&D.tag!==3?null:D}function Ni(D){if(D.tag===5||D.tag===6)return D.stateNode;throw Error(g(33))}function oo(D){return D[ga]||null}var Is=[],$i=-1;function ii(D){return{current:D}}function Dr(D){0>$i||(D.current=Is[$i],Is[$i]=null,$i--)}function zr(D,q){$i++,Is[$i]=D.current,D.current=q}var ai={},on=ii(ai),dn=ii(!1),gi=ai;function Fi(D,q){var kt=D.type.contextTypes;if(!kt)return ai;var Bt=D.stateNode;if(Bt&&Bt.__reactInternalMemoizedUnmaskedChildContext===q)return Bt.__reactInternalMemoizedMaskedChildContext;var te={},fe;for(fe in kt)te[fe]=q[fe];return Bt&&(D=D.stateNode,D.__reactInternalMemoizedUnmaskedChildContext=q,D.__reactInternalMemoizedMaskedChildContext=te),te}function hn(D){return D=D.childContextTypes,D!=null}function uo(){Dr(dn),Dr(on)}function ku(D,q,kt){if(on.current!==ai)throw Error(g(168));zr(on,q),zr(dn,kt)}function Su(D,q,kt){var Bt=D.stateNode;if(q=q.childContextTypes,typeof Bt.getChildContext!="function")return kt;Bt=Bt.getChildContext();for(var te in Bt)if(!(te in q))throw Error(g(108,Ne(D)||"Unknown",te));return Me({},kt,Bt)}function fo(D){return D=(D=D.stateNode)&&D.__reactInternalMemoizedMergedChildContext||ai,gi=on.current,zr(on,D),zr(dn,dn.current),!0}function Tu(D,q,kt){var Bt=D.stateNode;if(!Bt)throw Error(g(169));kt?(D=Su(D,q,gi),Bt.__reactInternalMemoizedMergedChildContext=D,Dr(dn),Dr(on),zr(on,D)):Dr(dn),zr(dn,kt)}var Zn=null,co=!1,Ms=!1;function Iu(D){Zn===null?Zn=[D]:Zn.push(D)}function ud(D){co=!0,Iu(D)}function oi(){if(!Ms&&Zn!==null){Ms=!0;var D=0,q=Rr;try{var kt=Zn;for(Rr=1;D<kt.length;D++){var Bt=kt[D];do Bt=Bt(!0);while(Bt!==null)}Zn=null,co=!1}catch(te){throw Zn!==null&&(Zn=Zn.slice(D+1)),Xi(Yo,oi),te}finally{Rr=q,Ms=!1}}return null}var Oi=[],Di=0,ho=null,po=0,En=[],kn=0,yi=null,Gn=1,Hn="";function bi(D,q){Oi[Di++]=po,Oi[Di++]=ho,ho=D,po=q}function Mu(D,q,kt){En[kn++]=Gn,En[kn++]=Hn,En[kn++]=yi,yi=D;var Bt=Gn;D=Hn;var te=32-Cn(Bt)-1;Bt&=~(1<<te),kt+=1;var fe=32-Cn(q)+te;if(30<fe){var Ie=te-te%5;fe=(Bt&(1<<Ie)-1).toString(32),Bt>>=Ie,te-=Ie,Gn=1<<32-Cn(q)+te|kt<<te|Bt,Hn=fe+D}else Gn=1<<fe|kt<<te|Bt,Hn=D}function As(D){D.return!==null&&(bi(D,1),Mu(D,1,0))}function Cs(D){for(;D===ho;)ho=Oi[--Di],Oi[Di]=null,po=Oi[--Di],Oi[Di]=null;for(;D===yi;)yi=En[--kn],En[kn]=null,Hn=En[--kn],En[kn]=null,Gn=En[--kn],En[kn]=null}var bn=null,vn=null,jr=!1,Rn=null;function Au(D,q){var kt=Mn(5,null,null,0);kt.elementType="DELETED",kt.stateNode=q,kt.return=D,q=D.deletions,q===null?(D.deletions=[kt],D.flags|=16):q.push(kt)}function Cu(D,q){switch(D.tag){case 5:var kt=D.type;return q=q.nodeType!==1||kt.toLowerCase()!==q.nodeName.toLowerCase()?null:q,q!==null?(D.stateNode=q,bn=D,vn=ni(q.firstChild),!0):!1;case 6:return q=D.pendingProps===""||q.nodeType!==3?null:q,q!==null?(D.stateNode=q,bn=D,vn=null,!0):!1;case 13:return q=q.nodeType!==8?null:q,q!==null?(kt=yi!==null?{id:Gn,overflow:Hn}:null,D.memoizedState={dehydrated:q,treeContext:kt,retryLane:1073741824},kt=Mn(18,null,null,0),kt.stateNode=q,kt.return=D,D.child=kt,bn=D,vn=null,!0):!1;default:return!1}}function Ps(D){return(D.mode&1)!==0&&(D.flags&128)===0}function Rs(D){if(jr){var q=vn;if(q){var kt=q;if(!Cu(D,q)){if(Ps(D))throw Error(g(418));q=ni(kt.nextSibling);var Bt=bn;q&&Cu(D,q)?Au(Bt,kt):(D.flags=D.flags&-4097|2,jr=!1,bn=D)}}else{if(Ps(D))throw Error(g(418));D.flags=D.flags&-4097|2,jr=!1,bn=D}}}function Pu(D){for(D=D.return;D!==null&&D.tag!==5&&D.tag!==3&&D.tag!==13;)D=D.return;bn=D}function mo(D){if(D!==bn)return!1;if(!jr)return Pu(D),jr=!0,!1;var q;if((q=D.tag!==3)&&!(q=D.tag!==5)&&(q=D.type,q=q!=="head"&&q!=="body"&&!Es(D.type,D.memoizedProps)),q&&(q=vn)){if(Ps(D))throw Ru(),Error(g(418));for(;q;)Au(D,q),q=ni(q.nextSibling)}if(Pu(D),D.tag===13){if(D=D.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(g(317));t:{for(D=D.nextSibling,q=0;D;){if(D.nodeType===8){var kt=D.data;if(kt==="/$"){if(q===0){vn=ni(D.nextSibling);break t}q--}else kt!=="$"&&kt!=="$!"&&kt!=="$?"||q++}D=D.nextSibling}vn=null}}else vn=bn?ni(D.stateNode.nextSibling):null;return!0}function Ru(){for(var D=vn;D;)D=ni(D.nextSibling)}function Li(){vn=bn=null,jr=!1}function Bs(D){Rn===null?Rn=[D]:Rn.push(D)}var fd=Dt.ReactCurrentBatchConfig;function ba(D,q,kt){if(D=kt.ref,D!==null&&typeof D!="function"&&typeof D!="object"){if(kt._owner){if(kt=kt._owner,kt){if(kt.tag!==1)throw Error(g(309));var Bt=kt.stateNode}if(!Bt)throw Error(g(147,D));var te=Bt,fe=""+D;return q!==null&&q.ref!==null&&typeof q.ref=="function"&&q.ref._stringRef===fe?q.ref:(q=function(Ie){var Ue=te.refs;Ie===null?delete Ue[fe]:Ue[fe]=Ie},q._stringRef=fe,q)}if(typeof D!="string")throw Error(g(284));if(!kt._owner)throw Error(g(290,D))}return D}function go(D,q){throw D=Object.prototype.toString.call(q),Error(g(31,D==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":D))}function Bu(D){var q=D._init;return q(D._payload)}function zu(D){function q(Ye,He){if(D){var Ke=Ye.deletions;Ke===null?(Ye.deletions=[He],Ye.flags|=16):Ke.push(He)}}function kt(Ye,He){if(!D)return null;for(;He!==null;)q(Ye,He),He=He.sibling;return null}function Bt(Ye,He){for(Ye=new Map;He!==null;)He.key!==null?Ye.set(He.key,He):Ye.set(He.index,He),He=He.sibling;return Ye}function te(Ye,He){return Ye=pi(Ye,He),Ye.index=0,Ye.sibling=null,Ye}function fe(Ye,He,Ke){return Ye.index=Ke,D?(Ke=Ye.alternate,Ke!==null?(Ke=Ke.index,Ke<He?(Ye.flags|=2,He):Ke):(Ye.flags|=2,He)):(Ye.flags|=1048576,He)}function Ie(Ye){return D&&Ye.alternate===null&&(Ye.flags|=2),Ye}function Ue(Ye,He,Ke,ur){return He===null||He.tag!==6?(He=kl(Ke,Ye.mode,ur),He.return=Ye,He):(He=te(He,Ke),He.return=Ye,He)}function Ge(Ye,He,Ke,ur){var xr=Ke.type;return xr===Kt?sr(Ye,He,Ke.props.children,ur,Ke.key):He!==null&&(He.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===de&&Bu(xr)===He.type)?(ur=te(He,Ke.props),ur.ref=ba(Ye,He,Ke),ur.return=Ye,ur):(ur=Uo(Ke.type,Ke.key,Ke.props,null,Ye.mode,ur),ur.ref=ba(Ye,He,Ke),ur.return=Ye,ur)}function Je(Ye,He,Ke,ur){return He===null||He.tag!==4||He.stateNode.containerInfo!==Ke.containerInfo||He.stateNode.implementation!==Ke.implementation?(He=Sl(Ke,Ye.mode,ur),He.return=Ye,He):(He=te(He,Ke.children||[]),He.return=Ye,He)}function sr(Ye,He,Ke,ur,xr){return He===null||He.tag!==7?(He=Ii(Ke,Ye.mode,ur,xr),He.return=Ye,He):(He=te(He,Ke),He.return=Ye,He)}function lr(Ye,He,Ke){if(typeof He=="string"&&He!==""||typeof He=="number")return He=kl(""+He,Ye.mode,Ke),He.return=Ye,He;if(typeof He=="object"&&He!==null){switch(He.$$typeof){case Yt:return Ke=Uo(He.type,He.key,He.props,null,Ye.mode,Ke),Ke.ref=ba(Ye,null,He),Ke.return=Ye,Ke;case ne:return He=Sl(He,Ye.mode,Ke),He.return=Ye,He;case de:var ur=He._init;return lr(Ye,ur(He._payload),Ke)}if(_e(He)||ye(He))return He=Ii(He,Ye.mode,Ke,null),He.return=Ye,He;go(Ye,He)}return null}function or(Ye,He,Ke,ur){var xr=He!==null?He.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return xr!==null?null:Ue(Ye,He,""+Ke,ur);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case Yt:return Ke.key===xr?Ge(Ye,He,Ke,ur):null;case ne:return Ke.key===xr?Je(Ye,He,Ke,ur):null;case de:return xr=Ke._init,or(Ye,He,xr(Ke._payload),ur)}if(_e(Ke)||ye(Ke))return xr!==null?null:sr(Ye,He,Ke,ur,null);go(Ye,Ke)}return null}function mr(Ye,He,Ke,ur,xr){if(typeof ur=="string"&&ur!==""||typeof ur=="number")return Ye=Ye.get(Ke)||null,Ue(He,Ye,""+ur,xr);if(typeof ur=="object"&&ur!==null){switch(ur.$$typeof){case Yt:return Ye=Ye.get(ur.key===null?Ke:ur.key)||null,Ge(He,Ye,ur,xr);case ne:return Ye=Ye.get(ur.key===null?Ke:ur.key)||null,Je(He,Ye,ur,xr);case de:var Sr=ur._init;return mr(Ye,He,Ke,Sr(ur._payload),xr)}if(_e(ur)||ye(ur))return Ye=Ye.get(Ke)||null,sr(He,Ye,ur,xr,null);go(He,ur)}return null}function vr(Ye,He,Ke,ur){for(var xr=null,Sr=null,Tr=He,Mr=He=0,en=null;Tr!==null&&Mr<Ke.length;Mr++){Tr.index>Mr?(en=Tr,Tr=null):en=Tr.sibling;var Pr=or(Ye,Tr,Ke[Mr],ur);if(Pr===null){Tr===null&&(Tr=en);break}D&&Tr&&Pr.alternate===null&&q(Ye,Tr),He=fe(Pr,He,Mr),Sr===null?xr=Pr:Sr.sibling=Pr,Sr=Pr,Tr=en}if(Mr===Ke.length)return kt(Ye,Tr),jr&&bi(Ye,Mr),xr;if(Tr===null){for(;Mr<Ke.length;Mr++)Tr=lr(Ye,Ke[Mr],ur),Tr!==null&&(He=fe(Tr,He,Mr),Sr===null?xr=Tr:Sr.sibling=Tr,Sr=Tr);return jr&&bi(Ye,Mr),xr}for(Tr=Bt(Ye,Tr);Mr<Ke.length;Mr++)en=mr(Tr,Ye,Mr,Ke[Mr],ur),en!==null&&(D&&en.alternate!==null&&Tr.delete(en.key===null?Mr:en.key),He=fe(en,He,Mr),Sr===null?xr=en:Sr.sibling=en,Sr=en);return D&&Tr.forEach(function(mi){return q(Ye,mi)}),jr&&bi(Ye,Mr),xr}function wr(Ye,He,Ke,ur){var xr=ye(Ke);if(typeof xr!="function")throw Error(g(150));if(Ke=xr.call(Ke),Ke==null)throw Error(g(151));for(var Sr=xr=null,Tr=He,Mr=He=0,en=null,Pr=Ke.next();Tr!==null&&!Pr.done;Mr++,Pr=Ke.next()){Tr.index>Mr?(en=Tr,Tr=null):en=Tr.sibling;var mi=or(Ye,Tr,Pr.value,ur);if(mi===null){Tr===null&&(Tr=en);break}D&&Tr&&mi.alternate===null&&q(Ye,Tr),He=fe(mi,He,Mr),Sr===null?xr=mi:Sr.sibling=mi,Sr=mi,Tr=en}if(Pr.done)return kt(Ye,Tr),jr&&bi(Ye,Mr),xr;if(Tr===null){for(;!Pr.done;Mr++,Pr=Ke.next())Pr=lr(Ye,Pr.value,ur),Pr!==null&&(He=fe(Pr,He,Mr),Sr===null?xr=Pr:Sr.sibling=Pr,Sr=Pr);return jr&&bi(Ye,Mr),xr}for(Tr=Bt(Ye,Tr);!Pr.done;Mr++,Pr=Ke.next())Pr=mr(Tr,Ye,Mr,Pr.value,ur),Pr!==null&&(D&&Pr.alternate!==null&&Tr.delete(Pr.key===null?Mr:Pr.key),He=fe(Pr,He,Mr),Sr===null?xr=Pr:Sr.sibling=Pr,Sr=Pr);return D&&Tr.forEach(function(jd){return q(Ye,jd)}),jr&&bi(Ye,Mr),xr}function qr(Ye,He,Ke,ur){if(typeof Ke=="object"&&Ke!==null&&Ke.type===Kt&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case Yt:t:{for(var xr=Ke.key,Sr=He;Sr!==null;){if(Sr.key===xr){if(xr=Ke.type,xr===Kt){if(Sr.tag===7){kt(Ye,Sr.sibling),He=te(Sr,Ke.props.children),He.return=Ye,Ye=He;break t}}else if(Sr.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===de&&Bu(xr)===Sr.type){kt(Ye,Sr.sibling),He=te(Sr,Ke.props),He.ref=ba(Ye,Sr,Ke),He.return=Ye,Ye=He;break t}kt(Ye,Sr);break}else q(Ye,Sr);Sr=Sr.sibling}Ke.type===Kt?(He=Ii(Ke.props.children,Ye.mode,ur,Ke.key),He.return=Ye,Ye=He):(ur=Uo(Ke.type,Ke.key,Ke.props,null,Ye.mode,ur),ur.ref=ba(Ye,He,Ke),ur.return=Ye,Ye=ur)}return Ie(Ye);case ne:t:{for(Sr=Ke.key;He!==null;){if(He.key===Sr)if(He.tag===4&&He.stateNode.containerInfo===Ke.containerInfo&&He.stateNode.implementation===Ke.implementation){kt(Ye,He.sibling),He=te(He,Ke.children||[]),He.return=Ye,Ye=He;break t}else{kt(Ye,He);break}else q(Ye,He);He=He.sibling}He=Sl(Ke,Ye.mode,ur),He.return=Ye,Ye=He}return Ie(Ye);case de:return Sr=Ke._init,qr(Ye,He,Sr(Ke._payload),ur)}if(_e(Ke))return vr(Ye,He,Ke,ur);if(ye(Ke))return wr(Ye,He,Ke,ur);go(Ye,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"?(Ke=""+Ke,He!==null&&He.tag===6?(kt(Ye,He.sibling),He=te(He,Ke),He.return=Ye,Ye=He):(kt(Ye,He),He=kl(Ke,Ye.mode,ur),He.return=Ye,Ye=He),Ie(Ye)):kt(Ye,He)}return qr}var Ui=zu(!0),Nu=zu(!1),yo=ii(null),bo=null,ji=null,zs=null;function Ns(){zs=ji=bo=null}function $s(D){var q=yo.current;Dr(yo),D._currentValue=q}function Fs(D,q,kt){for(;D!==null;){var Bt=D.alternate;if((D.childLanes&q)!==q?(D.childLanes|=q,Bt!==null&&(Bt.childLanes|=q)):Bt!==null&&(Bt.childLanes&q)!==q&&(Bt.childLanes|=q),D===kt)break;D=D.return}}function Zi(D,q){bo=D,zs=ji=null,D=D.dependencies,D!==null&&D.firstContext!==null&&(D.lanes&q&&(pn=!0),D.firstContext=null)}function Sn(D){var q=D._currentValue;if(zs!==D)if(D={context:D,memoizedValue:q,next:null},ji===null){if(bo===null)throw Error(g(308));ji=D,bo.dependencies={lanes:0,firstContext:D}}else ji=ji.next=D;return q}var vi=null;function Os(D){vi===null?vi=[D]:vi.push(D)}function $u(D,q,kt,Bt){var te=q.interleaved;return te===null?(kt.next=kt,Os(q)):(kt.next=te.next,te.next=kt),q.interleaved=kt,Wn(D,Bt)}function Wn(D,q){D.lanes|=q;var kt=D.alternate;for(kt!==null&&(kt.lanes|=q),kt=D,D=D.return;D!==null;)D.childLanes|=q,kt=D.alternate,kt!==null&&(kt.childLanes|=q),kt=D,D=D.return;return kt.tag===3?kt.stateNode:null}var si=!1;function Ds(D){D.updateQueue={baseState:D.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fu(D,q){D=D.updateQueue,q.updateQueue===D&&(q.updateQueue={baseState:D.baseState,firstBaseUpdate:D.firstBaseUpdate,lastBaseUpdate:D.lastBaseUpdate,shared:D.shared,effects:D.effects})}function Qn(D,q){return{eventTime:D,lane:q,tag:0,payload:null,callback:null,next:null}}function li(D,q,kt){var Bt=D.updateQueue;if(Bt===null)return null;if(Bt=Bt.shared,Cr&2){var te=Bt.pending;return te===null?q.next=q:(q.next=te.next,te.next=q),Bt.pending=q,Wn(D,kt)}return te=Bt.interleaved,te===null?(q.next=q,Os(Bt)):(q.next=te.next,te.next=q),Bt.interleaved=q,Wn(D,kt)}function vo(D,q,kt){if(q=q.updateQueue,q!==null&&(q=q.shared,(kt&4194240)!==0)){var Bt=q.lanes;Bt&=D.pendingLanes,kt|=Bt,q.lanes=kt,Jo(D,kt)}}function Ou(D,q){var kt=D.updateQueue,Bt=D.alternate;if(Bt!==null&&(Bt=Bt.updateQueue,kt===Bt)){var te=null,fe=null;if(kt=kt.firstBaseUpdate,kt!==null){do{var Ie={eventTime:kt.eventTime,lane:kt.lane,tag:kt.tag,payload:kt.payload,callback:kt.callback,next:null};fe===null?te=fe=Ie:fe=fe.next=Ie,kt=kt.next}while(kt!==null);fe===null?te=fe=q:fe=fe.next=q}else te=fe=q;kt={baseState:Bt.baseState,firstBaseUpdate:te,lastBaseUpdate:fe,shared:Bt.shared,effects:Bt.effects},D.updateQueue=kt;return}D=kt.lastBaseUpdate,D===null?kt.firstBaseUpdate=q:D.next=q,kt.lastBaseUpdate=q}function wo(D,q,kt,Bt){var te=D.updateQueue;si=!1;var fe=te.firstBaseUpdate,Ie=te.lastBaseUpdate,Ue=te.shared.pending;if(Ue!==null){te.shared.pending=null;var Ge=Ue,Je=Ge.next;Ge.next=null,Ie===null?fe=Je:Ie.next=Je,Ie=Ge;var sr=D.alternate;sr!==null&&(sr=sr.updateQueue,Ue=sr.lastBaseUpdate,Ue!==Ie&&(Ue===null?sr.firstBaseUpdate=Je:Ue.next=Je,sr.lastBaseUpdate=Ge))}if(fe!==null){var lr=te.baseState;Ie=0,sr=Je=Ge=null,Ue=fe;do{var or=Ue.lane,mr=Ue.eventTime;if((Bt&or)===or){sr!==null&&(sr=sr.next={eventTime:mr,lane:0,tag:Ue.tag,payload:Ue.payload,callback:Ue.callback,next:null});t:{var vr=D,wr=Ue;switch(or=q,mr=kt,wr.tag){case 1:if(vr=wr.payload,typeof vr=="function"){lr=vr.call(mr,lr,or);break t}lr=vr;break t;case 3:vr.flags=vr.flags&-65537|128;case 0:if(vr=wr.payload,or=typeof vr=="function"?vr.call(mr,lr,or):vr,or==null)break t;lr=Me({},lr,or);break t;case 2:si=!0}}Ue.callback!==null&&Ue.lane!==0&&(D.flags|=64,or=te.effects,or===null?te.effects=[Ue]:or.push(Ue))}else mr={eventTime:mr,lane:or,tag:Ue.tag,payload:Ue.payload,callback:Ue.callback,next:null},sr===null?(Je=sr=mr,Ge=lr):sr=sr.next=mr,Ie|=or;if(Ue=Ue.next,Ue===null){if(Ue=te.shared.pending,Ue===null)break;or=Ue,Ue=or.next,or.next=null,te.lastBaseUpdate=or,te.shared.pending=null}}while(!0);if(sr===null&&(Ge=lr),te.baseState=Ge,te.firstBaseUpdate=Je,te.lastBaseUpdate=sr,q=te.shared.interleaved,q!==null){te=q;do Ie|=te.lane,te=te.next;while(te!==q)}else fe===null&&(te.shared.lanes=0);Ei|=Ie,D.lanes=Ie,D.memoizedState=lr}}function Du(D,q,kt){if(D=q.effects,q.effects=null,D!==null)for(q=0;q<D.length;q++){var Bt=D[q],te=Bt.callback;if(te!==null){if(Bt.callback=null,Bt=kt,typeof te!="function")throw Error(g(191,te));te.call(Bt)}}}var va={},Dn=ii(va),wa=ii(va),xa=ii(va);function wi(D){if(D===va)throw Error(g(174));return D}function Ls(D,q){switch(zr(xa,q),zr(wa,D),zr(Dn,va),D=q.nodeType,D){case 9:case 11:q=(q=q.documentElement)?q.namespaceURI:ar(null,"");break;default:D=D===8?q.parentNode:q,q=D.namespaceURI||null,D=D.tagName,q=ar(q,D)}Dr(Dn),zr(Dn,q)}function Gi(){Dr(Dn),Dr(wa),Dr(xa)}function Lu(D){wi(xa.current);var q=wi(Dn.current),kt=ar(q,D.type);q!==kt&&(zr(wa,D),zr(Dn,kt))}function Us(D){wa.current===D&&(Dr(Dn),Dr(wa))}var Gr=ii(0);function xo(D){for(var q=D;q!==null;){if(q.tag===13){var kt=q.memoizedState;if(kt!==null&&(kt=kt.dehydrated,kt===null||kt.data==="$?"||kt.data==="$!"))return q}else if(q.tag===19&&q.memoizedProps.revealOrder!==void 0){if(q.flags&128)return q}else if(q.child!==null){q.child.return=q,q=q.child;continue}if(q===D)break;for(;q.sibling===null;){if(q.return===null||q.return===D)return null;q=q.return}q.sibling.return=q.return,q=q.sibling}return null}var js=[];function Zs(){for(var D=0;D<js.length;D++)js[D]._workInProgressVersionPrimary=null;js.length=0}var Eo=Dt.ReactCurrentDispatcher,Gs=Dt.ReactCurrentBatchConfig,xi=0,Hr=null,Yr=null,Jr=null,ko=!1,Ea=!1,ka=0,cd=0;function sn(){throw Error(g(321))}function Hs(D,q){if(q===null)return!1;for(var kt=0;kt<q.length&&kt<D.length;kt++)if(!Pn(D[kt],q[kt]))return!1;return!0}function Ws(D,q,kt,Bt,te,fe){if(xi=fe,Hr=q,q.memoizedState=null,q.updateQueue=null,q.lanes=0,Eo.current=D===null||D.memoizedState===null?md:_d,D=kt(Bt,te),Ea){fe=0;do{if(Ea=!1,ka=0,25<=fe)throw Error(g(301));fe+=1,Jr=Yr=null,q.updateQueue=null,Eo.current=gd,D=kt(Bt,te)}while(Ea)}if(Eo.current=Io,q=Yr!==null&&Yr.next!==null,xi=0,Jr=Yr=Hr=null,ko=!1,q)throw Error(g(300));return D}function Qs(){var D=ka!==0;return ka=0,D}function Ln(){var D={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?Hr.memoizedState=Jr=D:Jr=Jr.next=D,Jr}function Tn(){if(Yr===null){var D=Hr.alternate;D=D!==null?D.memoizedState:null}else D=Yr.next;var q=Jr===null?Hr.memoizedState:Jr.next;if(q!==null)Jr=q,Yr=D;else{if(D===null)throw Error(g(310));Yr=D,D={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},Jr===null?Hr.memoizedState=Jr=D:Jr=Jr.next=D}return Jr}function Sa(D,q){return typeof q=="function"?q(D):q}function qs(D){var q=Tn(),kt=q.queue;if(kt===null)throw Error(g(311));kt.lastRenderedReducer=D;var Bt=Yr,te=Bt.baseQueue,fe=kt.pending;if(fe!==null){if(te!==null){var Ie=te.next;te.next=fe.next,fe.next=Ie}Bt.baseQueue=te=fe,kt.pending=null}if(te!==null){fe=te.next,Bt=Bt.baseState;var Ue=Ie=null,Ge=null,Je=fe;do{var sr=Je.lane;if((xi&sr)===sr)Ge!==null&&(Ge=Ge.next={lane:0,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null}),Bt=Je.hasEagerState?Je.eagerState:D(Bt,Je.action);else{var lr={lane:sr,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null};Ge===null?(Ue=Ge=lr,Ie=Bt):Ge=Ge.next=lr,Hr.lanes|=sr,Ei|=sr}Je=Je.next}while(Je!==null&&Je!==fe);Ge===null?Ie=Bt:Ge.next=Ue,Pn(Bt,q.memoizedState)||(pn=!0),q.memoizedState=Bt,q.baseState=Ie,q.baseQueue=Ge,kt.lastRenderedState=Bt}if(D=kt.interleaved,D!==null){te=D;do fe=te.lane,Hr.lanes|=fe,Ei|=fe,te=te.next;while(te!==D)}else te===null&&(kt.lanes=0);return[q.memoizedState,kt.dispatch]}function Vs(D){var q=Tn(),kt=q.queue;if(kt===null)throw Error(g(311));kt.lastRenderedReducer=D;var Bt=kt.dispatch,te=kt.pending,fe=q.memoizedState;if(te!==null){kt.pending=null;var Ie=te=te.next;do fe=D(fe,Ie.action),Ie=Ie.next;while(Ie!==te);Pn(fe,q.memoizedState)||(pn=!0),q.memoizedState=fe,q.baseQueue===null&&(q.baseState=fe),kt.lastRenderedState=fe}return[fe,Bt]}function Uu(){}function ju(D,q){var kt=Hr,Bt=Tn(),te=q(),fe=!Pn(Bt.memoizedState,te);if(fe&&(Bt.memoizedState=te,pn=!0),Bt=Bt.queue,Ys(Hu.bind(null,kt,Bt,D),[D]),Bt.getSnapshot!==q||fe||Jr!==null&&Jr.memoizedState.tag&1){if(kt.flags|=2048,Ta(9,Gu.bind(null,kt,Bt,te,q),void 0,null),tn===null)throw Error(g(349));xi&30||Zu(kt,q,te)}return te}function Zu(D,q,kt){D.flags|=16384,D={getSnapshot:q,value:kt},q=Hr.updateQueue,q===null?(q={lastEffect:null,stores:null},Hr.updateQueue=q,q.stores=[D]):(kt=q.stores,kt===null?q.stores=[D]:kt.push(D))}function Gu(D,q,kt,Bt){q.value=kt,q.getSnapshot=Bt,Wu(q)&&Qu(D)}function Hu(D,q,kt){return kt(function(){Wu(q)&&Qu(D)})}function Wu(D){var q=D.getSnapshot;D=D.value;try{var kt=q();return!Pn(D,kt)}catch{return!0}}function Qu(D){var q=Wn(D,1);q!==null&&$n(q,D,1,-1)}function qu(D){var q=Ln();return typeof D=="function"&&(D=D()),q.memoizedState=q.baseState=D,D={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:D},q.queue=D,D=D.dispatch=pd.bind(null,Hr,D),[q.memoizedState,D]}function Ta(D,q,kt,Bt){return D={tag:D,create:q,destroy:kt,deps:Bt,next:null},q=Hr.updateQueue,q===null?(q={lastEffect:null,stores:null},Hr.updateQueue=q,q.lastEffect=D.next=D):(kt=q.lastEffect,kt===null?q.lastEffect=D.next=D:(Bt=kt.next,kt.next=D,D.next=Bt,q.lastEffect=D)),D}function Vu(){return Tn().memoizedState}function So(D,q,kt,Bt){var te=Ln();Hr.flags|=D,te.memoizedState=Ta(1|q,kt,void 0,Bt===void 0?null:Bt)}function To(D,q,kt,Bt){var te=Tn();Bt=Bt===void 0?null:Bt;var fe=void 0;if(Yr!==null){var Ie=Yr.memoizedState;if(fe=Ie.destroy,Bt!==null&&Hs(Bt,Ie.deps)){te.memoizedState=Ta(q,kt,fe,Bt);return}}Hr.flags|=D,te.memoizedState=Ta(1|q,kt,fe,Bt)}function Yu(D,q){return So(8390656,8,D,q)}function Ys(D,q){return To(2048,8,D,q)}function Ku(D,q){return To(4,2,D,q)}function Xu(D,q){return To(4,4,D,q)}function Ju(D,q){if(typeof q=="function")return D=D(),q(D),function(){q(null)};if(q!=null)return D=D(),q.current=D,function(){q.current=null}}function tf(D,q,kt){return kt=kt!=null?kt.concat([D]):null,To(4,4,Ju.bind(null,q,D),kt)}function Ks(){}function ef(D,q){var kt=Tn();q=q===void 0?null:q;var Bt=kt.memoizedState;return Bt!==null&&q!==null&&Hs(q,Bt[1])?Bt[0]:(kt.memoizedState=[D,q],D)}function rf(D,q){var kt=Tn();q=q===void 0?null:q;var Bt=kt.memoizedState;return Bt!==null&&q!==null&&Hs(q,Bt[1])?Bt[0]:(D=D(),kt.memoizedState=[D,q],D)}function nf(D,q,kt){return xi&21?(Pn(kt,q)||(kt=Bl(),Hr.lanes|=kt,Ei|=kt,D.baseState=!0),q):(D.baseState&&(D.baseState=!1,pn=!0),D.memoizedState=kt)}function dd(D,q){var kt=Rr;Rr=kt!==0&&4>kt?kt:4,D(!0);var Bt=Gs.transition;Gs.transition={};try{D(!1),q()}finally{Rr=kt,Gs.transition=Bt}}function af(){return Tn().memoizedState}function hd(D,q,kt){var Bt=di(D);if(kt={lane:Bt,action:kt,hasEagerState:!1,eagerState:null,next:null},of(D))sf(q,kt);else if(kt=$u(D,q,kt,Bt),kt!==null){var te=cn();$n(kt,D,Bt,te),lf(kt,q,Bt)}}function pd(D,q,kt){var Bt=di(D),te={lane:Bt,action:kt,hasEagerState:!1,eagerState:null,next:null};if(of(D))sf(q,te);else{var fe=D.alternate;if(D.lanes===0&&(fe===null||fe.lanes===0)&&(fe=q.lastRenderedReducer,fe!==null))try{var Ie=q.lastRenderedState,Ue=fe(Ie,kt);if(te.hasEagerState=!0,te.eagerState=Ue,Pn(Ue,Ie)){var Ge=q.interleaved;Ge===null?(te.next=te,Os(q)):(te.next=Ge.next,Ge.next=te),q.interleaved=te;return}}catch{}finally{}kt=$u(D,q,te,Bt),kt!==null&&(te=cn(),$n(kt,D,Bt,te),lf(kt,q,Bt))}}function of(D){var q=D.alternate;return D===Hr||q!==null&&q===Hr}function sf(D,q){Ea=ko=!0;var kt=D.pending;kt===null?q.next=q:(q.next=kt.next,kt.next=q),D.pending=q}function lf(D,q,kt){if(kt&4194240){var Bt=q.lanes;Bt&=D.pendingLanes,kt|=Bt,q.lanes=kt,Jo(D,kt)}}var Io={readContext:Sn,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},md={readContext:Sn,useCallback:function(D,q){return Ln().memoizedState=[D,q===void 0?null:q],D},useContext:Sn,useEffect:Yu,useImperativeHandle:function(D,q,kt){return kt=kt!=null?kt.concat([D]):null,So(4194308,4,Ju.bind(null,q,D),kt)},useLayoutEffect:function(D,q){return So(4194308,4,D,q)},useInsertionEffect:function(D,q){return So(4,2,D,q)},useMemo:function(D,q){var kt=Ln();return q=q===void 0?null:q,D=D(),kt.memoizedState=[D,q],D},useReducer:function(D,q,kt){var Bt=Ln();return q=kt!==void 0?kt(q):q,Bt.memoizedState=Bt.baseState=q,D={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:D,lastRenderedState:q},Bt.queue=D,D=D.dispatch=hd.bind(null,Hr,D),[Bt.memoizedState,D]},useRef:function(D){var q=Ln();return D={current:D},q.memoizedState=D},useState:qu,useDebugValue:Ks,useDeferredValue:function(D){return Ln().memoizedState=D},useTransition:function(){var D=qu(!1),q=D[0];return D=dd.bind(null,D[1]),Ln().memoizedState=D,[q,D]},useMutableSource:function(){},useSyncExternalStore:function(D,q,kt){var Bt=Hr,te=Ln();if(jr){if(kt===void 0)throw Error(g(407));kt=kt()}else{if(kt=q(),tn===null)throw Error(g(349));xi&30||Zu(Bt,q,kt)}te.memoizedState=kt;var fe={value:kt,getSnapshot:q};return te.queue=fe,Yu(Hu.bind(null,Bt,fe,D),[D]),Bt.flags|=2048,Ta(9,Gu.bind(null,Bt,fe,kt,q),void 0,null),kt},useId:function(){var D=Ln(),q=tn.identifierPrefix;if(jr){var kt=Hn,Bt=Gn;kt=(Bt&~(1<<32-Cn(Bt)-1)).toString(32)+kt,q=":"+q+"R"+kt,kt=ka++,0<kt&&(q+="H"+kt.toString(32)),q+=":"}else kt=cd++,q=":"+q+"r"+kt.toString(32)+":";return D.memoizedState=q},unstable_isNewReconciler:!1},_d={readContext:Sn,useCallback:ef,useContext:Sn,useEffect:Ys,useImperativeHandle:tf,useInsertionEffect:Ku,useLayoutEffect:Xu,useMemo:rf,useReducer:qs,useRef:Vu,useState:function(){return qs(Sa)},useDebugValue:Ks,useDeferredValue:function(D){var q=Tn();return nf(q,Yr.memoizedState,D)},useTransition:function(){var D=qs(Sa)[0],q=Tn().memoizedState;return[D,q]},useMutableSource:Uu,useSyncExternalStore:ju,useId:af,unstable_isNewReconciler:!1},gd={readContext:Sn,useCallback:ef,useContext:Sn,useEffect:Ys,useImperativeHandle:tf,useInsertionEffect:Ku,useLayoutEffect:Xu,useMemo:rf,useReducer:Vs,useRef:Vu,useState:function(){return Vs(Sa)},useDebugValue:Ks,useDeferredValue:function(D){var q=Tn();return Yr===null?q.memoizedState=D:nf(q,Yr.memoizedState,D)},useTransition:function(){var D=Vs(Sa)[0],q=Tn().memoizedState;return[D,q]},useMutableSource:Uu,useSyncExternalStore:ju,useId:af,unstable_isNewReconciler:!1};function Bn(D,q){if(D&&D.defaultProps){q=Me({},q),D=D.defaultProps;for(var kt in D)q[kt]===void 0&&(q[kt]=D[kt]);return q}return q}function Xs(D,q,kt,Bt){q=D.memoizedState,kt=kt(Bt,q),kt=kt==null?q:Me({},q,kt),D.memoizedState=kt,D.lanes===0&&(D.updateQueue.baseState=kt)}var Mo={isMounted:function(D){return(D=D._reactInternals)?Zr(D)===D:!1},enqueueSetState:function(D,q,kt){D=D._reactInternals;var Bt=cn(),te=di(D),fe=Qn(Bt,te);fe.payload=q,kt!=null&&(fe.callback=kt),q=li(D,fe,te),q!==null&&($n(q,D,te,Bt),vo(q,D,te))},enqueueReplaceState:function(D,q,kt){D=D._reactInternals;var Bt=cn(),te=di(D),fe=Qn(Bt,te);fe.tag=1,fe.payload=q,kt!=null&&(fe.callback=kt),q=li(D,fe,te),q!==null&&($n(q,D,te,Bt),vo(q,D,te))},enqueueForceUpdate:function(D,q){D=D._reactInternals;var kt=cn(),Bt=di(D),te=Qn(kt,Bt);te.tag=2,q!=null&&(te.callback=q),q=li(D,te,Bt),q!==null&&($n(q,D,Bt,kt),vo(q,D,Bt))}};function uf(D,q,kt,Bt,te,fe,Ie){return D=D.stateNode,typeof D.shouldComponentUpdate=="function"?D.shouldComponentUpdate(Bt,fe,Ie):q.prototype&&q.prototype.isPureReactComponent?!da(kt,Bt)||!da(te,fe):!0}function ff(D,q,kt){var Bt=!1,te=ai,fe=q.contextType;return typeof fe=="object"&&fe!==null?fe=Sn(fe):(te=hn(q)?gi:on.current,Bt=q.contextTypes,fe=(Bt=Bt!=null)?Fi(D,te):ai),q=new q(kt,fe),D.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,q.updater=Mo,D.stateNode=q,q._reactInternals=D,Bt&&(D=D.stateNode,D.__reactInternalMemoizedUnmaskedChildContext=te,D.__reactInternalMemoizedMaskedChildContext=fe),q}function cf(D,q,kt,Bt){D=q.state,typeof q.componentWillReceiveProps=="function"&&q.componentWillReceiveProps(kt,Bt),typeof q.UNSAFE_componentWillReceiveProps=="function"&&q.UNSAFE_componentWillReceiveProps(kt,Bt),q.state!==D&&Mo.enqueueReplaceState(q,q.state,null)}function Js(D,q,kt,Bt){var te=D.stateNode;te.props=kt,te.state=D.memoizedState,te.refs={},Ds(D);var fe=q.contextType;typeof fe=="object"&&fe!==null?te.context=Sn(fe):(fe=hn(q)?gi:on.current,te.context=Fi(D,fe)),te.state=D.memoizedState,fe=q.getDerivedStateFromProps,typeof fe=="function"&&(Xs(D,q,fe,kt),te.state=D.memoizedState),typeof q.getDerivedStateFromProps=="function"||typeof te.getSnapshotBeforeUpdate=="function"||typeof te.UNSAFE_componentWillMount!="function"&&typeof te.componentWillMount!="function"||(q=te.state,typeof te.componentWillMount=="function"&&te.componentWillMount(),typeof te.UNSAFE_componentWillMount=="function"&&te.UNSAFE_componentWillMount(),q!==te.state&&Mo.enqueueReplaceState(te,te.state,null),wo(D,kt,te,Bt),te.state=D.memoizedState),typeof te.componentDidMount=="function"&&(D.flags|=4194308)}function Hi(D,q){try{var kt="",Bt=q;do kt+=Ee(Bt),Bt=Bt.return;while(Bt);var te=kt}catch(fe){te=`
Error generating stack: `+fe.message+`
`+fe.stack}return{value:D,source:q,stack:te,digest:null}}function tl(D,q,kt){return{value:D,source:null,stack:kt??null,digest:q??null}}function el(D,q){try{console.error(q.value)}catch(kt){setTimeout(function(){throw kt})}}var yd=typeof WeakMap=="function"?WeakMap:Map;function df(D,q,kt){kt=Qn(-1,kt),kt.tag=3,kt.payload={element:null};var Bt=q.value;return kt.callback=function(){No||(No=!0,_l=Bt),el(D,q)},kt}function hf(D,q,kt){kt=Qn(-1,kt),kt.tag=3;var Bt=D.type.getDerivedStateFromError;if(typeof Bt=="function"){var te=q.value;kt.payload=function(){return Bt(te)},kt.callback=function(){el(D,q)}}var fe=D.stateNode;return fe!==null&&typeof fe.componentDidCatch=="function"&&(kt.callback=function(){el(D,q),typeof Bt!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var Ie=q.stack;this.componentDidCatch(q.value,{componentStack:Ie!==null?Ie:""})}),kt}function pf(D,q,kt){var Bt=D.pingCache;if(Bt===null){Bt=D.pingCache=new yd;var te=new Set;Bt.set(q,te)}else te=Bt.get(q),te===void 0&&(te=new Set,Bt.set(q,te));te.has(kt)||(te.add(kt),D=Rd.bind(null,D,q,kt),q.then(D,D))}function mf(D){do{var q;if((q=D.tag===13)&&(q=D.memoizedState,q=q!==null?q.dehydrated!==null:!0),q)return D;D=D.return}while(D!==null);return null}function _f(D,q,kt,Bt,te){return D.mode&1?(D.flags|=65536,D.lanes=te,D):(D===q?D.flags|=65536:(D.flags|=128,kt.flags|=131072,kt.flags&=-52805,kt.tag===1&&(kt.alternate===null?kt.tag=17:(q=Qn(-1,1),q.tag=2,li(kt,q,1))),kt.lanes|=1),D)}var bd=Dt.ReactCurrentOwner,pn=!1;function fn(D,q,kt,Bt){q.child=D===null?Nu(q,null,kt,Bt):Ui(q,D.child,kt,Bt)}function gf(D,q,kt,Bt,te){kt=kt.render;var fe=q.ref;return Zi(q,te),Bt=Ws(D,q,kt,Bt,fe,te),kt=Qs(),D!==null&&!pn?(q.updateQueue=D.updateQueue,q.flags&=-2053,D.lanes&=~te,qn(D,q,te)):(jr&&kt&&As(q),q.flags|=1,fn(D,q,Bt,te),q.child)}function yf(D,q,kt,Bt,te){if(D===null){var fe=kt.type;return typeof fe=="function"&&!El(fe)&&fe.defaultProps===void 0&&kt.compare===null&&kt.defaultProps===void 0?(q.tag=15,q.type=fe,bf(D,q,fe,Bt,te)):(D=Uo(kt.type,null,Bt,q,q.mode,te),D.ref=q.ref,D.return=q,q.child=D)}if(fe=D.child,!(D.lanes&te)){var Ie=fe.memoizedProps;if(kt=kt.compare,kt=kt!==null?kt:da,kt(Ie,Bt)&&D.ref===q.ref)return qn(D,q,te)}return q.flags|=1,D=pi(fe,Bt),D.ref=q.ref,D.return=q,q.child=D}function bf(D,q,kt,Bt,te){if(D!==null){var fe=D.memoizedProps;if(da(fe,Bt)&&D.ref===q.ref)if(pn=!1,q.pendingProps=Bt=fe,(D.lanes&te)!==0)D.flags&131072&&(pn=!0);else return q.lanes=D.lanes,qn(D,q,te)}return rl(D,q,kt,Bt,te)}function vf(D,q,kt){var Bt=q.pendingProps,te=Bt.children,fe=D!==null?D.memoizedState:null;if(Bt.mode==="hidden")if(!(q.mode&1))q.memoizedState={baseLanes:0,cachePool:null,transitions:null},zr(Qi,wn),wn|=kt;else{if(!(kt&1073741824))return D=fe!==null?fe.baseLanes|kt:kt,q.lanes=q.childLanes=1073741824,q.memoizedState={baseLanes:D,cachePool:null,transitions:null},q.updateQueue=null,zr(Qi,wn),wn|=D,null;q.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt=fe!==null?fe.baseLanes:kt,zr(Qi,wn),wn|=Bt}else fe!==null?(Bt=fe.baseLanes|kt,q.memoizedState=null):Bt=kt,zr(Qi,wn),wn|=Bt;return fn(D,q,te,kt),q.child}function wf(D,q){var kt=q.ref;(D===null&&kt!==null||D!==null&&D.ref!==kt)&&(q.flags|=512,q.flags|=2097152)}function rl(D,q,kt,Bt,te){var fe=hn(kt)?gi:on.current;return fe=Fi(q,fe),Zi(q,te),kt=Ws(D,q,kt,Bt,fe,te),Bt=Qs(),D!==null&&!pn?(q.updateQueue=D.updateQueue,q.flags&=-2053,D.lanes&=~te,qn(D,q,te)):(jr&&Bt&&As(q),q.flags|=1,fn(D,q,kt,te),q.child)}function xf(D,q,kt,Bt,te){if(hn(kt)){var fe=!0;fo(q)}else fe=!1;if(Zi(q,te),q.stateNode===null)Co(D,q),ff(q,kt,Bt),Js(q,kt,Bt,te),Bt=!0;else if(D===null){var Ie=q.stateNode,Ue=q.memoizedProps;Ie.props=Ue;var Ge=Ie.context,Je=kt.contextType;typeof Je=="object"&&Je!==null?Je=Sn(Je):(Je=hn(kt)?gi:on.current,Je=Fi(q,Je));var sr=kt.getDerivedStateFromProps,lr=typeof sr=="function"||typeof Ie.getSnapshotBeforeUpdate=="function";lr||typeof Ie.UNSAFE_componentWillReceiveProps!="function"&&typeof Ie.componentWillReceiveProps!="function"||(Ue!==Bt||Ge!==Je)&&cf(q,Ie,Bt,Je),si=!1;var or=q.memoizedState;Ie.state=or,wo(q,Bt,Ie,te),Ge=q.memoizedState,Ue!==Bt||or!==Ge||dn.current||si?(typeof sr=="function"&&(Xs(q,kt,sr,Bt),Ge=q.memoizedState),(Ue=si||uf(q,kt,Ue,Bt,or,Ge,Je))?(lr||typeof Ie.UNSAFE_componentWillMount!="function"&&typeof Ie.componentWillMount!="function"||(typeof Ie.componentWillMount=="function"&&Ie.componentWillMount(),typeof Ie.UNSAFE_componentWillMount=="function"&&Ie.UNSAFE_componentWillMount()),typeof Ie.componentDidMount=="function"&&(q.flags|=4194308)):(typeof Ie.componentDidMount=="function"&&(q.flags|=4194308),q.memoizedProps=Bt,q.memoizedState=Ge),Ie.props=Bt,Ie.state=Ge,Ie.context=Je,Bt=Ue):(typeof Ie.componentDidMount=="function"&&(q.flags|=4194308),Bt=!1)}else{Ie=q.stateNode,Fu(D,q),Ue=q.memoizedProps,Je=q.type===q.elementType?Ue:Bn(q.type,Ue),Ie.props=Je,lr=q.pendingProps,or=Ie.context,Ge=kt.contextType,typeof Ge=="object"&&Ge!==null?Ge=Sn(Ge):(Ge=hn(kt)?gi:on.current,Ge=Fi(q,Ge));var mr=kt.getDerivedStateFromProps;(sr=typeof mr=="function"||typeof Ie.getSnapshotBeforeUpdate=="function")||typeof Ie.UNSAFE_componentWillReceiveProps!="function"&&typeof Ie.componentWillReceiveProps!="function"||(Ue!==lr||or!==Ge)&&cf(q,Ie,Bt,Ge),si=!1,or=q.memoizedState,Ie.state=or,wo(q,Bt,Ie,te);var vr=q.memoizedState;Ue!==lr||or!==vr||dn.current||si?(typeof mr=="function"&&(Xs(q,kt,mr,Bt),vr=q.memoizedState),(Je=si||uf(q,kt,Je,Bt,or,vr,Ge)||!1)?(sr||typeof Ie.UNSAFE_componentWillUpdate!="function"&&typeof Ie.componentWillUpdate!="function"||(typeof Ie.componentWillUpdate=="function"&&Ie.componentWillUpdate(Bt,vr,Ge),typeof Ie.UNSAFE_componentWillUpdate=="function"&&Ie.UNSAFE_componentWillUpdate(Bt,vr,Ge)),typeof Ie.componentDidUpdate=="function"&&(q.flags|=4),typeof Ie.getSnapshotBeforeUpdate=="function"&&(q.flags|=1024)):(typeof Ie.componentDidUpdate!="function"||Ue===D.memoizedProps&&or===D.memoizedState||(q.flags|=4),typeof Ie.getSnapshotBeforeUpdate!="function"||Ue===D.memoizedProps&&or===D.memoizedState||(q.flags|=1024),q.memoizedProps=Bt,q.memoizedState=vr),Ie.props=Bt,Ie.state=vr,Ie.context=Ge,Bt=Je):(typeof Ie.componentDidUpdate!="function"||Ue===D.memoizedProps&&or===D.memoizedState||(q.flags|=4),typeof Ie.getSnapshotBeforeUpdate!="function"||Ue===D.memoizedProps&&or===D.memoizedState||(q.flags|=1024),Bt=!1)}return nl(D,q,kt,Bt,fe,te)}function nl(D,q,kt,Bt,te,fe){wf(D,q);var Ie=(q.flags&128)!==0;if(!Bt&&!Ie)return te&&Tu(q,kt,!1),qn(D,q,fe);Bt=q.stateNode,bd.current=q;var Ue=Ie&&typeof kt.getDerivedStateFromError!="function"?null:Bt.render();return q.flags|=1,D!==null&&Ie?(q.child=Ui(q,D.child,null,fe),q.child=Ui(q,null,Ue,fe)):fn(D,q,Ue,fe),q.memoizedState=Bt.state,te&&Tu(q,kt,!0),q.child}function Ef(D){var q=D.stateNode;q.pendingContext?ku(D,q.pendingContext,q.pendingContext!==q.context):q.context&&ku(D,q.context,!1),Ls(D,q.containerInfo)}function kf(D,q,kt,Bt,te){return Li(),Bs(te),q.flags|=256,fn(D,q,kt,Bt),q.child}var il={dehydrated:null,treeContext:null,retryLane:0};function al(D){return{baseLanes:D,cachePool:null,transitions:null}}function Sf(D,q,kt){var Bt=q.pendingProps,te=Gr.current,fe=!1,Ie=(q.flags&128)!==0,Ue;if((Ue=Ie)||(Ue=D!==null&&D.memoizedState===null?!1:(te&2)!==0),Ue?(fe=!0,q.flags&=-129):(D===null||D.memoizedState!==null)&&(te|=1),zr(Gr,te&1),D===null)return Rs(q),D=q.memoizedState,D!==null&&(D=D.dehydrated,D!==null)?(q.mode&1?D.data==="$!"?q.lanes=8:q.lanes=1073741824:q.lanes=1,null):(Ie=Bt.children,D=Bt.fallback,fe?(Bt=q.mode,fe=q.child,Ie={mode:"hidden",children:Ie},!(Bt&1)&&fe!==null?(fe.childLanes=0,fe.pendingProps=Ie):fe=jo(Ie,Bt,0,null),D=Ii(D,Bt,kt,null),fe.return=q,D.return=q,fe.sibling=D,q.child=fe,q.child.memoizedState=al(kt),q.memoizedState=il,D):ol(q,Ie));if(te=D.memoizedState,te!==null&&(Ue=te.dehydrated,Ue!==null))return vd(D,q,Ie,Bt,Ue,te,kt);if(fe){fe=Bt.fallback,Ie=q.mode,te=D.child,Ue=te.sibling;var Ge={mode:"hidden",children:Bt.children};return!(Ie&1)&&q.child!==te?(Bt=q.child,Bt.childLanes=0,Bt.pendingProps=Ge,q.deletions=null):(Bt=pi(te,Ge),Bt.subtreeFlags=te.subtreeFlags&14680064),Ue!==null?fe=pi(Ue,fe):(fe=Ii(fe,Ie,kt,null),fe.flags|=2),fe.return=q,Bt.return=q,Bt.sibling=fe,q.child=Bt,Bt=fe,fe=q.child,Ie=D.child.memoizedState,Ie=Ie===null?al(kt):{baseLanes:Ie.baseLanes|kt,cachePool:null,transitions:Ie.transitions},fe.memoizedState=Ie,fe.childLanes=D.childLanes&~kt,q.memoizedState=il,Bt}return fe=D.child,D=fe.sibling,Bt=pi(fe,{mode:"visible",children:Bt.children}),!(q.mode&1)&&(Bt.lanes=kt),Bt.return=q,Bt.sibling=null,D!==null&&(kt=q.deletions,kt===null?(q.deletions=[D],q.flags|=16):kt.push(D)),q.child=Bt,q.memoizedState=null,Bt}function ol(D,q){return q=jo({mode:"visible",children:q},D.mode,0,null),q.return=D,D.child=q}function Ao(D,q,kt,Bt){return Bt!==null&&Bs(Bt),Ui(q,D.child,null,kt),D=ol(q,q.pendingProps.children),D.flags|=2,q.memoizedState=null,D}function vd(D,q,kt,Bt,te,fe,Ie){if(kt)return q.flags&256?(q.flags&=-257,Bt=tl(Error(g(422))),Ao(D,q,Ie,Bt)):q.memoizedState!==null?(q.child=D.child,q.flags|=128,null):(fe=Bt.fallback,te=q.mode,Bt=jo({mode:"visible",children:Bt.children},te,0,null),fe=Ii(fe,te,Ie,null),fe.flags|=2,Bt.return=q,fe.return=q,Bt.sibling=fe,q.child=Bt,q.mode&1&&Ui(q,D.child,null,Ie),q.child.memoizedState=al(Ie),q.memoizedState=il,fe);if(!(q.mode&1))return Ao(D,q,Ie,null);if(te.data==="$!"){if(Bt=te.nextSibling&&te.nextSibling.dataset,Bt)var Ue=Bt.dgst;return Bt=Ue,fe=Error(g(419)),Bt=tl(fe,Bt,void 0),Ao(D,q,Ie,Bt)}if(Ue=(Ie&D.childLanes)!==0,pn||Ue){if(Bt=tn,Bt!==null){switch(Ie&-Ie){case 4:te=2;break;case 16:te=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:te=32;break;case 536870912:te=268435456;break;default:te=0}te=te&(Bt.suspendedLanes|Ie)?0:te,te!==0&&te!==fe.retryLane&&(fe.retryLane=te,Wn(D,te),$n(Bt,D,te,-1))}return xl(),Bt=tl(Error(g(421))),Ao(D,q,Ie,Bt)}return te.data==="$?"?(q.flags|=128,q.child=D.child,q=Bd.bind(null,D),te._reactRetry=q,null):(D=fe.treeContext,vn=ni(te.nextSibling),bn=q,jr=!0,Rn=null,D!==null&&(En[kn++]=Gn,En[kn++]=Hn,En[kn++]=yi,Gn=D.id,Hn=D.overflow,yi=q),q=ol(q,Bt.children),q.flags|=4096,q)}function Tf(D,q,kt){D.lanes|=q;var Bt=D.alternate;Bt!==null&&(Bt.lanes|=q),Fs(D.return,q,kt)}function sl(D,q,kt,Bt,te){var fe=D.memoizedState;fe===null?D.memoizedState={isBackwards:q,rendering:null,renderingStartTime:0,last:Bt,tail:kt,tailMode:te}:(fe.isBackwards=q,fe.rendering=null,fe.renderingStartTime=0,fe.last=Bt,fe.tail=kt,fe.tailMode=te)}function If(D,q,kt){var Bt=q.pendingProps,te=Bt.revealOrder,fe=Bt.tail;if(fn(D,q,Bt.children,kt),Bt=Gr.current,Bt&2)Bt=Bt&1|2,q.flags|=128;else{if(D!==null&&D.flags&128)t:for(D=q.child;D!==null;){if(D.tag===13)D.memoizedState!==null&&Tf(D,kt,q);else if(D.tag===19)Tf(D,kt,q);else if(D.child!==null){D.child.return=D,D=D.child;continue}if(D===q)break t;for(;D.sibling===null;){if(D.return===null||D.return===q)break t;D=D.return}D.sibling.return=D.return,D=D.sibling}Bt&=1}if(zr(Gr,Bt),!(q.mode&1))q.memoizedState=null;else switch(te){case"forwards":for(kt=q.child,te=null;kt!==null;)D=kt.alternate,D!==null&&xo(D)===null&&(te=kt),kt=kt.sibling;kt=te,kt===null?(te=q.child,q.child=null):(te=kt.sibling,kt.sibling=null),sl(q,!1,te,kt,fe);break;case"backwards":for(kt=null,te=q.child,q.child=null;te!==null;){if(D=te.alternate,D!==null&&xo(D)===null){q.child=te;break}D=te.sibling,te.sibling=kt,kt=te,te=D}sl(q,!0,kt,null,fe);break;case"together":sl(q,!1,null,null,void 0);break;default:q.memoizedState=null}return q.child}function Co(D,q){!(q.mode&1)&&D!==null&&(D.alternate=null,q.alternate=null,q.flags|=2)}function qn(D,q,kt){if(D!==null&&(q.dependencies=D.dependencies),Ei|=q.lanes,!(kt&q.childLanes))return null;if(D!==null&&q.child!==D.child)throw Error(g(153));if(q.child!==null){for(D=q.child,kt=pi(D,D.pendingProps),q.child=kt,kt.return=q;D.sibling!==null;)D=D.sibling,kt=kt.sibling=pi(D,D.pendingProps),kt.return=q;kt.sibling=null}return q.child}function wd(D,q,kt){switch(q.tag){case 3:Ef(q),Li();break;case 5:Lu(q);break;case 1:hn(q.type)&&fo(q);break;case 4:Ls(q,q.stateNode.containerInfo);break;case 10:var Bt=q.type._context,te=q.memoizedProps.value;zr(yo,Bt._currentValue),Bt._currentValue=te;break;case 13:if(Bt=q.memoizedState,Bt!==null)return Bt.dehydrated!==null?(zr(Gr,Gr.current&1),q.flags|=128,null):kt&q.child.childLanes?Sf(D,q,kt):(zr(Gr,Gr.current&1),D=qn(D,q,kt),D!==null?D.sibling:null);zr(Gr,Gr.current&1);break;case 19:if(Bt=(kt&q.childLanes)!==0,D.flags&128){if(Bt)return If(D,q,kt);q.flags|=128}if(te=q.memoizedState,te!==null&&(te.rendering=null,te.tail=null,te.lastEffect=null),zr(Gr,Gr.current),Bt)break;return null;case 22:case 23:return q.lanes=0,vf(D,q,kt)}return qn(D,q,kt)}var Mf,ll,Af,Cf;Mf=function(D,q){for(var kt=q.child;kt!==null;){if(kt.tag===5||kt.tag===6)D.appendChild(kt.stateNode);else if(kt.tag!==4&&kt.child!==null){kt.child.return=kt,kt=kt.child;continue}if(kt===q)break;for(;kt.sibling===null;){if(kt.return===null||kt.return===q)return;kt=kt.return}kt.sibling.return=kt.return,kt=kt.sibling}},ll=function(){},Af=function(D,q,kt,Bt){var te=D.memoizedProps;if(te!==Bt){D=q.stateNode,wi(Dn.current);var fe=null;switch(kt){case"input":te=me(D,te),Bt=me(D,Bt),fe=[];break;case"select":te=Me({},te,{value:void 0}),Bt=Me({},Bt,{value:void 0}),fe=[];break;case"textarea":te=De(D,te),Bt=De(D,Bt),fe=[];break;default:typeof te.onClick!="function"&&typeof Bt.onClick=="function"&&(D.onclick=eo)}Le(kt,Bt);var Ie;kt=null;for(Je in te)if(!Bt.hasOwnProperty(Je)&&te.hasOwnProperty(Je)&&te[Je]!=null)if(Je==="style"){var Ue=te[Je];for(Ie in Ue)Ue.hasOwnProperty(Ie)&&(kt||(kt={}),kt[Ie]="")}else Je!=="dangerouslySetInnerHTML"&&Je!=="children"&&Je!=="suppressContentEditableWarning"&&Je!=="suppressHydrationWarning"&&Je!=="autoFocus"&&(j.hasOwnProperty(Je)?fe||(fe=[]):(fe=fe||[]).push(Je,null));for(Je in Bt){var Ge=Bt[Je];if(Ue=te!=null?te[Je]:void 0,Bt.hasOwnProperty(Je)&&Ge!==Ue&&(Ge!=null||Ue!=null))if(Je==="style")if(Ue){for(Ie in Ue)!Ue.hasOwnProperty(Ie)||Ge&&Ge.hasOwnProperty(Ie)||(kt||(kt={}),kt[Ie]="");for(Ie in Ge)Ge.hasOwnProperty(Ie)&&Ue[Ie]!==Ge[Ie]&&(kt||(kt={}),kt[Ie]=Ge[Ie])}else kt||(fe||(fe=[]),fe.push(Je,kt)),kt=Ge;else Je==="dangerouslySetInnerHTML"?(Ge=Ge?Ge.__html:void 0,Ue=Ue?Ue.__html:void 0,Ge!=null&&Ue!==Ge&&(fe=fe||[]).push(Je,Ge)):Je==="children"?typeof Ge!="string"&&typeof Ge!="number"||(fe=fe||[]).push(Je,""+Ge):Je!=="suppressContentEditableWarning"&&Je!=="suppressHydrationWarning"&&(j.hasOwnProperty(Je)?(Ge!=null&&Je==="onScroll"&&Or("scroll",D),fe||Ue===Ge||(fe=[])):(fe=fe||[]).push(Je,Ge))}kt&&(fe=fe||[]).push("style",kt);var Je=fe;(q.updateQueue=Je)&&(q.flags|=4)}},Cf=function(D,q,kt,Bt){kt!==Bt&&(q.flags|=4)};function Ia(D,q){if(!jr)switch(D.tailMode){case"hidden":q=D.tail;for(var kt=null;q!==null;)q.alternate!==null&&(kt=q),q=q.sibling;kt===null?D.tail=null:kt.sibling=null;break;case"collapsed":kt=D.tail;for(var Bt=null;kt!==null;)kt.alternate!==null&&(Bt=kt),kt=kt.sibling;Bt===null?q||D.tail===null?D.tail=null:D.tail.sibling=null:Bt.sibling=null}}function ln(D){var q=D.alternate!==null&&D.alternate.child===D.child,kt=0,Bt=0;if(q)for(var te=D.child;te!==null;)kt|=te.lanes|te.childLanes,Bt|=te.subtreeFlags&14680064,Bt|=te.flags&14680064,te.return=D,te=te.sibling;else for(te=D.child;te!==null;)kt|=te.lanes|te.childLanes,Bt|=te.subtreeFlags,Bt|=te.flags,te.return=D,te=te.sibling;return D.subtreeFlags|=Bt,D.childLanes=kt,q}function xd(D,q,kt){var Bt=q.pendingProps;switch(Cs(q),q.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(q),null;case 1:return hn(q.type)&&uo(),ln(q),null;case 3:return Bt=q.stateNode,Gi(),Dr(dn),Dr(on),Zs(),Bt.pendingContext&&(Bt.context=Bt.pendingContext,Bt.pendingContext=null),(D===null||D.child===null)&&(mo(q)?q.flags|=4:D===null||D.memoizedState.isDehydrated&&!(q.flags&256)||(q.flags|=1024,Rn!==null&&(bl(Rn),Rn=null))),ll(D,q),ln(q),null;case 5:Us(q);var te=wi(xa.current);if(kt=q.type,D!==null&&q.stateNode!=null)Af(D,q,kt,Bt,te),D.ref!==q.ref&&(q.flags|=512,q.flags|=2097152);else{if(!Bt){if(q.stateNode===null)throw Error(g(166));return ln(q),null}if(D=wi(Dn.current),mo(q)){Bt=q.stateNode,kt=q.type;var fe=q.memoizedProps;switch(Bt[On]=q,Bt[ga]=fe,D=(q.mode&1)!==0,kt){case"dialog":Or("cancel",Bt),Or("close",Bt);break;case"iframe":case"object":case"embed":Or("load",Bt);break;case"video":case"audio":for(te=0;te<pa.length;te++)Or(pa[te],Bt);break;case"source":Or("error",Bt);break;case"img":case"image":case"link":Or("error",Bt),Or("load",Bt);break;case"details":Or("toggle",Bt);break;case"input":pe(Bt,fe),Or("invalid",Bt);break;case"select":Bt._wrapperState={wasMultiple:!!fe.multiple},Or("invalid",Bt);break;case"textarea":je(Bt,fe),Or("invalid",Bt)}Le(kt,fe),te=null;for(var Ie in fe)if(fe.hasOwnProperty(Ie)){var Ue=fe[Ie];Ie==="children"?typeof Ue=="string"?Bt.textContent!==Ue&&(fe.suppressHydrationWarning!==!0&&Ja(Bt.textContent,Ue,D),te=["children",Ue]):typeof Ue=="number"&&Bt.textContent!==""+Ue&&(fe.suppressHydrationWarning!==!0&&Ja(Bt.textContent,Ue,D),te=["children",""+Ue]):j.hasOwnProperty(Ie)&&Ue!=null&&Ie==="onScroll"&&Or("scroll",Bt)}switch(kt){case"input":Jt(Bt),Zt(Bt,fe,!0);break;case"textarea":Jt(Bt),ir(Bt);break;case"select":case"option":break;default:typeof fe.onClick=="function"&&(Bt.onclick=eo)}Bt=te,q.updateQueue=Bt,Bt!==null&&(q.flags|=4)}else{Ie=te.nodeType===9?te:te.ownerDocument,D==="http://www.w3.org/1999/xhtml"&&(D=Xe(kt)),D==="http://www.w3.org/1999/xhtml"?kt==="script"?(D=Ie.createElement("div"),D.innerHTML="<script><\/script>",D=D.removeChild(D.firstChild)):typeof Bt.is=="string"?D=Ie.createElement(kt,{is:Bt.is}):(D=Ie.createElement(kt),kt==="select"&&(Ie=D,Bt.multiple?Ie.multiple=!0:Bt.size&&(Ie.size=Bt.size))):D=Ie.createElementNS(D,kt),D[On]=q,D[ga]=Bt,Mf(D,q,!1,!1),q.stateNode=D;t:{switch(Ie=Qe(kt,Bt),kt){case"dialog":Or("cancel",D),Or("close",D),te=Bt;break;case"iframe":case"object":case"embed":Or("load",D),te=Bt;break;case"video":case"audio":for(te=0;te<pa.length;te++)Or(pa[te],D);te=Bt;break;case"source":Or("error",D),te=Bt;break;case"img":case"image":case"link":Or("error",D),Or("load",D),te=Bt;break;case"details":Or("toggle",D),te=Bt;break;case"input":pe(D,Bt),te=me(D,Bt),Or("invalid",D);break;case"option":te=Bt;break;case"select":D._wrapperState={wasMultiple:!!Bt.multiple},te=Me({},Bt,{value:void 0}),Or("invalid",D);break;case"textarea":je(D,Bt),te=De(D,Bt),Or("invalid",D);break;default:te=Bt}Le(kt,te),Ue=te;for(fe in Ue)if(Ue.hasOwnProperty(fe)){var Ge=Ue[fe];fe==="style"?ze(D,Ge):fe==="dangerouslySetInnerHTML"?(Ge=Ge?Ge.__html:void 0,Ge!=null&&_r(D,Ge)):fe==="children"?typeof Ge=="string"?(kt!=="textarea"||Ge!=="")&&dr(D,Ge):typeof Ge=="number"&&dr(D,""+Ge):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(j.hasOwnProperty(fe)?Ge!=null&&fe==="onScroll"&&Or("scroll",D):Ge!=null&&Ft(D,fe,Ge,Ie))}switch(kt){case"input":Jt(D),Zt(D,Bt,!1);break;case"textarea":Jt(D),ir(D);break;case"option":Bt.value!=null&&D.setAttribute("value",""+Fe(Bt.value));break;case"select":D.multiple=!!Bt.multiple,fe=Bt.value,fe!=null?be(D,!!Bt.multiple,fe,!1):Bt.defaultValue!=null&&be(D,!!Bt.multiple,Bt.defaultValue,!0);break;default:typeof te.onClick=="function"&&(D.onclick=eo)}switch(kt){case"button":case"input":case"select":case"textarea":Bt=!!Bt.autoFocus;break t;case"img":Bt=!0;break t;default:Bt=!1}}Bt&&(q.flags|=4)}q.ref!==null&&(q.flags|=512,q.flags|=2097152)}return ln(q),null;case 6:if(D&&q.stateNode!=null)Cf(D,q,D.memoizedProps,Bt);else{if(typeof Bt!="string"&&q.stateNode===null)throw Error(g(166));if(kt=wi(xa.current),wi(Dn.current),mo(q)){if(Bt=q.stateNode,kt=q.memoizedProps,Bt[On]=q,(fe=Bt.nodeValue!==kt)&&(D=bn,D!==null))switch(D.tag){case 3:Ja(Bt.nodeValue,kt,(D.mode&1)!==0);break;case 5:D.memoizedProps.suppressHydrationWarning!==!0&&Ja(Bt.nodeValue,kt,(D.mode&1)!==0)}fe&&(q.flags|=4)}else Bt=(kt.nodeType===9?kt:kt.ownerDocument).createTextNode(Bt),Bt[On]=q,q.stateNode=Bt}return ln(q),null;case 13:if(Dr(Gr),Bt=q.memoizedState,D===null||D.memoizedState!==null&&D.memoizedState.dehydrated!==null){if(jr&&vn!==null&&q.mode&1&&!(q.flags&128))Ru(),Li(),q.flags|=98560,fe=!1;else if(fe=mo(q),Bt!==null&&Bt.dehydrated!==null){if(D===null){if(!fe)throw Error(g(318));if(fe=q.memoizedState,fe=fe!==null?fe.dehydrated:null,!fe)throw Error(g(317));fe[On]=q}else Li(),!(q.flags&128)&&(q.memoizedState=null),q.flags|=4;ln(q),fe=!1}else Rn!==null&&(bl(Rn),Rn=null),fe=!0;if(!fe)return q.flags&65536?q:null}return q.flags&128?(q.lanes=kt,q):(Bt=Bt!==null,Bt!==(D!==null&&D.memoizedState!==null)&&Bt&&(q.child.flags|=8192,q.mode&1&&(D===null||Gr.current&1?Kr===0&&(Kr=3):xl())),q.updateQueue!==null&&(q.flags|=4),ln(q),null);case 4:return Gi(),ll(D,q),D===null&&ma(q.stateNode.containerInfo),ln(q),null;case 10:return $s(q.type._context),ln(q),null;case 17:return hn(q.type)&&uo(),ln(q),null;case 19:if(Dr(Gr),fe=q.memoizedState,fe===null)return ln(q),null;if(Bt=(q.flags&128)!==0,Ie=fe.rendering,Ie===null)if(Bt)Ia(fe,!1);else{if(Kr!==0||D!==null&&D.flags&128)for(D=q.child;D!==null;){if(Ie=xo(D),Ie!==null){for(q.flags|=128,Ia(fe,!1),Bt=Ie.updateQueue,Bt!==null&&(q.updateQueue=Bt,q.flags|=4),q.subtreeFlags=0,Bt=kt,kt=q.child;kt!==null;)fe=kt,D=Bt,fe.flags&=14680066,Ie=fe.alternate,Ie===null?(fe.childLanes=0,fe.lanes=D,fe.child=null,fe.subtreeFlags=0,fe.memoizedProps=null,fe.memoizedState=null,fe.updateQueue=null,fe.dependencies=null,fe.stateNode=null):(fe.childLanes=Ie.childLanes,fe.lanes=Ie.lanes,fe.child=Ie.child,fe.subtreeFlags=0,fe.deletions=null,fe.memoizedProps=Ie.memoizedProps,fe.memoizedState=Ie.memoizedState,fe.updateQueue=Ie.updateQueue,fe.type=Ie.type,D=Ie.dependencies,fe.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext}),kt=kt.sibling;return zr(Gr,Gr.current&1|2),q.child}D=D.sibling}fe.tail!==null&&Ur()>qi&&(q.flags|=128,Bt=!0,Ia(fe,!1),q.lanes=4194304)}else{if(!Bt)if(D=xo(Ie),D!==null){if(q.flags|=128,Bt=!0,kt=D.updateQueue,kt!==null&&(q.updateQueue=kt,q.flags|=4),Ia(fe,!0),fe.tail===null&&fe.tailMode==="hidden"&&!Ie.alternate&&!jr)return ln(q),null}else 2*Ur()-fe.renderingStartTime>qi&&kt!==1073741824&&(q.flags|=128,Bt=!0,Ia(fe,!1),q.lanes=4194304);fe.isBackwards?(Ie.sibling=q.child,q.child=Ie):(kt=fe.last,kt!==null?kt.sibling=Ie:q.child=Ie,fe.last=Ie)}return fe.tail!==null?(q=fe.tail,fe.rendering=q,fe.tail=q.sibling,fe.renderingStartTime=Ur(),q.sibling=null,kt=Gr.current,zr(Gr,Bt?kt&1|2:kt&1),q):(ln(q),null);case 22:case 23:return wl(),Bt=q.memoizedState!==null,D!==null&&D.memoizedState!==null!==Bt&&(q.flags|=8192),Bt&&q.mode&1?wn&1073741824&&(ln(q),q.subtreeFlags&6&&(q.flags|=8192)):ln(q),null;case 24:return null;case 25:return null}throw Error(g(156,q.tag))}function Ed(D,q){switch(Cs(q),q.tag){case 1:return hn(q.type)&&uo(),D=q.flags,D&65536?(q.flags=D&-65537|128,q):null;case 3:return Gi(),Dr(dn),Dr(on),Zs(),D=q.flags,D&65536&&!(D&128)?(q.flags=D&-65537|128,q):null;case 5:return Us(q),null;case 13:if(Dr(Gr),D=q.memoizedState,D!==null&&D.dehydrated!==null){if(q.alternate===null)throw Error(g(340));Li()}return D=q.flags,D&65536?(q.flags=D&-65537|128,q):null;case 19:return Dr(Gr),null;case 4:return Gi(),null;case 10:return $s(q.type._context),null;case 22:case 23:return wl(),null;case 24:return null;default:return null}}var Po=!1,un=!1,kd=typeof WeakSet=="function"?WeakSet:Set,yr=null;function Wi(D,q){var kt=D.ref;if(kt!==null)if(typeof kt=="function")try{kt(null)}catch(Bt){Qr(D,q,Bt)}else kt.current=null}function ul(D,q,kt){try{kt()}catch(Bt){Qr(D,q,Bt)}}var Pf=!1;function Sd(D,q){if(ws=ja,D=lu(),hs(D)){if("selectionStart"in D)var kt={start:D.selectionStart,end:D.selectionEnd};else t:{kt=(kt=D.ownerDocument)&&kt.defaultView||window;var Bt=kt.getSelection&&kt.getSelection();if(Bt&&Bt.rangeCount!==0){kt=Bt.anchorNode;var te=Bt.anchorOffset,fe=Bt.focusNode;Bt=Bt.focusOffset;try{kt.nodeType,fe.nodeType}catch{kt=null;break t}var Ie=0,Ue=-1,Ge=-1,Je=0,sr=0,lr=D,or=null;e:for(;;){for(var mr;lr!==kt||te!==0&&lr.nodeType!==3||(Ue=Ie+te),lr!==fe||Bt!==0&&lr.nodeType!==3||(Ge=Ie+Bt),lr.nodeType===3&&(Ie+=lr.nodeValue.length),(mr=lr.firstChild)!==null;)or=lr,lr=mr;for(;;){if(lr===D)break e;if(or===kt&&++Je===te&&(Ue=Ie),or===fe&&++sr===Bt&&(Ge=Ie),(mr=lr.nextSibling)!==null)break;lr=or,or=lr.parentNode}lr=mr}kt=Ue===-1||Ge===-1?null:{start:Ue,end:Ge}}else kt=null}kt=kt||{start:0,end:0}}else kt=null;for(xs={focusedElem:D,selectionRange:kt},ja=!1,yr=q;yr!==null;)if(q=yr,D=q.child,(q.subtreeFlags&1028)!==0&&D!==null)D.return=q,yr=D;else for(;yr!==null;){q=yr;try{var vr=q.alternate;if(q.flags&1024)switch(q.tag){case 0:case 11:case 15:break;case 1:if(vr!==null){var wr=vr.memoizedProps,qr=vr.memoizedState,Ye=q.stateNode,He=Ye.getSnapshotBeforeUpdate(q.elementType===q.type?wr:Bn(q.type,wr),qr);Ye.__reactInternalSnapshotBeforeUpdate=He}break;case 3:var Ke=q.stateNode.containerInfo;Ke.nodeType===1?Ke.textContent="":Ke.nodeType===9&&Ke.documentElement&&Ke.removeChild(Ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(g(163))}}catch(ur){Qr(q,q.return,ur)}if(D=q.sibling,D!==null){D.return=q.return,yr=D;break}yr=q.return}return vr=Pf,Pf=!1,vr}function Ma(D,q,kt){var Bt=q.updateQueue;if(Bt=Bt!==null?Bt.lastEffect:null,Bt!==null){var te=Bt=Bt.next;do{if((te.tag&D)===D){var fe=te.destroy;te.destroy=void 0,fe!==void 0&&ul(q,kt,fe)}te=te.next}while(te!==Bt)}}function Ro(D,q){if(q=q.updateQueue,q=q!==null?q.lastEffect:null,q!==null){var kt=q=q.next;do{if((kt.tag&D)===D){var Bt=kt.create;kt.destroy=Bt()}kt=kt.next}while(kt!==q)}}function fl(D){var q=D.ref;if(q!==null){var kt=D.stateNode;switch(D.tag){case 5:D=kt;break;default:D=kt}typeof q=="function"?q(D):q.current=D}}function Rf(D){var q=D.alternate;q!==null&&(D.alternate=null,Rf(q)),D.child=null,D.deletions=null,D.sibling=null,D.tag===5&&(q=D.stateNode,q!==null&&(delete q[On],delete q[ga],delete q[Ts],delete q[sd],delete q[ld])),D.stateNode=null,D.return=null,D.dependencies=null,D.memoizedProps=null,D.memoizedState=null,D.pendingProps=null,D.stateNode=null,D.updateQueue=null}function Bf(D){return D.tag===5||D.tag===3||D.tag===4}function zf(D){t:for(;;){for(;D.sibling===null;){if(D.return===null||Bf(D.return))return null;D=D.return}for(D.sibling.return=D.return,D=D.sibling;D.tag!==5&&D.tag!==6&&D.tag!==18;){if(D.flags&2||D.child===null||D.tag===4)continue t;D.child.return=D,D=D.child}if(!(D.flags&2))return D.stateNode}}function cl(D,q,kt){var Bt=D.tag;if(Bt===5||Bt===6)D=D.stateNode,q?kt.nodeType===8?kt.parentNode.insertBefore(D,q):kt.insertBefore(D,q):(kt.nodeType===8?(q=kt.parentNode,q.insertBefore(D,kt)):(q=kt,q.appendChild(D)),kt=kt._reactRootContainer,kt!=null||q.onclick!==null||(q.onclick=eo));else if(Bt!==4&&(D=D.child,D!==null))for(cl(D,q,kt),D=D.sibling;D!==null;)cl(D,q,kt),D=D.sibling}function dl(D,q,kt){var Bt=D.tag;if(Bt===5||Bt===6)D=D.stateNode,q?kt.insertBefore(D,q):kt.appendChild(D);else if(Bt!==4&&(D=D.child,D!==null))for(dl(D,q,kt),D=D.sibling;D!==null;)dl(D,q,kt),D=D.sibling}var nn=null,zn=!1;function ui(D,q,kt){for(kt=kt.child;kt!==null;)Nf(D,q,kt),kt=kt.sibling}function Nf(D,q,kt){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount($a,kt)}catch{}switch(kt.tag){case 5:un||Wi(kt,q);case 6:var Bt=nn,te=zn;nn=null,ui(D,q,kt),nn=Bt,zn=te,nn!==null&&(zn?(D=nn,kt=kt.stateNode,D.nodeType===8?D.parentNode.removeChild(kt):D.removeChild(kt)):nn.removeChild(kt.stateNode));break;case 18:nn!==null&&(zn?(D=nn,kt=kt.stateNode,D.nodeType===8?Ss(D.parentNode,kt):D.nodeType===1&&Ss(D,kt),oa(D)):Ss(nn,kt.stateNode));break;case 4:Bt=nn,te=zn,nn=kt.stateNode.containerInfo,zn=!0,ui(D,q,kt),nn=Bt,zn=te;break;case 0:case 11:case 14:case 15:if(!un&&(Bt=kt.updateQueue,Bt!==null&&(Bt=Bt.lastEffect,Bt!==null))){te=Bt=Bt.next;do{var fe=te,Ie=fe.destroy;fe=fe.tag,Ie!==void 0&&(fe&2||fe&4)&&ul(kt,q,Ie),te=te.next}while(te!==Bt)}ui(D,q,kt);break;case 1:if(!un&&(Wi(kt,q),Bt=kt.stateNode,typeof Bt.componentWillUnmount=="function"))try{Bt.props=kt.memoizedProps,Bt.state=kt.memoizedState,Bt.componentWillUnmount()}catch(Ue){Qr(kt,q,Ue)}ui(D,q,kt);break;case 21:ui(D,q,kt);break;case 22:kt.mode&1?(un=(Bt=un)||kt.memoizedState!==null,ui(D,q,kt),un=Bt):ui(D,q,kt);break;default:ui(D,q,kt)}}function $f(D){var q=D.updateQueue;if(q!==null){D.updateQueue=null;var kt=D.stateNode;kt===null&&(kt=D.stateNode=new kd),q.forEach(function(Bt){var te=zd.bind(null,D,Bt);kt.has(Bt)||(kt.add(Bt),Bt.then(te,te))})}}function Nn(D,q){var kt=q.deletions;if(kt!==null)for(var Bt=0;Bt<kt.length;Bt++){var te=kt[Bt];try{var fe=D,Ie=q,Ue=Ie;t:for(;Ue!==null;){switch(Ue.tag){case 5:nn=Ue.stateNode,zn=!1;break t;case 3:nn=Ue.stateNode.containerInfo,zn=!0;break t;case 4:nn=Ue.stateNode.containerInfo,zn=!0;break t}Ue=Ue.return}if(nn===null)throw Error(g(160));Nf(fe,Ie,te),nn=null,zn=!1;var Ge=te.alternate;Ge!==null&&(Ge.return=null),te.return=null}catch(Je){Qr(te,q,Je)}}if(q.subtreeFlags&12854)for(q=q.child;q!==null;)Ff(q,D),q=q.sibling}function Ff(D,q){var kt=D.alternate,Bt=D.flags;switch(D.tag){case 0:case 11:case 14:case 15:if(Nn(q,D),Un(D),Bt&4){try{Ma(3,D,D.return),Ro(3,D)}catch(wr){Qr(D,D.return,wr)}try{Ma(5,D,D.return)}catch(wr){Qr(D,D.return,wr)}}break;case 1:Nn(q,D),Un(D),Bt&512&&kt!==null&&Wi(kt,kt.return);break;case 5:if(Nn(q,D),Un(D),Bt&512&&kt!==null&&Wi(kt,kt.return),D.flags&32){var te=D.stateNode;try{dr(te,"")}catch(wr){Qr(D,D.return,wr)}}if(Bt&4&&(te=D.stateNode,te!=null)){var fe=D.memoizedProps,Ie=kt!==null?kt.memoizedProps:fe,Ue=D.type,Ge=D.updateQueue;if(D.updateQueue=null,Ge!==null)try{Ue==="input"&&fe.type==="radio"&&fe.name!=null&&we(te,fe),Qe(Ue,Ie);var Je=Qe(Ue,fe);for(Ie=0;Ie<Ge.length;Ie+=2){var sr=Ge[Ie],lr=Ge[Ie+1];sr==="style"?ze(te,lr):sr==="dangerouslySetInnerHTML"?_r(te,lr):sr==="children"?dr(te,lr):Ft(te,sr,lr,Je)}switch(Ue){case"input":Re(te,fe);break;case"textarea":er(te,fe);break;case"select":var or=te._wrapperState.wasMultiple;te._wrapperState.wasMultiple=!!fe.multiple;var mr=fe.value;mr!=null?be(te,!!fe.multiple,mr,!1):or!==!!fe.multiple&&(fe.defaultValue!=null?be(te,!!fe.multiple,fe.defaultValue,!0):be(te,!!fe.multiple,fe.multiple?[]:"",!1))}te[ga]=fe}catch(wr){Qr(D,D.return,wr)}}break;case 6:if(Nn(q,D),Un(D),Bt&4){if(D.stateNode===null)throw Error(g(162));te=D.stateNode,fe=D.memoizedProps;try{te.nodeValue=fe}catch(wr){Qr(D,D.return,wr)}}break;case 3:if(Nn(q,D),Un(D),Bt&4&&kt!==null&&kt.memoizedState.isDehydrated)try{oa(q.containerInfo)}catch(wr){Qr(D,D.return,wr)}break;case 4:Nn(q,D),Un(D);break;case 13:Nn(q,D),Un(D),te=D.child,te.flags&8192&&(fe=te.memoizedState!==null,te.stateNode.isHidden=fe,!fe||te.alternate!==null&&te.alternate.memoizedState!==null||(ml=Ur())),Bt&4&&$f(D);break;case 22:if(sr=kt!==null&&kt.memoizedState!==null,D.mode&1?(un=(Je=un)||sr,Nn(q,D),un=Je):Nn(q,D),Un(D),Bt&8192){if(Je=D.memoizedState!==null,(D.stateNode.isHidden=Je)&&!sr&&D.mode&1)for(yr=D,sr=D.child;sr!==null;){for(lr=yr=sr;yr!==null;){switch(or=yr,mr=or.child,or.tag){case 0:case 11:case 14:case 15:Ma(4,or,or.return);break;case 1:Wi(or,or.return);var vr=or.stateNode;if(typeof vr.componentWillUnmount=="function"){Bt=or,kt=or.return;try{q=Bt,vr.props=q.memoizedProps,vr.state=q.memoizedState,vr.componentWillUnmount()}catch(wr){Qr(Bt,kt,wr)}}break;case 5:Wi(or,or.return);break;case 22:if(or.memoizedState!==null){Lf(lr);continue}}mr!==null?(mr.return=or,yr=mr):Lf(lr)}sr=sr.sibling}t:for(sr=null,lr=D;;){if(lr.tag===5){if(sr===null){sr=lr;try{te=lr.stateNode,Je?(fe=te.style,typeof fe.setProperty=="function"?fe.setProperty("display","none","important"):fe.display="none"):(Ue=lr.stateNode,Ge=lr.memoizedProps.style,Ie=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null,Ue.style.display=cr("display",Ie))}catch(wr){Qr(D,D.return,wr)}}}else if(lr.tag===6){if(sr===null)try{lr.stateNode.nodeValue=Je?"":lr.memoizedProps}catch(wr){Qr(D,D.return,wr)}}else if((lr.tag!==22&&lr.tag!==23||lr.memoizedState===null||lr===D)&&lr.child!==null){lr.child.return=lr,lr=lr.child;continue}if(lr===D)break t;for(;lr.sibling===null;){if(lr.return===null||lr.return===D)break t;sr===lr&&(sr=null),lr=lr.return}sr===lr&&(sr=null),lr.sibling.return=lr.return,lr=lr.sibling}}break;case 19:Nn(q,D),Un(D),Bt&4&&$f(D);break;case 21:break;default:Nn(q,D),Un(D)}}function Un(D){var q=D.flags;if(q&2){try{t:{for(var kt=D.return;kt!==null;){if(Bf(kt)){var Bt=kt;break t}kt=kt.return}throw Error(g(160))}switch(Bt.tag){case 5:var te=Bt.stateNode;Bt.flags&32&&(dr(te,""),Bt.flags&=-33);var fe=zf(D);dl(D,fe,te);break;case 3:case 4:var Ie=Bt.stateNode.containerInfo,Ue=zf(D);cl(D,Ue,Ie);break;default:throw Error(g(161))}}catch(Ge){Qr(D,D.return,Ge)}D.flags&=-3}q&4096&&(D.flags&=-4097)}function Td(D,q,kt){yr=D,Of(D)}function Of(D,q,kt){for(var Bt=(D.mode&1)!==0;yr!==null;){var te=yr,fe=te.child;if(te.tag===22&&Bt){var Ie=te.memoizedState!==null||Po;if(!Ie){var Ue=te.alternate,Ge=Ue!==null&&Ue.memoizedState!==null||un;Ue=Po;var Je=un;if(Po=Ie,(un=Ge)&&!Je)for(yr=te;yr!==null;)Ie=yr,Ge=Ie.child,Ie.tag===22&&Ie.memoizedState!==null?Uf(te):Ge!==null?(Ge.return=Ie,yr=Ge):Uf(te);for(;fe!==null;)yr=fe,Of(fe),fe=fe.sibling;yr=te,Po=Ue,un=Je}Df(D)}else te.subtreeFlags&8772&&fe!==null?(fe.return=te,yr=fe):Df(D)}}function Df(D){for(;yr!==null;){var q=yr;if(q.flags&8772){var kt=q.alternate;try{if(q.flags&8772)switch(q.tag){case 0:case 11:case 15:un||Ro(5,q);break;case 1:var Bt=q.stateNode;if(q.flags&4&&!un)if(kt===null)Bt.componentDidMount();else{var te=q.elementType===q.type?kt.memoizedProps:Bn(q.type,kt.memoizedProps);Bt.componentDidUpdate(te,kt.memoizedState,Bt.__reactInternalSnapshotBeforeUpdate)}var fe=q.updateQueue;fe!==null&&Du(q,fe,Bt);break;case 3:var Ie=q.updateQueue;if(Ie!==null){if(kt=null,q.child!==null)switch(q.child.tag){case 5:kt=q.child.stateNode;break;case 1:kt=q.child.stateNode}Du(q,Ie,kt)}break;case 5:var Ue=q.stateNode;if(kt===null&&q.flags&4){kt=Ue;var Ge=q.memoizedProps;switch(q.type){case"button":case"input":case"select":case"textarea":Ge.autoFocus&&kt.focus();break;case"img":Ge.src&&(kt.src=Ge.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(q.memoizedState===null){var Je=q.alternate;if(Je!==null){var sr=Je.memoizedState;if(sr!==null){var lr=sr.dehydrated;lr!==null&&oa(lr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(g(163))}un||q.flags&512&&fl(q)}catch(or){Qr(q,q.return,or)}}if(q===D){yr=null;break}if(kt=q.sibling,kt!==null){kt.return=q.return,yr=kt;break}yr=q.return}}function Lf(D){for(;yr!==null;){var q=yr;if(q===D){yr=null;break}var kt=q.sibling;if(kt!==null){kt.return=q.return,yr=kt;break}yr=q.return}}function Uf(D){for(;yr!==null;){var q=yr;try{switch(q.tag){case 0:case 11:case 15:var kt=q.return;try{Ro(4,q)}catch(Ge){Qr(q,kt,Ge)}break;case 1:var Bt=q.stateNode;if(typeof Bt.componentDidMount=="function"){var te=q.return;try{Bt.componentDidMount()}catch(Ge){Qr(q,te,Ge)}}var fe=q.return;try{fl(q)}catch(Ge){Qr(q,fe,Ge)}break;case 5:var Ie=q.return;try{fl(q)}catch(Ge){Qr(q,Ie,Ge)}}}catch(Ge){Qr(q,q.return,Ge)}if(q===D){yr=null;break}var Ue=q.sibling;if(Ue!==null){Ue.return=q.return,yr=Ue;break}yr=q.return}}var Id=Math.ceil,Bo=Dt.ReactCurrentDispatcher,hl=Dt.ReactCurrentOwner,In=Dt.ReactCurrentBatchConfig,Cr=0,tn=null,Vr=null,an=0,wn=0,Qi=ii(0),Kr=0,Aa=null,Ei=0,zo=0,pl=0,Ca=null,mn=null,ml=0,qi=1/0,Vn=null,No=!1,_l=null,fi=null,$o=!1,ci=null,Fo=0,Pa=0,gl=null,Oo=-1,Do=0;function cn(){return Cr&6?Ur():Oo!==-1?Oo:Oo=Ur()}function di(D){return D.mode&1?Cr&2&&an!==0?an&-an:fd.transition!==null?(Do===0&&(Do=Bl()),Do):(D=Rr,D!==0||(D=window.event,D=D===void 0?16:jl(D.type)),D):1}function $n(D,q,kt,Bt){if(50<Pa)throw Pa=0,gl=null,Error(g(185));ea(D,kt,Bt),(!(Cr&2)||D!==tn)&&(D===tn&&(!(Cr&2)&&(zo|=kt),Kr===4&&hi(D,an)),_n(D,Bt),kt===1&&Cr===0&&!(q.mode&1)&&(qi=Ur()+500,co&&oi()))}function _n(D,q){var kt=D.callbackNode;fc(D,q);var Bt=Da(D,D===tn?an:0);if(Bt===0)kt!==null&&Ji(kt),D.callbackNode=null,D.callbackPriority=0;else if(q=Bt&-Bt,D.callbackPriority!==q){if(kt!=null&&Ji(kt),q===1)D.tag===0?ud(Zf.bind(null,D)):Iu(Zf.bind(null,D)),ad(function(){!(Cr&6)&&oi()}),kt=null;else{switch(zl(Bt)){case 1:kt=Yo;break;case 4:kt=Pl;break;case 16:kt=Na;break;case 536870912:kt=Rl;break;default:kt=Na}kt=Kf(kt,jf.bind(null,D))}D.callbackPriority=q,D.callbackNode=kt}}function jf(D,q){if(Oo=-1,Do=0,Cr&6)throw Error(g(327));var kt=D.callbackNode;if(Vi()&&D.callbackNode!==kt)return null;var Bt=Da(D,D===tn?an:0);if(Bt===0)return null;if(Bt&30||Bt&D.expiredLanes||q)q=Lo(D,Bt);else{q=Bt;var te=Cr;Cr|=2;var fe=Hf();(tn!==D||an!==q)&&(Vn=null,qi=Ur()+500,Si(D,q));do try{Cd();break}catch(Ue){Gf(D,Ue)}while(!0);Ns(),Bo.current=fe,Cr=te,Vr!==null?q=0:(tn=null,an=0,q=Kr)}if(q!==0){if(q===2&&(te=Ko(D),te!==0&&(Bt=te,q=yl(D,te))),q===1)throw kt=Aa,Si(D,0),hi(D,Bt),_n(D,Ur()),kt;if(q===6)hi(D,Bt);else{if(te=D.current.alternate,!(Bt&30)&&!Md(te)&&(q=Lo(D,Bt),q===2&&(fe=Ko(D),fe!==0&&(Bt=fe,q=yl(D,fe))),q===1))throw kt=Aa,Si(D,0),hi(D,Bt),_n(D,Ur()),kt;switch(D.finishedWork=te,D.finishedLanes=Bt,q){case 0:case 1:throw Error(g(345));case 2:Ti(D,mn,Vn);break;case 3:if(hi(D,Bt),(Bt&130023424)===Bt&&(q=ml+500-Ur(),10<q)){if(Da(D,0)!==0)break;if(te=D.suspendedLanes,(te&Bt)!==Bt){cn(),D.pingedLanes|=D.suspendedLanes&te;break}D.timeoutHandle=ks(Ti.bind(null,D,mn,Vn),q);break}Ti(D,mn,Vn);break;case 4:if(hi(D,Bt),(Bt&4194240)===Bt)break;for(q=D.eventTimes,te=-1;0<Bt;){var Ie=31-Cn(Bt);fe=1<<Ie,Ie=q[Ie],Ie>te&&(te=Ie),Bt&=~fe}if(Bt=te,Bt=Ur()-Bt,Bt=(120>Bt?120:480>Bt?480:1080>Bt?1080:1920>Bt?1920:3e3>Bt?3e3:4320>Bt?4320:1960*Id(Bt/1960))-Bt,10<Bt){D.timeoutHandle=ks(Ti.bind(null,D,mn,Vn),Bt);break}Ti(D,mn,Vn);break;case 5:Ti(D,mn,Vn);break;default:throw Error(g(329))}}}return _n(D,Ur()),D.callbackNode===kt?jf.bind(null,D):null}function yl(D,q){var kt=Ca;return D.current.memoizedState.isDehydrated&&(Si(D,q).flags|=256),D=Lo(D,q),D!==2&&(q=mn,mn=kt,q!==null&&bl(q)),D}function bl(D){mn===null?mn=D:mn.push.apply(mn,D)}function Md(D){for(var q=D;;){if(q.flags&16384){var kt=q.updateQueue;if(kt!==null&&(kt=kt.stores,kt!==null))for(var Bt=0;Bt<kt.length;Bt++){var te=kt[Bt],fe=te.getSnapshot;te=te.value;try{if(!Pn(fe(),te))return!1}catch{return!1}}}if(kt=q.child,q.subtreeFlags&16384&&kt!==null)kt.return=q,q=kt;else{if(q===D)break;for(;q.sibling===null;){if(q.return===null||q.return===D)return!0;q=q.return}q.sibling.return=q.return,q=q.sibling}}return!0}function hi(D,q){for(q&=~pl,q&=~zo,D.suspendedLanes|=q,D.pingedLanes&=~q,D=D.expirationTimes;0<q;){var kt=31-Cn(q),Bt=1<<kt;D[kt]=-1,q&=~Bt}}function Zf(D){if(Cr&6)throw Error(g(327));Vi();var q=Da(D,0);if(!(q&1))return _n(D,Ur()),null;var kt=Lo(D,q);if(D.tag!==0&&kt===2){var Bt=Ko(D);Bt!==0&&(q=Bt,kt=yl(D,Bt))}if(kt===1)throw kt=Aa,Si(D,0),hi(D,q),_n(D,Ur()),kt;if(kt===6)throw Error(g(345));return D.finishedWork=D.current.alternate,D.finishedLanes=q,Ti(D,mn,Vn),_n(D,Ur()),null}function vl(D,q){var kt=Cr;Cr|=1;try{return D(q)}finally{Cr=kt,Cr===0&&(qi=Ur()+500,co&&oi())}}function ki(D){ci!==null&&ci.tag===0&&!(Cr&6)&&Vi();var q=Cr;Cr|=1;var kt=In.transition,Bt=Rr;try{if(In.transition=null,Rr=1,D)return D()}finally{Rr=Bt,In.transition=kt,Cr=q,!(Cr&6)&&oi()}}function wl(){wn=Qi.current,Dr(Qi)}function Si(D,q){D.finishedWork=null,D.finishedLanes=0;var kt=D.timeoutHandle;if(kt!==-1&&(D.timeoutHandle=-1,id(kt)),Vr!==null)for(kt=Vr.return;kt!==null;){var Bt=kt;switch(Cs(Bt),Bt.tag){case 1:Bt=Bt.type.childContextTypes,Bt!=null&&uo();break;case 3:Gi(),Dr(dn),Dr(on),Zs();break;case 5:Us(Bt);break;case 4:Gi();break;case 13:Dr(Gr);break;case 19:Dr(Gr);break;case 10:$s(Bt.type._context);break;case 22:case 23:wl()}kt=kt.return}if(tn=D,Vr=D=pi(D.current,null),an=wn=q,Kr=0,Aa=null,pl=zo=Ei=0,mn=Ca=null,vi!==null){for(q=0;q<vi.length;q++)if(kt=vi[q],Bt=kt.interleaved,Bt!==null){kt.interleaved=null;var te=Bt.next,fe=kt.pending;if(fe!==null){var Ie=fe.next;fe.next=te,Bt.next=Ie}kt.pending=Bt}vi=null}return D}function Gf(D,q){do{var kt=Vr;try{if(Ns(),Eo.current=Io,ko){for(var Bt=Hr.memoizedState;Bt!==null;){var te=Bt.queue;te!==null&&(te.pending=null),Bt=Bt.next}ko=!1}if(xi=0,Jr=Yr=Hr=null,Ea=!1,ka=0,hl.current=null,kt===null||kt.return===null){Kr=1,Aa=q,Vr=null;break}t:{var fe=D,Ie=kt.return,Ue=kt,Ge=q;if(q=an,Ue.flags|=32768,Ge!==null&&typeof Ge=="object"&&typeof Ge.then=="function"){var Je=Ge,sr=Ue,lr=sr.tag;if(!(sr.mode&1)&&(lr===0||lr===11||lr===15)){var or=sr.alternate;or?(sr.updateQueue=or.updateQueue,sr.memoizedState=or.memoizedState,sr.lanes=or.lanes):(sr.updateQueue=null,sr.memoizedState=null)}var mr=mf(Ie);if(mr!==null){mr.flags&=-257,_f(mr,Ie,Ue,fe,q),mr.mode&1&&pf(fe,Je,q),q=mr,Ge=Je;var vr=q.updateQueue;if(vr===null){var wr=new Set;wr.add(Ge),q.updateQueue=wr}else vr.add(Ge);break t}else{if(!(q&1)){pf(fe,Je,q),xl();break t}Ge=Error(g(426))}}else if(jr&&Ue.mode&1){var qr=mf(Ie);if(qr!==null){!(qr.flags&65536)&&(qr.flags|=256),_f(qr,Ie,Ue,fe,q),Bs(Hi(Ge,Ue));break t}}fe=Ge=Hi(Ge,Ue),Kr!==4&&(Kr=2),Ca===null?Ca=[fe]:Ca.push(fe),fe=Ie;do{switch(fe.tag){case 3:fe.flags|=65536,q&=-q,fe.lanes|=q;var Ye=df(fe,Ge,q);Ou(fe,Ye);break t;case 1:Ue=Ge;var He=fe.type,Ke=fe.stateNode;if(!(fe.flags&128)&&(typeof He.getDerivedStateFromError=="function"||Ke!==null&&typeof Ke.componentDidCatch=="function"&&(fi===null||!fi.has(Ke)))){fe.flags|=65536,q&=-q,fe.lanes|=q;var ur=hf(fe,Ue,q);Ou(fe,ur);break t}}fe=fe.return}while(fe!==null)}Qf(kt)}catch(xr){q=xr,Vr===kt&&kt!==null&&(Vr=kt=kt.return);continue}break}while(!0)}function Hf(){var D=Bo.current;return Bo.current=Io,D===null?Io:D}function xl(){(Kr===0||Kr===3||Kr===2)&&(Kr=4),tn===null||!(Ei&268435455)&&!(zo&268435455)||hi(tn,an)}function Lo(D,q){var kt=Cr;Cr|=2;var Bt=Hf();(tn!==D||an!==q)&&(Vn=null,Si(D,q));do try{Ad();break}catch(te){Gf(D,te)}while(!0);if(Ns(),Cr=kt,Bo.current=Bt,Vr!==null)throw Error(g(261));return tn=null,an=0,Kr}function Ad(){for(;Vr!==null;)Wf(Vr)}function Cd(){for(;Vr!==null&&!Ba();)Wf(Vr)}function Wf(D){var q=Yf(D.alternate,D,wn);D.memoizedProps=D.pendingProps,q===null?Qf(D):Vr=q,hl.current=null}function Qf(D){var q=D;do{var kt=q.alternate;if(D=q.return,q.flags&32768){if(kt=Ed(kt,q),kt!==null){kt.flags&=32767,Vr=kt;return}if(D!==null)D.flags|=32768,D.subtreeFlags=0,D.deletions=null;else{Kr=6,Vr=null;return}}else if(kt=xd(kt,q,wn),kt!==null){Vr=kt;return}if(q=q.sibling,q!==null){Vr=q;return}Vr=q=D}while(q!==null);Kr===0&&(Kr=5)}function Ti(D,q,kt){var Bt=Rr,te=In.transition;try{In.transition=null,Rr=1,Pd(D,q,kt,Bt)}finally{In.transition=te,Rr=Bt}return null}function Pd(D,q,kt,Bt){do Vi();while(ci!==null);if(Cr&6)throw Error(g(327));kt=D.finishedWork;var te=D.finishedLanes;if(kt===null)return null;if(D.finishedWork=null,D.finishedLanes=0,kt===D.current)throw Error(g(177));D.callbackNode=null,D.callbackPriority=0;var fe=kt.lanes|kt.childLanes;if(cc(D,fe),D===tn&&(Vr=tn=null,an=0),!(kt.subtreeFlags&2064)&&!(kt.flags&2064)||$o||($o=!0,Kf(Na,function(){return Vi(),null})),fe=(kt.flags&15990)!==0,kt.subtreeFlags&15990||fe){fe=In.transition,In.transition=null;var Ie=Rr;Rr=1;var Ue=Cr;Cr|=4,hl.current=null,Sd(D,kt),Ff(kt,D),Kc(xs),ja=!!ws,xs=ws=null,D.current=kt,Td(kt),za(),Cr=Ue,Rr=Ie,In.transition=fe}else D.current=kt;if($o&&($o=!1,ci=D,Fo=te),fe=D.pendingLanes,fe===0&&(fi=null),ac(kt.stateNode),_n(D,Ur()),q!==null)for(Bt=D.onRecoverableError,kt=0;kt<q.length;kt++)te=q[kt],Bt(te.value,{componentStack:te.stack,digest:te.digest});if(No)throw No=!1,D=_l,_l=null,D;return Fo&1&&D.tag!==0&&Vi(),fe=D.pendingLanes,fe&1?D===gl?Pa++:(Pa=0,gl=D):Pa=0,oi(),null}function Vi(){if(ci!==null){var D=zl(Fo),q=In.transition,kt=Rr;try{if(In.transition=null,Rr=16>D?16:D,ci===null)var Bt=!1;else{if(D=ci,ci=null,Fo=0,Cr&6)throw Error(g(331));var te=Cr;for(Cr|=4,yr=D.current;yr!==null;){var fe=yr,Ie=fe.child;if(yr.flags&16){var Ue=fe.deletions;if(Ue!==null){for(var Ge=0;Ge<Ue.length;Ge++){var Je=Ue[Ge];for(yr=Je;yr!==null;){var sr=yr;switch(sr.tag){case 0:case 11:case 15:Ma(8,sr,fe)}var lr=sr.child;if(lr!==null)lr.return=sr,yr=lr;else for(;yr!==null;){sr=yr;var or=sr.sibling,mr=sr.return;if(Rf(sr),sr===Je){yr=null;break}if(or!==null){or.return=mr,yr=or;break}yr=mr}}}var vr=fe.alternate;if(vr!==null){var wr=vr.child;if(wr!==null){vr.child=null;do{var qr=wr.sibling;wr.sibling=null,wr=qr}while(wr!==null)}}yr=fe}}if(fe.subtreeFlags&2064&&Ie!==null)Ie.return=fe,yr=Ie;else t:for(;yr!==null;){if(fe=yr,fe.flags&2048)switch(fe.tag){case 0:case 11:case 15:Ma(9,fe,fe.return)}var Ye=fe.sibling;if(Ye!==null){Ye.return=fe.return,yr=Ye;break t}yr=fe.return}}var He=D.current;for(yr=He;yr!==null;){Ie=yr;var Ke=Ie.child;if(Ie.subtreeFlags&2064&&Ke!==null)Ke.return=Ie,yr=Ke;else t:for(Ie=He;yr!==null;){if(Ue=yr,Ue.flags&2048)try{switch(Ue.tag){case 0:case 11:case 15:Ro(9,Ue)}}catch(xr){Qr(Ue,Ue.return,xr)}if(Ue===Ie){yr=null;break t}var ur=Ue.sibling;if(ur!==null){ur.return=Ue.return,yr=ur;break t}yr=Ue.return}}if(Cr=te,oi(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot($a,D)}catch{}Bt=!0}return Bt}finally{Rr=kt,In.transition=q}}return!1}function qf(D,q,kt){q=Hi(kt,q),q=df(D,q,1),D=li(D,q,1),q=cn(),D!==null&&(ea(D,1,q),_n(D,q))}function Qr(D,q,kt){if(D.tag===3)qf(D,D,kt);else for(;q!==null;){if(q.tag===3){qf(q,D,kt);break}else if(q.tag===1){var Bt=q.stateNode;if(typeof q.type.getDerivedStateFromError=="function"||typeof Bt.componentDidCatch=="function"&&(fi===null||!fi.has(Bt))){D=Hi(kt,D),D=hf(q,D,1),q=li(q,D,1),D=cn(),q!==null&&(ea(q,1,D),_n(q,D));break}}q=q.return}}function Rd(D,q,kt){var Bt=D.pingCache;Bt!==null&&Bt.delete(q),q=cn(),D.pingedLanes|=D.suspendedLanes&kt,tn===D&&(an&kt)===kt&&(Kr===4||Kr===3&&(an&130023424)===an&&500>Ur()-ml?Si(D,0):pl|=kt),_n(D,q)}function Vf(D,q){q===0&&(D.mode&1?(q=Oa,Oa<<=1,!(Oa&130023424)&&(Oa=4194304)):q=1);var kt=cn();D=Wn(D,q),D!==null&&(ea(D,q,kt),_n(D,kt))}function Bd(D){var q=D.memoizedState,kt=0;q!==null&&(kt=q.retryLane),Vf(D,kt)}function zd(D,q){var kt=0;switch(D.tag){case 13:var Bt=D.stateNode,te=D.memoizedState;te!==null&&(kt=te.retryLane);break;case 19:Bt=D.stateNode;break;default:throw Error(g(314))}Bt!==null&&Bt.delete(q),Vf(D,kt)}var Yf;Yf=function(D,q,kt){if(D!==null)if(D.memoizedProps!==q.pendingProps||dn.current)pn=!0;else{if(!(D.lanes&kt)&&!(q.flags&128))return pn=!1,wd(D,q,kt);pn=!!(D.flags&131072)}else pn=!1,jr&&q.flags&1048576&&Mu(q,po,q.index);switch(q.lanes=0,q.tag){case 2:var Bt=q.type;Co(D,q),D=q.pendingProps;var te=Fi(q,on.current);Zi(q,kt),te=Ws(null,q,Bt,D,te,kt);var fe=Qs();return q.flags|=1,typeof te=="object"&&te!==null&&typeof te.render=="function"&&te.$$typeof===void 0?(q.tag=1,q.memoizedState=null,q.updateQueue=null,hn(Bt)?(fe=!0,fo(q)):fe=!1,q.memoizedState=te.state!==null&&te.state!==void 0?te.state:null,Ds(q),te.updater=Mo,q.stateNode=te,te._reactInternals=q,Js(q,Bt,D,kt),q=nl(null,q,Bt,!0,fe,kt)):(q.tag=0,jr&&fe&&As(q),fn(null,q,te,kt),q=q.child),q;case 16:Bt=q.elementType;t:{switch(Co(D,q),D=q.pendingProps,te=Bt._init,Bt=te(Bt._payload),q.type=Bt,te=q.tag=$d(Bt),D=Bn(Bt,D),te){case 0:q=rl(null,q,Bt,D,kt);break t;case 1:q=xf(null,q,Bt,D,kt);break t;case 11:q=gf(null,q,Bt,D,kt);break t;case 14:q=yf(null,q,Bt,Bn(Bt.type,D),kt);break t}throw Error(g(306,Bt,""))}return q;case 0:return Bt=q.type,te=q.pendingProps,te=q.elementType===Bt?te:Bn(Bt,te),rl(D,q,Bt,te,kt);case 1:return Bt=q.type,te=q.pendingProps,te=q.elementType===Bt?te:Bn(Bt,te),xf(D,q,Bt,te,kt);case 3:t:{if(Ef(q),D===null)throw Error(g(387));Bt=q.pendingProps,fe=q.memoizedState,te=fe.element,Fu(D,q),wo(q,Bt,null,kt);var Ie=q.memoizedState;if(Bt=Ie.element,fe.isDehydrated)if(fe={element:Bt,isDehydrated:!1,cache:Ie.cache,pendingSuspenseBoundaries:Ie.pendingSuspenseBoundaries,transitions:Ie.transitions},q.updateQueue.baseState=fe,q.memoizedState=fe,q.flags&256){te=Hi(Error(g(423)),q),q=kf(D,q,Bt,kt,te);break t}else if(Bt!==te){te=Hi(Error(g(424)),q),q=kf(D,q,Bt,kt,te);break t}else for(vn=ni(q.stateNode.containerInfo.firstChild),bn=q,jr=!0,Rn=null,kt=Nu(q,null,Bt,kt),q.child=kt;kt;)kt.flags=kt.flags&-3|4096,kt=kt.sibling;else{if(Li(),Bt===te){q=qn(D,q,kt);break t}fn(D,q,Bt,kt)}q=q.child}return q;case 5:return Lu(q),D===null&&Rs(q),Bt=q.type,te=q.pendingProps,fe=D!==null?D.memoizedProps:null,Ie=te.children,Es(Bt,te)?Ie=null:fe!==null&&Es(Bt,fe)&&(q.flags|=32),wf(D,q),fn(D,q,Ie,kt),q.child;case 6:return D===null&&Rs(q),null;case 13:return Sf(D,q,kt);case 4:return Ls(q,q.stateNode.containerInfo),Bt=q.pendingProps,D===null?q.child=Ui(q,null,Bt,kt):fn(D,q,Bt,kt),q.child;case 11:return Bt=q.type,te=q.pendingProps,te=q.elementType===Bt?te:Bn(Bt,te),gf(D,q,Bt,te,kt);case 7:return fn(D,q,q.pendingProps,kt),q.child;case 8:return fn(D,q,q.pendingProps.children,kt),q.child;case 12:return fn(D,q,q.pendingProps.children,kt),q.child;case 10:t:{if(Bt=q.type._context,te=q.pendingProps,fe=q.memoizedProps,Ie=te.value,zr(yo,Bt._currentValue),Bt._currentValue=Ie,fe!==null)if(Pn(fe.value,Ie)){if(fe.children===te.children&&!dn.current){q=qn(D,q,kt);break t}}else for(fe=q.child,fe!==null&&(fe.return=q);fe!==null;){var Ue=fe.dependencies;if(Ue!==null){Ie=fe.child;for(var Ge=Ue.firstContext;Ge!==null;){if(Ge.context===Bt){if(fe.tag===1){Ge=Qn(-1,kt&-kt),Ge.tag=2;var Je=fe.updateQueue;if(Je!==null){Je=Je.shared;var sr=Je.pending;sr===null?Ge.next=Ge:(Ge.next=sr.next,sr.next=Ge),Je.pending=Ge}}fe.lanes|=kt,Ge=fe.alternate,Ge!==null&&(Ge.lanes|=kt),Fs(fe.return,kt,q),Ue.lanes|=kt;break}Ge=Ge.next}}else if(fe.tag===10)Ie=fe.type===q.type?null:fe.child;else if(fe.tag===18){if(Ie=fe.return,Ie===null)throw Error(g(341));Ie.lanes|=kt,Ue=Ie.alternate,Ue!==null&&(Ue.lanes|=kt),Fs(Ie,kt,q),Ie=fe.sibling}else Ie=fe.child;if(Ie!==null)Ie.return=fe;else for(Ie=fe;Ie!==null;){if(Ie===q){Ie=null;break}if(fe=Ie.sibling,fe!==null){fe.return=Ie.return,Ie=fe;break}Ie=Ie.return}fe=Ie}fn(D,q,te.children,kt),q=q.child}return q;case 9:return te=q.type,Bt=q.pendingProps.children,Zi(q,kt),te=Sn(te),Bt=Bt(te),q.flags|=1,fn(D,q,Bt,kt),q.child;case 14:return Bt=q.type,te=Bn(Bt,q.pendingProps),te=Bn(Bt.type,te),yf(D,q,Bt,te,kt);case 15:return bf(D,q,q.type,q.pendingProps,kt);case 17:return Bt=q.type,te=q.pendingProps,te=q.elementType===Bt?te:Bn(Bt,te),Co(D,q),q.tag=1,hn(Bt)?(D=!0,fo(q)):D=!1,Zi(q,kt),ff(q,Bt,te),Js(q,Bt,te,kt),nl(null,q,Bt,!0,D,kt);case 19:return If(D,q,kt);case 22:return vf(D,q,kt)}throw Error(g(156,q.tag))};function Kf(D,q){return Xi(D,q)}function Nd(D,q,kt,Bt){this.tag=D,this.key=kt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=q,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Bt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(D,q,kt,Bt){return new Nd(D,q,kt,Bt)}function El(D){return D=D.prototype,!(!D||!D.isReactComponent)}function $d(D){if(typeof D=="function")return El(D)?1:0;if(D!=null){if(D=D.$$typeof,D===ie)return 11;if(D===le)return 14}return 2}function pi(D,q){var kt=D.alternate;return kt===null?(kt=Mn(D.tag,q,D.key,D.mode),kt.elementType=D.elementType,kt.type=D.type,kt.stateNode=D.stateNode,kt.alternate=D,D.alternate=kt):(kt.pendingProps=q,kt.type=D.type,kt.flags=0,kt.subtreeFlags=0,kt.deletions=null),kt.flags=D.flags&14680064,kt.childLanes=D.childLanes,kt.lanes=D.lanes,kt.child=D.child,kt.memoizedProps=D.memoizedProps,kt.memoizedState=D.memoizedState,kt.updateQueue=D.updateQueue,q=D.dependencies,kt.dependencies=q===null?null:{lanes:q.lanes,firstContext:q.firstContext},kt.sibling=D.sibling,kt.index=D.index,kt.ref=D.ref,kt}function Uo(D,q,kt,Bt,te,fe){var Ie=2;if(Bt=D,typeof D=="function")El(D)&&(Ie=1);else if(typeof D=="string")Ie=5;else t:switch(D){case Kt:return Ii(kt.children,te,fe,q);case re:Ie=8,te|=8;break;case ee:return D=Mn(12,kt,q,te|2),D.elementType=ee,D.lanes=fe,D;case ge:return D=Mn(13,kt,q,te),D.elementType=ge,D.lanes=fe,D;case ce:return D=Mn(19,kt,q,te),D.elementType=ce,D.lanes=fe,D;case Ae:return jo(kt,te,fe,q);default:if(typeof D=="object"&&D!==null)switch(D.$$typeof){case oe:Ie=10;break t;case Ut:Ie=9;break t;case ie:Ie=11;break t;case le:Ie=14;break t;case de:Ie=16,Bt=null;break t}throw Error(g(130,D==null?D:typeof D,""))}return q=Mn(Ie,kt,q,te),q.elementType=D,q.type=Bt,q.lanes=fe,q}function Ii(D,q,kt,Bt){return D=Mn(7,D,Bt,q),D.lanes=kt,D}function jo(D,q,kt,Bt){return D=Mn(22,D,Bt,q),D.elementType=Ae,D.lanes=kt,D.stateNode={isHidden:!1},D}function kl(D,q,kt){return D=Mn(6,D,null,q),D.lanes=kt,D}function Sl(D,q,kt){return q=Mn(4,D.children!==null?D.children:[],D.key,q),q.lanes=kt,q.stateNode={containerInfo:D.containerInfo,pendingChildren:null,implementation:D.implementation},q}function Fd(D,q,kt,Bt,te){this.tag=q,this.containerInfo=D,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xo(0),this.expirationTimes=Xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.identifierPrefix=Bt,this.onRecoverableError=te,this.mutableSourceEagerHydrationData=null}function Tl(D,q,kt,Bt,te,fe,Ie,Ue,Ge){return D=new Fd(D,q,kt,Ue,Ge),q===1?(q=1,fe===!0&&(q|=8)):q=0,fe=Mn(3,null,null,q),D.current=fe,fe.stateNode=D,fe.memoizedState={element:Bt,isDehydrated:kt,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(fe),D}function Od(D,q,kt){var Bt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:Bt==null?null:""+Bt,children:D,containerInfo:q,implementation:kt}}function Xf(D){if(!D)return ai;D=D._reactInternals;t:{if(Zr(D)!==D||D.tag!==1)throw Error(g(170));var q=D;do{switch(q.tag){case 3:q=q.stateNode.context;break t;case 1:if(hn(q.type)){q=q.stateNode.__reactInternalMemoizedMergedChildContext;break t}}q=q.return}while(q!==null);throw Error(g(171))}if(D.tag===1){var kt=D.type;if(hn(kt))return Su(D,kt,q)}return q}function Jf(D,q,kt,Bt,te,fe,Ie,Ue,Ge){return D=Tl(kt,Bt,!0,D,te,fe,Ie,Ue,Ge),D.context=Xf(null),kt=D.current,Bt=cn(),te=di(kt),fe=Qn(Bt,te),fe.callback=q??null,li(kt,fe,te),D.current.lanes=te,ea(D,te,Bt),_n(D,Bt),D}function Zo(D,q,kt,Bt){var te=q.current,fe=cn(),Ie=di(te);return kt=Xf(kt),q.context===null?q.context=kt:q.pendingContext=kt,q=Qn(fe,Ie),q.payload={element:D},Bt=Bt===void 0?null:Bt,Bt!==null&&(q.callback=Bt),D=li(te,q,Ie),D!==null&&($n(D,te,Ie,fe),vo(D,te,Ie)),Ie}function Go(D){if(D=D.current,!D.child)return null;switch(D.child.tag){case 5:return D.child.stateNode;default:return D.child.stateNode}}function tc(D,q){if(D=D.memoizedState,D!==null&&D.dehydrated!==null){var kt=D.retryLane;D.retryLane=kt!==0&&kt<q?kt:q}}function Il(D,q){tc(D,q),(D=D.alternate)&&tc(D,q)}var ec=typeof reportError=="function"?reportError:function(D){console.error(D)};function Ml(D){this._internalRoot=D}Ho.prototype.render=Ml.prototype.render=function(D){var q=this._internalRoot;if(q===null)throw Error(g(409));Zo(D,q,null,null)},Ho.prototype.unmount=Ml.prototype.unmount=function(){var D=this._internalRoot;if(D!==null){this._internalRoot=null;var q=D.containerInfo;ki(function(){Zo(null,D,null,null)}),q[jn]=null}};function Ho(D){this._internalRoot=D}Ho.prototype.unstable_scheduleHydration=function(D){if(D){var q=Fl();D={blockedOn:null,target:D,priority:q};for(var kt=0;kt<ti.length&&q!==0&&q<ti[kt].priority;kt++);ti.splice(kt,0,D),kt===0&&Ll(D)}};function Al(D){return!(!D||D.nodeType!==1&&D.nodeType!==9&&D.nodeType!==11)}function Wo(D){return!(!D||D.nodeType!==1&&D.nodeType!==9&&D.nodeType!==11&&(D.nodeType!==8||D.nodeValue!==" react-mount-point-unstable "))}function rc(){}function Dd(D,q,kt,Bt,te){if(te){if(typeof Bt=="function"){var fe=Bt;Bt=function(){var Je=Go(Ie);fe.call(Je)}}var Ie=Jf(q,Bt,D,0,null,!1,!1,"",rc);return D._reactRootContainer=Ie,D[jn]=Ie.current,ma(D.nodeType===8?D.parentNode:D),ki(),Ie}for(;te=D.lastChild;)D.removeChild(te);if(typeof Bt=="function"){var Ue=Bt;Bt=function(){var Je=Go(Ge);Ue.call(Je)}}var Ge=Tl(D,0,!1,null,null,!1,!1,"",rc);return D._reactRootContainer=Ge,D[jn]=Ge.current,ma(D.nodeType===8?D.parentNode:D),ki(function(){Zo(q,Ge,kt,Bt)}),Ge}function Qo(D,q,kt,Bt,te){var fe=kt._reactRootContainer;if(fe){var Ie=fe;if(typeof te=="function"){var Ue=te;te=function(){var Ge=Go(Ie);Ue.call(Ge)}}Zo(q,Ie,D,te)}else Ie=Dd(kt,q,D,te,Bt);return Go(Ie)}Nl=function(D){switch(D.tag){case 3:var q=D.stateNode;if(q.current.memoizedState.isDehydrated){var kt=ta(q.pendingLanes);kt!==0&&(Jo(q,kt|1),_n(q,Ur()),!(Cr&6)&&(qi=Ur()+500,oi()))}break;case 13:ki(function(){var Bt=Wn(D,1);if(Bt!==null){var te=cn();$n(Bt,D,1,te)}}),Il(D,1)}},ts=function(D){if(D.tag===13){var q=Wn(D,134217728);if(q!==null){var kt=cn();$n(q,D,134217728,kt)}Il(D,134217728)}},$l=function(D){if(D.tag===13){var q=di(D),kt=Wn(D,q);if(kt!==null){var Bt=cn();$n(kt,D,q,Bt)}Il(D,q)}},Fl=function(){return Rr},Ol=function(D,q){var kt=Rr;try{return Rr=D,q()}finally{Rr=kt}},br=function(D,q,kt){switch(q){case"input":if(Re(D,kt),q=kt.name,kt.type==="radio"&&q!=null){for(kt=D;kt.parentNode;)kt=kt.parentNode;for(kt=kt.querySelectorAll("input[name="+JSON.stringify(""+q)+'][type="radio"]'),q=0;q<kt.length;q++){var Bt=kt[q];if(Bt!==D&&Bt.form===D.form){var te=oo(Bt);if(!te)throw Error(g(90));Te(Bt),Re(Bt,te)}}}break;case"textarea":er(D,kt);break;case"select":q=kt.value,q!=null&&be(D,!!kt.multiple,q,!1)}},qe=vl,gr=ki;var Ld={usingClientEntryPoint:!1,Events:[ya,Ni,oo,$e,We,vl]},Ra={findFiberByHostInstance:_i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ud={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(D){return D=Yi(D),D===null?null:D.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{$a=qo.inject(Ud),Fn=qo}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ld,reactDom_production_min.createPortal=function(D,q){var kt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Al(q))throw Error(g(200));return Od(D,q,null,kt)},reactDom_production_min.createRoot=function(D,q){if(!Al(D))throw Error(g(299));var kt=!1,Bt="",te=ec;return q!=null&&(q.unstable_strictMode===!0&&(kt=!0),q.identifierPrefix!==void 0&&(Bt=q.identifierPrefix),q.onRecoverableError!==void 0&&(te=q.onRecoverableError)),q=Tl(D,1,!1,null,null,kt,!1,Bt,te),D[jn]=q.current,ma(D.nodeType===8?D.parentNode:D),new Ml(q)},reactDom_production_min.findDOMNode=function(D){if(D==null)return null;if(D.nodeType===1)return D;var q=D._reactInternals;if(q===void 0)throw typeof D.render=="function"?Error(g(188)):(D=Object.keys(D).join(","),Error(g(268,D)));return D=Yi(q),D=D===null?null:D.stateNode,D},reactDom_production_min.flushSync=function(D){return ki(D)},reactDom_production_min.hydrate=function(D,q,kt){if(!Wo(q))throw Error(g(200));return Qo(null,D,q,!0,kt)},reactDom_production_min.hydrateRoot=function(D,q,kt){if(!Al(D))throw Error(g(405));var Bt=kt!=null&&kt.hydratedSources||null,te=!1,fe="",Ie=ec;if(kt!=null&&(kt.unstable_strictMode===!0&&(te=!0),kt.identifierPrefix!==void 0&&(fe=kt.identifierPrefix),kt.onRecoverableError!==void 0&&(Ie=kt.onRecoverableError)),q=Jf(q,null,D,1,kt??null,te,!1,fe,Ie),D[jn]=q.current,ma(D),Bt)for(D=0;D<Bt.length;D++)kt=Bt[D],te=kt._getVersion,te=te(kt._source),q.mutableSourceEagerHydrationData==null?q.mutableSourceEagerHydrationData=[kt,te]:q.mutableSourceEagerHydrationData.push(kt,te);return new Ho(q)},reactDom_production_min.render=function(D,q,kt){if(!Wo(q))throw Error(g(200));return Qo(null,D,q,!1,kt)},reactDom_production_min.unmountComponentAtNode=function(D){if(!Wo(D))throw Error(g(40));return D._reactRootContainer?(ki(function(){Qo(null,null,D,!1,function(){D._reactRootContainer=null,D[jn]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=vl,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(D,q,kt,Bt){if(!Wo(kt))throw Error(g(200));if(D==null||D._reactInternals===void 0)throw Error(g(38));return Qo(D,q,kt,!1,Bt)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(m){console.error(m)}}return d(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var d=requireReactDom();return client.createRoot=d.createRoot,client.hydrateRoot=d.hydrateRoot,client}var clientExports=requireClient(),reactExports=requireReact();const ct=getDefaultExportFromCjs$1(reactExports);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function getAugmentedNamespace(d){if(d.__esModule)return d;var m=d.default;if(typeof m=="function"){var g=function w(){return this instanceof w?Reflect.construct(m,arguments,this.constructor):m.apply(this,arguments)};g.prototype=m.prototype}else g={};return Object.defineProperty(g,"__esModule",{value:!0}),Object.keys(d).forEach(function(w){var j=Object.getOwnPropertyDescriptor(d,w);Object.defineProperty(g,w,j.get?j:{enumerable:!0,get:function(){return d[w]}})}),g}typeof self>"u"&&typeof commonjsGlobal=="object"&&(commonjsGlobal.self=commonjsGlobal);var global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0;m<64;++m)lookup[m]=d[m],revLookup[d.charCodeAt(m)]=m;revLookup[45]=62,revLookup[95]=63}function toByteArray(d){var m,g,w,j,H,et;inited||init();var it=d.length;if(it%4>0)throw new Error("Invalid string. Length must be a multiple of 4");H=d[it-2]==="="?2:d[it-1]==="="?1:0,et=new Arr(3*it/4-H),w=H>0?it-4:it;var ot=0;for(m=0,g=0;m<w;m+=4,g+=3)j=revLookup[d.charCodeAt(m)]<<18|revLookup[d.charCodeAt(m+1)]<<12|revLookup[d.charCodeAt(m+2)]<<6|revLookup[d.charCodeAt(m+3)],et[ot++]=j>>16&255,et[ot++]=j>>8&255,et[ot++]=255&j;return H===2?(j=revLookup[d.charCodeAt(m)]<<2|revLookup[d.charCodeAt(m+1)]>>4,et[ot++]=255&j):H===1&&(j=revLookup[d.charCodeAt(m)]<<10|revLookup[d.charCodeAt(m+1)]<<4|revLookup[d.charCodeAt(m+2)]>>2,et[ot++]=j>>8&255,et[ot++]=255&j),et}function tripletToBase64(d){return lookup[d>>18&63]+lookup[d>>12&63]+lookup[d>>6&63]+lookup[63&d]}function encodeChunk(d,m,g){for(var w,j=[],H=m;H<g;H+=3)w=(d[H]<<16)+(d[H+1]<<8)+d[H+2],j.push(tripletToBase64(w));return j.join("")}function fromByteArray(d){var m;inited||init();for(var g=d.length,w=g%3,j="",H=[],et=16383,it=0,ot=g-w;it<ot;it+=et)H.push(encodeChunk(d,it,it+et>ot?ot:it+et));return w===1?(m=d[g-1],j+=lookup[m>>2],j+=lookup[m<<4&63],j+="=="):w===2&&(m=(d[g-2]<<8)+d[g-1],j+=lookup[m>>10],j+=lookup[m>>4&63],j+=lookup[m<<2&63],j+="="),H.push(j),H.join("")}function read(d,m,g,w,j){var H,et,it=8*j-w-1,ot=(1<<it)-1,ut=ot>>1,ft=-7,dt=g?j-1:0,St=g?-1:1,Tt=d[m+dt];for(dt+=St,H=Tt&(1<<-ft)-1,Tt>>=-ft,ft+=it;ft>0;H=256*H+d[m+dt],dt+=St,ft-=8);for(et=H&(1<<-ft)-1,H>>=-ft,ft+=w;ft>0;et=256*et+d[m+dt],dt+=St,ft-=8);if(H===0)H=1-ut;else{if(H===ot)return et?NaN:1/0*(Tt?-1:1);et+=Math.pow(2,w),H-=ut}return(Tt?-1:1)*et*Math.pow(2,H-w)}function write(d,m,g,w,j,H){var et,it,ot,ut=8*H-j-1,ft=(1<<ut)-1,dt=ft>>1,St=j===23?Math.pow(2,-24)-Math.pow(2,-77):0,Tt=w?0:H-1,Rt=w?1:-1,zt=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(it=isNaN(m)?1:0,et=ft):(et=Math.floor(Math.log(m)/Math.LN2),m*(ot=Math.pow(2,-et))<1&&(et--,ot*=2),(m+=et+dt>=1?St/ot:St*Math.pow(2,1-dt))*ot>=2&&(et++,ot/=2),et+dt>=ft?(it=0,et=ft):et+dt>=1?(it=(m*ot-1)*Math.pow(2,j),et+=dt):(it=m*Math.pow(2,dt-1)*Math.pow(2,j),et=0));j>=8;d[g+Tt]=255&it,Tt+=Rt,it/=256,j-=8);for(et=et<<j|it,ut+=j;ut>0;d[g+Tt]=255&et,Tt+=Rt,et/=256,ut-=8);d[g+Tt-Rt]|=128*zt}var toString={}.toString,isArray=Array.isArray||function(d){return toString.call(d)=="[object Array]"},INSPECT_MAX_BYTES=50;function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(d,m){if(kMaxLength()<m)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(d=new Uint8Array(m)).__proto__=Buffer.prototype:(d===null&&(d=new Buffer(m)),d.length=m),d}function Buffer(d,m,g){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(d,m,g);if(typeof d=="number"){if(typeof m=="string")throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,d)}return from(this,d,m,g)}function from(d,m,g,w){if(typeof m=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&m instanceof ArrayBuffer?fromArrayBuffer(d,m,g,w):typeof m=="string"?fromString(d,m,g):fromObject(d,m)}function assertSize(d){if(typeof d!="number")throw new TypeError('"size" argument must be a number');if(d<0)throw new RangeError('"size" argument must not be negative')}function alloc(d,m,g,w){return assertSize(m),m<=0?createBuffer(d,m):g!==void 0?typeof w=="string"?createBuffer(d,m).fill(g,w):createBuffer(d,m).fill(g):createBuffer(d,m)}function allocUnsafe(d,m){if(assertSize(m),d=createBuffer(d,m<0?0:0|checked(m)),!Buffer.TYPED_ARRAY_SUPPORT)for(var g=0;g<m;++g)d[g]=0;return d}function fromString(d,m,g){if(typeof g=="string"&&g!==""||(g="utf8"),!Buffer.isEncoding(g))throw new TypeError('"encoding" must be a valid string encoding');var w=0|byteLength(m,g),j=(d=createBuffer(d,w)).write(m,g);return j!==w&&(d=d.slice(0,j)),d}function fromArrayLike(d,m){var g=m.length<0?0:0|checked(m.length);d=createBuffer(d,g);for(var w=0;w<g;w+=1)d[w]=255&m[w];return d}function fromArrayBuffer(d,m,g,w){if(m.byteLength,g<0||m.byteLength<g)throw new RangeError("'offset' is out of bounds");if(m.byteLength<g+(w||0))throw new RangeError("'length' is out of bounds");return m=g===void 0&&w===void 0?new Uint8Array(m):w===void 0?new Uint8Array(m,g):new Uint8Array(m,g,w),Buffer.TYPED_ARRAY_SUPPORT?(d=m).__proto__=Buffer.prototype:d=fromArrayLike(d,m),d}function fromObject(d,m){if(internalIsBuffer(m)){var g=0|checked(m.length);return(d=createBuffer(d,g)).length===0||m.copy(d,0,0,g),d}if(m){if(typeof ArrayBuffer<"u"&&m.buffer instanceof ArrayBuffer||"length"in m)return typeof m.length!="number"||isnan(m.length)?createBuffer(d,0):fromArrayLike(d,m);if(m.type==="Buffer"&&isArray(m.data))return fromArrayLike(d,m.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(d){if(d>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|d}function internalIsBuffer(d){return!(d==null||!d._isBuffer)}function byteLength(d,m){if(internalIsBuffer(d))return d.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(d)||d instanceof ArrayBuffer))return d.byteLength;typeof d!="string"&&(d=""+d);var g=d.length;if(g===0)return 0;for(var w=!1;;)switch(m){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":case void 0:return utf8ToBytes(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*g;case"hex":return g>>>1;case"base64":return base64ToBytes(d).length;default:if(w)return utf8ToBytes(d).length;m=(""+m).toLowerCase(),w=!0}}function slowToString(d,m,g){var w=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0)<=(m>>>=0))return"";for(d||(d="utf8");;)switch(d){case"hex":return hexSlice(this,m,g);case"utf8":case"utf-8":return utf8Slice(this,m,g);case"ascii":return asciiSlice(this,m,g);case"latin1":case"binary":return latin1Slice(this,m,g);case"base64":return base64Slice(this,m,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,m,g);default:if(w)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),w=!0}}function swap(d,m,g){var w=d[m];d[m]=d[g],d[g]=w}function bidirectionalIndexOf(d,m,g,w,j){if(d.length===0)return-1;if(typeof g=="string"?(w=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,isNaN(g)&&(g=j?0:d.length-1),g<0&&(g=d.length+g),g>=d.length){if(j)return-1;g=d.length-1}else if(g<0){if(!j)return-1;g=0}if(typeof m=="string"&&(m=Buffer.from(m,w)),internalIsBuffer(m))return m.length===0?-1:arrayIndexOf(d,m,g,w,j);if(typeof m=="number")return m&=255,Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(d,m,g):Uint8Array.prototype.lastIndexOf.call(d,m,g):arrayIndexOf(d,[m],g,w,j);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(d,m,g,w,j){var H,et=1,it=d.length,ot=m.length;if(w!==void 0&&((w=String(w).toLowerCase())==="ucs2"||w==="ucs-2"||w==="utf16le"||w==="utf-16le")){if(d.length<2||m.length<2)return-1;et=2,it/=2,ot/=2,g/=2}function ut(Tt,Rt){return et===1?Tt[Rt]:Tt.readUInt16BE(Rt*et)}if(j){var ft=-1;for(H=g;H<it;H++)if(ut(d,H)===ut(m,ft===-1?0:H-ft)){if(ft===-1&&(ft=H),H-ft+1===ot)return ft*et}else ft!==-1&&(H-=H-ft),ft=-1}else for(g+ot>it&&(g=it-ot),H=g;H>=0;H--){for(var dt=!0,St=0;St<ot;St++)if(ut(d,H+St)!==ut(m,St)){dt=!1;break}if(dt)return H}return-1}function hexWrite(d,m,g,w){g=Number(g)||0;var j=d.length-g;w?(w=Number(w))>j&&(w=j):w=j;var H=m.length;if(H%2!=0)throw new TypeError("Invalid hex string");w>H/2&&(w=H/2);for(var et=0;et<w;++et){var it=parseInt(m.substr(2*et,2),16);if(isNaN(it))return et;d[g+et]=it}return et}function utf8Write(d,m,g,w){return blitBuffer(utf8ToBytes(m,d.length-g),d,g,w)}function asciiWrite(d,m,g,w){return blitBuffer(asciiToBytes(m),d,g,w)}function latin1Write(d,m,g,w){return asciiWrite(d,m,g,w)}function base64Write(d,m,g,w){return blitBuffer(base64ToBytes(m),d,g,w)}function ucs2Write(d,m,g,w){return blitBuffer(utf16leToBytes(m,d.length-g),d,g,w)}function base64Slice(d,m,g){return m===0&&g===d.length?fromByteArray(d):fromByteArray(d.slice(m,g))}function utf8Slice(d,m,g){g=Math.min(d.length,g);for(var w=[],j=m;j<g;){var H,et,it,ot,ut=d[j],ft=null,dt=ut>239?4:ut>223?3:ut>191?2:1;if(j+dt<=g)switch(dt){case 1:ut<128&&(ft=ut);break;case 2:(192&(H=d[j+1]))==128&&(ot=(31&ut)<<6|63&H)>127&&(ft=ot);break;case 3:H=d[j+1],et=d[j+2],(192&H)==128&&(192&et)==128&&(ot=(15&ut)<<12|(63&H)<<6|63&et)>2047&&(ot<55296||ot>57343)&&(ft=ot);break;case 4:H=d[j+1],et=d[j+2],it=d[j+3],(192&H)==128&&(192&et)==128&&(192&it)==128&&(ot=(15&ut)<<18|(63&H)<<12|(63&et)<<6|63&it)>65535&&ot<1114112&&(ft=ot)}ft===null?(ft=65533,dt=1):ft>65535&&(ft-=65536,w.push(ft>>>10&1023|55296),ft=56320|1023&ft),w.push(ft),j+=dt}return decodeCodePointsArray(w)}Buffer.TYPED_ARRAY_SUPPORT=global$1.TYPED_ARRAY_SUPPORT===void 0||global$1.TYPED_ARRAY_SUPPORT,kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(d){return d.__proto__=Buffer.prototype,d},Buffer.from=function(d,m,g){return from(null,d,m,g)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Buffer[Symbol.species]),Buffer.alloc=function(d,m,g){return alloc(null,d,m,g)},Buffer.allocUnsafe=function(d){return allocUnsafe(null,d)},Buffer.allocUnsafeSlow=function(d){return allocUnsafe(null,d)},Buffer.isBuffer=isBuffer,Buffer.compare=function(d,m){if(!internalIsBuffer(d)||!internalIsBuffer(m))throw new TypeError("Arguments must be Buffers");if(d===m)return 0;for(var g=d.length,w=m.length,j=0,H=Math.min(g,w);j<H;++j)if(d[j]!==m[j]){g=d[j],w=m[j];break}return g<w?-1:w<g?1:0},Buffer.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(d,m){if(!isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return Buffer.alloc(0);var g;if(m===void 0)for(m=0,g=0;g<d.length;++g)m+=d[g].length;var w=Buffer.allocUnsafe(m),j=0;for(g=0;g<d.length;++g){var H=d[g];if(!internalIsBuffer(H))throw new TypeError('"list" argument must be an Array of Buffers');H.copy(w,j),j+=H.length}return w},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<d;m+=2)swap(this,m,m+1);return this},Buffer.prototype.swap32=function(){var d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<d;m+=4)swap(this,m,m+3),swap(this,m+1,m+2);return this},Buffer.prototype.swap64=function(){var d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<d;m+=8)swap(this,m,m+7),swap(this,m+1,m+6),swap(this,m+2,m+5),swap(this,m+3,m+4);return this},Buffer.prototype.toString=function(){var d=0|this.length;return d===0?"":arguments.length===0?utf8Slice(this,0,d):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(d){if(!internalIsBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d||Buffer.compare(this,d)===0},Buffer.prototype.inspect=function(){var d="",m=INSPECT_MAX_BYTES;return this.length>0&&(d=this.toString("hex",0,m).match(/.{2}/g).join(" "),this.length>m&&(d+=" ... ")),"<Buffer "+d+">"},Buffer.prototype.compare=function(d,m,g,w,j){if(!internalIsBuffer(d))throw new TypeError("Argument must be a Buffer");if(m===void 0&&(m=0),g===void 0&&(g=d?d.length:0),w===void 0&&(w=0),j===void 0&&(j=this.length),m<0||g>d.length||w<0||j>this.length)throw new RangeError("out of range index");if(w>=j&&m>=g)return 0;if(w>=j)return-1;if(m>=g)return 1;if(this===d)return 0;for(var H=(j>>>=0)-(w>>>=0),et=(g>>>=0)-(m>>>=0),it=Math.min(H,et),ot=this.slice(w,j),ut=d.slice(m,g),ft=0;ft<it;++ft)if(ot[ft]!==ut[ft]){H=ot[ft],et=ut[ft];break}return H<et?-1:et<H?1:0},Buffer.prototype.includes=function(d,m,g){return this.indexOf(d,m,g)!==-1},Buffer.prototype.indexOf=function(d,m,g){return bidirectionalIndexOf(this,d,m,g,!0)},Buffer.prototype.lastIndexOf=function(d,m,g){return bidirectionalIndexOf(this,d,m,g,!1)},Buffer.prototype.write=function(d,m,g,w){if(m===void 0)w="utf8",g=this.length,m=0;else if(g===void 0&&typeof m=="string")w=m,g=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m|=0,isFinite(g)?(g|=0,w===void 0&&(w="utf8")):(w=g,g=void 0)}var j=this.length-m;if((g===void 0||g>j)&&(g=j),d.length>0&&(g<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");w||(w="utf8");for(var H=!1;;)switch(w){case"hex":return hexWrite(this,d,m,g);case"utf8":case"utf-8":return utf8Write(this,d,m,g);case"ascii":return asciiWrite(this,d,m,g);case"latin1":case"binary":return latin1Write(this,d,m,g);case"base64":return base64Write(this,d,m,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,d,m,g);default:if(H)throw new TypeError("Unknown encoding: "+w);w=(""+w).toLowerCase(),H=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(d){var m=d.length;if(m<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,d);for(var g="",w=0;w<m;)g+=String.fromCharCode.apply(String,d.slice(w,w+=MAX_ARGUMENTS_LENGTH));return g}function asciiSlice(d,m,g){var w="";g=Math.min(d.length,g);for(var j=m;j<g;++j)w+=String.fromCharCode(127&d[j]);return w}function latin1Slice(d,m,g){var w="";g=Math.min(d.length,g);for(var j=m;j<g;++j)w+=String.fromCharCode(d[j]);return w}function hexSlice(d,m,g){var w=d.length;(!m||m<0)&&(m=0),(!g||g<0||g>w)&&(g=w);for(var j="",H=m;H<g;++H)j+=toHex(d[H]);return j}function utf16leSlice(d,m,g){for(var w=d.slice(m,g),j="",H=0;H<w.length;H+=2)j+=String.fromCharCode(w[H]+256*w[H+1]);return j}function checkOffset(d,m,g){if(d%1!=0||d<0)throw new RangeError("offset is not uint");if(d+m>g)throw new RangeError("Trying to access beyond buffer length")}function checkInt(d,m,g,w,j,H){if(!internalIsBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>j||m<H)throw new RangeError('"value" argument is out of bounds');if(g+w>d.length)throw new RangeError("Index out of range")}function objectWriteUInt16(d,m,g,w){m<0&&(m=65535+m+1);for(var j=0,H=Math.min(d.length-g,2);j<H;++j)d[g+j]=(m&255<<8*(w?j:1-j))>>>8*(w?j:1-j)}function objectWriteUInt32(d,m,g,w){m<0&&(m=4294967295+m+1);for(var j=0,H=Math.min(d.length-g,4);j<H;++j)d[g+j]=m>>>8*(w?j:3-j)&255}function checkIEEE754(d,m,g,w,j,H){if(g+w>d.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function writeFloat(d,m,g,w,j){return j||checkIEEE754(d,m,g,4),write(d,m,g,w,23,4),g+4}function writeDouble(d,m,g,w,j){return j||checkIEEE754(d,m,g,8),write(d,m,g,w,52,8),g+8}Buffer.prototype.slice=function(d,m){var g,w=this.length;if((d=~~d)<0?(d+=w)<0&&(d=0):d>w&&(d=w),(m=m===void 0?w:~~m)<0?(m+=w)<0&&(m=0):m>w&&(m=w),m<d&&(m=d),Buffer.TYPED_ARRAY_SUPPORT)(g=this.subarray(d,m)).__proto__=Buffer.prototype;else{var j=m-d;g=new Buffer(j,void 0);for(var H=0;H<j;++H)g[H]=this[H+d]}return g},Buffer.prototype.readUIntLE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d],j=1,H=0;++H<m&&(j*=256);)w+=this[d+H]*j;return w},Buffer.prototype.readUIntBE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d+--m],j=1;m>0&&(j*=256);)w+=this[d+--m]*j;return w},Buffer.prototype.readUInt8=function(d,m){return m||checkOffset(d,1,this.length),this[d]},Buffer.prototype.readUInt16LE=function(d,m){return m||checkOffset(d,2,this.length),this[d]|this[d+1]<<8},Buffer.prototype.readUInt16BE=function(d,m){return m||checkOffset(d,2,this.length),this[d]<<8|this[d+1]},Buffer.prototype.readUInt32LE=function(d,m){return m||checkOffset(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+16777216*this[d+3]},Buffer.prototype.readUInt32BE=function(d,m){return m||checkOffset(d,4,this.length),16777216*this[d]+(this[d+1]<<16|this[d+2]<<8|this[d+3])},Buffer.prototype.readIntLE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=this[d],j=1,H=0;++H<m&&(j*=256);)w+=this[d+H]*j;return w>=(j*=128)&&(w-=Math.pow(2,8*m)),w},Buffer.prototype.readIntBE=function(d,m,g){d|=0,m|=0,g||checkOffset(d,m,this.length);for(var w=m,j=1,H=this[d+--w];w>0&&(j*=256);)H+=this[d+--w]*j;return H>=(j*=128)&&(H-=Math.pow(2,8*m)),H},Buffer.prototype.readInt8=function(d,m){return m||checkOffset(d,1,this.length),128&this[d]?-1*(255-this[d]+1):this[d]},Buffer.prototype.readInt16LE=function(d,m){m||checkOffset(d,2,this.length);var g=this[d]|this[d+1]<<8;return 32768&g?4294901760|g:g},Buffer.prototype.readInt16BE=function(d,m){m||checkOffset(d,2,this.length);var g=this[d+1]|this[d]<<8;return 32768&g?4294901760|g:g},Buffer.prototype.readInt32LE=function(d,m){return m||checkOffset(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},Buffer.prototype.readInt32BE=function(d,m){return m||checkOffset(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},Buffer.prototype.readFloatLE=function(d,m){return m||checkOffset(d,4,this.length),read(this,d,!0,23,4)},Buffer.prototype.readFloatBE=function(d,m){return m||checkOffset(d,4,this.length),read(this,d,!1,23,4)},Buffer.prototype.readDoubleLE=function(d,m){return m||checkOffset(d,8,this.length),read(this,d,!0,52,8)},Buffer.prototype.readDoubleBE=function(d,m){return m||checkOffset(d,8,this.length),read(this,d,!1,52,8)},Buffer.prototype.writeUIntLE=function(d,m,g,w){d=+d,m|=0,g|=0,w||checkInt(this,d,m,g,Math.pow(2,8*g)-1,0);var j=1,H=0;for(this[m]=255&d;++H<g&&(j*=256);)this[m+H]=d/j&255;return m+g},Buffer.prototype.writeUIntBE=function(d,m,g,w){d=+d,m|=0,g|=0,w||checkInt(this,d,m,g,Math.pow(2,8*g)-1,0);var j=g-1,H=1;for(this[m+j]=255&d;--j>=0&&(H*=256);)this[m+j]=d/H&255;return m+g},Buffer.prototype.writeUInt8=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),this[m]=255&d,m+1},Buffer.prototype.writeUInt16LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8):objectWriteUInt16(this,d,m,!0),m+2},Buffer.prototype.writeUInt16BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>8,this[m+1]=255&d):objectWriteUInt16(this,d,m,!1),m+2},Buffer.prototype.writeUInt32LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m+3]=d>>>24,this[m+2]=d>>>16,this[m+1]=d>>>8,this[m]=255&d):objectWriteUInt32(this,d,m,!0),m+4},Buffer.prototype.writeUInt32BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=255&d):objectWriteUInt32(this,d,m,!1),m+4},Buffer.prototype.writeIntLE=function(d,m,g,w){if(d=+d,m|=0,!w){var j=Math.pow(2,8*g-1);checkInt(this,d,m,g,j-1,-j)}var H=0,et=1,it=0;for(this[m]=255&d;++H<g&&(et*=256);)d<0&&it===0&&this[m+H-1]!==0&&(it=1),this[m+H]=(d/et|0)-it&255;return m+g},Buffer.prototype.writeIntBE=function(d,m,g,w){if(d=+d,m|=0,!w){var j=Math.pow(2,8*g-1);checkInt(this,d,m,g,j-1,-j)}var H=g-1,et=1,it=0;for(this[m+H]=255&d;--H>=0&&(et*=256);)d<0&&it===0&&this[m+H+1]!==0&&(it=1),this[m+H]=(d/et|0)-it&255;return m+g},Buffer.prototype.writeInt8=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),d<0&&(d=255+d+1),this[m]=255&d,m+1},Buffer.prototype.writeInt16LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8):objectWriteUInt16(this,d,m,!0),m+2},Buffer.prototype.writeInt16BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>8,this[m+1]=255&d):objectWriteUInt16(this,d,m,!1),m+2},Buffer.prototype.writeInt32LE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=255&d,this[m+1]=d>>>8,this[m+2]=d>>>16,this[m+3]=d>>>24):objectWriteUInt32(this,d,m,!0),m+4},Buffer.prototype.writeInt32BE=function(d,m,g){return d=+d,m|=0,g||checkInt(this,d,m,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),Buffer.TYPED_ARRAY_SUPPORT?(this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=255&d):objectWriteUInt32(this,d,m,!1),m+4},Buffer.prototype.writeFloatLE=function(d,m,g){return writeFloat(this,d,m,!0,g)},Buffer.prototype.writeFloatBE=function(d,m,g){return writeFloat(this,d,m,!1,g)},Buffer.prototype.writeDoubleLE=function(d,m,g){return writeDouble(this,d,m,!0,g)},Buffer.prototype.writeDoubleBE=function(d,m,g){return writeDouble(this,d,m,!1,g)},Buffer.prototype.copy=function(d,m,g,w){if(g||(g=0),w||w===0||(w=this.length),m>=d.length&&(m=d.length),m||(m=0),w>0&&w<g&&(w=g),w===g||d.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("sourceStart out of bounds");if(w<0)throw new RangeError("sourceEnd out of bounds");w>this.length&&(w=this.length),d.length-m<w-g&&(w=d.length-m+g);var j,H=w-g;if(this===d&&g<m&&m<w)for(j=H-1;j>=0;--j)d[j+m]=this[j+g];else if(H<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(j=0;j<H;++j)d[j+m]=this[j+g];else Uint8Array.prototype.set.call(d,this.subarray(g,g+H),m);return H},Buffer.prototype.fill=function(d,m,g,w){if(typeof d=="string"){if(typeof m=="string"?(w=m,m=0,g=this.length):typeof g=="string"&&(w=g,g=this.length),d.length===1){var j=d.charCodeAt(0);j<256&&(d=j)}if(w!==void 0&&typeof w!="string")throw new TypeError("encoding must be a string");if(typeof w=="string"&&!Buffer.isEncoding(w))throw new TypeError("Unknown encoding: "+w)}else typeof d=="number"&&(d&=255);if(m<0||this.length<m||this.length<g)throw new RangeError("Out of range index");if(g<=m)return this;var H;if(m>>>=0,g=g===void 0?this.length:g>>>0,d||(d=0),typeof d=="number")for(H=m;H<g;++H)this[H]=d;else{var et=internalIsBuffer(d)?d:utf8ToBytes(new Buffer(d,w).toString()),it=et.length;for(H=0;H<g-m;++H)this[H+m]=et[H%it]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g,HeaderTypes;function base64clean(d){if((d=stringtrim(d).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;d.length%4!=0;)d+="=";return d}function stringtrim(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function toHex(d){return d<16?"0"+d.toString(16):d.toString(16)}function utf8ToBytes(d,m){var g;m=m||1/0;for(var w=d.length,j=null,H=[],et=0;et<w;++et){if((g=d.charCodeAt(et))>55295&&g<57344){if(!j){if(g>56319){(m-=3)>-1&&H.push(239,191,189);continue}if(et+1===w){(m-=3)>-1&&H.push(239,191,189);continue}j=g;continue}if(g<56320){(m-=3)>-1&&H.push(239,191,189),j=g;continue}g=65536+(j-55296<<10|g-56320)}else j&&(m-=3)>-1&&H.push(239,191,189);if(j=null,g<128){if((m-=1)<0)break;H.push(g)}else if(g<2048){if((m-=2)<0)break;H.push(g>>6|192,63&g|128)}else if(g<65536){if((m-=3)<0)break;H.push(g>>12|224,g>>6&63|128,63&g|128)}else{if(!(g<1114112))throw new Error("Invalid code point");if((m-=4)<0)break;H.push(g>>18|240,g>>12&63|128,g>>6&63|128,63&g|128)}}return H}function asciiToBytes(d){for(var m=[],g=0;g<d.length;++g)m.push(255&d.charCodeAt(g));return m}function utf16leToBytes(d,m){for(var g,w,j,H=[],et=0;et<d.length&&!((m-=2)<0);++et)w=(g=d.charCodeAt(et))>>8,j=g%256,H.push(j),H.push(w);return H}function base64ToBytes(d){return toByteArray(base64clean(d))}function blitBuffer(d,m,g,w){for(var j=0;j<w&&!(j+g>=m.length||j>=d.length);++j)m[j+g]=d[j];return j}function isnan(d){return d!=d}function isBuffer(d){return d!=null&&(!!d._isBuffer||isFastBuffer(d)||isSlowBuffer(d))}function isFastBuffer(d){return!!d.constructor&&typeof d.constructor.isBuffer=="function"&&d.constructor.isBuffer(d)}function isSlowBuffer(d){return typeof d.readFloatLE=="function"&&typeof d.slice=="function"&&isFastBuffer(d.slice(0,0))}(function(d){d[d.BITMAP_INFO_HEADER=40]="BITMAP_INFO_HEADER",d[d.BITMAP_V2_INFO_HEADER=52]="BITMAP_V2_INFO_HEADER",d[d.BITMAP_V3_INFO_HEADER=56]="BITMAP_V3_INFO_HEADER",d[d.BITMAP_V4_HEADER=108]="BITMAP_V4_HEADER",d[d.BITMAP_V5_HEADER=124]="BITMAP_V5_HEADER"})(HeaderTypes||(HeaderTypes={}));var HeaderTypes$1=HeaderTypes,BmpCompression;function maskColor(d,m,g,w){const j=1+~d&d,H=1+~m&m,et=1+~g&g,it=1+~w&w,ot=d/j+1,ut=m/H+1,ft=g/et+1,dt=w/it+1;return{shiftRed:St=>(St&d)/j*256/ot,shiftGreen:St=>(St&m)/H*256/ut,shiftBlue:St=>(St&g)/et*256/ft,shiftAlpha:w!==0?St=>(St&w)/it*256/dt:()=>255}}(function(d){d[d.NONE=0]="NONE",d[d.BI_RLE8=1]="BI_RLE8",d[d.BI_RLE4=2]="BI_RLE4",d[d.BI_BIT_FIELDS=3]="BI_BIT_FIELDS",d[d.BI_ALPHA_BIT_FIELDS=6]="BI_ALPHA_BIT_FIELDS"})(BmpCompression||(BmpCompression={}));class BmpDecoder{constructor(m,{toRGBA:g}={toRGBA:!1}){Er(this,"flag");Er(this,"fileSize");Er(this,"reserved1");Er(this,"reserved2");Er(this,"offset");Er(this,"headerSize");Er(this,"width");Er(this,"height");Er(this,"planes");Er(this,"bitPP");Er(this,"compression");Er(this,"rawSize");Er(this,"hr");Er(this,"vr");Er(this,"colors");Er(this,"importantColors");Er(this,"palette");Er(this,"data");Er(this,"maskRed");Er(this,"maskGreen");Er(this,"maskBlue");Er(this,"maskAlpha");Er(this,"toRGBA");Er(this,"pos");Er(this,"bottomUp");Er(this,"buffer");Er(this,"locRed");Er(this,"locGreen");Er(this,"locBlue");Er(this,"locAlpha");Er(this,"shiftRed");Er(this,"shiftGreen");Er(this,"shiftBlue");Er(this,"shiftAlpha");if(this.buffer=m,this.toRGBA=!!g,this.pos=0,this.bottomUp=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!=="BM")throw new Error("Invalid BMP File");this.locRed=this.toRGBA?0:3,this.locGreen=this.toRGBA?1:2,this.locBlue=this.toRGBA?2:1,this.locAlpha=this.toRGBA?3:0,this.parseHeader(),this.parseRGBA()}parseHeader(){if(this.fileSize=this.readUInt32LE(),this.reserved1=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.reserved2=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.offset=this.readUInt32LE(),this.headerSize=this.readUInt32LE(),!(this.headerSize in HeaderTypes$1))throw new Error(`Unsupported BMP header size ${this.headerSize}`);if(this.width=this.readUInt32LE(),this.height=this.readUInt32LE(),this.height=this.height>2147483647?this.height-4294967296:this.height,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compression=this.readUInt32LE(),this.rawSize=this.readUInt32LE(),this.hr=this.readUInt32LE(),this.vr=this.readUInt32LE(),this.colors=this.readUInt32LE(),this.importantColors=this.readUInt32LE(),this.bitPP===32?(this.maskAlpha=0,this.maskRed=16711680,this.maskGreen=65280,this.maskBlue=255):this.bitPP===16&&(this.maskAlpha=0,this.maskRed=31744,this.maskGreen=992,this.maskBlue=31),(this.headerSize>HeaderTypes$1.BITMAP_INFO_HEADER||this.compression===BmpCompression.BI_BIT_FIELDS||this.compression===BmpCompression.BI_ALPHA_BIT_FIELDS)&&(this.maskRed=this.readUInt32LE(),this.maskGreen=this.readUInt32LE(),this.maskBlue=this.readUInt32LE()),(this.headerSize>HeaderTypes$1.BITMAP_V2_INFO_HEADER||this.compression===BmpCompression.BI_ALPHA_BIT_FIELDS)&&(this.maskAlpha=this.readUInt32LE()),this.headerSize>HeaderTypes$1.BITMAP_V3_INFO_HEADER&&(this.pos+=HeaderTypes$1.BITMAP_V4_HEADER-HeaderTypes$1.BITMAP_V3_INFO_HEADER),this.headerSize>HeaderTypes$1.BITMAP_V4_HEADER&&(this.pos+=HeaderTypes$1.BITMAP_V5_HEADER-HeaderTypes$1.BITMAP_V4_HEADER),this.bitPP<=8||this.colors>0){const g=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(g);for(let w=0;w<g;w++){const j=this.buffer.readUInt8(this.pos++),H=this.buffer.readUInt8(this.pos++),et=this.buffer.readUInt8(this.pos++),it=this.buffer.readUInt8(this.pos++);this.palette[w]={red:et,green:H,blue:j,quad:it}}}this.height<0&&(this.height*=-1,this.bottomUp=!1);const m=maskColor(this.maskRed,this.maskGreen,this.maskBlue,this.maskAlpha);this.shiftRed=m.shiftRed,this.shiftGreen=m.shiftGreen,this.shiftBlue=m.shiftBlue,this.shiftAlpha=m.shiftAlpha}parseRGBA(){switch(this.data=Buffer.alloc(this.width*this.height*4),this.bitPP){case 1:this.bit1();break;case 4:this.bit4();break;case 8:this.bit8();break;case 16:this.bit16();break;case 24:this.bit24();break;default:this.bit32()}}bit1(){const m=Math.ceil(this.width/8),g=m%4,w=g!==0?4-g:0;this.scanImage(w,m,(j,H)=>{const et=this.buffer.readUInt8(this.pos++),it=H*this.width*4+8*j*4;for(let ot=0;ot<8&&8*j+ot<this.width;ot++){const ut=this.palette[et>>7-ot&1];this.data[it+ot*this.locAlpha]=0,this.data[it+4*ot+this.locBlue]=ut.blue,this.data[it+4*ot+this.locGreen]=ut.green,this.data[it+4*ot+this.locRed]=ut.red}})}bit4(){if(this.compression===BmpCompression.BI_RLE4){this.data.fill(0);let m=!1,g=this.bottomUp?this.height-1:0,w=0;for(;w<this.data.length;){const j=this.buffer.readUInt8(this.pos++),H=this.buffer.readUInt8(this.pos++);if(j===0){if(H===0){g+=this.bottomUp?-1:1,w=g*this.width*4,m=!1;continue}if(H===1)break;if(H===2){const et=this.buffer.readUInt8(this.pos++),it=this.buffer.readUInt8(this.pos++);g+=this.bottomUp?-it:it,w+=it*this.width*4+4*et}else{let et=this.buffer.readUInt8(this.pos++);for(let it=0;it<H;it++)w=this.setPixelData(w,m?15&et:(240&et)>>4),1&it&&it+1<H&&(et=this.buffer.readUInt8(this.pos++)),m=!m;(H+1>>1&1)==1&&this.pos++}}else for(let et=0;et<j;et++)w=this.setPixelData(w,m?15&H:(240&H)>>4),m=!m}}else{const m=Math.ceil(this.width/2),g=m%4,w=g!==0?4-g:0;this.scanImage(w,m,(j,H)=>{const et=this.buffer.readUInt8(this.pos++),it=H*this.width*4+2*j*4,ot=et>>4;let ut=this.palette[ot];if(this.data[it]=0,this.data[it+1]=ut.blue,this.data[it+2]=ut.green,this.data[it+3]=ut.red,2*j+1>=this.width)return!1;const ft=15&et;ut=this.palette[ft],this.data[it+4]=0,this.data[it+4+1]=ut.blue,this.data[it+4+2]=ut.green,this.data[it+4+3]=ut.red})}}bit8(){if(this.compression===BmpCompression.BI_RLE8){this.data.fill(0);let m=this.bottomUp?this.height-1:0,g=0;for(;g<this.data.length;){const w=this.buffer.readUInt8(this.pos++),j=this.buffer.readUInt8(this.pos++);if(w===0){if(j===0){m+=this.bottomUp?-1:1,g=m*this.width*4;continue}if(j===1)break;if(j===2){const H=this.buffer.readUInt8(this.pos++),et=this.buffer.readUInt8(this.pos++);m+=this.bottomUp?-et:et,g+=et*this.width*4+4*H}else{for(let H=0;H<j;H++){const et=this.buffer.readUInt8(this.pos++);g=this.setPixelData(g,et)}!0&j&&this.pos++}}else for(let H=0;H<w;H++)g=this.setPixelData(g,j)}}else{const m=this.width%4,g=m!==0?4-m:0;this.scanImage(g,this.width,(w,j)=>{const H=this.buffer.readUInt8(this.pos++),et=j*this.width*4+4*w;if(H<this.palette.length){const it=this.palette[H];this.data[et]=0,this.data[et+1]=it.blue,this.data[et+2]=it.green,this.data[et+3]=it.red}else this.data[et]=0,this.data[et+1]=255,this.data[et+2]=255,this.data[et+3]=255})}}bit16(){const m=this.width%2*2;this.scanImage(m,this.width,(g,w)=>{const j=w*this.width*4+4*g,H=this.buffer.readUInt16LE(this.pos);this.pos+=2,this.data[j+this.locRed]=this.shiftRed(H),this.data[j+this.locGreen]=this.shiftGreen(H),this.data[j+this.locBlue]=this.shiftBlue(H),this.data[j+this.locAlpha]=this.shiftAlpha(H)})}bit24(){const m=this.width%4;this.scanImage(m,this.width,(g,w)=>{const j=w*this.width*4+4*g,H=this.buffer.readUInt8(this.pos++),et=this.buffer.readUInt8(this.pos++),it=this.buffer.readUInt8(this.pos++);this.data[j+this.locRed]=it,this.data[j+this.locGreen]=et,this.data[j+this.locBlue]=H,this.data[j+this.locAlpha]=0})}bit32(){this.scanImage(0,this.width,(m,g)=>{const w=g*this.width*4+4*m,j=this.readUInt32LE();this.data[w+this.locRed]=this.shiftRed(j),this.data[w+this.locGreen]=this.shiftGreen(j),this.data[w+this.locBlue]=this.shiftBlue(j),this.data[w+this.locAlpha]=this.shiftAlpha(j)})}scanImage(m=0,g=this.width,w){for(let j=this.height-1;j>=0;j--){const H=this.bottomUp?j:this.height-1-j;for(let et=0;et<g;et++)if(w.call(this,et,H)===!1)return;this.pos+=m}}readUInt32LE(){const m=this.buffer.readUInt32LE(this.pos);return this.pos+=4,m}setPixelData(m,g){const{blue:w,green:j,red:H}=this.palette[g];return this.data[m+this.locAlpha]=0,this.data[m+1+this.locBlue]=w,this.data[m+2+this.locGreen]=j,this.data[m+3+this.locRed]=H,m+4}}function createInteger(d){return d.reduce((m,g)=>m<<1|g,0)}function createColor(d){return d.quad<<24|d.red<<16|d.green<<8|d.blue}class BmpEncoder{constructor(m){Er(this,"fileSize");Er(this,"reserved1");Er(this,"reserved2");Er(this,"offset");Er(this,"width");Er(this,"flag");Er(this,"height");Er(this,"planes");Er(this,"bitPP");Er(this,"compress");Er(this,"hr");Er(this,"vr");Er(this,"colors");Er(this,"importantColors");Er(this,"rawSize");Er(this,"headerSize");Er(this,"data");Er(this,"palette");Er(this,"extraBytes");Er(this,"buffer");Er(this,"bytesInColor");Er(this,"pos");switch(this.buffer=m.data,this.width=m.width,this.height=m.height,this.headerSize=HeaderTypes$1.BITMAP_INFO_HEADER,this.flag="BM",this.bitPP=m.bitPP||24,this.offset=54,this.reserved1=m.reserved1||0,this.reserved2=m.reserved2||0,this.planes=1,this.compress=0,this.hr=m.hr||0,this.vr=m.vr||0,this.importantColors=m.importantColors||0,this.colors=Math.min(2**(this.bitPP-1||1),m.colors||1/0),this.palette=m.palette||[],this.colors&&this.bitPP<16?this.offset+=4*this.colors:this.colors=0,this.bitPP){case 32:this.bytesInColor=4;break;case 16:this.bytesInColor=2;break;case 8:this.bytesInColor=1;break;case 4:this.bytesInColor=.5;break;case 1:this.bytesInColor=1/8;break;default:this.bytesInColor=3,this.bitPP=24}const g=this.width*this.bitPP/32,w=Math.ceil(g);this.extraBytes=4*(w-g),this.rawSize=this.height*w*4+2,this.fileSize=this.rawSize+this.offset,this.data=Buffer.alloc(this.fileSize,1),this.pos=0,this.encode()}encode(){switch(this.pos=0,this.writeHeader(),this.bitPP){case 32:this.bit32();break;case 16:this.bit16();break;case 8:this.bit8();break;case 4:this.bit4();break;case 1:this.bit1();break;default:this.bit24()}}writeHeader(){this.data.write(this.flag,this.pos,2),this.pos+=2,this.writeUInt32LE(this.fileSize),this.writeUInt32LE(this.reserved1<<16|this.reserved2),this.writeUInt32LE(this.offset),this.writeUInt32LE(this.headerSize),this.writeUInt32LE(this.width),this.writeUInt32LE(this.height),this.data.writeUInt16LE(this.planes,this.pos),this.pos+=2,this.data.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,this.writeUInt32LE(this.compress),this.writeUInt32LE(this.rawSize),this.writeUInt32LE(this.hr),this.writeUInt32LE(this.vr),this.writeUInt32LE(this.colors),this.writeUInt32LE(this.importantColors)}bit1(){this.palette.length&&this.colors===2?this.initColors(1):(this.writeUInt32LE(16777215),this.writeUInt32LE(0)),this.pos+=1;let m=[];this.writeImage((g,w,j)=>{let H=w;H++;const et=this.buffer[H++],it=this.buffer[H++],ot=.2126*this.buffer[H++]+.7152*it+.0722*et;return m.push(ot>127?0:1),(j+1)%8==0?(this.data[g-1]=createInteger(m),m=[]):j===this.width-1&&m.length>0&&(this.data[g-1]=createInteger(m)<<4,m=[]),H})}bit4(){const m=this.initColors(4);let g=[];this.writeImage((w,j,H)=>{let et=j;const it=createColor({quad:this.buffer[et++],blue:this.buffer[et++],green:this.buffer[et++],red:this.buffer[et++]}),ot=m.findIndex(ut=>ut===it);return ot!==-1?g.push(ot):g.push(0),(H+1)%2==0&&(this.data[w]=g[0]<<4|g[1],g=[]),et})}bit8(){const m=this.initColors(8);this.writeImage((g,w)=>{let j=w;const H=createColor({quad:this.buffer[j++],blue:this.buffer[j++],green:this.buffer[j++],red:this.buffer[j++]}),et=m.findIndex(it=>it===H);return this.data[g]=et!==-1?et:0,j})}bit16(){this.writeImage((m,g)=>{let w=g+1;const j=this.buffer[w++]/8,H=this.buffer[w++]/8,et=this.buffer[w++]/8<<10|H<<5|j;return this.data[m]=255&et,this.data[m+1]=(65280&et)>>8,w})}bit24(){this.writeImage((m,g)=>{let w=g+1;return this.data[m]=this.buffer[w++],this.data[m+1]=this.buffer[w++],this.data[m+2]=this.buffer[w++],w})}bit32(){this.writeImage((m,g)=>{let w=g;return this.data[m+3]=this.buffer[w++],this.data[m]=this.buffer[w++],this.data[m+1]=this.buffer[w++],this.data[m+2]=this.buffer[w++],w})}writeImage(m){const g=this.extraBytes+this.width*this.bytesInColor;let w=0;for(let j=0;j<this.height;j++)for(let H=0;H<this.width;H++){const et=Math.floor(this.pos+(this.height-1-j)*g+H*this.bytesInColor);w=m.call(this,et,w,H,j)}}initColors(m){const g=[];if(!this.palette.length)throw new Error(`To encode ${m}-bit BMPs a pallette is needed. Please choose up to ${this.colors} colors. Colors must be 32-bit integers.`);for(let w=0;w<this.colors;w++){const j=createColor(this.palette[w]);this.writeUInt32LE(j),g.push(j)}return g}writeUInt32LE(m){this.data.writeUInt32LE(m,this.pos),this.pos+=4}}function decode$2(d,m){return new BmpDecoder(d,m)}function encode$2(d){return new BmpEncoder(d)}function _typeof(d){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},_typeof(d)}var trimLeft=/^\s+/,trimRight=/\s+$/;function tinycolor(d,m){if(m=m||{},(d=d||"")instanceof tinycolor)return d;if(!(this instanceof tinycolor))return new tinycolor(d,m);var g=inputToRGB(d);this._originalInput=d,this._r=g.r,this._g=g.g,this._b=g.b,this._a=g.a,this._roundA=Math.round(100*this._a)/100,this._format=m.format||g.format,this._gradientType=m.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=g.ok}function inputToRGB(d){var m={r:0,g:0,b:0},g=1,w=null,j=null,H=null,et=!1,it=!1;return typeof d=="string"&&(d=stringInputToObject(d)),_typeof(d)=="object"&&(isValidCSSUnit(d.r)&&isValidCSSUnit(d.g)&&isValidCSSUnit(d.b)?(m=rgbToRgb(d.r,d.g,d.b),et=!0,it=String(d.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(d.h)&&isValidCSSUnit(d.s)&&isValidCSSUnit(d.v)?(w=convertToPercentage(d.s),j=convertToPercentage(d.v),m=hsvToRgb(d.h,w,j),et=!0,it="hsv"):isValidCSSUnit(d.h)&&isValidCSSUnit(d.s)&&isValidCSSUnit(d.l)&&(w=convertToPercentage(d.s),H=convertToPercentage(d.l),m=hslToRgb(d.h,w,H),et=!0,it="hsl"),d.hasOwnProperty("a")&&(g=d.a)),g=boundAlpha(g),{ok:et,format:d.format||it,r:Math.min(255,Math.max(m.r,0)),g:Math.min(255,Math.max(m.g,0)),b:Math.min(255,Math.max(m.b,0)),a:g}}function rgbToRgb(d,m,g){return{r:255*bound01(d,255),g:255*bound01(m,255),b:255*bound01(g,255)}}function rgbToHsl(d,m,g){d=bound01(d,255),m=bound01(m,255),g=bound01(g,255);var w,j,H=Math.max(d,m,g),et=Math.min(d,m,g),it=(H+et)/2;if(H==et)w=j=0;else{var ot=H-et;switch(j=it>.5?ot/(2-H-et):ot/(H+et),H){case d:w=(m-g)/ot+(m<g?6:0);break;case m:w=(g-d)/ot+2;break;case g:w=(d-m)/ot+4}w/=6}return{h:w,s:j,l:it}}function hslToRgb(d,m,g){var w,j,H;function et(ut,ft,dt){return dt<0&&(dt+=1),dt>1&&(dt-=1),dt<1/6?ut+6*(ft-ut)*dt:dt<.5?ft:dt<2/3?ut+(ft-ut)*(2/3-dt)*6:ut}if(d=bound01(d,360),m=bound01(m,100),g=bound01(g,100),m===0)w=j=H=g;else{var it=g<.5?g*(1+m):g+m-g*m,ot=2*g-it;w=et(ot,it,d+1/3),j=et(ot,it,d),H=et(ot,it,d-1/3)}return{r:255*w,g:255*j,b:255*H}}function rgbToHsv(d,m,g){d=bound01(d,255),m=bound01(m,255),g=bound01(g,255);var w,j,H=Math.max(d,m,g),et=Math.min(d,m,g),it=H,ot=H-et;if(j=H===0?0:ot/H,H==et)w=0;else{switch(H){case d:w=(m-g)/ot+(m<g?6:0);break;case m:w=(g-d)/ot+2;break;case g:w=(d-m)/ot+4}w/=6}return{h:w,s:j,v:it}}function hsvToRgb(d,m,g){d=6*bound01(d,360),m=bound01(m,100),g=bound01(g,100);var w=Math.floor(d),j=d-w,H=g*(1-m),et=g*(1-j*m),it=g*(1-(1-j)*m),ot=w%6;return{r:255*[g,et,H,H,it,g][ot],g:255*[it,g,g,et,H,H][ot],b:255*[H,H,it,g,g,et][ot]}}function rgbToHex(d,m,g,w){var j=[pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16))];return w&&j[0].charAt(0)==j[0].charAt(1)&&j[1].charAt(0)==j[1].charAt(1)&&j[2].charAt(0)==j[2].charAt(1)?j[0].charAt(0)+j[1].charAt(0)+j[2].charAt(0):j.join("")}function rgbaToHex(d,m,g,w,j){var H=[pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16)),pad2(convertDecimalToHex(w))];return j&&H[0].charAt(0)==H[0].charAt(1)&&H[1].charAt(0)==H[1].charAt(1)&&H[2].charAt(0)==H[2].charAt(1)&&H[3].charAt(0)==H[3].charAt(1)?H[0].charAt(0)+H[1].charAt(0)+H[2].charAt(0)+H[3].charAt(0):H.join("")}function rgbaToArgbHex(d,m,g,w){return[pad2(convertDecimalToHex(w)),pad2(Math.round(d).toString(16)),pad2(Math.round(m).toString(16)),pad2(Math.round(g).toString(16))].join("")}function _desaturate(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.s-=m/100,g.s=clamp01(g.s),tinycolor(g)}function _saturate(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.s+=m/100,g.s=clamp01(g.s),tinycolor(g)}function _greyscale(d){return tinycolor(d).desaturate(100)}function _lighten(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.l+=m/100,g.l=clamp01(g.l),tinycolor(g)}function _brighten(d,m){m=m===0?0:m||10;var g=tinycolor(d).toRgb();return g.r=Math.max(0,Math.min(255,g.r-Math.round(-m/100*255))),g.g=Math.max(0,Math.min(255,g.g-Math.round(-m/100*255))),g.b=Math.max(0,Math.min(255,g.b-Math.round(-m/100*255))),tinycolor(g)}function _darken(d,m){m=m===0?0:m||10;var g=tinycolor(d).toHsl();return g.l-=m/100,g.l=clamp01(g.l),tinycolor(g)}function _spin(d,m){var g=tinycolor(d).toHsl(),w=(g.h+m)%360;return g.h=w<0?360+w:w,tinycolor(g)}function _complement(d){var m=tinycolor(d).toHsl();return m.h=(m.h+180)%360,tinycolor(m)}function polyad(d,m){if(isNaN(m)||m<=0)throw new Error("Argument to polyad must be a positive number");for(var g=tinycolor(d).toHsl(),w=[tinycolor(d)],j=360/m,H=1;H<m;H++)w.push(tinycolor({h:(g.h+H*j)%360,s:g.s,l:g.l}));return w}function _splitcomplement(d){var m=tinycolor(d).toHsl(),g=m.h;return[tinycolor(d),tinycolor({h:(g+72)%360,s:m.s,l:m.l}),tinycolor({h:(g+216)%360,s:m.s,l:m.l})]}function _analogous(d,m,g){m=m||6,g=g||30;var w=tinycolor(d).toHsl(),j=360/g,H=[tinycolor(d)];for(w.h=(w.h-(j*m>>1)+720)%360;--m;)w.h=(w.h+j)%360,H.push(tinycolor(w));return H}function _monochromatic(d,m){m=m||6;for(var g=tinycolor(d).toHsv(),w=g.h,j=g.s,H=g.v,et=[],it=1/m;m--;)et.push(tinycolor({h:w,s:j,v:H})),H=(H+it)%1;return et}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var d=this.toRgb();return(299*d.r+587*d.g+114*d.b)/1e3},getLuminance:function(){var d,m,g,w=this.toRgb();return d=w.r/255,m=w.g/255,g=w.b/255,.2126*(d<=.03928?d/12.92:Math.pow((d+.055)/1.055,2.4))+.7152*(m<=.03928?m/12.92:Math.pow((m+.055)/1.055,2.4))+.0722*(g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4))},setAlpha:function(d){return this._a=boundAlpha(d),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var d=rgbToHsv(this._r,this._g,this._b);return{h:360*d.h,s:d.s,v:d.v,a:this._a}},toHsvString:function(){var d=rgbToHsv(this._r,this._g,this._b),m=Math.round(360*d.h),g=Math.round(100*d.s),w=Math.round(100*d.v);return this._a==1?"hsv("+m+", "+g+"%, "+w+"%)":"hsva("+m+", "+g+"%, "+w+"%, "+this._roundA+")"},toHsl:function(){var d=rgbToHsl(this._r,this._g,this._b);return{h:360*d.h,s:d.s,l:d.l,a:this._a}},toHslString:function(){var d=rgbToHsl(this._r,this._g,this._b),m=Math.round(360*d.h),g=Math.round(100*d.s),w=Math.round(100*d.l);return this._a==1?"hsl("+m+", "+g+"%, "+w+"%)":"hsla("+m+", "+g+"%, "+w+"%, "+this._roundA+")"},toHex:function(d){return rgbToHex(this._r,this._g,this._b,d)},toHexString:function(d){return"#"+this.toHex(d)},toHex8:function(d){return rgbaToHex(this._r,this._g,this._b,this._a,d)},toHex8String:function(d){return"#"+this.toHex8(d)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*bound01(this._r,255))+"%",g:Math.round(100*bound01(this._g,255))+"%",b:Math.round(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%)":"rgba("+Math.round(100*bound01(this._r,255))+"%, "+Math.round(100*bound01(this._g,255))+"%, "+Math.round(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(d){var m="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),g=m,w=this._gradientType?"GradientType = 1, ":"";if(d){var j=tinycolor(d);g="#"+rgbaToArgbHex(j._r,j._g,j._b,j._a)}return"progid:DXImageTransform.Microsoft.gradient("+w+"startColorstr="+m+",endColorstr="+g+")"},toString:function(d){var m=!!d;d=d||this._format;var g=!1,w=this._a<1&&this._a>=0;return m||!w||d!=="hex"&&d!=="hex6"&&d!=="hex3"&&d!=="hex4"&&d!=="hex8"&&d!=="name"?(d==="rgb"&&(g=this.toRgbString()),d==="prgb"&&(g=this.toPercentageRgbString()),d!=="hex"&&d!=="hex6"||(g=this.toHexString()),d==="hex3"&&(g=this.toHexString(!0)),d==="hex4"&&(g=this.toHex8String(!0)),d==="hex8"&&(g=this.toHex8String()),d==="name"&&(g=this.toName()),d==="hsl"&&(g=this.toHslString()),d==="hsv"&&(g=this.toHsvString()),g||this.toHexString()):d==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return tinycolor(this.toString())},_applyModification:function(d,m){var g=d.apply(null,[this].concat([].slice.call(m)));return this._r=g._r,this._g=g._g,this._b=g._b,this.setAlpha(g._a),this},lighten:function(){return this._applyModification(_lighten,arguments)},brighten:function(){return this._applyModification(_brighten,arguments)},darken:function(){return this._applyModification(_darken,arguments)},desaturate:function(){return this._applyModification(_desaturate,arguments)},saturate:function(){return this._applyModification(_saturate,arguments)},greyscale:function(){return this._applyModification(_greyscale,arguments)},spin:function(){return this._applyModification(_spin,arguments)},_applyCombination:function(d,m){return d.apply(null,[this].concat([].slice.call(m)))},analogous:function(){return this._applyCombination(_analogous,arguments)},complement:function(){return this._applyCombination(_complement,arguments)},monochromatic:function(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(_splitcomplement,arguments)},triad:function(){return this._applyCombination(polyad,[3])},tetrad:function(){return this._applyCombination(polyad,[4])}},tinycolor.fromRatio=function(d,m){if(_typeof(d)=="object"){var g={};for(var w in d)d.hasOwnProperty(w)&&(g[w]=w==="a"?d[w]:convertToPercentage(d[w]));d=g}return tinycolor(d,m)},tinycolor.equals=function(d,m){return!(!d||!m)&&tinycolor(d).toRgbString()==tinycolor(m).toRgbString()},tinycolor.random=function(){return tinycolor.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},tinycolor.mix=function(d,m,g){g=g===0?0:g||50;var w=tinycolor(d).toRgb(),j=tinycolor(m).toRgb(),H=g/100;return tinycolor({r:(j.r-w.r)*H+w.r,g:(j.g-w.g)*H+w.g,b:(j.b-w.b)*H+w.b,a:(j.a-w.a)*H+w.a})},tinycolor.readability=function(d,m){var g=tinycolor(d),w=tinycolor(m);return(Math.max(g.getLuminance(),w.getLuminance())+.05)/(Math.min(g.getLuminance(),w.getLuminance())+.05)},tinycolor.isReadable=function(d,m,g){var w,j,H=tinycolor.readability(d,m);switch(j=!1,(w=validateWCAG2Parms(g)).level+w.size){case"AAsmall":case"AAAlarge":j=H>=4.5;break;case"AAlarge":j=H>=3;break;case"AAAsmall":j=H>=7}return j},tinycolor.mostReadable=function(d,m,g){var w,j,H,et,it=null,ot=0;j=(g=g||{}).includeFallbackColors,H=g.level,et=g.size;for(var ut=0;ut<m.length;ut++)(w=tinycolor.readability(d,m[ut]))>ot&&(ot=w,it=tinycolor(m[ut]));return tinycolor.isReadable(d,it,{level:H,size:et})||!j?it:(g.includeFallbackColors=!1,tinycolor.mostReadable(d,["#fff","#000"],g))};var names$1=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip(names$1);function flip(d){var m={};for(var g in d)d.hasOwnProperty(g)&&(m[d[g]]=g);return m}function boundAlpha(d){return d=parseFloat(d),(isNaN(d)||d<0||d>1)&&(d=1),d}function bound01(d,m){isOnePointZero(d)&&(d="100%");var g=isPercentage(d);return d=Math.min(m,Math.max(0,parseFloat(d))),g&&(d=parseInt(d*m,10)/100),Math.abs(d-m)<1e-6?1:d%m/parseFloat(m)}function clamp01(d){return Math.min(1,Math.max(0,d))}function parseIntFromHex(d){return parseInt(d,16)}function isOnePointZero(d){return typeof d=="string"&&d.indexOf(".")!=-1&&parseFloat(d)===1}function isPercentage(d){return typeof d=="string"&&d.indexOf("%")!=-1}function pad2(d){return d.length==1?"0"+d:""+d}function convertToPercentage(d){return d<=1&&(d=100*d+"%"),d}function convertDecimalToHex(d){return Math.round(255*parseFloat(d)).toString(16)}function convertHexToDecimal(d){return parseIntFromHex(d)/255}var matchers=(CSS_UNIT="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",{CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}),CSS_UNIT,PERMISSIVE_MATCH3,PERMISSIVE_MATCH4;function isValidCSSUnit(d){return!!matchers.CSS_UNIT.exec(d)}function stringInputToObject(d){d=d.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var m,g=!1;if(names$1[d])d=names$1[d],g=!0;else if(d=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(m=matchers.rgb.exec(d))?{r:m[1],g:m[2],b:m[3]}:(m=matchers.rgba.exec(d))?{r:m[1],g:m[2],b:m[3],a:m[4]}:(m=matchers.hsl.exec(d))?{h:m[1],s:m[2],l:m[3]}:(m=matchers.hsla.exec(d))?{h:m[1],s:m[2],l:m[3],a:m[4]}:(m=matchers.hsv.exec(d))?{h:m[1],s:m[2],v:m[3]}:(m=matchers.hsva.exec(d))?{h:m[1],s:m[2],v:m[3],a:m[4]}:(m=matchers.hex8.exec(d))?{r:parseIntFromHex(m[1]),g:parseIntFromHex(m[2]),b:parseIntFromHex(m[3]),a:convertHexToDecimal(m[4]),format:g?"name":"hex8"}:(m=matchers.hex6.exec(d))?{r:parseIntFromHex(m[1]),g:parseIntFromHex(m[2]),b:parseIntFromHex(m[3]),format:g?"name":"hex"}:(m=matchers.hex4.exec(d))?{r:parseIntFromHex(m[1]+""+m[1]),g:parseIntFromHex(m[2]+""+m[2]),b:parseIntFromHex(m[3]+""+m[3]),a:convertHexToDecimal(m[4]+""+m[4]),format:g?"name":"hex8"}:!!(m=matchers.hex3.exec(d))&&{r:parseIntFromHex(m[1]+""+m[1]),g:parseIntFromHex(m[2]+""+m[2]),b:parseIntFromHex(m[3]+""+m[3]),format:g?"name":"hex"}}function validateWCAG2Parms(d){var m,g;return(m=((d=d||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&m!=="AAA"&&(m="AA"),(g=(d.size||"small").toLowerCase())!=="small"&&g!=="large"&&(g="small"),{level:m,size:g}}function clone(d){const m={width:d.bitmap.width,height:d.bitmap.height,data:Buffer.from(d.bitmap.data)};return new d.constructor(m)}function scan(d,m,g,w,j,H){let et,it,ot,ut,ft;if(typeof m=="function")ft=m,et=0,it=0,ot=d.bitmap.width,ut=d.bitmap.height;else{if(et=m,typeof g!="number")throw new Error("y must be a number");if(it=g,typeof w!="number")throw new Error("w must be a number");if(ot=w,typeof j!="number")throw new Error("h must be a number");if(ut=j,typeof H!="function")throw new Error("cb must be a function");ft=H}et=Math.round(et),it=Math.round(it),ot=Math.round(ot),ut=Math.round(ut);const dt=ft.bind(d);for(let St=it;St<it+ut;St++)for(let Tt=et;Tt<et+ot;Tt++)dt(Tt,St,d.bitmap.width*St+Tt<<2);return d}function*scanIterator(d,m,g,w,j){m=Math.round(m),g=Math.round(g),w=Math.round(w),j=Math.round(j);for(let H=g;H<g+j;H++)for(let et=m;et<m+w;et++){const it=d.bitmap.width*H+et<<2;yield{x:et,y:H,idx:it,image:d}}}function intToRGBA$1(d){if(typeof d!="number")throw new Error("i must be a number");const m={r:0,g:0,b:0,a:0};return m.r=Math.floor(d/Math.pow(256,3)),m.g=Math.floor((d-m.r*Math.pow(256,3))/Math.pow(256,2)),m.b=Math.floor((d-m.r*Math.pow(256,3)-m.g*Math.pow(256,2))/Math.pow(256,1)),m.a=Math.floor((d-m.r*Math.pow(256,3)-m.g*Math.pow(256,2)-m.b*Math.pow(256,1))/Math.pow(256,0)),m}function colorDiff(d,m){const g=et=>Math.pow(et,2),{max:w}=Math,j="a"in d?d.a:255,H="a"in m?m.a:255;return(w(g(d.r-m.r),g(d.r-m.r-j+H))+w(g(d.g-m.g),g(d.g-m.g-j+H))+w(g(d.b-m.b),g(d.b-m.b-j+H)))/195075}function limit255(d){return d=Math.max(d,0),d=Math.min(d,255)}function cssColorToHex(d){return typeof d=="number"?d:parseInt(tinycolor(d).toHex8(),16)}function encode$1(d,m={}){return scan({bitmap:d},0,0,d.width,d.height,function(g,w,j){const H=d.data[j+0],et=d.data[j+1],it=d.data[j+2],ot=d.data[j+3];d.data[j+0]=ot,d.data[j+1]=it,d.data[j+2]=et,d.data[j+3]=H}),encode$2({...d,...m}).data}function decode$1(d,m){const g=decode$2(d,m);return scan({bitmap:g},0,0,g.width,g.height,function(w,j,H){const et=g.data[H+1],it=g.data[H+2],ot=g.data[H+3];g.data[H+0]=ot,g.data[H+1]=it,g.data[H+2]=et,g.data[H+3]=255}),g}function msBmp(){return{mime:"image/x-ms-bmp",encode:encode$1,decode:decode$1}}function bmp(){return{mime:"image/bmp",encode:encode$1,decode:decode$1}}var omggif={},GifReader_1,GifWriter_1;function GifWriter(d,m,g,w){var j=0,H=(w=w===void 0?{}:w).loop===void 0?null:w.loop,et=w.palette===void 0?null:w.palette;if(m<=0||g<=0||m>65535||g>65535)throw new Error("Width/Height invalid.");function it(zt){var $t=zt.length;if($t<2||$t>256||$t&$t-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return $t}d[j++]=71,d[j++]=73,d[j++]=70,d[j++]=56,d[j++]=57,d[j++]=97;var ot=0,ut=0;if(et!==null){for(var ft=it(et);ft>>=1;)++ot;if(ft=1<<ot,--ot,w.background!==void 0){if((ut=w.background)>=ft)throw new Error("Background index out of range.");if(ut===0)throw new Error("Background index explicitly passed as 0.")}}if(d[j++]=255&m,d[j++]=m>>8&255,d[j++]=255&g,d[j++]=g>>8&255,d[j++]=(et!==null?128:0)|ot,d[j++]=ut,d[j++]=0,et!==null)for(var dt=0,St=et.length;dt<St;++dt){var Tt=et[dt];d[j++]=Tt>>16&255,d[j++]=Tt>>8&255,d[j++]=255&Tt}if(H!==null){if(H<0||H>65535)throw new Error("Loop count invalid.");d[j++]=33,d[j++]=255,d[j++]=11,d[j++]=78,d[j++]=69,d[j++]=84,d[j++]=83,d[j++]=67,d[j++]=65,d[j++]=80,d[j++]=69,d[j++]=50,d[j++]=46,d[j++]=48,d[j++]=3,d[j++]=1,d[j++]=255&H,d[j++]=H>>8&255,d[j++]=0}var Rt=!1;this.addFrame=function(zt,$t,Ht,jt,Ft,Dt){if(Rt===!0&&(--j,Rt=!1),Dt=Dt===void 0?{}:Dt,zt<0||$t<0||zt>65535||$t>65535)throw new Error("x/y invalid.");if(Ht<=0||jt<=0||Ht>65535||jt>65535)throw new Error("Width/Height invalid.");if(Ft.length<Ht*jt)throw new Error("Not enough pixels for the frame size.");var Yt=!0,ne=Dt.palette;if(ne==null&&(Yt=!1,ne=et),ne==null)throw new Error("Must supply either a local or global palette.");for(var Kt=it(ne),re=0;Kt>>=1;)++re;Kt=1<<re;var ee=Dt.delay===void 0?0:Dt.delay,oe=Dt.disposal===void 0?0:Dt.disposal;if(oe<0||oe>3)throw new Error("Disposal out of range.");var Ut=!1,ie=0;if(Dt.transparent!==void 0&&Dt.transparent!==null&&(Ut=!0,(ie=Dt.transparent)<0||ie>=Kt))throw new Error("Transparent color index.");if((oe!==0||Ut||ee!==0)&&(d[j++]=33,d[j++]=249,d[j++]=4,d[j++]=oe<<2|(Ut===!0?1:0),d[j++]=255&ee,d[j++]=ee>>8&255,d[j++]=ie,d[j++]=0),d[j++]=44,d[j++]=255&zt,d[j++]=zt>>8&255,d[j++]=255&$t,d[j++]=$t>>8&255,d[j++]=255&Ht,d[j++]=Ht>>8&255,d[j++]=255&jt,d[j++]=jt>>8&255,d[j++]=Yt===!0?128|re-1:0,Yt===!0)for(var ge=0,ce=ne.length;ge<ce;++ge){var le=ne[ge];d[j++]=le>>16&255,d[j++]=le>>8&255,d[j++]=255&le}return j=GifWriterOutputLZWCodeStream(d,j,re<2?2:re,Ft)},this.end=function(){return Rt===!1&&(d[j++]=59,Rt=!0),j},this.getOutputBuffer=function(){return d},this.setOutputBuffer=function(zt){d=zt},this.getOutputBufferPosition=function(){return j},this.setOutputBufferPosition=function(zt){j=zt}}function GifWriterOutputLZWCodeStream(d,m,g,w){d[m++]=g;var j=m++,H=1<<g,et=H-1,it=H+1,ot=it+1,ut=g+1,ft=0,dt=0;function St(Yt){for(;ft>=Yt;)d[m++]=255&dt,dt>>=8,ft-=8,m===j+256&&(d[j]=255,j=m++)}function Tt(Yt){dt|=Yt<<ft,ft+=ut,St(8)}var Rt=w[0]&et,zt={};Tt(H);for(var $t=1,Ht=w.length;$t<Ht;++$t){var jt=w[$t]&et,Ft=Rt<<8|jt,Dt=zt[Ft];if(Dt===void 0){for(dt|=Rt<<ft,ft+=ut;ft>=8;)d[m++]=255&dt,dt>>=8,ft-=8,m===j+256&&(d[j]=255,j=m++);ot===4096?(Tt(H),ot=it+1,ut=g+1,zt={}):(ot>=1<<ut&&++ut,zt[Ft]=ot++),Rt=jt}else Rt=Dt}return Tt(Rt),Tt(it),St(1),j+1===m?d[j]=0:(d[j]=m-j-1,d[m++]=0),m}function GifReader(d){var m=0;if(d[m++]!==71||d[m++]!==73||d[m++]!==70||d[m++]!==56||(d[m++]+1&253)!=56||d[m++]!==97)throw new Error("Invalid GIF 87a/89a header.");var g=d[m++]|d[m++]<<8,w=d[m++]|d[m++]<<8,j=d[m++],H=j>>7,et=1<<(7&j)+1;d[m++],d[m++];var it=null,ot=null;H&&(it=m,ot=et,m+=3*et);var ut=!0,ft=[],dt=0,St=null,Tt=0,Rt=null;for(this.width=g,this.height=w;ut&&m<d.length;)switch(d[m++]){case 33:switch(d[m++]){case 255:if(d[m]!==11||d[m+1]==78&&d[m+2]==69&&d[m+3]==84&&d[m+4]==83&&d[m+5]==67&&d[m+6]==65&&d[m+7]==80&&d[m+8]==69&&d[m+9]==50&&d[m+10]==46&&d[m+11]==48&&d[m+12]==3&&d[m+13]==1&&d[m+16]==0)m+=14,Rt=d[m++]|d[m++]<<8,m++;else for(m+=12;;){if(!((Ut=d[m++])>=0))throw Error("Invalid block size");if(Ut===0)break;m+=Ut}break;case 249:if(d[m++]!==4||d[m+4]!==0)throw new Error("Invalid graphics extension block.");var zt=d[m++];dt=d[m++]|d[m++]<<8,St=d[m++],1&zt||(St=null),Tt=zt>>2&7,m++;break;case 254:for(;;){if(!((Ut=d[m++])>=0))throw Error("Invalid block size");if(Ut===0)break;m+=Ut}break;default:throw new Error("Unknown graphic control label: 0x"+d[m-1].toString(16))}break;case 44:var $t=d[m++]|d[m++]<<8,Ht=d[m++]|d[m++]<<8,jt=d[m++]|d[m++]<<8,Ft=d[m++]|d[m++]<<8,Dt=d[m++],Yt=Dt>>6&1,ne=1<<(7&Dt)+1,Kt=it,re=ot,ee=!1;Dt>>7&&(ee=!0,Kt=m,re=ne,m+=3*ne);var oe=m;for(m++;;){var Ut;if(!((Ut=d[m++])>=0))throw Error("Invalid block size");if(Ut===0)break;m+=Ut}ft.push({x:$t,y:Ht,width:jt,height:Ft,has_local_palette:ee,palette_offset:Kt,palette_size:re,data_offset:oe,data_length:m-oe,transparent_index:St,interlaced:!!Yt,delay:dt,disposal:Tt});break;case 59:ut=!1;break;default:throw new Error("Unknown gif block: 0x"+d[m-1].toString(16))}this.numFrames=function(){return ft.length},this.loopCount=function(){return Rt},this.frameInfo=function(ie){if(ie<0||ie>=ft.length)throw new Error("Frame index out of range.");return ft[ie]},this.decodeAndBlitFrameBGRA=function(ie,ge){var ce=this.frameInfo(ie),le=ce.width*ce.height,de=new Uint8Array(le);GifReaderLZWOutputIndexStream(d,ce.data_offset,de,le);var Ae=ce.palette_offset,ve=ce.transparent_index;ve===null&&(ve=256);var ye=ce.width,Me=g-ye,ue=ye,xe=4*(ce.y*g+ce.x),Be=4*((ce.y+ce.height)*g+ce.x),Pe=xe,Ee=4*Me;ce.interlaced===!0&&(Ee+=4*g*7);for(var Se=8,Ne=0,Fe=de.length;Ne<Fe;++Ne){var Oe=de[Ne];if(ue===0&&(ue=ye,(Pe+=Ee)>=Be&&(Ee=4*Me+4*g*(Se-1),Pe=xe+(ye+Me)*(Se<<1),Se>>=1)),Oe===ve)Pe+=4;else{var Ce=d[Ae+3*Oe],Jt=d[Ae+3*Oe+1],Te=d[Ae+3*Oe+2];ge[Pe++]=Te,ge[Pe++]=Jt,ge[Pe++]=Ce,ge[Pe++]=255}--ue}},this.decodeAndBlitFrameRGBA=function(ie,ge){var ce=this.frameInfo(ie),le=ce.width*ce.height,de=new Uint8Array(le);GifReaderLZWOutputIndexStream(d,ce.data_offset,de,le);var Ae=ce.palette_offset,ve=ce.transparent_index;ve===null&&(ve=256);var ye=ce.width,Me=g-ye,ue=ye,xe=4*(ce.y*g+ce.x),Be=4*((ce.y+ce.height)*g+ce.x),Pe=xe,Ee=4*Me;ce.interlaced===!0&&(Ee+=4*g*7);for(var Se=8,Ne=0,Fe=de.length;Ne<Fe;++Ne){var Oe=de[Ne];if(ue===0&&(ue=ye,(Pe+=Ee)>=Be&&(Ee=4*Me+4*g*(Se-1),Pe=xe+(ye+Me)*(Se<<1),Se>>=1)),Oe===ve)Pe+=4;else{var Ce=d[Ae+3*Oe],Jt=d[Ae+3*Oe+1],Te=d[Ae+3*Oe+2];ge[Pe++]=Ce,ge[Pe++]=Jt,ge[Pe++]=Te,ge[Pe++]=255}--ue}}}function GifReaderLZWOutputIndexStream(d,m,g,w){for(var j=d[m++],H=1<<j,et=H+1,it=et+1,ot=j+1,ut=(1<<ot)-1,ft=0,dt=0,St=0,Tt=d[m++],Rt=new Int32Array(4096),zt=null;;){for(;ft<16&&Tt!==0;)dt|=d[m++]<<ft,ft+=8,Tt===1?Tt=d[m++]:--Tt;if(ft<ot)break;var $t=dt&ut;if(dt>>=ot,ft-=ot,$t!==H){if($t===et)break;for(var Ht=$t<it?$t:zt,jt=0,Ft=Ht;Ft>H;)Ft=Rt[Ft]>>8,++jt;var Dt=Ft;if(St+jt+(Ht!==$t?1:0)>w)return void console.log("Warning, gif stream longer than expected.");g[St++]=Dt;var Yt=St+=jt;for(Ht!==$t&&(g[St++]=Dt),Ft=Ht;jt--;)Ft=Rt[Ft],g[--Yt]=255&Ft,Ft>>=8;zt!==null&&it<4096&&(Rt[it++]=zt<<8|Dt,it>=ut+1&&ot<12&&(++ot,ut=ut<<1|1)),zt=$t}else it=et+1,ut=(1<<(ot=j+1))-1,zt=null}return St!==w&&console.log("Warning, gif stream shorter than expected."),g}try{GifWriter_1=omggif.GifWriter=GifWriter,GifReader_1=omggif.GifReader=GifReader}catch{}let BitmapImage$2=class Vo{constructor(...m){if(m.length===0)throw new Error("constructor requires parameters");const g=m[0];if(g!==null&&typeof g=="object")if(g instanceof Vo){const w=g.bitmap;this.bitmap={width:w.width,height:w.height,data:new Buffer(w.width*w.height*4)},w.data.copy(this.bitmap.data)}else{if(!(g.width&&g.height&&g.data))throw new Error("unrecognized constructor parameters");this.bitmap=g}else{if(typeof g!="number"||typeof m[1]!="number")throw new Error("unrecognized constructor parameters");{const w=g,j=m[1],H=m[2];this.bitmap={width:w,height:j},Buffer.isBuffer(H)?this.bitmap.data=H:(this.bitmap.data=new Buffer(w*j*4),typeof H=="number"&&this.fillRGBA(H))}}}blit(m,g,w,j,H,et,it){if(j+et>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(g+et>m.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(H+it>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(w+it>m.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const ot=this.bitmap.data,ut=m.bitmap.data,ft=4*this.bitmap.width,dt=4*m.bitmap.width,St=4*et;let Tt=H*ft+4*j,Rt=w*dt+4*g;for(;--it>=0;)ot.copy(ut,Rt,Tt,Tt+St),Tt+=ft,Rt+=dt;return this}fillRGBA(m){const g=this.bitmap.data,w=4*this.bitmap.height;let j=0;for(;j<w;)g.writeUInt32BE(m,j),j+=4;for(;j<g.length;)g.copy(g,j,0,w),j+=w;return this}getRGBA(m,g){const w=4*(g*this.bitmap.width+m);return this.bitmap.data.readUInt32BE(w)}getRGBASet(){const m=new Set,g=this.bitmap.data;for(let w=0;w<g.length;w+=4)m.add(g.readUInt32BE(w,!0));return m}greyscale(){const m=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(g,w,j)=>{const H=Math.round(.299*m[j]+.587*m[j+1]+.114*m[j+2]);m[j]=H,m[j+1]=H,m[j+2]=H}),this}reframe(m,g,w,j,H){const et=m<0?0:m,it=g<0?0:g,ot=w+et>this.bitmap.width?this.bitmap.width-et:w,ut=j+it>this.bitmap.height?this.bitmap.height-it:j,ft=m<0?-m:0,dt=g<0?-g:0;let St;if(H===void 0){if(et!==m||it!=g||ot!==w||ut!==j)throw new GifError("fillRGBA required for this reframing");St=new Vo(w,j)}else St=new Vo(w,j,H);return this.blit(St,ft,dt,et,it,ot,ut),this.bitmap=St.bitmap,this}scale(m){if(m===1)return;if(!Number.isInteger(m)||m<1)throw new Error("the scale must be an integer >= 1");const g=this.bitmap.width,w=this.bitmap.height,j=g*m*4,H=this.bitmap.data,et=new Buffer(w*j*m);let it,ot=0,ut=0;for(let ft=0;ft<w;++ft){it=ut;for(let dt=0;dt<g;++dt){const St=H.readUInt32BE(ot,!0);for(let Tt=0;Tt<m;++Tt)et.writeUInt32BE(St,ut),ut+=4;ot+=4}for(let dt=1;dt<m;++dt)et.copy(et,ut,it,ut),ut+=j,it+=j}return this.bitmap={width:g*m,height:w*m,data:et},this}scanAllCoords(m){const g=this.bitmap.width,w=this.bitmap.data.length;let j=0,H=0;for(let et=0;et<w;et+=4)m(j,H,et),++j===g&&(j=0,++H)}scanAllIndexes(m){const g=this.bitmap.data.length;for(let w=0;w<g;w+=4)m(w)}};var bitmapimage=BitmapImage$2,gif$1={};let Gif$1=class{constructor(d,m,g){this.width=g.width,this.height=g.height,this.loops=g.loops,this.usesTransparency=g.usesTransparency,this.colorScope=g.colorScope,this.frames=m,this.buffer=d}};Gif$1.GlobalColorsPreferred=0,Gif$1.GlobalColorsOnly=1,Gif$1.LocalColorsOnly=2;let GifError$2=class extends Error{constructor(d){super(d),d instanceof Error&&(this.stack="Gif"+d.stack)}};gif$1.Gif=Gif$1,gif$1.GifError=GifError$2;var gifcodec={},gifutil={},_polyfillNode_fs={},_polyfillNode_fs$1=Object.freeze({__proto__:null,default:_polyfillNode_fs}),require$$0=getAugmentedNamespace(_polyfillNode_fs$1),__defProp$3=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__defNormalProp$3=(d,m,g)=>m in d?__defProp$3(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__markAsModule=d=>__defProp$3(d,"__esModule",{value:!0}),__export$1=(d,m)=>{for(var g in m)__defProp$3(d,g,{get:m[g],enumerable:!0})},__reExport=(d,m,g,w)=>{if(m&&typeof m=="object"||typeof m=="function")for(let j of __getOwnPropNames(m))!__hasOwnProp.call(d,j)&&g&&__defProp$3(d,j,{get:()=>m[j],enumerable:!(w=__getOwnPropDesc(m,j))||w.enumerable});return d},__toCommonJS=(d=>(m,g)=>d&&d.get(m)||(g=__reExport(__markAsModule({}),m,1),d&&d.set(m,g),g))(typeof WeakMap<"u"?new WeakMap:0),__publicField$3=(d,m,g)=>(__defNormalProp$3(d,typeof m!="symbol"?m+"":m,g),g),src_exports={};__export$1(src_exports,{applyPalette:()=>applyPalette,applyPaletteSync:()=>applyPaletteSync$1,buildPalette:()=>buildPalette,buildPaletteSync:()=>buildPaletteSync$1,constants:()=>constants_exports$1,conversion:()=>conversion_exports$1,distance:()=>distance_exports$1,image:()=>image_exports$1,palette:()=>palette_exports$1,quality:()=>quality_exports$1,utils:()=>utils_exports$1});var constants_exports$1={};__export$1(constants_exports$1,{bt709:()=>bt709_exports$1});var bt709_exports$1={};__export$1(bt709_exports$1,{Y:()=>Y$1,x:()=>x$2,y:()=>y$2});var Y$1=(d=>(d[d.RED=.2126]="RED",d[d.GREEN=.7152]="GREEN",d[d.BLUE=.0722]="BLUE",d[d.WHITE=1]="WHITE",d))(Y$1||{}),x$2=(d=>(d[d.RED=.64]="RED",d[d.GREEN=.3]="GREEN",d[d.BLUE=.15]="BLUE",d[d.WHITE=.3127]="WHITE",d))(x$2||{}),y$2=(d=>(d[d.RED=.33]="RED",d[d.GREEN=.6]="GREEN",d[d.BLUE=.06]="BLUE",d[d.WHITE=.329]="WHITE",d))(y$2||{}),conversion_exports$1={};function correctGamma$1(d){return d>.04045?((d+.055)/1.055)**2.4:d/12.92}function rgb2xyz$1(d,m,g){return{x:.4124*(d=correctGamma$1(d/255))+.3576*(m=correctGamma$1(m/255))+.1805*(g=correctGamma$1(g/255)),y:.2126*d+.7152*m+.0722*g,z:.0193*d+.1192*m+.9505*g}}__export$1(conversion_exports$1,{lab2rgb:()=>lab2rgb$1,lab2xyz:()=>lab2xyz$1,rgb2hsl:()=>rgb2hsl$1,rgb2lab:()=>rgb2lab$1,rgb2xyz:()=>rgb2xyz$1,xyz2lab:()=>xyz2lab$1,xyz2rgb:()=>xyz2rgb$1});var arithmetic_exports$1={};function degrees2radians$1(d){return d*(Math.PI/180)}function max3$1(d,m,g){let w=d;return w<m&&(w=m),w<g&&(w=g),w}function min3$1(d,m,g){let w=d;return w>m&&(w=m),w>g&&(w=g),w}function intInRange$1(d,m,g){return d>g&&(d=g),d<m&&(d=m),0|d}function inRange0to255Rounded$1(d){return(d=Math.round(d))>255?d=255:d<0&&(d=0),d}function inRange0to255$1(d){return d>255?d=255:d<0&&(d=0),d}function stableSort$1(d,m){const g=typeof d[0];let w;if(g==="number"||g==="string"){const j=Object.create(null);for(let H=0,et=d.length;H<et;H++){const it=d[H];j[it]||j[it]===0||(j[it]=H)}w=d.sort((H,et)=>m(H,et)||j[H]-j[et])}else{const j=d.slice(0);w=d.sort((H,et)=>m(H,et)||j.indexOf(H)-j.indexOf(et))}return w}function rgb2hsl$1(d,m,g){const w=min3$1(d,m,g),j=max3$1(d,m,g),H=j-w,et=(w+j)/510;let it=0;et>0&&et<1&&(it=H/(et<.5?j+w:510-j-w));let ot=0;return H>0&&(ot=j===d?(m-g)/H:j===m?2+(g-d)/H:4+(d-m)/H,ot*=60,ot<0&&(ot+=360)),{h:ot,s:it,l:et}}__export$1(arithmetic_exports$1,{degrees2radians:()=>degrees2radians$1,inRange0to255:()=>inRange0to255$1,inRange0to255Rounded:()=>inRange0to255Rounded$1,intInRange:()=>intInRange$1,max3:()=>max3$1,min3:()=>min3$1,stableSort:()=>stableSort$1});var refX$1=.95047,refY$1=1,refZ$1=1.08883;function pivot$1(d){return d>.008856?d**(1/3):7.787*d+16/116}function xyz2lab$1(d,m,g){if(d=pivot$1(d/refX$1),m=pivot$1(m/refY$1),g=pivot$1(g/refZ$1),116*m-16<0)throw new Error("xxx");return{L:Math.max(0,116*m-16),a:500*(d-m),b:200*(m-g)}}function rgb2lab$1(d,m,g){const w=rgb2xyz$1(d,m,g);return xyz2lab$1(w.x,w.y,w.z)}var refX2$1=.95047,refY2$1=1,refZ2$1=1.08883;function pivot2$1(d){return d>.206893034?d**3:(d-16/116)/7.787}function lab2xyz$1(d,m,g){const w=(d+16)/116,j=w-g/200;return{x:refX2$1*pivot2$1(m/500+w),y:refY2$1*pivot2$1(w),z:refZ2$1*pivot2$1(j)}}function correctGamma2$1(d){return d>.0031308?1.055*d**(1/2.4)-.055:12.92*d}function xyz2rgb$1(d,m,g){const w=correctGamma2$1(3.2406*d+-1.5372*m+-.4986*g),j=correctGamma2$1(-.9689*d+1.8758*m+.0415*g),H=correctGamma2$1(.0557*d+-.204*m+1.057*g);return{r:inRange0to255Rounded$1(255*w),g:inRange0to255Rounded$1(255*j),b:inRange0to255Rounded$1(255*H)}}function lab2rgb$1(d,m,g){const w=lab2xyz$1(d,m,g);return xyz2rgb$1(w.x,w.y,w.z)}var distance_exports$1={};__export$1(distance_exports$1,{AbstractDistanceCalculator:()=>AbstractDistanceCalculator$1,AbstractEuclidean:()=>AbstractEuclidean$1,AbstractManhattan:()=>AbstractManhattan$1,CIE94GraphicArts:()=>CIE94GraphicArts$1,CIE94Textiles:()=>CIE94Textiles$1,CIEDE2000:()=>CIEDE2000$1,CMetric:()=>CMetric$1,Euclidean:()=>Euclidean$1,EuclideanBT709:()=>EuclideanBT709$1,EuclideanBT709NoAlpha:()=>EuclideanBT709NoAlpha$1,Manhattan:()=>Manhattan$1,ManhattanBT709:()=>ManhattanBT709$1,ManhattanNommyde:()=>ManhattanNommyde$1,PNGQuant:()=>PNGQuant$1});var AbstractDistanceCalculator$1=class{constructor(){__publicField$3(this,"_maxDistance"),__publicField$3(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(d,m,g,w){this._whitePoint={r:d>0?255/d:0,g:m>0?255/m:0,b:g>0?255/g:0,a:w>0?255/w:0},this._maxDistance=this.calculateRaw(d,m,g,w,0,0,0,0)}calculateNormalized(d,m){return this.calculateRaw(d.r,d.g,d.b,d.a,m.r,m.g,m.b,m.a)/this._maxDistance}},AbstractCIE94$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,j,H,et,it){const ot=rgb2lab$1(inRange0to255$1(d*this._whitePoint.r),inRange0to255$1(m*this._whitePoint.g),inRange0to255$1(g*this._whitePoint.b)),ut=rgb2lab$1(inRange0to255$1(j*this._whitePoint.r),inRange0to255$1(H*this._whitePoint.g),inRange0to255$1(et*this._whitePoint.b)),ft=ot.L-ut.L,dt=ot.a-ut.a,St=ot.b-ut.b,Tt=Math.sqrt(ot.a*ot.a+ot.b*ot.b),Rt=Tt-Math.sqrt(ut.a*ut.a+ut.b*ut.b);let zt=dt*dt+St*St-Rt*Rt;zt=zt<0?0:Math.sqrt(zt);const $t=(it-w)*this._whitePoint.a*this._kA;return Math.sqrt((ft/this._Kl)**2+(Rt/(1+this._K1*Tt))**2+(zt/(1+this._K2*Tt))**2+$t**2)}},CIE94Textiles$1=class extends AbstractCIE94$1{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},CIE94GraphicArts$1=class extends AbstractCIE94$1{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},_CIEDE2000$1=class extends AbstractDistanceCalculator$1{_setDefaults(){}static _calculatehp(d,m){const g=Math.atan2(d,m);return g>=0?g:g+_CIEDE2000$1._deg360InRad}static _calculateRT(d,m){const g=m**7,w=2*Math.sqrt(g/(g+_CIEDE2000$1._pow25to7)),j=_CIEDE2000$1._deg30InRad*Math.exp(-(((d-_CIEDE2000$1._deg275InRad)/_CIEDE2000$1._deg25InRad)**2));return-Math.sin(2*j)*w}static _calculateT(d){return 1-.17*Math.cos(d-_CIEDE2000$1._deg30InRad)+.24*Math.cos(2*d)+.32*Math.cos(3*d+_CIEDE2000$1._deg6InRad)-.2*Math.cos(4*d-_CIEDE2000$1._deg63InRad)}static _calculate_ahp(d,m,g,w){const j=g+w;return d===0?j:m<=_CIEDE2000$1._deg180InRad?j/2:j<_CIEDE2000$1._deg360InRad?(j+_CIEDE2000$1._deg360InRad)/2:(j-_CIEDE2000$1._deg360InRad)/2}static _calculate_dHp(d,m,g,w){let j;return j=d===0?0:m<=_CIEDE2000$1._deg180InRad?g-w:g<=w?g-w+_CIEDE2000$1._deg360InRad:g-w-_CIEDE2000$1._deg360InRad,2*Math.sqrt(d)*Math.sin(j/2)}calculateRaw(d,m,g,w,j,H,et,it){const ot=rgb2lab$1(inRange0to255$1(d*this._whitePoint.r),inRange0to255$1(m*this._whitePoint.g),inRange0to255$1(g*this._whitePoint.b)),ut=rgb2lab$1(inRange0to255$1(j*this._whitePoint.r),inRange0to255$1(H*this._whitePoint.g),inRange0to255$1(et*this._whitePoint.b)),ft=(it-w)*this._whitePoint.a*_CIEDE2000$1._kA,dt=this.calculateRawInLab(ot,ut);return Math.sqrt(dt+ft*ft)}calculateRawInLab(d,m){const g=d.L,w=d.a,j=d.b,H=m.L,et=m.a,it=m.b,ot=((Math.sqrt(w*w+j*j)+Math.sqrt(et*et+it*it))/2)**7,ut=.5*(1-Math.sqrt(ot/(ot+_CIEDE2000$1._pow25to7))),ft=(1+ut)*w,dt=(1+ut)*et,St=Math.sqrt(ft*ft+j*j),Tt=Math.sqrt(dt*dt+it*it),Rt=St*Tt,zt=_CIEDE2000$1._calculatehp(j,ft),$t=_CIEDE2000$1._calculatehp(it,dt),Ht=Math.abs(zt-$t),jt=H-g,Ft=Tt-St,Dt=_CIEDE2000$1._calculate_dHp(Rt,Ht,$t,zt),Yt=_CIEDE2000$1._calculate_ahp(Rt,Ht,zt,$t),ne=(St+Tt)/2,Kt=((g+H)/2-50)**2,re=Ft/(1+.045*ne),ee=Dt/(1+.015*_CIEDE2000$1._calculateT(Yt)*ne);return(jt/(1+.015*Kt/Math.sqrt(20+Kt)))**2+re**2+ee**2+_CIEDE2000$1._calculateRT(Yt,ne)*re*ee}},CIEDE2000$1=_CIEDE2000$1;__publicField$3(CIEDE2000$1,"_kA",25/255),__publicField$3(CIEDE2000$1,"_pow25to7",25**7),__publicField$3(CIEDE2000$1,"_deg360InRad",degrees2radians$1(360)),__publicField$3(CIEDE2000$1,"_deg180InRad",degrees2radians$1(180)),__publicField$3(CIEDE2000$1,"_deg30InRad",degrees2radians$1(30)),__publicField$3(CIEDE2000$1,"_deg6InRad",degrees2radians$1(6)),__publicField$3(CIEDE2000$1,"_deg63InRad",degrees2radians$1(63)),__publicField$3(CIEDE2000$1,"_deg275InRad",degrees2radians$1(275)),__publicField$3(CIEDE2000$1,"_deg25InRad",degrees2radians$1(25));var CMetric$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,j,H,et,it){const ot=(d+j)/2*this._whitePoint.r,ut=(d-j)*this._whitePoint.r,ft=(m-H)*this._whitePoint.g,dt=(g-et)*this._whitePoint.b,St=((512+ot)*ut*ut>>8)+4*ft*ft+((767-ot)*dt*dt>>8),Tt=(it-w)*this._whitePoint.a;return Math.sqrt(St+Tt*Tt)}_setDefaults(){}},AbstractEuclidean$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,j,H,et,it){const ot=j-d,ut=H-m,ft=et-g,dt=it-w;return Math.sqrt(this._kR*ot*ot+this._kG*ut*ut+this._kB*ft*ft+this._kA*dt*dt)}},Euclidean$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},EuclideanBT709$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},EuclideanBT709NoAlpha$1=class extends AbstractEuclidean$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},AbstractManhattan$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,j,H,et,it){let ot=j-d,ut=H-m,ft=et-g,dt=it-w;return ot<0&&(ot=0-ot),ut<0&&(ut=0-ut),ft<0&&(ft=0-ft),dt<0&&(dt=0-dt),this._kR*ot+this._kG*ut+this._kB*ft+this._kA*dt}},Manhattan$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},ManhattanNommyde$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ManhattanBT709$1=class extends AbstractManhattan$1{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},PNGQuant$1=class extends AbstractDistanceCalculator$1{calculateRaw(d,m,g,w,j,H,et,it){const ot=(it-w)*this._whitePoint.a;return this._colordifferenceCh(d*this._whitePoint.r,j*this._whitePoint.r,ot)+this._colordifferenceCh(m*this._whitePoint.g,H*this._whitePoint.g,ot)+this._colordifferenceCh(g*this._whitePoint.b,et*this._whitePoint.b,ot)}_colordifferenceCh(d,m,g){const w=d-m,j=w+g;return w*w+j*j}_setDefaults(){}},palette_exports$1={};__export$1(palette_exports$1,{AbstractPaletteQuantizer:()=>AbstractPaletteQuantizer$1,ColorHistogram:()=>ColorHistogram$1,NeuQuant:()=>NeuQuant$1,NeuQuantFloat:()=>NeuQuantFloat$1,RGBQuant:()=>RGBQuant$1,WuColorCube:()=>WuColorCube$1,WuQuant:()=>WuQuant$1});var AbstractPaletteQuantizer$1=class{quantizeSync(){for(const d of this.quantize())if(d.palette)return d.palette;throw new Error("unreachable")}},Point$1=class{constructor(){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),__publicField$3(this,"uint32"),__publicField$3(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(d){const m=new Point$1;return m.r=0|d[0],m.g=0|d[1],m.b=0|d[2],m.a=0|d[3],m._loadUINT32(),m._loadQuadruplet(),m}static createByRGBA(d,m,g,w){const j=new Point$1;return j.r=0|d,j.g=0|m,j.b=0|g,j.a=0|w,j._loadUINT32(),j._loadQuadruplet(),j}static createByUint32(d){const m=new Point$1;return m.uint32=d>>>0,m._loadRGBA(),m._loadQuadruplet(),m}from(d){this.r=d.r,this.g=d.g,this.b=d.b,this.a=d.a,this.uint32=d.uint32,this.rgba[0]=d.r,this.rgba[1]=d.g,this.rgba[2]=d.b,this.rgba[3]=d.a}getLuminosity(d){let m=this.r,g=this.g,w=this.b;return d&&(m=Math.min(255,255-this.a+this.a*m/255),g=Math.min(255,255-this.a+this.a*g/255),w=Math.min(255,255-this.a+this.a*w/255)),.2126*m+.7152*g+.0722*w}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},PointContainer$1=class{constructor(){__publicField$3(this,"_pointArray"),__publicField$3(this,"_width"),__publicField$3(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(d){this._width=d}setHeight(d){this._height=d}getPointArray(){return this._pointArray}clone(){const d=new PointContainer$1;d._width=this._width,d._height=this._height;for(let m=0,g=this._pointArray.length;m<g;m++)d._pointArray[m]=Point$1.createByUint32(0|this._pointArray[m].uint32);return d}toUint32Array(){const d=this._pointArray.length,m=new Uint32Array(d);for(let g=0;g<d;g++)m[g]=this._pointArray[g].uint32;return m}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(d){const m=d.naturalWidth,g=d.naturalHeight,w=document.createElement("canvas");return w.width=m,w.height=g,w.getContext("2d").drawImage(d,0,0,m,g,0,0,m,g),PointContainer$1.fromHTMLCanvasElement(w)}static fromHTMLCanvasElement(d){const m=d.width,g=d.height,w=d.getContext("2d").getImageData(0,0,m,g);return PointContainer$1.fromImageData(w)}static fromImageData(d){const m=d.width,g=d.height;return PointContainer$1.fromUint8Array(d.data,m,g)}static fromUint8Array(d,m,g){switch(Object.prototype.toString.call(d)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:d=new Uint8Array(d)}const w=new Uint32Array(d.buffer);return PointContainer$1.fromUint32Array(w,m,g)}static fromUint32Array(d,m,g){const w=new PointContainer$1;w._width=m,w._height=g;for(let j=0,H=d.length;j<H;j++)w._pointArray[j]=Point$1.createByUint32(0|d[j]);return w}static fromBuffer(d,m,g){const w=new Uint32Array(d.buffer,d.byteOffset,d.byteLength/Uint32Array.BYTES_PER_ELEMENT);return PointContainer$1.fromUint32Array(w,m,g)}},hueGroups$1=10;function hueGroup$1(d,m){const g=360/m;for(let w=1,j=g-g/2;w<m;w++,j+=g)if(d>=j&&d<j+g)return w;return 0}var Palette$1=class{constructor(){__publicField$3(this,"_pointContainer"),__publicField$3(this,"_pointArray",[]),__publicField$3(this,"_i32idx",{}),this._pointContainer=new PointContainer$1,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(d){this._pointArray.push(d),this._pointContainer.setWidth(this._pointArray.length)}has(d){for(let m=this._pointArray.length-1;m>=0;m--)if(d.uint32===this._pointArray[m].uint32)return!0;return!1}getNearestColor(d,m){return this._pointArray[0|this._getNearestIndex(d,m)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(d){return typeof this._i32idx[d]=="number"?this._i32idx[d]:-1}_getNearestIndex(d,m){let g=this._nearestPointFromCache(""+m.uint32);if(g>=0)return g;let w=Number.MAX_VALUE;g=0;for(let j=0,H=this._pointArray.length;j<H;j++){const et=this._pointArray[j],it=d.calculateRaw(m.r,m.g,m.b,m.a,et.r,et.g,et.b,et.a);it<w&&(w=it,g=j)}return this._i32idx[m.uint32]=g,g}sort(){this._i32idx={},this._pointArray.sort((d,m)=>{const g=rgb2hsl$1(d.r,d.g,d.b),w=rgb2hsl$1(m.r,m.g,m.b),j=d.r===d.g&&d.g===d.b?0:1+hueGroup$1(g.h,hueGroups$1),H=(m.r===m.g&&m.g===m.b?0:1+hueGroup$1(w.h,hueGroups$1))-j;if(H)return-H;const et=d.getLuminosity(!0),it=m.getLuminosity(!0);if(it-et!=0)return it-et;const ot=(100*w.s|0)-(100*g.s|0);return ot?-ot:0})}},utils_exports$1={};__export$1(utils_exports$1,{HueStatistics:()=>HueStatistics$1,Palette:()=>Palette$1,Point:()=>Point$1,PointContainer:()=>PointContainer$1,ProgressTracker:()=>ProgressTracker$1,arithmetic:()=>arithmetic_exports$1});var HueGroup$1=class{constructor(){__publicField$3(this,"num",0),__publicField$3(this,"cols",[])}},HueStatistics$1=class{constructor(d,m){__publicField$3(this,"_numGroups"),__publicField$3(this,"_minCols"),__publicField$3(this,"_stats"),__publicField$3(this,"_groupsFull"),this._numGroups=d,this._minCols=m,this._stats=[];for(let g=0;g<=d;g++)this._stats[g]=new HueGroup$1;this._groupsFull=0}check(d){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const m=255&d,g=d>>>8&255,w=d>>>16&255,j=m===g&&g===w?0:1+hueGroup$1(rgb2hsl$1(m,g,w).h,this._numGroups),H=this._stats[j],et=this._minCols;H.num++,H.num>et||(H.num===et&&this._groupsFull++,H.num<=et&&this._stats[j].cols.push(d))}injectIntoDictionary(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d[g]?d[g]++:d[g]=1})}injectIntoArray(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d.indexOf(g)===-1&&d.push(g)})}},_ProgressTracker$1=class{constructor(d,m){__publicField$3(this,"progress"),__publicField$3(this,"_step"),__publicField$3(this,"_range"),__publicField$3(this,"_last"),__publicField$3(this,"_progressRange"),this._range=d,this._progressRange=m,this._step=Math.max(1,this._range/(_ProgressTracker$1.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(d){return d-this._last>=this._step&&(this._last=d,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},ProgressTracker$1=_ProgressTracker$1;__publicField$3(ProgressTracker$1,"steps",100);var networkBiasShift$1=3,Neuron$1=class{constructor(d){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point$1.createByRGBA(this.r>>networkBiasShift$1,this.g>>networkBiasShift$1,this.b>>networkBiasShift$1,this.a>>networkBiasShift$1)}subtract(d,m,g,w){this.r-=0|d,this.g-=0|m,this.b-=0|g,this.a-=0|w}},_NeuQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256){super(),__publicField$3(this,"_pointArray"),__publicField$3(this,"_networkSize"),__publicField$3(this,"_network"),__publicField$3(this,"_sampleFactor"),__publicField$3(this,"_radPower"),__publicField$3(this,"_freq"),__publicField$3(this,"_bias"),__publicField$3(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift$1,255<<networkBiasShift$1,255<<networkBiasShift$1,255<<networkBiasShift$1)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new Neuron$1((d<<networkBiasShift$1+8)/this._networkSize|0),this._freq[d]=_NeuQuant$1._initialBias/this._networkSize|0,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuant$1._minpicturebytes&&(d=1);const g=30+(d-1)/3|0,w=m/d|0;let j,H=w/_NeuQuant$1._nCycles|0,et=_NeuQuant$1._initAlpha,it=(this._networkSize>>3)*_NeuQuant$1._radiusBias,ot=it>>_NeuQuant$1._radiusBiasShift;ot<=1&&(ot=0);for(let ft=0;ft<ot;ft++)this._radPower[ft]=et*((ot*ot-ft*ft)*_NeuQuant$1._radBias/(ot*ot))>>>0;j=m<_NeuQuant$1._minpicturebytes?1:m%_NeuQuant$1._prime1!=0?_NeuQuant$1._prime1:m%_NeuQuant$1._prime2!=0?_NeuQuant$1._prime2:m%_NeuQuant$1._prime3!=0?_NeuQuant$1._prime3:_NeuQuant$1._prime4;const ut=new ProgressTracker$1(w,99);for(let ft=0,dt=0;ft<w;){ut.shouldNotify(ft)&&(yield{progress:ut.progress});const St=this._pointArray[dt],Tt=St.b<<networkBiasShift$1,Rt=St.g<<networkBiasShift$1,zt=St.r<<networkBiasShift$1,$t=St.a<<networkBiasShift$1,Ht=this._contest(Tt,Rt,zt,$t);if(this._alterSingle(et,Ht,Tt,Rt,zt,$t),ot!==0&&this._alterNeighbour(ot,Ht,Tt,Rt,zt,$t),dt+=j,dt>=m&&(dt-=m),ft++,H===0&&(H=1),ft%H==0){et-=et/g|0,it-=it/_NeuQuant$1._radiusDecrease|0,ot=it>>_NeuQuant$1._radiusBiasShift,ot<=1&&(ot=0);for(let jt=0;jt<ot;jt++)this._radPower[jt]=et*((ot*ot-jt*jt)*_NeuQuant$1._radBias/(ot*ot))>>>0}}}_buildPalette(){const d=new Palette$1;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,j,H){let et=m-d;et<-1&&(et=-1);let it=m+d;it>this._networkSize&&(it=this._networkSize);let ot=m+1,ut=m-1,ft=1;for(;ot<it||ut>et;){const dt=this._radPower[ft++]/_NeuQuant$1._alphaRadBias;if(ot<it){const St=this._network[ot++];St.subtract(dt*(St.r-j),dt*(St.g-w),dt*(St.b-g),dt*(St.a-H))}if(ut>et){const St=this._network[ut--];St.subtract(dt*(St.r-j),dt*(St.g-w),dt*(St.b-g),dt*(St.a-H))}}}_alterSingle(d,m,g,w,j,H){d/=_NeuQuant$1._initAlpha;const et=this._network[m];et.subtract(d*(et.r-j),d*(et.g-w),d*(et.b-g),d*(et.a-H))}_contest(d,m,g,w){const j=1020<<networkBiasShift$1;let H=2147483647,et=H,it=-1,ot=it;for(let ut=0;ut<this._networkSize;ut++){const ft=this._network[ut],dt=this._distance.calculateNormalized(ft,{r:g,g:m,b:d,a:w})*j|0;dt<H&&(H=dt,it=ut);const St=dt-(this._bias[ut]>>_NeuQuant$1._initialBiasShift-networkBiasShift$1);St<et&&(et=St,ot=ut);const Tt=this._freq[ut]>>_NeuQuant$1._betaShift;this._freq[ut]-=Tt,this._bias[ut]+=Tt<<_NeuQuant$1._gammaShift}return this._freq[it]+=_NeuQuant$1._beta,this._bias[it]-=_NeuQuant$1._betaGamma,ot}},NeuQuant$1=_NeuQuant$1;__publicField$3(NeuQuant$1,"_prime1",499),__publicField$3(NeuQuant$1,"_prime2",491),__publicField$3(NeuQuant$1,"_prime3",487),__publicField$3(NeuQuant$1,"_prime4",503),__publicField$3(NeuQuant$1,"_minpicturebytes",_NeuQuant$1._prime4),__publicField$3(NeuQuant$1,"_nCycles",100),__publicField$3(NeuQuant$1,"_initialBiasShift",16),__publicField$3(NeuQuant$1,"_initialBias",1<<_NeuQuant$1._initialBiasShift),__publicField$3(NeuQuant$1,"_gammaShift",10),__publicField$3(NeuQuant$1,"_betaShift",10),__publicField$3(NeuQuant$1,"_beta",_NeuQuant$1._initialBias>>_NeuQuant$1._betaShift),__publicField$3(NeuQuant$1,"_betaGamma",_NeuQuant$1._initialBias<<_NeuQuant$1._gammaShift-_NeuQuant$1._betaShift),__publicField$3(NeuQuant$1,"_radiusBiasShift",6),__publicField$3(NeuQuant$1,"_radiusBias",1<<_NeuQuant$1._radiusBiasShift),__publicField$3(NeuQuant$1,"_radiusDecrease",30),__publicField$3(NeuQuant$1,"_alphaBiasShift",10),__publicField$3(NeuQuant$1,"_initAlpha",1<<_NeuQuant$1._alphaBiasShift),__publicField$3(NeuQuant$1,"_radBiasShift",8),__publicField$3(NeuQuant$1,"_radBias",1<<_NeuQuant$1._radBiasShift),__publicField$3(NeuQuant$1,"_alphaRadBiasShift",_NeuQuant$1._alphaBiasShift+_NeuQuant$1._radBiasShift),__publicField$3(NeuQuant$1,"_alphaRadBias",1<<_NeuQuant$1._alphaRadBiasShift);var networkBiasShift2$1=3,NeuronFloat$1=class{constructor(d){__publicField$3(this,"r"),__publicField$3(this,"g"),__publicField$3(this,"b"),__publicField$3(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point$1.createByRGBA(this.r>>networkBiasShift2$1,this.g>>networkBiasShift2$1,this.b>>networkBiasShift2$1,this.a>>networkBiasShift2$1)}subtract(d,m,g,w){this.r-=d,this.g-=m,this.b-=g,this.a-=w}},_NeuQuantFloat$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256){super(),__publicField$3(this,"_pointArray"),__publicField$3(this,"_networkSize"),__publicField$3(this,"_network"),__publicField$3(this,"_sampleFactor"),__publicField$3(this,"_radPower"),__publicField$3(this,"_freq"),__publicField$3(this,"_bias"),__publicField$3(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift2$1,255<<networkBiasShift2$1,255<<networkBiasShift2$1,255<<networkBiasShift2$1)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new NeuronFloat$1((d<<networkBiasShift2$1+8)/this._networkSize),this._freq[d]=_NeuQuantFloat$1._initialBias/this._networkSize,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuantFloat$1._minpicturebytes&&(d=1);const g=30+(d-1)/3,w=m/d;let j,H=w/_NeuQuantFloat$1._nCycles|0,et=_NeuQuantFloat$1._initAlpha,it=(this._networkSize>>3)*_NeuQuantFloat$1._radiusBias,ot=it>>_NeuQuantFloat$1._radiusBiasShift;ot<=1&&(ot=0);for(let ft=0;ft<ot;ft++)this._radPower[ft]=et*((ot*ot-ft*ft)*_NeuQuantFloat$1._radBias/(ot*ot));j=m<_NeuQuantFloat$1._minpicturebytes?1:m%_NeuQuantFloat$1._prime1!=0?_NeuQuantFloat$1._prime1:m%_NeuQuantFloat$1._prime2!=0?_NeuQuantFloat$1._prime2:m%_NeuQuantFloat$1._prime3!=0?_NeuQuantFloat$1._prime3:_NeuQuantFloat$1._prime4;const ut=new ProgressTracker$1(w,99);for(let ft=0,dt=0;ft<w;){ut.shouldNotify(ft)&&(yield{progress:ut.progress});const St=this._pointArray[dt],Tt=St.b<<networkBiasShift2$1,Rt=St.g<<networkBiasShift2$1,zt=St.r<<networkBiasShift2$1,$t=St.a<<networkBiasShift2$1,Ht=this._contest(Tt,Rt,zt,$t);if(this._alterSingle(et,Ht,Tt,Rt,zt,$t),ot!==0&&this._alterNeighbour(ot,Ht,Tt,Rt,zt,$t),dt+=j,dt>=m&&(dt-=m),ft++,H===0&&(H=1),ft%H==0){et-=et/g,it-=it/_NeuQuantFloat$1._radiusDecrease,ot=it>>_NeuQuantFloat$1._radiusBiasShift,ot<=1&&(ot=0);for(let jt=0;jt<ot;jt++)this._radPower[jt]=et*((ot*ot-jt*jt)*_NeuQuantFloat$1._radBias/(ot*ot))}}}_buildPalette(){const d=new Palette$1;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,j,H){let et=m-d;et<-1&&(et=-1);let it=m+d;it>this._networkSize&&(it=this._networkSize);let ot=m+1,ut=m-1,ft=1;for(;ot<it||ut>et;){const dt=this._radPower[ft++]/_NeuQuantFloat$1._alphaRadBias;if(ot<it){const St=this._network[ot++];St.subtract(dt*(St.r-j),dt*(St.g-w),dt*(St.b-g),dt*(St.a-H))}if(ut>et){const St=this._network[ut--];St.subtract(dt*(St.r-j),dt*(St.g-w),dt*(St.b-g),dt*(St.a-H))}}}_alterSingle(d,m,g,w,j,H){d/=_NeuQuantFloat$1._initAlpha;const et=this._network[m];et.subtract(d*(et.r-j),d*(et.g-w),d*(et.b-g),d*(et.a-H))}_contest(d,m,g,w){const j=1020<<networkBiasShift2$1;let H=2147483647,et=H,it=-1,ot=it;for(let ut=0;ut<this._networkSize;ut++){const ft=this._network[ut],dt=this._distance.calculateNormalized(ft,{r:g,g:m,b:d,a:w})*j;dt<H&&(H=dt,it=ut);const St=dt-(this._bias[ut]>>_NeuQuantFloat$1._initialBiasShift-networkBiasShift2$1);St<et&&(et=St,ot=ut);const Tt=this._freq[ut]>>_NeuQuantFloat$1._betaShift;this._freq[ut]-=Tt,this._bias[ut]+=Tt<<_NeuQuantFloat$1._gammaShift}return this._freq[it]+=_NeuQuantFloat$1._beta,this._bias[it]-=_NeuQuantFloat$1._betaGamma,ot}},NeuQuantFloat$1=_NeuQuantFloat$1;__publicField$3(NeuQuantFloat$1,"_prime1",499),__publicField$3(NeuQuantFloat$1,"_prime2",491),__publicField$3(NeuQuantFloat$1,"_prime3",487),__publicField$3(NeuQuantFloat$1,"_prime4",503),__publicField$3(NeuQuantFloat$1,"_minpicturebytes",_NeuQuantFloat$1._prime4),__publicField$3(NeuQuantFloat$1,"_nCycles",100),__publicField$3(NeuQuantFloat$1,"_initialBiasShift",16),__publicField$3(NeuQuantFloat$1,"_initialBias",1<<_NeuQuantFloat$1._initialBiasShift),__publicField$3(NeuQuantFloat$1,"_gammaShift",10),__publicField$3(NeuQuantFloat$1,"_betaShift",10),__publicField$3(NeuQuantFloat$1,"_beta",_NeuQuantFloat$1._initialBias>>_NeuQuantFloat$1._betaShift),__publicField$3(NeuQuantFloat$1,"_betaGamma",_NeuQuantFloat$1._initialBias<<_NeuQuantFloat$1._gammaShift-_NeuQuantFloat$1._betaShift),__publicField$3(NeuQuantFloat$1,"_radiusBiasShift",6),__publicField$3(NeuQuantFloat$1,"_radiusBias",1<<_NeuQuantFloat$1._radiusBiasShift),__publicField$3(NeuQuantFloat$1,"_radiusDecrease",30),__publicField$3(NeuQuantFloat$1,"_alphaBiasShift",10),__publicField$3(NeuQuantFloat$1,"_initAlpha",1<<_NeuQuantFloat$1._alphaBiasShift),__publicField$3(NeuQuantFloat$1,"_radBiasShift",8),__publicField$3(NeuQuantFloat$1,"_radBias",1<<_NeuQuantFloat$1._radBiasShift),__publicField$3(NeuQuantFloat$1,"_alphaRadBiasShift",_NeuQuantFloat$1._alphaBiasShift+_NeuQuantFloat$1._radBiasShift),__publicField$3(NeuQuantFloat$1,"_alphaRadBias",1<<_NeuQuantFloat$1._alphaRadBiasShift);var _ColorHistogram$1=class{constructor(d,m){__publicField$3(this,"_method"),__publicField$3(this,"_hueStats"),__publicField$3(this,"_histogram"),__publicField$3(this,"_initColors"),__publicField$3(this,"_minHueCols"),this._method=d,this._minHueCols=m<<2,this._initColors=m<<2,this._hueStats=new HueStatistics$1(_ColorHistogram$1._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(d){switch(this._method){case 1:this._colorStats1D(d);break;case 2:this._colorStats2D(d)}}getImportanceSortedColorsIDXI32(){const d=stableSort$1(Object.keys(this._histogram),(g,w)=>this._histogram[w]-this._histogram[g]);if(d.length===0)return[];let m;switch(this._method){case 1:const g=Math.min(d.length,this._initColors),w=d[g-1],j=this._histogram[w];m=d.slice(0,g);let H=g;const et=d.length;for(;H<et&&this._histogram[d[H]]===j;)m.push(d[H++]);this._hueStats.injectIntoArray(m);break;case 2:m=d;break;default:throw new Error("Incorrect method")}return m.map(g=>+g)}_colorStats1D(d){const m=this._histogram,g=d.getPointArray(),w=g.length;for(let j=0;j<w;j++){const H=g[j].uint32;this._hueStats.check(H),H in m?m[H]++:m[H]=1}}_colorStats2D(d){const m=d.getWidth(),g=d.getHeight(),w=d.getPointArray(),j=_ColorHistogram$1._boxSize[0],H=_ColorHistogram$1._boxSize[1],et=j*H,it=this._makeBoxes(m,g,j,H),ot=this._histogram;it.forEach(ut=>{let ft=Math.round(ut.w*ut.h/et)*_ColorHistogram$1._boxPixels;ft<2&&(ft=2);const dt={};this._iterateBox(ut,m,St=>{const Tt=w[St].uint32;this._hueStats.check(Tt),Tt in ot?ot[Tt]++:Tt in dt?++dt[Tt]>=ft&&(ot[Tt]=dt[Tt]):dt[Tt]=1})}),this._hueStats.injectIntoDictionary(ot)}_iterateBox(d,m,g){const w=d,j=w.y*m+w.x,H=(w.y+w.h-1)*m+(w.x+w.w-1),et=m-w.w+1;let it=0,ot=j;do g.call(this,ot),ot+=++it%w.w==0?et:1;while(ot<=H)}_makeBoxes(d,m,g,w){const j=d%g,H=m%w,et=d-j,it=m-H,ot=[];for(let ut=0;ut<m;ut+=w)for(let ft=0;ft<d;ft+=g)ot.push({x:ft,y:ut,w:ft===et?j:g,h:ut===it?H:w});return ot}},ColorHistogram$1=_ColorHistogram$1;__publicField$3(ColorHistogram$1,"_boxSize",[64,64]),__publicField$3(ColorHistogram$1,"_boxPixels",2),__publicField$3(ColorHistogram$1,"_hueGroups",10);var RemovedColor$1=class{constructor(d,m,g){__publicField$3(this,"index"),__publicField$3(this,"color"),__publicField$3(this,"distance"),this.index=d,this.color=m,this.distance=g}},RGBQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256,g=2){super(),__publicField$3(this,"_colors"),__publicField$3(this,"_initialDistance"),__publicField$3(this,"_distanceIncrement"),__publicField$3(this,"_histogram"),__publicField$3(this,"_distance"),this._distance=d,this._colors=m,this._histogram=new ColorHistogram$1(g,m),this._initialDistance=.01,this._distanceIncrement=.005}sample(d){this._histogram.sample(d)}*quantize(){const d=this._histogram.getImportanceSortedColorsIDXI32();if(d.length===0)throw new Error("No colors in image");yield*this._buildPalette(d)}*_buildPalette(d){const m=new Palette$1,g=m.getPointContainer().getPointArray(),w=new Array(d.length);for(let ft=0;ft<d.length;ft++)g.push(Point$1.createByUint32(d[ft])),w[ft]=1;const j=g.length,H=[];let et=j,it=this._initialDistance;const ot=new ProgressTracker$1(et-this._colors,99);for(;et>this._colors;){H.length=0;for(let ft=0;ft<j;ft++){if(ot.shouldNotify(j-et)&&(yield{progress:ot.progress}),w[ft]===0)continue;const dt=g[ft];for(let St=ft+1;St<j;St++){if(w[St]===0)continue;const Tt=g[St],Rt=this._distance.calculateNormalized(dt,Tt);Rt<it&&(H.push(new RemovedColor$1(St,Tt,Rt)),w[St]=0,et--)}}it+=et>3*this._colors?this._initialDistance:this._distanceIncrement}if(et<this._colors){stableSort$1(H,(dt,St)=>St.distance-dt.distance);let ft=0;for(;et<this._colors&&ft<H.length;)w[H[ft].index]=1,et++,ft++}let ut=g.length;for(let ft=ut-1;ft>=0;ft--)w[ft]===0&&(ft!==ut-1&&(g[ft]=g[ut-1]),--ut);g.length=ut,m.sort(),yield{palette:m,progress:100}}};function createArray1D$1(d){const m=[];for(let g=0;g<d;g++)m[g]=0;return m}function createArray4D$1(d,m,g,w){const j=new Array(d);for(let H=0;H<d;H++){j[H]=new Array(m);for(let et=0;et<m;et++){j[H][et]=new Array(g);for(let it=0;it<g;it++){j[H][et][it]=new Array(w);for(let ot=0;ot<w;ot++)j[H][et][it][ot]=0}}}return j}function createArray3D$1(d,m,g){const w=new Array(d);for(let j=0;j<d;j++){w[j]=new Array(m);for(let H=0;H<m;H++){w[j][H]=new Array(g);for(let et=0;et<g;et++)w[j][H][et]=0}}return w}function fillArray3D$1(d,m,g,w,j){for(let H=0;H<m;H++){d[H]=[];for(let et=0;et<g;et++){d[H][et]=[];for(let it=0;it<w;it++)d[H][et][it]=j}}}function fillArray1D$1(d,m,g){for(let w=0;w<m;w++)d[w]=g}var WuColorCube$1=class{constructor(){__publicField$3(this,"redMinimum"),__publicField$3(this,"redMaximum"),__publicField$3(this,"greenMinimum"),__publicField$3(this,"greenMaximum"),__publicField$3(this,"blueMinimum"),__publicField$3(this,"blueMaximum"),__publicField$3(this,"volume"),__publicField$3(this,"alphaMinimum"),__publicField$3(this,"alphaMaximum")}},_WuQuant$1=class extends AbstractPaletteQuantizer$1{constructor(d,m=256,g=5){super(),__publicField$3(this,"_reds"),__publicField$3(this,"_greens"),__publicField$3(this,"_blues"),__publicField$3(this,"_alphas"),__publicField$3(this,"_sums"),__publicField$3(this,"_weights"),__publicField$3(this,"_momentsRed"),__publicField$3(this,"_momentsGreen"),__publicField$3(this,"_momentsBlue"),__publicField$3(this,"_momentsAlpha"),__publicField$3(this,"_moments"),__publicField$3(this,"_table"),__publicField$3(this,"_pixels"),__publicField$3(this,"_cubes"),__publicField$3(this,"_colors"),__publicField$3(this,"_significantBitsPerChannel"),__publicField$3(this,"_maxSideIndex"),__publicField$3(this,"_alphaMaxSideIndex"),__publicField$3(this,"_sideSize"),__publicField$3(this,"_alphaSideSize"),__publicField$3(this,"_distance"),this._distance=d,this._setQuality(g),this._initialize(m)}sample(d){const m=d.getPointArray();for(let g=0,w=m.length;g<w;g++)this._addColor(m[g]);this._pixels=this._pixels.concat(m)}*quantize(){yield*this._preparePalette();const d=new Palette$1;for(let m=0;m<this._colors;m++)if(this._sums[m]>0){const g=this._sums[m],w=this._reds[m]/g,j=this._greens[m]/g,H=this._blues[m]/g,et=this._alphas[m]/g,it=Point$1.createByRGBA(0|w,0|j,0|H,0|et);d.add(it)}d.sort(),yield{palette:d,progress:100}}*_preparePalette(){yield*this._calculateMoments();let d=0;const m=createArray1D$1(this._colors);for(let et=1;et<this._colors;++et){this._cut(this._cubes[d],this._cubes[et])?(m[d]=this._cubes[d].volume>1?this._calculateVariance(this._cubes[d]):0,m[et]=this._cubes[et].volume>1?this._calculateVariance(this._cubes[et]):0):(m[d]=0,et--),d=0;let it=m[0];for(let ot=1;ot<=et;++ot)m[ot]>it&&(it=m[ot],d=ot);if(it<=0){this._colors=et+1;break}}const g=[],w=[],j=[],H=[];for(let et=0;et<this._colors;++et){const it=_WuQuant$1._volume(this._cubes[et],this._weights);it>0?(g[et]=_WuQuant$1._volume(this._cubes[et],this._momentsRed)/it|0,w[et]=_WuQuant$1._volume(this._cubes[et],this._momentsGreen)/it|0,j[et]=_WuQuant$1._volume(this._cubes[et],this._momentsBlue)/it|0,H[et]=_WuQuant$1._volume(this._cubes[et],this._momentsAlpha)/it|0):(g[et]=0,w[et]=0,j[et]=0,H[et]=0)}this._reds=createArray1D$1(this._colors+1),this._greens=createArray1D$1(this._colors+1),this._blues=createArray1D$1(this._colors+1),this._alphas=createArray1D$1(this._colors+1),this._sums=createArray1D$1(this._colors+1);for(let et=0,it=this._pixels.length;et<it;et++){const ot=this._pixels[et];let ut=-1,ft=Number.MAX_VALUE;for(let dt=0;dt<this._colors;dt++){const St=g[dt],Tt=w[dt],Rt=j[dt],zt=H[dt],$t=this._distance.calculateRaw(St,Tt,Rt,zt,ot.r,ot.g,ot.b,ot.a);$t<ft&&(ft=$t,ut=dt)}this._reds[ut]+=ot.r,this._greens[ut]+=ot.g,this._blues[ut]+=ot.b,this._alphas[ut]+=ot.a,this._sums[ut]++}}_addColor(d){const m=8-this._significantBitsPerChannel,g=1+(d.r>>m),w=1+(d.g>>m),j=1+(d.b>>m),H=1+(d.a>>m);this._weights[H][g][w][j]++,this._momentsRed[H][g][w][j]+=d.r,this._momentsGreen[H][g][w][j]+=d.g,this._momentsBlue[H][g][w][j]+=d.b,this._momentsAlpha[H][g][w][j]+=d.a,this._moments[H][g][w][j]+=this._table[d.r]+this._table[d.g]+this._table[d.b]+this._table[d.a]}*_calculateMoments(){const d=[],m=[],g=[],w=[],j=[],H=[],et=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),it=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),ot=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),ut=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),ft=createArray3D$1(this._sideSize,this._sideSize,this._sideSize),dt=createArray3D$1(this._sideSize,this._sideSize,this._sideSize);let St=0;const Tt=new ProgressTracker$1(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let Rt=1;Rt<=this._alphaMaxSideIndex;++Rt){fillArray3D$1(et,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(it,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(ot,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(ut,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(ft,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D$1(dt,this._sideSize,this._sideSize,this._sideSize,0);for(let zt=1;zt<=this._maxSideIndex;++zt,++St){Tt.shouldNotify(St)&&(yield{progress:Tt.progress}),fillArray1D$1(d,this._sideSize,0),fillArray1D$1(m,this._sideSize,0),fillArray1D$1(g,this._sideSize,0),fillArray1D$1(w,this._sideSize,0),fillArray1D$1(j,this._sideSize,0),fillArray1D$1(H,this._sideSize,0);for(let $t=1;$t<=this._maxSideIndex;++$t){let Ht=0,jt=0,Ft=0,Dt=0,Yt=0,ne=0;for(let Kt=1;Kt<=this._maxSideIndex;++Kt)Ht+=this._weights[Rt][zt][$t][Kt],jt+=this._momentsRed[Rt][zt][$t][Kt],Ft+=this._momentsGreen[Rt][zt][$t][Kt],Dt+=this._momentsBlue[Rt][zt][$t][Kt],Yt+=this._momentsAlpha[Rt][zt][$t][Kt],ne+=this._moments[Rt][zt][$t][Kt],d[Kt]+=Ht,m[Kt]+=jt,g[Kt]+=Ft,w[Kt]+=Dt,j[Kt]+=Yt,H[Kt]+=ne,et[zt][$t][Kt]=et[zt-1][$t][Kt]+d[Kt],it[zt][$t][Kt]=it[zt-1][$t][Kt]+m[Kt],ot[zt][$t][Kt]=ot[zt-1][$t][Kt]+g[Kt],ut[zt][$t][Kt]=ut[zt-1][$t][Kt]+w[Kt],ft[zt][$t][Kt]=ft[zt-1][$t][Kt]+j[Kt],dt[zt][$t][Kt]=dt[zt-1][$t][Kt]+H[Kt],this._weights[Rt][zt][$t][Kt]=this._weights[Rt-1][zt][$t][Kt]+et[zt][$t][Kt],this._momentsRed[Rt][zt][$t][Kt]=this._momentsRed[Rt-1][zt][$t][Kt]+it[zt][$t][Kt],this._momentsGreen[Rt][zt][$t][Kt]=this._momentsGreen[Rt-1][zt][$t][Kt]+ot[zt][$t][Kt],this._momentsBlue[Rt][zt][$t][Kt]=this._momentsBlue[Rt-1][zt][$t][Kt]+ut[zt][$t][Kt],this._momentsAlpha[Rt][zt][$t][Kt]=this._momentsAlpha[Rt-1][zt][$t][Kt]+ft[zt][$t][Kt],this._moments[Rt][zt][$t][Kt]=this._moments[Rt-1][zt][$t][Kt]+dt[zt][$t][Kt]}}}}static _volumeFloat(d,m){return m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMaximum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum])}static _volume(d,m){return 0|_WuQuant$1._volumeFloat(d,m)}static _top(d,m,g,w){let j;switch(m){case _WuQuant$1._alpha:j=w[g][d.redMaximum][d.greenMaximum][d.blueMaximum]-w[g][d.redMaximum][d.greenMinimum][d.blueMaximum]-w[g][d.redMinimum][d.greenMaximum][d.blueMaximum]+w[g][d.redMinimum][d.greenMinimum][d.blueMaximum]-(w[g][d.redMaximum][d.greenMaximum][d.blueMinimum]-w[g][d.redMaximum][d.greenMinimum][d.blueMinimum]-w[g][d.redMinimum][d.greenMaximum][d.blueMinimum]+w[g][d.redMinimum][d.greenMinimum][d.blueMinimum]);break;case _WuQuant$1._red:j=w[d.alphaMaximum][g][d.greenMaximum][d.blueMaximum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMaximum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMaximum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMaximum]-(w[d.alphaMaximum][g][d.greenMaximum][d.blueMinimum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMinimum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMinimum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMinimum]);break;case _WuQuant$1._green:j=w[d.alphaMaximum][d.redMaximum][g][d.blueMaximum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMaximum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMaximum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMaximum]-(w[d.alphaMaximum][d.redMaximum][g][d.blueMinimum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMinimum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMinimum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMinimum]);break;case _WuQuant$1._blue:j=w[d.alphaMaximum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMaximum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMaximum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMaximum][d.redMinimum][d.greenMinimum][g]-(w[d.alphaMinimum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMinimum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMinimum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMinimum][d.redMinimum][d.greenMinimum][g]);break;default:throw new Error("impossible")}return 0|j}static _bottom(d,m,g){switch(m){case _WuQuant$1._alpha:return-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._red:return-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._green:return-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant$1._blue:return-g[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);default:return 0}}_calculateVariance(d){const m=_WuQuant$1._volume(d,this._momentsRed),g=_WuQuant$1._volume(d,this._momentsGreen),w=_WuQuant$1._volume(d,this._momentsBlue),j=_WuQuant$1._volume(d,this._momentsAlpha);return _WuQuant$1._volumeFloat(d,this._moments)-(m*m+g*g+w*w+j*j)/_WuQuant$1._volume(d,this._weights)}_maximize(d,m,g,w,j,H,et,it,ot){const ut=0|_WuQuant$1._bottom(d,m,this._momentsRed),ft=0|_WuQuant$1._bottom(d,m,this._momentsGreen),dt=0|_WuQuant$1._bottom(d,m,this._momentsBlue),St=0|_WuQuant$1._bottom(d,m,this._momentsAlpha),Tt=0|_WuQuant$1._bottom(d,m,this._weights);let Rt=0,zt=-1;for(let $t=g;$t<w;++$t){let Ht=ut+_WuQuant$1._top(d,m,$t,this._momentsRed),jt=ft+_WuQuant$1._top(d,m,$t,this._momentsGreen),Ft=dt+_WuQuant$1._top(d,m,$t,this._momentsBlue),Dt=St+_WuQuant$1._top(d,m,$t,this._momentsAlpha),Yt=Tt+_WuQuant$1._top(d,m,$t,this._weights);if(Yt!==0){let ne=Ht*Ht+jt*jt+Ft*Ft+Dt*Dt,Kt=ne/Yt;Ht=j-Ht,jt=H-jt,Ft=et-Ft,Dt=it-Dt,Yt=ot-Yt,Yt!==0&&(ne=Ht*Ht+jt*jt+Ft*Ft+Dt*Dt,Kt+=ne/Yt,Kt>Rt&&(Rt=Kt,zt=$t))}}return{max:Rt,position:zt}}_cut(d,m){let g;const w=_WuQuant$1._volume(d,this._momentsRed),j=_WuQuant$1._volume(d,this._momentsGreen),H=_WuQuant$1._volume(d,this._momentsBlue),et=_WuQuant$1._volume(d,this._momentsAlpha),it=_WuQuant$1._volume(d,this._weights),ot=this._maximize(d,_WuQuant$1._red,d.redMinimum+1,d.redMaximum,w,j,H,et,it),ut=this._maximize(d,_WuQuant$1._green,d.greenMinimum+1,d.greenMaximum,w,j,H,et,it),ft=this._maximize(d,_WuQuant$1._blue,d.blueMinimum+1,d.blueMaximum,w,j,H,et,it),dt=this._maximize(d,_WuQuant$1._alpha,d.alphaMinimum+1,d.alphaMaximum,w,j,H,et,it);if(dt.max>=ot.max&&dt.max>=ut.max&&dt.max>=ft.max){if(g=_WuQuant$1._alpha,dt.position<0)return!1}else g=ot.max>=dt.max&&ot.max>=ut.max&&ot.max>=ft.max?_WuQuant$1._red:ut.max>=dt.max&&ut.max>=ot.max&&ut.max>=ft.max?_WuQuant$1._green:_WuQuant$1._blue;switch(m.redMaximum=d.redMaximum,m.greenMaximum=d.greenMaximum,m.blueMaximum=d.blueMaximum,m.alphaMaximum=d.alphaMaximum,g){case _WuQuant$1._red:m.redMinimum=d.redMaximum=ot.position,m.greenMinimum=d.greenMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._green:m.greenMinimum=d.greenMaximum=ut.position,m.redMinimum=d.redMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._blue:m.blueMinimum=d.blueMaximum=ft.position,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant$1._alpha:m.alphaMinimum=d.alphaMaximum=dt.position,m.blueMinimum=d.blueMinimum,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum}return d.volume=(d.redMaximum-d.redMinimum)*(d.greenMaximum-d.greenMinimum)*(d.blueMaximum-d.blueMinimum)*(d.alphaMaximum-d.alphaMinimum),m.volume=(m.redMaximum-m.redMinimum)*(m.greenMaximum-m.greenMinimum)*(m.blueMaximum-m.blueMinimum)*(m.alphaMaximum-m.alphaMinimum),!0}_initialize(d){this._colors=d,this._cubes=[];for(let m=0;m<d;m++)this._cubes[m]=new WuColorCube$1;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=createArray4D$1(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let m=0;m<256;++m)this._table[m]=m*m;this._pixels=[]}_setQuality(d=5){this._significantBitsPerChannel=d,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},WuQuant$1=_WuQuant$1;__publicField$3(WuQuant$1,"_alpha",3),__publicField$3(WuQuant$1,"_red",2),__publicField$3(WuQuant$1,"_green",1),__publicField$3(WuQuant$1,"_blue",0);var image_exports$1={};__export$1(image_exports$1,{AbstractImageQuantizer:()=>AbstractImageQuantizer$1,ErrorDiffusionArray:()=>ErrorDiffusionArray$1,ErrorDiffusionArrayKernel:()=>ErrorDiffusionArrayKernel$1,ErrorDiffusionRiemersma:()=>ErrorDiffusionRiemersma$1,NearestColor:()=>NearestColor$1});var AbstractImageQuantizer$1=class{quantizeSync(d,m){for(const g of this.quantize(d,m))if(g.pointContainer)return g.pointContainer;throw new Error("unreachable")}},NearestColor$1=class extends AbstractImageQuantizer$1{constructor(d){super(),__publicField$3(this,"_distance"),this._distance=d}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),j=d.getHeight(),H=new ProgressTracker$1(j,99);for(let et=0;et<j;et++){H.shouldNotify(et)&&(yield{progress:H.progress});for(let it=0,ot=et*w;it<w;it++,ot++){const ut=g[ot];ut.from(m.getNearestColor(this._distance,ut))}}yield{pointContainer:d,progress:100}}},ErrorDiffusionArrayKernel$1=(d=>(d[d.FloydSteinberg=0]="FloydSteinberg",d[d.FalseFloydSteinberg=1]="FalseFloydSteinberg",d[d.Stucki=2]="Stucki",d[d.Atkinson=3]="Atkinson",d[d.Jarvis=4]="Jarvis",d[d.Burkes=5]="Burkes",d[d.Sierra=6]="Sierra",d[d.TwoSierra=7]="TwoSierra",d[d.SierraLite=8]="SierraLite",d))(ErrorDiffusionArrayKernel$1||{}),ErrorDiffusionArray$1=class extends AbstractImageQuantizer$1{constructor(d,m,g=!0,w=0,j=!1){super(),__publicField$3(this,"_minColorDistance"),__publicField$3(this,"_serpentine"),__publicField$3(this,"_kernel"),__publicField$3(this,"_calculateErrorLikeGIMP"),__publicField$3(this,"_distance"),this._setKernel(m),this._distance=d,this._minColorDistance=w,this._serpentine=g,this._calculateErrorLikeGIMP=j}*quantize(d,m){const g=d.getPointArray(),w=new Point$1,j=d.getWidth(),H=d.getHeight(),et=[];let it=1,ot=1;for(const ft of this._kernel){const dt=ft[2]+1;ot<dt&&(ot=dt)}for(let ft=0;ft<ot;ft++)this._fillErrorLine(et[ft]=[],j);const ut=new ProgressTracker$1(H,99);for(let ft=0;ft<H;ft++){ut.shouldNotify(ft)&&(yield{progress:ut.progress}),this._serpentine&&(it*=-1);const dt=ft*j,St=it===1?0:j-1,Tt=it===1?j:-1;this._fillErrorLine(et[0],j),et.push(et.shift());const Rt=et[0];for(let zt=St,$t=dt+St;zt!==Tt;zt+=it,$t+=it){const Ht=g[$t],jt=Rt[zt];w.from(Ht);const Ft=Point$1.createByRGBA(inRange0to255Rounded$1(Ht.r+jt[0]),inRange0to255Rounded$1(Ht.g+jt[1]),inRange0to255Rounded$1(Ht.b+jt[2]),inRange0to255Rounded$1(Ht.a+jt[3])),Dt=m.getNearestColor(this._distance,Ft);if(Ht.from(Dt),this._minColorDistance&&this._distance.calculateNormalized(w,Dt)<this._minColorDistance)continue;let Yt,ne,Kt,re;this._calculateErrorLikeGIMP?(Yt=Ft.r-Dt.r,ne=Ft.g-Dt.g,Kt=Ft.b-Dt.b,re=Ft.a-Dt.a):(Yt=w.r-Dt.r,ne=w.g-Dt.g,Kt=w.b-Dt.b,re=w.a-Dt.a);const ee=it===1?0:this._kernel.length-1,oe=it===1?this._kernel.length:-1;for(let Ut=ee;Ut!==oe;Ut+=it){const ie=this._kernel[Ut][1]*it,ge=this._kernel[Ut][2];if(ie+zt>=0&&ie+zt<j&&ge+ft>=0&&ge+ft<H){const ce=this._kernel[Ut][0],le=et[ge][ie+zt];le[0]+=Yt*ce,le[1]+=ne*ce,le[2]+=Kt*ce,le[3]+=re*ce}}}}yield{pointContainer:d,progress:100}}_fillErrorLine(d,m){d.length>m&&(d.length=m);const g=d.length;for(let w=0;w<g;w++){const j=d[w];j[0]=j[1]=j[2]=j[3]=0}for(let w=g;w<m;w++)d[w]=[0,0,0,0]}_setKernel(d){switch(d){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${d}`)}}};function*hilbertCurve$1(d,m,g){const w=Math.max(d,m),j={width:d,height:m,level:Math.floor(Math.log(w)/Math.log(2)+1),callback:g,tracker:new ProgressTracker$1(d*m,99),index:0,x:0,y:0};yield*walkHilbert$1(j,1),visit$1(j,0)}function*walkHilbert$1(d,m){if(!(d.level<1)){switch(d.tracker.shouldNotify(d.index)&&(yield{progress:d.tracker.progress}),d.level--,m){case 2:yield*walkHilbert$1(d,1),visit$1(d,3),yield*walkHilbert$1(d,2),visit$1(d,4),yield*walkHilbert$1(d,2),visit$1(d,2),yield*walkHilbert$1(d,4);break;case 3:yield*walkHilbert$1(d,4),visit$1(d,2),yield*walkHilbert$1(d,3),visit$1(d,1),yield*walkHilbert$1(d,3),visit$1(d,3),yield*walkHilbert$1(d,1);break;case 1:yield*walkHilbert$1(d,2),visit$1(d,4),yield*walkHilbert$1(d,1),visit$1(d,3),yield*walkHilbert$1(d,1),visit$1(d,1),yield*walkHilbert$1(d,3);break;case 4:yield*walkHilbert$1(d,3),visit$1(d,1),yield*walkHilbert$1(d,4),visit$1(d,2),yield*walkHilbert$1(d,4),visit$1(d,4),yield*walkHilbert$1(d,2)}d.level++}}function visit$1(d,m){switch(d.x>=0&&d.x<d.width&&d.y>=0&&d.y<d.height&&(d.callback(d.x,d.y),d.index++),m){case 2:d.x--;break;case 3:d.x++;break;case 1:d.y--;break;case 4:d.y++}}var ErrorDiffusionRiemersma$1=class extends AbstractImageQuantizer$1{constructor(d,m=16,g=1){super(),__publicField$3(this,"_distance"),__publicField$3(this,"_weights"),__publicField$3(this,"_errorQueueSize"),this._distance=d,this._errorQueueSize=m,this._weights=ErrorDiffusionRiemersma$1._createWeights(g,m)}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),j=d.getHeight(),H=[];let et=0;for(let it=0;it<this._errorQueueSize;it++)H[it]={r:0,g:0,b:0,a:0};yield*hilbertCurve$1(w,j,(it,ot)=>{const ut=g[it+ot*w];let{r:ft,g:dt,b:St,a:Tt}=ut;for(let Ht=0;Ht<this._errorQueueSize;Ht++){const jt=this._weights[Ht],Ft=H[(Ht+et)%this._errorQueueSize];ft+=Ft.r*jt,dt+=Ft.g*jt,St+=Ft.b*jt,Tt+=Ft.a*jt}const Rt=Point$1.createByRGBA(inRange0to255Rounded$1(ft),inRange0to255Rounded$1(dt),inRange0to255Rounded$1(St),inRange0to255Rounded$1(Tt)),zt=m.getNearestColor(this._distance,Rt);et=(et+1)%this._errorQueueSize;const $t=(et+this._errorQueueSize-1)%this._errorQueueSize;H[$t].r=ut.r-zt.r,H[$t].g=ut.g-zt.g,H[$t].b=ut.b-zt.b,H[$t].a=ut.a-zt.a,ut.from(zt)}),yield{pointContainer:d,progress:100}}static _createWeights(d,m){const g=[],w=Math.exp(Math.log(m)/(m-1));for(let j=0,H=1;j<m;j++)g[j]=(H+.5|0)/m*d,H*=w;return g}},quality_exports$1={};__export$1(quality_exports$1,{ssim:()=>ssim$1});var K1$1=.01,K2$1=.03;function ssim$1(d,m){if(d.getHeight()!==m.getHeight()||d.getWidth()!==m.getWidth())throw new Error("Images have different sizes!");const g=(255*K1$1)**2,w=(255*K2$1)**2;let j=0,H=0;return iterate$1(d,m,(et,it,ot,ut)=>{let ft=0,dt=0,St=0;for(let Rt=0;Rt<et.length;Rt++)dt+=(et[Rt]-ot)**2,St+=(it[Rt]-ut)**2,ft+=(et[Rt]-ot)*(it[Rt]-ut);const Tt=et.length-1;dt/=Tt,St/=Tt,ft/=Tt,H+=(2*ot*ut+g)*(2*ft+w)/((ot**2+ut**2+g)*(dt+St+w)),j++}),H/j}function iterate$1(d,m,g){const w=d.getWidth(),j=d.getHeight();for(let H=0;H<j;H+=8)for(let et=0;et<w;et+=8){const it=Math.min(8,w-et),ot=Math.min(8,j-H),ut=calculateLumaValuesForWindow$1(d,et,H,it,ot),ft=calculateLumaValuesForWindow$1(m,et,H,it,ot);g(ut,ft,calculateAverageLuma$1(ut),calculateAverageLuma$1(ft))}}function calculateLumaValuesForWindow$1(d,m,g,w,j){const H=d.getPointArray(),et=[];let it=0;for(let ot=g;ot<g+j;ot++){const ut=ot*d.getWidth();for(let ft=m;ft<m+w;ft++){const dt=H[ut+ft];et[it]=.2126*dt.r+.7152*dt.g+.0722*dt.b,it++}}return et}function calculateAverageLuma$1(d){let m=0;for(const g of d)m+=g;return m/d.length}var setImmediateImpl=typeof setImmediate=="function"?setImmediate:typeof process<"u"&&typeof(process==null?void 0:process.nextTick)=="function"?d=>process.nextTick(d):d=>setTimeout(d,0);function buildPaletteSync$1(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w}={}){const j=paletteQuantizationToPaletteQuantizer$1(colorDistanceFormulaToColorDistance$1(m),g,w);return d.forEach(H=>j.sample(H)),j.quantizeSync()}async function buildPalette(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w,onProgress:j}={}){return new Promise((H,et)=>{const it=paletteQuantizationToPaletteQuantizer$1(colorDistanceFormulaToColorDistance$1(m),g,w);let ot;d.forEach(dt=>it.sample(dt));const ut=it.quantize(),ft=()=>{try{const dt=ut.next();dt.done?H(ot):(dt.value.palette&&(ot=dt.value.palette),j&&j(dt.value.progress),setImmediateImpl(ft))}catch(dt){et(dt)}};setImmediateImpl(ft)})}function applyPaletteSync$1(d,m,{colorDistanceFormula:g,imageQuantization:w}={}){return imageQuantizationToImageQuantizer$1(colorDistanceFormulaToColorDistance$1(g),w).quantizeSync(d,m)}async function applyPalette(d,m,{colorDistanceFormula:g,imageQuantization:w,onProgress:j}={}){return new Promise((H,et)=>{let it;const ot=imageQuantizationToImageQuantizer$1(colorDistanceFormulaToColorDistance$1(g),w).quantize(d,m),ut=()=>{try{const ft=ot.next();ft.done?H(it):(ft.value.pointContainer&&(it=ft.value.pointContainer),j&&j(ft.value.progress),setImmediateImpl(ut))}catch(ft){et(ft)}};setImmediateImpl(ut)})}function colorDistanceFormulaToColorDistance$1(d="euclidean-bt709"){switch(d){case"cie94-graphic-arts":return new CIE94GraphicArts$1;case"cie94-textiles":return new CIE94Textiles$1;case"ciede2000":return new CIEDE2000$1;case"color-metric":return new CMetric$1;case"euclidean":return new Euclidean$1;case"euclidean-bt709":return new EuclideanBT709$1;case"euclidean-bt709-noalpha":return new EuclideanBT709NoAlpha$1;case"manhattan":return new Manhattan$1;case"manhattan-bt709":return new ManhattanBT709$1;case"manhattan-nommyde":return new ManhattanNommyde$1;case"pngquant":return new PNGQuant$1;default:throw new Error(`Unknown colorDistanceFormula ${d}`)}}function imageQuantizationToImageQuantizer$1(d,m="floyd-steinberg"){switch(m){case"nearest":return new NearestColor$1(d);case"riemersma":return new ErrorDiffusionRiemersma$1(d);case"floyd-steinberg":return new ErrorDiffusionArray$1(d,0);case"false-floyd-steinberg":return new ErrorDiffusionArray$1(d,1);case"stucki":return new ErrorDiffusionArray$1(d,2);case"atkinson":return new ErrorDiffusionArray$1(d,3);case"jarvis":return new ErrorDiffusionArray$1(d,4);case"burkes":return new ErrorDiffusionArray$1(d,5);case"sierra":return new ErrorDiffusionArray$1(d,6);case"two-sierra":return new ErrorDiffusionArray$1(d,7);case"sierra-lite":return new ErrorDiffusionArray$1(d,8);default:throw new Error(`Unknown imageQuantization ${m}`)}}function paletteQuantizationToPaletteQuantizer$1(d,m="wuquant",g=256){switch(m){case"neuquant":return new NeuQuant$1(d,g);case"rgbquant":return new RGBQuant$1(d,g);case"wuquant":return new WuQuant$1(d,g);case"neuquant-float":return new NeuQuantFloat$1(d,g);default:throw new Error(`Unknown paletteQuantization ${m}`)}}var imageQ=__toCommonJS(src_exports),gifframe={};const BitmapImage$1=bitmapimage;let GifFrame$1=class Cl extends BitmapImage$1{constructor(...m){if(super(...m),m[0]instanceof Cl){const g=m[0];this.xOffset=g.xOffset,this.yOffset=g.yOffset,this.disposalMethod=g.disposalMethod,this.delayCentisecs=g.delayCentisecs,this.interlaced=g.interlaced}else{const g=m[m.length-1];let w={};typeof g!="object"||g instanceof BitmapImage$1||(w=g),this.xOffset=w.xOffset||0,this.yOffset=w.yOffset||0,this.disposalMethod=w.disposalMethod!==void 0?w.disposalMethod:Cl.DisposeToBackgroundColor,this.delayCentisecs=w.delayCentisecs||8,this.interlaced=w.interlaced||!1}}getPalette(){const m=new Set,g=this.bitmap.data;let w=0,j=!1;for(;w<g.length;){if(g[w+3]===0)j=!0;else{const ot=g.readUInt32BE(w,!0)>>8&16777215;m.add(ot)}w+=4}const H=new Array(m.size),et=m.values();for(w=0;w<H.length;++w)H[w]=et.next().value;H.sort((ot,ut)=>ot-ut);let it=H.length;return j&&++it,{colors:H,usesTransparency:j,indexCount:it}}};var hasRequiredGifutil,hasRequiredGifcodec;function requireGifutil(){return hasRequiredGifutil||(hasRequiredGifutil=1,function(d){const m=require$$0,g=imageQ,w=bitmapimage,{GifFrame:j}=gifframe,{GifError:H}=gif$1,{GifCodec:et}=requireGifcodec(),it=[".jpg",".jpeg",".png",".bmp"],ot=new et;function ut(ft,dt,St,Tt,Rt){const zt=Array.isArray(ft)?ft:[ft];if(Rt){if(["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"].indexOf(Rt.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${Rt.ditherAlgorithm}'`);Rt.serpentine===void 0&&(Rt.serpentine=!0),Rt.minimumColorDistanceToDither===void 0&&(Rt.minimumColorDistanceToDither=0),Rt.calculateErrorLikeGIMP===void 0&&(Rt.calculateErrorLikeGIMP=!1)}const $t=new g.distance.Euclidean,Ht=new g.palette[dt]($t,St,Tt);let jt;jt=Rt?new g.image.ErrorDiffusionArray($t,g.image.ErrorDiffusionArrayKernel[Rt.ditherAlgorithm],Rt.serpentine,Rt.minimumColorDistanceToDither,Rt.calculateErrorLikeGIMP):new g.image.NearestColor($t);const Ft=[];zt.forEach(Yt=>{const ne=Yt.bitmap.data,Kt=new ArrayBuffer(ne.length),re=new Uint32Array(Kt);for(let oe=0,Ut=0;oe<ne.length;oe+=4,++Ut)re[Ut]=ne.readUInt32LE(oe,!0);const ee=g.utils.PointContainer.fromUint32Array(re,Yt.bitmap.width,Yt.bitmap.height);Ht.sample(ee),Ft.push(ee)});const Dt=Ht.quantizeSync();for(let Yt=0;Yt<zt.length;++Yt){const ne=zt[Yt].bitmap.data,Kt=jt.quantizeSync(Ft[Yt],Dt).toUint32Array();for(let re=0,ee=0;re<ne.length;re+=4,++ee)ne.writeUInt32LE(Kt[ee],re)}}d.cloneFrames=function(ft){let dt=[];return ft.forEach(St=>{dt.push(new j(St))}),dt},d.getColorInfo=function(ft,dt){let St=!1;const Tt=[];for(let jt=0;jt<ft.length;++jt){let Ft=ft[jt].getPalette();if(Ft.usesTransparency&&(St=!0),Ft.indexCount>256)throw new H(`Frame ${jt} uses more than 256 color indexes`);Tt.push(Ft)}if(dt===0)return{usesTransparency:St,palettes:Tt};const Rt=new Set;Tt.forEach(jt=>{jt.colors.forEach(Ft=>{Rt.add(Ft)})});let zt=Rt.size;if(St&&++zt,dt&&zt>dt)return{usesTransparency:St,palettes:Tt};const $t=new Array(Rt.size),Ht=Rt.values();for(let jt=0;jt<$t.length;++jt)$t[jt]=Ht.next().value;return $t.sort((jt,Ft)=>jt-Ft),{colors:$t,indexCount:zt,usesTransparency:St,palettes:Tt}},d.copyAsJimp=function(ft,dt){return d.shareAsJimp(ft,new w(dt))},d.getMaxDimensions=function(ft){let dt=0,St=0;return ft.forEach(Tt=>{const Rt=Tt.xOffset+Tt.bitmap.width;Rt>dt&&(dt=Rt);const zt=Tt.yOffset+Tt.bitmap.height;zt>St&&(St=zt)}),{maxWidth:dt,maxHeight:St}},d.quantizeDekker=function(ft,dt,St){ut(ft,"NeuQuantFloat",dt=dt||256,0,St)},d.quantizeSorokin=function(ft,dt,St,Tt){let Rt;switch(dt=dt||256,St=St||"min-pop"){case"min-pop":Rt=2;break;case"top-pop":Rt=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${St}'`)}ut(ft,"RGBQuant",dt,Rt,Tt)},d.quantizeWu=function(ft,dt,St,Tt){if(dt=dt||256,(St=St||5)<1||St>8)throw new Error("Invalid quantization quality");ut(ft,"WuQuant",dt,St,Tt)},d.read=function(ft,dt){return dt=dt||ot,Buffer.isBuffer(ft)?dt.decodeGif(ft):function(St){return new Promise((Tt,Rt)=>{m.readFile(St,(zt,$t)=>zt?Rt(zt):Tt($t))})}(ft).then(St=>dt.decodeGif(St))},d.shareAsJimp=function(ft,dt){const St=new ft(dt.bitmap.width,dt.bitmap.height,0);return St.bitmap.data=dt.bitmap.data,St},d.write=function(ft,dt,St,Tt){Tt=Tt||ot;const Rt=ft.match(/\.[a-zA-Z]+$/);if(Rt!==null&&it.includes(Rt[0].toLowerCase()))throw new Error(`GIF '${ft}' has an unexpected suffix`);return Tt.encodeGif(dt,St).then(zt=>function($t,Ht){return new Promise((jt,Ft)=>{m.writeFile($t,Ht,Dt=>Dt?Ft(Dt):jt())})}(ft,zt.buffer).then(()=>zt))}}(gifutil)),gifutil}function requireGifcodec(){if(hasRequiredGifcodec)return gifcodec;hasRequiredGifcodec=1;const d=omggif,{Gif:m,GifError:g}=gif$1;function w(){const dt=requireGifutil();return w=function(){return dt},dt}const{GifFrame:j}=gifframe;function H(dt,St){const Tt=dt.indexOf(St);return Tt===-1?null:Tt}function et(dt,St){for(var Tt,Rt=0,zt=dt.length-1;Rt<=zt;)if(dt[Tt=Math.floor((Rt+zt)/2)]>St)zt=Tt-1;else{if(!(dt[Tt]<St))return Tt;Rt=Tt+1}return null}function it(dt){const St=dt.colors;dt.usesTransparency&&St.push(0);const Tt=St.length;let Rt=2;for(;Tt>Rt;)Rt<<=1;St.length=Rt,St.fill(0,Tt)}function ot(dt,St){let Tt=dt.bitmap.width*dt.bitmap.height;return Tt=Math.ceil(Tt*St/8),Tt+=Math.ceil(Tt/255),100+Tt+768}function ut(dt){let St=dt.indexCount,Tt=0;for(--St;St;)++Tt,St>>=1;return Tt>0?Tt:1}function ft(dt,St,Tt,Rt,zt){if(Tt.interlaced)throw new g("writing interlaced GIFs is not supported");const $t=function(jt,Ft,Dt){const Yt=Dt.colors,ne=Yt.length<=8?H:et,Kt=Ft.bitmap.data,re=new Buffer(Kt.length/4);let ee=Yt.length,oe=0,Ut=0;for(;oe<Kt.length;){if(Kt[oe+3]!==0){const ie=Kt.readUInt32BE(oe,!0)>>8&16777215;re[Ut]=ne(Yt,ie)}else re[Ut]=ee;oe+=4,++Ut}if(Dt.usesTransparency){if(ee===256)throw new g(`Frame ${jt} already has 256 colorsand so can't use transparency`)}else ee=null;return{buffer:re,transparentIndex:ee}}(St,Tt,Rt),Ht={delay:Tt.delayCentisecs,disposal:Tt.disposalMethod,transparent:$t.transparentIndex};zt&&(it(Rt),Ht.palette=Rt.colors);try{let jt,Ft=dt.getOutputBuffer(),Dt=dt.getOutputBufferPosition(),Yt=!0;for(;Yt;)if(jt=dt.addFrame(Tt.xOffset,Tt.yOffset,Tt.bitmap.width,Tt.bitmap.height,$t.buffer,Ht),Yt=!1,jt>=Ft.length-1){const ne=new Buffer(1.5*Ft.length);Ft.copy(ne),dt.setOutputBuffer(ne),dt.setOutputBufferPosition(Dt),Ft=ne,Yt=!0}return Ft}catch(jt){throw new g(jt)}}return gifcodec.GifCodec=class{constructor(dt={}){this._transparentRGB=null,typeof dt.transparentRGB=="number"&&dt.transparentRGB!==0&&(this._transparentRGBA=256*dt.transparentRGB),this._testInitialBufferSize=0}decodeGif(dt){try{let St;try{St=new d.GifReader(dt)}catch($t){throw new g($t)}const Tt=St.numFrames(),Rt=[],zt={width:St.width,height:St.height,loops:St.loopCount(),usesTransparency:!1};for(let $t=0;$t<Tt;++$t){const Ht=this._decodeFrame(St,$t,zt.usesTransparency);Rt.push(Ht.frame),Ht.usesTransparency&&(zt.usesTransparency=!0)}return Promise.resolve(new m(dt,Rt,zt))}catch(St){return Promise.reject(St)}}encodeGif(dt,St={}){try{if(dt===null||dt.length===0)throw new g("there are no frames");const Tt=w().getMaxDimensions(dt);return(St=Object.assign({},St)).width=Tt.maxWidth,St.height=Tt.maxHeight,St.loops===void 0&&(St.loops=0),St.colorScope=St.colorScope||m.GlobalColorsPreferred,Promise.resolve(this._encodeGif(dt,St))}catch(Tt){return Promise.reject(Tt)}}_decodeFrame(dt,St,Tt){let Rt,zt;try{if(Rt=dt.frameInfo(St),zt=new Buffer(dt.width*dt.height*4),dt.decodeAndBlitFrameRGBA(St,zt),Rt.width!==dt.width||Rt.height!==dt.height){if(Rt.y&&(zt=zt.slice(Rt.y*dt.width*4)),dt.width>Rt.width)for(let Ht=0;Ht<Rt.height;++Ht)zt.copy(zt,Ht*Rt.width*4,4*(Rt.x+Ht*dt.width),4*(Rt.x+Ht*dt.width)+4*Rt.width);zt=zt.slice(0,Rt.width*Rt.height*4)}}catch(Ht){throw new g(Ht)}let $t=!1;if(this._transparentRGBA===null){if(!Tt)for(let Ht=3;Ht<zt.length;Ht+=4)zt[Ht]===0&&($t=!0,Ht=zt.length)}else for(let Ht=3;Ht<zt.length;Ht+=4)zt[Ht]===0&&(zt.writeUInt32BE(this._transparentRGBA,Ht-3),$t=!0);return{frame:new j(Rt.width,Rt.height,zt,{xOffset:Rt.x,yOffset:Rt.y,disposalMethod:Rt.disposal,interlaced:Rt.interlaced,delayCentisecs:Rt.delay}),usesTransparency:$t}}_encodeGif(dt,St){let Tt;if(St.colorScope===m.LocalColorsOnly)Tt=w().getColorInfo(dt,0);else if(Tt=w().getColorInfo(dt,256),!Tt.colors){if(St.colorScope===m.GlobalColorsOnly)throw new g("Too many color indexes for global color table");St.colorScope=m.LocalColorsOnly}St.usesTransparency=Tt.usesTransparency;const Rt=Tt.palettes;return St.colorScope===m.LocalColorsOnly?function(zt,$t,Ht,jt){const Ft={loop:$t.loops};let Dt,Yt=new Buffer(Ht);try{Dt=new d.GifWriter(Yt,$t.width,$t.height,Ft)}catch(ne){throw new g(ne)}for(let ne=0;ne<zt.length;++ne)Yt=ft(Dt,ne,zt[ne],jt[ne],!0);return new m(Yt.slice(0,Dt.end()),zt,$t)}(dt,St,2e3,Rt):function(zt,$t,Ht,jt){const Ft={colors:jt.colors.slice(),usesTransparency:jt.usesTransparency};it(Ft);const Dt={palette:Ft.colors,loop:$t.loops};let Yt,ne=new Buffer(Ht);try{Yt=new d.GifWriter(ne,$t.width,$t.height,Dt)}catch(Kt){throw new g(Kt)}for(let Kt=0;Kt<zt.length;++Kt)ne=ft(Yt,Kt,zt[Kt],jt,!1);return new m(ne.slice(0,Yt.end()),zt,$t)}(dt,St,2e3,Tt)}_getSizeEstimateGlobal(dt,St){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let Tt=968;const Rt=ut(dt);return St.forEach(zt=>{Tt+=ot(zt,Rt)}),Tt}_getSizeEstimateLocal(dt,St){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let Tt=200;for(let Rt=0;Rt<St.length;++Rt){const zt=ut(dt[Rt]);Tt+=ot(St[Rt],zt)}return Tt}},gifcodec}GifFrame$1.DisposeToAnything=0,GifFrame$1.DisposeNothing=1,GifFrame$1.DisposeToBackgroundColor=2,GifFrame$1.DisposeToPrevious=3,gifframe.GifFrame=GifFrame$1;const BitmapImage=bitmapimage,{Gif,GifError:GifError$1}=gif$1,{GifCodec}=requireGifcodec(),{GifFrame}=gifframe,GifUtil=requireGifutil();var src={BitmapImage,Gif,GifCodec,GifFrame,GifUtil,GifError:GifError$1};function gif(){return{mime:"image/gif",encode:async d=>{const m=new src.BitmapImage(d);src.GifUtil.quantizeDekker(m,256);const g=new src.GifFrame(d);return(await new src.GifCodec().encodeGif([g],{})).buffer},decode:d=>{const m=new omggif.GifReader(d),g=Buffer.alloc(m.width*m.height*4);return m.decodeAndBlitFrameRGBA(0,g),{data:g,width:m.width,height:m.height}}}}var encoder={exports:{}};(function(d){function m(g){var w,j,H,et,it,ot=Math.floor,ut=new Array(64),ft=new Array(64),dt=new Array(64),St=new Array(64),Tt=new Array(65535),Rt=new Array(65535),zt=new Array(64),$t=new Array(64),Ht=[],jt=0,Ft=7,Dt=new Array(64),Yt=new Array(64),ne=new Array(64),Kt=new Array(256),re=new Array(2048),ee=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],oe=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Ut=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ge=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ce=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],le=[0,1,2,3,4,5,6,7,8,9,10,11],de=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ve(Pe,Ee){for(var Se=0,Ne=0,Fe=new Array,Oe=1;Oe<=16;Oe++){for(var Ce=1;Ce<=Pe[Oe];Ce++)Fe[Ee[Ne]]=[],Fe[Ee[Ne]][0]=Se,Fe[Ee[Ne]][1]=Oe,Ne++,Se++;Se*=2}return Fe}function ye(Pe){for(var Ee=Pe[0],Se=Pe[1]-1;Se>=0;)Ee&1<<Se&&(jt|=1<<Ft),Se--,--Ft<0&&(jt==255?(Me(255),Me(0)):Me(jt),Ft=7,jt=0)}function Me(Pe){Ht.push(Pe)}function ue(Pe){Me(Pe>>8&255),Me(255&Pe)}function xe(Pe,Ee,Se,Ne,Fe){for(var Oe,Ce=Fe[0],Jt=Fe[240],Te=function(be,De){var je,er,ir,Xe,ar,rr,_r,dr,hr,kr,cr=0;for(hr=0;hr<8;++hr){je=be[cr],er=be[cr+1],ir=be[cr+2],Xe=be[cr+3],ar=be[cr+4],rr=be[cr+5],_r=be[cr+6];var ze=je+(dr=be[cr+7]),nr=je-dr,Le=er+_r,Qe=er-_r,ke=ir+rr,tr=ir-rr,br=Xe+ar,se=Xe-ar,Ve=ze+br,Ze=ze-br,$e=Le+ke,We=Le-ke;be[cr]=Ve+$e,be[cr+4]=Ve-$e;var qe=.707106781*(We+Ze);be[cr+2]=Ze+qe,be[cr+6]=Ze-qe;var gr=.382683433*((Ve=se+tr)-(We=Qe+nr)),fr=.5411961*Ve+gr,pr=1.306562965*We+gr,Ir=.707106781*($e=tr+Qe),Xr=nr+Ir,Ar=nr-Ir;be[cr+5]=Ar+fr,be[cr+3]=Ar-fr,be[cr+1]=Xr+pr,be[cr+7]=Xr-pr,cr+=8}for(cr=0,hr=0;hr<8;++hr){je=be[cr],er=be[cr+8],ir=be[cr+16],Xe=be[cr+24],ar=be[cr+32],rr=be[cr+40],_r=be[cr+48];var Nr=je+(dr=be[cr+56]),Br=je-dr,$r=er+_r,xn=er-_r,An=ir+rr,Fr=ir-rr,rn=Xe+ar,gn=Xe-ar,Zr=Nr+rn,Wr=Nr-rn,Lr=$r+An,Yn=$r-An;be[cr]=Zr+Lr,be[cr+32]=Zr-Lr;var Yi=.707106781*(Yn+Wr);be[cr+16]=Wr+Yi,be[cr+48]=Wr-Yi;var Ki=.382683433*((Zr=gn+Fr)-(Yn=xn+Br)),Xi=.5411961*Zr+Ki,Ji=1.306562965*Yn+Ki,Ba=.707106781*(Lr=Fr+xn),za=Br+Ba,Ur=Br-Ba;be[cr+40]=Ur+Xi,be[cr+24]=Ur-Xi,be[cr+8]=za+Ji,be[cr+56]=za-Ji,cr++}for(hr=0;hr<64;++hr)kr=be[hr]*De[hr],zt[hr]=kr>0?kr+.5|0:kr-.5|0;return zt}(Pe,Ee),he=0;he<64;++he)$t[ee[he]]=Te[he];var me=$t[0]-Se;Se=$t[0],me==0?ye(Ne[0]):(ye(Ne[Rt[Oe=32767+me]]),ye(Tt[Oe]));for(var pe=63;pe>0&&$t[pe]==0;pe--);if(pe==0)return ye(Ce),Se;for(var we,Re=1;Re<=pe;){for(var Zt=Re;$t[Re]==0&&Re<=pe;++Re);var ae=Re-Zt;if(ae>=16){we=ae>>4;for(var _e=1;_e<=we;++_e)ye(Jt);ae&=15}Oe=32767+$t[Re],ye(Fe[(ae<<4)+Rt[Oe]]),ye(Tt[Oe]),Re++}return pe!=63&&ye(Ce),Se}function Be(Pe){Pe<=0&&(Pe=1),Pe>100&&(Pe=100),it!=Pe&&(function(Ee){for(var Se=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ne=0;Ne<64;Ne++){var Fe=ot((Se[Ne]*Ee+50)/100);Fe<1?Fe=1:Fe>255&&(Fe=255),ut[ee[Ne]]=Fe}for(var Oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ce=0;Ce<64;Ce++){var Jt=ot((Oe[Ce]*Ee+50)/100);Jt<1?Jt=1:Jt>255&&(Jt=255),ft[ee[Ce]]=Jt}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],he=0,me=0;me<8;me++)for(var pe=0;pe<8;pe++)dt[he]=1/(ut[ee[he]]*Te[me]*Te[pe]*8),St[he]=1/(ft[ee[he]]*Te[me]*Te[pe]*8),he++}(Pe<50?Math.floor(5e3/Pe):Math.floor(200-2*Pe)),it=Pe)}this.encode=function(Pe,Ee){var Se;new Date().getTime(),Ee&&Be(Ee),Ht=new Array,jt=0,Ft=7,ue(65496),ue(65504),ue(16),Me(74),Me(70),Me(73),Me(70),Me(0),Me(1),Me(1),Me(0),ue(1),ue(1),Me(0),Me(0),(Se=Pe.comments)!==void 0&&Se.constructor===Array&&Se.forEach(ir=>{if(typeof ir=="string"){ue(65534);var Xe,ar=ir.length;for(ue(ar+2),Xe=0;Xe<ar;Xe++)Me(ir.charCodeAt(Xe))}}),function(ir){if(ir){ue(65505),ir[0]===69&&ir[1]===120&&ir[2]===105&&ir[3]===102?ue(ir.length+2):(ue(ir.length+5+2),Me(69),Me(120),Me(105),Me(102),Me(0));for(var Xe=0;Xe<ir.length;Xe++)Me(ir[Xe])}}(Pe.exifBuffer),function(){ue(65499),ue(132),Me(0);for(var ir=0;ir<64;ir++)Me(ut[ir]);Me(1);for(var Xe=0;Xe<64;Xe++)Me(ft[Xe])}(),function(ir,Xe){ue(65472),ue(17),Me(8),ue(Xe),ue(ir),Me(3),Me(1),Me(17),Me(0),Me(2),Me(17),Me(1),Me(3),Me(17),Me(1)}(Pe.width,Pe.height),function(){ue(65476),ue(418),Me(0);for(var ir=0;ir<16;ir++)Me(oe[ir+1]);for(var Xe=0;Xe<=11;Xe++)Me(Ut[Xe]);Me(16);for(var ar=0;ar<16;ar++)Me(ie[ar+1]);for(var rr=0;rr<=161;rr++)Me(ge[rr]);Me(1);for(var _r=0;_r<16;_r++)Me(ce[_r+1]);for(var dr=0;dr<=11;dr++)Me(le[dr]);Me(17);for(var hr=0;hr<16;hr++)Me(de[hr+1]);for(var kr=0;kr<=161;kr++)Me(Ae[kr])}(),ue(65498),ue(12),Me(3),Me(1),Me(0),Me(2),Me(17),Me(3),Me(17),Me(0),Me(63),Me(0);var Ne=0,Fe=0,Oe=0;jt=0,Ft=7,this.encode.displayName="_encode_";for(var Ce,Jt,Te,he,me,pe,we,Re,Zt,ae=Pe.data,_e=Pe.width,be=Pe.height,De=4*_e,je=0;je<be;){for(Ce=0;Ce<De;){for(pe=me=De*je+Ce,we=-1,Re=0,Zt=0;Zt<64;Zt++)pe=me+(Re=Zt>>3)*De+(we=4*(7&Zt)),je+Re>=be&&(pe-=De*(je+1+Re-be)),Ce+we>=De&&(pe-=Ce+we-De+4),Jt=ae[pe++],Te=ae[pe++],he=ae[pe++],Dt[Zt]=(re[Jt]+re[Te+256|0]+re[he+512|0]>>16)-128,Yt[Zt]=(re[Jt+768|0]+re[Te+1024|0]+re[he+1280|0]>>16)-128,ne[Zt]=(re[Jt+1280|0]+re[Te+1536|0]+re[he+1792|0]>>16)-128;Ne=xe(Dt,dt,Ne,w,H),Fe=xe(Yt,St,Fe,j,et),Oe=xe(ne,St,Oe,j,et),Ce+=32}je+=8}if(Ft>=0){var er=[];er[1]=Ft+1,er[0]=(1<<Ft+1)-1,ye(er)}return ue(65497),Buffer.from(Ht)},new Date().getTime(),g||(g=50),function(){for(var Pe=String.fromCharCode,Ee=0;Ee<256;Ee++)Kt[Ee]=Pe(Ee)}(),w=ve(oe,Ut),j=ve(ce,le),H=ve(ie,ge),et=ve(de,Ae),function(){for(var Pe=1,Ee=2,Se=1;Se<=15;Se++){for(var Ne=Pe;Ne<Ee;Ne++)Rt[32767+Ne]=Se,Tt[32767+Ne]=[],Tt[32767+Ne][1]=Se,Tt[32767+Ne][0]=Ne;for(var Fe=-(Ee-1);Fe<=-Pe;Fe++)Rt[32767+Fe]=Se,Tt[32767+Fe]=[],Tt[32767+Fe][1]=Se,Tt[32767+Fe][0]=Ee-1+Fe;Pe<<=1,Ee<<=1}}(),function(){for(var Pe=0;Pe<256;Pe++)re[Pe]=19595*Pe,re[Pe+256|0]=38470*Pe,re[Pe+512|0]=7471*Pe+32768,re[Pe+768|0]=-11059*Pe,re[Pe+1024|0]=-21709*Pe,re[Pe+1280|0]=32768*Pe+8421375,re[Pe+1536|0]=-27439*Pe,re[Pe+1792|0]=-5329*Pe}(),Be(g),new Date().getTime()}encoder.exports=function(g,w){w===void 0&&(w=50);var j=new m(w),H=j.encode(g,w);return{data:H,width:g.width,height:g.height}}})();var encoderExports=encoder.exports,decoder={exports:{}},module,JpegImage;module=decoder,JpegImage=function(){var d=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),m=4017,g=799,w=3406,j=2276,H=1567,et=3784,it=5793,ot=2896;function ut(){}function ft(Ht,jt){for(var Ft,Dt,Yt=0,ne=[],Kt=16;Kt>0&&!Ht[Kt-1];)Kt--;ne.push({children:[],index:0});var re,ee=ne[0];for(Ft=0;Ft<Kt;Ft++){for(Dt=0;Dt<Ht[Ft];Dt++){for((ee=ne.pop()).children[ee.index]=jt[Yt];ee.index>0;){if(ne.length===0)throw new Error("Could not recreate Huffman Table");ee=ne.pop()}for(ee.index++,ne.push(ee);ne.length<=Ft;)ne.push(re={children:[],index:0}),ee.children[ee.index]=re.children,ee=re;Yt++}Ft+1<Kt&&(ne.push(re={children:[],index:0}),ee.children[ee.index]=re.children,ee=re)}return ne[0].children}function dt(Ht,jt,Ft,Dt,Yt,ne,Kt,re,ee,oe){Ft.precision,Ft.samplesPerLine,Ft.scanLines;var Ut=Ft.mcusPerLine,ie=Ft.progressive;Ft.maxH,Ft.maxV;var ge=jt,ce=0,le=0;function de(){if(le>0)return le--,ce>>le&1;if((ce=Ht[jt++])==255){var Re=Ht[jt++];if(Re)throw new Error("unexpected marker: "+(ce<<8|Re).toString(16))}return le=7,ce>>>7}function Ae(Re){for(var Zt,ae=Re;(Zt=de())!==null;){if(typeof(ae=ae[Zt])=="number")return ae;if(typeof ae!="object")throw new Error("invalid huffman sequence")}return null}function ve(Re){for(var Zt=0;Re>0;){var ae=de();if(ae===null)return;Zt=Zt<<1|ae,Re--}return Zt}function ye(Re){var Zt=ve(Re);return Zt>=1<<Re-1?Zt:Zt+(-1<<Re)+1}var Me,ue=0,xe=0;function Be(Re,Zt,ae,_e,be){var De=ae%Ut,je=(ae/Ut|0)*Re.v+_e,er=De*Re.h+be;Re.blocks[je]===void 0&&oe.tolerantDecoding||Zt(Re,Re.blocks[je][er])}function Pe(Re,Zt,ae){var _e=ae/Re.blocksPerLine|0,be=ae%Re.blocksPerLine;Re.blocks[_e]===void 0&&oe.tolerantDecoding||Zt(Re,Re.blocks[_e][be])}var Ee,Se,Ne,Fe,Oe,Ce,Jt=Dt.length;Ce=ie?ne===0?re===0?function(Re,Zt){var ae=Ae(Re.huffmanTableDC),_e=ae===0?0:ye(ae)<<ee;Zt[0]=Re.pred+=_e}:function(Re,Zt){Zt[0]|=de()<<ee}:re===0?function(Re,Zt){if(ue>0)ue--;else for(var ae=ne,_e=Kt;ae<=_e;){var be=Ae(Re.huffmanTableAC),De=15&be,je=be>>4;if(De!==0)Zt[d[ae+=je]]=ye(De)*(1<<ee),ae++;else{if(je<15){ue=ve(je)+(1<<je)-1;break}ae+=16}}}:function(Re,Zt){for(var ae=ne,_e=Kt,be=0;ae<=_e;){var De=d[ae],je=Zt[De]<0?-1:1;switch(xe){case 0:var er=Ae(Re.huffmanTableAC),ir=15&er;if(be=er>>4,ir===0)be<15?(ue=ve(be)+(1<<be),xe=4):(be=16,xe=1);else{if(ir!==1)throw new Error("invalid ACn encoding");Me=ye(ir),xe=be?2:3}continue;case 1:case 2:Zt[De]?Zt[De]+=(de()<<ee)*je:--be==0&&(xe=xe==2?3:0);break;case 3:Zt[De]?Zt[De]+=(de()<<ee)*je:(Zt[De]=Me<<ee,xe=0);break;case 4:Zt[De]&&(Zt[De]+=(de()<<ee)*je)}ae++}xe===4&&--ue==0&&(xe=0)}:function(Re,Zt){var ae=Ae(Re.huffmanTableDC),_e=ae===0?0:ye(ae);Zt[0]=Re.pred+=_e;for(var be=1;be<64;){var De=Ae(Re.huffmanTableAC),je=15&De,er=De>>4;if(je!==0)Zt[d[be+=er]]=ye(je),be++;else{if(er<15)break;be+=16}}};var Te,he,me,pe,we=0;for(he=Jt==1?Dt[0].blocksPerLine*Dt[0].blocksPerColumn:Ut*Ft.mcusPerColumn,Yt||(Yt=he);we<he;){for(Se=0;Se<Jt;Se++)Dt[Se].pred=0;if(ue=0,Jt==1)for(Ee=Dt[0],Oe=0;Oe<Yt;Oe++)Pe(Ee,Ce,we),we++;else for(Oe=0;Oe<Yt;Oe++){for(Se=0;Se<Jt;Se++)for(me=(Ee=Dt[Se]).h,pe=Ee.v,Ne=0;Ne<pe;Ne++)for(Fe=0;Fe<me;Fe++)Be(Ee,Ce,we,Ne,Fe);if(++we===he)break}if(we===he)do{if(Ht[jt]===255&&Ht[jt+1]!==0)break;jt+=1}while(jt<Ht.length-2);if(le=0,(Te=Ht[jt]<<8|Ht[jt+1])<65280)throw new Error("marker was not found");if(!(Te>=65488&&Te<=65495))break;jt+=2}return jt-ge}function St(Ht,jt){var Ft,Dt,Yt=[],ne=jt.blocksPerLine,Kt=jt.blocksPerColumn,re=ne<<3,ee=new Int32Array(64),oe=new Uint8Array(64);function Ut(ve,ye,Me){var ue,xe,Be,Pe,Ee,Se,Ne,Fe,Oe,Ce,Jt=jt.quantizationTable,Te=Me;for(Ce=0;Ce<64;Ce++)Te[Ce]=ve[Ce]*Jt[Ce];for(Ce=0;Ce<8;++Ce){var he=8*Ce;Te[1+he]!=0||Te[2+he]!=0||Te[3+he]!=0||Te[4+he]!=0||Te[5+he]!=0||Te[6+he]!=0||Te[7+he]!=0?(ue=it*Te[0+he]+128>>8,xe=it*Te[4+he]+128>>8,Be=Te[2+he],Pe=Te[6+he],Ee=ot*(Te[1+he]-Te[7+he])+128>>8,Fe=ot*(Te[1+he]+Te[7+he])+128>>8,Se=Te[3+he]<<4,Ne=Te[5+he]<<4,Oe=ue-xe+1>>1,ue=ue+xe+1>>1,xe=Oe,Oe=Be*et+Pe*H+128>>8,Be=Be*H-Pe*et+128>>8,Pe=Oe,Oe=Ee-Ne+1>>1,Ee=Ee+Ne+1>>1,Ne=Oe,Oe=Fe+Se+1>>1,Se=Fe-Se+1>>1,Fe=Oe,Oe=ue-Pe+1>>1,ue=ue+Pe+1>>1,Pe=Oe,Oe=xe-Be+1>>1,xe=xe+Be+1>>1,Be=Oe,Oe=Ee*j+Fe*w+2048>>12,Ee=Ee*w-Fe*j+2048>>12,Fe=Oe,Oe=Se*g+Ne*m+2048>>12,Se=Se*m-Ne*g+2048>>12,Ne=Oe,Te[0+he]=ue+Fe,Te[7+he]=ue-Fe,Te[1+he]=xe+Ne,Te[6+he]=xe-Ne,Te[2+he]=Be+Se,Te[5+he]=Be-Se,Te[3+he]=Pe+Ee,Te[4+he]=Pe-Ee):(Oe=it*Te[0+he]+512>>10,Te[0+he]=Oe,Te[1+he]=Oe,Te[2+he]=Oe,Te[3+he]=Oe,Te[4+he]=Oe,Te[5+he]=Oe,Te[6+he]=Oe,Te[7+he]=Oe)}for(Ce=0;Ce<8;++Ce){var me=Ce;Te[8+me]!=0||Te[16+me]!=0||Te[24+me]!=0||Te[32+me]!=0||Te[40+me]!=0||Te[48+me]!=0||Te[56+me]!=0?(ue=it*Te[0+me]+2048>>12,xe=it*Te[32+me]+2048>>12,Be=Te[16+me],Pe=Te[48+me],Ee=ot*(Te[8+me]-Te[56+me])+2048>>12,Fe=ot*(Te[8+me]+Te[56+me])+2048>>12,Se=Te[24+me],Ne=Te[40+me],Oe=ue-xe+1>>1,ue=ue+xe+1>>1,xe=Oe,Oe=Be*et+Pe*H+2048>>12,Be=Be*H-Pe*et+2048>>12,Pe=Oe,Oe=Ee-Ne+1>>1,Ee=Ee+Ne+1>>1,Ne=Oe,Oe=Fe+Se+1>>1,Se=Fe-Se+1>>1,Fe=Oe,Oe=ue-Pe+1>>1,ue=ue+Pe+1>>1,Pe=Oe,Oe=xe-Be+1>>1,xe=xe+Be+1>>1,Be=Oe,Oe=Ee*j+Fe*w+2048>>12,Ee=Ee*w-Fe*j+2048>>12,Fe=Oe,Oe=Se*g+Ne*m+2048>>12,Se=Se*m-Ne*g+2048>>12,Ne=Oe,Te[0+me]=ue+Fe,Te[56+me]=ue-Fe,Te[8+me]=xe+Ne,Te[48+me]=xe-Ne,Te[16+me]=Be+Se,Te[40+me]=Be-Se,Te[24+me]=Pe+Ee,Te[32+me]=Pe-Ee):(Oe=it*Me[Ce+0]+8192>>14,Te[0+me]=Oe,Te[8+me]=Oe,Te[16+me]=Oe,Te[24+me]=Oe,Te[32+me]=Oe,Te[40+me]=Oe,Te[48+me]=Oe,Te[56+me]=Oe)}for(Ce=0;Ce<64;++Ce){var pe=128+(Te[Ce]+8>>4);ye[Ce]=pe<0?0:pe>255?255:pe}}$t(re*Kt*8);for(var ie=0;ie<Kt;ie++){var ge=ie<<3;for(Ft=0;Ft<8;Ft++)Yt.push(new Uint8Array(re));for(var ce=0;ce<ne;ce++){Ut(jt.blocks[ie][ce],oe,ee);var le=0,de=ce<<3;for(Dt=0;Dt<8;Dt++){var Ae=Yt[ge+Dt];for(Ft=0;Ft<8;Ft++)Ae[de+Ft]=oe[le++]}}}return Yt}function Tt(Ht){return Ht<0?0:Ht>255?255:Ht}ut.prototype={load:function(Ht){var jt=new XMLHttpRequest;jt.open("GET",Ht,!0),jt.responseType="arraybuffer",jt.onload=(function(){var Ft=new Uint8Array(jt.response||jt.mozResponseArrayBuffer);this.parse(Ft),this.onload&&this.onload()}).bind(this),jt.send(null)},parse:function(Ht){var jt=1e3*this.opts.maxResolutionInMP*1e3,Ft=0;function Dt(){var Xe=Ht[Ft]<<8|Ht[Ft+1];return Ft+=2,Xe}function Yt(Xe){var ar,rr,_r=1,dr=1;for(rr in Xe.components)Xe.components.hasOwnProperty(rr)&&(_r<(ar=Xe.components[rr]).h&&(_r=ar.h),dr<ar.v&&(dr=ar.v));var hr=Math.ceil(Xe.samplesPerLine/8/_r),kr=Math.ceil(Xe.scanLines/8/dr);for(rr in Xe.components)if(Xe.components.hasOwnProperty(rr)){ar=Xe.components[rr];var cr=Math.ceil(Math.ceil(Xe.samplesPerLine/8)*ar.h/_r),ze=Math.ceil(Math.ceil(Xe.scanLines/8)*ar.v/dr),nr=hr*ar.h,Le=kr*ar.v,Qe=[];$t(Le*nr*256);for(var ke=0;ke<Le;ke++){for(var tr=[],br=0;br<nr;br++)tr.push(new Int32Array(64));Qe.push(tr)}ar.blocksPerLine=cr,ar.blocksPerColumn=ze,ar.blocks=Qe}Xe.maxH=_r,Xe.maxV=dr,Xe.mcusPerLine=hr,Xe.mcusPerColumn=kr}Ht.length;var ne,Kt,re,ee,oe=null,Ut=null,ie=[],ge=[],ce=[],le=[],de=Dt(),Ae=-1;if(this.comments=[],de!=65496)throw new Error("SOI not found");for(de=Dt();de!=65497;){switch(de){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var ve=(re=void 0,ee=void 0,re=Dt(),ee=Ht.subarray(Ft,Ft+re-2),Ft+=ee.length,ee);if(de===65534){var ye=String.fromCharCode.apply(null,ve);this.comments.push(ye)}de===65504&&ve[0]===74&&ve[1]===70&&ve[2]===73&&ve[3]===70&&ve[4]===0&&(oe={version:{major:ve[5],minor:ve[6]},densityUnits:ve[7],xDensity:ve[8]<<8|ve[9],yDensity:ve[10]<<8|ve[11],thumbWidth:ve[12],thumbHeight:ve[13],thumbData:ve.subarray(14,14+3*ve[12]*ve[13])}),de===65505&&ve[0]===69&&ve[1]===120&&ve[2]===105&&ve[3]===102&&ve[4]===0&&(this.exifBuffer=ve.subarray(5,ve.length)),de===65518&&ve[0]===65&&ve[1]===100&&ve[2]===111&&ve[3]===98&&ve[4]===101&&ve[5]===0&&(Ut={version:ve[6],flags0:ve[7]<<8|ve[8],flags1:ve[9]<<8|ve[10],transformCode:ve[11]});break;case 65499:for(var Me=Dt()+Ft-2;Ft<Me;){var ue=Ht[Ft++];$t(256);var xe=new Int32Array(64);if(ue>>4){if(ue>>4!=1)throw new Error("DQT: invalid table spec");for(er=0;er<64;er++)xe[d[er]]=Dt()}else for(er=0;er<64;er++)xe[d[er]]=Ht[Ft++];ie[15&ue]=xe}break;case 65472:case 65473:case 65474:Dt(),(ne={}).extended=de===65473,ne.progressive=de===65474,ne.precision=Ht[Ft++],ne.scanLines=Dt(),ne.samplesPerLine=Dt(),ne.components={},ne.componentsOrder=[];var Be=ne.scanLines*ne.samplesPerLine;if(Be>jt){var Pe=Math.ceil((Be-jt)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${Pe}MP`)}var Ee,Se=Ht[Ft++];for(De=0;De<Se;De++){Ee=Ht[Ft];var Ne=Ht[Ft+1]>>4,Fe=15&Ht[Ft+1],Oe=Ht[Ft+2];if(Ne<=0||Fe<=0)throw new Error("Invalid sampling factor, expected values above 0");ne.componentsOrder.push(Ee),ne.components[Ee]={h:Ne,v:Fe,quantizationIdx:Oe},Ft+=3}Yt(ne),ge.push(ne);break;case 65476:var Ce=Dt();for(De=2;De<Ce;){var Jt=Ht[Ft++],Te=new Uint8Array(16),he=0;for(er=0;er<16;er++,Ft++)he+=Te[er]=Ht[Ft];$t(16+he);var me=new Uint8Array(he);for(er=0;er<he;er++,Ft++)me[er]=Ht[Ft];De+=17+he,(Jt>>4?ce:le)[15&Jt]=ft(Te,me)}break;case 65501:Dt(),Kt=Dt();break;case 65500:Dt(),Dt();break;case 65498:Dt();var pe=Ht[Ft++],we=[];for(De=0;De<pe;De++){ir=ne.components[Ht[Ft++]];var Re=Ht[Ft++];ir.huffmanTableDC=le[Re>>4],ir.huffmanTableAC=ce[15&Re],we.push(ir)}var Zt=Ht[Ft++],ae=Ht[Ft++],_e=Ht[Ft++],be=dt(Ht,Ft,ne,we,Kt,Zt,ae,_e>>4,15&_e,this.opts);Ft+=be;break;case 65535:Ht[Ft]!==255&&Ft--;break;default:if(Ht[Ft-3]==255&&Ht[Ft-2]>=192&&Ht[Ft-2]<=254){Ft-=3;break}if(de===224||de==225){if(Ae!==-1)throw new Error(`first unknown JPEG marker at offset ${Ae.toString(16)}, second unknown JPEG marker ${de.toString(16)} at offset ${(Ft-1).toString(16)}`);Ae=Ft-1;const Xe=Dt();if(Ht[Ft+Xe-2]===255){Ft+=Xe-2;break}}throw new Error("unknown JPEG marker "+de.toString(16))}de=Dt()}if(ge.length!=1)throw new Error("only single frame JPEGs supported");for(var De=0;De<ge.length;De++){var je=ge[De].components;for(var er in je)je[er].quantizationTable=ie[je[er].quantizationIdx],delete je[er].quantizationIdx}for(this.width=ne.samplesPerLine,this.height=ne.scanLines,this.jfif=oe,this.adobe=Ut,this.components=[],De=0;De<ne.componentsOrder.length;De++){var ir=ne.components[ne.componentsOrder[De]];this.components.push({lines:St(0,ir),scaleX:ir.h/ne.maxH,scaleY:ir.v/ne.maxV})}},getData:function(Ht,jt){var Ft,Dt,Yt,ne,Kt,re,ee,oe,Ut,ie,ge,ce,le,de,Ae,ve,ye,Me,ue,xe,Be,Pe=this.width/Ht,Ee=this.height/jt,Se=0,Ne=Ht*jt*this.components.length;$t(Ne);var Fe=new Uint8Array(Ne);switch(this.components.length){case 1:for(Ft=this.components[0],ie=0;ie<jt;ie++)for(Kt=Ft.lines[0|ie*Ft.scaleY*Ee],Ut=0;Ut<Ht;Ut++)ge=Kt[0|Ut*Ft.scaleX*Pe],Fe[Se++]=ge;break;case 2:for(Ft=this.components[0],Dt=this.components[1],ie=0;ie<jt;ie++)for(Kt=Ft.lines[0|ie*Ft.scaleY*Ee],re=Dt.lines[0|ie*Dt.scaleY*Ee],Ut=0;Ut<Ht;Ut++)ge=Kt[0|Ut*Ft.scaleX*Pe],Fe[Se++]=ge,ge=re[0|Ut*Dt.scaleX*Pe],Fe[Se++]=ge;break;case 3:for(Be=!0,this.adobe&&this.adobe.transformCode?Be=!0:this.opts.colorTransform!==void 0&&(Be=!!this.opts.colorTransform),Ft=this.components[0],Dt=this.components[1],Yt=this.components[2],ie=0;ie<jt;ie++)for(Kt=Ft.lines[0|ie*Ft.scaleY*Ee],re=Dt.lines[0|ie*Dt.scaleY*Ee],ee=Yt.lines[0|ie*Yt.scaleY*Ee],Ut=0;Ut<Ht;Ut++)Be?(ge=Kt[0|Ut*Ft.scaleX*Pe],ce=re[0|Ut*Dt.scaleX*Pe],Me=Tt(ge+1.402*((le=ee[0|Ut*Yt.scaleX*Pe])-128)),ue=Tt(ge-.3441363*(ce-128)-.71413636*(le-128)),xe=Tt(ge+1.772*(ce-128))):(Me=Kt[0|Ut*Ft.scaleX*Pe],ue=re[0|Ut*Dt.scaleX*Pe],xe=ee[0|Ut*Yt.scaleX*Pe]),Fe[Se++]=Me,Fe[Se++]=ue,Fe[Se++]=xe;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(Be=!1,this.adobe&&this.adobe.transformCode?Be=!0:this.opts.colorTransform!==void 0&&(Be=!!this.opts.colorTransform),Ft=this.components[0],Dt=this.components[1],Yt=this.components[2],ne=this.components[3],ie=0;ie<jt;ie++)for(Kt=Ft.lines[0|ie*Ft.scaleY*Ee],re=Dt.lines[0|ie*Dt.scaleY*Ee],ee=Yt.lines[0|ie*Yt.scaleY*Ee],oe=ne.lines[0|ie*ne.scaleY*Ee],Ut=0;Ut<Ht;Ut++)Be?(ge=Kt[0|Ut*Ft.scaleX*Pe],ce=re[0|Ut*Dt.scaleX*Pe],le=ee[0|Ut*Yt.scaleX*Pe],de=oe[0|Ut*ne.scaleX*Pe],Ae=255-Tt(ge+1.402*(le-128)),ve=255-Tt(ge-.3441363*(ce-128)-.71413636*(le-128)),ye=255-Tt(ge+1.772*(ce-128))):(Ae=Kt[0|Ut*Ft.scaleX*Pe],ve=re[0|Ut*Dt.scaleX*Pe],ye=ee[0|Ut*Yt.scaleX*Pe],de=oe[0|Ut*ne.scaleX*Pe]),Fe[Se++]=255-Ae,Fe[Se++]=255-ve,Fe[Se++]=255-ye,Fe[Se++]=255-de;break;default:throw new Error("Unsupported color mode")}return Fe},copyToImageData:function(Ht,jt){var Ft,Dt,Yt,ne,Kt,re,ee,oe,Ut,ie=Ht.width,ge=Ht.height,ce=Ht.data,le=this.getData(ie,ge),de=0,Ae=0;switch(this.components.length){case 1:for(Dt=0;Dt<ge;Dt++)for(Ft=0;Ft<ie;Ft++)Yt=le[de++],ce[Ae++]=Yt,ce[Ae++]=Yt,ce[Ae++]=Yt,jt&&(ce[Ae++]=255);break;case 3:for(Dt=0;Dt<ge;Dt++)for(Ft=0;Ft<ie;Ft++)ee=le[de++],oe=le[de++],Ut=le[de++],ce[Ae++]=ee,ce[Ae++]=oe,ce[Ae++]=Ut,jt&&(ce[Ae++]=255);break;case 4:for(Dt=0;Dt<ge;Dt++)for(Ft=0;Ft<ie;Ft++)Kt=le[de++],re=le[de++],Yt=le[de++],ee=255-Tt(Kt*(1-(ne=le[de++])/255)+ne),oe=255-Tt(re*(1-ne/255)+ne),Ut=255-Tt(Yt*(1-ne/255)+ne),ce[Ae++]=ee,ce[Ae++]=oe,ce[Ae++]=Ut,jt&&(ce[Ae++]=255);break;default:throw new Error("Unsupported color mode")}}};var Rt=0,zt=0;function $t(Ht=0){var jt=Rt+Ht;if(jt>zt){var Ft=Math.ceil((jt-zt)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${Ft}MB`)}Rt=jt}return ut.resetMaxMemoryUsage=function(Ht){Rt=0,zt=Ht},ut.getBytesAllocated=function(){return Rt},ut.requestMemoryAllocation=$t,ut}(),module.exports=function(d,m={}){var g={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...m},w=new Uint8Array(d),j=new JpegImage;j.opts=g,JpegImage.resetMaxMemoryUsage(1024*g.maxMemoryUsageInMB*1024),j.parse(w);var H=g.formatAsRGBA?4:3,et=j.width*j.height*H;try{JpegImage.requestMemoryAllocation(et);var it={width:j.width,height:j.height,exifBuffer:j.exifBuffer,data:g.useTArray?new Uint8Array(et):Buffer.alloc(et)};j.comments.length>0&&(it.comments=j.comments)}catch(ot){throw ot instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+et):ot instanceof ReferenceError&&ot.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):ot}return j.copyToImageData(it,g.formatAsRGBA),it};var decoderExports=decoder.exports,encode=encoderExports,decode=decoderExports,jpegJs={encode,decode},JPEG=getDefaultExportFromCjs(jpegJs);function jpeg$2(){return{mime:"image/jpeg",encode:(d,{quality:m=100}={})=>JPEG.encode(d,m).data,decode:(d,m)=>JPEG.decode(d,m)}}function commonjsRequire(d){throw new Error('Could not dynamically require "'+d+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var browser$1={exports:{}};browser$1.exports=function(){function d(m,g,w){function j(it,ot){if(!g[it]){if(!m[it]){var ut=typeof commonjsRequire=="function"&&commonjsRequire;if(!ot&&ut)return ut(it,!0);if(H)return H(it,!0);var ft=new Error("Cannot find module '"+it+"'");throw ft.code="MODULE_NOT_FOUND",ft}var dt=g[it]={exports:{}};m[it][0].call(dt.exports,function(St){return j(m[it][1][St]||St)},dt,dt.exports,d,m,g,w)}return g[it].exports}for(var H=typeof commonjsRequire=="function"&&commonjsRequire,et=0;et<w.length;et++)j(w[et]);return j}return d}()({1:[function(d,m,g){(function(w){(function(){let j=d("./interlace"),H=[function(){},function(ft,dt,St,Tt){if(Tt===dt.length)throw new Error("Ran out of data");let Rt=dt[Tt];ft[St]=Rt,ft[St+1]=Rt,ft[St+2]=Rt,ft[St+3]=255},function(ft,dt,St,Tt){if(Tt+1>=dt.length)throw new Error("Ran out of data");let Rt=dt[Tt];ft[St]=Rt,ft[St+1]=Rt,ft[St+2]=Rt,ft[St+3]=dt[Tt+1]},function(ft,dt,St,Tt){if(Tt+2>=dt.length)throw new Error("Ran out of data");ft[St]=dt[Tt],ft[St+1]=dt[Tt+1],ft[St+2]=dt[Tt+2],ft[St+3]=255},function(ft,dt,St,Tt){if(Tt+3>=dt.length)throw new Error("Ran out of data");ft[St]=dt[Tt],ft[St+1]=dt[Tt+1],ft[St+2]=dt[Tt+2],ft[St+3]=dt[Tt+3]}],et=[function(){},function(ft,dt,St,Tt){let Rt=dt[0];ft[St]=Rt,ft[St+1]=Rt,ft[St+2]=Rt,ft[St+3]=Tt},function(ft,dt,St){let Tt=dt[0];ft[St]=Tt,ft[St+1]=Tt,ft[St+2]=Tt,ft[St+3]=dt[1]},function(ft,dt,St,Tt){ft[St]=dt[0],ft[St+1]=dt[1],ft[St+2]=dt[2],ft[St+3]=Tt},function(ft,dt,St){ft[St]=dt[0],ft[St+1]=dt[1],ft[St+2]=dt[2],ft[St+3]=dt[3]}];function it(ft,dt){let St=[],Tt=0;function Rt(){if(Tt===ft.length)throw new Error("Ran out of data");let zt,$t,Ht,jt,Ft,Dt,Yt,ne,Kt=ft[Tt];switch(Tt++,dt){default:throw new Error("unrecognised depth");case 16:Yt=ft[Tt],Tt++,St.push((Kt<<8)+Yt);break;case 4:Yt=15&Kt,ne=Kt>>4,St.push(ne,Yt);break;case 2:Ft=3&Kt,Dt=Kt>>2&3,Yt=Kt>>4&3,ne=Kt>>6&3,St.push(ne,Yt,Dt,Ft);break;case 1:zt=1&Kt,$t=Kt>>1&1,Ht=Kt>>2&1,jt=Kt>>3&1,Ft=Kt>>4&1,Dt=Kt>>5&1,Yt=Kt>>6&1,ne=Kt>>7&1,St.push(ne,Yt,Dt,Ft,jt,Ht,$t,zt)}}return{get:function(zt){for(;St.length<zt;)Rt();let $t=St.slice(0,zt);return St=St.slice(zt),$t},resetAfterLine:function(){St.length=0},end:function(){if(Tt!==ft.length)throw new Error("extra data found")}}}function ot(ft,dt,St,Tt,Rt,zt){let $t=ft.width,Ht=ft.height,jt=ft.index;for(let Ft=0;Ft<Ht;Ft++)for(let Dt=0;Dt<$t;Dt++){let Yt=St(Dt,Ft,jt);H[Tt](dt,Rt,Yt,zt),zt+=Tt}return zt}function ut(ft,dt,St,Tt,Rt,zt){let $t=ft.width,Ht=ft.height,jt=ft.index;for(let Ft=0;Ft<Ht;Ft++){for(let Dt=0;Dt<$t;Dt++){let Yt=Rt.get(Tt),ne=St(Dt,Ft,jt);et[Tt](dt,Yt,ne,zt)}Rt.resetAfterLine()}}g.dataToBitMap=function(ft,dt){let St,Tt,Rt=dt.width,zt=dt.height,$t=dt.depth,Ht=dt.bpp,jt=dt.interlace;$t!==8&&(St=it(ft,$t)),Tt=$t<=8?w.alloc(Rt*zt*4):new Uint16Array(Rt*zt*4);let Ft,Dt,Yt=Math.pow(2,$t)-1,ne=0;if(jt)Ft=j.getImagePasses(Rt,zt),Dt=j.getInterlaceIterator(Rt,zt);else{let Kt=0;Dt=function(){let re=Kt;return Kt+=4,re},Ft=[{width:Rt,height:zt}]}for(let Kt=0;Kt<Ft.length;Kt++)$t===8?ne=ot(Ft[Kt],Tt,Dt,Ht,ft,ne):ut(Ft[Kt],Tt,Dt,Ht,St,Yt);if($t===8){if(ne!==ft.length)throw new Error("extra data found")}else St.end();return Tt}}).call(this)}).call(this,d("buffer").Buffer)},{"./interlace":11,buffer:32}],2:[function(d,m,g){(function(w){(function(){let j=d("./constants");m.exports=function(H,et,it,ot){let ut=[j.COLORTYPE_COLOR_ALPHA,j.COLORTYPE_ALPHA].indexOf(ot.colorType)!==-1;if(ot.colorType===ot.inputColorType){let Ft=function(){let Dt=new ArrayBuffer(2);return new DataView(Dt).setInt16(0,256,!0),new Int16Array(Dt)[0]!==256}();if(ot.bitDepth===8||ot.bitDepth===16&&Ft)return H}let ft=ot.bitDepth!==16?H:new Uint16Array(H.buffer),dt=255,St=j.COLORTYPE_TO_BPP_MAP[ot.inputColorType];St!==4||ot.inputHasAlpha||(St=3);let Tt=j.COLORTYPE_TO_BPP_MAP[ot.colorType];ot.bitDepth===16&&(dt=65535,Tt*=2);let Rt=w.alloc(et*it*Tt),zt=0,$t=0,Ht=ot.bgColor||{};function jt(){let Ft,Dt,Yt,ne=dt;switch(ot.inputColorType){case j.COLORTYPE_COLOR_ALPHA:ne=ft[zt+3],Ft=ft[zt],Dt=ft[zt+1],Yt=ft[zt+2];break;case j.COLORTYPE_COLOR:Ft=ft[zt],Dt=ft[zt+1],Yt=ft[zt+2];break;case j.COLORTYPE_ALPHA:ne=ft[zt+1],Ft=ft[zt],Dt=Ft,Yt=Ft;break;case j.COLORTYPE_GRAYSCALE:Ft=ft[zt],Dt=Ft,Yt=Ft;break;default:throw new Error("input color type:"+ot.inputColorType+" is not supported at present")}return ot.inputHasAlpha&&(ut||(ne/=dt,Ft=Math.min(Math.max(Math.round((1-ne)*Ht.red+ne*Ft),0),dt),Dt=Math.min(Math.max(Math.round((1-ne)*Ht.green+ne*Dt),0),dt),Yt=Math.min(Math.max(Math.round((1-ne)*Ht.blue+ne*Yt),0),dt))),{red:Ft,green:Dt,blue:Yt,alpha:ne}}Ht.red===void 0&&(Ht.red=dt),Ht.green===void 0&&(Ht.green=dt),Ht.blue===void 0&&(Ht.blue=dt);for(let Ft=0;Ft<it;Ft++)for(let Dt=0;Dt<et;Dt++){let Yt=jt();switch(ot.colorType){case j.COLORTYPE_COLOR_ALPHA:case j.COLORTYPE_COLOR:ot.bitDepth===8?(Rt[$t]=Yt.red,Rt[$t+1]=Yt.green,Rt[$t+2]=Yt.blue,ut&&(Rt[$t+3]=Yt.alpha)):(Rt.writeUInt16BE(Yt.red,$t),Rt.writeUInt16BE(Yt.green,$t+2),Rt.writeUInt16BE(Yt.blue,$t+4),ut&&Rt.writeUInt16BE(Yt.alpha,$t+6));break;case j.COLORTYPE_ALPHA:case j.COLORTYPE_GRAYSCALE:{let ne=(Yt.red+Yt.green+Yt.blue)/3;ot.bitDepth===8?(Rt[$t]=ne,ut&&(Rt[$t+1]=Yt.alpha)):(Rt.writeUInt16BE(ne,$t),ut&&Rt.writeUInt16BE(Yt.alpha,$t+2));break}default:throw new Error("unrecognised color Type "+ot.colorType)}zt+=St,$t+=Tt}return Rt}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,buffer:32}],3:[function(d,m,g){(function(w,j){(function(){let H=d("util"),et=d("stream"),it=m.exports=function(){et.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};H.inherits(it,et),it.prototype.read=function(ot,ut){this._reads.push({length:Math.abs(ot),allowLess:ot<0,func:ut}),w.nextTick((function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},it.prototype.write=function(ot,ut){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let ft;return ft=j.isBuffer(ot)?ot:j.from(ot,ut||this._encoding),this._buffers.push(ft),this._buffered+=ft.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},it.prototype.end=function(ot,ut){ot&&this.write(ot,ut),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},it.prototype.destroySoon=it.prototype.end,it.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},it.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},it.prototype._processReadAllowingLess=function(ot){this._reads.shift();let ut=this._buffers[0];ut.length>ot.length?(this._buffered-=ot.length,this._buffers[0]=ut.slice(ot.length),ot.func.call(this,ut.slice(0,ot.length))):(this._buffered-=ut.length,this._buffers.shift(),ot.func.call(this,ut))},it.prototype._processRead=function(ot){this._reads.shift();let ut=0,ft=0,dt=j.alloc(ot.length);for(;ut<ot.length;){let St=this._buffers[ft++],Tt=Math.min(St.length,ot.length-ut);St.copy(dt,ut,0,Tt),ut+=Tt,Tt!==St.length&&(this._buffers[--ft]=St.slice(Tt))}ft>0&&this._buffers.splice(0,ft),this._buffered-=ot.length,ot.func.call(this,dt)},it.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let ot=this._reads[0];if(ot.allowLess)this._processReadAllowingLess(ot);else{if(!(this._buffered>=ot.length))break;this._processRead(ot)}}this._buffers&&!this.writable&&this._end()}catch(ot){this.emit("error",ot)}}}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,buffer:32,stream:65,util:84}],4:[function(d,m,g){m.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],5:[function(d,m,g){let w=[];(function(){for(let H=0;H<256;H++){let et=H;for(let it=0;it<8;it++)1&et?et=3988292384^et>>>1:et>>>=1;w[H]=et}})();let j=m.exports=function(){this._crc=-1};j.prototype.write=function(H){for(let et=0;et<H.length;et++)this._crc=w[255&(this._crc^H[et])]^this._crc>>>8;return!0},j.prototype.crc32=function(){return~this._crc},j.crc32=function(H){let et=-1;for(let it=0;it<H.length;it++)et=w[255&(et^H[it])]^et>>>8;return~et}},{}],6:[function(d,m,g){(function(w){(function(){let j=d("./paeth-predictor");function H(Ht,jt,Ft,Dt,Yt){for(let ne=0;ne<Ft;ne++)Dt[Yt+ne]=Ht[jt+ne]}function et(Ht,jt,Ft){let Dt=0,Yt=jt+Ft;for(let ne=jt;ne<Yt;ne++)Dt+=Math.abs(Ht[ne]);return Dt}function it(Ht,jt,Ft,Dt,Yt,ne){for(let Kt=0;Kt<Ft;Kt++){let re=Kt>=ne?Ht[jt+Kt-ne]:0,ee=Ht[jt+Kt]-re;Dt[Yt+Kt]=ee}}function ot(Ht,jt,Ft,Dt){let Yt=0;for(let ne=0;ne<Ft;ne++){let Kt=ne>=Dt?Ht[jt+ne-Dt]:0,re=Ht[jt+ne]-Kt;Yt+=Math.abs(re)}return Yt}function ut(Ht,jt,Ft,Dt,Yt){for(let ne=0;ne<Ft;ne++){let Kt=jt>0?Ht[jt+ne-Ft]:0,re=Ht[jt+ne]-Kt;Dt[Yt+ne]=re}}function ft(Ht,jt,Ft){let Dt=0,Yt=jt+Ft;for(let ne=jt;ne<Yt;ne++){let Kt=jt>0?Ht[ne-Ft]:0,re=Ht[ne]-Kt;Dt+=Math.abs(re)}return Dt}function dt(Ht,jt,Ft,Dt,Yt,ne){for(let Kt=0;Kt<Ft;Kt++){let re=Kt>=ne?Ht[jt+Kt-ne]:0,ee=jt>0?Ht[jt+Kt-Ft]:0,oe=Ht[jt+Kt]-(re+ee>>1);Dt[Yt+Kt]=oe}}function St(Ht,jt,Ft,Dt){let Yt=0;for(let ne=0;ne<Ft;ne++){let Kt=ne>=Dt?Ht[jt+ne-Dt]:0,re=jt>0?Ht[jt+ne-Ft]:0,ee=Ht[jt+ne]-(Kt+re>>1);Yt+=Math.abs(ee)}return Yt}function Tt(Ht,jt,Ft,Dt,Yt,ne){for(let Kt=0;Kt<Ft;Kt++){let re=Kt>=ne?Ht[jt+Kt-ne]:0,ee=jt>0?Ht[jt+Kt-Ft]:0,oe=jt>0&&Kt>=ne?Ht[jt+Kt-(Ft+ne)]:0,Ut=Ht[jt+Kt]-j(re,ee,oe);Dt[Yt+Kt]=Ut}}function Rt(Ht,jt,Ft,Dt){let Yt=0;for(let ne=0;ne<Ft;ne++){let Kt=ne>=Dt?Ht[jt+ne-Dt]:0,re=jt>0?Ht[jt+ne-Ft]:0,ee=jt>0&&ne>=Dt?Ht[jt+ne-(Ft+Dt)]:0,oe=Ht[jt+ne]-j(Kt,re,ee);Yt+=Math.abs(oe)}return Yt}let zt={0:H,1:it,2:ut,3:dt,4:Tt},$t={0:et,1:ot,2:ft,3:St,4:Rt};m.exports=function(Ht,jt,Ft,Dt,Yt){let ne;if("filterType"in Dt&&Dt.filterType!==-1){if(typeof Dt.filterType!="number")throw new Error("unrecognised filter types");ne=[Dt.filterType]}else ne=[0,1,2,3,4];Dt.bitDepth===16&&(Yt*=2);let Kt=jt*Yt,re=0,ee=0,oe=w.alloc((Kt+1)*Ft),Ut=ne[0];for(let ie=0;ie<Ft;ie++){if(ne.length>1){let ge=1/0;for(let ce=0;ce<ne.length;ce++){let le=$t[ne[ce]](Ht,ee,Kt,Yt);le<ge&&(Ut=ne[ce],ge=le)}}oe[re]=Ut,re++,zt[Ut](Ht,ee,Kt,oe,re,Yt),re+=Kt,ee+=Kt}return oe}}).call(this)}).call(this,d("buffer").Buffer)},{"./paeth-predictor":15,buffer:32}],7:[function(d,m,g){(function(w){(function(){let j=d("util"),H=d("./chunkstream"),et=d("./filter-parse"),it=m.exports=function(ot){H.call(this);let ut=[],ft=this;this._filter=new et(ot,{read:this.read.bind(this),write:function(dt){ut.push(dt)},complete:function(){ft.emit("complete",w.concat(ut))}}),this._filter.start()};j.inherits(it,H)}).call(this)}).call(this,d("buffer").Buffer)},{"./chunkstream":3,"./filter-parse":9,buffer:32,util:84}],8:[function(d,m,g){(function(w){(function(){let j=d("./sync-reader"),H=d("./filter-parse");g.process=function(et,it){let ot=[],ut=new j(et);return new H(it,{read:ut.read.bind(ut),write:function(ft){ot.push(ft)},complete:function(){}}).start(),ut.process(),w.concat(ot)}}).call(this)}).call(this,d("buffer").Buffer)},{"./filter-parse":9,"./sync-reader":22,buffer:32}],9:[function(d,m,g){(function(w){(function(){let j=d("./interlace"),H=d("./paeth-predictor");function et(ot,ut,ft){let dt=ot*ut;return ft!==8&&(dt=Math.ceil(dt/(8/ft))),dt}let it=m.exports=function(ot,ut){let ft=ot.width,dt=ot.height,St=ot.interlace,Tt=ot.bpp,Rt=ot.depth;if(this.read=ut.read,this.write=ut.write,this.complete=ut.complete,this._imageIndex=0,this._images=[],St){let zt=j.getImagePasses(ft,dt);for(let $t=0;$t<zt.length;$t++)this._images.push({byteWidth:et(zt[$t].width,Tt,Rt),height:zt[$t].height,lineIndex:0})}else this._images.push({byteWidth:et(ft,Tt,Rt),height:dt,lineIndex:0});this._xComparison=Rt===8?Tt:Rt===16?2*Tt:1};it.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},it.prototype._unFilterType1=function(ot,ut,ft){let dt=this._xComparison,St=dt-1;for(let Tt=0;Tt<ft;Tt++){let Rt=ot[1+Tt],zt=Tt>St?ut[Tt-dt]:0;ut[Tt]=Rt+zt}},it.prototype._unFilterType2=function(ot,ut,ft){let dt=this._lastLine;for(let St=0;St<ft;St++){let Tt=ot[1+St],Rt=dt?dt[St]:0;ut[St]=Tt+Rt}},it.prototype._unFilterType3=function(ot,ut,ft){let dt=this._xComparison,St=dt-1,Tt=this._lastLine;for(let Rt=0;Rt<ft;Rt++){let zt=ot[1+Rt],$t=Tt?Tt[Rt]:0,Ht=Rt>St?ut[Rt-dt]:0,jt=Math.floor((Ht+$t)/2);ut[Rt]=zt+jt}},it.prototype._unFilterType4=function(ot,ut,ft){let dt=this._xComparison,St=dt-1,Tt=this._lastLine;for(let Rt=0;Rt<ft;Rt++){let zt=ot[1+Rt],$t=Tt?Tt[Rt]:0,Ht=Rt>St?ut[Rt-dt]:0,jt=Rt>St&&Tt?Tt[Rt-dt]:0,Ft=H(Ht,$t,jt);ut[Rt]=zt+Ft}},it.prototype._reverseFilterLine=function(ot){let ut,ft=ot[0],dt=this._images[this._imageIndex],St=dt.byteWidth;if(ft===0)ut=ot.slice(1,St+1);else switch(ut=w.alloc(St),ft){case 1:this._unFilterType1(ot,ut,St);break;case 2:this._unFilterType2(ot,ut,St);break;case 3:this._unFilterType3(ot,ut,St);break;case 4:this._unFilterType4(ot,ut,St);break;default:throw new Error("Unrecognised filter type - "+ft)}this.write(ut),dt.lineIndex++,dt.lineIndex>=dt.height?(this._lastLine=null,this._imageIndex++,dt=this._images[this._imageIndex]):this._lastLine=ut,dt?this.read(dt.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this)}).call(this,d("buffer").Buffer)},{"./interlace":11,"./paeth-predictor":15,buffer:32}],10:[function(d,m,g){(function(w){(function(){function j(it,ot,ut,ft,dt){let St=0;for(let Tt=0;Tt<ft;Tt++)for(let Rt=0;Rt<ut;Rt++){let zt=dt[it[St]];if(!zt)throw new Error("index "+it[St]+" not in palette");for(let $t=0;$t<4;$t++)ot[St+$t]=zt[$t];St+=4}}function H(it,ot,ut,ft,dt){let St=0;for(let Tt=0;Tt<ft;Tt++)for(let Rt=0;Rt<ut;Rt++){let zt=!1;if(dt.length===1?dt[0]===it[St]&&(zt=!0):dt[0]===it[St]&&dt[1]===it[St+1]&&dt[2]===it[St+2]&&(zt=!0),zt)for(let $t=0;$t<4;$t++)ot[St+$t]=0;St+=4}}function et(it,ot,ut,ft,dt){let St=255,Tt=Math.pow(2,dt)-1,Rt=0;for(let zt=0;zt<ft;zt++)for(let $t=0;$t<ut;$t++){for(let Ht=0;Ht<4;Ht++)ot[Rt+Ht]=Math.floor(it[Rt+Ht]*St/Tt+.5);Rt+=4}}m.exports=function(it,ot,ut=!1){let ft=ot.depth,dt=ot.width,St=ot.height,Tt=ot.colorType,Rt=ot.transColor,zt=ot.palette,$t=it;return Tt===3?j(it,$t,dt,St,zt):(Rt&&H(it,$t,dt,St,Rt),ft===8||ut||(ft===16&&($t=w.alloc(dt*St*4)),et(it,$t,dt,St,ft))),$t}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:32}],11:[function(d,m,g){let w=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];g.getImagePasses=function(j,H){let et=[],it=j%8,ot=H%8,ut=(j-it)/8,ft=(H-ot)/8;for(let dt=0;dt<w.length;dt++){let St=w[dt],Tt=ut*St.x.length,Rt=ft*St.y.length;for(let zt=0;zt<St.x.length&&St.x[zt]<it;zt++)Tt++;for(let zt=0;zt<St.y.length&&St.y[zt]<ot;zt++)Rt++;Tt>0&&Rt>0&&et.push({width:Tt,height:Rt,index:dt})}return et},g.getInterlaceIterator=function(j){return function(H,et,it){let ot=H%w[it].x.length,ut=(H-ot)/w[it].x.length*8+w[it].x[ot],ft=et%w[it].y.length;return 4*ut+((et-ft)/w[it].y.length*8+w[it].y[ft])*j*4}}},{}],12:[function(d,m,g){(function(w){(function(){let j=d("util"),H=d("stream"),et=d("./constants"),it=d("./packer"),ot=m.exports=function(ut){H.call(this);let ft=ut||{};this._packer=new it(ft),this._deflate=this._packer.createDeflate(),this.readable=!0};j.inherits(ot,H),ot.prototype.pack=function(ut,ft,dt,St){this.emit("data",w.from(et.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(ft,dt)),St&&this.emit("data",this._packer.packGAMA(St));let Tt=this._packer.filterData(ut,ft,dt);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(Rt){this.emit("data",this._packer.packIDAT(Rt))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(Tt)}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,stream:65,util:84}],13:[function(d,m,g){(function(w){(function(){let j=!0,H=d("zlib");H.deflateSync||(j=!1);let et=d("./constants"),it=d("./packer");m.exports=function(ot,ut){if(!j)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let ft=new it(ut||{}),dt=[];dt.push(w.from(et.PNG_SIGNATURE)),dt.push(ft.packIHDR(ot.width,ot.height)),ot.gamma&&dt.push(ft.packGAMA(ot.gamma));let St=ft.filterData(ot.data,ot.width,ot.height),Tt=H.deflateSync(St,ft.getDeflateOptions());if(St=null,!Tt||!Tt.length)throw new Error("bad png - invalid compressed data response");return dt.push(ft.packIDAT(Tt)),dt.push(ft.packIEND()),w.concat(dt)}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,zlib:31}],14:[function(d,m,g){(function(w){(function(){let j=d("./constants"),H=d("./crc"),et=d("./bitpacker"),it=d("./filter-pack"),ot=d("zlib"),ut=m.exports=function(ft){if(this._options=ft,ft.deflateChunkSize=ft.deflateChunkSize||32768,ft.deflateLevel=ft.deflateLevel!=null?ft.deflateLevel:9,ft.deflateStrategy=ft.deflateStrategy!=null?ft.deflateStrategy:3,ft.inputHasAlpha=ft.inputHasAlpha==null||ft.inputHasAlpha,ft.deflateFactory=ft.deflateFactory||ot.createDeflate,ft.bitDepth=ft.bitDepth||8,ft.colorType=typeof ft.colorType=="number"?ft.colorType:j.COLORTYPE_COLOR_ALPHA,ft.inputColorType=typeof ft.inputColorType=="number"?ft.inputColorType:j.COLORTYPE_COLOR_ALPHA,[j.COLORTYPE_GRAYSCALE,j.COLORTYPE_COLOR,j.COLORTYPE_COLOR_ALPHA,j.COLORTYPE_ALPHA].indexOf(ft.colorType)===-1)throw new Error("option color type:"+ft.colorType+" is not supported at present");if([j.COLORTYPE_GRAYSCALE,j.COLORTYPE_COLOR,j.COLORTYPE_COLOR_ALPHA,j.COLORTYPE_ALPHA].indexOf(ft.inputColorType)===-1)throw new Error("option input color type:"+ft.inputColorType+" is not supported at present");if(ft.bitDepth!==8&&ft.bitDepth!==16)throw new Error("option bit depth:"+ft.bitDepth+" is not supported at present")};ut.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},ut.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},ut.prototype.filterData=function(ft,dt,St){let Tt=et(ft,dt,St,this._options),Rt=j.COLORTYPE_TO_BPP_MAP[this._options.colorType];return it(Tt,dt,St,this._options,Rt)},ut.prototype._packChunk=function(ft,dt){let St=dt?dt.length:0,Tt=w.alloc(St+12);return Tt.writeUInt32BE(St,0),Tt.writeUInt32BE(ft,4),dt&&dt.copy(Tt,8),Tt.writeInt32BE(H.crc32(Tt.slice(4,Tt.length-4)),Tt.length-4),Tt},ut.prototype.packGAMA=function(ft){let dt=w.alloc(4);return dt.writeUInt32BE(Math.floor(ft*j.GAMMA_DIVISION),0),this._packChunk(j.TYPE_gAMA,dt)},ut.prototype.packIHDR=function(ft,dt){let St=w.alloc(13);return St.writeUInt32BE(ft,0),St.writeUInt32BE(dt,4),St[8]=this._options.bitDepth,St[9]=this._options.colorType,St[10]=0,St[11]=0,St[12]=0,this._packChunk(j.TYPE_IHDR,St)},ut.prototype.packIDAT=function(ft){return this._packChunk(j.TYPE_IDAT,ft)},ut.prototype.packIEND=function(){return this._packChunk(j.TYPE_IEND,null)}}).call(this)}).call(this,d("buffer").Buffer)},{"./bitpacker":2,"./constants":4,"./crc":5,"./filter-pack":6,buffer:32,zlib:31}],15:[function(d,m,g){m.exports=function(w,j,H){let et=w+j-H,it=Math.abs(et-w),ot=Math.abs(et-j),ut=Math.abs(et-H);return it<=ot&&it<=ut?w:ot<=ut?j:H}},{}],16:[function(d,m,g){let w=d("util"),j=d("zlib"),H=d("./chunkstream"),et=d("./filter-parse-async"),it=d("./parser"),ot=d("./bitmapper"),ut=d("./format-normaliser"),ft=m.exports=function(dt){H.call(this),this._parser=new it(dt,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=dt,this.writable=!0,this._parser.start()};w.inherits(ft,H),ft.prototype._handleError=function(dt){this.emit("error",dt),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},ft.prototype._inflateData=function(dt){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=j.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let St=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,Tt=Math.max(St,j.Z_MIN_CHUNK);this._inflate=j.createInflate({chunkSize:Tt});let Rt=St,zt=this.emit.bind(this,"error");this._inflate.on("error",function(Ht){Rt&&zt(Ht)}),this._filter.on("complete",this._complete.bind(this));let $t=this._filter.write.bind(this._filter);this._inflate.on("data",function(Ht){Rt&&(Ht.length>Rt&&(Ht=Ht.slice(0,Rt)),Rt-=Ht.length,$t(Ht))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(dt)},ft.prototype._handleMetaData=function(dt){this._metaData=dt,this._bitmapInfo=Object.create(dt),this._filter=new et(this._bitmapInfo)},ft.prototype._handleTransColor=function(dt){this._bitmapInfo.transColor=dt},ft.prototype._handlePalette=function(dt){this._bitmapInfo.palette=dt},ft.prototype._simpleTransparency=function(){this._metaData.alpha=!0},ft.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},ft.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},ft.prototype._complete=function(dt){if(this.errord)return;let St;try{let Tt=ot.dataToBitMap(dt,this._bitmapInfo);St=ut(Tt,this._bitmapInfo,this._options.skipRescale),Tt=null}catch(Tt){return void this._handleError(Tt)}this.emit("parsed",St)}},{"./bitmapper":1,"./chunkstream":3,"./filter-parse-async":7,"./format-normaliser":10,"./parser":18,util:84,zlib:31}],17:[function(d,m,g){(function(w){(function(){let j=!0,H=d("zlib"),et=d("./sync-inflate");H.deflateSync||(j=!1);let it=d("./sync-reader"),ot=d("./filter-parse-sync"),ut=d("./parser"),ft=d("./bitmapper"),dt=d("./format-normaliser");m.exports=function(St,Tt){if(!j)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let Rt,zt,$t;function Ht(le){Rt=le}function jt(le){zt=le}function Ft(le){zt.transColor=le}function Dt(le){zt.palette=le}function Yt(){zt.alpha=!0}function ne(le){$t=le}let Kt=[];function re(le){Kt.push(le)}let ee=new it(St);if(new ut(Tt,{read:ee.read.bind(ee),error:Ht,metadata:jt,gamma:ne,palette:Dt,transColor:Ft,inflateData:re,simpleTransparency:Yt}).start(),ee.process(),Rt)throw Rt;let oe,Ut=w.concat(Kt);if(Kt.length=0,zt.interlace)oe=H.inflateSync(Ut);else{let le=(1+(zt.width*zt.bpp*zt.depth+7>>3))*zt.height;oe=et(Ut,{chunkSize:le,maxLength:le})}if(Ut=null,!oe||!oe.length)throw new Error("bad png - invalid inflate data response");let ie=ot.process(oe,zt);Ut=null;let ge=ft.dataToBitMap(ie,zt);ie=null;let ce=dt(ge,zt,Tt.skipRescale);return zt.data=ce,zt.gamma=$t||0,zt}}).call(this)}).call(this,d("buffer").Buffer)},{"./bitmapper":1,"./filter-parse-sync":8,"./format-normaliser":10,"./parser":18,"./sync-inflate":21,"./sync-reader":22,buffer:32,zlib:31}],18:[function(d,m,g){(function(w){(function(){let j=d("./constants"),H=d("./crc"),et=m.exports=function(it,ot){this._options=it,it.checkCRC=it.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[j.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[j.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[j.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[j.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[j.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[j.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=ot.read,this.error=ot.error,this.metadata=ot.metadata,this.gamma=ot.gamma,this.transColor=ot.transColor,this.palette=ot.palette,this.parsed=ot.parsed,this.inflateData=ot.inflateData,this.finished=ot.finished,this.simpleTransparency=ot.simpleTransparency,this.headersFinished=ot.headersFinished||function(){}};et.prototype.start=function(){this.read(j.PNG_SIGNATURE.length,this._parseSignature.bind(this))},et.prototype._parseSignature=function(it){let ot=j.PNG_SIGNATURE;for(let ut=0;ut<ot.length;ut++)if(it[ut]!==ot[ut])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},et.prototype._parseChunkBegin=function(it){let ot=it.readUInt32BE(0),ut=it.readUInt32BE(4),ft="";for(let St=4;St<8;St++)ft+=String.fromCharCode(it[St]);let dt=!!(32&it[4]);if(this._hasIHDR||ut===j.TYPE_IHDR){if(this._crc=new H,this._crc.write(w.from(ft)),this._chunks[ut])return this._chunks[ut](ot);dt?this.read(ot+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+ft))}else this.error(new Error("Expected IHDR on beggining"))},et.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},et.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},et.prototype._parseChunkEnd=function(it){let ot=it.readInt32BE(0),ut=this._crc.crc32();this._options.checkCRC&&ut!==ot?this.error(new Error("Crc error - "+ot+" - "+ut)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},et.prototype._handleIHDR=function(it){this.read(it,this._parseIHDR.bind(this))},et.prototype._parseIHDR=function(it){this._crc.write(it);let ot=it.readUInt32BE(0),ut=it.readUInt32BE(4),ft=it[8],dt=it[9],St=it[10],Tt=it[11],Rt=it[12];if(ft!==8&&ft!==4&&ft!==2&&ft!==1&&ft!==16)return void this.error(new Error("Unsupported bit depth "+ft));if(!(dt in j.COLORTYPE_TO_BPP_MAP))return void this.error(new Error("Unsupported color type"));if(St!==0)return void this.error(new Error("Unsupported compression method"));if(Tt!==0)return void this.error(new Error("Unsupported filter method"));if(Rt!==0&&Rt!==1)return void this.error(new Error("Unsupported interlace method"));this._colorType=dt;let zt=j.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:ot,height:ut,depth:ft,interlace:!!Rt,palette:!!(dt&j.COLORTYPE_PALETTE),color:!!(dt&j.COLORTYPE_COLOR),alpha:!!(dt&j.COLORTYPE_ALPHA),bpp:zt,colorType:dt}),this._handleChunkEnd()},et.prototype._handlePLTE=function(it){this.read(it,this._parsePLTE.bind(this))},et.prototype._parsePLTE=function(it){this._crc.write(it);let ot=Math.floor(it.length/3);for(let ut=0;ut<ot;ut++)this._palette.push([it[3*ut],it[3*ut+1],it[3*ut+2],255]);this.palette(this._palette),this._handleChunkEnd()},et.prototype._handleTRNS=function(it){this.simpleTransparency(),this.read(it,this._parseTRNS.bind(this))},et.prototype._parseTRNS=function(it){if(this._crc.write(it),this._colorType===j.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0)return void this.error(new Error("Transparency chunk must be after palette"));if(it.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(let ot=0;ot<it.length;ot++)this._palette[ot][3]=it[ot];this.palette(this._palette)}this._colorType===j.COLORTYPE_GRAYSCALE&&this.transColor([it.readUInt16BE(0)]),this._colorType===j.COLORTYPE_COLOR&&this.transColor([it.readUInt16BE(0),it.readUInt16BE(2),it.readUInt16BE(4)]),this._handleChunkEnd()},et.prototype._handleGAMA=function(it){this.read(it,this._parseGAMA.bind(this))},et.prototype._parseGAMA=function(it){this._crc.write(it),this.gamma(it.readUInt32BE(0)/j.GAMMA_DIVISION),this._handleChunkEnd()},et.prototype._handleIDAT=function(it){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-it,this._parseIDAT.bind(this,it))},et.prototype._parseIDAT=function(it,ot){if(this._crc.write(ot),this._colorType===j.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(ot);let ut=it-ot.length;ut>0?this._handleIDAT(ut):this._handleChunkEnd()},et.prototype._handleIEND=function(it){this.read(it,this._parseIEND.bind(this))},et.prototype._parseIEND=function(it){this._crc.write(it),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this)}).call(this,d("buffer").Buffer)},{"./constants":4,"./crc":5,buffer:32}],19:[function(d,m,g){let w=d("./parser-sync"),j=d("./packer-sync");g.read=function(H,et){return w(H,et||{})},g.write=function(H,et){return j(H,et)}},{"./packer-sync":13,"./parser-sync":17}],20:[function(d,m,g){(function(w,j){(function(){let H=d("util"),et=d("stream"),it=d("./parser-async"),ot=d("./packer-async"),ut=d("./png-sync"),ft=g.PNG=function(dt){et.call(this),dt=dt||{},this.width=0|dt.width,this.height=0|dt.height,this.data=this.width>0&&this.height>0?j.alloc(4*this.width*this.height):null,dt.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new it(dt),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(St){this.data=St,this.emit("parsed",St)}).bind(this)),this._packer=new ot(dt),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};H.inherits(ft,et),ft.sync=ut,ft.prototype.pack=function(){return this.data&&this.data.length?(w.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this):(this.emit("error","No data provided"),this)},ft.prototype.parse=function(dt,St){if(St){let Tt,Rt;Tt=(function(zt){this.removeListener("error",Rt),this.data=zt,St(null,this)}).bind(this),Rt=(function(zt){this.removeListener("parsed",Tt),St(zt,null)}).bind(this),this.once("parsed",Tt),this.once("error",Rt)}return this.end(dt),this},ft.prototype.write=function(dt){return this._parser.write(dt),!0},ft.prototype.end=function(dt){this._parser.end(dt)},ft.prototype._metadata=function(dt){this.width=dt.width,this.height=dt.height,this.emit("metadata",dt)},ft.prototype._gamma=function(dt){this.gamma=dt},ft.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},ft.bitblt=function(dt,St,Tt,Rt,zt,$t,Ht,jt){if(Rt|=0,zt|=0,$t|=0,Ht|=0,jt|=0,(Tt|=0)>dt.width||Rt>dt.height||Tt+zt>dt.width||Rt+$t>dt.height)throw new Error("bitblt reading outside image");if(Ht>St.width||jt>St.height||Ht+zt>St.width||jt+$t>St.height)throw new Error("bitblt writing outside image");for(let Ft=0;Ft<$t;Ft++)dt.data.copy(St.data,(jt+Ft)*St.width+Ht<<2,(Rt+Ft)*dt.width+Tt<<2,(Rt+Ft)*dt.width+Tt+zt<<2)},ft.prototype.bitblt=function(dt,St,Tt,Rt,zt,$t,Ht){return ft.bitblt(this,dt,St,Tt,Rt,zt,$t,Ht),this},ft.adjustGamma=function(dt){if(dt.gamma){for(let St=0;St<dt.height;St++)for(let Tt=0;Tt<dt.width;Tt++){let Rt=dt.width*St+Tt<<2;for(let zt=0;zt<3;zt++){let $t=dt.data[Rt+zt]/255;$t=Math.pow($t,1/2.2/dt.gamma),dt.data[Rt+zt]=Math.round(255*$t)}}dt.gamma=0}},ft.prototype.adjustGamma=function(){ft.adjustGamma(this)}}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{"./packer-async":12,"./parser-async":16,"./png-sync":19,_process:63,buffer:32,stream:65,util:84}],21:[function(d,m,g){(function(w,j){(function(){let H=d("assert").ok,et=d("zlib"),it=d("util"),ot=d("buffer").kMaxLength;function ut(Rt){if(!(this instanceof ut))return new ut(Rt);Rt&&Rt.chunkSize<et.Z_MIN_CHUNK&&(Rt.chunkSize=et.Z_MIN_CHUNK),et.Inflate.call(this,Rt),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,Rt&&Rt.maxLength!=null&&(this._maxLength=Rt.maxLength)}function ft(Rt){return new ut(Rt)}function dt(Rt,zt){Rt._handle&&(Rt._handle.close(),Rt._handle=null)}function St(Rt,zt){if(typeof zt=="string"&&(zt=j.from(zt)),!(zt instanceof j))throw new TypeError("Not a string or buffer");let $t=Rt._finishFlushFlag;return $t==null&&($t=et.Z_FINISH),Rt._processChunk(zt,$t)}function Tt(Rt,zt){return St(new ut(zt),Rt)}ut.prototype._processChunk=function(Rt,zt,$t){if(typeof $t=="function")return et.Inflate._processChunk.call(this,Rt,zt,$t);let Ht,jt,Ft=this,Dt=Rt&&Rt.length,Yt=this._chunkSize-this._offset,ne=this._maxLength,Kt=0,re=[],ee=0;function oe(ie,ge){if(Ft._hadError)return;let ce=Yt-ge;if(H(ce>=0,"have should not go down"),ce>0){let le=Ft._buffer.slice(Ft._offset,Ft._offset+ce);if(Ft._offset+=ce,le.length>ne&&(le=le.slice(0,ne)),re.push(le),ee+=le.length,ne-=le.length,ne===0)return!1}return(ge===0||Ft._offset>=Ft._chunkSize)&&(Yt=Ft._chunkSize,Ft._offset=0,Ft._buffer=j.allocUnsafe(Ft._chunkSize)),ge===0&&(Kt+=Dt-ie,Dt=ie,!0)}this.on("error",function(ie){Ht=ie}),H(this._handle,"zlib binding closed");do jt=this._handle.writeSync(zt,Rt,Kt,Dt,this._buffer,this._offset,Yt),jt=jt||this._writeState;while(!this._hadError&&oe(jt[0],jt[1]));if(this._hadError)throw Ht;if(ee>=ot)throw dt(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+ot.toString(16)+" bytes");let Ut=j.concat(re,ee);return dt(this),Ut},it.inherits(ut,et.Inflate),m.exports=g=Tt,g.Inflate=ut,g.createInflate=ft,g.inflateSync=Tt}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,assert:23,buffer:32,util:84,zlib:31}],22:[function(d,m,g){let w=m.exports=function(j){this._buffer=j,this._reads=[]};w.prototype.read=function(j,H){this._reads.push({length:Math.abs(j),allowLess:j<0,func:H})},w.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let j=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=j.length||j.allowLess))break;{this._reads.shift();let H=this._buffer;this._buffer=H.slice(j.length),j.func.call(this,H.slice(0,j.length))}}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}},{}],23:[function(d,m,g){(function(w){(function(){var j=d("object-assign");/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */function H(ce,le){if(ce===le)return 0;for(var de=ce.length,Ae=le.length,ve=0,ye=Math.min(de,Ae);ve<ye;++ve)if(ce[ve]!==le[ve]){de=ce[ve],Ae=le[ve];break}return de<Ae?-1:Ae<de?1:0}function et(ce){return w.Buffer&&typeof w.Buffer.isBuffer=="function"?w.Buffer.isBuffer(ce):!(ce==null||!ce._isBuffer)}var it=d("util/"),ot=Object.prototype.hasOwnProperty,ut=Array.prototype.slice,ft=(function(){}).name==="foo";function dt(ce){return Object.prototype.toString.call(ce)}function St(ce){return!et(ce)&&typeof w.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(ce):!!ce&&(ce instanceof DataView||!!(ce.buffer&&ce.buffer instanceof ArrayBuffer)))}var Tt=m.exports=Dt,Rt=/\s*function\s+([^\(\s]*)\s*/;function zt(ce){if(it.isFunction(ce)){if(ft)return ce.name;var le=ce.toString().match(Rt);return le&&le[1]}}function $t(ce,le){return typeof ce=="string"?ce.length<le?ce:ce.slice(0,le):ce}function Ht(ce){if(ft||!it.isFunction(ce))return it.inspect(ce);var le=zt(ce);return"[Function"+(le?": "+le:"")+"]"}function jt(ce){return $t(Ht(ce.actual),128)+" "+ce.operator+" "+$t(Ht(ce.expected),128)}function Ft(ce,le,de,Ae,ve){throw new Tt.AssertionError({message:de,actual:ce,expected:le,operator:Ae,stackStartFunction:ve})}function Dt(ce,le){ce||Ft(ce,!0,le,"==",Tt.ok)}function Yt(ce,le,de,Ae){if(ce===le)return!0;if(et(ce)&&et(le))return H(ce,le)===0;if(it.isDate(ce)&&it.isDate(le))return ce.getTime()===le.getTime();if(it.isRegExp(ce)&&it.isRegExp(le))return ce.source===le.source&&ce.global===le.global&&ce.multiline===le.multiline&&ce.lastIndex===le.lastIndex&&ce.ignoreCase===le.ignoreCase;if(ce!==null&&typeof ce=="object"||le!==null&&typeof le=="object"){if(St(ce)&&St(le)&&dt(ce)===dt(le)&&!(ce instanceof Float32Array||ce instanceof Float64Array))return H(new Uint8Array(ce.buffer),new Uint8Array(le.buffer))===0;if(et(ce)!==et(le))return!1;var ve=(Ae=Ae||{actual:[],expected:[]}).actual.indexOf(ce);return ve!==-1&&ve===Ae.expected.indexOf(le)||(Ae.actual.push(ce),Ae.expected.push(le),Kt(ce,le,de,Ae))}return de?ce===le:ce==le}function ne(ce){return Object.prototype.toString.call(ce)=="[object Arguments]"}function Kt(ce,le,de,Ae){if(ce==null||le==null)return!1;if(it.isPrimitive(ce)||it.isPrimitive(le))return ce===le;if(de&&Object.getPrototypeOf(ce)!==Object.getPrototypeOf(le))return!1;var ve=ne(ce),ye=ne(le);if(ve&&!ye||!ve&&ye)return!1;if(ve)return Yt(ce=ut.call(ce),le=ut.call(le),de);var Me,ue,xe=ge(ce),Be=ge(le);if(xe.length!==Be.length)return!1;for(xe.sort(),Be.sort(),ue=xe.length-1;ue>=0;ue--)if(xe[ue]!==Be[ue])return!1;for(ue=xe.length-1;ue>=0;ue--)if(!Yt(ce[Me=xe[ue]],le[Me],de,Ae))return!1;return!0}function re(ce,le,de){Yt(ce,le,!0)&&Ft(ce,le,de,"notDeepStrictEqual",re)}function ee(ce,le){if(!ce||!le)return!1;if(Object.prototype.toString.call(le)=="[object RegExp]")return le.test(ce);try{if(ce instanceof le)return!0}catch{}return!Error.isPrototypeOf(le)&&le.call({},ce)===!0}function oe(ce){var le;try{ce()}catch(de){le=de}return le}function Ut(ce,le,de,Ae){var ve;if(typeof le!="function")throw new TypeError('"block" argument must be a function');typeof de=="string"&&(Ae=de,de=null),ve=oe(le),Ae=(de&&de.name?" ("+de.name+").":".")+(Ae?" "+Ae:"."),ce&&!ve&&Ft(ve,de,"Missing expected exception"+Ae);var ye=typeof Ae=="string",Me=!ce&&ve&&!de;if((!ce&&it.isError(ve)&&ye&&ee(ve,de)||Me)&&Ft(ve,de,"Got unwanted exception"+Ae),ce&&ve&&de&&!ee(ve,de)||!ce&&ve)throw ve}function ie(ce,le){ce||Ft(ce,!0,le,"==",ie)}Tt.AssertionError=function(ce){this.name="AssertionError",this.actual=ce.actual,this.expected=ce.expected,this.operator=ce.operator,ce.message?(this.message=ce.message,this.generatedMessage=!1):(this.message=jt(this),this.generatedMessage=!0);var le=ce.stackStartFunction||Ft;if(Error.captureStackTrace)Error.captureStackTrace(this,le);else{var de=new Error;if(de.stack){var Ae=de.stack,ve=zt(le),ye=Ae.indexOf(`
`+ve);if(ye>=0){var Me=Ae.indexOf(`
`,ye+1);Ae=Ae.substring(Me+1)}this.stack=Ae}}},it.inherits(Tt.AssertionError,Error),Tt.fail=Ft,Tt.ok=Dt,Tt.equal=function(ce,le,de){ce!=le&&Ft(ce,le,de,"==",Tt.equal)},Tt.notEqual=function(ce,le,de){ce==le&&Ft(ce,le,de,"!=",Tt.notEqual)},Tt.deepEqual=function(ce,le,de){Yt(ce,le,!1)||Ft(ce,le,de,"deepEqual",Tt.deepEqual)},Tt.deepStrictEqual=function(ce,le,de){Yt(ce,le,!0)||Ft(ce,le,de,"deepStrictEqual",Tt.deepStrictEqual)},Tt.notDeepEqual=function(ce,le,de){Yt(ce,le,!1)&&Ft(ce,le,de,"notDeepEqual",Tt.notDeepEqual)},Tt.notDeepStrictEqual=re,Tt.strictEqual=function(ce,le,de){ce!==le&&Ft(ce,le,de,"===",Tt.strictEqual)},Tt.notStrictEqual=function(ce,le,de){ce===le&&Ft(ce,le,de,"!==",Tt.notStrictEqual)},Tt.throws=function(ce,le,de){Ut(!0,ce,le,de)},Tt.doesNotThrow=function(ce,le,de){Ut(!1,ce,le,de)},Tt.ifError=function(ce){if(ce)throw ce},Tt.strict=j(ie,Tt,{equal:Tt.strictEqual,deepEqual:Tt.deepStrictEqual,notEqual:Tt.notStrictEqual,notDeepEqual:Tt.notDeepStrictEqual}),Tt.strict.strict=Tt.strict;var ge=Object.keys||function(ce){var le=[];for(var de in ce)ot.call(ce,de)&&le.push(de);return le}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"object-assign":51,"util/":26}],24:[function(d,m,g){typeof Object.create=="function"?m.exports=function(w,j){w.super_=j,w.prototype=Object.create(j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}})}:m.exports=function(w,j){w.super_=j;var H=function(){};H.prototype=j.prototype,w.prototype=new H,w.prototype.constructor=w}},{}],25:[function(d,m,g){m.exports=function(w){return w&&typeof w=="object"&&typeof w.copy=="function"&&typeof w.fill=="function"&&typeof w.readUInt8=="function"}},{}],26:[function(d,m,g){(function(w,j){(function(){var H=/%[sdj%]/g;g.format=function(ue){if(!Kt(ue)){for(var xe=[],Be=0;Be<arguments.length;Be++)xe.push(ot(arguments[Be]));return xe.join(" ")}Be=1;for(var Pe=arguments,Ee=Pe.length,Se=String(ue).replace(H,function(Fe){if(Fe==="%%")return"%";if(Be>=Ee)return Fe;switch(Fe){case"%s":return String(Pe[Be++]);case"%d":return Number(Pe[Be++]);case"%j":try{return JSON.stringify(Pe[Be++])}catch{return"[Circular]"}default:return Fe}}),Ne=Pe[Be];Be<Ee;Ne=Pe[++Be])Dt(Ne)||!Ut(Ne)?Se+=" "+Ne:Se+=" "+ot(Ne);return Se},g.deprecate=function(ue,xe){if(ee(j.process))return function(){return g.deprecate(ue,xe).apply(this,arguments)};if(w.noDeprecation===!0)return ue;var Be=!1;function Pe(){if(!Be){if(w.throwDeprecation)throw new Error(xe);w.traceDeprecation?console.trace(xe):console.error(xe),Be=!0}return ue.apply(this,arguments)}return Pe};var et,it={};function ot(ue,xe){var Be={seen:[],stylize:ft};return arguments.length>=3&&(Be.depth=arguments[2]),arguments.length>=4&&(Be.colors=arguments[3]),Ft(xe)?Be.showHidden=xe:xe&&g._extend(Be,xe),ee(Be.showHidden)&&(Be.showHidden=!1),ee(Be.depth)&&(Be.depth=2),ee(Be.colors)&&(Be.colors=!1),ee(Be.customInspect)&&(Be.customInspect=!0),Be.colors&&(Be.stylize=ut),St(Be,ue,Be.depth)}function ut(ue,xe){var Be=ot.styles[xe];return Be?"\x1B["+ot.colors[Be][0]+"m"+ue+"\x1B["+ot.colors[Be][1]+"m":ue}function ft(ue,xe){return ue}function dt(ue){var xe={};return ue.forEach(function(Be,Pe){xe[Be]=!0}),xe}function St(ue,xe,Be){if(ue.customInspect&&xe&&ce(xe.inspect)&&xe.inspect!==g.inspect&&(!xe.constructor||xe.constructor.prototype!==xe)){var Pe=xe.inspect(Be,ue);return Kt(Pe)||(Pe=St(ue,Pe,Be)),Pe}var Ee=Tt(ue,xe);if(Ee)return Ee;var Se=Object.keys(xe),Ne=dt(Se);if(ue.showHidden&&(Se=Object.getOwnPropertyNames(xe)),ge(xe)&&(Se.indexOf("message")>=0||Se.indexOf("description")>=0))return Rt(xe);if(Se.length===0){if(ce(xe)){var Fe=xe.name?": "+xe.name:"";return ue.stylize("[Function"+Fe+"]","special")}if(oe(xe))return ue.stylize(RegExp.prototype.toString.call(xe),"regexp");if(ie(xe))return ue.stylize(Date.prototype.toString.call(xe),"date");if(ge(xe))return Rt(xe)}var Oe,Ce="",Jt=!1,Te=["{","}"];return jt(xe)&&(Jt=!0,Te=["[","]"]),ce(xe)&&(Ce=" [Function"+(xe.name?": "+xe.name:"")+"]"),oe(xe)&&(Ce=" "+RegExp.prototype.toString.call(xe)),ie(xe)&&(Ce=" "+Date.prototype.toUTCString.call(xe)),ge(xe)&&(Ce=" "+Rt(xe)),Se.length!==0||Jt&&xe.length!=0?Be<0?oe(xe)?ue.stylize(RegExp.prototype.toString.call(xe),"regexp"):ue.stylize("[Object]","special"):(ue.seen.push(xe),Oe=Jt?zt(ue,xe,Be,Ne,Se):Se.map(function(he){return $t(ue,xe,Be,Ne,he,Jt)}),ue.seen.pop(),Ht(Oe,Ce,Te)):Te[0]+Ce+Te[1]}function Tt(ue,xe){if(ee(xe))return ue.stylize("undefined","undefined");if(Kt(xe)){var Be="'"+JSON.stringify(xe).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ue.stylize(Be,"string")}return ne(xe)?ue.stylize(""+xe,"number"):Ft(xe)?ue.stylize(""+xe,"boolean"):Dt(xe)?ue.stylize("null","null"):void 0}function Rt(ue){return"["+Error.prototype.toString.call(ue)+"]"}function zt(ue,xe,Be,Pe,Ee){for(var Se=[],Ne=0,Fe=xe.length;Ne<Fe;++Ne)Me(xe,String(Ne))?Se.push($t(ue,xe,Be,Pe,String(Ne),!0)):Se.push("");return Ee.forEach(function(Oe){Oe.match(/^\d+$/)||Se.push($t(ue,xe,Be,Pe,Oe,!0))}),Se}function $t(ue,xe,Be,Pe,Ee,Se){var Ne,Fe,Oe;if((Oe=Object.getOwnPropertyDescriptor(xe,Ee)||{value:xe[Ee]}).get?Fe=Oe.set?ue.stylize("[Getter/Setter]","special"):ue.stylize("[Getter]","special"):Oe.set&&(Fe=ue.stylize("[Setter]","special")),Me(Pe,Ee)||(Ne="["+Ee+"]"),Fe||(ue.seen.indexOf(Oe.value)<0?(Fe=Dt(Be)?St(ue,Oe.value,null):St(ue,Oe.value,Be-1)).indexOf(`
`)>-1&&(Fe=Se?Fe.split(`
`).map(function(Ce){return"  "+Ce}).join(`
`).substr(2):`
`+Fe.split(`
`).map(function(Ce){return"   "+Ce}).join(`
`)):Fe=ue.stylize("[Circular]","special")),ee(Ne)){if(Se&&Ee.match(/^\d+$/))return Fe;(Ne=JSON.stringify(""+Ee)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Ne=Ne.substr(1,Ne.length-2),Ne=ue.stylize(Ne,"name")):(Ne=Ne.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Ne=ue.stylize(Ne,"string"))}return Ne+": "+Fe}function Ht(ue,xe,Be){return ue.reduce(function(Pe,Ee){return Ee.indexOf(`
`),Pe+Ee.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Be[0]+(xe===""?"":xe+`
 `)+" "+ue.join(`,
  `)+" "+Be[1]:Be[0]+xe+" "+ue.join(", ")+" "+Be[1]}function jt(ue){return Array.isArray(ue)}function Ft(ue){return typeof ue=="boolean"}function Dt(ue){return ue===null}function Yt(ue){return ue==null}function ne(ue){return typeof ue=="number"}function Kt(ue){return typeof ue=="string"}function re(ue){return typeof ue=="symbol"}function ee(ue){return ue===void 0}function oe(ue){return Ut(ue)&&de(ue)==="[object RegExp]"}function Ut(ue){return typeof ue=="object"&&ue!==null}function ie(ue){return Ut(ue)&&de(ue)==="[object Date]"}function ge(ue){return Ut(ue)&&(de(ue)==="[object Error]"||ue instanceof Error)}function ce(ue){return typeof ue=="function"}function le(ue){return ue===null||typeof ue=="boolean"||typeof ue=="number"||typeof ue=="string"||typeof ue=="symbol"||ue===void 0}function de(ue){return Object.prototype.toString.call(ue)}function Ae(ue){return ue<10?"0"+ue.toString(10):ue.toString(10)}g.debuglog=function(ue){if(ee(et)&&(et=w.env.NODE_DEBUG||""),ue=ue.toUpperCase(),!it[ue])if(new RegExp("\\b"+ue+"\\b","i").test(et)){var xe=w.pid;it[ue]=function(){var Be=g.format.apply(g,arguments);console.error("%s %d: %s",ue,xe,Be)}}else it[ue]=function(){};return it[ue]},g.inspect=ot,ot.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ot.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},g.isArray=jt,g.isBoolean=Ft,g.isNull=Dt,g.isNullOrUndefined=Yt,g.isNumber=ne,g.isString=Kt,g.isSymbol=re,g.isUndefined=ee,g.isRegExp=oe,g.isObject=Ut,g.isDate=ie,g.isError=ge,g.isFunction=ce,g.isPrimitive=le,g.isBuffer=d("./support/isBuffer");var ve=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ye(){var ue=new Date,xe=[Ae(ue.getHours()),Ae(ue.getMinutes()),Ae(ue.getSeconds())].join(":");return[ue.getDate(),ve[ue.getMonth()],xe].join(" ")}function Me(ue,xe){return Object.prototype.hasOwnProperty.call(ue,xe)}g.log=function(){console.log("%s - %s",ye(),g.format.apply(g,arguments))},g.inherits=d("inherits"),g._extend=function(ue,xe){if(!xe||!Ut(xe))return ue;for(var Be=Object.keys(xe),Pe=Be.length;Pe--;)ue[Be[Pe]]=xe[Be[Pe]];return ue}}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":25,_process:63,inherits:24}],27:[function(d,m,g){(function(w){(function(){var j=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],H=typeof globalThis>"u"?w:globalThis;m.exports=function(){for(var et=[],it=0;it<j.length;it++)typeof H[j[it]]=="function"&&(et[et.length]=j[it]);return et}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],28:[function(d,m,g){g.byteLength=ft,g.toByteArray=St,g.fromByteArray=zt;for(var w=[],j=[],H=typeof Uint8Array<"u"?Uint8Array:Array,et="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",it=0,ot=et.length;it<ot;++it)w[it]=et[it],j[et.charCodeAt(it)]=it;function ut($t){var Ht=$t.length;if(Ht%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var jt=$t.indexOf("=");return jt===-1&&(jt=Ht),[jt,jt===Ht?0:4-jt%4]}function ft($t){var Ht=ut($t),jt=Ht[0],Ft=Ht[1];return 3*(jt+Ft)/4-Ft}function dt($t,Ht,jt){return 3*(Ht+jt)/4-jt}function St($t){var Ht,jt,Ft=ut($t),Dt=Ft[0],Yt=Ft[1],ne=new H(dt($t,Dt,Yt)),Kt=0,re=Yt>0?Dt-4:Dt;for(jt=0;jt<re;jt+=4)Ht=j[$t.charCodeAt(jt)]<<18|j[$t.charCodeAt(jt+1)]<<12|j[$t.charCodeAt(jt+2)]<<6|j[$t.charCodeAt(jt+3)],ne[Kt++]=Ht>>16&255,ne[Kt++]=Ht>>8&255,ne[Kt++]=255&Ht;return Yt===2&&(Ht=j[$t.charCodeAt(jt)]<<2|j[$t.charCodeAt(jt+1)]>>4,ne[Kt++]=255&Ht),Yt===1&&(Ht=j[$t.charCodeAt(jt)]<<10|j[$t.charCodeAt(jt+1)]<<4|j[$t.charCodeAt(jt+2)]>>2,ne[Kt++]=Ht>>8&255,ne[Kt++]=255&Ht),ne}function Tt($t){return w[$t>>18&63]+w[$t>>12&63]+w[$t>>6&63]+w[63&$t]}function Rt($t,Ht,jt){for(var Ft,Dt=[],Yt=Ht;Yt<jt;Yt+=3)Ft=($t[Yt]<<16&16711680)+($t[Yt+1]<<8&65280)+(255&$t[Yt+2]),Dt.push(Tt(Ft));return Dt.join("")}function zt($t){for(var Ht,jt=$t.length,Ft=jt%3,Dt=[],Yt=16383,ne=0,Kt=jt-Ft;ne<Kt;ne+=Yt)Dt.push(Rt($t,ne,ne+Yt>Kt?Kt:ne+Yt));return Ft===1?(Ht=$t[jt-1],Dt.push(w[Ht>>2]+w[Ht<<4&63]+"==")):Ft===2&&(Ht=($t[jt-2]<<8)+$t[jt-1],Dt.push(w[Ht>>10]+w[Ht>>4&63]+w[Ht<<2&63]+"=")),Dt.join("")}j[45]=62,j[95]=63},{}],29:[function(d,m,g){},{}],30:[function(d,m,g){(function(w,j){(function(){var H=d("assert"),et=d("pako/lib/zlib/zstream"),it=d("pako/lib/zlib/deflate.js"),ot=d("pako/lib/zlib/inflate.js"),ut=d("pako/lib/zlib/constants");for(var ft in ut)g[ft]=ut[ft];g.NONE=0,g.DEFLATE=1,g.INFLATE=2,g.GZIP=3,g.GUNZIP=4,g.DEFLATERAW=5,g.INFLATERAW=6,g.UNZIP=7;var dt=31,St=139;function Tt(Rt){if(typeof Rt!="number"||Rt<g.DEFLATE||Rt>g.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=Rt,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}Tt.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,H(this.init_done,"close before init"),H(this.mode<=g.UNZIP),this.mode===g.DEFLATE||this.mode===g.GZIP||this.mode===g.DEFLATERAW?it.deflateEnd(this.strm):this.mode!==g.INFLATE&&this.mode!==g.GUNZIP&&this.mode!==g.INFLATERAW&&this.mode!==g.UNZIP||ot.inflateEnd(this.strm),this.mode=g.NONE,this.dictionary=null)},Tt.prototype.write=function(Rt,zt,$t,Ht,jt,Ft,Dt){return this._write(!0,Rt,zt,$t,Ht,jt,Ft,Dt)},Tt.prototype.writeSync=function(Rt,zt,$t,Ht,jt,Ft,Dt){return this._write(!1,Rt,zt,$t,Ht,jt,Ft,Dt)},Tt.prototype._write=function(Rt,zt,$t,Ht,jt,Ft,Dt,Yt){if(H.equal(arguments.length,8),H(this.init_done,"write before init"),H(this.mode!==g.NONE,"already finalized"),H.equal(!1,this.write_in_progress,"write already in progress"),H.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,H.equal(!1,zt===void 0,"must provide flush value"),this.write_in_progress=!0,zt!==g.Z_NO_FLUSH&&zt!==g.Z_PARTIAL_FLUSH&&zt!==g.Z_SYNC_FLUSH&&zt!==g.Z_FULL_FLUSH&&zt!==g.Z_FINISH&&zt!==g.Z_BLOCK)throw new Error("Invalid flush value");if($t==null&&($t=j.alloc(0),jt=0,Ht=0),this.strm.avail_in=jt,this.strm.input=$t,this.strm.next_in=Ht,this.strm.avail_out=Yt,this.strm.output=Ft,this.strm.next_out=Dt,this.flush=zt,!Rt)return this._process(),this._checkError()?this._afterSync():void 0;var ne=this;return w.nextTick(function(){ne._process(),ne._after()}),this},Tt.prototype._afterSync=function(){var Rt=this.strm.avail_out,zt=this.strm.avail_in;return this.write_in_progress=!1,[zt,Rt]},Tt.prototype._process=function(){var Rt=null;switch(this.mode){case g.DEFLATE:case g.GZIP:case g.DEFLATERAW:this.err=it.deflate(this.strm,this.flush);break;case g.UNZIP:switch(this.strm.avail_in>0&&(Rt=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(Rt===null)break;if(this.strm.input[Rt]!==dt){this.mode=g.INFLATE;break}if(this.gzip_id_bytes_read=1,Rt++,this.strm.avail_in===1)break;case 1:if(Rt===null)break;this.strm.input[Rt]===St?(this.gzip_id_bytes_read=2,this.mode=g.GUNZIP):this.mode=g.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case g.INFLATE:case g.GUNZIP:case g.INFLATERAW:for(this.err=ot.inflate(this.strm,this.flush),this.err===g.Z_NEED_DICT&&this.dictionary&&(this.err=ot.inflateSetDictionary(this.strm,this.dictionary),this.err===g.Z_OK?this.err=ot.inflate(this.strm,this.flush):this.err===g.Z_DATA_ERROR&&(this.err=g.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===g.GUNZIP&&this.err===g.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=ot.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},Tt.prototype._checkError=function(){switch(this.err){case g.Z_OK:case g.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===g.Z_FINISH)return this._error("unexpected end of file"),!1;break;case g.Z_STREAM_END:break;case g.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},Tt.prototype._after=function(){if(this._checkError()){var Rt=this.strm.avail_out,zt=this.strm.avail_in;this.write_in_progress=!1,this.callback(zt,Rt),this.pending_close&&this.close()}},Tt.prototype._error=function(Rt){this.strm.msg&&(Rt=this.strm.msg),this.onerror(Rt,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},Tt.prototype.init=function(Rt,zt,$t,Ht,jt){H(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),H(Rt>=8&&Rt<=15,"invalid windowBits"),H(zt>=-1&&zt<=9,"invalid compression level"),H($t>=1&&$t<=9,"invalid memlevel"),H(Ht===g.Z_FILTERED||Ht===g.Z_HUFFMAN_ONLY||Ht===g.Z_RLE||Ht===g.Z_FIXED||Ht===g.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(zt,Rt,$t,Ht,jt),this._setDictionary()},Tt.prototype.params=function(){throw new Error("deflateParams Not supported")},Tt.prototype.reset=function(){this._reset(),this._setDictionary()},Tt.prototype._init=function(Rt,zt,$t,Ht,jt){switch(this.level=Rt,this.windowBits=zt,this.memLevel=$t,this.strategy=Ht,this.flush=g.Z_NO_FLUSH,this.err=g.Z_OK,this.mode!==g.GZIP&&this.mode!==g.GUNZIP||(this.windowBits+=16),this.mode===g.UNZIP&&(this.windowBits+=32),this.mode!==g.DEFLATERAW&&this.mode!==g.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new et,this.mode){case g.DEFLATE:case g.GZIP:case g.DEFLATERAW:this.err=it.deflateInit2(this.strm,this.level,g.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case g.INFLATE:case g.GUNZIP:case g.INFLATERAW:case g.UNZIP:this.err=ot.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==g.Z_OK&&this._error("Init error"),this.dictionary=jt,this.write_in_progress=!1,this.init_done=!0},Tt.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=g.Z_OK,this.mode){case g.DEFLATE:case g.DEFLATERAW:this.err=it.deflateSetDictionary(this.strm,this.dictionary)}this.err!==g.Z_OK&&this._error("Failed to set dictionary")}},Tt.prototype._reset=function(){switch(this.err=g.Z_OK,this.mode){case g.DEFLATE:case g.DEFLATERAW:case g.GZIP:this.err=it.deflateReset(this.strm);break;case g.INFLATE:case g.INFLATERAW:case g.GUNZIP:this.err=ot.inflateReset(this.strm)}this.err!==g.Z_OK&&this._error("Failed to reset stream")},g.Zlib=Tt}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{_process:63,assert:23,buffer:32,"pako/lib/zlib/constants":54,"pako/lib/zlib/deflate.js":56,"pako/lib/zlib/inflate.js":58,"pako/lib/zlib/zstream":62}],31:[function(d,m,g){(function(w){(function(){var j=d("buffer").Buffer,H=d("stream").Transform,et=d("./binding"),it=d("util"),ot=d("assert").ok,ut=d("buffer").kMaxLength,ft="Cannot create final Buffer. It would be larger than 0x"+ut.toString(16)+" bytes";et.Z_MIN_WINDOWBITS=8,et.Z_MAX_WINDOWBITS=15,et.Z_DEFAULT_WINDOWBITS=15,et.Z_MIN_CHUNK=64,et.Z_MAX_CHUNK=1/0,et.Z_DEFAULT_CHUNK=16384,et.Z_MIN_MEMLEVEL=1,et.Z_MAX_MEMLEVEL=9,et.Z_DEFAULT_MEMLEVEL=8,et.Z_MIN_LEVEL=-1,et.Z_MAX_LEVEL=9,et.Z_DEFAULT_LEVEL=et.Z_DEFAULT_COMPRESSION;for(var dt=Object.keys(et),St=0;St<dt.length;St++){var Tt=dt[St];Tt.match(/^Z/)&&Object.defineProperty(g,Tt,{enumerable:!0,value:et[Tt],writable:!1})}for(var Rt={Z_OK:et.Z_OK,Z_STREAM_END:et.Z_STREAM_END,Z_NEED_DICT:et.Z_NEED_DICT,Z_ERRNO:et.Z_ERRNO,Z_STREAM_ERROR:et.Z_STREAM_ERROR,Z_DATA_ERROR:et.Z_DATA_ERROR,Z_MEM_ERROR:et.Z_MEM_ERROR,Z_BUF_ERROR:et.Z_BUF_ERROR,Z_VERSION_ERROR:et.Z_VERSION_ERROR},zt=Object.keys(Rt),$t=0;$t<zt.length;$t++){var Ht=zt[$t];Rt[Rt[Ht]]=Ht}function jt(le,de,Ae){var ve=[],ye=0;function Me(){for(var Be;(Be=le.read())!==null;)ve.push(Be),ye+=Be.length;le.once("readable",Me)}function ue(Be){le.removeListener("end",xe),le.removeListener("readable",Me),Ae(Be)}function xe(){var Be,Pe=null;ye>=ut?Pe=new RangeError(ft):Be=j.concat(ve,ye),ve=[],le.close(),Ae(Pe,Be)}le.on("error",ue),le.on("end",xe),le.end(de),Me()}function Ft(le,de){if(typeof de=="string"&&(de=j.from(de)),!j.isBuffer(de))throw new TypeError("Not a string or buffer");var Ae=le._finishFlushFlag;return le._processChunk(de,Ae)}function Dt(le){if(!(this instanceof Dt))return new Dt(le);ie.call(this,le,et.DEFLATE)}function Yt(le){if(!(this instanceof Yt))return new Yt(le);ie.call(this,le,et.INFLATE)}function ne(le){if(!(this instanceof ne))return new ne(le);ie.call(this,le,et.GZIP)}function Kt(le){if(!(this instanceof Kt))return new Kt(le);ie.call(this,le,et.GUNZIP)}function re(le){if(!(this instanceof re))return new re(le);ie.call(this,le,et.DEFLATERAW)}function ee(le){if(!(this instanceof ee))return new ee(le);ie.call(this,le,et.INFLATERAW)}function oe(le){if(!(this instanceof oe))return new oe(le);ie.call(this,le,et.UNZIP)}function Ut(le){return le===et.Z_NO_FLUSH||le===et.Z_PARTIAL_FLUSH||le===et.Z_SYNC_FLUSH||le===et.Z_FULL_FLUSH||le===et.Z_FINISH||le===et.Z_BLOCK}function ie(le,de){var Ae=this;if(this._opts=le=le||{},this._chunkSize=le.chunkSize||g.Z_DEFAULT_CHUNK,H.call(this,le),le.flush&&!Ut(le.flush))throw new Error("Invalid flush flag: "+le.flush);if(le.finishFlush&&!Ut(le.finishFlush))throw new Error("Invalid flush flag: "+le.finishFlush);if(this._flushFlag=le.flush||et.Z_NO_FLUSH,this._finishFlushFlag=le.finishFlush!==void 0?le.finishFlush:et.Z_FINISH,le.chunkSize&&(le.chunkSize<g.Z_MIN_CHUNK||le.chunkSize>g.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+le.chunkSize);if(le.windowBits&&(le.windowBits<g.Z_MIN_WINDOWBITS||le.windowBits>g.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+le.windowBits);if(le.level&&(le.level<g.Z_MIN_LEVEL||le.level>g.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+le.level);if(le.memLevel&&(le.memLevel<g.Z_MIN_MEMLEVEL||le.memLevel>g.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+le.memLevel);if(le.strategy&&le.strategy!=g.Z_FILTERED&&le.strategy!=g.Z_HUFFMAN_ONLY&&le.strategy!=g.Z_RLE&&le.strategy!=g.Z_FIXED&&le.strategy!=g.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+le.strategy);if(le.dictionary&&!j.isBuffer(le.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new et.Zlib(de);var ve=this;this._hadError=!1,this._handle.onerror=function(ue,xe){ge(ve),ve._hadError=!0;var Be=new Error(ue);Be.errno=xe,Be.code=g.codes[xe],ve.emit("error",Be)};var ye=g.Z_DEFAULT_COMPRESSION;typeof le.level=="number"&&(ye=le.level);var Me=g.Z_DEFAULT_STRATEGY;typeof le.strategy=="number"&&(Me=le.strategy),this._handle.init(le.windowBits||g.Z_DEFAULT_WINDOWBITS,ye,le.memLevel||g.Z_DEFAULT_MEMLEVEL,Me,le.dictionary),this._buffer=j.allocUnsafe(this._chunkSize),this._offset=0,this._level=ye,this._strategy=Me,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Ae._handle},configurable:!0,enumerable:!0})}function ge(le,de){de&&w.nextTick(de),le._handle&&(le._handle.close(),le._handle=null)}function ce(le){le.emit("close")}Object.defineProperty(g,"codes",{enumerable:!0,value:Object.freeze(Rt),writable:!1}),g.Deflate=Dt,g.Inflate=Yt,g.Gzip=ne,g.Gunzip=Kt,g.DeflateRaw=re,g.InflateRaw=ee,g.Unzip=oe,g.createDeflate=function(le){return new Dt(le)},g.createInflate=function(le){return new Yt(le)},g.createDeflateRaw=function(le){return new re(le)},g.createInflateRaw=function(le){return new ee(le)},g.createGzip=function(le){return new ne(le)},g.createGunzip=function(le){return new Kt(le)},g.createUnzip=function(le){return new oe(le)},g.deflate=function(le,de,Ae){return typeof de=="function"&&(Ae=de,de={}),jt(new Dt(de),le,Ae)},g.deflateSync=function(le,de){return Ft(new Dt(de),le)},g.gzip=function(le,de,Ae){return typeof de=="function"&&(Ae=de,de={}),jt(new ne(de),le,Ae)},g.gzipSync=function(le,de){return Ft(new ne(de),le)},g.deflateRaw=function(le,de,Ae){return typeof de=="function"&&(Ae=de,de={}),jt(new re(de),le,Ae)},g.deflateRawSync=function(le,de){return Ft(new re(de),le)},g.unzip=function(le,de,Ae){return typeof de=="function"&&(Ae=de,de={}),jt(new oe(de),le,Ae)},g.unzipSync=function(le,de){return Ft(new oe(de),le)},g.inflate=function(le,de,Ae){return typeof de=="function"&&(Ae=de,de={}),jt(new Yt(de),le,Ae)},g.inflateSync=function(le,de){return Ft(new Yt(de),le)},g.gunzip=function(le,de,Ae){return typeof de=="function"&&(Ae=de,de={}),jt(new Kt(de),le,Ae)},g.gunzipSync=function(le,de){return Ft(new Kt(de),le)},g.inflateRaw=function(le,de,Ae){return typeof de=="function"&&(Ae=de,de={}),jt(new ee(de),le,Ae)},g.inflateRawSync=function(le,de){return Ft(new ee(de),le)},it.inherits(ie,H),ie.prototype.params=function(le,de,Ae){if(le<g.Z_MIN_LEVEL||le>g.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+le);if(de!=g.Z_FILTERED&&de!=g.Z_HUFFMAN_ONLY&&de!=g.Z_RLE&&de!=g.Z_FIXED&&de!=g.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+de);if(this._level!==le||this._strategy!==de){var ve=this;this.flush(et.Z_SYNC_FLUSH,function(){ot(ve._handle,"zlib binding closed"),ve._handle.params(le,de),ve._hadError||(ve._level=le,ve._strategy=de,Ae&&Ae())})}else w.nextTick(Ae)},ie.prototype.reset=function(){return ot(this._handle,"zlib binding closed"),this._handle.reset()},ie.prototype._flush=function(le){this._transform(j.alloc(0),"",le)},ie.prototype.flush=function(le,de){var Ae=this,ve=this._writableState;(typeof le=="function"||le===void 0&&!de)&&(de=le,le=et.Z_FULL_FLUSH),ve.ended?de&&w.nextTick(de):ve.ending?de&&this.once("end",de):ve.needDrain?de&&this.once("drain",function(){return Ae.flush(le,de)}):(this._flushFlag=le,this.write(j.alloc(0),"",de))},ie.prototype.close=function(le){ge(this,le),w.nextTick(ce,this)},ie.prototype._transform=function(le,de,Ae){var ve,ye=this._writableState,Me=(ye.ending||ye.ended)&&(!le||ye.length===le.length);return le===null||j.isBuffer(le)?this._handle?(Me?ve=this._finishFlushFlag:(ve=this._flushFlag,le.length>=ye.length&&(this._flushFlag=this._opts.flush||et.Z_NO_FLUSH)),void this._processChunk(le,ve,Ae)):Ae(new Error("zlib binding closed")):Ae(new Error("invalid input"))},ie.prototype._processChunk=function(le,de,Ae){var ve=le&&le.length,ye=this._chunkSize-this._offset,Me=0,ue=this,xe=typeof Ae=="function";if(!xe){var Be,Pe=[],Ee=0;this.on("error",function(Ce){Be=Ce}),ot(this._handle,"zlib binding closed");do var Se=this._handle.writeSync(de,le,Me,ve,this._buffer,this._offset,ye);while(!this._hadError&&Oe(Se[0],Se[1]));if(this._hadError)throw Be;if(Ee>=ut)throw ge(this),new RangeError(ft);var Ne=j.concat(Pe,Ee);return ge(this),Ne}ot(this._handle,"zlib binding closed");var Fe=this._handle.write(de,le,Me,ve,this._buffer,this._offset,ye);function Oe(Ce,Jt){if(this&&(this.buffer=null,this.callback=null),!ue._hadError){var Te=ye-Jt;if(ot(Te>=0,"have should not go down"),Te>0){var he=ue._buffer.slice(ue._offset,ue._offset+Te);ue._offset+=Te,xe?ue.push(he):(Pe.push(he),Ee+=he.length)}if((Jt===0||ue._offset>=ue._chunkSize)&&(ye=ue._chunkSize,ue._offset=0,ue._buffer=j.allocUnsafe(ue._chunkSize)),Jt===0){if(Me+=ve-Ce,ve=Ce,!xe)return!0;var me=ue._handle.write(de,le,Me,ve,ue._buffer,ue._offset,ue._chunkSize);return me.callback=Oe,void(me.buffer=le)}if(!xe)return!1;Ae()}}Fe.buffer=le,Fe.callback=Oe},it.inherits(Dt,ie),it.inherits(Yt,ie),it.inherits(ne,ie),it.inherits(Kt,ie),it.inherits(re,ie),it.inherits(ee,ie),it.inherits(oe,ie)}).call(this)}).call(this,d("_process"))},{"./binding":30,_process:63,assert:23,buffer:32,stream:65,util:84}],32:[function(d,m,g){(function(w){(function(){var j=d("base64-js"),H=d("ieee754");g.Buffer=ut,g.SlowBuffer=Ft,g.INSPECT_MAX_BYTES=50;var et=2147483647;function it(){try{var Zt=new Uint8Array(1);return Zt.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Zt.foo()===42}catch{return!1}}function ot(Zt){if(Zt>et)throw new RangeError('The value "'+Zt+'" is invalid for option "size"');var ae=new Uint8Array(Zt);return ae.__proto__=ut.prototype,ae}function ut(Zt,ae,_e){if(typeof Zt=="number"){if(typeof ae=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Tt(Zt)}return ft(Zt,ae,_e)}function ft(Zt,ae,_e){if(typeof Zt=="string")return Rt(Zt,ae);if(ArrayBuffer.isView(Zt))return zt(Zt);if(Zt==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Zt);if(we(Zt,ArrayBuffer)||Zt&&we(Zt.buffer,ArrayBuffer))return $t(Zt,ae,_e);if(typeof Zt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var be=Zt.valueOf&&Zt.valueOf();if(be!=null&&be!==Zt)return ut.from(be,ae,_e);var De=Ht(Zt);if(De)return De;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Zt[Symbol.toPrimitive]=="function")return ut.from(Zt[Symbol.toPrimitive]("string"),ae,_e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Zt)}function dt(Zt){if(typeof Zt!="number")throw new TypeError('"size" argument must be of type number');if(Zt<0)throw new RangeError('The value "'+Zt+'" is invalid for option "size"')}function St(Zt,ae,_e){return dt(Zt),Zt<=0?ot(Zt):ae!==void 0?typeof _e=="string"?ot(Zt).fill(ae,_e):ot(Zt).fill(ae):ot(Zt)}function Tt(Zt){return dt(Zt),ot(Zt<0?0:0|jt(Zt))}function Rt(Zt,ae){if(typeof ae=="string"&&ae!==""||(ae="utf8"),!ut.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);var _e=0|Dt(Zt,ae),be=ot(_e),De=be.write(Zt,ae);return De!==_e&&(be=be.slice(0,De)),be}function zt(Zt){for(var ae=Zt.length<0?0:0|jt(Zt.length),_e=ot(ae),be=0;be<ae;be+=1)_e[be]=255&Zt[be];return _e}function $t(Zt,ae,_e){if(ae<0||Zt.byteLength<ae)throw new RangeError('"offset" is outside of buffer bounds');if(Zt.byteLength<ae+(_e||0))throw new RangeError('"length" is outside of buffer bounds');var be;return(be=ae===void 0&&_e===void 0?new Uint8Array(Zt):_e===void 0?new Uint8Array(Zt,ae):new Uint8Array(Zt,ae,_e)).__proto__=ut.prototype,be}function Ht(Zt){if(ut.isBuffer(Zt)){var ae=0|jt(Zt.length),_e=ot(ae);return _e.length===0||Zt.copy(_e,0,0,ae),_e}return Zt.length!==void 0?typeof Zt.length!="number"||Re(Zt.length)?ot(0):zt(Zt):Zt.type==="Buffer"&&Array.isArray(Zt.data)?zt(Zt.data):void 0}function jt(Zt){if(Zt>=et)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+et.toString(16)+" bytes");return 0|Zt}function Ft(Zt){return+Zt!=Zt&&(Zt=0),ut.alloc(+Zt)}function Dt(Zt,ae){if(ut.isBuffer(Zt))return Zt.length;if(ArrayBuffer.isView(Zt)||we(Zt,ArrayBuffer))return Zt.byteLength;if(typeof Zt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Zt);var _e=Zt.length,be=arguments.length>2&&arguments[2]===!0;if(!be&&_e===0)return 0;for(var De=!1;;)switch(ae){case"ascii":case"latin1":case"binary":return _e;case"utf8":case"utf-8":return Jt(Zt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*_e;case"hex":return _e>>>1;case"base64":return me(Zt).length;default:if(De)return be?-1:Jt(Zt).length;ae=(""+ae).toLowerCase(),De=!0}}function Yt(Zt,ae,_e){var be=!1;if((ae===void 0||ae<0)&&(ae=0),ae>this.length||((_e===void 0||_e>this.length)&&(_e=this.length),_e<=0)||(_e>>>=0)<=(ae>>>=0))return"";for(Zt||(Zt="utf8");;)switch(Zt){case"hex":return ue(this,ae,_e);case"utf8":case"utf-8":return de(this,ae,_e);case"ascii":return ye(this,ae,_e);case"latin1":case"binary":return Me(this,ae,_e);case"base64":return le(this,ae,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,ae,_e);default:if(be)throw new TypeError("Unknown encoding: "+Zt);Zt=(Zt+"").toLowerCase(),be=!0}}function ne(Zt,ae,_e){var be=Zt[ae];Zt[ae]=Zt[_e],Zt[_e]=be}function Kt(Zt,ae,_e,be,De){if(Zt.length===0)return-1;if(typeof _e=="string"?(be=_e,_e=0):_e>2147483647?_e=2147483647:_e<-2147483648&&(_e=-2147483648),Re(_e=+_e)&&(_e=De?0:Zt.length-1),_e<0&&(_e=Zt.length+_e),_e>=Zt.length){if(De)return-1;_e=Zt.length-1}else if(_e<0){if(!De)return-1;_e=0}if(typeof ae=="string"&&(ae=ut.from(ae,be)),ut.isBuffer(ae))return ae.length===0?-1:re(Zt,ae,_e,be,De);if(typeof ae=="number")return ae&=255,typeof Uint8Array.prototype.indexOf=="function"?De?Uint8Array.prototype.indexOf.call(Zt,ae,_e):Uint8Array.prototype.lastIndexOf.call(Zt,ae,_e):re(Zt,[ae],_e,be,De);throw new TypeError("val must be string, number or Buffer")}function re(Zt,ae,_e,be,De){var je,er=1,ir=Zt.length,Xe=ae.length;if(be!==void 0&&((be=String(be).toLowerCase())==="ucs2"||be==="ucs-2"||be==="utf16le"||be==="utf-16le")){if(Zt.length<2||ae.length<2)return-1;er=2,ir/=2,Xe/=2,_e/=2}function ar(hr,kr){return er===1?hr[kr]:hr.readUInt16BE(kr*er)}if(De){var rr=-1;for(je=_e;je<ir;je++)if(ar(Zt,je)===ar(ae,rr===-1?0:je-rr)){if(rr===-1&&(rr=je),je-rr+1===Xe)return rr*er}else rr!==-1&&(je-=je-rr),rr=-1}else for(_e+Xe>ir&&(_e=ir-Xe),je=_e;je>=0;je--){for(var _r=!0,dr=0;dr<Xe;dr++)if(ar(Zt,je+dr)!==ar(ae,dr)){_r=!1;break}if(_r)return je}return-1}function ee(Zt,ae,_e,be){_e=Number(_e)||0;var De=Zt.length-_e;be?(be=Number(be))>De&&(be=De):be=De;var je=ae.length;be>je/2&&(be=je/2);for(var er=0;er<be;++er){var ir=parseInt(ae.substr(2*er,2),16);if(Re(ir))return er;Zt[_e+er]=ir}return er}function oe(Zt,ae,_e,be){return pe(Jt(ae,Zt.length-_e),Zt,_e,be)}function Ut(Zt,ae,_e,be){return pe(Te(ae),Zt,_e,be)}function ie(Zt,ae,_e,be){return Ut(Zt,ae,_e,be)}function ge(Zt,ae,_e,be){return pe(me(ae),Zt,_e,be)}function ce(Zt,ae,_e,be){return pe(he(ae,Zt.length-_e),Zt,_e,be)}function le(Zt,ae,_e){return ae===0&&_e===Zt.length?j.fromByteArray(Zt):j.fromByteArray(Zt.slice(ae,_e))}function de(Zt,ae,_e){_e=Math.min(Zt.length,_e);for(var be=[],De=ae;De<_e;){var je,er,ir,Xe,ar=Zt[De],rr=null,_r=ar>239?4:ar>223?3:ar>191?2:1;if(De+_r<=_e)switch(_r){case 1:ar<128&&(rr=ar);break;case 2:(192&(je=Zt[De+1]))==128&&(Xe=(31&ar)<<6|63&je)>127&&(rr=Xe);break;case 3:je=Zt[De+1],er=Zt[De+2],(192&je)==128&&(192&er)==128&&(Xe=(15&ar)<<12|(63&je)<<6|63&er)>2047&&(Xe<55296||Xe>57343)&&(rr=Xe);break;case 4:je=Zt[De+1],er=Zt[De+2],ir=Zt[De+3],(192&je)==128&&(192&er)==128&&(192&ir)==128&&(Xe=(15&ar)<<18|(63&je)<<12|(63&er)<<6|63&ir)>65535&&Xe<1114112&&(rr=Xe)}rr===null?(rr=65533,_r=1):rr>65535&&(rr-=65536,be.push(rr>>>10&1023|55296),rr=56320|1023&rr),be.push(rr),De+=_r}return ve(be)}g.kMaxLength=et,ut.TYPED_ARRAY_SUPPORT=it(),ut.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(ut.prototype,"parent",{enumerable:!0,get:function(){if(ut.isBuffer(this))return this.buffer}}),Object.defineProperty(ut.prototype,"offset",{enumerable:!0,get:function(){if(ut.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&ut[Symbol.species]===ut&&Object.defineProperty(ut,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),ut.poolSize=8192,ut.from=function(Zt,ae,_e){return ft(Zt,ae,_e)},ut.prototype.__proto__=Uint8Array.prototype,ut.__proto__=Uint8Array,ut.alloc=function(Zt,ae,_e){return St(Zt,ae,_e)},ut.allocUnsafe=function(Zt){return Tt(Zt)},ut.allocUnsafeSlow=function(Zt){return Tt(Zt)},ut.isBuffer=function(Zt){return Zt!=null&&Zt._isBuffer===!0&&Zt!==ut.prototype},ut.compare=function(Zt,ae){if(we(Zt,Uint8Array)&&(Zt=ut.from(Zt,Zt.offset,Zt.byteLength)),we(ae,Uint8Array)&&(ae=ut.from(ae,ae.offset,ae.byteLength)),!ut.isBuffer(Zt)||!ut.isBuffer(ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Zt===ae)return 0;for(var _e=Zt.length,be=ae.length,De=0,je=Math.min(_e,be);De<je;++De)if(Zt[De]!==ae[De]){_e=Zt[De],be=ae[De];break}return _e<be?-1:be<_e?1:0},ut.isEncoding=function(Zt){switch(String(Zt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ut.concat=function(Zt,ae){if(!Array.isArray(Zt))throw new TypeError('"list" argument must be an Array of Buffers');if(Zt.length===0)return ut.alloc(0);var _e;if(ae===void 0)for(ae=0,_e=0;_e<Zt.length;++_e)ae+=Zt[_e].length;var be=ut.allocUnsafe(ae),De=0;for(_e=0;_e<Zt.length;++_e){var je=Zt[_e];if(we(je,Uint8Array)&&(je=ut.from(je)),!ut.isBuffer(je))throw new TypeError('"list" argument must be an Array of Buffers');je.copy(be,De),De+=je.length}return be},ut.byteLength=Dt,ut.prototype._isBuffer=!0,ut.prototype.swap16=function(){var Zt=this.length;if(Zt%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ae=0;ae<Zt;ae+=2)ne(this,ae,ae+1);return this},ut.prototype.swap32=function(){var Zt=this.length;if(Zt%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ae=0;ae<Zt;ae+=4)ne(this,ae,ae+3),ne(this,ae+1,ae+2);return this},ut.prototype.swap64=function(){var Zt=this.length;if(Zt%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ae=0;ae<Zt;ae+=8)ne(this,ae,ae+7),ne(this,ae+1,ae+6),ne(this,ae+2,ae+5),ne(this,ae+3,ae+4);return this},ut.prototype.toString=function(){var Zt=this.length;return Zt===0?"":arguments.length===0?de(this,0,Zt):Yt.apply(this,arguments)},ut.prototype.toLocaleString=ut.prototype.toString,ut.prototype.equals=function(Zt){if(!ut.isBuffer(Zt))throw new TypeError("Argument must be a Buffer");return this===Zt||ut.compare(this,Zt)===0},ut.prototype.inspect=function(){var Zt="",ae=g.INSPECT_MAX_BYTES;return Zt=this.toString("hex",0,ae).replace(/(.{2})/g,"$1 ").trim(),this.length>ae&&(Zt+=" ... "),"<Buffer "+Zt+">"},ut.prototype.compare=function(Zt,ae,_e,be,De){if(we(Zt,Uint8Array)&&(Zt=ut.from(Zt,Zt.offset,Zt.byteLength)),!ut.isBuffer(Zt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Zt);if(ae===void 0&&(ae=0),_e===void 0&&(_e=Zt?Zt.length:0),be===void 0&&(be=0),De===void 0&&(De=this.length),ae<0||_e>Zt.length||be<0||De>this.length)throw new RangeError("out of range index");if(be>=De&&ae>=_e)return 0;if(be>=De)return-1;if(ae>=_e)return 1;if(this===Zt)return 0;for(var je=(De>>>=0)-(be>>>=0),er=(_e>>>=0)-(ae>>>=0),ir=Math.min(je,er),Xe=this.slice(be,De),ar=Zt.slice(ae,_e),rr=0;rr<ir;++rr)if(Xe[rr]!==ar[rr]){je=Xe[rr],er=ar[rr];break}return je<er?-1:er<je?1:0},ut.prototype.includes=function(Zt,ae,_e){return this.indexOf(Zt,ae,_e)!==-1},ut.prototype.indexOf=function(Zt,ae,_e){return Kt(this,Zt,ae,_e,!0)},ut.prototype.lastIndexOf=function(Zt,ae,_e){return Kt(this,Zt,ae,_e,!1)},ut.prototype.write=function(Zt,ae,_e,be){if(ae===void 0)be="utf8",_e=this.length,ae=0;else if(_e===void 0&&typeof ae=="string")be=ae,_e=this.length,ae=0;else{if(!isFinite(ae))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ae>>>=0,isFinite(_e)?(_e>>>=0,be===void 0&&(be="utf8")):(be=_e,_e=void 0)}var De=this.length-ae;if((_e===void 0||_e>De)&&(_e=De),Zt.length>0&&(_e<0||ae<0)||ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");be||(be="utf8");for(var je=!1;;)switch(be){case"hex":return ee(this,Zt,ae,_e);case"utf8":case"utf-8":return oe(this,Zt,ae,_e);case"ascii":return Ut(this,Zt,ae,_e);case"latin1":case"binary":return ie(this,Zt,ae,_e);case"base64":return ge(this,Zt,ae,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,Zt,ae,_e);default:if(je)throw new TypeError("Unknown encoding: "+be);be=(""+be).toLowerCase(),je=!0}},ut.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ae=4096;function ve(Zt){var ae=Zt.length;if(ae<=Ae)return String.fromCharCode.apply(String,Zt);for(var _e="",be=0;be<ae;)_e+=String.fromCharCode.apply(String,Zt.slice(be,be+=Ae));return _e}function ye(Zt,ae,_e){var be="";_e=Math.min(Zt.length,_e);for(var De=ae;De<_e;++De)be+=String.fromCharCode(127&Zt[De]);return be}function Me(Zt,ae,_e){var be="";_e=Math.min(Zt.length,_e);for(var De=ae;De<_e;++De)be+=String.fromCharCode(Zt[De]);return be}function ue(Zt,ae,_e){var be=Zt.length;(!ae||ae<0)&&(ae=0),(!_e||_e<0||_e>be)&&(_e=be);for(var De="",je=ae;je<_e;++je)De+=Ce(Zt[je]);return De}function xe(Zt,ae,_e){for(var be=Zt.slice(ae,_e),De="",je=0;je<be.length;je+=2)De+=String.fromCharCode(be[je]+256*be[je+1]);return De}function Be(Zt,ae,_e){if(Zt%1!=0||Zt<0)throw new RangeError("offset is not uint");if(Zt+ae>_e)throw new RangeError("Trying to access beyond buffer length")}function Pe(Zt,ae,_e,be,De,je){if(!ut.isBuffer(Zt))throw new TypeError('"buffer" argument must be a Buffer instance');if(ae>De||ae<je)throw new RangeError('"value" argument is out of bounds');if(_e+be>Zt.length)throw new RangeError("Index out of range")}function Ee(Zt,ae,_e,be,De,je){if(_e+be>Zt.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("Index out of range")}function Se(Zt,ae,_e,be,De){return ae=+ae,_e>>>=0,De||Ee(Zt,ae,_e,4),H.write(Zt,ae,_e,be,23,4),_e+4}function Ne(Zt,ae,_e,be,De){return ae=+ae,_e>>>=0,De||Ee(Zt,ae,_e,8),H.write(Zt,ae,_e,be,52,8),_e+8}ut.prototype.slice=function(Zt,ae){var _e=this.length;(Zt=~~Zt)<0?(Zt+=_e)<0&&(Zt=0):Zt>_e&&(Zt=_e),(ae=ae===void 0?_e:~~ae)<0?(ae+=_e)<0&&(ae=0):ae>_e&&(ae=_e),ae<Zt&&(ae=Zt);var be=this.subarray(Zt,ae);return be.__proto__=ut.prototype,be},ut.prototype.readUIntLE=function(Zt,ae,_e){Zt>>>=0,ae>>>=0,_e||Be(Zt,ae,this.length);for(var be=this[Zt],De=1,je=0;++je<ae&&(De*=256);)be+=this[Zt+je]*De;return be},ut.prototype.readUIntBE=function(Zt,ae,_e){Zt>>>=0,ae>>>=0,_e||Be(Zt,ae,this.length);for(var be=this[Zt+--ae],De=1;ae>0&&(De*=256);)be+=this[Zt+--ae]*De;return be},ut.prototype.readUInt8=function(Zt,ae){return Zt>>>=0,ae||Be(Zt,1,this.length),this[Zt]},ut.prototype.readUInt16LE=function(Zt,ae){return Zt>>>=0,ae||Be(Zt,2,this.length),this[Zt]|this[Zt+1]<<8},ut.prototype.readUInt16BE=function(Zt,ae){return Zt>>>=0,ae||Be(Zt,2,this.length),this[Zt]<<8|this[Zt+1]},ut.prototype.readUInt32LE=function(Zt,ae){return Zt>>>=0,ae||Be(Zt,4,this.length),(this[Zt]|this[Zt+1]<<8|this[Zt+2]<<16)+16777216*this[Zt+3]},ut.prototype.readUInt32BE=function(Zt,ae){return Zt>>>=0,ae||Be(Zt,4,this.length),16777216*this[Zt]+(this[Zt+1]<<16|this[Zt+2]<<8|this[Zt+3])},ut.prototype.readIntLE=function(Zt,ae,_e){Zt>>>=0,ae>>>=0,_e||Be(Zt,ae,this.length);for(var be=this[Zt],De=1,je=0;++je<ae&&(De*=256);)be+=this[Zt+je]*De;return be>=(De*=128)&&(be-=Math.pow(2,8*ae)),be},ut.prototype.readIntBE=function(Zt,ae,_e){Zt>>>=0,ae>>>=0,_e||Be(Zt,ae,this.length);for(var be=ae,De=1,je=this[Zt+--be];be>0&&(De*=256);)je+=this[Zt+--be]*De;return je>=(De*=128)&&(je-=Math.pow(2,8*ae)),je},ut.prototype.readInt8=function(Zt,ae){return Zt>>>=0,ae||Be(Zt,1,this.length),128&this[Zt]?-1*(255-this[Zt]+1):this[Zt]},ut.prototype.readInt16LE=function(Zt,ae){Zt>>>=0,ae||Be(Zt,2,this.length);var _e=this[Zt]|this[Zt+1]<<8;return 32768&_e?4294901760|_e:_e},ut.prototype.readInt16BE=function(Zt,ae){Zt>>>=0,ae||Be(Zt,2,this.length);var _e=this[Zt+1]|this[Zt]<<8;return 32768&_e?4294901760|_e:_e},ut.prototype.readInt32LE=function(Zt,ae){return Zt>>>=0,ae||Be(Zt,4,this.length),this[Zt]|this[Zt+1]<<8|this[Zt+2]<<16|this[Zt+3]<<24},ut.prototype.readInt32BE=function(Zt,ae){return Zt>>>=0,ae||Be(Zt,4,this.length),this[Zt]<<24|this[Zt+1]<<16|this[Zt+2]<<8|this[Zt+3]},ut.prototype.readFloatLE=function(Zt,ae){return Zt>>>=0,ae||Be(Zt,4,this.length),H.read(this,Zt,!0,23,4)},ut.prototype.readFloatBE=function(Zt,ae){return Zt>>>=0,ae||Be(Zt,4,this.length),H.read(this,Zt,!1,23,4)},ut.prototype.readDoubleLE=function(Zt,ae){return Zt>>>=0,ae||Be(Zt,8,this.length),H.read(this,Zt,!0,52,8)},ut.prototype.readDoubleBE=function(Zt,ae){return Zt>>>=0,ae||Be(Zt,8,this.length),H.read(this,Zt,!1,52,8)},ut.prototype.writeUIntLE=function(Zt,ae,_e,be){Zt=+Zt,ae>>>=0,_e>>>=0,be||Pe(this,Zt,ae,_e,Math.pow(2,8*_e)-1,0);var De=1,je=0;for(this[ae]=255&Zt;++je<_e&&(De*=256);)this[ae+je]=Zt/De&255;return ae+_e},ut.prototype.writeUIntBE=function(Zt,ae,_e,be){Zt=+Zt,ae>>>=0,_e>>>=0,be||Pe(this,Zt,ae,_e,Math.pow(2,8*_e)-1,0);var De=_e-1,je=1;for(this[ae+De]=255&Zt;--De>=0&&(je*=256);)this[ae+De]=Zt/je&255;return ae+_e},ut.prototype.writeUInt8=function(Zt,ae,_e){return Zt=+Zt,ae>>>=0,_e||Pe(this,Zt,ae,1,255,0),this[ae]=255&Zt,ae+1},ut.prototype.writeUInt16LE=function(Zt,ae,_e){return Zt=+Zt,ae>>>=0,_e||Pe(this,Zt,ae,2,65535,0),this[ae]=255&Zt,this[ae+1]=Zt>>>8,ae+2},ut.prototype.writeUInt16BE=function(Zt,ae,_e){return Zt=+Zt,ae>>>=0,_e||Pe(this,Zt,ae,2,65535,0),this[ae]=Zt>>>8,this[ae+1]=255&Zt,ae+2},ut.prototype.writeUInt32LE=function(Zt,ae,_e){return Zt=+Zt,ae>>>=0,_e||Pe(this,Zt,ae,4,4294967295,0),this[ae+3]=Zt>>>24,this[ae+2]=Zt>>>16,this[ae+1]=Zt>>>8,this[ae]=255&Zt,ae+4},ut.prototype.writeUInt32BE=function(Zt,ae,_e){return Zt=+Zt,ae>>>=0,_e||Pe(this,Zt,ae,4,4294967295,0),this[ae]=Zt>>>24,this[ae+1]=Zt>>>16,this[ae+2]=Zt>>>8,this[ae+3]=255&Zt,ae+4},ut.prototype.writeIntLE=function(Zt,ae,_e,be){if(Zt=+Zt,ae>>>=0,!be){var De=Math.pow(2,8*_e-1);Pe(this,Zt,ae,_e,De-1,-De)}var je=0,er=1,ir=0;for(this[ae]=255&Zt;++je<_e&&(er*=256);)Zt<0&&ir===0&&this[ae+je-1]!==0&&(ir=1),this[ae+je]=(Zt/er|0)-ir&255;return ae+_e},ut.prototype.writeIntBE=function(Zt,ae,_e,be){if(Zt=+Zt,ae>>>=0,!be){var De=Math.pow(2,8*_e-1);Pe(this,Zt,ae,_e,De-1,-De)}var je=_e-1,er=1,ir=0;for(this[ae+je]=255&Zt;--je>=0&&(er*=256);)Zt<0&&ir===0&&this[ae+je+1]!==0&&(ir=1),this[ae+je]=(Zt/er|0)-ir&255;return ae+_e},ut.prototype.writeInt8=function(Zt,ae,_e){return Zt=+Zt,ae>>>=0,_e||Pe(this,Zt,ae,1,127,-128),Zt<0&&(Zt=255+Zt+1),this[ae]=255&Zt,ae+1},ut.prototype.writeInt16LE=function(Zt,ae,_e){return Zt=+Zt,ae>>>=0,_e||Pe(this,Zt,ae,2,32767,-32768),this[ae]=255&Zt,this[ae+1]=Zt>>>8,ae+2},ut.prototype.writeInt16BE=function(Zt,ae,_e){return Zt=+Zt,ae>>>=0,_e||Pe(this,Zt,ae,2,32767,-32768),this[ae]=Zt>>>8,this[ae+1]=255&Zt,ae+2},ut.prototype.writeInt32LE=function(Zt,ae,_e){return Zt=+Zt,ae>>>=0,_e||Pe(this,Zt,ae,4,2147483647,-2147483648),this[ae]=255&Zt,this[ae+1]=Zt>>>8,this[ae+2]=Zt>>>16,this[ae+3]=Zt>>>24,ae+4},ut.prototype.writeInt32BE=function(Zt,ae,_e){return Zt=+Zt,ae>>>=0,_e||Pe(this,Zt,ae,4,2147483647,-2147483648),Zt<0&&(Zt=4294967295+Zt+1),this[ae]=Zt>>>24,this[ae+1]=Zt>>>16,this[ae+2]=Zt>>>8,this[ae+3]=255&Zt,ae+4},ut.prototype.writeFloatLE=function(Zt,ae,_e){return Se(this,Zt,ae,!0,_e)},ut.prototype.writeFloatBE=function(Zt,ae,_e){return Se(this,Zt,ae,!1,_e)},ut.prototype.writeDoubleLE=function(Zt,ae,_e){return Ne(this,Zt,ae,!0,_e)},ut.prototype.writeDoubleBE=function(Zt,ae,_e){return Ne(this,Zt,ae,!1,_e)},ut.prototype.copy=function(Zt,ae,_e,be){if(!ut.isBuffer(Zt))throw new TypeError("argument should be a Buffer");if(_e||(_e=0),be||be===0||(be=this.length),ae>=Zt.length&&(ae=Zt.length),ae||(ae=0),be>0&&be<_e&&(be=_e),be===_e||Zt.length===0||this.length===0)return 0;if(ae<0)throw new RangeError("targetStart out of bounds");if(_e<0||_e>=this.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("sourceEnd out of bounds");be>this.length&&(be=this.length),Zt.length-ae<be-_e&&(be=Zt.length-ae+_e);var De=be-_e;if(this===Zt&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(ae,_e,be);else if(this===Zt&&_e<ae&&ae<be)for(var je=De-1;je>=0;--je)Zt[je+ae]=this[je+_e];else Uint8Array.prototype.set.call(Zt,this.subarray(_e,be),ae);return De},ut.prototype.fill=function(Zt,ae,_e,be){if(typeof Zt=="string"){if(typeof ae=="string"?(be=ae,ae=0,_e=this.length):typeof _e=="string"&&(be=_e,_e=this.length),be!==void 0&&typeof be!="string")throw new TypeError("encoding must be a string");if(typeof be=="string"&&!ut.isEncoding(be))throw new TypeError("Unknown encoding: "+be);if(Zt.length===1){var De=Zt.charCodeAt(0);(be==="utf8"&&De<128||be==="latin1")&&(Zt=De)}}else typeof Zt=="number"&&(Zt&=255);if(ae<0||this.length<ae||this.length<_e)throw new RangeError("Out of range index");if(_e<=ae)return this;var je;if(ae>>>=0,_e=_e===void 0?this.length:_e>>>0,Zt||(Zt=0),typeof Zt=="number")for(je=ae;je<_e;++je)this[je]=Zt;else{var er=ut.isBuffer(Zt)?Zt:ut.from(Zt,be),ir=er.length;if(ir===0)throw new TypeError('The value "'+Zt+'" is invalid for argument "value"');for(je=0;je<_e-ae;++je)this[je+ae]=er[je%ir]}return this};var Fe=/[^+/0-9A-Za-z-_]/g;function Oe(Zt){if((Zt=(Zt=Zt.split("=")[0]).trim().replace(Fe,"")).length<2)return"";for(;Zt.length%4!=0;)Zt+="=";return Zt}function Ce(Zt){return Zt<16?"0"+Zt.toString(16):Zt.toString(16)}function Jt(Zt,ae){var _e;ae=ae||1/0;for(var be=Zt.length,De=null,je=[],er=0;er<be;++er){if((_e=Zt.charCodeAt(er))>55295&&_e<57344){if(!De){if(_e>56319){(ae-=3)>-1&&je.push(239,191,189);continue}if(er+1===be){(ae-=3)>-1&&je.push(239,191,189);continue}De=_e;continue}if(_e<56320){(ae-=3)>-1&&je.push(239,191,189),De=_e;continue}_e=65536+(De-55296<<10|_e-56320)}else De&&(ae-=3)>-1&&je.push(239,191,189);if(De=null,_e<128){if((ae-=1)<0)break;je.push(_e)}else if(_e<2048){if((ae-=2)<0)break;je.push(_e>>6|192,63&_e|128)}else if(_e<65536){if((ae-=3)<0)break;je.push(_e>>12|224,_e>>6&63|128,63&_e|128)}else{if(!(_e<1114112))throw new Error("Invalid code point");if((ae-=4)<0)break;je.push(_e>>18|240,_e>>12&63|128,_e>>6&63|128,63&_e|128)}}return je}function Te(Zt){for(var ae=[],_e=0;_e<Zt.length;++_e)ae.push(255&Zt.charCodeAt(_e));return ae}function he(Zt,ae){for(var _e,be,De,je=[],er=0;er<Zt.length&&!((ae-=2)<0);++er)be=(_e=Zt.charCodeAt(er))>>8,De=_e%256,je.push(De),je.push(be);return je}function me(Zt){return j.toByteArray(Oe(Zt))}function pe(Zt,ae,_e,be){for(var De=0;De<be&&!(De+_e>=ae.length||De>=Zt.length);++De)ae[De+_e]=Zt[De];return De}function we(Zt,ae){return Zt instanceof ae||Zt!=null&&Zt.constructor!=null&&Zt.constructor.name!=null&&Zt.constructor.name===ae.name}function Re(Zt){return Zt!=Zt}}).call(this)}).call(this,d("buffer").Buffer)},{"base64-js":28,buffer:32,ieee754:45}],33:[function(d,m,g){var w=d("get-intrinsic"),j=d("./"),H=j(w("String.prototype.indexOf"));m.exports=function(et,it){var ot=w(et,!!it);return typeof ot=="function"&&H(et,".prototype.")>-1?j(ot):ot}},{"./":34,"get-intrinsic":39}],34:[function(d,m,g){var w=d("function-bind"),j=d("get-intrinsic"),H=j("%Function.prototype.apply%"),et=j("%Function.prototype.call%"),it=j("%Reflect.apply%",!0)||w.call(et,H),ot=j("%Object.getOwnPropertyDescriptor%",!0),ut=j("%Object.defineProperty%",!0),ft=j("%Math.max%");if(ut)try{ut({},"a",{value:1})}catch{ut=null}m.exports=function(St){var Tt=it(w,et,arguments);return ot&&ut&&ot(Tt,"length").configurable&&ut(Tt,"length",{value:1+ft(0,St.length-(arguments.length-1))}),Tt};var dt=function(){return it(w,H,arguments)};ut?ut(m.exports,"apply",{value:dt}):m.exports.apply=dt},{"function-bind":38,"get-intrinsic":39}],35:[function(d,m,g){var w,j=typeof Reflect=="object"?Reflect:null,H=j&&typeof j.apply=="function"?j.apply:function(Kt,re,ee){return Function.prototype.apply.call(Kt,re,ee)};function et(Kt){console&&console.warn&&console.warn(Kt)}w=j&&typeof j.ownKeys=="function"?j.ownKeys:Object.getOwnPropertySymbols?function(Kt){return Object.getOwnPropertyNames(Kt).concat(Object.getOwnPropertySymbols(Kt))}:function(Kt){return Object.getOwnPropertyNames(Kt)};var it=Number.isNaN||function(Kt){return Kt!=Kt};function ot(){ot.init.call(this)}m.exports=ot,m.exports.once=Dt,ot.EventEmitter=ot,ot.prototype._events=void 0,ot.prototype._eventsCount=0,ot.prototype._maxListeners=void 0;var ut=10;function ft(Kt){if(typeof Kt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Kt)}function dt(Kt){return Kt._maxListeners===void 0?ot.defaultMaxListeners:Kt._maxListeners}function St(Kt,re,ee,oe){var Ut,ie,ge;if(ft(ee),(ie=Kt._events)===void 0?(ie=Kt._events=Object.create(null),Kt._eventsCount=0):(ie.newListener!==void 0&&(Kt.emit("newListener",re,ee.listener?ee.listener:ee),ie=Kt._events),ge=ie[re]),ge===void 0)ge=ie[re]=ee,++Kt._eventsCount;else if(typeof ge=="function"?ge=ie[re]=oe?[ee,ge]:[ge,ee]:oe?ge.unshift(ee):ge.push(ee),(Ut=dt(Kt))>0&&ge.length>Ut&&!ge.warned){ge.warned=!0;var ce=new Error("Possible EventEmitter memory leak detected. "+ge.length+" "+String(re)+" listeners added. Use emitter.setMaxListeners() to increase limit");ce.name="MaxListenersExceededWarning",ce.emitter=Kt,ce.type=re,ce.count=ge.length,et(ce)}return Kt}function Tt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Rt(Kt,re,ee){var oe={fired:!1,wrapFn:void 0,target:Kt,type:re,listener:ee},Ut=Tt.bind(oe);return Ut.listener=ee,oe.wrapFn=Ut,Ut}function zt(Kt,re,ee){var oe=Kt._events;if(oe===void 0)return[];var Ut=oe[re];return Ut===void 0?[]:typeof Ut=="function"?ee?[Ut.listener||Ut]:[Ut]:ee?Ft(Ut):Ht(Ut,Ut.length)}function $t(Kt){var re=this._events;if(re!==void 0){var ee=re[Kt];if(typeof ee=="function")return 1;if(ee!==void 0)return ee.length}return 0}function Ht(Kt,re){for(var ee=new Array(re),oe=0;oe<re;++oe)ee[oe]=Kt[oe];return ee}function jt(Kt,re){for(;re+1<Kt.length;re++)Kt[re]=Kt[re+1];Kt.pop()}function Ft(Kt){for(var re=new Array(Kt.length),ee=0;ee<re.length;++ee)re[ee]=Kt[ee].listener||Kt[ee];return re}function Dt(Kt,re){return new Promise(function(ee,oe){function Ut(ge){Kt.removeListener(re,ie),oe(ge)}function ie(){typeof Kt.removeListener=="function"&&Kt.removeListener("error",Ut),ee([].slice.call(arguments))}ne(Kt,re,ie,{once:!0}),re!=="error"&&Yt(Kt,Ut,{once:!0})})}function Yt(Kt,re,ee){typeof Kt.on=="function"&&ne(Kt,"error",re,ee)}function ne(Kt,re,ee,oe){if(typeof Kt.on=="function")oe.once?Kt.once(re,ee):Kt.on(re,ee);else{if(typeof Kt.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Kt);Kt.addEventListener(re,function Ut(ie){oe.once&&Kt.removeEventListener(re,Ut),ee(ie)})}}Object.defineProperty(ot,"defaultMaxListeners",{enumerable:!0,get:function(){return ut},set:function(Kt){if(typeof Kt!="number"||Kt<0||it(Kt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Kt+".");ut=Kt}}),ot.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ot.prototype.setMaxListeners=function(Kt){if(typeof Kt!="number"||Kt<0||it(Kt))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Kt+".");return this._maxListeners=Kt,this},ot.prototype.getMaxListeners=function(){return dt(this)},ot.prototype.emit=function(Kt){for(var re=[],ee=1;ee<arguments.length;ee++)re.push(arguments[ee]);var oe=Kt==="error",Ut=this._events;if(Ut!==void 0)oe=oe&&Ut.error===void 0;else if(!oe)return!1;if(oe){var ie;if(re.length>0&&(ie=re[0]),ie instanceof Error)throw ie;var ge=new Error("Unhandled error."+(ie?" ("+ie.message+")":""));throw ge.context=ie,ge}var ce=Ut[Kt];if(ce===void 0)return!1;if(typeof ce=="function")H(ce,this,re);else{var le=ce.length,de=Ht(ce,le);for(ee=0;ee<le;++ee)H(de[ee],this,re)}return!0},ot.prototype.addListener=function(Kt,re){return St(this,Kt,re,!1)},ot.prototype.on=ot.prototype.addListener,ot.prototype.prependListener=function(Kt,re){return St(this,Kt,re,!0)},ot.prototype.once=function(Kt,re){return ft(re),this.on(Kt,Rt(this,Kt,re)),this},ot.prototype.prependOnceListener=function(Kt,re){return ft(re),this.prependListener(Kt,Rt(this,Kt,re)),this},ot.prototype.removeListener=function(Kt,re){var ee,oe,Ut,ie,ge;if(ft(re),(oe=this._events)===void 0)return this;if((ee=oe[Kt])===void 0)return this;if(ee===re||ee.listener===re)--this._eventsCount==0?this._events=Object.create(null):(delete oe[Kt],oe.removeListener&&this.emit("removeListener",Kt,ee.listener||re));else if(typeof ee!="function"){for(Ut=-1,ie=ee.length-1;ie>=0;ie--)if(ee[ie]===re||ee[ie].listener===re){ge=ee[ie].listener,Ut=ie;break}if(Ut<0)return this;Ut===0?ee.shift():jt(ee,Ut),ee.length===1&&(oe[Kt]=ee[0]),oe.removeListener!==void 0&&this.emit("removeListener",Kt,ge||re)}return this},ot.prototype.off=ot.prototype.removeListener,ot.prototype.removeAllListeners=function(Kt){var re,ee,oe;if((ee=this._events)===void 0)return this;if(ee.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):ee[Kt]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete ee[Kt]),this;if(arguments.length===0){var Ut,ie=Object.keys(ee);for(oe=0;oe<ie.length;++oe)(Ut=ie[oe])!=="removeListener"&&this.removeAllListeners(Ut);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(re=ee[Kt])=="function")this.removeListener(Kt,re);else if(re!==void 0)for(oe=re.length-1;oe>=0;oe--)this.removeListener(Kt,re[oe]);return this},ot.prototype.listeners=function(Kt){return zt(this,Kt,!0)},ot.prototype.rawListeners=function(Kt){return zt(this,Kt,!1)},ot.listenerCount=function(Kt,re){return typeof Kt.listenerCount=="function"?Kt.listenerCount(re):$t.call(Kt,re)},ot.prototype.listenerCount=$t,ot.prototype.eventNames=function(){return this._eventsCount>0?w(this._events):[]}},{}],36:[function(d,m,g){var w=d("is-callable"),j=Object.prototype.toString,H=Object.prototype.hasOwnProperty,et=function(ft,dt,St){for(var Tt=0,Rt=ft.length;Tt<Rt;Tt++)H.call(ft,Tt)&&(St==null?dt(ft[Tt],Tt,ft):dt.call(St,ft[Tt],Tt,ft))},it=function(ft,dt,St){for(var Tt=0,Rt=ft.length;Tt<Rt;Tt++)St==null?dt(ft.charAt(Tt),Tt,ft):dt.call(St,ft.charAt(Tt),Tt,ft)},ot=function(ft,dt,St){for(var Tt in ft)H.call(ft,Tt)&&(St==null?dt(ft[Tt],Tt,ft):dt.call(St,ft[Tt],Tt,ft))},ut=function(ft,dt,St){if(!w(dt))throw new TypeError("iterator must be a function");var Tt;arguments.length>=3&&(Tt=St),j.call(ft)==="[object Array]"?et(ft,dt,Tt):typeof ft=="string"?it(ft,dt,Tt):ot(ft,dt,Tt)};m.exports=ut},{"is-callable":48}],37:[function(d,m,g){var w="Function.prototype.bind called on incompatible ",j=Array.prototype.slice,H=Object.prototype.toString,et="[object Function]";m.exports=function(it){var ot=this;if(typeof ot!="function"||H.call(ot)!==et)throw new TypeError(w+ot);for(var ut,ft=j.call(arguments,1),dt=function(){if(this instanceof ut){var $t=ot.apply(this,ft.concat(j.call(arguments)));return Object($t)===$t?$t:this}return ot.apply(it,ft.concat(j.call(arguments)))},St=Math.max(0,ot.length-ft.length),Tt=[],Rt=0;Rt<St;Rt++)Tt.push("$"+Rt);if(ut=Function("binder","return function ("+Tt.join(",")+"){ return binder.apply(this,arguments); }")(dt),ot.prototype){var zt=function(){};zt.prototype=ot.prototype,ut.prototype=new zt,zt.prototype=null}return ut}},{}],38:[function(d,m,g){var w=d("./implementation");m.exports=Function.prototype.bind||w},{"./implementation":37}],39:[function(d,m,g){var w,j=SyntaxError,H=Function,et=TypeError,it=function(ce){try{return H('"use strict"; return ('+ce+").constructor;")()}catch{}},ot=Object.getOwnPropertyDescriptor;if(ot)try{ot({},"")}catch{ot=null}var ut=function(){throw new et},ft=ot?function(){try{return ut}catch{try{return ot(arguments,"callee").get}catch{return ut}}}():ut,dt=d("has-symbols")(),St=Object.getPrototypeOf||function(ce){return ce.__proto__},Tt={},Rt=typeof Uint8Array>"u"?w:St(Uint8Array),zt={"%AggregateError%":typeof AggregateError>"u"?w:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?w:ArrayBuffer,"%ArrayIteratorPrototype%":dt?St([][Symbol.iterator]()):w,"%AsyncFromSyncIteratorPrototype%":w,"%AsyncFunction%":Tt,"%AsyncGenerator%":Tt,"%AsyncGeneratorFunction%":Tt,"%AsyncIteratorPrototype%":Tt,"%Atomics%":typeof Atomics>"u"?w:Atomics,"%BigInt%":typeof BigInt>"u"?w:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?w:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?w:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?w:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?w:Float32Array,"%Float64Array%":typeof Float64Array>"u"?w:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?w:FinalizationRegistry,"%Function%":H,"%GeneratorFunction%":Tt,"%Int8Array%":typeof Int8Array>"u"?w:Int8Array,"%Int16Array%":typeof Int16Array>"u"?w:Int16Array,"%Int32Array%":typeof Int32Array>"u"?w:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":dt?St(St([][Symbol.iterator]())):w,"%JSON%":typeof JSON=="object"?JSON:w,"%Map%":typeof Map>"u"?w:Map,"%MapIteratorPrototype%":typeof Map<"u"&&dt?St(new Map()[Symbol.iterator]()):w,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?w:Promise,"%Proxy%":typeof Proxy>"u"?w:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?w:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?w:Set,"%SetIteratorPrototype%":typeof Set<"u"&&dt?St(new Set()[Symbol.iterator]()):w,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?w:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":dt?St(""[Symbol.iterator]()):w,"%Symbol%":dt?Symbol:w,"%SyntaxError%":j,"%ThrowTypeError%":ft,"%TypedArray%":Rt,"%TypeError%":et,"%Uint8Array%":typeof Uint8Array>"u"?w:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?w:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?w:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?w:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?w:WeakMap,"%WeakRef%":typeof WeakRef>"u"?w:WeakRef,"%WeakSet%":typeof WeakSet>"u"?w:WeakSet};try{null.error}catch(ce){var $t=St(St(ce));zt["%Error.prototype%"]=$t}var Ht=function ce(le){var de;if(le==="%AsyncFunction%")de=it("async function () {}");else if(le==="%GeneratorFunction%")de=it("function* () {}");else if(le==="%AsyncGeneratorFunction%")de=it("async function* () {}");else if(le==="%AsyncGenerator%"){var Ae=ce("%AsyncGeneratorFunction%");Ae&&(de=Ae.prototype)}else if(le==="%AsyncIteratorPrototype%"){var ve=ce("%AsyncGenerator%");ve&&(de=St(ve.prototype))}return zt[le]=de,de},jt={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ft=d("function-bind"),Dt=d("has"),Yt=Ft.call(Function.call,Array.prototype.concat),ne=Ft.call(Function.apply,Array.prototype.splice),Kt=Ft.call(Function.call,String.prototype.replace),re=Ft.call(Function.call,String.prototype.slice),ee=Ft.call(Function.call,RegExp.prototype.exec),oe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ut=/\\(\\)?/g,ie=function(ce){var le=re(ce,0,1),de=re(ce,-1);if(le==="%"&&de!=="%")throw new j("invalid intrinsic syntax, expected closing `%`");if(de==="%"&&le!=="%")throw new j("invalid intrinsic syntax, expected opening `%`");var Ae=[];return Kt(ce,oe,function(ve,ye,Me,ue){Ae[Ae.length]=Me?Kt(ue,Ut,"$1"):ye||ve}),Ae},ge=function(ce,le){var de,Ae=ce;if(Dt(jt,Ae)&&(Ae="%"+(de=jt[Ae])[0]+"%"),Dt(zt,Ae)){var ve=zt[Ae];if(ve===Tt&&(ve=Ht(Ae)),ve===void 0&&!le)throw new et("intrinsic "+ce+" exists, but is not available. Please file an issue!");return{alias:de,name:Ae,value:ve}}throw new j("intrinsic "+ce+" does not exist!")};m.exports=function(ce,le){if(typeof ce!="string"||ce.length===0)throw new et("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof le!="boolean")throw new et('"allowMissing" argument must be a boolean');if(ee(/^%?[^%]*%?$/,ce)===null)throw new j("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var de=ie(ce),Ae=de.length>0?de[0]:"",ve=ge("%"+Ae+"%",le),ye=ve.name,Me=ve.value,ue=!1,xe=ve.alias;xe&&(Ae=xe[0],ne(de,Yt([0,1],xe)));for(var Be=1,Pe=!0;Be<de.length;Be+=1){var Ee=de[Be],Se=re(Ee,0,1),Ne=re(Ee,-1);if((Se==='"'||Se==="'"||Se==="`"||Ne==='"'||Ne==="'"||Ne==="`")&&Se!==Ne)throw new j("property names with quotes must have matching quotes");if(Ee!=="constructor"&&Pe||(ue=!0),Dt(zt,ye="%"+(Ae+="."+Ee)+"%"))Me=zt[ye];else if(Me!=null){if(!(Ee in Me)){if(!le)throw new et("base intrinsic for "+ce+" exists, but the property is not available.");return}if(ot&&Be+1>=de.length){var Fe=ot(Me,Ee);Me=(Pe=!!Fe)&&"get"in Fe&&!("originalValue"in Fe.get)?Fe.get:Me[Ee]}else Pe=Dt(Me,Ee),Me=Me[Ee];Pe&&!ue&&(zt[ye]=Me)}}return Me}},{"function-bind":38,has:44,"has-symbols":41}],40:[function(d,m,g){var w=d("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if(w)try{w([],"length")}catch{w=null}m.exports=w},{"get-intrinsic":39}],41:[function(d,m,g){var w=typeof Symbol<"u"&&Symbol,j=d("./shams");m.exports=function(){return typeof w=="function"&&typeof Symbol=="function"&&typeof w("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&j()}},{"./shams":42}],42:[function(d,m,g){m.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var w={},j=Symbol("test"),H=Object(j);if(typeof j=="string"||Object.prototype.toString.call(j)!=="[object Symbol]"||Object.prototype.toString.call(H)!=="[object Symbol]")return!1;var et=42;for(j in w[j]=et,w)return!1;if(typeof Object.keys=="function"&&Object.keys(w).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(w).length!==0)return!1;var it=Object.getOwnPropertySymbols(w);if(it.length!==1||it[0]!==j||!Object.prototype.propertyIsEnumerable.call(w,j))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var ot=Object.getOwnPropertyDescriptor(w,j);if(ot.value!==et||ot.enumerable!==!0)return!1}return!0}},{}],43:[function(d,m,g){var w=d("has-symbols/shams");m.exports=function(){return w()&&!!Symbol.toStringTag}},{"has-symbols/shams":42}],44:[function(d,m,g){var w=d("function-bind");m.exports=w.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":38}],45:[function(d,m,g){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g.read=function(w,j,H,et,it){var ot,ut,ft=8*it-et-1,dt=(1<<ft)-1,St=dt>>1,Tt=-7,Rt=H?it-1:0,zt=H?-1:1,$t=w[j+Rt];for(Rt+=zt,ot=$t&(1<<-Tt)-1,$t>>=-Tt,Tt+=ft;Tt>0;ot=256*ot+w[j+Rt],Rt+=zt,Tt-=8);for(ut=ot&(1<<-Tt)-1,ot>>=-Tt,Tt+=et;Tt>0;ut=256*ut+w[j+Rt],Rt+=zt,Tt-=8);if(ot===0)ot=1-St;else{if(ot===dt)return ut?NaN:1/0*($t?-1:1);ut+=Math.pow(2,et),ot-=St}return($t?-1:1)*ut*Math.pow(2,ot-et)},g.write=function(w,j,H,et,it,ot){var ut,ft,dt,St=8*ot-it-1,Tt=(1<<St)-1,Rt=Tt>>1,zt=it===23?Math.pow(2,-24)-Math.pow(2,-77):0,$t=et?0:ot-1,Ht=et?1:-1,jt=j<0||j===0&&1/j<0?1:0;for(j=Math.abs(j),isNaN(j)||j===1/0?(ft=isNaN(j)?1:0,ut=Tt):(ut=Math.floor(Math.log(j)/Math.LN2),j*(dt=Math.pow(2,-ut))<1&&(ut--,dt*=2),(j+=ut+Rt>=1?zt/dt:zt*Math.pow(2,1-Rt))*dt>=2&&(ut++,dt/=2),ut+Rt>=Tt?(ft=0,ut=Tt):ut+Rt>=1?(ft=(j*dt-1)*Math.pow(2,it),ut+=Rt):(ft=j*Math.pow(2,Rt-1)*Math.pow(2,it),ut=0));it>=8;w[H+$t]=255&ft,$t+=Ht,ft/=256,it-=8);for(ut=ut<<it|ft,St+=it;St>0;w[H+$t]=255&ut,$t+=Ht,ut/=256,St-=8);w[H+$t-Ht]|=128*jt}},{}],46:[function(d,m,g){typeof Object.create=="function"?m.exports=function(w,j){j&&(w.super_=j,w.prototype=Object.create(j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:m.exports=function(w,j){if(j){w.super_=j;var H=function(){};H.prototype=j.prototype,w.prototype=new H,w.prototype.constructor=w}}},{}],47:[function(d,m,g){var w=d("has-tostringtag/shams")(),j=d("call-bind/callBound")("Object.prototype.toString"),H=function(ot){return!(w&&ot&&typeof ot=="object"&&Symbol.toStringTag in ot)&&j(ot)==="[object Arguments]"},et=function(ot){return!!H(ot)||ot!==null&&typeof ot=="object"&&typeof ot.length=="number"&&ot.length>=0&&j(ot)!=="[object Array]"&&j(ot.callee)==="[object Function]"},it=function(){return H(arguments)}();H.isLegacyArguments=et,m.exports=it?H:et},{"call-bind/callBound":33,"has-tostringtag/shams":43}],48:[function(d,m,g){var w,j,H=Function.prototype.toString,et=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof et=="function"&&typeof Object.defineProperty=="function")try{w=Object.defineProperty({},"length",{get:function(){throw j}}),j={},et(function(){throw 42},null,w)}catch(Yt){Yt!==j&&(et=null)}else et=null;var it=/^\s*class\b/,ot=function(Yt){try{var ne=H.call(Yt);return it.test(ne)}catch{return!1}},ut=function(Yt){try{return!ot(Yt)&&(H.call(Yt),!0)}catch{return!1}},ft=Object.prototype.toString,dt="[object Object]",St="[object Function]",Tt="[object GeneratorFunction]",Rt="[object HTMLAllCollection]",zt="[object HTML document.all class]",$t="[object HTMLCollection]",Ht=typeof Symbol=="function"&&!!Symbol.toStringTag,jt=!(0 in[,]),Ft=function(){return!1};if(typeof document=="object"){var Dt=document.all;ft.call(Dt)===ft.call(document.all)&&(Ft=function(Yt){if((jt||!Yt)&&(Yt===void 0||typeof Yt=="object"))try{var ne=ft.call(Yt);return(ne===Rt||ne===zt||ne===$t||ne===dt)&&Yt("")==null}catch{}return!1})}m.exports=et?function(Yt){if(Ft(Yt))return!0;if(!Yt||typeof Yt!="function"&&typeof Yt!="object")return!1;try{et(Yt,null,w)}catch(ne){if(ne!==j)return!1}return!ot(Yt)&&ut(Yt)}:function(Yt){if(Ft(Yt))return!0;if(!Yt||typeof Yt!="function"&&typeof Yt!="object")return!1;if(Ht)return ut(Yt);if(ot(Yt))return!1;var ne=ft.call(Yt);return!(ne!==St&&ne!==Tt&&!/^\[object HTML/.test(ne))&&ut(Yt)}},{}],49:[function(d,m,g){var w,j=Object.prototype.toString,H=Function.prototype.toString,et=/^\s*(?:function)?\*/,it=d("has-tostringtag/shams")(),ot=Object.getPrototypeOf,ut=function(){if(!it)return!1;try{return Function("return function*() {}")()}catch{}};m.exports=function(ft){if(typeof ft!="function")return!1;if(et.test(H.call(ft)))return!0;if(!it)return j.call(ft)==="[object GeneratorFunction]";if(!ot)return!1;if(w===void 0){var dt=ut();w=!!dt&&ot(dt)}return ot(ft)===w}},{"has-tostringtag/shams":43}],50:[function(d,m,g){(function(w){(function(){var j=d("for-each"),H=d("available-typed-arrays"),et=d("call-bind/callBound"),it=et("Object.prototype.toString"),ot=d("has-tostringtag/shams")(),ut=d("gopd"),ft=typeof globalThis>"u"?w:globalThis,dt=H(),St=et("Array.prototype.indexOf",!0)||function(Ht,jt){for(var Ft=0;Ft<Ht.length;Ft+=1)if(Ht[Ft]===jt)return Ft;return-1},Tt=et("String.prototype.slice"),Rt={},zt=Object.getPrototypeOf;ot&&ut&&zt&&j(dt,function(Ht){var jt=new ft[Ht];if(Symbol.toStringTag in jt){var Ft=zt(jt),Dt=ut(Ft,Symbol.toStringTag);if(!Dt){var Yt=zt(Ft);Dt=ut(Yt,Symbol.toStringTag)}Rt[Ht]=Dt.get}});var $t=function(Ht){var jt=!1;return j(Rt,function(Ft,Dt){if(!jt)try{jt=Ft.call(Ht)===Dt}catch{}}),jt};m.exports=function(Ht){if(!Ht||typeof Ht!="object")return!1;if(!ot||!(Symbol.toStringTag in Ht)){var jt=Tt(it(Ht),8,-1);return St(dt,jt)>-1}return!!ut&&$t(Ht)}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43}],51:[function(d,m,g){var w=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;function et(ot){if(ot==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(ot)}function it(){try{if(!Object.assign)return!1;var ot=new String("abc");if(ot[5]="de",Object.getOwnPropertyNames(ot)[0]==="5")return!1;for(var ut={},ft=0;ft<10;ft++)ut["_"+String.fromCharCode(ft)]=ft;var dt=Object.getOwnPropertyNames(ut).map(function(Tt){return ut[Tt]});if(dt.join("")!=="0123456789")return!1;var St={};return"abcdefghijklmnopqrst".split("").forEach(function(Tt){St[Tt]=Tt}),Object.keys(Object.assign({},St)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}m.exports=it()?Object.assign:function(ot,ut){for(var ft,dt,St=et(ot),Tt=1;Tt<arguments.length;Tt++){for(var Rt in ft=Object(arguments[Tt]))j.call(ft,Rt)&&(St[Rt]=ft[Rt]);if(w){dt=w(ft);for(var zt=0;zt<dt.length;zt++)H.call(ft,dt[zt])&&(St[dt[zt]]=ft[dt[zt]])}}return St}},{}],52:[function(d,m,g){var w=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function j(it,ot){return Object.prototype.hasOwnProperty.call(it,ot)}g.assign=function(it){for(var ot=Array.prototype.slice.call(arguments,1);ot.length;){var ut=ot.shift();if(ut){if(typeof ut!="object")throw new TypeError(ut+"must be non-object");for(var ft in ut)j(ut,ft)&&(it[ft]=ut[ft])}}return it},g.shrinkBuf=function(it,ot){return it.length===ot?it:it.subarray?it.subarray(0,ot):(it.length=ot,it)};var H={arraySet:function(it,ot,ut,ft,dt){if(ot.subarray&&it.subarray)it.set(ot.subarray(ut,ut+ft),dt);else for(var St=0;St<ft;St++)it[dt+St]=ot[ut+St]},flattenChunks:function(it){var ot,ut,ft,dt,St,Tt;for(ft=0,ot=0,ut=it.length;ot<ut;ot++)ft+=it[ot].length;for(Tt=new Uint8Array(ft),dt=0,ot=0,ut=it.length;ot<ut;ot++)St=it[ot],Tt.set(St,dt),dt+=St.length;return Tt}},et={arraySet:function(it,ot,ut,ft,dt){for(var St=0;St<ft;St++)it[dt+St]=ot[ut+St]},flattenChunks:function(it){return[].concat.apply([],it)}};g.setTyped=function(it){it?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,H)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,et))},g.setTyped(w)},{}],53:[function(d,m,g){function w(j,H,et,it){for(var ot=65535&j,ut=j>>>16&65535,ft=0;et!==0;){et-=ft=et>2e3?2e3:et;do ut=ut+(ot=ot+H[it++]|0)|0;while(--ft);ot%=65521,ut%=65521}return ot|ut<<16}m.exports=w},{}],54:[function(d,m,g){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],55:[function(d,m,g){function w(){for(var et,it=[],ot=0;ot<256;ot++){et=ot;for(var ut=0;ut<8;ut++)et=1&et?3988292384^et>>>1:et>>>1;it[ot]=et}return it}var j=w();function H(et,it,ot,ut){var ft=j,dt=ut+ot;et^=-1;for(var St=ut;St<dt;St++)et=et>>>8^ft[255&(et^it[St])];return~et}m.exports=H},{}],56:[function(d,m,g){var w,j=d("../utils/common"),H=d("./trees"),et=d("./adler32"),it=d("./crc32"),ot=d("./messages"),ut=0,ft=1,dt=3,St=4,Tt=5,Rt=0,zt=1,$t=-2,Ht=-3,jt=-5,Ft=-1,Dt=1,Yt=2,ne=3,Kt=4,re=0,ee=2,oe=8,Ut=9,ie=15,ge=8,ce=286,le=30,de=19,Ae=2*ce+1,ve=15,ye=3,Me=258,ue=Me+ye+1,xe=32,Be=42,Pe=69,Ee=73,Se=91,Ne=103,Fe=113,Oe=666,Ce=1,Jt=2,Te=3,he=4,me=3;function pe(se,Ve){return se.msg=ot[Ve],Ve}function we(se){return(se<<1)-(se>4?9:0)}function Re(se){for(var Ve=se.length;--Ve>=0;)se[Ve]=0}function Zt(se){var Ve=se.state,Ze=Ve.pending;Ze>se.avail_out&&(Ze=se.avail_out),Ze!==0&&(j.arraySet(se.output,Ve.pending_buf,Ve.pending_out,Ze,se.next_out),se.next_out+=Ze,Ve.pending_out+=Ze,se.total_out+=Ze,se.avail_out-=Ze,Ve.pending-=Ze,Ve.pending===0&&(Ve.pending_out=0))}function ae(se,Ve){H._tr_flush_block(se,se.block_start>=0?se.block_start:-1,se.strstart-se.block_start,Ve),se.block_start=se.strstart,Zt(se.strm)}function _e(se,Ve){se.pending_buf[se.pending++]=Ve}function be(se,Ve){se.pending_buf[se.pending++]=Ve>>>8&255,se.pending_buf[se.pending++]=255&Ve}function De(se,Ve,Ze,$e){var We=se.avail_in;return We>$e&&(We=$e),We===0?0:(se.avail_in-=We,j.arraySet(Ve,se.input,se.next_in,We,Ze),se.state.wrap===1?se.adler=et(se.adler,Ve,We,Ze):se.state.wrap===2&&(se.adler=it(se.adler,Ve,We,Ze)),se.next_in+=We,se.total_in+=We,We)}function je(se,Ve){var Ze,$e,We=se.max_chain_length,qe=se.strstart,gr=se.prev_length,fr=se.nice_match,pr=se.strstart>se.w_size-ue?se.strstart-(se.w_size-ue):0,Ir=se.window,Xr=se.w_mask,Ar=se.prev,Nr=se.strstart+Me,Br=Ir[qe+gr-1],$r=Ir[qe+gr];se.prev_length>=se.good_match&&(We>>=2),fr>se.lookahead&&(fr=se.lookahead);do if(Ir[(Ze=Ve)+gr]===$r&&Ir[Ze+gr-1]===Br&&Ir[Ze]===Ir[qe]&&Ir[++Ze]===Ir[qe+1]){qe+=2,Ze++;do;while(Ir[++qe]===Ir[++Ze]&&Ir[++qe]===Ir[++Ze]&&Ir[++qe]===Ir[++Ze]&&Ir[++qe]===Ir[++Ze]&&Ir[++qe]===Ir[++Ze]&&Ir[++qe]===Ir[++Ze]&&Ir[++qe]===Ir[++Ze]&&Ir[++qe]===Ir[++Ze]&&qe<Nr);if($e=Me-(Nr-qe),qe=Nr-Me,$e>gr){if(se.match_start=Ve,gr=$e,$e>=fr)break;Br=Ir[qe+gr-1],$r=Ir[qe+gr]}}while((Ve=Ar[Ve&Xr])>pr&&--We!=0);return gr<=se.lookahead?gr:se.lookahead}function er(se){var Ve,Ze,$e,We,qe,gr=se.w_size;do{if(We=se.window_size-se.lookahead-se.strstart,se.strstart>=gr+(gr-ue)){j.arraySet(se.window,se.window,gr,gr,0),se.match_start-=gr,se.strstart-=gr,se.block_start-=gr,Ve=Ze=se.hash_size;do $e=se.head[--Ve],se.head[Ve]=$e>=gr?$e-gr:0;while(--Ze);Ve=Ze=gr;do $e=se.prev[--Ve],se.prev[Ve]=$e>=gr?$e-gr:0;while(--Ze);We+=gr}if(se.strm.avail_in===0)break;if(Ze=De(se.strm,se.window,se.strstart+se.lookahead,We),se.lookahead+=Ze,se.lookahead+se.insert>=ye)for(qe=se.strstart-se.insert,se.ins_h=se.window[qe],se.ins_h=(se.ins_h<<se.hash_shift^se.window[qe+1])&se.hash_mask;se.insert&&(se.ins_h=(se.ins_h<<se.hash_shift^se.window[qe+ye-1])&se.hash_mask,se.prev[qe&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=qe,qe++,se.insert--,!(se.lookahead+se.insert<ye)););}while(se.lookahead<ue&&se.strm.avail_in!==0)}function ir(se,Ve){var Ze=65535;for(Ze>se.pending_buf_size-5&&(Ze=se.pending_buf_size-5);;){if(se.lookahead<=1){if(er(se),se.lookahead===0&&Ve===ut)return Ce;if(se.lookahead===0)break}se.strstart+=se.lookahead,se.lookahead=0;var $e=se.block_start+Ze;if((se.strstart===0||se.strstart>=$e)&&(se.lookahead=se.strstart-$e,se.strstart=$e,ae(se,!1),se.strm.avail_out===0)||se.strstart-se.block_start>=se.w_size-ue&&(ae(se,!1),se.strm.avail_out===0))return Ce}return se.insert=0,Ve===St?(ae(se,!0),se.strm.avail_out===0?Te:he):(se.strstart>se.block_start&&(ae(se,!1),se.strm.avail_out),Ce)}function Xe(se,Ve){for(var Ze,$e;;){if(se.lookahead<ue){if(er(se),se.lookahead<ue&&Ve===ut)return Ce;if(se.lookahead===0)break}if(Ze=0,se.lookahead>=ye&&(se.ins_h=(se.ins_h<<se.hash_shift^se.window[se.strstart+ye-1])&se.hash_mask,Ze=se.prev[se.strstart&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=se.strstart),Ze!==0&&se.strstart-Ze<=se.w_size-ue&&(se.match_length=je(se,Ze)),se.match_length>=ye)if($e=H._tr_tally(se,se.strstart-se.match_start,se.match_length-ye),se.lookahead-=se.match_length,se.match_length<=se.max_lazy_match&&se.lookahead>=ye){se.match_length--;do se.strstart++,se.ins_h=(se.ins_h<<se.hash_shift^se.window[se.strstart+ye-1])&se.hash_mask,Ze=se.prev[se.strstart&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=se.strstart;while(--se.match_length!=0);se.strstart++}else se.strstart+=se.match_length,se.match_length=0,se.ins_h=se.window[se.strstart],se.ins_h=(se.ins_h<<se.hash_shift^se.window[se.strstart+1])&se.hash_mask;else $e=H._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++;if($e&&(ae(se,!1),se.strm.avail_out===0))return Ce}return se.insert=se.strstart<ye-1?se.strstart:ye-1,Ve===St?(ae(se,!0),se.strm.avail_out===0?Te:he):se.last_lit&&(ae(se,!1),se.strm.avail_out===0)?Ce:Jt}function ar(se,Ve){for(var Ze,$e,We;;){if(se.lookahead<ue){if(er(se),se.lookahead<ue&&Ve===ut)return Ce;if(se.lookahead===0)break}if(Ze=0,se.lookahead>=ye&&(se.ins_h=(se.ins_h<<se.hash_shift^se.window[se.strstart+ye-1])&se.hash_mask,Ze=se.prev[se.strstart&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=se.strstart),se.prev_length=se.match_length,se.prev_match=se.match_start,se.match_length=ye-1,Ze!==0&&se.prev_length<se.max_lazy_match&&se.strstart-Ze<=se.w_size-ue&&(se.match_length=je(se,Ze),se.match_length<=5&&(se.strategy===Dt||se.match_length===ye&&se.strstart-se.match_start>4096)&&(se.match_length=ye-1)),se.prev_length>=ye&&se.match_length<=se.prev_length){We=se.strstart+se.lookahead-ye,$e=H._tr_tally(se,se.strstart-1-se.prev_match,se.prev_length-ye),se.lookahead-=se.prev_length-1,se.prev_length-=2;do++se.strstart<=We&&(se.ins_h=(se.ins_h<<se.hash_shift^se.window[se.strstart+ye-1])&se.hash_mask,Ze=se.prev[se.strstart&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=se.strstart);while(--se.prev_length!=0);if(se.match_available=0,se.match_length=ye-1,se.strstart++,$e&&(ae(se,!1),se.strm.avail_out===0))return Ce}else if(se.match_available){if(($e=H._tr_tally(se,0,se.window[se.strstart-1]))&&ae(se,!1),se.strstart++,se.lookahead--,se.strm.avail_out===0)return Ce}else se.match_available=1,se.strstart++,se.lookahead--}return se.match_available&&($e=H._tr_tally(se,0,se.window[se.strstart-1]),se.match_available=0),se.insert=se.strstart<ye-1?se.strstart:ye-1,Ve===St?(ae(se,!0),se.strm.avail_out===0?Te:he):se.last_lit&&(ae(se,!1),se.strm.avail_out===0)?Ce:Jt}function rr(se,Ve){for(var Ze,$e,We,qe,gr=se.window;;){if(se.lookahead<=Me){if(er(se),se.lookahead<=Me&&Ve===ut)return Ce;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=ye&&se.strstart>0&&($e=gr[We=se.strstart-1])===gr[++We]&&$e===gr[++We]&&$e===gr[++We]){qe=se.strstart+Me;do;while($e===gr[++We]&&$e===gr[++We]&&$e===gr[++We]&&$e===gr[++We]&&$e===gr[++We]&&$e===gr[++We]&&$e===gr[++We]&&$e===gr[++We]&&We<qe);se.match_length=Me-(qe-We),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=ye?(Ze=H._tr_tally(se,1,se.match_length-ye),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(Ze=H._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),Ze&&(ae(se,!1),se.strm.avail_out===0))return Ce}return se.insert=0,Ve===St?(ae(se,!0),se.strm.avail_out===0?Te:he):se.last_lit&&(ae(se,!1),se.strm.avail_out===0)?Ce:Jt}function _r(se,Ve){for(var Ze;;){if(se.lookahead===0&&(er(se),se.lookahead===0)){if(Ve===ut)return Ce;break}if(se.match_length=0,Ze=H._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,Ze&&(ae(se,!1),se.strm.avail_out===0))return Ce}return se.insert=0,Ve===St?(ae(se,!0),se.strm.avail_out===0?Te:he):se.last_lit&&(ae(se,!1),se.strm.avail_out===0)?Ce:Jt}function dr(se,Ve,Ze,$e,We){this.good_length=se,this.max_lazy=Ve,this.nice_length=Ze,this.max_chain=$e,this.func=We}function hr(se){se.window_size=2*se.w_size,Re(se.head),se.max_lazy_match=w[se.level].max_lazy,se.good_match=w[se.level].good_length,se.nice_match=w[se.level].nice_length,se.max_chain_length=w[se.level].max_chain,se.strstart=0,se.block_start=0,se.lookahead=0,se.insert=0,se.match_length=se.prev_length=ye-1,se.match_available=0,se.ins_h=0}function kr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=oe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new j.Buf16(2*Ae),this.dyn_dtree=new j.Buf16(2*(2*le+1)),this.bl_tree=new j.Buf16(2*(2*de+1)),Re(this.dyn_ltree),Re(this.dyn_dtree),Re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new j.Buf16(ve+1),this.heap=new j.Buf16(2*ce+1),Re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new j.Buf16(2*ce+1),Re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function cr(se){var Ve;return se&&se.state?(se.total_in=se.total_out=0,se.data_type=ee,(Ve=se.state).pending=0,Ve.pending_out=0,Ve.wrap<0&&(Ve.wrap=-Ve.wrap),Ve.status=Ve.wrap?Be:Fe,se.adler=Ve.wrap===2?0:1,Ve.last_flush=ut,H._tr_init(Ve),Rt):pe(se,$t)}function ze(se){var Ve=cr(se);return Ve===Rt&&hr(se.state),Ve}function nr(se,Ve){return se&&se.state?se.state.wrap!==2?$t:(se.state.gzhead=Ve,Rt):$t}function Le(se,Ve,Ze,$e,We,qe){if(!se)return $t;var gr=1;if(Ve===Ft&&(Ve=6),$e<0?(gr=0,$e=-$e):$e>15&&(gr=2,$e-=16),We<1||We>Ut||Ze!==oe||$e<8||$e>15||Ve<0||Ve>9||qe<0||qe>Kt)return pe(se,$t);$e===8&&($e=9);var fr=new kr;return se.state=fr,fr.strm=se,fr.wrap=gr,fr.gzhead=null,fr.w_bits=$e,fr.w_size=1<<fr.w_bits,fr.w_mask=fr.w_size-1,fr.hash_bits=We+7,fr.hash_size=1<<fr.hash_bits,fr.hash_mask=fr.hash_size-1,fr.hash_shift=~~((fr.hash_bits+ye-1)/ye),fr.window=new j.Buf8(2*fr.w_size),fr.head=new j.Buf16(fr.hash_size),fr.prev=new j.Buf16(fr.w_size),fr.lit_bufsize=1<<We+6,fr.pending_buf_size=4*fr.lit_bufsize,fr.pending_buf=new j.Buf8(fr.pending_buf_size),fr.d_buf=1*fr.lit_bufsize,fr.l_buf=3*fr.lit_bufsize,fr.level=Ve,fr.strategy=qe,fr.method=Ze,ze(se)}function Qe(se,Ve){return Le(se,Ve,oe,ie,ge,re)}function ke(se,Ve){var Ze,$e,We,qe;if(!se||!se.state||Ve>Tt||Ve<0)return se?pe(se,$t):$t;if($e=se.state,!se.output||!se.input&&se.avail_in!==0||$e.status===Oe&&Ve!==St)return pe(se,se.avail_out===0?jt:$t);if($e.strm=se,Ze=$e.last_flush,$e.last_flush=Ve,$e.status===Be)if($e.wrap===2)se.adler=0,_e($e,31),_e($e,139),_e($e,8),$e.gzhead?(_e($e,($e.gzhead.text?1:0)+($e.gzhead.hcrc?2:0)+($e.gzhead.extra?4:0)+($e.gzhead.name?8:0)+($e.gzhead.comment?16:0)),_e($e,255&$e.gzhead.time),_e($e,$e.gzhead.time>>8&255),_e($e,$e.gzhead.time>>16&255),_e($e,$e.gzhead.time>>24&255),_e($e,$e.level===9?2:$e.strategy>=Yt||$e.level<2?4:0),_e($e,255&$e.gzhead.os),$e.gzhead.extra&&$e.gzhead.extra.length&&(_e($e,255&$e.gzhead.extra.length),_e($e,$e.gzhead.extra.length>>8&255)),$e.gzhead.hcrc&&(se.adler=it(se.adler,$e.pending_buf,$e.pending,0)),$e.gzindex=0,$e.status=Pe):(_e($e,0),_e($e,0),_e($e,0),_e($e,0),_e($e,0),_e($e,$e.level===9?2:$e.strategy>=Yt||$e.level<2?4:0),_e($e,me),$e.status=Fe);else{var gr=oe+($e.w_bits-8<<4)<<8;gr|=($e.strategy>=Yt||$e.level<2?0:$e.level<6?1:$e.level===6?2:3)<<6,$e.strstart!==0&&(gr|=xe),gr+=31-gr%31,$e.status=Fe,be($e,gr),$e.strstart!==0&&(be($e,se.adler>>>16),be($e,65535&se.adler)),se.adler=1}if($e.status===Pe)if($e.gzhead.extra){for(We=$e.pending;$e.gzindex<(65535&$e.gzhead.extra.length)&&($e.pending!==$e.pending_buf_size||($e.gzhead.hcrc&&$e.pending>We&&(se.adler=it(se.adler,$e.pending_buf,$e.pending-We,We)),Zt(se),We=$e.pending,$e.pending!==$e.pending_buf_size));)_e($e,255&$e.gzhead.extra[$e.gzindex]),$e.gzindex++;$e.gzhead.hcrc&&$e.pending>We&&(se.adler=it(se.adler,$e.pending_buf,$e.pending-We,We)),$e.gzindex===$e.gzhead.extra.length&&($e.gzindex=0,$e.status=Ee)}else $e.status=Ee;if($e.status===Ee)if($e.gzhead.name){We=$e.pending;do{if($e.pending===$e.pending_buf_size&&($e.gzhead.hcrc&&$e.pending>We&&(se.adler=it(se.adler,$e.pending_buf,$e.pending-We,We)),Zt(se),We=$e.pending,$e.pending===$e.pending_buf_size)){qe=1;break}qe=$e.gzindex<$e.gzhead.name.length?255&$e.gzhead.name.charCodeAt($e.gzindex++):0,_e($e,qe)}while(qe!==0);$e.gzhead.hcrc&&$e.pending>We&&(se.adler=it(se.adler,$e.pending_buf,$e.pending-We,We)),qe===0&&($e.gzindex=0,$e.status=Se)}else $e.status=Se;if($e.status===Se)if($e.gzhead.comment){We=$e.pending;do{if($e.pending===$e.pending_buf_size&&($e.gzhead.hcrc&&$e.pending>We&&(se.adler=it(se.adler,$e.pending_buf,$e.pending-We,We)),Zt(se),We=$e.pending,$e.pending===$e.pending_buf_size)){qe=1;break}qe=$e.gzindex<$e.gzhead.comment.length?255&$e.gzhead.comment.charCodeAt($e.gzindex++):0,_e($e,qe)}while(qe!==0);$e.gzhead.hcrc&&$e.pending>We&&(se.adler=it(se.adler,$e.pending_buf,$e.pending-We,We)),qe===0&&($e.status=Ne)}else $e.status=Ne;if($e.status===Ne&&($e.gzhead.hcrc?($e.pending+2>$e.pending_buf_size&&Zt(se),$e.pending+2<=$e.pending_buf_size&&(_e($e,255&se.adler),_e($e,se.adler>>8&255),se.adler=0,$e.status=Fe)):$e.status=Fe),$e.pending!==0){if(Zt(se),se.avail_out===0)return $e.last_flush=-1,Rt}else if(se.avail_in===0&&we(Ve)<=we(Ze)&&Ve!==St)return pe(se,jt);if($e.status===Oe&&se.avail_in!==0)return pe(se,jt);if(se.avail_in!==0||$e.lookahead!==0||Ve!==ut&&$e.status!==Oe){var fr=$e.strategy===Yt?_r($e,Ve):$e.strategy===ne?rr($e,Ve):w[$e.level].func($e,Ve);if(fr!==Te&&fr!==he||($e.status=Oe),fr===Ce||fr===Te)return se.avail_out===0&&($e.last_flush=-1),Rt;if(fr===Jt&&(Ve===ft?H._tr_align($e):Ve!==Tt&&(H._tr_stored_block($e,0,0,!1),Ve===dt&&(Re($e.head),$e.lookahead===0&&($e.strstart=0,$e.block_start=0,$e.insert=0))),Zt(se),se.avail_out===0))return $e.last_flush=-1,Rt}return Ve!==St?Rt:$e.wrap<=0?zt:($e.wrap===2?(_e($e,255&se.adler),_e($e,se.adler>>8&255),_e($e,se.adler>>16&255),_e($e,se.adler>>24&255),_e($e,255&se.total_in),_e($e,se.total_in>>8&255),_e($e,se.total_in>>16&255),_e($e,se.total_in>>24&255)):(be($e,se.adler>>>16),be($e,65535&se.adler)),Zt(se),$e.wrap>0&&($e.wrap=-$e.wrap),$e.pending!==0?Rt:zt)}function tr(se){var Ve;return se&&se.state?(Ve=se.state.status)!==Be&&Ve!==Pe&&Ve!==Ee&&Ve!==Se&&Ve!==Ne&&Ve!==Fe&&Ve!==Oe?pe(se,$t):(se.state=null,Ve===Fe?pe(se,Ht):Rt):$t}function br(se,Ve){var Ze,$e,We,qe,gr,fr,pr,Ir,Xr=Ve.length;if(!se||!se.state||(qe=(Ze=se.state).wrap)===2||qe===1&&Ze.status!==Be||Ze.lookahead)return $t;for(qe===1&&(se.adler=et(se.adler,Ve,Xr,0)),Ze.wrap=0,Xr>=Ze.w_size&&(qe===0&&(Re(Ze.head),Ze.strstart=0,Ze.block_start=0,Ze.insert=0),Ir=new j.Buf8(Ze.w_size),j.arraySet(Ir,Ve,Xr-Ze.w_size,Ze.w_size,0),Ve=Ir,Xr=Ze.w_size),gr=se.avail_in,fr=se.next_in,pr=se.input,se.avail_in=Xr,se.next_in=0,se.input=Ve,er(Ze);Ze.lookahead>=ye;){$e=Ze.strstart,We=Ze.lookahead-(ye-1);do Ze.ins_h=(Ze.ins_h<<Ze.hash_shift^Ze.window[$e+ye-1])&Ze.hash_mask,Ze.prev[$e&Ze.w_mask]=Ze.head[Ze.ins_h],Ze.head[Ze.ins_h]=$e,$e++;while(--We);Ze.strstart=$e,Ze.lookahead=ye-1,er(Ze)}return Ze.strstart+=Ze.lookahead,Ze.block_start=Ze.strstart,Ze.insert=Ze.lookahead,Ze.lookahead=0,Ze.match_length=Ze.prev_length=ye-1,Ze.match_available=0,se.next_in=fr,se.input=pr,se.avail_in=gr,Ze.wrap=qe,Rt}w=[new dr(0,0,0,0,ir),new dr(4,4,8,4,Xe),new dr(4,5,16,8,Xe),new dr(4,6,32,32,Xe),new dr(4,4,16,16,ar),new dr(8,16,32,32,ar),new dr(8,16,128,128,ar),new dr(8,32,128,256,ar),new dr(32,128,258,1024,ar),new dr(32,258,258,4096,ar)],g.deflateInit=Qe,g.deflateInit2=Le,g.deflateReset=ze,g.deflateResetKeep=cr,g.deflateSetHeader=nr,g.deflate=ke,g.deflateEnd=tr,g.deflateSetDictionary=br,g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./messages":60,"./trees":61}],57:[function(d,m,g){var w=30,j=12;m.exports=function(H,et){var it,ot,ut,ft,dt,St,Tt,Rt,zt,$t,Ht,jt,Ft,Dt,Yt,ne,Kt,re,ee,oe,Ut,ie,ge,ce,le;it=H.state,ot=H.next_in,ce=H.input,ut=ot+(H.avail_in-5),ft=H.next_out,le=H.output,dt=ft-(et-H.avail_out),St=ft+(H.avail_out-257),Tt=it.dmax,Rt=it.wsize,zt=it.whave,$t=it.wnext,Ht=it.window,jt=it.hold,Ft=it.bits,Dt=it.lencode,Yt=it.distcode,ne=(1<<it.lenbits)-1,Kt=(1<<it.distbits)-1;t:do{Ft<15&&(jt+=ce[ot++]<<Ft,Ft+=8,jt+=ce[ot++]<<Ft,Ft+=8),re=Dt[jt&ne];e:for(;;){if(jt>>>=ee=re>>>24,Ft-=ee,(ee=re>>>16&255)==0)le[ft++]=65535&re;else{if(!(16&ee)){if(64&ee){if(32&ee){it.mode=j;break t}H.msg="invalid literal/length code",it.mode=w;break t}re=Dt[(65535&re)+(jt&(1<<ee)-1)];continue e}for(oe=65535&re,(ee&=15)&&(Ft<ee&&(jt+=ce[ot++]<<Ft,Ft+=8),oe+=jt&(1<<ee)-1,jt>>>=ee,Ft-=ee),Ft<15&&(jt+=ce[ot++]<<Ft,Ft+=8,jt+=ce[ot++]<<Ft,Ft+=8),re=Yt[jt&Kt];;){if(jt>>>=ee=re>>>24,Ft-=ee,16&(ee=re>>>16&255)){if(Ut=65535&re,Ft<(ee&=15)&&(jt+=ce[ot++]<<Ft,(Ft+=8)<ee&&(jt+=ce[ot++]<<Ft,Ft+=8)),(Ut+=jt&(1<<ee)-1)>Tt){H.msg="invalid distance too far back",it.mode=w;break t}if(jt>>>=ee,Ft-=ee,Ut>(ee=ft-dt)){if((ee=Ut-ee)>zt&&it.sane){H.msg="invalid distance too far back",it.mode=w;break t}if(ie=0,ge=Ht,$t===0){if(ie+=Rt-ee,ee<oe){oe-=ee;do le[ft++]=Ht[ie++];while(--ee);ie=ft-Ut,ge=le}}else if($t<ee){if(ie+=Rt+$t-ee,(ee-=$t)<oe){oe-=ee;do le[ft++]=Ht[ie++];while(--ee);if(ie=0,$t<oe){oe-=ee=$t;do le[ft++]=Ht[ie++];while(--ee);ie=ft-Ut,ge=le}}}else if(ie+=$t-ee,ee<oe){oe-=ee;do le[ft++]=Ht[ie++];while(--ee);ie=ft-Ut,ge=le}for(;oe>2;)le[ft++]=ge[ie++],le[ft++]=ge[ie++],le[ft++]=ge[ie++],oe-=3;oe&&(le[ft++]=ge[ie++],oe>1&&(le[ft++]=ge[ie++]))}else{ie=ft-Ut;do le[ft++]=le[ie++],le[ft++]=le[ie++],le[ft++]=le[ie++],oe-=3;while(oe>2);oe&&(le[ft++]=le[ie++],oe>1&&(le[ft++]=le[ie++]))}break}if(64&ee){H.msg="invalid distance code",it.mode=w;break t}re=Yt[(65535&re)+(jt&(1<<ee)-1)]}}break}}while(ot<ut&&ft<St);ot-=oe=Ft>>3,jt&=(1<<(Ft-=oe<<3))-1,H.next_in=ot,H.next_out=ft,H.avail_in=ot<ut?ut-ot+5:5-(ot-ut),H.avail_out=ft<St?St-ft+257:257-(ft-St),it.hold=jt,it.bits=Ft}},{}],58:[function(d,m,g){var w=d("../utils/common"),j=d("./adler32"),H=d("./crc32"),et=d("./inffast"),it=d("./inftrees"),ot=0,ut=1,ft=2,dt=4,St=5,Tt=6,Rt=0,zt=1,$t=2,Ht=-2,jt=-3,Ft=-4,Dt=-5,Yt=8,ne=1,Kt=2,re=3,ee=4,oe=5,Ut=6,ie=7,ge=8,ce=9,le=10,de=11,Ae=12,ve=13,ye=14,Me=15,ue=16,xe=17,Be=18,Pe=19,Ee=20,Se=21,Ne=22,Fe=23,Oe=24,Ce=25,Jt=26,Te=27,he=28,me=29,pe=30,we=31,Re=852,Zt=592,ae=15;function _e(Le){return(Le>>>24&255)+(Le>>>8&65280)+((65280&Le)<<8)+((255&Le)<<24)}function be(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new w.Buf16(320),this.work=new w.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function De(Le){var Qe;return Le&&Le.state?(Qe=Le.state,Le.total_in=Le.total_out=Qe.total=0,Le.msg="",Qe.wrap&&(Le.adler=1&Qe.wrap),Qe.mode=ne,Qe.last=0,Qe.havedict=0,Qe.dmax=32768,Qe.head=null,Qe.hold=0,Qe.bits=0,Qe.lencode=Qe.lendyn=new w.Buf32(Re),Qe.distcode=Qe.distdyn=new w.Buf32(Zt),Qe.sane=1,Qe.back=-1,Rt):Ht}function je(Le){var Qe;return Le&&Le.state?((Qe=Le.state).wsize=0,Qe.whave=0,Qe.wnext=0,De(Le)):Ht}function er(Le,Qe){var ke,tr;return Le&&Le.state?(tr=Le.state,Qe<0?(ke=0,Qe=-Qe):(ke=1+(Qe>>4),Qe<48&&(Qe&=15)),Qe&&(Qe<8||Qe>15)?Ht:(tr.window!==null&&tr.wbits!==Qe&&(tr.window=null),tr.wrap=ke,tr.wbits=Qe,je(Le))):Ht}function ir(Le,Qe){var ke,tr;return Le?(tr=new be,Le.state=tr,tr.window=null,(ke=er(Le,Qe))!==Rt&&(Le.state=null),ke):Ht}function Xe(Le){return ir(Le,ae)}var ar,rr,_r=!0;function dr(Le){if(_r){var Qe;for(ar=new w.Buf32(512),rr=new w.Buf32(32),Qe=0;Qe<144;)Le.lens[Qe++]=8;for(;Qe<256;)Le.lens[Qe++]=9;for(;Qe<280;)Le.lens[Qe++]=7;for(;Qe<288;)Le.lens[Qe++]=8;for(it(ut,Le.lens,0,288,ar,0,Le.work,{bits:9}),Qe=0;Qe<32;)Le.lens[Qe++]=5;it(ft,Le.lens,0,32,rr,0,Le.work,{bits:5}),_r=!1}Le.lencode=ar,Le.lenbits=9,Le.distcode=rr,Le.distbits=5}function hr(Le,Qe,ke,tr){var br,se=Le.state;return se.window===null&&(se.wsize=1<<se.wbits,se.wnext=0,se.whave=0,se.window=new w.Buf8(se.wsize)),tr>=se.wsize?(w.arraySet(se.window,Qe,ke-se.wsize,se.wsize,0),se.wnext=0,se.whave=se.wsize):((br=se.wsize-se.wnext)>tr&&(br=tr),w.arraySet(se.window,Qe,ke-tr,br,se.wnext),(tr-=br)?(w.arraySet(se.window,Qe,ke-tr,tr,0),se.wnext=tr,se.whave=se.wsize):(se.wnext+=br,se.wnext===se.wsize&&(se.wnext=0),se.whave<se.wsize&&(se.whave+=br))),0}function kr(Le,Qe){var ke,tr,br,se,Ve,Ze,$e,We,qe,gr,fr,pr,Ir,Xr,Ar,Nr,Br,$r,xn,An,Fr,rn,gn,Zr,Wr=0,Lr=new w.Buf8(4),Yn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Le||!Le.state||!Le.output||!Le.input&&Le.avail_in!==0)return Ht;(ke=Le.state).mode===Ae&&(ke.mode=ve),Ve=Le.next_out,br=Le.output,$e=Le.avail_out,se=Le.next_in,tr=Le.input,Ze=Le.avail_in,We=ke.hold,qe=ke.bits,gr=Ze,fr=$e,rn=Rt;t:for(;;)switch(ke.mode){case ne:if(ke.wrap===0){ke.mode=ve;break}for(;qe<16;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(2&ke.wrap&&We===35615){ke.check=0,Lr[0]=255&We,Lr[1]=We>>>8&255,ke.check=H(ke.check,Lr,2,0),We=0,qe=0,ke.mode=Kt;break}if(ke.flags=0,ke.head&&(ke.head.done=!1),!(1&ke.wrap)||(((255&We)<<8)+(We>>8))%31){Le.msg="incorrect header check",ke.mode=pe;break}if((15&We)!==Yt){Le.msg="unknown compression method",ke.mode=pe;break}if(qe-=4,Fr=8+(15&(We>>>=4)),ke.wbits===0)ke.wbits=Fr;else if(Fr>ke.wbits){Le.msg="invalid window size",ke.mode=pe;break}ke.dmax=1<<Fr,Le.adler=ke.check=1,ke.mode=512&We?le:Ae,We=0,qe=0;break;case Kt:for(;qe<16;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(ke.flags=We,(255&ke.flags)!==Yt){Le.msg="unknown compression method",ke.mode=pe;break}if(57344&ke.flags){Le.msg="unknown header flags set",ke.mode=pe;break}ke.head&&(ke.head.text=We>>8&1),512&ke.flags&&(Lr[0]=255&We,Lr[1]=We>>>8&255,ke.check=H(ke.check,Lr,2,0)),We=0,qe=0,ke.mode=re;case re:for(;qe<32;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}ke.head&&(ke.head.time=We),512&ke.flags&&(Lr[0]=255&We,Lr[1]=We>>>8&255,Lr[2]=We>>>16&255,Lr[3]=We>>>24&255,ke.check=H(ke.check,Lr,4,0)),We=0,qe=0,ke.mode=ee;case ee:for(;qe<16;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}ke.head&&(ke.head.xflags=255&We,ke.head.os=We>>8),512&ke.flags&&(Lr[0]=255&We,Lr[1]=We>>>8&255,ke.check=H(ke.check,Lr,2,0)),We=0,qe=0,ke.mode=oe;case oe:if(1024&ke.flags){for(;qe<16;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}ke.length=We,ke.head&&(ke.head.extra_len=We),512&ke.flags&&(Lr[0]=255&We,Lr[1]=We>>>8&255,ke.check=H(ke.check,Lr,2,0)),We=0,qe=0}else ke.head&&(ke.head.extra=null);ke.mode=Ut;case Ut:if(1024&ke.flags&&((pr=ke.length)>Ze&&(pr=Ze),pr&&(ke.head&&(Fr=ke.head.extra_len-ke.length,ke.head.extra||(ke.head.extra=new Array(ke.head.extra_len)),w.arraySet(ke.head.extra,tr,se,pr,Fr)),512&ke.flags&&(ke.check=H(ke.check,tr,pr,se)),Ze-=pr,se+=pr,ke.length-=pr),ke.length))break t;ke.length=0,ke.mode=ie;case ie:if(2048&ke.flags){if(Ze===0)break t;pr=0;do Fr=tr[se+pr++],ke.head&&Fr&&ke.length<65536&&(ke.head.name+=String.fromCharCode(Fr));while(Fr&&pr<Ze);if(512&ke.flags&&(ke.check=H(ke.check,tr,pr,se)),Ze-=pr,se+=pr,Fr)break t}else ke.head&&(ke.head.name=null);ke.length=0,ke.mode=ge;case ge:if(4096&ke.flags){if(Ze===0)break t;pr=0;do Fr=tr[se+pr++],ke.head&&Fr&&ke.length<65536&&(ke.head.comment+=String.fromCharCode(Fr));while(Fr&&pr<Ze);if(512&ke.flags&&(ke.check=H(ke.check,tr,pr,se)),Ze-=pr,se+=pr,Fr)break t}else ke.head&&(ke.head.comment=null);ke.mode=ce;case ce:if(512&ke.flags){for(;qe<16;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(We!==(65535&ke.check)){Le.msg="header crc mismatch",ke.mode=pe;break}We=0,qe=0}ke.head&&(ke.head.hcrc=ke.flags>>9&1,ke.head.done=!0),Le.adler=ke.check=0,ke.mode=Ae;break;case le:for(;qe<32;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}Le.adler=ke.check=_e(We),We=0,qe=0,ke.mode=de;case de:if(ke.havedict===0)return Le.next_out=Ve,Le.avail_out=$e,Le.next_in=se,Le.avail_in=Ze,ke.hold=We,ke.bits=qe,$t;Le.adler=ke.check=1,ke.mode=Ae;case Ae:if(Qe===St||Qe===Tt)break t;case ve:if(ke.last){We>>>=7&qe,qe-=7&qe,ke.mode=Te;break}for(;qe<3;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}switch(ke.last=1&We,qe-=1,3&(We>>>=1)){case 0:ke.mode=ye;break;case 1:if(dr(ke),ke.mode=Ee,Qe===Tt){We>>>=2,qe-=2;break t}break;case 2:ke.mode=xe;break;case 3:Le.msg="invalid block type",ke.mode=pe}We>>>=2,qe-=2;break;case ye:for(We>>>=7&qe,qe-=7&qe;qe<32;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if((65535&We)!=(We>>>16^65535)){Le.msg="invalid stored block lengths",ke.mode=pe;break}if(ke.length=65535&We,We=0,qe=0,ke.mode=Me,Qe===Tt)break t;case Me:ke.mode=ue;case ue:if(pr=ke.length){if(pr>Ze&&(pr=Ze),pr>$e&&(pr=$e),pr===0)break t;w.arraySet(br,tr,se,pr,Ve),Ze-=pr,se+=pr,$e-=pr,Ve+=pr,ke.length-=pr;break}ke.mode=Ae;break;case xe:for(;qe<14;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(ke.nlen=257+(31&We),We>>>=5,qe-=5,ke.ndist=1+(31&We),We>>>=5,qe-=5,ke.ncode=4+(15&We),We>>>=4,qe-=4,ke.nlen>286||ke.ndist>30){Le.msg="too many length or distance symbols",ke.mode=pe;break}ke.have=0,ke.mode=Be;case Be:for(;ke.have<ke.ncode;){for(;qe<3;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}ke.lens[Yn[ke.have++]]=7&We,We>>>=3,qe-=3}for(;ke.have<19;)ke.lens[Yn[ke.have++]]=0;if(ke.lencode=ke.lendyn,ke.lenbits=7,gn={bits:ke.lenbits},rn=it(ot,ke.lens,0,19,ke.lencode,0,ke.work,gn),ke.lenbits=gn.bits,rn){Le.msg="invalid code lengths set",ke.mode=pe;break}ke.have=0,ke.mode=Pe;case Pe:for(;ke.have<ke.nlen+ke.ndist;){for(;Nr=(Wr=ke.lencode[We&(1<<ke.lenbits)-1])>>>16&255,Br=65535&Wr,!((Ar=Wr>>>24)<=qe);){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(Br<16)We>>>=Ar,qe-=Ar,ke.lens[ke.have++]=Br;else{if(Br===16){for(Zr=Ar+2;qe<Zr;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(We>>>=Ar,qe-=Ar,ke.have===0){Le.msg="invalid bit length repeat",ke.mode=pe;break}Fr=ke.lens[ke.have-1],pr=3+(3&We),We>>>=2,qe-=2}else if(Br===17){for(Zr=Ar+3;qe<Zr;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}qe-=Ar,Fr=0,pr=3+(7&(We>>>=Ar)),We>>>=3,qe-=3}else{for(Zr=Ar+7;qe<Zr;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}qe-=Ar,Fr=0,pr=11+(127&(We>>>=Ar)),We>>>=7,qe-=7}if(ke.have+pr>ke.nlen+ke.ndist){Le.msg="invalid bit length repeat",ke.mode=pe;break}for(;pr--;)ke.lens[ke.have++]=Fr}}if(ke.mode===pe)break;if(ke.lens[256]===0){Le.msg="invalid code -- missing end-of-block",ke.mode=pe;break}if(ke.lenbits=9,gn={bits:ke.lenbits},rn=it(ut,ke.lens,0,ke.nlen,ke.lencode,0,ke.work,gn),ke.lenbits=gn.bits,rn){Le.msg="invalid literal/lengths set",ke.mode=pe;break}if(ke.distbits=6,ke.distcode=ke.distdyn,gn={bits:ke.distbits},rn=it(ft,ke.lens,ke.nlen,ke.ndist,ke.distcode,0,ke.work,gn),ke.distbits=gn.bits,rn){Le.msg="invalid distances set",ke.mode=pe;break}if(ke.mode=Ee,Qe===Tt)break t;case Ee:ke.mode=Se;case Se:if(Ze>=6&&$e>=258){Le.next_out=Ve,Le.avail_out=$e,Le.next_in=se,Le.avail_in=Ze,ke.hold=We,ke.bits=qe,et(Le,fr),Ve=Le.next_out,br=Le.output,$e=Le.avail_out,se=Le.next_in,tr=Le.input,Ze=Le.avail_in,We=ke.hold,qe=ke.bits,ke.mode===Ae&&(ke.back=-1);break}for(ke.back=0;Nr=(Wr=ke.lencode[We&(1<<ke.lenbits)-1])>>>16&255,Br=65535&Wr,!((Ar=Wr>>>24)<=qe);){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(Nr&&!(240&Nr)){for($r=Ar,xn=Nr,An=Br;Nr=(Wr=ke.lencode[An+((We&(1<<$r+xn)-1)>>$r)])>>>16&255,Br=65535&Wr,!($r+(Ar=Wr>>>24)<=qe);){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}We>>>=$r,qe-=$r,ke.back+=$r}if(We>>>=Ar,qe-=Ar,ke.back+=Ar,ke.length=Br,Nr===0){ke.mode=Jt;break}if(32&Nr){ke.back=-1,ke.mode=Ae;break}if(64&Nr){Le.msg="invalid literal/length code",ke.mode=pe;break}ke.extra=15&Nr,ke.mode=Ne;case Ne:if(ke.extra){for(Zr=ke.extra;qe<Zr;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}ke.length+=We&(1<<ke.extra)-1,We>>>=ke.extra,qe-=ke.extra,ke.back+=ke.extra}ke.was=ke.length,ke.mode=Fe;case Fe:for(;Nr=(Wr=ke.distcode[We&(1<<ke.distbits)-1])>>>16&255,Br=65535&Wr,!((Ar=Wr>>>24)<=qe);){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(!(240&Nr)){for($r=Ar,xn=Nr,An=Br;Nr=(Wr=ke.distcode[An+((We&(1<<$r+xn)-1)>>$r)])>>>16&255,Br=65535&Wr,!($r+(Ar=Wr>>>24)<=qe);){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}We>>>=$r,qe-=$r,ke.back+=$r}if(We>>>=Ar,qe-=Ar,ke.back+=Ar,64&Nr){Le.msg="invalid distance code",ke.mode=pe;break}ke.offset=Br,ke.extra=15&Nr,ke.mode=Oe;case Oe:if(ke.extra){for(Zr=ke.extra;qe<Zr;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}ke.offset+=We&(1<<ke.extra)-1,We>>>=ke.extra,qe-=ke.extra,ke.back+=ke.extra}if(ke.offset>ke.dmax){Le.msg="invalid distance too far back",ke.mode=pe;break}ke.mode=Ce;case Ce:if($e===0)break t;if(pr=fr-$e,ke.offset>pr){if((pr=ke.offset-pr)>ke.whave&&ke.sane){Le.msg="invalid distance too far back",ke.mode=pe;break}pr>ke.wnext?(pr-=ke.wnext,Ir=ke.wsize-pr):Ir=ke.wnext-pr,pr>ke.length&&(pr=ke.length),Xr=ke.window}else Xr=br,Ir=Ve-ke.offset,pr=ke.length;pr>$e&&(pr=$e),$e-=pr,ke.length-=pr;do br[Ve++]=Xr[Ir++];while(--pr);ke.length===0&&(ke.mode=Se);break;case Jt:if($e===0)break t;br[Ve++]=ke.length,$e--,ke.mode=Se;break;case Te:if(ke.wrap){for(;qe<32;){if(Ze===0)break t;Ze--,We|=tr[se++]<<qe,qe+=8}if(fr-=$e,Le.total_out+=fr,ke.total+=fr,fr&&(Le.adler=ke.check=ke.flags?H(ke.check,br,fr,Ve-fr):j(ke.check,br,fr,Ve-fr)),fr=$e,(ke.flags?We:_e(We))!==ke.check){Le.msg="incorrect data check",ke.mode=pe;break}We=0,qe=0}ke.mode=he;case he:if(ke.wrap&&ke.flags){for(;qe<32;){if(Ze===0)break t;Ze--,We+=tr[se++]<<qe,qe+=8}if(We!==(4294967295&ke.total)){Le.msg="incorrect length check",ke.mode=pe;break}We=0,qe=0}ke.mode=me;case me:rn=zt;break t;case pe:rn=jt;break t;case we:return Ft;default:return Ht}return Le.next_out=Ve,Le.avail_out=$e,Le.next_in=se,Le.avail_in=Ze,ke.hold=We,ke.bits=qe,(ke.wsize||fr!==Le.avail_out&&ke.mode<pe&&(ke.mode<Te||Qe!==dt))&&hr(Le,Le.output,Le.next_out,fr-Le.avail_out),gr-=Le.avail_in,fr-=Le.avail_out,Le.total_in+=gr,Le.total_out+=fr,ke.total+=fr,ke.wrap&&fr&&(Le.adler=ke.check=ke.flags?H(ke.check,br,fr,Le.next_out-fr):j(ke.check,br,fr,Le.next_out-fr)),Le.data_type=ke.bits+(ke.last?64:0)+(ke.mode===Ae?128:0)+(ke.mode===Ee||ke.mode===Me?256:0),(gr===0&&fr===0||Qe===dt)&&rn===Rt&&(rn=Dt),rn}function cr(Le){if(!Le||!Le.state)return Ht;var Qe=Le.state;return Qe.window&&(Qe.window=null),Le.state=null,Rt}function ze(Le,Qe){var ke;return Le&&Le.state&&2&(ke=Le.state).wrap?(ke.head=Qe,Qe.done=!1,Rt):Ht}function nr(Le,Qe){var ke,tr=Qe.length;return Le&&Le.state?(ke=Le.state).wrap!==0&&ke.mode!==de?Ht:ke.mode===de&&j(1,Qe,tr,0)!==ke.check?jt:hr(Le,Qe,tr,tr)?(ke.mode=we,Ft):(ke.havedict=1,Rt):Ht}g.inflateReset=je,g.inflateReset2=er,g.inflateResetKeep=De,g.inflateInit=Xe,g.inflateInit2=ir,g.inflate=kr,g.inflateEnd=cr,g.inflateGetHeader=ze,g.inflateSetDictionary=nr,g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./inffast":57,"./inftrees":59}],59:[function(d,m,g){var w=d("../utils/common"),j=15,H=852,et=592,it=0,ot=1,ut=2,ft=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],dt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],St=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Tt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(Rt,zt,$t,Ht,jt,Ft,Dt,Yt){var ne,Kt,re,ee,oe,Ut,ie,ge,ce,le=Yt.bits,de=0,Ae=0,ve=0,ye=0,Me=0,ue=0,xe=0,Be=0,Pe=0,Ee=0,Se=null,Ne=0,Fe=new w.Buf16(j+1),Oe=new w.Buf16(j+1),Ce=null,Jt=0;for(de=0;de<=j;de++)Fe[de]=0;for(Ae=0;Ae<Ht;Ae++)Fe[zt[$t+Ae]]++;for(Me=le,ye=j;ye>=1&&Fe[ye]===0;ye--);if(Me>ye&&(Me=ye),ye===0)return jt[Ft++]=20971520,jt[Ft++]=20971520,Yt.bits=1,0;for(ve=1;ve<ye&&Fe[ve]===0;ve++);for(Me<ve&&(Me=ve),Be=1,de=1;de<=j;de++)if(Be<<=1,(Be-=Fe[de])<0)return-1;if(Be>0&&(Rt===it||ye!==1))return-1;for(Oe[1]=0,de=1;de<j;de++)Oe[de+1]=Oe[de]+Fe[de];for(Ae=0;Ae<Ht;Ae++)zt[$t+Ae]!==0&&(Dt[Oe[zt[$t+Ae]]++]=Ae);if(Rt===it?(Se=Ce=Dt,Ut=19):Rt===ot?(Se=ft,Ne-=257,Ce=dt,Jt-=257,Ut=256):(Se=St,Ce=Tt,Ut=-1),Ee=0,Ae=0,de=ve,oe=Ft,ue=Me,xe=0,re=-1,ee=(Pe=1<<Me)-1,Rt===ot&&Pe>H||Rt===ut&&Pe>et)return 1;for(;;){ie=de-xe,Dt[Ae]<Ut?(ge=0,ce=Dt[Ae]):Dt[Ae]>Ut?(ge=Ce[Jt+Dt[Ae]],ce=Se[Ne+Dt[Ae]]):(ge=96,ce=0),ne=1<<de-xe,ve=Kt=1<<ue;do jt[oe+(Ee>>xe)+(Kt-=ne)]=ie<<24|ge<<16|ce;while(Kt!==0);for(ne=1<<de-1;Ee&ne;)ne>>=1;if(ne!==0?(Ee&=ne-1,Ee+=ne):Ee=0,Ae++,--Fe[de]==0){if(de===ye)break;de=zt[$t+Dt[Ae]]}if(de>Me&&(Ee&ee)!==re){for(xe===0&&(xe=Me),oe+=ve,Be=1<<(ue=de-xe);ue+xe<ye&&!((Be-=Fe[ue+xe])<=0);)ue++,Be<<=1;if(Pe+=1<<ue,Rt===ot&&Pe>H||Rt===ut&&Pe>et)return 1;jt[re=Ee&ee]=Me<<24|ue<<16|oe-Ft}}return Ee!==0&&(jt[oe+Ee]=de-xe<<24|64<<16),Yt.bits=Me,0}},{"../utils/common":52}],60:[function(d,m,g){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],61:[function(d,m,g){var w=d("../utils/common"),j=4,H=0,et=1,it=2;function ot(ze){for(var nr=ze.length;--nr>=0;)ze[nr]=0}var ut=0,ft=1,dt=2,St=3,Tt=258,Rt=29,zt=256,$t=zt+1+Rt,Ht=30,jt=19,Ft=2*$t+1,Dt=15,Yt=16,ne=7,Kt=256,re=16,ee=17,oe=18,Ut=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ie=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=512,de=new Array(2*($t+2));ot(de);var Ae=new Array(2*Ht);ot(Ae);var ve=new Array(le);ot(ve);var ye=new Array(Tt-St+1);ot(ye);var Me=new Array(Rt);ot(Me);var ue,xe,Be,Pe=new Array(Ht);function Ee(ze,nr,Le,Qe,ke){this.static_tree=ze,this.extra_bits=nr,this.extra_base=Le,this.elems=Qe,this.max_length=ke,this.has_stree=ze&&ze.length}function Se(ze,nr){this.dyn_tree=ze,this.max_code=0,this.stat_desc=nr}function Ne(ze){return ze<256?ve[ze]:ve[256+(ze>>>7)]}function Fe(ze,nr){ze.pending_buf[ze.pending++]=255&nr,ze.pending_buf[ze.pending++]=nr>>>8&255}function Oe(ze,nr,Le){ze.bi_valid>Yt-Le?(ze.bi_buf|=nr<<ze.bi_valid&65535,Fe(ze,ze.bi_buf),ze.bi_buf=nr>>Yt-ze.bi_valid,ze.bi_valid+=Le-Yt):(ze.bi_buf|=nr<<ze.bi_valid&65535,ze.bi_valid+=Le)}function Ce(ze,nr,Le){Oe(ze,Le[2*nr],Le[2*nr+1])}function Jt(ze,nr){var Le=0;do Le|=1&ze,ze>>>=1,Le<<=1;while(--nr>0);return Le>>>1}function Te(ze){ze.bi_valid===16?(Fe(ze,ze.bi_buf),ze.bi_buf=0,ze.bi_valid=0):ze.bi_valid>=8&&(ze.pending_buf[ze.pending++]=255&ze.bi_buf,ze.bi_buf>>=8,ze.bi_valid-=8)}function he(ze,nr){var Le,Qe,ke,tr,br,se,Ve=nr.dyn_tree,Ze=nr.max_code,$e=nr.stat_desc.static_tree,We=nr.stat_desc.has_stree,qe=nr.stat_desc.extra_bits,gr=nr.stat_desc.extra_base,fr=nr.stat_desc.max_length,pr=0;for(tr=0;tr<=Dt;tr++)ze.bl_count[tr]=0;for(Ve[2*ze.heap[ze.heap_max]+1]=0,Le=ze.heap_max+1;Le<Ft;Le++)(tr=Ve[2*Ve[2*(Qe=ze.heap[Le])+1]+1]+1)>fr&&(tr=fr,pr++),Ve[2*Qe+1]=tr,Qe>Ze||(ze.bl_count[tr]++,br=0,Qe>=gr&&(br=qe[Qe-gr]),se=Ve[2*Qe],ze.opt_len+=se*(tr+br),We&&(ze.static_len+=se*($e[2*Qe+1]+br)));if(pr!==0){do{for(tr=fr-1;ze.bl_count[tr]===0;)tr--;ze.bl_count[tr]--,ze.bl_count[tr+1]+=2,ze.bl_count[fr]--,pr-=2}while(pr>0);for(tr=fr;tr!==0;tr--)for(Qe=ze.bl_count[tr];Qe!==0;)(ke=ze.heap[--Le])>Ze||(Ve[2*ke+1]!==tr&&(ze.opt_len+=(tr-Ve[2*ke+1])*Ve[2*ke],Ve[2*ke+1]=tr),Qe--)}}function me(ze,nr,Le){var Qe,ke,tr=new Array(Dt+1),br=0;for(Qe=1;Qe<=Dt;Qe++)tr[Qe]=br=br+Le[Qe-1]<<1;for(ke=0;ke<=nr;ke++){var se=ze[2*ke+1];se!==0&&(ze[2*ke]=Jt(tr[se]++,se))}}function pe(){var ze,nr,Le,Qe,ke,tr=new Array(Dt+1);for(Le=0,Qe=0;Qe<Rt-1;Qe++)for(Me[Qe]=Le,ze=0;ze<1<<Ut[Qe];ze++)ye[Le++]=Qe;for(ye[Le-1]=Qe,ke=0,Qe=0;Qe<16;Qe++)for(Pe[Qe]=ke,ze=0;ze<1<<ie[Qe];ze++)ve[ke++]=Qe;for(ke>>=7;Qe<Ht;Qe++)for(Pe[Qe]=ke<<7,ze=0;ze<1<<ie[Qe]-7;ze++)ve[256+ke++]=Qe;for(nr=0;nr<=Dt;nr++)tr[nr]=0;for(ze=0;ze<=143;)de[2*ze+1]=8,ze++,tr[8]++;for(;ze<=255;)de[2*ze+1]=9,ze++,tr[9]++;for(;ze<=279;)de[2*ze+1]=7,ze++,tr[7]++;for(;ze<=287;)de[2*ze+1]=8,ze++,tr[8]++;for(me(de,$t+1,tr),ze=0;ze<Ht;ze++)Ae[2*ze+1]=5,Ae[2*ze]=Jt(ze,5);ue=new Ee(de,Ut,zt+1,$t,Dt),xe=new Ee(Ae,ie,0,Ht,Dt),Be=new Ee(new Array(0),ge,0,jt,ne)}function we(ze){var nr;for(nr=0;nr<$t;nr++)ze.dyn_ltree[2*nr]=0;for(nr=0;nr<Ht;nr++)ze.dyn_dtree[2*nr]=0;for(nr=0;nr<jt;nr++)ze.bl_tree[2*nr]=0;ze.dyn_ltree[2*Kt]=1,ze.opt_len=ze.static_len=0,ze.last_lit=ze.matches=0}function Re(ze){ze.bi_valid>8?Fe(ze,ze.bi_buf):ze.bi_valid>0&&(ze.pending_buf[ze.pending++]=ze.bi_buf),ze.bi_buf=0,ze.bi_valid=0}function Zt(ze,nr,Le,Qe){Re(ze),Fe(ze,Le),Fe(ze,~Le),w.arraySet(ze.pending_buf,ze.window,nr,Le,ze.pending),ze.pending+=Le}function ae(ze,nr,Le,Qe){var ke=2*nr,tr=2*Le;return ze[ke]<ze[tr]||ze[ke]===ze[tr]&&Qe[nr]<=Qe[Le]}function _e(ze,nr,Le){for(var Qe=ze.heap[Le],ke=Le<<1;ke<=ze.heap_len&&(ke<ze.heap_len&&ae(nr,ze.heap[ke+1],ze.heap[ke],ze.depth)&&ke++,!ae(nr,Qe,ze.heap[ke],ze.depth));)ze.heap[Le]=ze.heap[ke],Le=ke,ke<<=1;ze.heap[Le]=Qe}function be(ze,nr,Le){var Qe,ke,tr,br,se=0;if(ze.last_lit!==0)do Qe=ze.pending_buf[ze.d_buf+2*se]<<8|ze.pending_buf[ze.d_buf+2*se+1],ke=ze.pending_buf[ze.l_buf+se],se++,Qe===0?Ce(ze,ke,nr):(Ce(ze,(tr=ye[ke])+zt+1,nr),(br=Ut[tr])!==0&&Oe(ze,ke-=Me[tr],br),Ce(ze,tr=Ne(--Qe),Le),(br=ie[tr])!==0&&Oe(ze,Qe-=Pe[tr],br));while(se<ze.last_lit);Ce(ze,Kt,nr)}function De(ze,nr){var Le,Qe,ke,tr=nr.dyn_tree,br=nr.stat_desc.static_tree,se=nr.stat_desc.has_stree,Ve=nr.stat_desc.elems,Ze=-1;for(ze.heap_len=0,ze.heap_max=Ft,Le=0;Le<Ve;Le++)tr[2*Le]!==0?(ze.heap[++ze.heap_len]=Ze=Le,ze.depth[Le]=0):tr[2*Le+1]=0;for(;ze.heap_len<2;)tr[2*(ke=ze.heap[++ze.heap_len]=Ze<2?++Ze:0)]=1,ze.depth[ke]=0,ze.opt_len--,se&&(ze.static_len-=br[2*ke+1]);for(nr.max_code=Ze,Le=ze.heap_len>>1;Le>=1;Le--)_e(ze,tr,Le);ke=Ve;do Le=ze.heap[1],ze.heap[1]=ze.heap[ze.heap_len--],_e(ze,tr,1),Qe=ze.heap[1],ze.heap[--ze.heap_max]=Le,ze.heap[--ze.heap_max]=Qe,tr[2*ke]=tr[2*Le]+tr[2*Qe],ze.depth[ke]=(ze.depth[Le]>=ze.depth[Qe]?ze.depth[Le]:ze.depth[Qe])+1,tr[2*Le+1]=tr[2*Qe+1]=ke,ze.heap[1]=ke++,_e(ze,tr,1);while(ze.heap_len>=2);ze.heap[--ze.heap_max]=ze.heap[1],he(ze,nr),me(tr,Ze,ze.bl_count)}function je(ze,nr,Le){var Qe,ke,tr=-1,br=nr[1],se=0,Ve=7,Ze=4;for(br===0&&(Ve=138,Ze=3),nr[2*(Le+1)+1]=65535,Qe=0;Qe<=Le;Qe++)ke=br,br=nr[2*(Qe+1)+1],++se<Ve&&ke===br||(se<Ze?ze.bl_tree[2*ke]+=se:ke!==0?(ke!==tr&&ze.bl_tree[2*ke]++,ze.bl_tree[2*re]++):se<=10?ze.bl_tree[2*ee]++:ze.bl_tree[2*oe]++,se=0,tr=ke,br===0?(Ve=138,Ze=3):ke===br?(Ve=6,Ze=3):(Ve=7,Ze=4))}function er(ze,nr,Le){var Qe,ke,tr=-1,br=nr[1],se=0,Ve=7,Ze=4;for(br===0&&(Ve=138,Ze=3),Qe=0;Qe<=Le;Qe++)if(ke=br,br=nr[2*(Qe+1)+1],!(++se<Ve&&ke===br)){if(se<Ze)do Ce(ze,ke,ze.bl_tree);while(--se!=0);else ke!==0?(ke!==tr&&(Ce(ze,ke,ze.bl_tree),se--),Ce(ze,re,ze.bl_tree),Oe(ze,se-3,2)):se<=10?(Ce(ze,ee,ze.bl_tree),Oe(ze,se-3,3)):(Ce(ze,oe,ze.bl_tree),Oe(ze,se-11,7));se=0,tr=ke,br===0?(Ve=138,Ze=3):ke===br?(Ve=6,Ze=3):(Ve=7,Ze=4)}}function ir(ze){var nr;for(je(ze,ze.dyn_ltree,ze.l_desc.max_code),je(ze,ze.dyn_dtree,ze.d_desc.max_code),De(ze,ze.bl_desc),nr=jt-1;nr>=3&&ze.bl_tree[2*ce[nr]+1]===0;nr--);return ze.opt_len+=3*(nr+1)+5+5+4,nr}function Xe(ze,nr,Le,Qe){var ke;for(Oe(ze,nr-257,5),Oe(ze,Le-1,5),Oe(ze,Qe-4,4),ke=0;ke<Qe;ke++)Oe(ze,ze.bl_tree[2*ce[ke]+1],3);er(ze,ze.dyn_ltree,nr-1),er(ze,ze.dyn_dtree,Le-1)}function ar(ze){var nr,Le=4093624447;for(nr=0;nr<=31;nr++,Le>>>=1)if(1&Le&&ze.dyn_ltree[2*nr]!==0)return H;if(ze.dyn_ltree[18]!==0||ze.dyn_ltree[20]!==0||ze.dyn_ltree[26]!==0)return et;for(nr=32;nr<zt;nr++)if(ze.dyn_ltree[2*nr]!==0)return et;return H}ot(Pe);var rr=!1;function _r(ze){rr||(pe(),rr=!0),ze.l_desc=new Se(ze.dyn_ltree,ue),ze.d_desc=new Se(ze.dyn_dtree,xe),ze.bl_desc=new Se(ze.bl_tree,Be),ze.bi_buf=0,ze.bi_valid=0,we(ze)}function dr(ze,nr,Le,Qe){Oe(ze,(ut<<1)+(Qe?1:0),3),Zt(ze,nr,Le)}function hr(ze){Oe(ze,ft<<1,3),Ce(ze,Kt,de),Te(ze)}function kr(ze,nr,Le,Qe){var ke,tr,br=0;ze.level>0?(ze.strm.data_type===it&&(ze.strm.data_type=ar(ze)),De(ze,ze.l_desc),De(ze,ze.d_desc),br=ir(ze),ke=ze.opt_len+3+7>>>3,(tr=ze.static_len+3+7>>>3)<=ke&&(ke=tr)):ke=tr=Le+5,Le+4<=ke&&nr!==-1?dr(ze,nr,Le,Qe):ze.strategy===j||tr===ke?(Oe(ze,(ft<<1)+(Qe?1:0),3),be(ze,de,Ae)):(Oe(ze,(dt<<1)+(Qe?1:0),3),Xe(ze,ze.l_desc.max_code+1,ze.d_desc.max_code+1,br+1),be(ze,ze.dyn_ltree,ze.dyn_dtree)),we(ze),Qe&&Re(ze)}function cr(ze,nr,Le){return ze.pending_buf[ze.d_buf+2*ze.last_lit]=nr>>>8&255,ze.pending_buf[ze.d_buf+2*ze.last_lit+1]=255&nr,ze.pending_buf[ze.l_buf+ze.last_lit]=255&Le,ze.last_lit++,nr===0?ze.dyn_ltree[2*Le]++:(ze.matches++,nr--,ze.dyn_ltree[2*(ye[Le]+zt+1)]++,ze.dyn_dtree[2*Ne(nr)]++),ze.last_lit===ze.lit_bufsize-1}g._tr_init=_r,g._tr_stored_block=dr,g._tr_flush_block=kr,g._tr_tally=cr,g._tr_align=hr},{"../utils/common":52}],62:[function(d,m,g){function w(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}m.exports=w},{}],63:[function(d,m,g){var w,j,H=m.exports={};function et(){throw new Error("setTimeout has not been defined")}function it(){throw new Error("clearTimeout has not been defined")}function ot(jt){if(w===setTimeout)return setTimeout(jt,0);if((w===et||!w)&&setTimeout)return w=setTimeout,setTimeout(jt,0);try{return w(jt,0)}catch{try{return w.call(null,jt,0)}catch{return w.call(this,jt,0)}}}function ut(jt){if(j===clearTimeout)return clearTimeout(jt);if((j===it||!j)&&clearTimeout)return j=clearTimeout,clearTimeout(jt);try{return j(jt)}catch{try{return j.call(null,jt)}catch{return j.call(this,jt)}}}(function(){try{w=typeof setTimeout=="function"?setTimeout:et}catch{w=et}try{j=typeof clearTimeout=="function"?clearTimeout:it}catch{j=it}})();var ft,dt=[],St=!1,Tt=-1;function Rt(){St&&ft&&(St=!1,ft.length?dt=ft.concat(dt):Tt=-1,dt.length&&zt())}function zt(){if(!St){var jt=ot(Rt);St=!0;for(var Ft=dt.length;Ft;){for(ft=dt,dt=[];++Tt<Ft;)ft&&ft[Tt].run();Tt=-1,Ft=dt.length}ft=null,St=!1,ut(jt)}}function $t(jt,Ft){this.fun=jt,this.array=Ft}function Ht(){}H.nextTick=function(jt){var Ft=new Array(arguments.length-1);if(arguments.length>1)for(var Dt=1;Dt<arguments.length;Dt++)Ft[Dt-1]=arguments[Dt];dt.push(new $t(jt,Ft)),dt.length!==1||St||ot(zt)},$t.prototype.run=function(){this.fun.apply(null,this.array)},H.title="browser",H.browser=!0,H.env={},H.argv=[],H.version="",H.versions={},H.on=Ht,H.addListener=Ht,H.once=Ht,H.off=Ht,H.removeListener=Ht,H.removeAllListeners=Ht,H.emit=Ht,H.prependListener=Ht,H.prependOnceListener=Ht,H.listeners=function(jt){return[]},H.binding=function(jt){throw new Error("process.binding is not supported")},H.cwd=function(){return"/"},H.chdir=function(jt){throw new Error("process.chdir is not supported")},H.umask=function(){return 0}},{}],64:[function(d,m,g){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var w=d("buffer"),j=w.Buffer;function H(it,ot){for(var ut in it)ot[ut]=it[ut]}function et(it,ot,ut){return j(it,ot,ut)}j.from&&j.alloc&&j.allocUnsafe&&j.allocUnsafeSlow?m.exports=w:(H(w,g),g.Buffer=et),et.prototype=Object.create(j.prototype),H(j,et),et.from=function(it,ot,ut){if(typeof it=="number")throw new TypeError("Argument must not be a number");return j(it,ot,ut)},et.alloc=function(it,ot,ut){if(typeof it!="number")throw new TypeError("Argument must be a number");var ft=j(it);return ot!==void 0?typeof ut=="string"?ft.fill(ot,ut):ft.fill(ot):ft.fill(0),ft},et.allocUnsafe=function(it){if(typeof it!="number")throw new TypeError("Argument must be a number");return j(it)},et.allocUnsafeSlow=function(it){if(typeof it!="number")throw new TypeError("Argument must be a number");return w.SlowBuffer(it)}},{buffer:32}],65:[function(d,m,g){m.exports=j;var w=d("events").EventEmitter;function j(){w.call(this)}d("inherits")(j,w),j.Readable=d("readable-stream/lib/_stream_readable.js"),j.Writable=d("readable-stream/lib/_stream_writable.js"),j.Duplex=d("readable-stream/lib/_stream_duplex.js"),j.Transform=d("readable-stream/lib/_stream_transform.js"),j.PassThrough=d("readable-stream/lib/_stream_passthrough.js"),j.finished=d("readable-stream/lib/internal/streams/end-of-stream.js"),j.pipeline=d("readable-stream/lib/internal/streams/pipeline.js"),j.Stream=j,j.prototype.pipe=function(H,et){var it=this;function ot(zt){H.writable&&H.write(zt)===!1&&it.pause&&it.pause()}function ut(){it.readable&&it.resume&&it.resume()}it.on("data",ot),H.on("drain",ut),H._isStdio||et&&et.end===!1||(it.on("end",dt),it.on("close",St));var ft=!1;function dt(){ft||(ft=!0,H.end())}function St(){ft||(ft=!0,typeof H.destroy=="function"&&H.destroy())}function Tt(zt){if(Rt(),w.listenerCount(this,"error")===0)throw zt}function Rt(){it.removeListener("data",ot),H.removeListener("drain",ut),it.removeListener("end",dt),it.removeListener("close",St),it.removeListener("error",Tt),H.removeListener("error",Tt),it.removeListener("end",Rt),it.removeListener("close",Rt),H.removeListener("close",Rt)}return it.on("error",Tt),H.on("error",Tt),it.on("end",Rt),it.on("close",Rt),H.on("close",Rt),H.emit("pipe",it),H}},{events:35,inherits:46,"readable-stream/lib/_stream_duplex.js":67,"readable-stream/lib/_stream_passthrough.js":68,"readable-stream/lib/_stream_readable.js":69,"readable-stream/lib/_stream_transform.js":70,"readable-stream/lib/_stream_writable.js":71,"readable-stream/lib/internal/streams/end-of-stream.js":75,"readable-stream/lib/internal/streams/pipeline.js":77}],66:[function(d,m,g){function w(ft,dt){ft.prototype=Object.create(dt.prototype),ft.prototype.constructor=ft,ft.__proto__=dt}var j={};function H(ft,dt,St){function Tt(zt,$t,Ht){return typeof dt=="string"?dt:dt(zt,$t,Ht)}St||(St=Error);var Rt=function(zt){function $t(Ht,jt,Ft){return zt.call(this,Tt(Ht,jt,Ft))||this}return w($t,zt),$t}(St);Rt.prototype.name=St.name,Rt.prototype.code=ft,j[ft]=Rt}function et(ft,dt){if(Array.isArray(ft)){var St=ft.length;return ft=ft.map(function(Tt){return String(Tt)}),St>2?"one of ".concat(dt," ").concat(ft.slice(0,St-1).join(", "),", or ")+ft[St-1]:St===2?"one of ".concat(dt," ").concat(ft[0]," or ").concat(ft[1]):"of ".concat(dt," ").concat(ft[0])}return"of ".concat(dt," ").concat(String(ft))}function it(ft,dt,St){return ft.substr(0,dt.length)===dt}function ot(ft,dt,St){return(St===void 0||St>ft.length)&&(St=ft.length),ft.substring(St-dt.length,St)===dt}function ut(ft,dt,St){return typeof St!="number"&&(St=0),!(St+dt.length>ft.length)&&ft.indexOf(dt,St)!==-1}H("ERR_INVALID_OPT_VALUE",function(ft,dt){return'The value "'+dt+'" is invalid for option "'+ft+'"'},TypeError),H("ERR_INVALID_ARG_TYPE",function(ft,dt,St){var Tt,Rt;if(typeof dt=="string"&&it(dt,"not ")?(Tt="must not be",dt=dt.replace(/^not /,"")):Tt="must be",ot(ft," argument"))Rt="The ".concat(ft," ").concat(Tt," ").concat(et(dt,"type"));else{var zt=ut(ft,".")?"property":"argument";Rt='The "'.concat(ft,'" ').concat(zt," ").concat(Tt," ").concat(et(dt,"type"))}return Rt+=". Received type ".concat(typeof St)},TypeError),H("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),H("ERR_METHOD_NOT_IMPLEMENTED",function(ft){return"The "+ft+" method is not implemented"}),H("ERR_STREAM_PREMATURE_CLOSE","Premature close"),H("ERR_STREAM_DESTROYED",function(ft){return"Cannot call "+ft+" after a stream was destroyed"}),H("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),H("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),H("ERR_STREAM_WRITE_AFTER_END","write after end"),H("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),H("ERR_UNKNOWN_ENCODING",function(ft){return"Unknown encoding: "+ft},TypeError),H("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),m.exports.codes=j},{}],67:[function(d,m,g){(function(w){(function(){var j=Object.keys||function(Tt){var Rt=[];for(var zt in Tt)Rt.push(zt);return Rt};m.exports=ft;var H=d("./_stream_readable"),et=d("./_stream_writable");d("inherits")(ft,H);for(var it=j(et.prototype),ot=0;ot<it.length;ot++){var ut=it[ot];ft.prototype[ut]||(ft.prototype[ut]=et.prototype[ut])}function ft(Tt){if(!(this instanceof ft))return new ft(Tt);H.call(this,Tt),et.call(this,Tt),this.allowHalfOpen=!0,Tt&&(Tt.readable===!1&&(this.readable=!1),Tt.writable===!1&&(this.writable=!1),Tt.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",dt)))}function dt(){this._writableState.ended||w.nextTick(St,this)}function St(Tt){Tt.end()}Object.defineProperty(ft.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ft.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ft.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ft.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(Tt){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=Tt,this._writableState.destroyed=Tt)}})}).call(this)}).call(this,d("_process"))},{"./_stream_readable":69,"./_stream_writable":71,_process:63,inherits:46}],68:[function(d,m,g){m.exports=j;var w=d("./_stream_transform");function j(H){if(!(this instanceof j))return new j(H);w.call(this,H)}d("inherits")(j,w),j.prototype._transform=function(H,et,it){it(null,H)}},{"./_stream_transform":70,inherits:46}],69:[function(d,m,g){(function(w,j){(function(){var H;m.exports=ge,ge.ReadableState=ie,d("events").EventEmitter;var et=function(pe,we){return pe.listeners(we).length},it=d("./internal/streams/stream"),ot=d("buffer").Buffer,ut=j.Uint8Array||function(){};function ft(pe){return ot.from(pe)}function dt(pe){return ot.isBuffer(pe)||pe instanceof ut}var St,Tt=d("util");St=Tt&&Tt.debuglog?Tt.debuglog("stream"):function(){};var Rt,zt,$t,Ht=d("./internal/streams/buffer_list"),jt=d("./internal/streams/destroy"),Ft=d("./internal/streams/state").getHighWaterMark,Dt=d("../errors").codes,Yt=Dt.ERR_INVALID_ARG_TYPE,ne=Dt.ERR_STREAM_PUSH_AFTER_EOF,Kt=Dt.ERR_METHOD_NOT_IMPLEMENTED,re=Dt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;d("inherits")(ge,it);var ee=jt.errorOrDestroy,oe=["error","close","destroy","pause","resume"];function Ut(pe,we,Re){if(typeof pe.prependListener=="function")return pe.prependListener(we,Re);pe._events&&pe._events[we]?Array.isArray(pe._events[we])?pe._events[we].unshift(Re):pe._events[we]=[Re,pe._events[we]]:pe.on(we,Re)}function ie(pe,we,Re){H=H||d("./_stream_duplex"),pe=pe||{},typeof Re!="boolean"&&(Re=we instanceof H),this.objectMode=!!pe.objectMode,Re&&(this.objectMode=this.objectMode||!!pe.readableObjectMode),this.highWaterMark=Ft(this,pe,"readableHighWaterMark",Re),this.buffer=new Ht,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=pe.emitClose!==!1,this.autoDestroy=!!pe.autoDestroy,this.destroyed=!1,this.defaultEncoding=pe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,pe.encoding&&(Rt||(Rt=d("string_decoder/").StringDecoder),this.decoder=new Rt(pe.encoding),this.encoding=pe.encoding)}function ge(pe){if(H=H||d("./_stream_duplex"),!(this instanceof ge))return new ge(pe);var we=this instanceof H;this._readableState=new ie(pe,this,we),this.readable=!0,pe&&(typeof pe.read=="function"&&(this._read=pe.read),typeof pe.destroy=="function"&&(this._destroy=pe.destroy)),it.call(this)}function ce(pe,we,Re,Zt,ae){St("readableAddChunk",we);var _e,be=pe._readableState;if(we===null)be.reading=!1,Me(pe,be);else if(ae||(_e=de(be,we)),_e)ee(pe,_e);else if(be.objectMode||we&&we.length>0)if(typeof we=="string"||be.objectMode||Object.getPrototypeOf(we)===ot.prototype||(we=ft(we)),Zt)be.endEmitted?ee(pe,new re):le(pe,be,we,!0);else if(be.ended)ee(pe,new ne);else{if(be.destroyed)return!1;be.reading=!1,be.decoder&&!Re?(we=be.decoder.write(we),be.objectMode||we.length!==0?le(pe,be,we,!1):Be(pe,be)):le(pe,be,we,!1)}else Zt||(be.reading=!1,Be(pe,be));return!be.ended&&(be.length<be.highWaterMark||be.length===0)}function le(pe,we,Re,Zt){we.flowing&&we.length===0&&!we.sync?(we.awaitDrain=0,pe.emit("data",Re)):(we.length+=we.objectMode?1:Re.length,Zt?we.buffer.unshift(Re):we.buffer.push(Re),we.needReadable&&ue(pe)),Be(pe,we)}function de(pe,we){var Re;return dt(we)||typeof we=="string"||we===void 0||pe.objectMode||(Re=new Yt("chunk",["string","Buffer","Uint8Array"],we)),Re}Object.defineProperty(ge.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(pe){this._readableState&&(this._readableState.destroyed=pe)}}),ge.prototype.destroy=jt.destroy,ge.prototype._undestroy=jt.undestroy,ge.prototype._destroy=function(pe,we){we(pe)},ge.prototype.push=function(pe,we){var Re,Zt=this._readableState;return Zt.objectMode?Re=!0:typeof pe=="string"&&((we=we||Zt.defaultEncoding)!==Zt.encoding&&(pe=ot.from(pe,we),we=""),Re=!0),ce(this,pe,we,!1,Re)},ge.prototype.unshift=function(pe){return ce(this,pe,null,!0,!1)},ge.prototype.isPaused=function(){return this._readableState.flowing===!1},ge.prototype.setEncoding=function(pe){Rt||(Rt=d("string_decoder/").StringDecoder);var we=new Rt(pe);this._readableState.decoder=we,this._readableState.encoding=this._readableState.decoder.encoding;for(var Re=this._readableState.buffer.head,Zt="";Re!==null;)Zt+=we.write(Re.data),Re=Re.next;return this._readableState.buffer.clear(),Zt!==""&&this._readableState.buffer.push(Zt),this._readableState.length=Zt.length,this};var Ae=1073741824;function ve(pe){return pe>=Ae?pe=Ae:(pe--,pe|=pe>>>1,pe|=pe>>>2,pe|=pe>>>4,pe|=pe>>>8,pe|=pe>>>16,pe++),pe}function ye(pe,we){return pe<=0||we.length===0&&we.ended?0:we.objectMode?1:pe!=pe?we.flowing&&we.length?we.buffer.head.data.length:we.length:(pe>we.highWaterMark&&(we.highWaterMark=ve(pe)),pe<=we.length?pe:we.ended?we.length:(we.needReadable=!0,0))}function Me(pe,we){if(St("onEofChunk"),!we.ended){if(we.decoder){var Re=we.decoder.end();Re&&Re.length&&(we.buffer.push(Re),we.length+=we.objectMode?1:Re.length)}we.ended=!0,we.sync?ue(pe):(we.needReadable=!1,we.emittedReadable||(we.emittedReadable=!0,xe(pe)))}}function ue(pe){var we=pe._readableState;St("emitReadable",we.needReadable,we.emittedReadable),we.needReadable=!1,we.emittedReadable||(St("emitReadable",we.flowing),we.emittedReadable=!0,w.nextTick(xe,pe))}function xe(pe){var we=pe._readableState;St("emitReadable_",we.destroyed,we.length,we.ended),we.destroyed||!we.length&&!we.ended||(pe.emit("readable"),we.emittedReadable=!1),we.needReadable=!we.flowing&&!we.ended&&we.length<=we.highWaterMark,Ce(pe)}function Be(pe,we){we.readingMore||(we.readingMore=!0,w.nextTick(Pe,pe,we))}function Pe(pe,we){for(;!we.reading&&!we.ended&&(we.length<we.highWaterMark||we.flowing&&we.length===0);){var Re=we.length;if(St("maybeReadMore read 0"),pe.read(0),Re===we.length)break}we.readingMore=!1}function Ee(pe){return function(){var we=pe._readableState;St("pipeOnDrain",we.awaitDrain),we.awaitDrain&&we.awaitDrain--,we.awaitDrain===0&&et(pe,"data")&&(we.flowing=!0,Ce(pe))}}function Se(pe){var we=pe._readableState;we.readableListening=pe.listenerCount("readable")>0,we.resumeScheduled&&!we.paused?we.flowing=!0:pe.listenerCount("data")>0&&pe.resume()}function Ne(pe){St("readable nexttick read 0"),pe.read(0)}function Fe(pe,we){we.resumeScheduled||(we.resumeScheduled=!0,w.nextTick(Oe,pe,we))}function Oe(pe,we){St("resume",we.reading),we.reading||pe.read(0),we.resumeScheduled=!1,pe.emit("resume"),Ce(pe),we.flowing&&!we.reading&&pe.read(0)}function Ce(pe){var we=pe._readableState;for(St("flow",we.flowing);we.flowing&&pe.read()!==null;);}function Jt(pe,we){return we.length===0?null:(we.objectMode?Re=we.buffer.shift():!pe||pe>=we.length?(Re=we.decoder?we.buffer.join(""):we.buffer.length===1?we.buffer.first():we.buffer.concat(we.length),we.buffer.clear()):Re=we.buffer.consume(pe,we.decoder),Re);var Re}function Te(pe){var we=pe._readableState;St("endReadable",we.endEmitted),we.endEmitted||(we.ended=!0,w.nextTick(he,we,pe))}function he(pe,we){if(St("endReadableNT",pe.endEmitted,pe.length),!pe.endEmitted&&pe.length===0&&(pe.endEmitted=!0,we.readable=!1,we.emit("end"),pe.autoDestroy)){var Re=we._writableState;(!Re||Re.autoDestroy&&Re.finished)&&we.destroy()}}function me(pe,we){for(var Re=0,Zt=pe.length;Re<Zt;Re++)if(pe[Re]===we)return Re;return-1}ge.prototype.read=function(pe){St("read",pe),pe=parseInt(pe,10);var we=this._readableState,Re=pe;if(pe!==0&&(we.emittedReadable=!1),pe===0&&we.needReadable&&((we.highWaterMark!==0?we.length>=we.highWaterMark:we.length>0)||we.ended))return St("read: emitReadable",we.length,we.ended),we.length===0&&we.ended?Te(this):ue(this),null;if((pe=ye(pe,we))===0&&we.ended)return we.length===0&&Te(this),null;var Zt,ae=we.needReadable;return St("need readable",ae),(we.length===0||we.length-pe<we.highWaterMark)&&St("length less than watermark",ae=!0),we.ended||we.reading?St("reading or ended",ae=!1):ae&&(St("do read"),we.reading=!0,we.sync=!0,we.length===0&&(we.needReadable=!0),this._read(we.highWaterMark),we.sync=!1,we.reading||(pe=ye(Re,we))),(Zt=pe>0?Jt(pe,we):null)===null?(we.needReadable=we.length<=we.highWaterMark,pe=0):(we.length-=pe,we.awaitDrain=0),we.length===0&&(we.ended||(we.needReadable=!0),Re!==pe&&we.ended&&Te(this)),Zt!==null&&this.emit("data",Zt),Zt},ge.prototype._read=function(pe){ee(this,new Kt("_read()"))},ge.prototype.pipe=function(pe,we){var Re=this,Zt=this._readableState;switch(Zt.pipesCount){case 0:Zt.pipes=pe;break;case 1:Zt.pipes=[Zt.pipes,pe];break;default:Zt.pipes.push(pe)}Zt.pipesCount+=1,St("pipe count=%d opts=%j",Zt.pipesCount,we);var ae=we&&we.end===!1||pe===w.stdout||pe===w.stderr?_r:be;function _e(dr,hr){St("onunpipe"),dr===Re&&hr&&hr.hasUnpiped===!1&&(hr.hasUnpiped=!0,er())}function be(){St("onend"),pe.end()}Zt.endEmitted?w.nextTick(ae):Re.once("end",ae),pe.on("unpipe",_e);var De=Ee(Re);pe.on("drain",De);var je=!1;function er(){St("cleanup"),pe.removeListener("close",ar),pe.removeListener("finish",rr),pe.removeListener("drain",De),pe.removeListener("error",Xe),pe.removeListener("unpipe",_e),Re.removeListener("end",be),Re.removeListener("end",_r),Re.removeListener("data",ir),je=!0,!Zt.awaitDrain||pe._writableState&&!pe._writableState.needDrain||De()}function ir(dr){St("ondata");var hr=pe.write(dr);St("dest.write",hr),hr===!1&&((Zt.pipesCount===1&&Zt.pipes===pe||Zt.pipesCount>1&&me(Zt.pipes,pe)!==-1)&&!je&&(St("false write response, pause",Zt.awaitDrain),Zt.awaitDrain++),Re.pause())}function Xe(dr){St("onerror",dr),_r(),pe.removeListener("error",Xe),et(pe,"error")===0&&ee(pe,dr)}function ar(){pe.removeListener("finish",rr),_r()}function rr(){St("onfinish"),pe.removeListener("close",ar),_r()}function _r(){St("unpipe"),Re.unpipe(pe)}return Re.on("data",ir),Ut(pe,"error",Xe),pe.once("close",ar),pe.once("finish",rr),pe.emit("pipe",Re),Zt.flowing||(St("pipe resume"),Re.resume()),pe},ge.prototype.unpipe=function(pe){var we=this._readableState,Re={hasUnpiped:!1};if(we.pipesCount===0)return this;if(we.pipesCount===1)return pe&&pe!==we.pipes||(pe||(pe=we.pipes),we.pipes=null,we.pipesCount=0,we.flowing=!1,pe&&pe.emit("unpipe",this,Re)),this;if(!pe){var Zt=we.pipes,ae=we.pipesCount;we.pipes=null,we.pipesCount=0,we.flowing=!1;for(var _e=0;_e<ae;_e++)Zt[_e].emit("unpipe",this,{hasUnpiped:!1});return this}var be=me(we.pipes,pe);return be===-1||(we.pipes.splice(be,1),we.pipesCount-=1,we.pipesCount===1&&(we.pipes=we.pipes[0]),pe.emit("unpipe",this,Re)),this},ge.prototype.on=function(pe,we){var Re=it.prototype.on.call(this,pe,we),Zt=this._readableState;return pe==="data"?(Zt.readableListening=this.listenerCount("readable")>0,Zt.flowing!==!1&&this.resume()):pe==="readable"&&(Zt.endEmitted||Zt.readableListening||(Zt.readableListening=Zt.needReadable=!0,Zt.flowing=!1,Zt.emittedReadable=!1,St("on readable",Zt.length,Zt.reading),Zt.length?ue(this):Zt.reading||w.nextTick(Ne,this))),Re},ge.prototype.addListener=ge.prototype.on,ge.prototype.removeListener=function(pe,we){var Re=it.prototype.removeListener.call(this,pe,we);return pe==="readable"&&w.nextTick(Se,this),Re},ge.prototype.removeAllListeners=function(pe){var we=it.prototype.removeAllListeners.apply(this,arguments);return pe!=="readable"&&pe!==void 0||w.nextTick(Se,this),we},ge.prototype.resume=function(){var pe=this._readableState;return pe.flowing||(St("resume"),pe.flowing=!pe.readableListening,Fe(this,pe)),pe.paused=!1,this},ge.prototype.pause=function(){return St("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(St("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},ge.prototype.wrap=function(pe){var we=this,Re=this._readableState,Zt=!1;for(var ae in pe.on("end",function(){if(St("wrapped end"),Re.decoder&&!Re.ended){var be=Re.decoder.end();be&&be.length&&we.push(be)}we.push(null)}),pe.on("data",function(be){St("wrapped data"),Re.decoder&&(be=Re.decoder.write(be)),Re.objectMode&&be==null||(Re.objectMode||be&&be.length)&&(we.push(be)||(Zt=!0,pe.pause()))}),pe)this[ae]===void 0&&typeof pe[ae]=="function"&&(this[ae]=function(be){return function(){return pe[be].apply(pe,arguments)}}(ae));for(var _e=0;_e<oe.length;_e++)pe.on(oe[_e],this.emit.bind(this,oe[_e]));return this._read=function(be){St("wrapped _read",be),Zt&&(Zt=!1,pe.resume())},this},typeof Symbol=="function"&&(ge.prototype[Symbol.asyncIterator]=function(){return zt===void 0&&(zt=d("./internal/streams/async_iterator")),zt(this)}),Object.defineProperty(ge.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ge.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ge.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(pe){this._readableState&&(this._readableState.flowing=pe)}}),ge._fromList=Jt,Object.defineProperty(ge.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(ge.from=function(pe,we){return $t===void 0&&($t=d("./internal/streams/from")),$t(ge,pe,we)})}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/async_iterator":72,"./internal/streams/buffer_list":73,"./internal/streams/destroy":74,"./internal/streams/from":76,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,events:35,inherits:46,"string_decoder/":80,util:29}],70:[function(d,m,g){m.exports=ft;var w=d("../errors").codes,j=w.ERR_METHOD_NOT_IMPLEMENTED,H=w.ERR_MULTIPLE_CALLBACK,et=w.ERR_TRANSFORM_ALREADY_TRANSFORMING,it=w.ERR_TRANSFORM_WITH_LENGTH_0,ot=d("./_stream_duplex");function ut(Tt,Rt){var zt=this._transformState;zt.transforming=!1;var $t=zt.writecb;if($t===null)return this.emit("error",new H);zt.writechunk=null,zt.writecb=null,Rt!=null&&this.push(Rt),$t(Tt);var Ht=this._readableState;Ht.reading=!1,(Ht.needReadable||Ht.length<Ht.highWaterMark)&&this._read(Ht.highWaterMark)}function ft(Tt){if(!(this instanceof ft))return new ft(Tt);ot.call(this,Tt),this._transformState={afterTransform:ut.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Tt&&(typeof Tt.transform=="function"&&(this._transform=Tt.transform),typeof Tt.flush=="function"&&(this._flush=Tt.flush)),this.on("prefinish",dt)}function dt(){var Tt=this;typeof this._flush!="function"||this._readableState.destroyed?St(this,null,null):this._flush(function(Rt,zt){St(Tt,Rt,zt)})}function St(Tt,Rt,zt){if(Rt)return Tt.emit("error",Rt);if(zt!=null&&Tt.push(zt),Tt._writableState.length)throw new it;if(Tt._transformState.transforming)throw new et;return Tt.push(null)}d("inherits")(ft,ot),ft.prototype.push=function(Tt,Rt){return this._transformState.needTransform=!1,ot.prototype.push.call(this,Tt,Rt)},ft.prototype._transform=function(Tt,Rt,zt){zt(new j("_transform()"))},ft.prototype._write=function(Tt,Rt,zt){var $t=this._transformState;if($t.writecb=zt,$t.writechunk=Tt,$t.writeencoding=Rt,!$t.transforming){var Ht=this._readableState;($t.needTransform||Ht.needReadable||Ht.length<Ht.highWaterMark)&&this._read(Ht.highWaterMark)}},ft.prototype._read=function(Tt){var Rt=this._transformState;Rt.writechunk===null||Rt.transforming?Rt.needTransform=!0:(Rt.transforming=!0,this._transform(Rt.writechunk,Rt.writeencoding,Rt.afterTransform))},ft.prototype._destroy=function(Tt,Rt){ot.prototype._destroy.call(this,Tt,function(zt){Rt(zt)})}},{"../errors":66,"./_stream_duplex":67,inherits:46}],71:[function(d,m,g){(function(w,j){(function(){function H(Ce){var Jt=this;this.next=null,this.entry=null,this.finish=function(){Oe(Jt,Ce)}}var et;m.exports=ie,ie.WritableState=Ut;var it={deprecate:d("util-deprecate")},ot=d("./internal/streams/stream"),ut=d("buffer").Buffer,ft=j.Uint8Array||function(){};function dt(Ce){return ut.from(Ce)}function St(Ce){return ut.isBuffer(Ce)||Ce instanceof ft}var Tt,Rt=d("./internal/streams/destroy"),zt=d("./internal/streams/state").getHighWaterMark,$t=d("../errors").codes,Ht=$t.ERR_INVALID_ARG_TYPE,jt=$t.ERR_METHOD_NOT_IMPLEMENTED,Ft=$t.ERR_MULTIPLE_CALLBACK,Dt=$t.ERR_STREAM_CANNOT_PIPE,Yt=$t.ERR_STREAM_DESTROYED,ne=$t.ERR_STREAM_NULL_VALUES,Kt=$t.ERR_STREAM_WRITE_AFTER_END,re=$t.ERR_UNKNOWN_ENCODING,ee=Rt.errorOrDestroy;function oe(){}function Ut(Ce,Jt,Te){et=et||d("./_stream_duplex"),Ce=Ce||{},typeof Te!="boolean"&&(Te=Jt instanceof et),this.objectMode=!!Ce.objectMode,Te&&(this.objectMode=this.objectMode||!!Ce.writableObjectMode),this.highWaterMark=zt(this,Ce,"writableHighWaterMark",Te),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var he=Ce.decodeStrings===!1;this.decodeStrings=!he,this.defaultEncoding=Ce.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(me){Me(Jt,me)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ce.emitClose!==!1,this.autoDestroy=!!Ce.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new H(this)}function ie(Ce){var Jt=this instanceof(et=et||d("./_stream_duplex"));if(!Jt&&!Tt.call(ie,this))return new ie(Ce);this._writableState=new Ut(Ce,this,Jt),this.writable=!0,Ce&&(typeof Ce.write=="function"&&(this._write=Ce.write),typeof Ce.writev=="function"&&(this._writev=Ce.writev),typeof Ce.destroy=="function"&&(this._destroy=Ce.destroy),typeof Ce.final=="function"&&(this._final=Ce.final)),ot.call(this)}function ge(Ce,Jt){var Te=new Kt;ee(Ce,Te),w.nextTick(Jt,Te)}function ce(Ce,Jt,Te,he){var me;return Te===null?me=new ne:typeof Te=="string"||Jt.objectMode||(me=new Ht("chunk",["string","Buffer"],Te)),!me||(ee(Ce,me),w.nextTick(he,me),!1)}function le(Ce,Jt,Te){return Ce.objectMode||Ce.decodeStrings===!1||typeof Jt!="string"||(Jt=ut.from(Jt,Te)),Jt}function de(Ce,Jt,Te,he,me,pe){if(!Te){var we=le(Jt,he,me);he!==we&&(Te=!0,me="buffer",he=we)}var Re=Jt.objectMode?1:he.length;Jt.length+=Re;var Zt=Jt.length<Jt.highWaterMark;if(Zt||(Jt.needDrain=!0),Jt.writing||Jt.corked){var ae=Jt.lastBufferedRequest;Jt.lastBufferedRequest={chunk:he,encoding:me,isBuf:Te,callback:pe,next:null},ae?ae.next=Jt.lastBufferedRequest:Jt.bufferedRequest=Jt.lastBufferedRequest,Jt.bufferedRequestCount+=1}else Ae(Ce,Jt,!1,Re,he,me,pe);return Zt}function Ae(Ce,Jt,Te,he,me,pe,we){Jt.writelen=he,Jt.writecb=we,Jt.writing=!0,Jt.sync=!0,Jt.destroyed?Jt.onwrite(new Yt("write")):Te?Ce._writev(me,Jt.onwrite):Ce._write(me,pe,Jt.onwrite),Jt.sync=!1}function ve(Ce,Jt,Te,he,me){--Jt.pendingcb,Te?(w.nextTick(me,he),w.nextTick(Ne,Ce,Jt),Ce._writableState.errorEmitted=!0,ee(Ce,he)):(me(he),Ce._writableState.errorEmitted=!0,ee(Ce,he),Ne(Ce,Jt))}function ye(Ce){Ce.writing=!1,Ce.writecb=null,Ce.length-=Ce.writelen,Ce.writelen=0}function Me(Ce,Jt){var Te=Ce._writableState,he=Te.sync,me=Te.writecb;if(typeof me!="function")throw new Ft;if(ye(Te),Jt)ve(Ce,Te,he,Jt,me);else{var pe=Pe(Te)||Ce.destroyed;pe||Te.corked||Te.bufferProcessing||!Te.bufferedRequest||Be(Ce,Te),he?w.nextTick(ue,Ce,Te,pe,me):ue(Ce,Te,pe,me)}}function ue(Ce,Jt,Te,he){Te||xe(Ce,Jt),Jt.pendingcb--,he(),Ne(Ce,Jt)}function xe(Ce,Jt){Jt.length===0&&Jt.needDrain&&(Jt.needDrain=!1,Ce.emit("drain"))}function Be(Ce,Jt){Jt.bufferProcessing=!0;var Te=Jt.bufferedRequest;if(Ce._writev&&Te&&Te.next){var he=Jt.bufferedRequestCount,me=new Array(he),pe=Jt.corkedRequestsFree;pe.entry=Te;for(var we=0,Re=!0;Te;)me[we]=Te,Te.isBuf||(Re=!1),Te=Te.next,we+=1;me.allBuffers=Re,Ae(Ce,Jt,!0,Jt.length,me,"",pe.finish),Jt.pendingcb++,Jt.lastBufferedRequest=null,pe.next?(Jt.corkedRequestsFree=pe.next,pe.next=null):Jt.corkedRequestsFree=new H(Jt),Jt.bufferedRequestCount=0}else{for(;Te;){var Zt=Te.chunk,ae=Te.encoding,_e=Te.callback;if(Ae(Ce,Jt,!1,Jt.objectMode?1:Zt.length,Zt,ae,_e),Te=Te.next,Jt.bufferedRequestCount--,Jt.writing)break}Te===null&&(Jt.lastBufferedRequest=null)}Jt.bufferedRequest=Te,Jt.bufferProcessing=!1}function Pe(Ce){return Ce.ending&&Ce.length===0&&Ce.bufferedRequest===null&&!Ce.finished&&!Ce.writing}function Ee(Ce,Jt){Ce._final(function(Te){Jt.pendingcb--,Te&&ee(Ce,Te),Jt.prefinished=!0,Ce.emit("prefinish"),Ne(Ce,Jt)})}function Se(Ce,Jt){Jt.prefinished||Jt.finalCalled||(typeof Ce._final!="function"||Jt.destroyed?(Jt.prefinished=!0,Ce.emit("prefinish")):(Jt.pendingcb++,Jt.finalCalled=!0,w.nextTick(Ee,Ce,Jt)))}function Ne(Ce,Jt){var Te=Pe(Jt);if(Te&&(Se(Ce,Jt),Jt.pendingcb===0&&(Jt.finished=!0,Ce.emit("finish"),Jt.autoDestroy))){var he=Ce._readableState;(!he||he.autoDestroy&&he.endEmitted)&&Ce.destroy()}return Te}function Fe(Ce,Jt,Te){Jt.ending=!0,Ne(Ce,Jt),Te&&(Jt.finished?w.nextTick(Te):Ce.once("finish",Te)),Jt.ended=!0,Ce.writable=!1}function Oe(Ce,Jt,Te){var he=Ce.entry;for(Ce.entry=null;he;){var me=he.callback;Jt.pendingcb--,me(Te),he=he.next}Jt.corkedRequestsFree.next=Ce}d("inherits")(ie,ot),Ut.prototype.getBuffer=function(){for(var Ce=this.bufferedRequest,Jt=[];Ce;)Jt.push(Ce),Ce=Ce.next;return Jt},function(){try{Object.defineProperty(Ut.prototype,"buffer",{get:it.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Tt=Function.prototype[Symbol.hasInstance],Object.defineProperty(ie,Symbol.hasInstance,{value:function(Ce){return!!Tt.call(this,Ce)||this===ie&&Ce&&Ce._writableState instanceof Ut}})):Tt=function(Ce){return Ce instanceof this},ie.prototype.pipe=function(){ee(this,new Dt)},ie.prototype.write=function(Ce,Jt,Te){var he=this._writableState,me=!1,pe=!he.objectMode&&St(Ce);return pe&&!ut.isBuffer(Ce)&&(Ce=dt(Ce)),typeof Jt=="function"&&(Te=Jt,Jt=null),pe?Jt="buffer":Jt||(Jt=he.defaultEncoding),typeof Te!="function"&&(Te=oe),he.ending?ge(this,Te):(pe||ce(this,he,Ce,Te))&&(he.pendingcb++,me=de(this,he,pe,Ce,Jt,Te)),me},ie.prototype.cork=function(){this._writableState.corked++},ie.prototype.uncork=function(){var Ce=this._writableState;Ce.corked&&(Ce.corked--,Ce.writing||Ce.corked||Ce.bufferProcessing||!Ce.bufferedRequest||Be(this,Ce))},ie.prototype.setDefaultEncoding=function(Ce){if(typeof Ce=="string"&&(Ce=Ce.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ce+"").toLowerCase())>-1))throw new re(Ce);return this._writableState.defaultEncoding=Ce,this},Object.defineProperty(ie.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ie.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),ie.prototype._write=function(Ce,Jt,Te){Te(new jt("_write()"))},ie.prototype._writev=null,ie.prototype.end=function(Ce,Jt,Te){var he=this._writableState;return typeof Ce=="function"?(Te=Ce,Ce=null,Jt=null):typeof Jt=="function"&&(Te=Jt,Jt=null),Ce!=null&&this.write(Ce,Jt),he.corked&&(he.corked=1,this.uncork()),he.ending||Fe(this,he,Te),this},Object.defineProperty(ie.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ie.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Ce){this._writableState&&(this._writableState.destroyed=Ce)}}),ie.prototype.destroy=Rt.destroy,ie.prototype._undestroy=Rt.undestroy,ie.prototype._destroy=function(Ce,Jt){Jt(Ce)}}).call(this)}).call(this,d("_process"),commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/destroy":74,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,inherits:46,"util-deprecate":81}],72:[function(d,m,g){(function(w){(function(){var j;function H(Yt,ne,Kt){return ne in Yt?Object.defineProperty(Yt,ne,{value:Kt,enumerable:!0,configurable:!0,writable:!0}):Yt[ne]=Kt,Yt}var et=d("./end-of-stream"),it=Symbol("lastResolve"),ot=Symbol("lastReject"),ut=Symbol("error"),ft=Symbol("ended"),dt=Symbol("lastPromise"),St=Symbol("handlePromise"),Tt=Symbol("stream");function Rt(Yt,ne){return{value:Yt,done:ne}}function zt(Yt){var ne=Yt[it];if(ne!==null){var Kt=Yt[Tt].read();Kt!==null&&(Yt[dt]=null,Yt[it]=null,Yt[ot]=null,ne(Rt(Kt,!1)))}}function $t(Yt){w.nextTick(zt,Yt)}function Ht(Yt,ne){return function(Kt,re){Yt.then(function(){ne[ft]?Kt(Rt(void 0,!0)):ne[St](Kt,re)},re)}}var jt=Object.getPrototypeOf(function(){}),Ft=Object.setPrototypeOf((j={get stream(){return this[Tt]},next:function(){var Yt=this,ne=this[ut];if(ne!==null)return Promise.reject(ne);if(this[ft])return Promise.resolve(Rt(void 0,!0));if(this[Tt].destroyed)return new Promise(function(oe,Ut){w.nextTick(function(){Yt[ut]?Ut(Yt[ut]):oe(Rt(void 0,!0))})});var Kt,re=this[dt];if(re)Kt=new Promise(Ht(re,this));else{var ee=this[Tt].read();if(ee!==null)return Promise.resolve(Rt(ee,!1));Kt=new Promise(this[St])}return this[dt]=Kt,Kt}},H(j,Symbol.asyncIterator,function(){return this}),H(j,"return",function(){var Yt=this;return new Promise(function(ne,Kt){Yt[Tt].destroy(null,function(re){re?Kt(re):ne(Rt(void 0,!0))})})}),j),jt),Dt=function(Yt){var ne,Kt=Object.create(Ft,(H(ne={},Tt,{value:Yt,writable:!0}),H(ne,it,{value:null,writable:!0}),H(ne,ot,{value:null,writable:!0}),H(ne,ut,{value:null,writable:!0}),H(ne,ft,{value:Yt._readableState.endEmitted,writable:!0}),H(ne,St,{value:function(re,ee){var oe=Kt[Tt].read();oe?(Kt[dt]=null,Kt[it]=null,Kt[ot]=null,re(Rt(oe,!1))):(Kt[it]=re,Kt[ot]=ee)},writable:!0}),ne));return Kt[dt]=null,et(Yt,function(re){if(re&&re.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ee=Kt[ot];return ee!==null&&(Kt[dt]=null,Kt[it]=null,Kt[ot]=null,ee(re)),void(Kt[ut]=re)}var oe=Kt[it];oe!==null&&(Kt[dt]=null,Kt[it]=null,Kt[ot]=null,oe(Rt(void 0,!0))),Kt[ft]=!0}),Yt.on("readable",$t.bind(null,Kt)),Kt};m.exports=Dt}).call(this)}).call(this,d("_process"))},{"./end-of-stream":75,_process:63}],73:[function(d,m,g){function w(Tt,Rt){var zt=Object.keys(Tt);if(Object.getOwnPropertySymbols){var $t=Object.getOwnPropertySymbols(Tt);Rt&&($t=$t.filter(function(Ht){return Object.getOwnPropertyDescriptor(Tt,Ht).enumerable})),zt.push.apply(zt,$t)}return zt}function j(Tt){for(var Rt=1;Rt<arguments.length;Rt++){var zt=arguments[Rt]!=null?arguments[Rt]:{};Rt%2?w(Object(zt),!0).forEach(function($t){H(Tt,$t,zt[$t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(zt)):w(Object(zt)).forEach(function($t){Object.defineProperty(Tt,$t,Object.getOwnPropertyDescriptor(zt,$t))})}return Tt}function H(Tt,Rt,zt){return Rt in Tt?Object.defineProperty(Tt,Rt,{value:zt,enumerable:!0,configurable:!0,writable:!0}):Tt[Rt]=zt,Tt}function et(Tt,Rt){if(!(Tt instanceof Rt))throw new TypeError("Cannot call a class as a function")}function it(Tt,Rt){for(var zt=0;zt<Rt.length;zt++){var $t=Rt[zt];$t.enumerable=$t.enumerable||!1,$t.configurable=!0,"value"in $t&&($t.writable=!0),Object.defineProperty(Tt,$t.key,$t)}}function ot(Tt,Rt,zt){return it(Tt.prototype,Rt),Tt}var ut=d("buffer").Buffer,ft=d("util").inspect,dt=ft&&ft.custom||"inspect";function St(Tt,Rt,zt){ut.prototype.copy.call(Tt,Rt,zt)}m.exports=function(){function Tt(){et(this,Tt),this.head=null,this.tail=null,this.length=0}return ot(Tt,[{key:"push",value:function(Rt){var zt={data:Rt,next:null};this.length>0?this.tail.next=zt:this.head=zt,this.tail=zt,++this.length}},{key:"unshift",value:function(Rt){var zt={data:Rt,next:this.head};this.length===0&&(this.tail=zt),this.head=zt,++this.length}},{key:"shift",value:function(){if(this.length!==0){var Rt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Rt}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Rt){if(this.length===0)return"";for(var zt=this.head,$t=""+zt.data;zt=zt.next;)$t+=Rt+zt.data;return $t}},{key:"concat",value:function(Rt){if(this.length===0)return ut.alloc(0);for(var zt=ut.allocUnsafe(Rt>>>0),$t=this.head,Ht=0;$t;)St($t.data,zt,Ht),Ht+=$t.data.length,$t=$t.next;return zt}},{key:"consume",value:function(Rt,zt){var $t;return Rt<this.head.data.length?($t=this.head.data.slice(0,Rt),this.head.data=this.head.data.slice(Rt)):$t=Rt===this.head.data.length?this.shift():zt?this._getString(Rt):this._getBuffer(Rt),$t}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Rt){var zt=this.head,$t=1,Ht=zt.data;for(Rt-=Ht.length;zt=zt.next;){var jt=zt.data,Ft=Rt>jt.length?jt.length:Rt;if(Ft===jt.length?Ht+=jt:Ht+=jt.slice(0,Rt),(Rt-=Ft)==0){Ft===jt.length?(++$t,zt.next?this.head=zt.next:this.head=this.tail=null):(this.head=zt,zt.data=jt.slice(Ft));break}++$t}return this.length-=$t,Ht}},{key:"_getBuffer",value:function(Rt){var zt=ut.allocUnsafe(Rt),$t=this.head,Ht=1;for($t.data.copy(zt),Rt-=$t.data.length;$t=$t.next;){var jt=$t.data,Ft=Rt>jt.length?jt.length:Rt;if(jt.copy(zt,zt.length-Rt,0,Ft),(Rt-=Ft)==0){Ft===jt.length?(++Ht,$t.next?this.head=$t.next:this.head=this.tail=null):(this.head=$t,$t.data=jt.slice(Ft));break}++Ht}return this.length-=Ht,zt}},{key:dt,value:function(Rt,zt){return ft(this,j({},zt,{depth:0,customInspect:!1}))}}]),Tt}()},{buffer:32,util:29}],74:[function(d,m,g){(function(w){(function(){function j(ft,dt){var St=this,Tt=this._readableState&&this._readableState.destroyed,Rt=this._writableState&&this._writableState.destroyed;return Tt||Rt?(dt?dt(ft):ft&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,w.nextTick(ot,this,ft)):w.nextTick(ot,this,ft)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ft||null,function(zt){!dt&&zt?St._writableState?St._writableState.errorEmitted?w.nextTick(et,St):(St._writableState.errorEmitted=!0,w.nextTick(H,St,zt)):w.nextTick(H,St,zt):dt?(w.nextTick(et,St),dt(zt)):w.nextTick(et,St)}),this)}function H(ft,dt){ot(ft,dt),et(ft)}function et(ft){ft._writableState&&!ft._writableState.emitClose||ft._readableState&&!ft._readableState.emitClose||ft.emit("close")}function it(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ot(ft,dt){ft.emit("error",dt)}function ut(ft,dt){var St=ft._readableState,Tt=ft._writableState;St&&St.autoDestroy||Tt&&Tt.autoDestroy?ft.destroy(dt):ft.emit("error",dt)}m.exports={destroy:j,undestroy:it,errorOrDestroy:ut}}).call(this)}).call(this,d("_process"))},{_process:63}],75:[function(d,m,g){var w=d("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function j(ot){var ut=!1;return function(){if(!ut){ut=!0;for(var ft=arguments.length,dt=new Array(ft),St=0;St<ft;St++)dt[St]=arguments[St];ot.apply(this,dt)}}}function H(){}function et(ot){return ot.setHeader&&typeof ot.abort=="function"}function it(ot,ut,ft){if(typeof ut=="function")return it(ot,null,ut);ut||(ut={}),ft=j(ft||H);var dt=ut.readable||ut.readable!==!1&&ot.readable,St=ut.writable||ut.writable!==!1&&ot.writable,Tt=function(){ot.writable||zt()},Rt=ot._writableState&&ot._writableState.finished,zt=function(){St=!1,Rt=!0,dt||ft.call(ot)},$t=ot._readableState&&ot._readableState.endEmitted,Ht=function(){dt=!1,$t=!0,St||ft.call(ot)},jt=function(Yt){ft.call(ot,Yt)},Ft=function(){var Yt;return dt&&!$t?(ot._readableState&&ot._readableState.ended||(Yt=new w),ft.call(ot,Yt)):St&&!Rt?(ot._writableState&&ot._writableState.ended||(Yt=new w),ft.call(ot,Yt)):void 0},Dt=function(){ot.req.on("finish",zt)};return et(ot)?(ot.on("complete",zt),ot.on("abort",Ft),ot.req?Dt():ot.on("request",Dt)):St&&!ot._writableState&&(ot.on("end",Tt),ot.on("close",Tt)),ot.on("end",Ht),ot.on("finish",zt),ut.error!==!1&&ot.on("error",jt),ot.on("close",Ft),function(){ot.removeListener("complete",zt),ot.removeListener("abort",Ft),ot.removeListener("request",Dt),ot.req&&ot.req.removeListener("finish",zt),ot.removeListener("end",Tt),ot.removeListener("close",Tt),ot.removeListener("finish",zt),ot.removeListener("end",Ht),ot.removeListener("error",jt),ot.removeListener("close",Ft)}}m.exports=it},{"../../../errors":66}],76:[function(d,m,g){m.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],77:[function(d,m,g){var w;function j(zt){var $t=!1;return function(){$t||($t=!0,zt.apply(void 0,arguments))}}var H=d("../../../errors").codes,et=H.ERR_MISSING_ARGS,it=H.ERR_STREAM_DESTROYED;function ot(zt){if(zt)throw zt}function ut(zt){return zt.setHeader&&typeof zt.abort=="function"}function ft(zt,$t,Ht,jt){jt=j(jt);var Ft=!1;zt.on("close",function(){Ft=!0}),w===void 0&&(w=d("./end-of-stream")),w(zt,{readable:$t,writable:Ht},function(Yt){if(Yt)return jt(Yt);Ft=!0,jt()});var Dt=!1;return function(Yt){if(!Ft&&!Dt)return Dt=!0,ut(zt)?zt.abort():typeof zt.destroy=="function"?zt.destroy():void jt(Yt||new it("pipe"))}}function dt(zt){zt()}function St(zt,$t){return zt.pipe($t)}function Tt(zt){return zt.length?typeof zt[zt.length-1]!="function"?ot:zt.pop():ot}function Rt(){for(var zt=arguments.length,$t=new Array(zt),Ht=0;Ht<zt;Ht++)$t[Ht]=arguments[Ht];var jt,Ft=Tt($t);if(Array.isArray($t[0])&&($t=$t[0]),$t.length<2)throw new et("streams");var Dt=$t.map(function(Yt,ne){var Kt=ne<$t.length-1;return ft(Yt,Kt,ne>0,function(re){jt||(jt=re),re&&Dt.forEach(dt),Kt||(Dt.forEach(dt),Ft(jt))})});return $t.reduce(St)}m.exports=Rt},{"../../../errors":66,"./end-of-stream":75}],78:[function(d,m,g){var w=d("../../../errors").codes.ERR_INVALID_OPT_VALUE;function j(et,it,ot){return et.highWaterMark!=null?et.highWaterMark:it?et[ot]:null}function H(et,it,ot,ut){var ft=j(it,ut,ot);if(ft!=null){if(!isFinite(ft)||Math.floor(ft)!==ft||ft<0)throw new w(ut?ot:"highWaterMark",ft);return Math.floor(ft)}return et.objectMode?16:16384}m.exports={getHighWaterMark:H}},{"../../../errors":66}],79:[function(d,m,g){m.exports=d("events").EventEmitter},{events:35}],80:[function(d,m,g){var w=d("safe-buffer").Buffer,j=w.isEncoding||function(Dt){switch((Dt=""+Dt)&&Dt.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function H(Dt){if(!Dt)return"utf8";for(var Yt;;)switch(Dt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Dt;default:if(Yt)return;Dt=(""+Dt).toLowerCase(),Yt=!0}}function et(Dt){var Yt=H(Dt);if(typeof Yt!="string"&&(w.isEncoding===j||!j(Dt)))throw new Error("Unknown encoding: "+Dt);return Yt||Dt}function it(Dt){var Yt;switch(this.encoding=et(Dt),this.encoding){case"utf16le":this.text=Rt,this.end=zt,Yt=4;break;case"utf8":this.fillLast=dt,Yt=4;break;case"base64":this.text=$t,this.end=Ht,Yt=3;break;default:return this.write=jt,void(this.end=Ft)}this.lastNeed=0,this.lastTotal=0,this.lastChar=w.allocUnsafe(Yt)}function ot(Dt){return Dt<=127?0:Dt>>5==6?2:Dt>>4==14?3:Dt>>3==30?4:Dt>>6==2?-1:-2}function ut(Dt,Yt,ne){var Kt=Yt.length-1;if(Kt<ne)return 0;var re=ot(Yt[Kt]);return re>=0?(re>0&&(Dt.lastNeed=re-1),re):--Kt<ne||re===-2?0:(re=ot(Yt[Kt]))>=0?(re>0&&(Dt.lastNeed=re-2),re):--Kt<ne||re===-2?0:(re=ot(Yt[Kt]))>=0?(re>0&&(re===2?re=0:Dt.lastNeed=re-3),re):0}function ft(Dt,Yt,ne){if((192&Yt[0])!=128)return Dt.lastNeed=0,"";if(Dt.lastNeed>1&&Yt.length>1){if((192&Yt[1])!=128)return Dt.lastNeed=1,"";if(Dt.lastNeed>2&&Yt.length>2&&(192&Yt[2])!=128)return Dt.lastNeed=2,""}}function dt(Dt){var Yt=this.lastTotal-this.lastNeed,ne=ft(this,Dt);return ne!==void 0?ne:this.lastNeed<=Dt.length?(Dt.copy(this.lastChar,Yt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(Dt.copy(this.lastChar,Yt,0,Dt.length),void(this.lastNeed-=Dt.length))}function St(Dt,Yt){var ne=ut(this,Dt,Yt);if(!this.lastNeed)return Dt.toString("utf8",Yt);this.lastTotal=ne;var Kt=Dt.length-(ne-this.lastNeed);return Dt.copy(this.lastChar,0,Kt),Dt.toString("utf8",Yt,Kt)}function Tt(Dt){var Yt=Dt&&Dt.length?this.write(Dt):"";return this.lastNeed?Yt+"":Yt}function Rt(Dt,Yt){if((Dt.length-Yt)%2==0){var ne=Dt.toString("utf16le",Yt);if(ne){var Kt=ne.charCodeAt(ne.length-1);if(Kt>=55296&&Kt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Dt[Dt.length-2],this.lastChar[1]=Dt[Dt.length-1],ne.slice(0,-1)}return ne}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Dt[Dt.length-1],Dt.toString("utf16le",Yt,Dt.length-1)}function zt(Dt){var Yt=Dt&&Dt.length?this.write(Dt):"";if(this.lastNeed){var ne=this.lastTotal-this.lastNeed;return Yt+this.lastChar.toString("utf16le",0,ne)}return Yt}function $t(Dt,Yt){var ne=(Dt.length-Yt)%3;return ne===0?Dt.toString("base64",Yt):(this.lastNeed=3-ne,this.lastTotal=3,ne===1?this.lastChar[0]=Dt[Dt.length-1]:(this.lastChar[0]=Dt[Dt.length-2],this.lastChar[1]=Dt[Dt.length-1]),Dt.toString("base64",Yt,Dt.length-ne))}function Ht(Dt){var Yt=Dt&&Dt.length?this.write(Dt):"";return this.lastNeed?Yt+this.lastChar.toString("base64",0,3-this.lastNeed):Yt}function jt(Dt){return Dt.toString(this.encoding)}function Ft(Dt){return Dt&&Dt.length?this.write(Dt):""}g.StringDecoder=it,it.prototype.write=function(Dt){if(Dt.length===0)return"";var Yt,ne;if(this.lastNeed){if((Yt=this.fillLast(Dt))===void 0)return"";ne=this.lastNeed,this.lastNeed=0}else ne=0;return ne<Dt.length?Yt?Yt+this.text(Dt,ne):this.text(Dt,ne):Yt||""},it.prototype.end=Tt,it.prototype.text=St,it.prototype.fillLast=function(Dt){if(this.lastNeed<=Dt.length)return Dt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Dt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Dt.length),this.lastNeed-=Dt.length}},{"safe-buffer":64}],81:[function(d,m,g){(function(w){(function(){function j(et,it){if(H("noDeprecation"))return et;var ot=!1;function ut(){if(!ot){if(H("throwDeprecation"))throw new Error(it);H("traceDeprecation")?console.trace(it):console.warn(it),ot=!0}return et.apply(this,arguments)}return ut}function H(et){try{if(!w.localStorage)return!1}catch{return!1}var it=w.localStorage[et];return it!=null&&String(it).toLowerCase()==="true"}m.exports=j}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],82:[function(d,m,g){arguments[4][25][0].apply(g,arguments)},{dup:25}],83:[function(d,m,g){var w=d("is-arguments"),j=d("is-generator-function"),H=d("which-typed-array"),et=d("is-typed-array");function it(be){return be.call.bind(be)}var ot=typeof BigInt<"u",ut=typeof Symbol<"u",ft=it(Object.prototype.toString),dt=it(Number.prototype.valueOf),St=it(String.prototype.valueOf),Tt=it(Boolean.prototype.valueOf);if(ot)var Rt=it(BigInt.prototype.valueOf);if(ut)var zt=it(Symbol.prototype.valueOf);function $t(be,De){if(typeof be!="object")return!1;try{return De(be),!0}catch{return!1}}function Ht(be){return typeof Promise<"u"&&be instanceof Promise||be!==null&&typeof be=="object"&&typeof be.then=="function"&&typeof be.catch=="function"}function jt(be){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(be):et(be)||Ee(be)}function Ft(be){return H(be)==="Uint8Array"}function Dt(be){return H(be)==="Uint8ClampedArray"}function Yt(be){return H(be)==="Uint16Array"}function ne(be){return H(be)==="Uint32Array"}function Kt(be){return H(be)==="Int8Array"}function re(be){return H(be)==="Int16Array"}function ee(be){return H(be)==="Int32Array"}function oe(be){return H(be)==="Float32Array"}function Ut(be){return H(be)==="Float64Array"}function ie(be){return H(be)==="BigInt64Array"}function ge(be){return H(be)==="BigUint64Array"}function ce(be){return ft(be)==="[object Map]"}function le(be){return typeof Map<"u"&&(ce.working?ce(be):be instanceof Map)}function de(be){return ft(be)==="[object Set]"}function Ae(be){return typeof Set<"u"&&(de.working?de(be):be instanceof Set)}function ve(be){return ft(be)==="[object WeakMap]"}function ye(be){return typeof WeakMap<"u"&&(ve.working?ve(be):be instanceof WeakMap)}function Me(be){return ft(be)==="[object WeakSet]"}function ue(be){return Me(be)}function xe(be){return ft(be)==="[object ArrayBuffer]"}function Be(be){return typeof ArrayBuffer<"u"&&(xe.working?xe(be):be instanceof ArrayBuffer)}function Pe(be){return ft(be)==="[object DataView]"}function Ee(be){return typeof DataView<"u"&&(Pe.working?Pe(be):be instanceof DataView)}g.isArgumentsObject=w,g.isGeneratorFunction=j,g.isTypedArray=et,g.isPromise=Ht,g.isArrayBufferView=jt,g.isUint8Array=Ft,g.isUint8ClampedArray=Dt,g.isUint16Array=Yt,g.isUint32Array=ne,g.isInt8Array=Kt,g.isInt16Array=re,g.isInt32Array=ee,g.isFloat32Array=oe,g.isFloat64Array=Ut,g.isBigInt64Array=ie,g.isBigUint64Array=ge,ce.working=typeof Map<"u"&&ce(new Map),g.isMap=le,de.working=typeof Set<"u"&&de(new Set),g.isSet=Ae,ve.working=typeof WeakMap<"u"&&ve(new WeakMap),g.isWeakMap=ye,Me.working=typeof WeakSet<"u"&&Me(new WeakSet),g.isWeakSet=ue,xe.working=typeof ArrayBuffer<"u"&&xe(new ArrayBuffer),g.isArrayBuffer=Be,Pe.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Pe(new DataView(new ArrayBuffer(1),0,1)),g.isDataView=Ee;var Se=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Ne(be){return ft(be)==="[object SharedArrayBuffer]"}function Fe(be){return Se!==void 0&&(Ne.working===void 0&&(Ne.working=Ne(new Se)),Ne.working?Ne(be):be instanceof Se)}function Oe(be){return ft(be)==="[object AsyncFunction]"}function Ce(be){return ft(be)==="[object Map Iterator]"}function Jt(be){return ft(be)==="[object Set Iterator]"}function Te(be){return ft(be)==="[object Generator]"}function he(be){return ft(be)==="[object WebAssembly.Module]"}function me(be){return $t(be,dt)}function pe(be){return $t(be,St)}function we(be){return $t(be,Tt)}function Re(be){return ot&&$t(be,Rt)}function Zt(be){return ut&&$t(be,zt)}function ae(be){return me(be)||pe(be)||we(be)||Re(be)||Zt(be)}function _e(be){return typeof Uint8Array<"u"&&(Be(be)||Fe(be))}g.isSharedArrayBuffer=Fe,g.isAsyncFunction=Oe,g.isMapIterator=Ce,g.isSetIterator=Jt,g.isGeneratorObject=Te,g.isWebAssemblyCompiledModule=he,g.isNumberObject=me,g.isStringObject=pe,g.isBooleanObject=we,g.isBigIntObject=Re,g.isSymbolObject=Zt,g.isBoxedPrimitive=ae,g.isAnyArrayBuffer=_e,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(be){Object.defineProperty(g,be,{enumerable:!1,value:function(){throw new Error(be+" is not supported in userland")}})})},{"is-arguments":47,"is-generator-function":49,"is-typed-array":50,"which-typed-array":85}],84:[function(d,m,g){(function(w){(function(){var j=Object.getOwnPropertyDescriptors||function(Ee){for(var Se=Object.keys(Ee),Ne={},Fe=0;Fe<Se.length;Fe++)Ne[Se[Fe]]=Object.getOwnPropertyDescriptor(Ee,Se[Fe]);return Ne},H=/%[sdj%]/g;g.format=function(Ee){if(!re(Ee)){for(var Se=[],Ne=0;Ne<arguments.length;Ne++)Se.push(ut(arguments[Ne]));return Se.join(" ")}Ne=1;for(var Fe=arguments,Oe=Fe.length,Ce=String(Ee).replace(H,function(Te){if(Te==="%%")return"%";if(Ne>=Oe)return Te;switch(Te){case"%s":return String(Fe[Ne++]);case"%d":return Number(Fe[Ne++]);case"%j":try{return JSON.stringify(Fe[Ne++])}catch{return"[Circular]"}default:return Te}}),Jt=Fe[Ne];Ne<Oe;Jt=Fe[++Ne])Yt(Jt)||!ie(Jt)?Ce+=" "+Jt:Ce+=" "+ut(Jt);return Ce},g.deprecate=function(Ee,Se){if(w!==void 0&&w.noDeprecation===!0)return Ee;if(w===void 0)return function(){return g.deprecate(Ee,Se).apply(this,arguments)};var Ne=!1;function Fe(){if(!Ne){if(w.throwDeprecation)throw new Error(Se);w.traceDeprecation?console.trace(Se):console.error(Se),Ne=!0}return Ee.apply(this,arguments)}return Fe};var et={},it=/^$/;if(w.env.NODE_DEBUG){var ot=w.env.NODE_DEBUG;ot=ot.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),it=new RegExp("^"+ot+"$","i")}function ut(Ee,Se){var Ne={seen:[],stylize:dt};return arguments.length>=3&&(Ne.depth=arguments[2]),arguments.length>=4&&(Ne.colors=arguments[3]),Dt(Se)?Ne.showHidden=Se:Se&&g._extend(Ne,Se),oe(Ne.showHidden)&&(Ne.showHidden=!1),oe(Ne.depth)&&(Ne.depth=2),oe(Ne.colors)&&(Ne.colors=!1),oe(Ne.customInspect)&&(Ne.customInspect=!0),Ne.colors&&(Ne.stylize=ft),Tt(Ne,Ee,Ne.depth)}function ft(Ee,Se){var Ne=ut.styles[Se];return Ne?"\x1B["+ut.colors[Ne][0]+"m"+Ee+"\x1B["+ut.colors[Ne][1]+"m":Ee}function dt(Ee,Se){return Ee}function St(Ee){var Se={};return Ee.forEach(function(Ne,Fe){Se[Ne]=!0}),Se}function Tt(Ee,Se,Ne){if(Ee.customInspect&&Se&&le(Se.inspect)&&Se.inspect!==g.inspect&&(!Se.constructor||Se.constructor.prototype!==Se)){var Fe=Se.inspect(Ne,Ee);return re(Fe)||(Fe=Tt(Ee,Fe,Ne)),Fe}var Oe=Rt(Ee,Se);if(Oe)return Oe;var Ce=Object.keys(Se),Jt=St(Ce);if(Ee.showHidden&&(Ce=Object.getOwnPropertyNames(Se)),ce(Se)&&(Ce.indexOf("message")>=0||Ce.indexOf("description")>=0))return zt(Se);if(Ce.length===0){if(le(Se)){var Te=Se.name?": "+Se.name:"";return Ee.stylize("[Function"+Te+"]","special")}if(Ut(Se))return Ee.stylize(RegExp.prototype.toString.call(Se),"regexp");if(ge(Se))return Ee.stylize(Date.prototype.toString.call(Se),"date");if(ce(Se))return zt(Se)}var he,me="",pe=!1,we=["{","}"];return Ft(Se)&&(pe=!0,we=["[","]"]),le(Se)&&(me=" [Function"+(Se.name?": "+Se.name:"")+"]"),Ut(Se)&&(me=" "+RegExp.prototype.toString.call(Se)),ge(Se)&&(me=" "+Date.prototype.toUTCString.call(Se)),ce(Se)&&(me=" "+zt(Se)),Ce.length!==0||pe&&Se.length!=0?Ne<0?Ut(Se)?Ee.stylize(RegExp.prototype.toString.call(Se),"regexp"):Ee.stylize("[Object]","special"):(Ee.seen.push(Se),he=pe?$t(Ee,Se,Ne,Jt,Ce):Ce.map(function(Re){return Ht(Ee,Se,Ne,Jt,Re,pe)}),Ee.seen.pop(),jt(he,me,we)):we[0]+me+we[1]}function Rt(Ee,Se){if(oe(Se))return Ee.stylize("undefined","undefined");if(re(Se)){var Ne="'"+JSON.stringify(Se).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ee.stylize(Ne,"string")}return Kt(Se)?Ee.stylize(""+Se,"number"):Dt(Se)?Ee.stylize(""+Se,"boolean"):Yt(Se)?Ee.stylize("null","null"):void 0}function zt(Ee){return"["+Error.prototype.toString.call(Ee)+"]"}function $t(Ee,Se,Ne,Fe,Oe){for(var Ce=[],Jt=0,Te=Se.length;Jt<Te;++Jt)ue(Se,String(Jt))?Ce.push(Ht(Ee,Se,Ne,Fe,String(Jt),!0)):Ce.push("");return Oe.forEach(function(he){he.match(/^\d+$/)||Ce.push(Ht(Ee,Se,Ne,Fe,he,!0))}),Ce}function Ht(Ee,Se,Ne,Fe,Oe,Ce){var Jt,Te,he;if((he=Object.getOwnPropertyDescriptor(Se,Oe)||{value:Se[Oe]}).get?Te=he.set?Ee.stylize("[Getter/Setter]","special"):Ee.stylize("[Getter]","special"):he.set&&(Te=Ee.stylize("[Setter]","special")),ue(Fe,Oe)||(Jt="["+Oe+"]"),Te||(Ee.seen.indexOf(he.value)<0?(Te=Yt(Ne)?Tt(Ee,he.value,null):Tt(Ee,he.value,Ne-1)).indexOf(`
`)>-1&&(Te=Ce?Te.split(`
`).map(function(me){return"  "+me}).join(`
`).slice(2):`
`+Te.split(`
`).map(function(me){return"   "+me}).join(`
`)):Te=Ee.stylize("[Circular]","special")),oe(Jt)){if(Ce&&Oe.match(/^\d+$/))return Te;(Jt=JSON.stringify(""+Oe)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Jt=Jt.slice(1,-1),Jt=Ee.stylize(Jt,"name")):(Jt=Jt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Jt=Ee.stylize(Jt,"string"))}return Jt+": "+Te}function jt(Ee,Se,Ne){return Ee.reduce(function(Fe,Oe){return Oe.indexOf(`
`),Fe+Oe.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Ne[0]+(Se===""?"":Se+`
 `)+" "+Ee.join(`,
  `)+" "+Ne[1]:Ne[0]+Se+" "+Ee.join(", ")+" "+Ne[1]}function Ft(Ee){return Array.isArray(Ee)}function Dt(Ee){return typeof Ee=="boolean"}function Yt(Ee){return Ee===null}function ne(Ee){return Ee==null}function Kt(Ee){return typeof Ee=="number"}function re(Ee){return typeof Ee=="string"}function ee(Ee){return typeof Ee=="symbol"}function oe(Ee){return Ee===void 0}function Ut(Ee){return ie(Ee)&&Ae(Ee)==="[object RegExp]"}function ie(Ee){return typeof Ee=="object"&&Ee!==null}function ge(Ee){return ie(Ee)&&Ae(Ee)==="[object Date]"}function ce(Ee){return ie(Ee)&&(Ae(Ee)==="[object Error]"||Ee instanceof Error)}function le(Ee){return typeof Ee=="function"}function de(Ee){return Ee===null||typeof Ee=="boolean"||typeof Ee=="number"||typeof Ee=="string"||typeof Ee=="symbol"||Ee===void 0}function Ae(Ee){return Object.prototype.toString.call(Ee)}function ve(Ee){return Ee<10?"0"+Ee.toString(10):Ee.toString(10)}g.debuglog=function(Ee){if(Ee=Ee.toUpperCase(),!et[Ee])if(it.test(Ee)){var Se=w.pid;et[Ee]=function(){var Ne=g.format.apply(g,arguments);console.error("%s %d: %s",Ee,Se,Ne)}}else et[Ee]=function(){};return et[Ee]},g.inspect=ut,ut.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ut.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},g.types=d("./support/types"),g.isArray=Ft,g.isBoolean=Dt,g.isNull=Yt,g.isNullOrUndefined=ne,g.isNumber=Kt,g.isString=re,g.isSymbol=ee,g.isUndefined=oe,g.isRegExp=Ut,g.types.isRegExp=Ut,g.isObject=ie,g.isDate=ge,g.types.isDate=ge,g.isError=ce,g.types.isNativeError=ce,g.isFunction=le,g.isPrimitive=de,g.isBuffer=d("./support/isBuffer");var ye=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Me(){var Ee=new Date,Se=[ve(Ee.getHours()),ve(Ee.getMinutes()),ve(Ee.getSeconds())].join(":");return[Ee.getDate(),ye[Ee.getMonth()],Se].join(" ")}function ue(Ee,Se){return Object.prototype.hasOwnProperty.call(Ee,Se)}g.log=function(){console.log("%s - %s",Me(),g.format.apply(g,arguments))},g.inherits=d("inherits"),g._extend=function(Ee,Se){if(!Se||!ie(Se))return Ee;for(var Ne=Object.keys(Se),Fe=Ne.length;Fe--;)Ee[Ne[Fe]]=Se[Ne[Fe]];return Ee};var xe=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function Be(Ee,Se){if(!Ee){var Ne=new Error("Promise was rejected with a falsy value");Ne.reason=Ee,Ee=Ne}return Se(Ee)}function Pe(Ee){if(typeof Ee!="function")throw new TypeError('The "original" argument must be of type Function');function Se(){for(var Ne=[],Fe=0;Fe<arguments.length;Fe++)Ne.push(arguments[Fe]);var Oe=Ne.pop();if(typeof Oe!="function")throw new TypeError("The last argument must be of type Function");var Ce=this,Jt=function(){return Oe.apply(Ce,arguments)};Ee.apply(this,Ne).then(function(Te){w.nextTick(Jt.bind(null,null,Te))},function(Te){w.nextTick(Be.bind(null,Te,Jt))})}return Object.setPrototypeOf(Se,Object.getPrototypeOf(Ee)),Object.defineProperties(Se,j(Ee)),Se}g.promisify=function(Ee){if(typeof Ee!="function")throw new TypeError('The "original" argument must be of type Function');if(xe&&Ee[xe]){var Se;if(typeof(Se=Ee[xe])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Se,xe,{value:Se,enumerable:!1,writable:!1,configurable:!0}),Se}function Se(){for(var Ne,Fe,Oe=new Promise(function(Te,he){Ne=Te,Fe=he}),Ce=[],Jt=0;Jt<arguments.length;Jt++)Ce.push(arguments[Jt]);Ce.push(function(Te,he){Te?Fe(Te):Ne(he)});try{Ee.apply(this,Ce)}catch(Te){Fe(Te)}return Oe}return Object.setPrototypeOf(Se,Object.getPrototypeOf(Ee)),xe&&Object.defineProperty(Se,xe,{value:Se,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Se,j(Ee))},g.promisify.custom=xe,g.callbackify=Pe}).call(this)}).call(this,d("_process"))},{"./support/isBuffer":82,"./support/types":83,_process:63,inherits:46}],85:[function(d,m,g){(function(w){(function(){var j=d("for-each"),H=d("available-typed-arrays"),et=d("call-bind/callBound"),it=d("gopd"),ot=et("Object.prototype.toString"),ut=d("has-tostringtag/shams")(),ft=typeof globalThis>"u"?w:globalThis,dt=H(),St=et("String.prototype.slice"),Tt={},Rt=Object.getPrototypeOf;ut&&it&&Rt&&j(dt,function(Ht){if(typeof ft[Ht]=="function"){var jt=new ft[Ht];if(Symbol.toStringTag in jt){var Ft=Rt(jt),Dt=it(Ft,Symbol.toStringTag);if(!Dt){var Yt=Rt(Ft);Dt=it(Yt,Symbol.toStringTag)}Tt[Ht]=Dt.get}}});var zt=function(Ht){var jt=!1;return j(Tt,function(Ft,Dt){if(!jt)try{var Yt=Ft.call(Ht);Yt===Dt&&(jt=Yt)}catch{}}),jt},$t=d("is-typed-array");m.exports=function(Ht){return!!$t(Ht)&&(ut&&Symbol.toStringTag in Ht?zt(Ht):St(ot(Ht),8,-1))}}).call(this)}).call(this,commonjsGlobal!==void 0?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43,"is-typed-array":50}]},{},[20])(20);var browserExports=browser$1.exports,PNGFilterType,PNGFilterType2,PNGColorType,PNGColorType2;function png(){return{mime:"image/png",hasAlpha:!0,encode:(d,{deflateLevel:m=9,deflateStrategy:g=3,filterType:w=PNGFilterType.AUTO,colorType:j,inputHasAlpha:H=!0,...et}={})=>{const it=new browserExports.PNG({width:d.width,height:d.height});return it.data=d.data,browserExports.PNG.sync.write(it,{...et,deflateLevel:m,deflateStrategy:g,filterType:w,colorType:j!==void 0?j:H?PNGColorType.COLOR_ALPHA:PNGColorType.COLOR,inputHasAlpha:H})},decode:(d,m)=>{const g=browserExports.PNG.sync.read(d,m);return{data:g.data,width:g.width,height:g.height}}}}PNGFilterType2=PNGFilterType||(PNGFilterType={}),PNGFilterType2[PNGFilterType2.AUTO=-1]="AUTO",PNGFilterType2[PNGFilterType2.NONE=0]="NONE",PNGFilterType2[PNGFilterType2.SUB=1]="SUB",PNGFilterType2[PNGFilterType2.UP=2]="UP",PNGFilterType2[PNGFilterType2.AVERAGE=3]="AVERAGE",PNGFilterType2[PNGFilterType2.PATH=4]="PATH",PNGColorType2=PNGColorType||(PNGColorType={}),PNGColorType2[PNGColorType2.GRAYSCALE=0]="GRAYSCALE",PNGColorType2[PNGColorType2.COLOR=2]="COLOR",PNGColorType2[PNGColorType2.GRAYSCALE_ALPHA=4]="GRAYSCALE_ALPHA",PNGColorType2[PNGColorType2.COLOR_ALPHA=6]="COLOR_ALPHA";var UTIF={exports:{}},common={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,function(d){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function g(H,et){return Object.prototype.hasOwnProperty.call(H,et)}d.assign=function(H){for(var et=Array.prototype.slice.call(arguments,1);et.length;){var it=et.shift();if(it){if(typeof it!="object")throw new TypeError(it+"must be non-object");for(var ot in it)g(it,ot)&&(H[ot]=it[ot])}}return H},d.shrinkBuf=function(H,et){return H.length===et?H:H.subarray?H.subarray(0,et):(H.length=et,H)};var w={arraySet:function(H,et,it,ot,ut){if(et.subarray&&H.subarray)H.set(et.subarray(it,it+ot),ut);else for(var ft=0;ft<ot;ft++)H[ut+ft]=et[it+ft]},flattenChunks:function(H){var et,it,ot,ut,ft,dt;for(ot=0,et=0,it=H.length;et<it;et++)ot+=H[et].length;for(dt=new Uint8Array(ot),ut=0,et=0,it=H.length;et<it;et++)ft=H[et],dt.set(ft,ut),ut+=ft.length;return dt}},j={arraySet:function(H,et,it,ot,ut){for(var ft=0;ft<ot;ft++)H[ut+ft]=et[it+ft]},flattenChunks:function(H){return[].concat.apply([],H)}};d.setTyped=function(H){H?(d.Buf8=Uint8Array,d.Buf16=Uint16Array,d.Buf32=Int32Array,d.assign(d,w)):(d.Buf8=Array,d.Buf16=Array,d.Buf32=Array,d.assign(d,j))},d.setTyped(m)}(common)),common}var deflate$1={},deflate={},trees={},hasRequiredTrees,adler32_1,hasRequiredAdler32,crc32_1,hasRequiredCrc32,messages,hasRequiredMessages,hasRequiredDeflate$1;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;var d=requireCommon(),m=0,g=1;function w(he){for(var me=he.length;--me>=0;)he[me]=0}var j=0,H=29,et=256,it=et+1+H,ot=30,ut=19,ft=2*it+1,dt=15,St=16,Tt=7,Rt=256,zt=16,$t=17,Ht=18,jt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ft=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Dt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Yt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=new Array(2*(it+2));w(ne);var Kt=new Array(2*ot);w(Kt);var re=new Array(512);w(re);var ee=new Array(256);w(ee);var oe=new Array(H);w(oe);var Ut,ie,ge,ce=new Array(ot);function le(he,me,pe,we,Re){this.static_tree=he,this.extra_bits=me,this.extra_base=pe,this.elems=we,this.max_length=Re,this.has_stree=he&&he.length}function de(he,me){this.dyn_tree=he,this.max_code=0,this.stat_desc=me}function Ae(he){return he<256?re[he]:re[256+(he>>>7)]}function ve(he,me){he.pending_buf[he.pending++]=255&me,he.pending_buf[he.pending++]=me>>>8&255}function ye(he,me,pe){he.bi_valid>St-pe?(he.bi_buf|=me<<he.bi_valid&65535,ve(he,he.bi_buf),he.bi_buf=me>>St-he.bi_valid,he.bi_valid+=pe-St):(he.bi_buf|=me<<he.bi_valid&65535,he.bi_valid+=pe)}function Me(he,me,pe){ye(he,pe[2*me],pe[2*me+1])}function ue(he,me){var pe=0;do pe|=1&he,he>>>=1,pe<<=1;while(--me>0);return pe>>>1}function xe(he,me,pe){var we,Re,Zt=new Array(dt+1),ae=0;for(we=1;we<=dt;we++)Zt[we]=ae=ae+pe[we-1]<<1;for(Re=0;Re<=me;Re++){var _e=he[2*Re+1];_e!==0&&(he[2*Re]=ue(Zt[_e]++,_e))}}function Be(he){var me;for(me=0;me<it;me++)he.dyn_ltree[2*me]=0;for(me=0;me<ot;me++)he.dyn_dtree[2*me]=0;for(me=0;me<ut;me++)he.bl_tree[2*me]=0;he.dyn_ltree[2*Rt]=1,he.opt_len=he.static_len=0,he.last_lit=he.matches=0}function Pe(he){he.bi_valid>8?ve(he,he.bi_buf):he.bi_valid>0&&(he.pending_buf[he.pending++]=he.bi_buf),he.bi_buf=0,he.bi_valid=0}function Ee(he,me,pe,we){var Re=2*me,Zt=2*pe;return he[Re]<he[Zt]||he[Re]===he[Zt]&&we[me]<=we[pe]}function Se(he,me,pe){for(var we=he.heap[pe],Re=pe<<1;Re<=he.heap_len&&(Re<he.heap_len&&Ee(me,he.heap[Re+1],he.heap[Re],he.depth)&&Re++,!Ee(me,we,he.heap[Re],he.depth));)he.heap[pe]=he.heap[Re],pe=Re,Re<<=1;he.heap[pe]=we}function Ne(he,me,pe){var we,Re,Zt,ae,_e=0;if(he.last_lit!==0)do we=he.pending_buf[he.d_buf+2*_e]<<8|he.pending_buf[he.d_buf+2*_e+1],Re=he.pending_buf[he.l_buf+_e],_e++,we===0?Me(he,Re,me):(Me(he,(Zt=ee[Re])+et+1,me),(ae=jt[Zt])!==0&&ye(he,Re-=oe[Zt],ae),Me(he,Zt=Ae(--we),pe),(ae=Ft[Zt])!==0&&ye(he,we-=ce[Zt],ae));while(_e<he.last_lit);Me(he,Rt,me)}function Fe(he,me){var pe,we,Re,Zt=me.dyn_tree,ae=me.stat_desc.static_tree,_e=me.stat_desc.has_stree,be=me.stat_desc.elems,De=-1;for(he.heap_len=0,he.heap_max=ft,pe=0;pe<be;pe++)Zt[2*pe]!==0?(he.heap[++he.heap_len]=De=pe,he.depth[pe]=0):Zt[2*pe+1]=0;for(;he.heap_len<2;)Zt[2*(Re=he.heap[++he.heap_len]=De<2?++De:0)]=1,he.depth[Re]=0,he.opt_len--,_e&&(he.static_len-=ae[2*Re+1]);for(me.max_code=De,pe=he.heap_len>>1;pe>=1;pe--)Se(he,Zt,pe);Re=be;do pe=he.heap[1],he.heap[1]=he.heap[he.heap_len--],Se(he,Zt,1),we=he.heap[1],he.heap[--he.heap_max]=pe,he.heap[--he.heap_max]=we,Zt[2*Re]=Zt[2*pe]+Zt[2*we],he.depth[Re]=(he.depth[pe]>=he.depth[we]?he.depth[pe]:he.depth[we])+1,Zt[2*pe+1]=Zt[2*we+1]=Re,he.heap[1]=Re++,Se(he,Zt,1);while(he.heap_len>=2);he.heap[--he.heap_max]=he.heap[1],function(je,er){var ir,Xe,ar,rr,_r,dr,hr=er.dyn_tree,kr=er.max_code,cr=er.stat_desc.static_tree,ze=er.stat_desc.has_stree,nr=er.stat_desc.extra_bits,Le=er.stat_desc.extra_base,Qe=er.stat_desc.max_length,ke=0;for(rr=0;rr<=dt;rr++)je.bl_count[rr]=0;for(hr[2*je.heap[je.heap_max]+1]=0,ir=je.heap_max+1;ir<ft;ir++)(rr=hr[2*hr[2*(Xe=je.heap[ir])+1]+1]+1)>Qe&&(rr=Qe,ke++),hr[2*Xe+1]=rr,Xe>kr||(je.bl_count[rr]++,_r=0,Xe>=Le&&(_r=nr[Xe-Le]),dr=hr[2*Xe],je.opt_len+=dr*(rr+_r),ze&&(je.static_len+=dr*(cr[2*Xe+1]+_r)));if(ke!==0){do{for(rr=Qe-1;je.bl_count[rr]===0;)rr--;je.bl_count[rr]--,je.bl_count[rr+1]+=2,je.bl_count[Qe]--,ke-=2}while(ke>0);for(rr=Qe;rr!==0;rr--)for(Xe=je.bl_count[rr];Xe!==0;)(ar=je.heap[--ir])>kr||(hr[2*ar+1]!==rr&&(je.opt_len+=(rr-hr[2*ar+1])*hr[2*ar],hr[2*ar+1]=rr),Xe--)}}(he,me),xe(Zt,De,he.bl_count)}function Oe(he,me,pe){var we,Re,Zt=-1,ae=me[1],_e=0,be=7,De=4;for(ae===0&&(be=138,De=3),me[2*(pe+1)+1]=65535,we=0;we<=pe;we++)Re=ae,ae=me[2*(we+1)+1],++_e<be&&Re===ae||(_e<De?he.bl_tree[2*Re]+=_e:Re!==0?(Re!==Zt&&he.bl_tree[2*Re]++,he.bl_tree[2*zt]++):_e<=10?he.bl_tree[2*$t]++:he.bl_tree[2*Ht]++,_e=0,Zt=Re,ae===0?(be=138,De=3):Re===ae?(be=6,De=3):(be=7,De=4))}function Ce(he,me,pe){var we,Re,Zt=-1,ae=me[1],_e=0,be=7,De=4;for(ae===0&&(be=138,De=3),we=0;we<=pe;we++)if(Re=ae,ae=me[2*(we+1)+1],!(++_e<be&&Re===ae)){if(_e<De)do Me(he,Re,he.bl_tree);while(--_e!=0);else Re!==0?(Re!==Zt&&(Me(he,Re,he.bl_tree),_e--),Me(he,zt,he.bl_tree),ye(he,_e-3,2)):_e<=10?(Me(he,$t,he.bl_tree),ye(he,_e-3,3)):(Me(he,Ht,he.bl_tree),ye(he,_e-11,7));_e=0,Zt=Re,ae===0?(be=138,De=3):Re===ae?(be=6,De=3):(be=7,De=4)}}w(ce);var Jt=!1;function Te(he,me,pe,we){ye(he,(j<<1)+(we?1:0),3),function(Re,Zt,ae,_e){Pe(Re),ve(Re,ae),ve(Re,~ae),d.arraySet(Re.pending_buf,Re.window,Zt,ae,Re.pending),Re.pending+=ae}(he,me,pe)}return trees._tr_init=function(he){Jt||(function(){var me,pe,we,Re,Zt,ae=new Array(dt+1);for(we=0,Re=0;Re<H-1;Re++)for(oe[Re]=we,me=0;me<1<<jt[Re];me++)ee[we++]=Re;for(ee[we-1]=Re,Zt=0,Re=0;Re<16;Re++)for(ce[Re]=Zt,me=0;me<1<<Ft[Re];me++)re[Zt++]=Re;for(Zt>>=7;Re<ot;Re++)for(ce[Re]=Zt<<7,me=0;me<1<<Ft[Re]-7;me++)re[256+Zt++]=Re;for(pe=0;pe<=dt;pe++)ae[pe]=0;for(me=0;me<=143;)ne[2*me+1]=8,me++,ae[8]++;for(;me<=255;)ne[2*me+1]=9,me++,ae[9]++;for(;me<=279;)ne[2*me+1]=7,me++,ae[7]++;for(;me<=287;)ne[2*me+1]=8,me++,ae[8]++;for(xe(ne,it+1,ae),me=0;me<ot;me++)Kt[2*me+1]=5,Kt[2*me]=ue(me,5);Ut=new le(ne,jt,et+1,it,dt),ie=new le(Kt,Ft,0,ot,dt),ge=new le(new Array(0),Dt,0,ut,Tt)}(),Jt=!0),he.l_desc=new de(he.dyn_ltree,Ut),he.d_desc=new de(he.dyn_dtree,ie),he.bl_desc=new de(he.bl_tree,ge),he.bi_buf=0,he.bi_valid=0,Be(he)},trees._tr_stored_block=Te,trees._tr_flush_block=function(he,me,pe,we){var Re,Zt,ae=0;he.level>0?(he.strm.data_type===2&&(he.strm.data_type=function(_e){var be,De=4093624447;for(be=0;be<=31;be++,De>>>=1)if(1&De&&_e.dyn_ltree[2*be]!==0)return m;if(_e.dyn_ltree[18]!==0||_e.dyn_ltree[20]!==0||_e.dyn_ltree[26]!==0)return g;for(be=32;be<et;be++)if(_e.dyn_ltree[2*be]!==0)return g;return m}(he)),Fe(he,he.l_desc),Fe(he,he.d_desc),ae=function(_e){var be;for(Oe(_e,_e.dyn_ltree,_e.l_desc.max_code),Oe(_e,_e.dyn_dtree,_e.d_desc.max_code),Fe(_e,_e.bl_desc),be=ut-1;be>=3&&_e.bl_tree[2*Yt[be]+1]===0;be--);return _e.opt_len+=3*(be+1)+5+5+4,be}(he),Re=he.opt_len+3+7>>>3,(Zt=he.static_len+3+7>>>3)<=Re&&(Re=Zt)):Re=Zt=pe+5,pe+4<=Re&&me!==-1?Te(he,me,pe,we):he.strategy===4||Zt===Re?(ye(he,2+(we?1:0),3),Ne(he,ne,Kt)):(ye(he,4+(we?1:0),3),function(_e,be,De,je){var er;for(ye(_e,be-257,5),ye(_e,De-1,5),ye(_e,je-4,4),er=0;er<je;er++)ye(_e,_e.bl_tree[2*Yt[er]+1],3);Ce(_e,_e.dyn_ltree,be-1),Ce(_e,_e.dyn_dtree,De-1)}(he,he.l_desc.max_code+1,he.d_desc.max_code+1,ae+1),Ne(he,he.dyn_ltree,he.dyn_dtree)),Be(he),we&&Pe(he)},trees._tr_tally=function(he,me,pe){return he.pending_buf[he.d_buf+2*he.last_lit]=me>>>8&255,he.pending_buf[he.d_buf+2*he.last_lit+1]=255&me,he.pending_buf[he.l_buf+he.last_lit]=255&pe,he.last_lit++,me===0?he.dyn_ltree[2*pe]++:(he.matches++,me--,he.dyn_ltree[2*(ee[pe]+et+1)]++,he.dyn_dtree[2*Ae(me)]++),he.last_lit===he.lit_bufsize-1},trees._tr_align=function(he){ye(he,2,3),Me(he,Rt,ne),function(me){me.bi_valid===16?(ve(me,me.bi_buf),me.bi_buf=0,me.bi_valid=0):me.bi_valid>=8&&(me.pending_buf[me.pending++]=255&me.bi_buf,me.bi_buf>>=8,me.bi_valid-=8)}(he)},trees}function requireAdler32(){return hasRequiredAdler32||(hasRequiredAdler32=1,adler32_1=function(d,m,g,w){for(var j=65535&d,H=d>>>16&65535,et=0;g!==0;){g-=et=g>2e3?2e3:g;do H=H+(j=j+m[w++]|0)|0;while(--et);j%=65521,H%=65521}return j|H<<16}),adler32_1}function requireCrc32(){if(hasRequiredCrc32)return crc32_1;hasRequiredCrc32=1;var d=function(){for(var m,g=[],w=0;w<256;w++){m=w;for(var j=0;j<8;j++)m=1&m?3988292384^m>>>1:m>>>1;g[w]=m}return g}();return crc32_1=function(m,g,w,j){var H=d,et=j+w;m^=-1;for(var it=j;it<et;it++)m=m>>>8^H[255&(m^g[it])];return~m},crc32_1}function requireMessages(){return hasRequiredMessages?messages:(hasRequiredMessages=1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"})}function requireDeflate$1(){if(hasRequiredDeflate$1)return deflate;hasRequiredDeflate$1=1;var d,m=requireCommon(),g=requireTrees(),w=requireAdler32(),j=requireCrc32(),H=requireMessages(),et=0,it=4,ot=0,ut=-2,ft=-1,dt=4,St=2,Tt=8,Rt=9,zt=286,$t=30,Ht=19,jt=2*zt+1,Ft=15,Dt=3,Yt=258,ne=Yt+Dt+1,Kt=42,re=103,ee=113,oe=666,Ut=1,ie=2,ge=3,ce=4;function le(Jt,Te){return Jt.msg=H[Te],Te}function de(Jt){return(Jt<<1)-(Jt>4?9:0)}function Ae(Jt){for(var Te=Jt.length;--Te>=0;)Jt[Te]=0}function ve(Jt){var Te=Jt.state,he=Te.pending;he>Jt.avail_out&&(he=Jt.avail_out),he!==0&&(m.arraySet(Jt.output,Te.pending_buf,Te.pending_out,he,Jt.next_out),Jt.next_out+=he,Te.pending_out+=he,Jt.total_out+=he,Jt.avail_out-=he,Te.pending-=he,Te.pending===0&&(Te.pending_out=0))}function ye(Jt,Te){g._tr_flush_block(Jt,Jt.block_start>=0?Jt.block_start:-1,Jt.strstart-Jt.block_start,Te),Jt.block_start=Jt.strstart,ve(Jt.strm)}function Me(Jt,Te){Jt.pending_buf[Jt.pending++]=Te}function ue(Jt,Te){Jt.pending_buf[Jt.pending++]=Te>>>8&255,Jt.pending_buf[Jt.pending++]=255&Te}function xe(Jt,Te){var he,me,pe=Jt.max_chain_length,we=Jt.strstart,Re=Jt.prev_length,Zt=Jt.nice_match,ae=Jt.strstart>Jt.w_size-ne?Jt.strstart-(Jt.w_size-ne):0,_e=Jt.window,be=Jt.w_mask,De=Jt.prev,je=Jt.strstart+Yt,er=_e[we+Re-1],ir=_e[we+Re];Jt.prev_length>=Jt.good_match&&(pe>>=2),Zt>Jt.lookahead&&(Zt=Jt.lookahead);do if(_e[(he=Te)+Re]===ir&&_e[he+Re-1]===er&&_e[he]===_e[we]&&_e[++he]===_e[we+1]){we+=2,he++;do;while(_e[++we]===_e[++he]&&_e[++we]===_e[++he]&&_e[++we]===_e[++he]&&_e[++we]===_e[++he]&&_e[++we]===_e[++he]&&_e[++we]===_e[++he]&&_e[++we]===_e[++he]&&_e[++we]===_e[++he]&&we<je);if(me=Yt-(je-we),we=je-Yt,me>Re){if(Jt.match_start=Te,Re=me,me>=Zt)break;er=_e[we+Re-1],ir=_e[we+Re]}}while((Te=De[Te&be])>ae&&--pe!=0);return Re<=Jt.lookahead?Re:Jt.lookahead}function Be(Jt){var Te,he,me,pe,we,Re,Zt,ae,_e,be,De=Jt.w_size;do{if(pe=Jt.window_size-Jt.lookahead-Jt.strstart,Jt.strstart>=De+(De-ne)){m.arraySet(Jt.window,Jt.window,De,De,0),Jt.match_start-=De,Jt.strstart-=De,Jt.block_start-=De,Te=he=Jt.hash_size;do me=Jt.head[--Te],Jt.head[Te]=me>=De?me-De:0;while(--he);Te=he=De;do me=Jt.prev[--Te],Jt.prev[Te]=me>=De?me-De:0;while(--he);pe+=De}if(Jt.strm.avail_in===0)break;if(Re=Jt.strm,Zt=Jt.window,ae=Jt.strstart+Jt.lookahead,_e=pe,be=void 0,(be=Re.avail_in)>_e&&(be=_e),he=be===0?0:(Re.avail_in-=be,m.arraySet(Zt,Re.input,Re.next_in,be,ae),Re.state.wrap===1?Re.adler=w(Re.adler,Zt,be,ae):Re.state.wrap===2&&(Re.adler=j(Re.adler,Zt,be,ae)),Re.next_in+=be,Re.total_in+=be,be),Jt.lookahead+=he,Jt.lookahead+Jt.insert>=Dt)for(we=Jt.strstart-Jt.insert,Jt.ins_h=Jt.window[we],Jt.ins_h=(Jt.ins_h<<Jt.hash_shift^Jt.window[we+1])&Jt.hash_mask;Jt.insert&&(Jt.ins_h=(Jt.ins_h<<Jt.hash_shift^Jt.window[we+Dt-1])&Jt.hash_mask,Jt.prev[we&Jt.w_mask]=Jt.head[Jt.ins_h],Jt.head[Jt.ins_h]=we,we++,Jt.insert--,!(Jt.lookahead+Jt.insert<Dt)););}while(Jt.lookahead<ne&&Jt.strm.avail_in!==0)}function Pe(Jt,Te){for(var he,me;;){if(Jt.lookahead<ne){if(Be(Jt),Jt.lookahead<ne&&Te===et)return Ut;if(Jt.lookahead===0)break}if(he=0,Jt.lookahead>=Dt&&(Jt.ins_h=(Jt.ins_h<<Jt.hash_shift^Jt.window[Jt.strstart+Dt-1])&Jt.hash_mask,he=Jt.prev[Jt.strstart&Jt.w_mask]=Jt.head[Jt.ins_h],Jt.head[Jt.ins_h]=Jt.strstart),he!==0&&Jt.strstart-he<=Jt.w_size-ne&&(Jt.match_length=xe(Jt,he)),Jt.match_length>=Dt)if(me=g._tr_tally(Jt,Jt.strstart-Jt.match_start,Jt.match_length-Dt),Jt.lookahead-=Jt.match_length,Jt.match_length<=Jt.max_lazy_match&&Jt.lookahead>=Dt){Jt.match_length--;do Jt.strstart++,Jt.ins_h=(Jt.ins_h<<Jt.hash_shift^Jt.window[Jt.strstart+Dt-1])&Jt.hash_mask,he=Jt.prev[Jt.strstart&Jt.w_mask]=Jt.head[Jt.ins_h],Jt.head[Jt.ins_h]=Jt.strstart;while(--Jt.match_length!=0);Jt.strstart++}else Jt.strstart+=Jt.match_length,Jt.match_length=0,Jt.ins_h=Jt.window[Jt.strstart],Jt.ins_h=(Jt.ins_h<<Jt.hash_shift^Jt.window[Jt.strstart+1])&Jt.hash_mask;else me=g._tr_tally(Jt,0,Jt.window[Jt.strstart]),Jt.lookahead--,Jt.strstart++;if(me&&(ye(Jt,!1),Jt.strm.avail_out===0))return Ut}return Jt.insert=Jt.strstart<Dt-1?Jt.strstart:Dt-1,Te===it?(ye(Jt,!0),Jt.strm.avail_out===0?ge:ce):Jt.last_lit&&(ye(Jt,!1),Jt.strm.avail_out===0)?Ut:ie}function Ee(Jt,Te){for(var he,me,pe;;){if(Jt.lookahead<ne){if(Be(Jt),Jt.lookahead<ne&&Te===et)return Ut;if(Jt.lookahead===0)break}if(he=0,Jt.lookahead>=Dt&&(Jt.ins_h=(Jt.ins_h<<Jt.hash_shift^Jt.window[Jt.strstart+Dt-1])&Jt.hash_mask,he=Jt.prev[Jt.strstart&Jt.w_mask]=Jt.head[Jt.ins_h],Jt.head[Jt.ins_h]=Jt.strstart),Jt.prev_length=Jt.match_length,Jt.prev_match=Jt.match_start,Jt.match_length=Dt-1,he!==0&&Jt.prev_length<Jt.max_lazy_match&&Jt.strstart-he<=Jt.w_size-ne&&(Jt.match_length=xe(Jt,he),Jt.match_length<=5&&(Jt.strategy===1||Jt.match_length===Dt&&Jt.strstart-Jt.match_start>4096)&&(Jt.match_length=Dt-1)),Jt.prev_length>=Dt&&Jt.match_length<=Jt.prev_length){pe=Jt.strstart+Jt.lookahead-Dt,me=g._tr_tally(Jt,Jt.strstart-1-Jt.prev_match,Jt.prev_length-Dt),Jt.lookahead-=Jt.prev_length-1,Jt.prev_length-=2;do++Jt.strstart<=pe&&(Jt.ins_h=(Jt.ins_h<<Jt.hash_shift^Jt.window[Jt.strstart+Dt-1])&Jt.hash_mask,he=Jt.prev[Jt.strstart&Jt.w_mask]=Jt.head[Jt.ins_h],Jt.head[Jt.ins_h]=Jt.strstart);while(--Jt.prev_length!=0);if(Jt.match_available=0,Jt.match_length=Dt-1,Jt.strstart++,me&&(ye(Jt,!1),Jt.strm.avail_out===0))return Ut}else if(Jt.match_available){if((me=g._tr_tally(Jt,0,Jt.window[Jt.strstart-1]))&&ye(Jt,!1),Jt.strstart++,Jt.lookahead--,Jt.strm.avail_out===0)return Ut}else Jt.match_available=1,Jt.strstart++,Jt.lookahead--}return Jt.match_available&&(me=g._tr_tally(Jt,0,Jt.window[Jt.strstart-1]),Jt.match_available=0),Jt.insert=Jt.strstart<Dt-1?Jt.strstart:Dt-1,Te===it?(ye(Jt,!0),Jt.strm.avail_out===0?ge:ce):Jt.last_lit&&(ye(Jt,!1),Jt.strm.avail_out===0)?Ut:ie}function Se(Jt,Te,he,me,pe){this.good_length=Jt,this.max_lazy=Te,this.nice_length=he,this.max_chain=me,this.func=pe}function Ne(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Tt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(2*jt),this.dyn_dtree=new m.Buf16(2*(2*$t+1)),this.bl_tree=new m.Buf16(2*(2*Ht+1)),Ae(this.dyn_ltree),Ae(this.dyn_dtree),Ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(Ft+1),this.heap=new m.Buf16(2*zt+1),Ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(2*zt+1),Ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Fe(Jt){var Te;return Jt&&Jt.state?(Jt.total_in=Jt.total_out=0,Jt.data_type=St,(Te=Jt.state).pending=0,Te.pending_out=0,Te.wrap<0&&(Te.wrap=-Te.wrap),Te.status=Te.wrap?Kt:ee,Jt.adler=Te.wrap===2?0:1,Te.last_flush=et,g._tr_init(Te),ot):le(Jt,ut)}function Oe(Jt){var Te=Fe(Jt);return Te===ot&&function(he){he.window_size=2*he.w_size,Ae(he.head),he.max_lazy_match=d[he.level].max_lazy,he.good_match=d[he.level].good_length,he.nice_match=d[he.level].nice_length,he.max_chain_length=d[he.level].max_chain,he.strstart=0,he.block_start=0,he.lookahead=0,he.insert=0,he.match_length=he.prev_length=Dt-1,he.match_available=0,he.ins_h=0}(Jt.state),Te}function Ce(Jt,Te,he,me,pe,we){if(!Jt)return ut;var Re=1;if(Te===ft&&(Te=6),me<0?(Re=0,me=-me):me>15&&(Re=2,me-=16),pe<1||pe>Rt||he!==Tt||me<8||me>15||Te<0||Te>9||we<0||we>dt)return le(Jt,ut);me===8&&(me=9);var Zt=new Ne;return Jt.state=Zt,Zt.strm=Jt,Zt.wrap=Re,Zt.gzhead=null,Zt.w_bits=me,Zt.w_size=1<<Zt.w_bits,Zt.w_mask=Zt.w_size-1,Zt.hash_bits=pe+7,Zt.hash_size=1<<Zt.hash_bits,Zt.hash_mask=Zt.hash_size-1,Zt.hash_shift=~~((Zt.hash_bits+Dt-1)/Dt),Zt.window=new m.Buf8(2*Zt.w_size),Zt.head=new m.Buf16(Zt.hash_size),Zt.prev=new m.Buf16(Zt.w_size),Zt.lit_bufsize=1<<pe+6,Zt.pending_buf_size=4*Zt.lit_bufsize,Zt.pending_buf=new m.Buf8(Zt.pending_buf_size),Zt.d_buf=1*Zt.lit_bufsize,Zt.l_buf=3*Zt.lit_bufsize,Zt.level=Te,Zt.strategy=we,Zt.method=he,Oe(Jt)}return d=[new Se(0,0,0,0,function(Jt,Te){var he=65535;for(he>Jt.pending_buf_size-5&&(he=Jt.pending_buf_size-5);;){if(Jt.lookahead<=1){if(Be(Jt),Jt.lookahead===0&&Te===et)return Ut;if(Jt.lookahead===0)break}Jt.strstart+=Jt.lookahead,Jt.lookahead=0;var me=Jt.block_start+he;if((Jt.strstart===0||Jt.strstart>=me)&&(Jt.lookahead=Jt.strstart-me,Jt.strstart=me,ye(Jt,!1),Jt.strm.avail_out===0)||Jt.strstart-Jt.block_start>=Jt.w_size-ne&&(ye(Jt,!1),Jt.strm.avail_out===0))return Ut}return Jt.insert=0,Te===it?(ye(Jt,!0),Jt.strm.avail_out===0?ge:ce):(Jt.strstart>Jt.block_start&&(ye(Jt,!1),Jt.strm.avail_out),Ut)}),new Se(4,4,8,4,Pe),new Se(4,5,16,8,Pe),new Se(4,6,32,32,Pe),new Se(4,4,16,16,Ee),new Se(8,16,32,32,Ee),new Se(8,16,128,128,Ee),new Se(8,32,128,256,Ee),new Se(32,128,258,1024,Ee),new Se(32,258,258,4096,Ee)],deflate.deflateInit=function(Jt,Te){return Ce(Jt,Te,Tt,15,8,0)},deflate.deflateInit2=Ce,deflate.deflateReset=Oe,deflate.deflateResetKeep=Fe,deflate.deflateSetHeader=function(Jt,Te){return Jt&&Jt.state?Jt.state.wrap!==2?ut:(Jt.state.gzhead=Te,ot):ut},deflate.deflate=function(Jt,Te){var he,me,pe,we;if(!Jt||!Jt.state||Te>5||Te<0)return Jt?le(Jt,ut):ut;if(me=Jt.state,!Jt.output||!Jt.input&&Jt.avail_in!==0||me.status===oe&&Te!==it)return le(Jt,Jt.avail_out===0?-5:ut);if(me.strm=Jt,he=me.last_flush,me.last_flush=Te,me.status===Kt)if(me.wrap===2)Jt.adler=0,Me(me,31),Me(me,139),Me(me,8),me.gzhead?(Me(me,(me.gzhead.text?1:0)+(me.gzhead.hcrc?2:0)+(me.gzhead.extra?4:0)+(me.gzhead.name?8:0)+(me.gzhead.comment?16:0)),Me(me,255&me.gzhead.time),Me(me,me.gzhead.time>>8&255),Me(me,me.gzhead.time>>16&255),Me(me,me.gzhead.time>>24&255),Me(me,me.level===9?2:me.strategy>=2||me.level<2?4:0),Me(me,255&me.gzhead.os),me.gzhead.extra&&me.gzhead.extra.length&&(Me(me,255&me.gzhead.extra.length),Me(me,me.gzhead.extra.length>>8&255)),me.gzhead.hcrc&&(Jt.adler=j(Jt.adler,me.pending_buf,me.pending,0)),me.gzindex=0,me.status=69):(Me(me,0),Me(me,0),Me(me,0),Me(me,0),Me(me,0),Me(me,me.level===9?2:me.strategy>=2||me.level<2?4:0),Me(me,3),me.status=ee);else{var Re=Tt+(me.w_bits-8<<4)<<8;Re|=(me.strategy>=2||me.level<2?0:me.level<6?1:me.level===6?2:3)<<6,me.strstart!==0&&(Re|=32),Re+=31-Re%31,me.status=ee,ue(me,Re),me.strstart!==0&&(ue(me,Jt.adler>>>16),ue(me,65535&Jt.adler)),Jt.adler=1}if(me.status===69)if(me.gzhead.extra){for(pe=me.pending;me.gzindex<(65535&me.gzhead.extra.length)&&(me.pending!==me.pending_buf_size||(me.gzhead.hcrc&&me.pending>pe&&(Jt.adler=j(Jt.adler,me.pending_buf,me.pending-pe,pe)),ve(Jt),pe=me.pending,me.pending!==me.pending_buf_size));)Me(me,255&me.gzhead.extra[me.gzindex]),me.gzindex++;me.gzhead.hcrc&&me.pending>pe&&(Jt.adler=j(Jt.adler,me.pending_buf,me.pending-pe,pe)),me.gzindex===me.gzhead.extra.length&&(me.gzindex=0,me.status=73)}else me.status=73;if(me.status===73)if(me.gzhead.name){pe=me.pending;do{if(me.pending===me.pending_buf_size&&(me.gzhead.hcrc&&me.pending>pe&&(Jt.adler=j(Jt.adler,me.pending_buf,me.pending-pe,pe)),ve(Jt),pe=me.pending,me.pending===me.pending_buf_size)){we=1;break}we=me.gzindex<me.gzhead.name.length?255&me.gzhead.name.charCodeAt(me.gzindex++):0,Me(me,we)}while(we!==0);me.gzhead.hcrc&&me.pending>pe&&(Jt.adler=j(Jt.adler,me.pending_buf,me.pending-pe,pe)),we===0&&(me.gzindex=0,me.status=91)}else me.status=91;if(me.status===91)if(me.gzhead.comment){pe=me.pending;do{if(me.pending===me.pending_buf_size&&(me.gzhead.hcrc&&me.pending>pe&&(Jt.adler=j(Jt.adler,me.pending_buf,me.pending-pe,pe)),ve(Jt),pe=me.pending,me.pending===me.pending_buf_size)){we=1;break}we=me.gzindex<me.gzhead.comment.length?255&me.gzhead.comment.charCodeAt(me.gzindex++):0,Me(me,we)}while(we!==0);me.gzhead.hcrc&&me.pending>pe&&(Jt.adler=j(Jt.adler,me.pending_buf,me.pending-pe,pe)),we===0&&(me.status=re)}else me.status=re;if(me.status===re&&(me.gzhead.hcrc?(me.pending+2>me.pending_buf_size&&ve(Jt),me.pending+2<=me.pending_buf_size&&(Me(me,255&Jt.adler),Me(me,Jt.adler>>8&255),Jt.adler=0,me.status=ee)):me.status=ee),me.pending!==0){if(ve(Jt),Jt.avail_out===0)return me.last_flush=-1,ot}else if(Jt.avail_in===0&&de(Te)<=de(he)&&Te!==it)return le(Jt,-5);if(me.status===oe&&Jt.avail_in!==0)return le(Jt,-5);if(Jt.avail_in!==0||me.lookahead!==0||Te!==et&&me.status!==oe){var Zt=me.strategy===2?function(ae,_e){for(var be;;){if(ae.lookahead===0&&(Be(ae),ae.lookahead===0)){if(_e===et)return Ut;break}if(ae.match_length=0,be=g._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,be&&(ye(ae,!1),ae.strm.avail_out===0))return Ut}return ae.insert=0,_e===it?(ye(ae,!0),ae.strm.avail_out===0?ge:ce):ae.last_lit&&(ye(ae,!1),ae.strm.avail_out===0)?Ut:ie}(me,Te):me.strategy===3?function(ae,_e){for(var be,De,je,er,ir=ae.window;;){if(ae.lookahead<=Yt){if(Be(ae),ae.lookahead<=Yt&&_e===et)return Ut;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=Dt&&ae.strstart>0&&(De=ir[je=ae.strstart-1])===ir[++je]&&De===ir[++je]&&De===ir[++je]){er=ae.strstart+Yt;do;while(De===ir[++je]&&De===ir[++je]&&De===ir[++je]&&De===ir[++je]&&De===ir[++je]&&De===ir[++je]&&De===ir[++je]&&De===ir[++je]&&je<er);ae.match_length=Yt-(er-je),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=Dt?(be=g._tr_tally(ae,1,ae.match_length-Dt),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(be=g._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),be&&(ye(ae,!1),ae.strm.avail_out===0))return Ut}return ae.insert=0,_e===it?(ye(ae,!0),ae.strm.avail_out===0?ge:ce):ae.last_lit&&(ye(ae,!1),ae.strm.avail_out===0)?Ut:ie}(me,Te):d[me.level].func(me,Te);if(Zt!==ge&&Zt!==ce||(me.status=oe),Zt===Ut||Zt===ge)return Jt.avail_out===0&&(me.last_flush=-1),ot;if(Zt===ie&&(Te===1?g._tr_align(me):Te!==5&&(g._tr_stored_block(me,0,0,!1),Te===3&&(Ae(me.head),me.lookahead===0&&(me.strstart=0,me.block_start=0,me.insert=0))),ve(Jt),Jt.avail_out===0))return me.last_flush=-1,ot}return Te!==it?ot:me.wrap<=0?1:(me.wrap===2?(Me(me,255&Jt.adler),Me(me,Jt.adler>>8&255),Me(me,Jt.adler>>16&255),Me(me,Jt.adler>>24&255),Me(me,255&Jt.total_in),Me(me,Jt.total_in>>8&255),Me(me,Jt.total_in>>16&255),Me(me,Jt.total_in>>24&255)):(ue(me,Jt.adler>>>16),ue(me,65535&Jt.adler)),ve(Jt),me.wrap>0&&(me.wrap=-me.wrap),me.pending!==0?ot:1)},deflate.deflateEnd=function(Jt){var Te;return Jt&&Jt.state?(Te=Jt.state.status)!==Kt&&Te!==69&&Te!==73&&Te!==91&&Te!==re&&Te!==ee&&Te!==oe?le(Jt,ut):(Jt.state=null,Te===ee?le(Jt,-3):ot):ut},deflate.deflateSetDictionary=function(Jt,Te){var he,me,pe,we,Re,Zt,ae,_e,be=Te.length;if(!Jt||!Jt.state||(we=(he=Jt.state).wrap)===2||we===1&&he.status!==Kt||he.lookahead)return ut;for(we===1&&(Jt.adler=w(Jt.adler,Te,be,0)),he.wrap=0,be>=he.w_size&&(we===0&&(Ae(he.head),he.strstart=0,he.block_start=0,he.insert=0),_e=new m.Buf8(he.w_size),m.arraySet(_e,Te,be-he.w_size,he.w_size,0),Te=_e,be=he.w_size),Re=Jt.avail_in,Zt=Jt.next_in,ae=Jt.input,Jt.avail_in=be,Jt.next_in=0,Jt.input=Te,Be(he);he.lookahead>=Dt;){me=he.strstart,pe=he.lookahead-(Dt-1);do he.ins_h=(he.ins_h<<he.hash_shift^he.window[me+Dt-1])&he.hash_mask,he.prev[me&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=me,me++;while(--pe);he.strstart=me,he.lookahead=Dt-1,Be(he)}return he.strstart+=he.lookahead,he.block_start=he.strstart,he.insert=he.lookahead,he.lookahead=0,he.match_length=he.prev_length=Dt-1,he.match_available=0,Jt.next_in=Zt,Jt.input=ae,Jt.avail_in=Re,he.wrap=we,ot},deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var strings={},hasRequiredStrings,zstream,hasRequiredZstream,hasRequiredDeflate;function requireStrings(){if(hasRequiredStrings)return strings;hasRequiredStrings=1;var d=requireCommon(),m=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var w=new d.Buf8(256),j=0;j<256;j++)w[j]=j>=252?6:j>=248?5:j>=240?4:j>=224?3:j>=192?2:1;function H(et,it){if(it<65534&&(et.subarray&&g||!et.subarray&&m))return String.fromCharCode.apply(null,d.shrinkBuf(et,it));for(var ot="",ut=0;ut<it;ut++)ot+=String.fromCharCode(et[ut]);return ot}return w[254]=w[254]=1,strings.string2buf=function(et){var it,ot,ut,ft,dt,St=et.length,Tt=0;for(ft=0;ft<St;ft++)(64512&(ot=et.charCodeAt(ft)))==55296&&ft+1<St&&(64512&(ut=et.charCodeAt(ft+1)))==56320&&(ot=65536+(ot-55296<<10)+(ut-56320),ft++),Tt+=ot<128?1:ot<2048?2:ot<65536?3:4;for(it=new d.Buf8(Tt),dt=0,ft=0;dt<Tt;ft++)(64512&(ot=et.charCodeAt(ft)))==55296&&ft+1<St&&(64512&(ut=et.charCodeAt(ft+1)))==56320&&(ot=65536+(ot-55296<<10)+(ut-56320),ft++),ot<128?it[dt++]=ot:ot<2048?(it[dt++]=192|ot>>>6,it[dt++]=128|63&ot):ot<65536?(it[dt++]=224|ot>>>12,it[dt++]=128|ot>>>6&63,it[dt++]=128|63&ot):(it[dt++]=240|ot>>>18,it[dt++]=128|ot>>>12&63,it[dt++]=128|ot>>>6&63,it[dt++]=128|63&ot);return it},strings.buf2binstring=function(et){return H(et,et.length)},strings.binstring2buf=function(et){for(var it=new d.Buf8(et.length),ot=0,ut=it.length;ot<ut;ot++)it[ot]=et.charCodeAt(ot);return it},strings.buf2string=function(et,it){var ot,ut,ft,dt,St=it||et.length,Tt=new Array(2*St);for(ut=0,ot=0;ot<St;)if((ft=et[ot++])<128)Tt[ut++]=ft;else if((dt=w[ft])>4)Tt[ut++]=65533,ot+=dt-1;else{for(ft&=dt===2?31:dt===3?15:7;dt>1&&ot<St;)ft=ft<<6|63&et[ot++],dt--;dt>1?Tt[ut++]=65533:ft<65536?Tt[ut++]=ft:(ft-=65536,Tt[ut++]=55296|ft>>10&1023,Tt[ut++]=56320|1023&ft)}return H(Tt,ut)},strings.utf8border=function(et,it){var ot;for((it=it||et.length)>et.length&&(it=et.length),ot=it-1;ot>=0&&(192&et[ot])==128;)ot--;return ot<0||ot===0?it:ot+w[et[ot]]>it?ot:it},strings}function requireZstream(){return hasRequiredZstream?zstream:(hasRequiredZstream=1,zstream=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0})}function requireDeflate(){if(hasRequiredDeflate)return deflate$1;hasRequiredDeflate=1;var d=requireDeflate$1(),m=requireCommon(),g=requireStrings(),w=requireMessages(),j=requireZstream(),H=Object.prototype.toString,et=0,it=-1,ot=0,ut=8;function ft(St){if(!(this instanceof ft))return new ft(St);this.options=m.assign({level:it,method:ut,chunkSize:16384,windowBits:15,memLevel:8,strategy:ot,to:""},St||{});var Tt=this.options;Tt.raw&&Tt.windowBits>0?Tt.windowBits=-Tt.windowBits:Tt.gzip&&Tt.windowBits>0&&Tt.windowBits<16&&(Tt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;var Rt=d.deflateInit2(this.strm,Tt.level,Tt.method,Tt.windowBits,Tt.memLevel,Tt.strategy);if(Rt!==et)throw new Error(w[Rt]);if(Tt.header&&d.deflateSetHeader(this.strm,Tt.header),Tt.dictionary){var zt;if(zt=typeof Tt.dictionary=="string"?g.string2buf(Tt.dictionary):H.call(Tt.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Tt.dictionary):Tt.dictionary,(Rt=d.deflateSetDictionary(this.strm,zt))!==et)throw new Error(w[Rt]);this._dict_set=!0}}function dt(St,Tt){var Rt=new ft(Tt);if(Rt.push(St,!0),Rt.err)throw Rt.msg||w[Rt.err];return Rt.result}return ft.prototype.push=function(St,Tt){var Rt,zt,$t=this.strm,Ht=this.options.chunkSize;if(this.ended)return!1;zt=Tt===~~Tt?Tt:Tt===!0?4:0,typeof St=="string"?$t.input=g.string2buf(St):H.call(St)==="[object ArrayBuffer]"?$t.input=new Uint8Array(St):$t.input=St,$t.next_in=0,$t.avail_in=$t.input.length;do{if($t.avail_out===0&&($t.output=new m.Buf8(Ht),$t.next_out=0,$t.avail_out=Ht),(Rt=d.deflate($t,zt))!==1&&Rt!==et)return this.onEnd(Rt),this.ended=!0,!1;$t.avail_out!==0&&($t.avail_in!==0||zt!==4&&zt!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(m.shrinkBuf($t.output,$t.next_out))):this.onData(m.shrinkBuf($t.output,$t.next_out)))}while(($t.avail_in>0||$t.avail_out===0)&&Rt!==1);return zt===4?(Rt=d.deflateEnd(this.strm),this.onEnd(Rt),this.ended=!0,Rt===et):zt!==2||(this.onEnd(et),$t.avail_out=0,!0)},ft.prototype.onData=function(St){this.chunks.push(St)},ft.prototype.onEnd=function(St){St===et&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=St,this.msg=this.strm.msg},deflate$1.Deflate=ft,deflate$1.deflate=dt,deflate$1.deflateRaw=function(St,Tt){return(Tt=Tt||{}).raw=!0,dt(St,Tt)},deflate$1.gzip=function(St,Tt){return(Tt=Tt||{}).gzip=!0,dt(St,Tt)},deflate$1}var inflate$1={},inflate={},inffast,hasRequiredInffast,inftrees,hasRequiredInftrees,hasRequiredInflate$1,constants,hasRequiredConstants,gzheader,hasRequiredGzheader,hasRequiredInflate,pako_1,hasRequiredPako;function requireInffast(){return hasRequiredInffast?inffast:(hasRequiredInffast=1,inffast=function(d,m){var g,w,j,H,et,it,ot,ut,ft,dt,St,Tt,Rt,zt,$t,Ht,jt,Ft,Dt,Yt,ne,Kt,re,ee,oe;g=d.state,w=d.next_in,ee=d.input,j=w+(d.avail_in-5),H=d.next_out,oe=d.output,et=H-(m-d.avail_out),it=H+(d.avail_out-257),ot=g.dmax,ut=g.wsize,ft=g.whave,dt=g.wnext,St=g.window,Tt=g.hold,Rt=g.bits,zt=g.lencode,$t=g.distcode,Ht=(1<<g.lenbits)-1,jt=(1<<g.distbits)-1;t:do{Rt<15&&(Tt+=ee[w++]<<Rt,Rt+=8,Tt+=ee[w++]<<Rt,Rt+=8),Ft=zt[Tt&Ht];e:for(;;){if(Tt>>>=Dt=Ft>>>24,Rt-=Dt,(Dt=Ft>>>16&255)===0)oe[H++]=65535&Ft;else{if(!(16&Dt)){if(64&Dt){if(32&Dt){g.mode=12;break t}d.msg="invalid literal/length code",g.mode=30;break t}Ft=zt[(65535&Ft)+(Tt&(1<<Dt)-1)];continue e}for(Yt=65535&Ft,(Dt&=15)&&(Rt<Dt&&(Tt+=ee[w++]<<Rt,Rt+=8),Yt+=Tt&(1<<Dt)-1,Tt>>>=Dt,Rt-=Dt),Rt<15&&(Tt+=ee[w++]<<Rt,Rt+=8,Tt+=ee[w++]<<Rt,Rt+=8),Ft=$t[Tt&jt];;){if(Tt>>>=Dt=Ft>>>24,Rt-=Dt,16&(Dt=Ft>>>16&255)){if(ne=65535&Ft,Rt<(Dt&=15)&&(Tt+=ee[w++]<<Rt,(Rt+=8)<Dt&&(Tt+=ee[w++]<<Rt,Rt+=8)),(ne+=Tt&(1<<Dt)-1)>ot){d.msg="invalid distance too far back",g.mode=30;break t}if(Tt>>>=Dt,Rt-=Dt,ne>(Dt=H-et)){if((Dt=ne-Dt)>ft&&g.sane){d.msg="invalid distance too far back",g.mode=30;break t}if(Kt=0,re=St,dt===0){if(Kt+=ut-Dt,Dt<Yt){Yt-=Dt;do oe[H++]=St[Kt++];while(--Dt);Kt=H-ne,re=oe}}else if(dt<Dt){if(Kt+=ut+dt-Dt,(Dt-=dt)<Yt){Yt-=Dt;do oe[H++]=St[Kt++];while(--Dt);if(Kt=0,dt<Yt){Yt-=Dt=dt;do oe[H++]=St[Kt++];while(--Dt);Kt=H-ne,re=oe}}}else if(Kt+=dt-Dt,Dt<Yt){Yt-=Dt;do oe[H++]=St[Kt++];while(--Dt);Kt=H-ne,re=oe}for(;Yt>2;)oe[H++]=re[Kt++],oe[H++]=re[Kt++],oe[H++]=re[Kt++],Yt-=3;Yt&&(oe[H++]=re[Kt++],Yt>1&&(oe[H++]=re[Kt++]))}else{Kt=H-ne;do oe[H++]=oe[Kt++],oe[H++]=oe[Kt++],oe[H++]=oe[Kt++],Yt-=3;while(Yt>2);Yt&&(oe[H++]=oe[Kt++],Yt>1&&(oe[H++]=oe[Kt++]))}break}if(64&Dt){d.msg="invalid distance code",g.mode=30;break t}Ft=$t[(65535&Ft)+(Tt&(1<<Dt)-1)]}}break}}while(w<j&&H<it);w-=Yt=Rt>>3,Tt&=(1<<(Rt-=Yt<<3))-1,d.next_in=w,d.next_out=H,d.avail_in=w<j?j-w+5:5-(w-j),d.avail_out=H<it?it-H+257:257-(H-it),g.hold=Tt,g.bits=Rt},inffast)}function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;var d=requireCommon(),m=15,g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],w=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],H=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees=function(et,it,ot,ut,ft,dt,St,Tt){var Rt,zt,$t,Ht,jt,Ft,Dt,Yt,ne,Kt=Tt.bits,re=0,ee=0,oe=0,Ut=0,ie=0,ge=0,ce=0,le=0,de=0,Ae=0,ve=null,ye=0,Me=new d.Buf16(16),ue=new d.Buf16(16),xe=null,Be=0;for(re=0;re<=m;re++)Me[re]=0;for(ee=0;ee<ut;ee++)Me[it[ot+ee]]++;for(ie=Kt,Ut=m;Ut>=1&&Me[Ut]===0;Ut--);if(ie>Ut&&(ie=Ut),Ut===0)return ft[dt++]=20971520,ft[dt++]=20971520,Tt.bits=1,0;for(oe=1;oe<Ut&&Me[oe]===0;oe++);for(ie<oe&&(ie=oe),le=1,re=1;re<=m;re++)if(le<<=1,(le-=Me[re])<0)return-1;if(le>0&&(et===0||Ut!==1))return-1;for(ue[1]=0,re=1;re<m;re++)ue[re+1]=ue[re]+Me[re];for(ee=0;ee<ut;ee++)it[ot+ee]!==0&&(St[ue[it[ot+ee]]++]=ee);if(et===0?(ve=xe=St,Ft=19):et===1?(ve=g,ye-=257,xe=w,Be-=257,Ft=256):(ve=j,xe=H,Ft=-1),Ae=0,ee=0,re=oe,jt=dt,ge=ie,ce=0,$t=-1,Ht=(de=1<<ie)-1,et===1&&de>852||et===2&&de>592)return 1;for(;;){Dt=re-ce,St[ee]<Ft?(Yt=0,ne=St[ee]):St[ee]>Ft?(Yt=xe[Be+St[ee]],ne=ve[ye+St[ee]]):(Yt=96,ne=0),Rt=1<<re-ce,oe=zt=1<<ge;do ft[jt+(Ae>>ce)+(zt-=Rt)]=Dt<<24|Yt<<16|ne;while(zt!==0);for(Rt=1<<re-1;Ae&Rt;)Rt>>=1;if(Rt!==0?(Ae&=Rt-1,Ae+=Rt):Ae=0,ee++,--Me[re]==0){if(re===Ut)break;re=it[ot+St[ee]]}if(re>ie&&(Ae&Ht)!==$t){for(ce===0&&(ce=ie),jt+=oe,le=1<<(ge=re-ce);ge+ce<Ut&&!((le-=Me[ge+ce])<=0);)ge++,le<<=1;if(de+=1<<ge,et===1&&de>852||et===2&&de>592)return 1;ft[$t=Ae&Ht]=ie<<24|ge<<16|jt-dt}}return Ae!==0&&(ft[jt+Ae]=re-ce<<24|64<<16),Tt.bits=ie,0}}function requireInflate$1(){if(hasRequiredInflate$1)return inflate;hasRequiredInflate$1=1;var d=requireCommon(),m=requireAdler32(),g=requireCrc32(),w=requireInffast(),j=requireInftrees(),H=1,et=2,it=0,ot=-2,ut=1,ft=12,dt=30,St=852,Tt=592;function Rt(ee){return(ee>>>24&255)+(ee>>>8&65280)+((65280&ee)<<8)+((255&ee)<<24)}function zt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function $t(ee){var oe;return ee&&ee.state?(oe=ee.state,ee.total_in=ee.total_out=oe.total=0,ee.msg="",oe.wrap&&(ee.adler=1&oe.wrap),oe.mode=ut,oe.last=0,oe.havedict=0,oe.dmax=32768,oe.head=null,oe.hold=0,oe.bits=0,oe.lencode=oe.lendyn=new d.Buf32(St),oe.distcode=oe.distdyn=new d.Buf32(Tt),oe.sane=1,oe.back=-1,it):ot}function Ht(ee){var oe;return ee&&ee.state?((oe=ee.state).wsize=0,oe.whave=0,oe.wnext=0,$t(ee)):ot}function jt(ee,oe){var Ut,ie;return ee&&ee.state?(ie=ee.state,oe<0?(Ut=0,oe=-oe):(Ut=1+(oe>>4),oe<48&&(oe&=15)),oe&&(oe<8||oe>15)?ot:(ie.window!==null&&ie.wbits!==oe&&(ie.window=null),ie.wrap=Ut,ie.wbits=oe,Ht(ee))):ot}function Ft(ee,oe){var Ut,ie;return ee?(ie=new zt,ee.state=ie,ie.window=null,(Ut=jt(ee,oe))!==it&&(ee.state=null),Ut):ot}var Dt,Yt,ne=!0;function Kt(ee){if(ne){var oe;for(Dt=new d.Buf32(512),Yt=new d.Buf32(32),oe=0;oe<144;)ee.lens[oe++]=8;for(;oe<256;)ee.lens[oe++]=9;for(;oe<280;)ee.lens[oe++]=7;for(;oe<288;)ee.lens[oe++]=8;for(j(H,ee.lens,0,288,Dt,0,ee.work,{bits:9}),oe=0;oe<32;)ee.lens[oe++]=5;j(et,ee.lens,0,32,Yt,0,ee.work,{bits:5}),ne=!1}ee.lencode=Dt,ee.lenbits=9,ee.distcode=Yt,ee.distbits=5}function re(ee,oe,Ut,ie){var ge,ce=ee.state;return ce.window===null&&(ce.wsize=1<<ce.wbits,ce.wnext=0,ce.whave=0,ce.window=new d.Buf8(ce.wsize)),ie>=ce.wsize?(d.arraySet(ce.window,oe,Ut-ce.wsize,ce.wsize,0),ce.wnext=0,ce.whave=ce.wsize):((ge=ce.wsize-ce.wnext)>ie&&(ge=ie),d.arraySet(ce.window,oe,Ut-ie,ge,ce.wnext),(ie-=ge)?(d.arraySet(ce.window,oe,Ut-ie,ie,0),ce.wnext=ie,ce.whave=ce.wsize):(ce.wnext+=ge,ce.wnext===ce.wsize&&(ce.wnext=0),ce.whave<ce.wsize&&(ce.whave+=ge))),0}return inflate.inflateReset=Ht,inflate.inflateReset2=jt,inflate.inflateResetKeep=$t,inflate.inflateInit=function(ee){return Ft(ee,15)},inflate.inflateInit2=Ft,inflate.inflate=function(ee,oe){var Ut,ie,ge,ce,le,de,Ae,ve,ye,Me,ue,xe,Be,Pe,Ee,Se,Ne,Fe,Oe,Ce,Jt,Te,he,me,pe=0,we=new d.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ee||!ee.state||!ee.output||!ee.input&&ee.avail_in!==0)return ot;(Ut=ee.state).mode===ft&&(Ut.mode=13),le=ee.next_out,ge=ee.output,Ae=ee.avail_out,ce=ee.next_in,ie=ee.input,de=ee.avail_in,ve=Ut.hold,ye=Ut.bits,Me=de,ue=Ae,Te=it;t:for(;;)switch(Ut.mode){case ut:if(Ut.wrap===0){Ut.mode=13;break}for(;ye<16;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(2&Ut.wrap&&ve===35615){Ut.check=0,we[0]=255&ve,we[1]=ve>>>8&255,Ut.check=g(Ut.check,we,2,0),ve=0,ye=0,Ut.mode=2;break}if(Ut.flags=0,Ut.head&&(Ut.head.done=!1),!(1&Ut.wrap)||(((255&ve)<<8)+(ve>>8))%31){ee.msg="incorrect header check",Ut.mode=dt;break}if((15&ve)!=8){ee.msg="unknown compression method",Ut.mode=dt;break}if(ye-=4,Jt=8+(15&(ve>>>=4)),Ut.wbits===0)Ut.wbits=Jt;else if(Jt>Ut.wbits){ee.msg="invalid window size",Ut.mode=dt;break}Ut.dmax=1<<Jt,ee.adler=Ut.check=1,Ut.mode=512&ve?10:ft,ve=0,ye=0;break;case 2:for(;ye<16;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(Ut.flags=ve,(255&Ut.flags)!=8){ee.msg="unknown compression method",Ut.mode=dt;break}if(57344&Ut.flags){ee.msg="unknown header flags set",Ut.mode=dt;break}Ut.head&&(Ut.head.text=ve>>8&1),512&Ut.flags&&(we[0]=255&ve,we[1]=ve>>>8&255,Ut.check=g(Ut.check,we,2,0)),ve=0,ye=0,Ut.mode=3;case 3:for(;ye<32;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}Ut.head&&(Ut.head.time=ve),512&Ut.flags&&(we[0]=255&ve,we[1]=ve>>>8&255,we[2]=ve>>>16&255,we[3]=ve>>>24&255,Ut.check=g(Ut.check,we,4,0)),ve=0,ye=0,Ut.mode=4;case 4:for(;ye<16;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}Ut.head&&(Ut.head.xflags=255&ve,Ut.head.os=ve>>8),512&Ut.flags&&(we[0]=255&ve,we[1]=ve>>>8&255,Ut.check=g(Ut.check,we,2,0)),ve=0,ye=0,Ut.mode=5;case 5:if(1024&Ut.flags){for(;ye<16;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}Ut.length=ve,Ut.head&&(Ut.head.extra_len=ve),512&Ut.flags&&(we[0]=255&ve,we[1]=ve>>>8&255,Ut.check=g(Ut.check,we,2,0)),ve=0,ye=0}else Ut.head&&(Ut.head.extra=null);Ut.mode=6;case 6:if(1024&Ut.flags&&((xe=Ut.length)>de&&(xe=de),xe&&(Ut.head&&(Jt=Ut.head.extra_len-Ut.length,Ut.head.extra||(Ut.head.extra=new Array(Ut.head.extra_len)),d.arraySet(Ut.head.extra,ie,ce,xe,Jt)),512&Ut.flags&&(Ut.check=g(Ut.check,ie,xe,ce)),de-=xe,ce+=xe,Ut.length-=xe),Ut.length))break t;Ut.length=0,Ut.mode=7;case 7:if(2048&Ut.flags){if(de===0)break t;xe=0;do Jt=ie[ce+xe++],Ut.head&&Jt&&Ut.length<65536&&(Ut.head.name+=String.fromCharCode(Jt));while(Jt&&xe<de);if(512&Ut.flags&&(Ut.check=g(Ut.check,ie,xe,ce)),de-=xe,ce+=xe,Jt)break t}else Ut.head&&(Ut.head.name=null);Ut.length=0,Ut.mode=8;case 8:if(4096&Ut.flags){if(de===0)break t;xe=0;do Jt=ie[ce+xe++],Ut.head&&Jt&&Ut.length<65536&&(Ut.head.comment+=String.fromCharCode(Jt));while(Jt&&xe<de);if(512&Ut.flags&&(Ut.check=g(Ut.check,ie,xe,ce)),de-=xe,ce+=xe,Jt)break t}else Ut.head&&(Ut.head.comment=null);Ut.mode=9;case 9:if(512&Ut.flags){for(;ye<16;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(ve!==(65535&Ut.check)){ee.msg="header crc mismatch",Ut.mode=dt;break}ve=0,ye=0}Ut.head&&(Ut.head.hcrc=Ut.flags>>9&1,Ut.head.done=!0),ee.adler=Ut.check=0,Ut.mode=ft;break;case 10:for(;ye<32;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}ee.adler=Ut.check=Rt(ve),ve=0,ye=0,Ut.mode=11;case 11:if(Ut.havedict===0)return ee.next_out=le,ee.avail_out=Ae,ee.next_in=ce,ee.avail_in=de,Ut.hold=ve,Ut.bits=ye,2;ee.adler=Ut.check=1,Ut.mode=ft;case ft:if(oe===5||oe===6)break t;case 13:if(Ut.last){ve>>>=7&ye,ye-=7&ye,Ut.mode=27;break}for(;ye<3;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}switch(Ut.last=1&ve,ye-=1,3&(ve>>>=1)){case 0:Ut.mode=14;break;case 1:if(Kt(Ut),Ut.mode=20,oe===6){ve>>>=2,ye-=2;break t}break;case 2:Ut.mode=17;break;case 3:ee.msg="invalid block type",Ut.mode=dt}ve>>>=2,ye-=2;break;case 14:for(ve>>>=7&ye,ye-=7&ye;ye<32;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if((65535&ve)!=(ve>>>16^65535)){ee.msg="invalid stored block lengths",Ut.mode=dt;break}if(Ut.length=65535&ve,ve=0,ye=0,Ut.mode=15,oe===6)break t;case 15:Ut.mode=16;case 16:if(xe=Ut.length){if(xe>de&&(xe=de),xe>Ae&&(xe=Ae),xe===0)break t;d.arraySet(ge,ie,ce,xe,le),de-=xe,ce+=xe,Ae-=xe,le+=xe,Ut.length-=xe;break}Ut.mode=ft;break;case 17:for(;ye<14;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(Ut.nlen=257+(31&ve),ve>>>=5,ye-=5,Ut.ndist=1+(31&ve),ve>>>=5,ye-=5,Ut.ncode=4+(15&ve),ve>>>=4,ye-=4,Ut.nlen>286||Ut.ndist>30){ee.msg="too many length or distance symbols",Ut.mode=dt;break}Ut.have=0,Ut.mode=18;case 18:for(;Ut.have<Ut.ncode;){for(;ye<3;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}Ut.lens[Re[Ut.have++]]=7&ve,ve>>>=3,ye-=3}for(;Ut.have<19;)Ut.lens[Re[Ut.have++]]=0;if(Ut.lencode=Ut.lendyn,Ut.lenbits=7,he={bits:Ut.lenbits},Te=j(0,Ut.lens,0,19,Ut.lencode,0,Ut.work,he),Ut.lenbits=he.bits,Te){ee.msg="invalid code lengths set",Ut.mode=dt;break}Ut.have=0,Ut.mode=19;case 19:for(;Ut.have<Ut.nlen+Ut.ndist;){for(;Se=(pe=Ut.lencode[ve&(1<<Ut.lenbits)-1])>>>16&255,Ne=65535&pe,!((Ee=pe>>>24)<=ye);){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(Ne<16)ve>>>=Ee,ye-=Ee,Ut.lens[Ut.have++]=Ne;else{if(Ne===16){for(me=Ee+2;ye<me;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(ve>>>=Ee,ye-=Ee,Ut.have===0){ee.msg="invalid bit length repeat",Ut.mode=dt;break}Jt=Ut.lens[Ut.have-1],xe=3+(3&ve),ve>>>=2,ye-=2}else if(Ne===17){for(me=Ee+3;ye<me;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}ye-=Ee,Jt=0,xe=3+(7&(ve>>>=Ee)),ve>>>=3,ye-=3}else{for(me=Ee+7;ye<me;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}ye-=Ee,Jt=0,xe=11+(127&(ve>>>=Ee)),ve>>>=7,ye-=7}if(Ut.have+xe>Ut.nlen+Ut.ndist){ee.msg="invalid bit length repeat",Ut.mode=dt;break}for(;xe--;)Ut.lens[Ut.have++]=Jt}}if(Ut.mode===dt)break;if(Ut.lens[256]===0){ee.msg="invalid code -- missing end-of-block",Ut.mode=dt;break}if(Ut.lenbits=9,he={bits:Ut.lenbits},Te=j(H,Ut.lens,0,Ut.nlen,Ut.lencode,0,Ut.work,he),Ut.lenbits=he.bits,Te){ee.msg="invalid literal/lengths set",Ut.mode=dt;break}if(Ut.distbits=6,Ut.distcode=Ut.distdyn,he={bits:Ut.distbits},Te=j(et,Ut.lens,Ut.nlen,Ut.ndist,Ut.distcode,0,Ut.work,he),Ut.distbits=he.bits,Te){ee.msg="invalid distances set",Ut.mode=dt;break}if(Ut.mode=20,oe===6)break t;case 20:Ut.mode=21;case 21:if(de>=6&&Ae>=258){ee.next_out=le,ee.avail_out=Ae,ee.next_in=ce,ee.avail_in=de,Ut.hold=ve,Ut.bits=ye,w(ee,ue),le=ee.next_out,ge=ee.output,Ae=ee.avail_out,ce=ee.next_in,ie=ee.input,de=ee.avail_in,ve=Ut.hold,ye=Ut.bits,Ut.mode===ft&&(Ut.back=-1);break}for(Ut.back=0;Se=(pe=Ut.lencode[ve&(1<<Ut.lenbits)-1])>>>16&255,Ne=65535&pe,!((Ee=pe>>>24)<=ye);){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(Se&&!(240&Se)){for(Fe=Ee,Oe=Se,Ce=Ne;Se=(pe=Ut.lencode[Ce+((ve&(1<<Fe+Oe)-1)>>Fe)])>>>16&255,Ne=65535&pe,!(Fe+(Ee=pe>>>24)<=ye);){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}ve>>>=Fe,ye-=Fe,Ut.back+=Fe}if(ve>>>=Ee,ye-=Ee,Ut.back+=Ee,Ut.length=Ne,Se===0){Ut.mode=26;break}if(32&Se){Ut.back=-1,Ut.mode=ft;break}if(64&Se){ee.msg="invalid literal/length code",Ut.mode=dt;break}Ut.extra=15&Se,Ut.mode=22;case 22:if(Ut.extra){for(me=Ut.extra;ye<me;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}Ut.length+=ve&(1<<Ut.extra)-1,ve>>>=Ut.extra,ye-=Ut.extra,Ut.back+=Ut.extra}Ut.was=Ut.length,Ut.mode=23;case 23:for(;Se=(pe=Ut.distcode[ve&(1<<Ut.distbits)-1])>>>16&255,Ne=65535&pe,!((Ee=pe>>>24)<=ye);){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(!(240&Se)){for(Fe=Ee,Oe=Se,Ce=Ne;Se=(pe=Ut.distcode[Ce+((ve&(1<<Fe+Oe)-1)>>Fe)])>>>16&255,Ne=65535&pe,!(Fe+(Ee=pe>>>24)<=ye);){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}ve>>>=Fe,ye-=Fe,Ut.back+=Fe}if(ve>>>=Ee,ye-=Ee,Ut.back+=Ee,64&Se){ee.msg="invalid distance code",Ut.mode=dt;break}Ut.offset=Ne,Ut.extra=15&Se,Ut.mode=24;case 24:if(Ut.extra){for(me=Ut.extra;ye<me;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}Ut.offset+=ve&(1<<Ut.extra)-1,ve>>>=Ut.extra,ye-=Ut.extra,Ut.back+=Ut.extra}if(Ut.offset>Ut.dmax){ee.msg="invalid distance too far back",Ut.mode=dt;break}Ut.mode=25;case 25:if(Ae===0)break t;if(xe=ue-Ae,Ut.offset>xe){if((xe=Ut.offset-xe)>Ut.whave&&Ut.sane){ee.msg="invalid distance too far back",Ut.mode=dt;break}xe>Ut.wnext?(xe-=Ut.wnext,Be=Ut.wsize-xe):Be=Ut.wnext-xe,xe>Ut.length&&(xe=Ut.length),Pe=Ut.window}else Pe=ge,Be=le-Ut.offset,xe=Ut.length;xe>Ae&&(xe=Ae),Ae-=xe,Ut.length-=xe;do ge[le++]=Pe[Be++];while(--xe);Ut.length===0&&(Ut.mode=21);break;case 26:if(Ae===0)break t;ge[le++]=Ut.length,Ae--,Ut.mode=21;break;case 27:if(Ut.wrap){for(;ye<32;){if(de===0)break t;de--,ve|=ie[ce++]<<ye,ye+=8}if(ue-=Ae,ee.total_out+=ue,Ut.total+=ue,ue&&(ee.adler=Ut.check=Ut.flags?g(Ut.check,ge,ue,le-ue):m(Ut.check,ge,ue,le-ue)),ue=Ae,(Ut.flags?ve:Rt(ve))!==Ut.check){ee.msg="incorrect data check",Ut.mode=dt;break}ve=0,ye=0}Ut.mode=28;case 28:if(Ut.wrap&&Ut.flags){for(;ye<32;){if(de===0)break t;de--,ve+=ie[ce++]<<ye,ye+=8}if(ve!==(4294967295&Ut.total)){ee.msg="incorrect length check",Ut.mode=dt;break}ve=0,ye=0}Ut.mode=29;case 29:Te=1;break t;case dt:Te=-3;break t;case 31:return-4;default:return ot}return ee.next_out=le,ee.avail_out=Ae,ee.next_in=ce,ee.avail_in=de,Ut.hold=ve,Ut.bits=ye,(Ut.wsize||ue!==ee.avail_out&&Ut.mode<dt&&(Ut.mode<27||oe!==4))&&re(ee,ee.output,ee.next_out,ue-ee.avail_out),Me-=ee.avail_in,ue-=ee.avail_out,ee.total_in+=Me,ee.total_out+=ue,Ut.total+=ue,Ut.wrap&&ue&&(ee.adler=Ut.check=Ut.flags?g(Ut.check,ge,ue,ee.next_out-ue):m(Ut.check,ge,ue,ee.next_out-ue)),ee.data_type=Ut.bits+(Ut.last?64:0)+(Ut.mode===ft?128:0)+(Ut.mode===20||Ut.mode===15?256:0),(Me===0&&ue===0||oe===4)&&Te===it&&(Te=-5),Te},inflate.inflateEnd=function(ee){if(!ee||!ee.state)return ot;var oe=ee.state;return oe.window&&(oe.window=null),ee.state=null,it},inflate.inflateGetHeader=function(ee,oe){var Ut;return ee&&ee.state&&2&(Ut=ee.state).wrap?(Ut.head=oe,oe.done=!1,it):ot},inflate.inflateSetDictionary=function(ee,oe){var Ut,ie=oe.length;return ee&&ee.state?(Ut=ee.state).wrap!==0&&Ut.mode!==11?ot:Ut.mode===11&&m(1,oe,ie,0)!==Ut.check?-3:re(ee,oe,ie,ie)?(Ut.mode=31,-4):(Ut.havedict=1,it):ot},inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}function requireConstants(){return hasRequiredConstants?constants:(hasRequiredConstants=1,constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8})}function requireGzheader(){return hasRequiredGzheader?gzheader:(hasRequiredGzheader=1,gzheader=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1})}function requireInflate(){if(hasRequiredInflate)return inflate$1;hasRequiredInflate=1;var d=requireInflate$1(),m=requireCommon(),g=requireStrings(),w=requireConstants(),j=requireMessages(),H=requireZstream(),et=requireGzheader(),it=Object.prototype.toString;function ot(ft){if(!(this instanceof ot))return new ot(ft);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},ft||{});var dt=this.options;dt.raw&&dt.windowBits>=0&&dt.windowBits<16&&(dt.windowBits=-dt.windowBits,dt.windowBits===0&&(dt.windowBits=-15)),!(dt.windowBits>=0&&dt.windowBits<16)||ft&&ft.windowBits||(dt.windowBits+=32),dt.windowBits>15&&dt.windowBits<48&&(15&dt.windowBits||(dt.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new H,this.strm.avail_out=0;var St=d.inflateInit2(this.strm,dt.windowBits);if(St!==w.Z_OK)throw new Error(j[St]);if(this.header=new et,d.inflateGetHeader(this.strm,this.header),dt.dictionary&&(typeof dt.dictionary=="string"?dt.dictionary=g.string2buf(dt.dictionary):it.call(dt.dictionary)==="[object ArrayBuffer]"&&(dt.dictionary=new Uint8Array(dt.dictionary)),dt.raw&&(St=d.inflateSetDictionary(this.strm,dt.dictionary))!==w.Z_OK))throw new Error(j[St])}function ut(ft,dt){var St=new ot(dt);if(St.push(ft,!0),St.err)throw St.msg||j[St.err];return St.result}return ot.prototype.push=function(ft,dt){var St,Tt,Rt,zt,$t,Ht=this.strm,jt=this.options.chunkSize,Ft=this.options.dictionary,Dt=!1;if(this.ended)return!1;Tt=dt===~~dt?dt:dt===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof ft=="string"?Ht.input=g.binstring2buf(ft):it.call(ft)==="[object ArrayBuffer]"?Ht.input=new Uint8Array(ft):Ht.input=ft,Ht.next_in=0,Ht.avail_in=Ht.input.length;do{if(Ht.avail_out===0&&(Ht.output=new m.Buf8(jt),Ht.next_out=0,Ht.avail_out=jt),(St=d.inflate(Ht,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&Ft&&(St=d.inflateSetDictionary(this.strm,Ft)),St===w.Z_BUF_ERROR&&Dt===!0&&(St=w.Z_OK,Dt=!1),St!==w.Z_STREAM_END&&St!==w.Z_OK)return this.onEnd(St),this.ended=!0,!1;Ht.next_out&&(Ht.avail_out!==0&&St!==w.Z_STREAM_END&&(Ht.avail_in!==0||Tt!==w.Z_FINISH&&Tt!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(Rt=g.utf8border(Ht.output,Ht.next_out),zt=Ht.next_out-Rt,$t=g.buf2string(Ht.output,Rt),Ht.next_out=zt,Ht.avail_out=jt-zt,zt&&m.arraySet(Ht.output,Ht.output,Rt,zt,0),this.onData($t)):this.onData(m.shrinkBuf(Ht.output,Ht.next_out)))),Ht.avail_in===0&&Ht.avail_out===0&&(Dt=!0)}while((Ht.avail_in>0||Ht.avail_out===0)&&St!==w.Z_STREAM_END);return St===w.Z_STREAM_END&&(Tt=w.Z_FINISH),Tt===w.Z_FINISH?(St=d.inflateEnd(this.strm),this.onEnd(St),this.ended=!0,St===w.Z_OK):Tt!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),Ht.avail_out=0,!0)},ot.prototype.onData=function(ft){this.chunks.push(ft)},ot.prototype.onEnd=function(ft){ft===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=ft,this.msg=this.strm.msg},inflate$1.Inflate=ot,inflate$1.inflate=ut,inflate$1.inflateRaw=function(ft,dt){return(dt=dt||{}).raw=!0,ut(ft,dt)},inflate$1.ungzip=ut,inflate$1}function requirePako(){if(hasRequiredPako)return pako_1;hasRequiredPako=1;var d={};return(0,requireCommon().assign)(d,requireDeflate(),requireInflate(),requireConstants()),pako_1=d}(function(d){(function(){var m={};function g(){typeof process<"u"||console.log.apply(console,arguments)}d.exports=m,function(w,j){(function(){var H=function(){function ot(ut){this.message="JPEG error: "+ut}return ot.prototype=new Error,ot.prototype.name="JpegError",ot.constructor=ot,ot}(),et=function(){var ot=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),ut=4017,ft=799,dt=3406,St=2276,Tt=1567,Rt=3784,zt=5793,$t=2896;function Ht(re){re==null&&(re={}),re.w==null&&(re.w=-1),this.V=re.n,this.N=re.w}function jt(re,ee){for(var oe,Ut,ie,ge=0,ce=[],le=16;le>0&&!re[le-1];)le--;ce.push({children:[],index:0});var de=ce[0];for(oe=0;oe<le;oe++){for(Ut=0;Ut<re[oe];Ut++){for((de=ce.pop()).children[de.index]=ee[ge];de.index>0;)de=ce.pop();for(de.index++,ce.push(de);ce.length<=oe;)ce.push(ie={children:[],index:0}),de.children[de.index]=ie.children,de=ie;ge++}oe+1<le&&(ce.push(ie={children:[],index:0}),de.children[de.index]=ie.children,de=ie)}return ce[0].children}function Ft(re,ee,oe){return 64*((re.P+1)*ee+oe)}function Dt(re,ee,oe,Ut,ie,ge,ce,le,de,Ae){Ae==null&&(Ae=!1);var ve,ye,Me,ue,xe,Be,Pe,Ee,Se,Ne,Fe,Oe=oe.m,Ce=oe.Z,Jt=ee,Te=0,he=0,me=0,pe=0,we=0,Re=0;function Zt(){if(he>0)return he--,Te>>he&1;if((Te=re[ee++])===255){var Xe=re[ee++];if(Xe){if(Xe===220&&Ae){var ar=it(re,ee+=2);if(ee+=2,ar>0&&ar!==oe.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",ar)}else if(Xe===217){if(Ae){var rr=8*we;if(rr>0&&rr<oe.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",rr)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new H("unexpected marker")}}return he=7,Te>>>7}function ae(Xe){for(var ar=Xe;;){switch(typeof(ar=ar[Zt()])){case"number":return ar;case"object":continue}throw new H("invalid huffman sequence")}}function _e(Xe){for(var ar=0;Xe>0;)ar=ar<<1|Zt(),Xe--;return ar}function be(Xe){if(Xe===1)return Zt()===1?1:-1;var ar=_e(Xe);return ar>=1<<Xe-1?ar:ar+(-1<<Xe)+1}function De(Xe,ar,rr,_r,dr){var hr=rr%Oe;we=(rr/Oe|0)*Xe.A+_r;var kr=hr*Xe.h+dr;ar(Xe,Ft(Xe,we,kr))}function je(Xe,ar,rr){we=rr/Xe.P|0;var _r=rr%Xe.P;ar(Xe,Ft(Xe,we,_r))}var er=Ut.length;for(Pe=Ce?ge===0?le===0?function(Xe,ar){var rr=ae(Xe.J),_r=rr===0?0:be(rr)<<de;Xe.D[ar]=Xe.Q+=_r}:function(Xe,ar){Xe.D[ar]|=Zt()<<de}:le===0?function(Xe,ar){if(me>0)me--;else for(var rr=ge,_r=ce;rr<=_r;){var dr=ae(Xe.i),hr=15&dr,kr=dr>>4;if(hr!==0){var cr=ot[rr+=kr];Xe.D[ar+cr]=be(hr)*(1<<de),rr++}else{if(kr<15){me=_e(kr)+(1<<kr)-1;break}rr+=16}}}:function(Xe,ar){for(var rr,_r,dr=ge,hr=ce,kr=0;dr<=hr;){var cr=ar+ot[dr],ze=Xe.D[cr]<0?-1:1;switch(pe){case 0:if(kr=(_r=ae(Xe.i))>>4,(rr=15&_r)==0)kr<15?(me=_e(kr)+(1<<kr),pe=4):(kr=16,pe=1);else{if(rr!==1)throw new H("invalid ACn encoding");ve=be(rr),pe=kr?2:3}continue;case 1:case 2:Xe.D[cr]?Xe.D[cr]+=ze*(Zt()<<de):--kr==0&&(pe=pe===2?3:0);break;case 3:Xe.D[cr]?Xe.D[cr]+=ze*(Zt()<<de):(Xe.D[cr]=ve<<de,pe=0);break;case 4:Xe.D[cr]&&(Xe.D[cr]+=ze*(Zt()<<de))}dr++}pe===4&&--me==0&&(pe=0)}:function(Xe,ar){var rr=ae(Xe.J),_r=rr===0?0:be(rr),dr=1;for(Xe.D[ar]=Xe.Q+=_r;dr<64;){var hr=ae(Xe.i),kr=15&hr,cr=hr>>4;if(kr!==0){var ze=ot[dr+=cr];Xe.D[ar+ze]=be(kr),dr++}else{if(cr<15)break;dr+=16}}},Se=er===1?Ut[0].P*Ut[0].c:Oe*oe.R;Re<=Se;){var ir=ie?Math.min(Se-Re,ie):Se;if(ir>0){for(Me=0;Me<er;Me++)Ut[Me].Q=0;if(me=0,er===1)for(ye=Ut[0],Be=0;Be<ir;Be++)je(ye,Pe,Re),Re++;else for(Be=0;Be<ir;Be++){for(Me=0;Me<er;Me++)for(Ne=(ye=Ut[Me]).h,Fe=ye.A,ue=0;ue<Fe;ue++)for(xe=0;xe<Ne;xe++)De(ye,Pe,Re,ue,xe);Re++}}if(he=0,!(Ee=Kt(re,ee))||(Ee.u&&(ee=Ee.offset),!(Ee.M>=65488&&Ee.M<=65495)))break;ee+=2}return ee-Jt}function Yt(re,ee,oe){var Ut,ie,ge,ce,le,de,Ae,ve,ye,Me,ue,xe,Be,Pe,Ee,Se,Ne,Fe=re.$,Oe=re.D;if(!Fe)throw new H("missing required Quantization Table.");for(var Ce=0;Ce<64;Ce+=8)ye=Oe[ee+Ce],Me=Oe[ee+Ce+1],ue=Oe[ee+Ce+2],xe=Oe[ee+Ce+3],Be=Oe[ee+Ce+4],Pe=Oe[ee+Ce+5],Ee=Oe[ee+Ce+6],Se=Oe[ee+Ce+7],ye*=Fe[Ce],Me|ue|xe|Be|Pe|Ee|Se?(Me*=Fe[Ce+1],ue*=Fe[Ce+2],xe*=Fe[Ce+3],Be*=Fe[Ce+4],Pe*=Fe[Ce+5],Ee*=Fe[Ce+6],Se*=Fe[Ce+7],ie=(Ut=(Ut=zt*ye+128>>8)+(ie=zt*Be+128>>8)+1>>1)-ie,Ne=(ge=ue)*Rt+(ce=Ee)*Tt+128>>8,ge=ge*Tt-ce*Rt+128>>8,Ae=(le=(le=$t*(Me-Se)+128>>8)+(Ae=Pe<<4)+1>>1)-Ae,de=(ve=(ve=$t*(Me+Se)+128>>8)+(de=xe<<4)+1>>1)-de,ce=(Ut=Ut+(ce=Ne)+1>>1)-ce,ge=(ie=ie+ge+1>>1)-ge,Ne=le*St+ve*dt+2048>>12,le=le*dt-ve*St+2048>>12,ve=Ne,Ne=de*ft+Ae*ut+2048>>12,de=de*ut-Ae*ft+2048>>12,Ae=Ne,oe[Ce]=Ut+ve,oe[Ce+7]=Ut-ve,oe[Ce+1]=ie+Ae,oe[Ce+6]=ie-Ae,oe[Ce+2]=ge+de,oe[Ce+5]=ge-de,oe[Ce+3]=ce+le,oe[Ce+4]=ce-le):(Ne=zt*ye+512>>10,oe[Ce]=Ne,oe[Ce+1]=Ne,oe[Ce+2]=Ne,oe[Ce+3]=Ne,oe[Ce+4]=Ne,oe[Ce+5]=Ne,oe[Ce+6]=Ne,oe[Ce+7]=Ne);for(var Jt=0;Jt<8;++Jt)ye=oe[Jt],(Me=oe[Jt+8])|(ue=oe[Jt+16])|(xe=oe[Jt+24])|(Be=oe[Jt+32])|(Pe=oe[Jt+40])|(Ee=oe[Jt+48])|(Se=oe[Jt+56])?(ie=(Ut=4112+((Ut=zt*ye+2048>>12)+(ie=zt*Be+2048>>12)+1>>1))-ie,Ne=(ge=ue)*Rt+(ce=Ee)*Tt+2048>>12,ge=ge*Tt-ce*Rt+2048>>12,ce=Ne,Ae=(le=(le=$t*(Me-Se)+2048>>12)+(Ae=Pe)+1>>1)-Ae,de=(ve=(ve=$t*(Me+Se)+2048>>12)+(de=xe)+1>>1)-de,Ne=le*St+ve*dt+2048>>12,le=le*dt-ve*St+2048>>12,ve=Ne,Ne=de*ft+Ae*ut+2048>>12,de=de*ut-Ae*ft+2048>>12,(ye=(Ut=Ut+ce+1>>1)+ve)<16?ye=0:ye>=4080?ye=255:ye>>=4,(Me=(ie=ie+ge+1>>1)+(Ae=Ne))<16?Me=0:Me>=4080?Me=255:Me>>=4,(ue=(ge=ie-ge)+de)<16?ue=0:ue>=4080?ue=255:ue>>=4,(xe=(ce=Ut-ce)+le)<16?xe=0:xe>=4080?xe=255:xe>>=4,(Be=ce-le)<16?Be=0:Be>=4080?Be=255:Be>>=4,(Pe=ge-de)<16?Pe=0:Pe>=4080?Pe=255:Pe>>=4,(Ee=ie-Ae)<16?Ee=0:Ee>=4080?Ee=255:Ee>>=4,(Se=Ut-ve)<16?Se=0:Se>=4080?Se=255:Se>>=4,Oe[ee+Jt]=ye,Oe[ee+Jt+8]=Me,Oe[ee+Jt+16]=ue,Oe[ee+Jt+24]=xe,Oe[ee+Jt+32]=Be,Oe[ee+Jt+40]=Pe,Oe[ee+Jt+48]=Ee,Oe[ee+Jt+56]=Se):(Ne=(Ne=zt*ye+8192>>14)<-2040?0:Ne>=2024?255:Ne+2056>>4,Oe[ee+Jt]=Ne,Oe[ee+Jt+8]=Ne,Oe[ee+Jt+16]=Ne,Oe[ee+Jt+24]=Ne,Oe[ee+Jt+32]=Ne,Oe[ee+Jt+40]=Ne,Oe[ee+Jt+48]=Ne,Oe[ee+Jt+56]=Ne)}function ne(re,ee){for(var oe=ee.P,Ut=ee.c,ie=new Int16Array(64),ge=0;ge<Ut;ge++)for(var ce=0;ce<oe;ce++)Yt(ee,Ft(ee,ge,ce),ie);return ee.D}function Kt(re,ee,oe){oe==null&&(oe=ee);var Ut=re.length-1,ie=oe<ee?oe:ee;if(ee>=Ut)return null;var ge=it(re,ee);if(ge>=65472&&ge<=65534)return{u:null,M:ge,offset:ee};for(var ce=it(re,ie);!(ce>=65472&&ce<=65534);){if(++ie>=Ut)return null;ce=it(re,ie)}return{u:ge.toString(16),M:ce,offset:ie}}return Ht.prototype={parse(re,ee){ee==null&&(ee={});var oe,Ut,ie=ee.F,ge=0,ce=null,le=null,de=0;function Ae(){var Le=it(re,ge),Qe=(ge+=2)+Le-2,ke=Kt(re,Qe,ge);ke&&ke.u&&(Qe=ke.offset);var tr=re.subarray(ge,Qe);return ge+=tr.length,tr}function ve(Le){for(var Qe=Math.ceil(Le.o/8/Le.X),ke=Math.ceil(Le.s/8/Le.B),tr=0;tr<Le.W.length;tr++){je=Le.W[tr];var br=Math.ceil(Math.ceil(Le.o/8)*je.h/Le.X),se=Math.ceil(Math.ceil(Le.s/8)*je.A/Le.B),Ve=Qe*je.h,Ze=64*(ke*je.A)*(Ve+1);je.D=new Int16Array(Ze),je.P=br,je.c=se}Le.m=Qe,Le.R=ke}var ye=[],Me=[],ue=[],xe=it(re,ge);if(ge+=2,xe!==65496)throw new H("SOI not found");xe=it(re,ge),ge+=2;t:for(;xe!==65497;){var Be,Pe,Ee;switch(xe){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Se=Ae();xe===65504&&Se[0]===74&&Se[1]===70&&Se[2]===73&&Se[3]===70&&Se[4]===0&&(ce={version:{d:Se[5],T:Se[6]},K:Se[7],j:Se[8]<<8|Se[9],H:Se[10]<<8|Se[11],S:Se[12],I:Se[13],C:Se.subarray(14,14+3*Se[12]*Se[13])}),xe===65518&&Se[0]===65&&Se[1]===100&&Se[2]===111&&Se[3]===98&&Se[4]===101&&(le={version:Se[5]<<8|Se[6],k:Se[7]<<8|Se[8],q:Se[9]<<8|Se[10],a:Se[11]});break;case 65499:for(var Ne=it(re,ge)+(ge+=2)-2;ge<Ne;){var Fe=re[ge++],Oe=new Uint16Array(64);if(Fe>>4){if(Fe>>4!=1)throw new H("DQT - invalid table spec");for(Pe=0;Pe<64;Pe++)Oe[ot[Pe]]=it(re,ge),ge+=2}else for(Pe=0;Pe<64;Pe++)Oe[ot[Pe]]=re[ge++];ye[15&Fe]=Oe}break;case 65472:case 65473:case 65474:if(oe)throw new H("Only single frame JPEGs supported");ge+=2,(oe={}).G=xe===65473,oe.Z=xe===65474,oe.precision=re[ge++];var Ce,Jt=it(re,ge),Te=0,he=0;ge+=2,oe.s=ie||Jt,oe.o=it(re,ge),ge+=2,oe.W=[],oe._={};var me=re[ge++];for(Be=0;Be<me;Be++){Ce=re[ge];var pe=re[ge+1]>>4,we=15&re[ge+1];Te<pe&&(Te=pe),he<we&&(he=we);var Re=re[ge+2];Ee=oe.W.push({h:pe,A:we,L:Re,$:null}),oe._[Ce]=Ee-1,ge+=3}oe.X=Te,oe.B=he,ve(oe);break;case 65476:var Zt=it(re,ge);for(ge+=2,Be=2;Be<Zt;){var ae=re[ge++],_e=new Uint8Array(16),be=0;for(Pe=0;Pe<16;Pe++,ge++)be+=_e[Pe]=re[ge];var De=new Uint8Array(be);for(Pe=0;Pe<be;Pe++,ge++)De[Pe]=re[ge];Be+=17+be,(ae>>4?Me:ue)[15&ae]=jt(_e,De)}break;case 65501:Ut=it(re,ge+=2),ge+=2;break;case 65498:var je,er=++de==1&&!ie;ge+=2;var ir=re[ge++],Xe=[];for(Be=0;Be<ir;Be++){var ar=re[ge++],rr=oe._[ar];(je=oe.W[rr]).index=ar;var _r=re[ge++];je.J=ue[_r>>4],je.i=Me[15&_r],Xe.push(je)}var dr=re[ge++],hr=re[ge++],kr=re[ge++];try{var cr=Dt(re,ge,oe,Xe,Ut,dr,hr,kr>>4,15&kr,er);ge+=cr}catch(Le){if(Le instanceof DNLMarkerError)return this.parse(re,{F:Le.s});if(Le instanceof EOIMarkerError)break t;throw Le}break;case 65500:ge+=4;break;case 65535:re[ge]!==255&&ge--;break;default:var ze=Kt(re,ge-2,ge-3);if(ze&&ze.u){ge=ze.offset;break}if(ge>=re.length-1)break t;throw new H("JpegImage.parse - unknown marker: "+xe.toString(16))}xe=it(re,ge),ge+=2}for(this.width=oe.o,this.height=oe.s,this.g=ce,this.b=le,this.W=[],Be=0;Be<oe.W.length;Be++){var nr=ye[(je=oe.W[Be]).L];nr&&(je.$=nr),this.W.push({index:je.index,e:ne(0,je),l:je.h/oe.X,t:je.A/oe.B,P:je.P,c:je.c})}this.p=this.W.length},Y(re,ee,oe){oe==null&&(oe=!1);var Ut,ie,ge,ce,le,de,Ae,ve,ye,Me,ue,xe,Be=this.width/re,Pe=this.height/ee,Ee=0,Se=this.W.length,Ne=re*ee*Se,Fe=new Uint8ClampedArray(Ne),Oe=new Uint32Array(re),Ce=4294967288;for(Ae=0;Ae<Se;Ae++){if(ie=(Ut=this.W[Ae]).l*Be,ge=Ut.t*Pe,Ee=Ae,ue=Ut.e,ce=Ut.P+1<<3,ie!==xe){for(le=0;le<re;le++)ve=0|le*ie,Oe[le]=(ve&Ce)<<3|7&ve;xe=ie}for(de=0;de<ee;de++)for(Me=ce*((ve=0|de*ge)&Ce)|(7&ve)<<3,le=0;le<re;le++)Fe[Ee]=ue[Me+Oe[le]],Ee+=Se}var Jt=this.V;if(oe||Se!==4||Jt||(Jt=new Int32Array([-256,255,-256,255,-256,255,-256,255])),Jt)for(Ae=0;Ae<Ne;)for(ve=0,ye=0;ve<Se;ve++,Ae++,ye+=2)Fe[Ae]=(Fe[Ae]*Jt[ye]>>8)+Jt[ye+1];return Fe},get f(){return this.b?!!this.b.a:this.p===3?this.N!==0&&(this.W[0].index!==82||this.W[1].index!==71||this.W[2].index!==66):this.N===1},z:function(re){for(var ee,oe,Ut,ie=0,ge=re.length;ie<ge;ie+=3)ee=re[ie],oe=re[ie+1],Ut=re[ie+2],re[ie]=ee-179.456+1.402*Ut,re[ie+1]=ee+135.459-.344*oe-.714*Ut,re[ie+2]=ee-226.816+1.772*oe;return re},O:function(re){for(var ee,oe,Ut,ie,ge=0,ce=0,le=re.length;ce<le;ce+=4)ee=re[ce],oe=re[ce+1],Ut=re[ce+2],ie=re[ce+3],re[ge++]=oe*(-660635669420364e-19*oe+.000437130475926232*Ut-54080610064599e-18*ee+.00048449797120281*ie-.154362151871126)-122.67195406894+Ut*(-.000957964378445773*Ut+.000817076911346625*ee-.00477271405408747*ie+1.53380253221734)+ee*(.000961250184130688*ee-.00266257332283933*ie+.48357088451265)+ie*(-.000336197177618394*ie+.484791561490776),re[ge++]=107.268039397724+oe*(219927104525741e-19*oe-.000640992018297945*Ut+.000659397001245577*ee+.000426105652938837*ie-.176491792462875)+Ut*(-.000778269941513683*Ut+.00130872261408275*ee+.000770482631801132*ie-.151051492775562)+ee*(.00126935368114843*ee-.00265090189010898*ie+.25802910206845)+ie*(-.000318913117588328*ie-.213742400323665),re[ge++]=oe*(-.000570115196973677*oe-263409051004589e-19*Ut+.0020741088115012*ee-.00288260236853442*ie+.814272968359295)-20.810012546947+Ut*(-153496057440975e-19*Ut-.000132689043961446*ee+.000560833691242812*ie-.195152027534049)+ee*(.00174418132927582*ee-.00255243321439347*ie+.116935020465145)+ie*(-.000343531996510555*ie+.24165260232407);return re.subarray(0,ge)},r:function(re){for(var ee,oe,Ut,ie=0,ge=re.length;ie<ge;ie+=4)ee=re[ie],oe=re[ie+1],Ut=re[ie+2],re[ie]=434.456-ee-1.402*Ut,re[ie+1]=119.541-ee+.344*oe+.714*Ut,re[ie+2]=481.816-ee-1.772*oe;return re},U:function(re){for(var ee,oe,Ut,ie,ge=0,ce=0,le=re.length;ce<le;ce+=4)ee=re[ce],oe=re[ce+1],Ut=re[ce+2],ie=re[ce+3],re[ge++]=255+ee*(-6747147073602441e-20*ee+.0008379262121013727*oe+.0002894718188643294*Ut+.003264231057537806*ie-1.1185611867203937)+oe*(26374107616089405e-21*oe-8626949158638572e-20*Ut-.0002748769067499491*ie-.02155688794978967)+Ut*(-3878099212869363e-20*Ut-.0003267808279485286*ie+.0686742238595345)-ie*(.0003361971776183937*ie+.7430659151342254),re[ge++]=255+ee*(.00013596372813588848*ee+.000924537132573585*oe+.00010567359618683593*Ut+.0004791864687436512*ie-.3109689587515875)+oe*(-.00023545346108370344*oe+.0002702845253534714*Ut+.0020200308977307156*ie-.7488052167015494)+Ut*(6834815998235662e-20*Ut+.00015168452363460973*ie-.09751927774728933)-ie*(.0003189131175883281*ie+.7364883807733168),re[ge++]=255+ee*(13598650411385307e-21*ee+.00012423956175490851*oe+.0004751985097583589*Ut-36729317476630422e-22*ie-.05562186980264034)+oe*(.00016141380598724676*oe+.0009692239130725186*Ut+.0007782692450036253*ie-.44015232367526463)+Ut*(5068882914068769e-22*Ut+.0017778369011375071*ie-.7591454649749609)-ie*(.0003435319965105553*ie+.7063770186160144);return re.subarray(0,ge)},getData:function(re){var ee=re.width,oe=re.height,Ut=re.forceRGB,ie=re.isSourcePDF;if(this.p>4)throw new H("Unsupported color mode");var ge=this.Y(ee,oe,ie);if(this.p===1&&Ut){for(var ce=ge.length,le=new Uint8ClampedArray(3*ce),de=0,Ae=0;Ae<ce;Ae++){var ve=ge[Ae];le[de++]=ve,le[de++]=ve,le[de++]=ve}return le}if(this.p===3&&this.f)return this.z(ge);if(this.p===4){if(this.f)return Ut?this.O(ge):this.r(ge);if(Ut)return this.U(ge)}return ge}},Ht}();function it(ot,ut){return ot[ut]<<8|ot[ut+1]}w.JpegDecoder=et})(),w.encodeImage=function(H,et,it,ot){var ut={t256:[et],t257:[it],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[it],t279:[et*it*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(ot)for(var ft in ot)ut[ft]=ot[ft];var dt=new Uint8Array(w.encode([ut])),St=new Uint8Array(H),Tt=new Uint8Array(1e3+et*it*4);for(ft=0;ft<dt.length;ft++)Tt[ft]=dt[ft];for(ft=0;ft<St.length;ft++)Tt[1e3+ft]=St[ft];return Tt.buffer},w.encode=function(H){var et=new Uint8Array(2e4),it=4,ot=w._binBE;et[0]=et[1]=77,ot.writeUshort(et,2,42);var ut=8;ot.writeUint(et,it,ut),it+=4;for(var ft=0;ft<H.length;ft++){var dt=w._writeIFD(ot,w._types.basic,et,ut,H[ft]);ut=dt[1],ft<H.length-1&&(3&ut&&(ut+=4-(3&ut)),ot.writeUint(et,dt[0],ut))}return et.slice(0,ut).buffer},w.decode=function(H,et){et==null&&(et={parseMN:!0,debug:!1});var it=new Uint8Array(H),ot=0,ut=w._binBE.readASCII(it,ot,2);ot+=2;var ft=ut=="II"?w._binLE:w._binBE;ft.readUshort(it,ot),ot+=2;var dt=ft.readUint(it,ot);ot+=4;for(var St=[];;){var Tt=ft.readUshort(it,dt),Rt=ft.readUshort(it,dt+4);if(Tt!=0&&(Rt<1||13<Rt)){g("error in TIFF");break}if(w._readIFD(ft,it,dt,St,0,et),(dt=ft.readUint(it,dt+2+12*Tt))==0)break}return St},w.decodeImage=function(H,et,it){if(!et.data){var ot=new Uint8Array(H),ut=w._binBE.readASCII(ot,0,2);if(et.t256!=null){et.isLE=ut=="II",et.width=et.t256[0],et.height=et.t257[0];var ft=et.t259?et.t259[0]:1,dt=et.t266?et.t266[0]:1;et.t284&&et.t284[0]==2&&g("PlanarConfiguration 2 should not be used!"),ft==7&&et.t258&&et.t258.length>3&&(et.t258=et.t258.slice(0,3));var St=et.t277?et.t277[0]:1,Tt=(et.t258?et.t258[0]:1)*St;ft==1&&et.t279!=null&&et.t278&&et.t262[0]==32803&&(Tt=Math.round(8*et.t279[0]/(et.width*et.t278[0]))),et.t50885&&et.t50885[0]==4&&(Tt=3*et.t258[0]);var Rt=8*Math.ceil(et.width*Tt/8),zt=et.t273;(zt==null||et.t322)&&(zt=et.t324);var $t=et.t279;ft==1&&zt.length==1&&($t=[et.height*(Rt>>>3)]),($t==null||et.t322)&&($t=et.t325);var Ht=new Uint8Array(et.height*(Rt>>>3)),jt=0;if(et.t322!=null){var Ft=et.t322[0],Dt=et.t323[0],Yt=Math.floor((et.width+Ft-1)/Ft),ne=Math.floor((et.height+Dt-1)/Dt),Kt=new Uint8Array(0|Math.ceil(Ft*Dt*Tt/8));console.log("====",Yt,ne);for(var re=0;re<ne;re++)for(var ee=0;ee<Yt;ee++){var oe=re*Yt+ee;Kt.fill(0),w.decode._decompress(et,it,ot,zt[oe],$t[oe],ft,Kt,0,dt,Ft,Dt),ft==6?Ht=Kt:w._copyTile(Kt,0|Math.ceil(Ft*Tt/8),Dt,Ht,0|Math.ceil(et.width*Tt/8),et.height,0|Math.ceil(ee*Ft*Tt/8),re*Dt)}jt=8*Ht.length}else{if(zt==null)return;var Ut=et.t278?et.t278[0]:et.height;for(Ut=Math.min(Ut,et.height),oe=0;oe<zt.length;oe++)w.decode._decompress(et,it,ot,zt[oe],$t[oe],ft,Ht,0|Math.ceil(jt/8),dt,et.width,Ut),jt+=Rt*Ut;jt=Math.min(jt,8*Ht.length)}et.data=new Uint8Array(Ht.buffer,0,0|Math.ceil(jt/8))}}},w.decode._decompress=function(H,et,it,ot,ut,ft,dt,St,Tt,Rt,zt){if(H.t271&&H.t271[0]=="Panasonic"&&H.t45&&H.t45[0]==6&&(ft=34316),ft==1)for(var $t=0;$t<ut;$t++)dt[St+$t]=it[ot+$t];else if(ft==2)w.decode._decodeG2(it,ot,ut,dt,St,Rt,Tt);else if(ft==3)w.decode._decodeG3(it,ot,ut,dt,St,Rt,Tt,!!H.t292&&!(1&~H.t292[0]));else if(ft==4)w.decode._decodeG4(it,ot,ut,dt,St,Rt,Tt);else if(ft==5)w.decode._decodeLZW(it,ot,ut,dt,St,8);else if(ft==6)w.decode._decodeOldJPEG(H,it,ot,ut,dt,St);else if(ft==7||ft==34892)w.decode._decodeNewJPEG(H,it,ot,ut,dt,St);else if(ft==8||ft==32946){var Ht=new Uint8Array(it.buffer,ot+2,ut-6),jt=j.inflateRaw(Ht);St+jt.length<=dt.length&&dt.set(jt,St)}else ft==9?w.decode._decodeVC5(it,ot,ut,dt,St,H.t33422):ft==32767?w.decode._decodeARW(H,it,ot,ut,dt,St):ft==32773?w.decode._decodePackBits(it,ot,ut,dt,St):ft==32809?w.decode._decodeThunder(it,ot,ut,dt,St):ft==34316?w.decode._decodePanasonic(H,it,ot,ut,dt,St):ft==34713?w.decode._decodeNikon(H,et,it,ot,ut,dt,St):ft==34676?w.decode._decodeLogLuv32(H,it,ot,ut,dt,St):g("Unknown compression",ft);var Ft=H.t258?Math.min(32,H.t258[0]):1,Dt=H.t277?H.t277[0]:1,Yt=Ft*Dt>>>3,ne=Math.ceil(Ft*Dt*Rt/8);if(Ft==16&&!H.isLE&&H.t33422==null)for(var Kt=0;Kt<zt;Kt++)for(var re=St+Kt*ne,ee=1;ee<ne;ee+=2){var oe=dt[re+ee];dt[re+ee]=dt[re+ee-1],dt[re+ee-1]=oe}if(H.t317&&H.t317[0]==2)for(Kt=0;Kt<zt;Kt++){var Ut=St+Kt*ne;if(Ft==16)for($t=Yt;$t<ne;$t+=2){var ie=(dt[Ut+$t+1]<<8|dt[Ut+$t])+(dt[Ut+$t-Yt+1]<<8|dt[Ut+$t-Yt]);dt[Ut+$t]=255&ie,dt[Ut+$t+1]=ie>>>8&255}else if(Dt==3)for($t=3;$t<ne;$t+=3)dt[Ut+$t]=dt[Ut+$t]+dt[Ut+$t-3]&255,dt[Ut+$t+1]=dt[Ut+$t+1]+dt[Ut+$t-2]&255,dt[Ut+$t+2]=dt[Ut+$t+2]+dt[Ut+$t-1]&255;else for($t=Yt;$t<ne;$t++)dt[Ut+$t]=dt[Ut+$t]+dt[Ut+$t-Yt]&255}},w.decode._decodePanasonic=function(H,et,it,ot,ut,ft){var dt,St,Tt,Rt,zt,$t,Ht,jt,Ft=et.buffer,Dt=H.t2[0],Yt=H.t3[0],ne=H.t10[0],Kt=H.t45[0],re=0,ee=0,oe=0,Ut=0,ie=Kt==6?new Uint32Array(18):new Uint8Array(16),ge=[0,0],ce=[0,0],le=0,de=new Uint8Array(16384),Ae=new Uint16Array(ut.buffer);function ve(Re){if(oe==0){var Zt=new Uint8Array(Ft,it+ee+8184,8200),ae=new Uint8Array(Ft,it+ee,8184);de.set(Zt),de.set(ae,Zt.length),ee+=16384}if(Kt!=5)return(de[Ut=(oe=oe-Re&131071)>>3^16368]|de[Ut+1]<<8)>>(7&oe)&~(-1<<Re);for(dt=0;dt<16;dt++)ie[dt]=de[oe++],oe&=16383}function ye(Re){return de[oe+15-Re]}function Me(){ge[0]=0,ge[1]=0,ce[0]=0,ce[1]=0}if(Kt==7)throw Kt;if(Kt==6){var ue=ne==12,xe=ue?function(){ie[0]=ye(0)<<4|ye(1)>>4,ie[1]=4095&((15&ye(1))<<8|ye(2)),ie[2]=ye(3)>>6&3,ie[3]=(63&ye(3))<<2|ye(4)>>6,ie[4]=(63&ye(4))<<2|ye(5)>>6,ie[5]=(63&ye(5))<<2|ye(6)>>6,ie[6]=ye(6)>>4&3,ie[7]=(15&ye(6))<<4|ye(7)>>4,ie[8]=(15&ye(7))<<4|ye(8)>>4,ie[9]=(15&ye(8))<<4|ye(9)>>4,ie[10]=ye(9)>>2&3,ie[11]=(3&ye(9))<<6|ye(10)>>2,ie[12]=(3&ye(10))<<6|ye(11)>>2,ie[13]=(3&ye(11))<<6|ye(12)>>2,ie[14]=3&ye(12),ie[15]=ye(13),ie[16]=ye(14),ie[17]=ye(15),oe+=16,Ut=0}:function(){ie[0]=ye(0)<<6|ye(1)>>2,ie[1]=16383&((3&ye(1))<<12|ye(2)<<4|ye(3)>>4),ie[2]=ye(3)>>2&3,ie[3]=(3&ye(3))<<8|ye(4),ie[4]=ye(5)<<2|ye(6)>>6,ie[5]=(63&ye(6))<<4|ye(7)>>4,ie[6]=ye(7)>>2&3,ie[7]=(3&ye(7))<<8|ye(8),ie[8]=ye(9)<<2&1020|ye(10)>>6,ie[9]=1023&(ye(10)<<4|ye(11)>>4),ie[10]=ye(11)>>2&3,ie[11]=(3&ye(11))<<8|ye(12),ie[12]=1023&(ye(13)<<2&1020|ye(14)>>6),ie[13]=1023&(ye(14)<<4|ye(15)>>4),oe+=16,Ut=0},Be=ue?14:11,Pe=ue?128:512,Ee=ue?2048:8192,Se=ue?16383:65535,Ne=ue?4095:16383,Fe=Dt/Be,Oe=16*Fe,Ce=ue?18:14;for($t=0;$t<Yt-15;$t+=16){var Jt=Math.min(16,Yt-$t),Te=Oe*Jt;for(de=new Uint8Array(Ft,it+re,Te),oe=0,re+=Te,jt=0,Ht=0;jt<Jt;jt++,Ht=0){le=($t+jt)*Dt;for(var he=0;he<Fe;he++)for(xe(),Me(),Tt=0,zt=0,dt=0;dt<Be;dt++){if(Rt=1&dt,dt%3==2){var me=Ut<Ce?ie[Ut++]:0;me==3&&(me=4),zt=Pe<<me,Tt=1<<me}var pe=Ut<Ce?ie[Ut++]:0;ge[Rt]?(pe*=Tt,zt<Ee&&ce[Rt]>zt&&(pe+=ce[Rt]-zt),ce[Rt]=pe):(ge[Rt]=pe,pe?ce[Rt]=pe:pe=ce[Rt]),Ae[le+Ht++]=pe-15<=Se?pe-15&Se:pe+2147483633>>31&Ne}}}}else if(Kt==5){var we=ne==12?10:9;for($t=0;$t<Yt;$t++)for(Ht=0;Ht<Dt;Ht+=we)ve(0),ne==12?(Ae[le++]=((15&ie[1])<<8)+ie[0],Ae[le++]=16*ie[2]+(ie[1]>>4),Ae[le++]=((15&ie[4])<<8)+ie[3],Ae[le++]=16*ie[5]+(ie[4]>>4),Ae[le++]=((15&ie[7])<<8)+ie[6],Ae[le++]=16*ie[8]+(ie[7]>>4),Ae[le++]=((15&ie[10])<<8)+ie[9],Ae[le++]=16*ie[11]+(ie[10]>>4),Ae[le++]=((15&ie[13])<<8)+ie[12],Ae[le++]=16*ie[14]+(ie[13]>>4)):ne==14&&(Ae[le++]=ie[0]+((63&ie[1])<<8),Ae[le++]=(ie[1]>>6)+4*ie[2]+((15&ie[3])<<10),Ae[le++]=(ie[3]>>4)+16*ie[4]+((3&ie[5])<<12),Ae[le++]=((252&ie[5])>>2)+(ie[6]<<6),Ae[le++]=ie[7]+((63&ie[8])<<8),Ae[le++]=(ie[8]>>6)+4*ie[9]+((15&ie[10])<<10),Ae[le++]=(ie[10]>>4)+16*ie[11]+((3&ie[12])<<12),Ae[le++]=((252&ie[12])>>2)+(ie[13]<<6),Ae[le++]=ie[14]+((63&ie[15])<<8))}else{if(Kt!=4)throw Kt;for($t=0;$t<Yt;$t++)for(Ht=0;Ht<Dt;Ht++)Rt=1&(dt=Ht%14),dt==0&&Me(),dt%3==2&&(Tt=4>>3-ve(2)),ce[Rt]?(St=ve(8))!=0&&(ge[Rt]-=128<<Tt,(ge[Rt]<0||Tt==4)&&(ge[Rt]&=~(-1<<Tt)),ge[Rt]+=St<<Tt):(ce[Rt]=ve(8),(ce[Rt]||dt>11)&&(ge[Rt]=ce[Rt]<<4|ve(4))),Ae[le++]=ge[1&Ht]}},w.decode._decodeVC5=function(){var H,et,it,ot=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],ut=[3,3,3,3,2,2,2,1,1,1];function ft(jt){var Ft=jt[1],Dt=jt[0][Ft>>>3]>>>7-(7&Ft)&1;return jt[1]++,Dt}function dt(jt,Ft){if(H==null){H={};for(var Dt=0;Dt<ot.length;Dt+=4)H[ot[Dt+1]]=ot.slice(Dt,Dt+4)}for(var Yt=ft(jt),ne=H[Yt];ne==null;)Yt=Yt<<1|ft(jt),ne=H[Yt];var Kt=ne[3];Kt!=0&&(Kt=ft(jt)==0?Kt:-Kt),Ft[0]=ne[2],Ft[1]=Kt}function St(jt,Ft){for(var Dt=0;Dt<Ft;Dt++)1&~jt||jt++,jt>>>=1;return jt}function Tt(jt,Ft){return jt>>Ft}function Rt(jt,Ft,Dt,Yt,ne,Kt){Ft[Dt]=Tt(Tt(11*jt[ne]-4*jt[ne+Kt]+jt[ne+Kt+Kt]+4,3)+jt[Yt],1),Ft[Dt+Kt]=Tt(Tt(5*jt[ne]+4*jt[ne+Kt]-jt[ne+Kt+Kt]+4,3)-jt[Yt],1)}function zt(jt,Ft,Dt,Yt,ne,Kt){var re=jt[ne-Kt]-jt[ne+Kt],ee=jt[ne],oe=jt[Yt];Ft[Dt]=Tt(Tt(re+4,3)+ee+oe,1),Ft[Dt+Kt]=Tt(Tt(4-re,3)+ee-oe,1)}function $t(jt,Ft,Dt,Yt,ne,Kt){Ft[Dt]=Tt(Tt(5*jt[ne]+4*jt[ne-Kt]-jt[ne-Kt-Kt]+4,3)+jt[Yt],1),Ft[Dt+Kt]=Tt(Tt(11*jt[ne]-4*jt[ne-Kt]+jt[ne-Kt-Kt]+4,3)-jt[Yt],1)}function Ht(jt){return jt=it[jt=jt<0?0:jt>4095?4095:jt]>>>2}return function(jt,Ft,Dt,Yt,ne,Kt){Yt=new Uint16Array(Yt.buffer);var re,ee,oe,Ut,ie,ge,ce,le,de=Date.now(),Ae=w._binBE,ve=Ft+Dt;Ft+=4;for(var ye=Kt[0]==1;Ft<ve;){var Me=Ae.readShort(jt,Ft),ue=Ae.readUshort(jt,Ft+2);if(Ft+=4,Me==12)Fe=ue;else if(Me==20)re=ue;else if(Me==21)ee=ue;else if(Me==48)oe=ue;else if(Me==53)Ut=ue;else if(Me!=35){if(Me==62)ie=ue;else if(Me!=101){if(Me==109)ge=ue;else if(Me!=84){if(Me!=106){if(Me!=107){if(Me!=108){if(Me!=102){if(Me==104)rr=ue;else if(Me!=105){var xe=Me<0?-Me:Me,Be=65280&xe,Pe=0;if(24576&xe&&(8192&xe?(Pe=65535&ue,Pe+=(255&xe)<<16):Pe=65535&ue),24576&~xe){if(xe==16388)Ft+=4*Pe;else if(Be!=8192&&Be!=8448&&Be!=9216)throw xe.toString(16)}else{if(ce==null){ce=[];for(var Ee=0;Ee<4;Ee++)ce[Ee]=new Int16Array((re>>>1)*(ee>>>1));for(le=new Int16Array((re>>>1)*(ee>>>1)),et=new Int16Array(1024),Ee=0;Ee<1024;Ee++){var Se=Ee-512,Ne=Math.abs(Se),Fe=Math.floor(768*Ne*Ne*Ne/16581375)+Ne;et[Ee]=Math.sign(Se)*Fe}for(it=new Uint16Array(4096),Ee=0;Ee<4096;Ee++){var Oe=Ee,Ce=65535*(Math.pow(113,Oe/4095)-1)/112;it[Ee]=Math.min(Ce,65535)}}var Jt=ce[ie],Te=St(re,1+ut[oe]),he=St(ee,1+ut[oe]);if(oe==0)for(var me=0;me<he;me++)for(var pe=0;pe<Te;pe++){var we=Ft+2*(me*Te+pe);Jt[me*(re>>>1)+pe]=jt[we]<<8|jt[we+1]}else{var Re=[jt,8*Ft],Zt=[],ae=0,_e=Te*he,be=[0,0],De=0;for(ue=0;ae<_e;)for(dt(Re,be),De=be[0],ue=be[1];De>0;)Zt[ae++]=ue,De--;var je=(oe-1)%3,er=je!=1?Te:0,ir=je!=0?he:0;for(me=0;me<he;me++){var Xe=(me+ir)*(re>>>1)+er,ar=me*Te;for(pe=0;pe<Te;pe++)Jt[Xe+pe]=et[Zt[ar+pe]+512]*Ut}if(je==2){var rr=re>>>1,_r=2*Te,dr=2*he;for(me=0;me<he;me++)for(pe=0;pe<_r;pe++){Ee=2*me*rr+pe;var hr=he*rr+(cr=me*rr+pe);me==0?Rt(Jt,le,Ee,hr,cr,rr):me==he-1?$t(Jt,le,Ee,hr,cr,rr):zt(Jt,le,Ee,hr,cr,rr)}var kr=Jt;for(Jt=le,le=kr,me=0;me<dr;me++)for(pe=0;pe<Te;pe++){var cr;Ee=me*rr+2*pe,hr=Te+(cr=me*rr+pe),pe==0?Rt(Jt,le,Ee,hr,cr,1):pe==Te-1?$t(Jt,le,Ee,hr,cr,1):zt(Jt,le,Ee,hr,cr,1)}kr=Jt,Jt=le,le=kr;for(var ze=[],nr=2-~~((oe-1)/3),Le=0;Le<3;Le++)ze[Le]=ge>>14-2*Le&3;var Qe=ze[nr];if(Qe!=0)for(me=0;me<dr;me++)for(pe=0;pe<_r;pe++)Jt[Ee=me*rr+pe]=Jt[Ee]<<Qe}}if(oe==9&&ie==3){var ke=ce[0],tr=ce[1],br=ce[2],se=ce[3];for(me=0;me<ee;me+=2)for(pe=0;pe<re;pe+=2){var Ve=me*re+pe,Ze=ke[we=(me>>>1)*(re>>>1)+(pe>>>1)],$e=tr[we]-2048,We=br[we]-2048,qe=se[we]-2048,gr=($e<<1)+Ze,fr=(We<<1)+Ze,pr=Ze+qe,Ir=Ze-qe;ye?(Yt[Ve]=Ht(pr),Yt[Ve+1]=Ht(fr),Yt[Ve+re]=Ht(gr),Yt[Ve+re+1]=Ht(Ir)):(Yt[Ve]=Ht(gr),Yt[Ve+1]=Ht(pr),Yt[Ve+re]=Ht(Ir),Yt[Ve+re+1]=Ht(fr))}}Ft+=4*Pe}}}}}}}}}}console.log(Date.now()-de)}}(),w.decode._decodeLogLuv32=function(H,et,it,ot,ut,ft){for(var dt=H.width,St=4*dt,Tt=0,Rt=new Uint8Array(St);Tt<ot;){for(var zt=0;zt<St;){var $t=et[it+Tt];if(Tt++,$t<128){for(var Ht=0;Ht<$t;Ht++)Rt[zt+Ht]=et[it+Tt+Ht];zt+=$t,Tt+=$t}else{for($t-=126,Ht=0;Ht<$t;Ht++)Rt[zt+Ht]=et[it+Tt];zt+=$t,Tt++}}for(var jt=0;jt<dt;jt++)ut[ft+0]=Rt[jt],ut[ft+1]=Rt[jt+dt],ut[ft+2]=Rt[jt+2*dt],ut[ft+4]=Rt[jt+3*dt],ft+=6}},w.decode._ljpeg_diff=function(H,et,it){var ot,ut,ft=w.decode._getbithuff;return ot=ft(H,et,it[0],it),(ut=ft(H,et,ot,0))&1<<ot-1||(ut-=(1<<ot)-1),ut},w.decode._decodeARW=function(H,et,it,ot,ut,ft){var dt=H.t256[0],St=H.t257[0],Tt=H.t258[0],Rt=H.isLE?w._binLE:w._binBE;if(dt*St==ot||dt*St*1.5==ot)if(dt*St*1.5!=ot){var zt,$t,Ht,jt,Ft,Dt,Yt,ne,Kt=new Uint16Array(16),re=new Uint8Array(dt+1);for(de=0;de<St;de++){for(var ee=0;ee<dt;ee++)re[ee]=et[it++];for(ne=0,le=0;le<dt-30;ne+=16){for($t=2047&(zt=Rt.readUint(re,ne)),Ht=2047&zt>>>11,jt=15&zt>>>22,Ft=15&zt>>>26,Dt=0;Dt<4&&128<<Dt<=$t-Ht;Dt++);for(Yt=30,oe=0;oe<16;oe++)oe==jt?Kt[oe]=$t:oe==Ft?Kt[oe]=Ht:(Kt[oe]=((Rt.readUshort(re,ne+(Yt>>3))>>>(7&Yt)&127)<<Dt)+Ht,Kt[oe]>2047&&(Kt[oe]=2047),Yt+=7);for(oe=0;oe<16;oe++,le+=2)Pe=Kt[oe]<<1,w.decode._putsF(ut,(de*dt+le)*Tt,Pe<<16-Tt);le-=1&le?1:31}}}else for(var oe=0;oe<ot;oe+=3){var Ut=et[it+oe+0],ie=et[it+oe+1],ge=et[it+oe+2];ut[ft+oe]=ie<<4|Ut>>>4,ut[ft+oe+1]=Ut<<4|ge>>>4,ut[ft+oe+2]=ge<<4|ie>>>4}else{St+=8;var ce,le,de,Ae=[it,0,0,0],ve=new Uint16Array(32770),ye=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],Me=0,ue=w.decode._ljpeg_diff;for(ve[0]=15,ce=oe=0;oe<18;oe++)for(var xe=32768>>>(ye[oe]>>>8),Be=0;Be<xe;Be++)ve[++ce]=ye[oe];for(le=dt;le--;)for(de=0;de<St+1;de+=2)if(de==St&&(de=1),Me+=ue(et,Ae,ve),de<St){var Pe=4095&Me;w.decode._putsF(ut,(de*dt+le)*Tt,Pe<<16-Tt)}}},w.decode._decodeNikon=function(H,et,it,ot,ut,ft,dt){var St=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],Tt=H.t256[0],Rt=H.t257[0],zt=H.t258[0],$t=0,Ht=0,jt=w.decode._make_decoder,Ft=w.decode._getbithuff,Dt=et[0].exifIFD.makerNote,Yt=Dt.t150?Dt.t150:Dt.t140,ne=0,Kt=Yt[ne++],re=Yt[ne++];Kt!=73&&re!=88||(ne+=2110),Kt==70&&($t=2),zt==14&&($t+=3);for(var ee=[[0,0],[0,0]],oe=H.isLE?w._binLE:w._binBE,Ut=0;Ut<2;Ut++)for(var ie=0;ie<2;ie++)ee[Ut][ie]=oe.readShort(Yt,ne),ne+=2;var ge,ce,le,de,Ae,ve=1<<zt&32767,ye=0,Me=oe.readShort(Yt,ne);ne+=2,Me>1&&(ye=Math.floor(ve/(Me-1))),Kt==68&&re==32&&ye>0&&(Ht=oe.readShort(Yt,562));var ue=[0,0],xe=jt(St[$t]),Be=[ot,0,0,0];for(ge=0;ge<Rt;ge++)for(Ht&&ge==Ht&&(xe=jt(St[$t+1])),ce=0;ce<Tt;ce++){Ut=Ft(it,Be,xe[0],xe),(Ae=1+(Ft(it,Be,(le=15&Ut)-(de=Ut>>>4),0)<<1)<<de>>>1)&1<<le-1||(Ae-=(1<<le)-(de==0?1:0)),ce<2?ue[ce]=ee[1&ge][ce]+=Ae:ue[1&ce]+=Ae;var Pe=Math.min(Math.max(ue[1&ce],0),(1<<zt)-1),Ee=(ge*Tt+ce)*zt;w.decode._putsF(ft,Ee,Pe<<16-zt)}},w.decode._putsF=function(H,et,it){it<<=8-(7&et);var ot=et>>>3;H[ot]|=it>>>16,H[ot+1]|=it>>>8,H[ot+2]|=it},w.decode._getbithuff=function(H,et,it,ot){var ut;w.decode._get_byte;var ft=et[0],dt=et[1],St=et[2],Tt=et[3];if(it==0||St<0)return 0;for(;!Tt&&St<it&&(ut=H[ft++])!=-1&&!(Tt=0);)dt=(dt<<8)+ut,St+=8;if(ut=dt<<32-St>>>32-it,ot?(St-=ot[ut+1]>>>8,ut=255&ot[ut+1]):St-=it,St<0)throw"e";return et[0]=ft,et[1]=dt,et[2]=St,et[3]=Tt,ut},w.decode._make_decoder=function(H){var et,it,ot,ut,ft,dt=[];for(et=16;et!=0&&!H[et];et--);var St=17;for(dt[0]=et,ot=it=1;it<=et;it++)for(ut=0;ut<H[it];ut++,++St)for(ft=0;ft<1<<et-it;ft++)ot<=1<<et&&(dt[ot++]=it<<8|H[St]);return dt},w.decode._decodeNewJPEG=function(H,et,it,ot,ut,ft){ot=Math.min(ot,et.length-it);var dt=H.t347,St=dt?dt.length:0,Tt=new Uint8Array(St+ot);if(dt){for(var Rt=0,zt=0;zt<St-1&&(dt[zt]!=255||dt[zt+1]!=217);zt++)Tt[Rt++]=dt[zt];var $t=et[it],Ht=et[it+1];for($t==255&&Ht==216||(Tt[Rt++]=$t,Tt[Rt++]=Ht),zt=2;zt<ot;zt++)Tt[Rt++]=et[it+zt]}else for(zt=0;zt<ot;zt++)Tt[zt]=et[it+zt];if(H.t262[0]==32803||H.t259[0]==7&&H.t262[0]==34892){var jt=H.t258[0],Ft=w.LosslessJpegDecode(Tt),Dt=Ft.length;if(jt==16)if(H.isLE)for(zt=0;zt<Dt;zt++)ut[ft+(zt<<1)]=255&Ft[zt],ut[ft+(zt<<1)+1]=Ft[zt]>>>8;else for(zt=0;zt<Dt;zt++)ut[ft+(zt<<1)]=Ft[zt]>>>8,ut[ft+(zt<<1)+1]=255&Ft[zt];else if(jt==14||jt==12||jt==10){var Yt=16-jt;for(zt=0;zt<Dt;zt++)w.decode._putsF(ut,zt*jt,Ft[zt]<<Yt)}else{if(jt!=8)throw new Error("unsupported bit depth "+jt);for(zt=0;zt<Dt;zt++)ut[ft+zt]=Ft[zt]}}else{var ne=new w.JpegDecoder;ne.parse(Tt);var Kt=ne.getData({width:ne.width,height:ne.height,forceRGB:!0,isSourcePDF:!1});for(zt=0;zt<Kt.length;zt++)ut[ft+zt]=Kt[zt]}H.t262[0]==6&&(H.t262[0]=2)},w.decode._decodeOldJPEGInit=function(H,et,it,ot){var ut,ft,dt,St,Tt,Rt=216,zt=0,$t=0,Ht=!1,jt=H.t513,Ft=jt?jt[0]:0,Dt=H.t514,Yt=Dt?Dt[0]:0,ne=H.t324||H.t273||jt,Kt=H.t530,re=0,ee=0,oe=H.t277?H.t277[0]:1,Ut=H.t515;if(ne&&($t=ne[0],Ht=ne.length>1),!Ht){if(et[it]==255&&et[it+1]==Rt)return{jpegOffset:it};if(jt!=null&&(et[it+Ft]==255&&et[it+Ft+1]==Rt?zt=it+Ft:g("JPEGInterchangeFormat does not point to SOI"),Dt==null?g("JPEGInterchangeFormatLength field is missing"):(Ft>=$t||Ft+Yt<=$t)&&g("JPEGInterchangeFormatLength field value is invalid"),zt!=null))return{jpegOffset:zt}}if(Kt!=null&&(re=Kt[0],ee=Kt[1]),jt!=null&&Dt!=null)if(Yt>=2&&Ft+Yt<=$t){for(ut=et[it+Ft+Yt-2]==255&&et[it+Ft+Yt-1]==Rt?new Uint8Array(Yt-2):new Uint8Array(Yt),dt=0;dt<ut.length;dt++)ut[dt]=et[it+Ft+dt];g("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else g("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(ut==null){var ie=0,ge=[];ge[ie++]=255,ge[ie++]=Rt;var ce=H.t519;if(ce==null)throw new Error("JPEGQTables tag is missing");for(dt=0;dt<ce.length;dt++)for(ge[ie++]=255,ge[ie++]=219,ge[ie++]=0,ge[ie++]=67,ge[ie++]=dt,St=0;St<64;St++)ge[ie++]=et[it+ce[dt]+St];for(Tt=0;Tt<2;Tt++){var le=H[Tt==0?"t520":"t521"];if(le==null)throw new Error((Tt==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(dt=0;dt<le.length;dt++){ge[ie++]=255,ge[ie++]=196;var de=19;for(St=0;St<16;St++)de+=et[it+le[dt]+St];for(ge[ie++]=de>>>8,ge[ie++]=255&de,ge[ie++]=dt|Tt<<4,St=0;St<16;St++)ge[ie++]=et[it+le[dt]+St];for(St=0;St<de;St++)ge[ie++]=et[it+le[dt]+16+St]}}if(ge[ie++]=255,ge[ie++]=192,ge[ie++]=0,ge[ie++]=8+3*oe,ge[ie++]=8,ge[ie++]=H.height>>>8&255,ge[ie++]=255&H.height,ge[ie++]=H.width>>>8&255,ge[ie++]=255&H.width,ge[ie++]=oe,oe==1)ge[ie++]=1,ge[ie++]=17,ge[ie++]=0;else for(dt=0;dt<3;dt++)ge[ie++]=dt+1,ge[ie++]=dt!=0?17:(15&re)<<4|15&ee,ge[ie++]=dt;Ut!=null&&Ut[0]!=0&&(ge[ie++]=255,ge[ie++]=221,ge[ie++]=0,ge[ie++]=4,ge[ie++]=Ut[0]>>>8&255,ge[ie++]=255&Ut[0]),ut=new Uint8Array(ge)}var Ae=-1;for(dt=0;dt<ut.length-1;){if(ut[dt]==255&&ut[dt+1]==192){Ae=dt;break}dt++}if(Ae==-1){var ve=new Uint8Array(ut.length+10+3*oe);ve.set(ut);var ye=ut.length;if(Ae=ut.length,(ut=ve)[ye++]=255,ut[ye++]=192,ut[ye++]=0,ut[ye++]=8+3*oe,ut[ye++]=8,ut[ye++]=H.height>>>8&255,ut[ye++]=255&H.height,ut[ye++]=H.width>>>8&255,ut[ye++]=255&H.width,ut[ye++]=oe,oe==1)ut[ye++]=1,ut[ye++]=17,ut[ye++]=0;else for(dt=0;dt<3;dt++)ut[ye++]=dt+1,ut[ye++]=dt!=0?17:(15&re)<<4|15&ee,ut[ye++]=dt}if(et[$t]==255&&et[$t+1]==218){var Me=et[$t+2]<<8|et[$t+3];for((ft=new Uint8Array(Me+2))[0]=et[$t],ft[1]=et[$t+1],ft[2]=et[$t+2],ft[3]=et[$t+3],dt=0;dt<Me-2;dt++)ft[dt+4]=et[$t+dt+4]}else{var ue=0;if((ft=new Uint8Array(8+2*oe))[ue++]=255,ft[ue++]=218,ft[ue++]=0,ft[ue++]=6+2*oe,ft[ue++]=oe,oe==1)ft[ue++]=1,ft[ue++]=0;else for(dt=0;dt<3;dt++)ft[ue++]=dt+1,ft[ue++]=dt<<4|dt;ft[ue++]=0,ft[ue++]=63,ft[ue++]=0}return{jpegOffset:it,tables:ut,sosMarker:ft,sofPosition:Ae}},w.decode._decodeOldJPEG=function(H,et,it,ot,ut,ft){var dt,St,Tt,Rt,zt=w.decode._decodeOldJPEGInit(H,et,it,ot);if(zt.jpegOffset!=null)for(dt=it+ot-zt.jpegOffset,Tt=new Uint8Array(dt),jt=0;jt<dt;jt++)Tt[jt]=et[zt.jpegOffset+jt];else{for(St=zt.tables.length,(Tt=new Uint8Array(St+zt.sosMarker.length+ot+2)).set(zt.tables),Rt=St,Tt[zt.sofPosition+5]=H.height>>>8&255,Tt[zt.sofPosition+6]=255&H.height,Tt[zt.sofPosition+7]=H.width>>>8&255,Tt[zt.sofPosition+8]=255&H.width,et[it]==255&&et[it+1]==SOS||(Tt.set(zt.sosMarker,Rt),Rt+=sosMarker.length),jt=0;jt<ot;jt++)Tt[Rt++]=et[it+jt];Tt[Rt++]=255,Tt[Rt++]=EOI}var $t=new w.JpegDecoder;$t.parse(Tt);for(var Ht=$t.getData({width:$t.width,height:$t.height,forceRGB:!0,isSourcePDF:!1}),jt=0;jt<Ht.length;jt++)ut[ft+jt]=Ht[jt];H.t262&&H.t262[0]==6&&(H.t262[0]=2)},w.decode._decodePackBits=function(H,et,it,ot,ut){for(var ft=new Int8Array(H.buffer),dt=new Int8Array(ot.buffer),St=et+it;et<St;){var Tt=ft[et];if(et++,Tt>=0&&Tt<128)for(var Rt=0;Rt<Tt+1;Rt++)dt[ut]=ft[et],ut++,et++;if(Tt>=-127&&Tt<0){for(Rt=0;Rt<1-Tt;Rt++)dt[ut]=ft[et],ut++;et++}}return ut},w.decode._decodeThunder=function(H,et,it,ot,ut){for(var ft=[0,1,0,-1],dt=[0,1,2,3,0,-3,-2,-1],St=et+it,Tt=2*ut,Rt=0;et<St;){var zt=H[et],$t=zt>>>6,Ht=63&zt;if(et++,$t==3&&(Rt=15&Ht,ot[Tt>>>1]|=Rt<<4*(1-Tt&1),Tt++),$t==0)for(var jt=0;jt<Ht;jt++)ot[Tt>>>1]|=Rt<<4*(1-Tt&1),Tt++;if($t==2)for(jt=0;jt<2;jt++)(Ft=Ht>>>3*(1-jt)&7)!=4&&(Rt+=dt[Ft],ot[Tt>>>1]|=Rt<<4*(1-Tt&1),Tt++);if($t==1)for(jt=0;jt<3;jt++){var Ft;(Ft=Ht>>>2*(2-jt)&3)!=2&&(Rt+=ft[Ft],ot[Tt>>>1]|=Rt<<4*(1-Tt&1),Tt++)}}},w.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},w.decode._lens=function(){var H=function(Tt,Rt,zt,$t){for(var Ht=0;Ht<Rt.length;Ht++)Tt[Rt[Ht]]=zt+Ht*$t},et="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",it="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",ot="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",ut="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",ft="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";et=et.split(","),it=it.split(","),ot=ot.split(","),ut=ut.split(","),ft=ft.split(",");var dt={},St={};return H(dt,et,0,1),H(dt,ot,64,64),H(dt,ft,1792,64),H(St,it,0,1),H(St,ut,64,64),H(St,ft,1792,64),[dt,St]}(),w.decode._decodeG4=function(H,et,it,ot,ut,ft,dt){for(var St=w.decode,Tt=et<<3,Rt=0,zt="",$t=[],Ht=[],jt=0;jt<ft;jt++)Ht.push(0);Ht=St._makeDiff(Ht);for(var Ft=0,Dt=0,Yt=0,ne=0,Kt=0,re=0,ee="",oe=0,Ut=8*Math.ceil(ft/8);Tt>>>3<et+it;){Yt=St._findDiff(Ht,Ft+(Ft==0?0:1),1-Kt),ne=St._findDiff(Ht,Yt,Kt);var ie=0;if(dt==1&&(ie=H[Tt>>>3]>>>7-(7&Tt)&1),dt==2&&(ie=H[Tt>>>3]>>>(7&Tt)&1),Tt++,zt+=ie,ee=="H"){if(St._lens[Kt][zt]!=null){var ge=St._lens[Kt][zt];zt="",Rt+=ge,ge<64&&(St._addNtimes($t,Rt,Kt),Ft+=Rt,Kt=1-Kt,Rt=0,--oe==0&&(ee=""))}}else zt=="0001"&&(zt="",St._addNtimes($t,ne-Ft,Kt),Ft=ne),zt=="001"&&(zt="",ee="H",oe=2),St._dmap[zt]!=null&&(Dt=Yt+St._dmap[zt],St._addNtimes($t,Dt-Ft,Kt),Ft=Dt,zt="",Kt=1-Kt);$t.length==ft&&ee==""&&(St._writeBits($t,ot,8*ut+re*Ut),Kt=0,re++,Ft=0,Ht=St._makeDiff($t),$t=[])}},w.decode._findDiff=function(H,et,it){for(var ot=0;ot<H.length;ot+=2)if(H[ot]>=et&&H[ot+1]==it)return H[ot]},w.decode._makeDiff=function(H){var et=[];H[0]==1&&et.push(0,1);for(var it=1;it<H.length;it++)H[it-1]!=H[it]&&et.push(it,H[it]);return et.push(H.length,0,H.length,1),et},w.decode._decodeG2=function(H,et,it,ot,ut,ft,dt){for(var St=w.decode,Tt=et<<3,Rt=0,zt="",$t=[],Ht=0,jt=0,Ft=8*Math.ceil(ft/8);Tt>>>3<et+it;){var Dt=0;dt==1&&(Dt=H[Tt>>>3]>>>7-(7&Tt)&1),dt==2&&(Dt=H[Tt>>>3]>>>(7&Tt)&1),Tt++,zt+=Dt,(Rt=St._lens[Ht][zt])!=null&&(St._addNtimes($t,Rt,Ht),zt="",Rt<64&&(Ht=1-Ht),$t.length==ft&&(St._writeBits($t,ot,8*ut+jt*Ft),$t=[],jt++,Ht=0,7&Tt&&(Tt+=8-(7&Tt)),Rt>=64&&(Tt+=8)))}},w.decode._decodeG3=function(H,et,it,ot,ut,ft,dt,St){for(var Tt=w.decode,Rt=et<<3,zt=0,$t="",Ht=[],jt=[],Ft=0;Ft<ft;Ft++)Ht.push(0);for(var Dt=0,Yt=0,ne=0,Kt=0,re=0,ee=-1,oe="",Ut=0,ie=!0,ge=8*Math.ceil(ft/8);Rt>>>3<et+it;){ne=Tt._findDiff(jt,Dt+(Dt==0?0:1),1-re),Kt=Tt._findDiff(jt,ne,re);var ce=0;if(dt==1&&(ce=H[Rt>>>3]>>>7-(7&Rt)&1),dt==2&&(ce=H[Rt>>>3]>>>(7&Rt)&1),Rt++,$t+=ce,ie){if(Tt._lens[re][$t]!=null){var le=Tt._lens[re][$t];$t="",zt+=le,le<64&&(Tt._addNtimes(Ht,zt,re),re=1-re,zt=0)}}else oe=="H"?Tt._lens[re][$t]!=null&&(le=Tt._lens[re][$t],$t="",zt+=le,le<64&&(Tt._addNtimes(Ht,zt,re),Dt+=zt,re=1-re,zt=0,--Ut==0&&(oe=""))):($t=="0001"&&($t="",Tt._addNtimes(Ht,Kt-Dt,re),Dt=Kt),$t=="001"&&($t="",oe="H",Ut=2),Tt._dmap[$t]!=null&&(Yt=ne+Tt._dmap[$t],Tt._addNtimes(Ht,Yt-Dt,re),Dt=Yt,$t="",re=1-re));$t.endsWith("000000000001")&&(ee>=0&&Tt._writeBits(Ht,ot,8*ut+ee*ge),St&&(dt==1&&(ie=(H[Rt>>>3]>>>7-(7&Rt)&1)==1),dt==2&&(ie=(H[Rt>>>3]>>>(7&Rt)&1)==1),Rt++),$t="",re=0,ee++,Dt=0,jt=Tt._makeDiff(Ht),Ht=[])}Ht.length==ft&&Tt._writeBits(Ht,ot,8*ut+ee*ge)},w.decode._addNtimes=function(H,et,it){for(var ot=0;ot<et;ot++)H.push(it)},w.decode._writeBits=function(H,et,it){for(var ot=0;ot<H.length;ot++)et[it+ot>>>3]|=H[ot]<<7-(it+ot&7)},w.decode._decodeLZW=w.decode._decodeLZW=function(){var H,et,it,ot,ut=0,ft=0,dt=0,St=0,Tt=function(){var Ft=H>>>3,Dt=(et[Ft]<<16|et[Ft+1]<<8|et[Ft+2])>>>24-(7&H)-ft&(1<<ft)-1;return H+=ft,Dt},Rt=new Uint32Array(16384),zt=0,$t=function(Ft){ft=Ft+1,ut=St+1},Ht=function(Ft){for(var Dt=Ft<<2,Yt=Rt[Dt+2],ne=ot+Yt-1;Dt!=65535;)it[ne--]=Rt[Dt],Dt=Rt[Dt+1];ot+=Yt},jt=function(Ft,Dt){var Yt=ut<<2,ne=Ft<<2;Rt[Yt]=Rt[3+(Dt<<2)],Rt[Yt+1]=ne,Rt[Yt+2]=Rt[ne+2]+1,Rt[Yt+3]=Rt[ne+3],++ut+1==1<<ft&&ft!=12&&ft++};return function(Ft,Dt,Yt,ne,Kt,re){H=Dt<<3,et=Ft,it=ne,ot=Kt;var ee=Dt+Yt<<3,oe=0,Ut=0;for(function(ie){if(ie!=zt){zt=ie,St=1+(dt=1<<ie);for(var ge=0;ge<St+1;ge++)Rt[4*ge]=Rt[4*ge+3]=ge,Rt[4*ge+1]=65535,Rt[4*ge+2]=1}}(re),$t(re);H<ee&&(oe=Tt())!=St;){if(oe==dt){if($t(re),(oe=Tt())==St)break;Ht(oe)}else oe<ut?(Ht(oe),jt(Ut,oe)):(jt(Ut,Ut),Ht(ut-1));Ut=oe}return ot}}(),w.tags={},w._types=function(){var H=new Array(250);return H.fill(0),{basic:{main:H=H.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rest:{33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7}},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}}(),w._readIFD=function(H,et,it,ot,ut,ft){var dt=H.readUshort(et,it);it+=2;var St={};ft.debug&&g("   ".repeat(ut),ot.length-1,">>>----------------");for(var Tt=0;Tt<dt;Tt++){var Rt=H.readUshort(et,it);it+=2;var zt=H.readUshort(et,it);it+=2;var $t=H.readUint(et,it);it+=4;var Ht=H.readUint(et,it);it+=4;var jt=[];if(zt==1||zt==7){var Ft=$t<5?it-4:Ht;Ft+$t>et.buffer.byteLength&&($t=et.buffer.byteLength-Ft),jt=new Uint8Array(et.buffer,Ft,$t)}if(zt==2){var Dt=$t<5?it-4:Ht,Yt=et[Dt],ne=Math.max(0,Math.min($t-1,et.length-Dt));Yt<128||ne==0?jt.push(H.readASCII(et,Dt,ne)):jt=new Uint8Array(et.buffer,Dt,ne)}if(zt==3)for(var Kt=0;Kt<$t;Kt++)jt.push(H.readUshort(et,($t<3?it-4:Ht)+2*Kt));if(zt==4||zt==13)for(Kt=0;Kt<$t;Kt++)jt.push(H.readUint(et,($t<2?it-4:Ht)+4*Kt));if(zt==5||zt==10){var re=zt==5?H.readUint:H.readInt;for(Kt=0;Kt<$t;Kt++)jt.push([re(et,Ht+8*Kt),re(et,Ht+8*Kt+4)])}if(zt==8)for(Kt=0;Kt<$t;Kt++)jt.push(H.readShort(et,($t<3?it-4:Ht)+2*Kt));if(zt==9)for(Kt=0;Kt<$t;Kt++)jt.push(H.readInt(et,($t<2?it-4:Ht)+4*Kt));if(zt==11)for(Kt=0;Kt<$t;Kt++)jt.push(H.readFloat(et,Ht+4*Kt));if(zt==12)for(Kt=0;Kt<$t;Kt++)jt.push(H.readDouble(et,Ht+8*Kt));if($t==0||jt.length!=0){if(ft.debug&&g("   ".repeat(ut),Rt,zt,w.tags[Rt],jt),St["t"+Rt]=jt,!(Rt==330&&St.t272&&St.t272[0]=="DSLR-A100")){if(Rt==330||Rt==34665||Rt==34853||Rt==50740&&H.readUshort(et,H.readUint(jt,0))<300||Rt==61440){var ee=Rt==50740?[H.readUint(jt,0)]:jt,oe=[];for(Kt=0;Kt<ee.length;Kt++)w._readIFD(H,et,ee[Kt],oe,ut+1,ft);Rt==330&&(St.subIFD=oe),Rt==34665&&(St.exifIFD=oe[0]),Rt==34853&&(St.gpsiIFD=oe[0]),Rt==50740&&(St.dngPrvt=oe[0]),Rt==61440&&(St.fujiIFD=oe[0])}}if(Rt==37500&&ft.parseMN){var Ut=jt;if(H.readASCII(Ut,0,5)=="Nikon")St.makerNote=w.decode(Ut.slice(10).buffer)[0];else if(H.readASCII(Ut,0,5)=="OLYMP"||H.readASCII(Ut,0,9)=="OM SYSTEM"){var ie=[8208,8224,8240,8256,8272],ge=[];w._readIFD(H,Ut,Ut[1]==77?16:Ut[5]==85?12:8,ge,ut+1,ft);var ce=St.makerNote=ge.pop();for(Kt=0;Kt<ie.length;Kt++){var le="t"+ie[Kt];ce[le]!=null&&(w._readIFD(H,Ut,ce[le][0],ge,ut+1,ft),ce[le]=ge.pop())}ce.t12288&&(w._readIFD(H,ce.t12288,0,ge,ut+1,ft),ce.t12288=ge.pop())}else H.readUshort(et,Ht)<300&&H.readUshort(et,Ht+4)<=12&&(ge=[],w._readIFD(H,et,Ht,ge,ut+1,ft),St.makerNote=ge[0])}}else if(g(Rt,"unknown TIFF tag type: ",zt,"num:",$t),Tt==0)return}return ot.push(St),ft.debug&&g("   ".repeat(ut),"<<<---------------"),it},w._writeIFD=function(H,et,it,ot,ut){var ft=Object.keys(ut),dt=ft.length;ut.exifIFD&&dt--,ut.gpsiIFD&&dt--,H.writeUshort(it,ot,dt);for(var St=(ot+=2)+12*dt+4,Tt=0;Tt<ft.length;Tt++){var Rt=ft[Tt];if(Rt!="t34665"&&Rt!="t34853"){Rt=="exifIFD"&&(Rt="t34665"),Rt=="gpsiIFD"&&(Rt="t34853");var zt=parseInt(Rt.slice(1)),$t=et.main[zt];if($t==null&&($t=et.rest[zt]),$t==null||$t==0)throw new Error("unknown type of tag: "+zt);var Ht=ut[Rt];zt==34665&&(Ht=[St],St=w._writeIFD(H,et,it,St,ut.exifIFD)[1]),zt==34853&&(Ht=[St],St=w._writeIFD(H,w._types.gps,it,St,ut.gpsiIFD)[1]),$t==2&&(Ht=Ht[0]+"\0");var jt=Ht.length;H.writeUshort(it,ot,zt),ot+=2,H.writeUshort(it,ot,$t),ot+=2,H.writeUint(it,ot,jt);var Ft=[-1,1,1,2,4,8,0,1,0,4,8,0,8][$t]*jt,Dt=ot+=4;if(Ft>4&&(H.writeUint(it,ot,St),Dt=St),$t==1||$t==7)for(var Yt=0;Yt<jt;Yt++)it[Dt+Yt]=Ht[Yt];else if($t==2)H.writeASCII(it,Dt,Ht);else if($t==3)for(Yt=0;Yt<jt;Yt++)H.writeUshort(it,Dt+2*Yt,Ht[Yt]);else if($t==4)for(Yt=0;Yt<jt;Yt++)H.writeUint(it,Dt+4*Yt,Ht[Yt]);else if($t==5||$t==10){var ne=$t==5?H.writeUint:H.writeInt;for(Yt=0;Yt<jt;Yt++){var Kt=Ht[Yt],re=Kt[0],ee=Kt[1];if(re==null)throw"e";ne(it,Dt+8*Yt,re),ne(it,Dt+8*Yt+4,ee)}}else if($t==9)for(Yt=0;Yt<jt;Yt++)H.writeInt(it,Dt+4*Yt,Ht[Yt]);else{if($t!=12)throw $t;for(Yt=0;Yt<jt;Yt++)H.writeDouble(it,Dt+8*Yt,Ht[Yt])}Ft>4&&(St+=Ft+=1&Ft),ot+=4}}return[ot,St]},w.toRGBA8=function(H,et){function it(er){return er<.0031308?12.92*er:1.055*Math.pow(er,1/2.4)-.055}var ot=H.width,ut=H.height,ft=ot*ut,dt=H.data,St=new Uint8Array(4*ft),Tt=H.t262?H.t262[0]:2,Rt=H.t258?Math.min(32,H.t258[0]):1;H.t262==null&&Rt==1&&(Tt=0);var zt=H.t277?H.t277[0]:H.t258?H.t258.length:[1,1,3,1,1,4,3][Tt],$t=H.t339?H.t339[0]:null;if(Tt==1&&Rt==32&&$t!=3)throw"e";var Ht=Math.ceil(zt*Rt*ot/8);if(Tt==0){et=1/256;for(var jt=0;jt<ut;jt++){var Ft=jt*Ht,Dt=jt*ot;if(Rt==1)for(var Yt=0;Yt<ot;Yt++){var ne=Dt+Yt<<2,Kt=dt[Ft+(Yt>>3)]>>7-(7&Yt)&1;St[ne]=St[ne+1]=St[ne+2]=255*(1-Kt),St[ne+3]=255}if(Rt==4)for(Yt=0;Yt<ot;Yt++)ne=Dt+Yt<<2,Kt=dt[Ft+(Yt>>1)]>>4-4*(1&Yt)&15,St[ne]=St[ne+1]=St[ne+2]=17*(15-Kt),St[ne+3]=255;if(Rt==8)for(Yt=0;Yt<ot;Yt++)ne=Dt+Yt<<2,Kt=dt[Ft+Yt],St[ne]=St[ne+1]=St[ne+2]=255-Kt,St[ne+3]=255;if(Rt==16)for(Yt=0;Yt<ot;Yt++)ne=Dt+Yt<<2,Kt=dt[(ee=Ft+2*Yt)+1]<<8|dt[ee],St[ne]=St[ne+1]=St[ne+2]=Math.min(255,255-~~(Kt*et)),St[ne+3]=255}}else if(Tt==1){et==null&&(et=1/256);var re=3&dt.length?null:new Float32Array(dt.buffer);for(jt=0;jt<ut;jt++){if(Ft=jt*Ht,Dt=jt*ot,Rt==1)for(Yt=0;Yt<ot;Yt++)ne=Dt+Yt<<2,Kt=dt[Ft+(Yt>>3)]>>7-(7&Yt)&1,St[ne]=St[ne+1]=St[ne+2]=255*Kt,St[ne+3]=255;if(Rt==2)for(Yt=0;Yt<ot;Yt++)ne=Dt+Yt<<2,Kt=dt[Ft+(Yt>>2)]>>6-2*(3&Yt)&3,St[ne]=St[ne+1]=St[ne+2]=85*Kt,St[ne+3]=255;if(Rt==8)for(Yt=0;Yt<ot;Yt++)ne=Dt+Yt<<2,Kt=dt[Ft+Yt*zt],St[ne]=St[ne+1]=St[ne+2]=Kt,St[ne+3]=255;if(Rt==16)for(Yt=0;Yt<ot;Yt++)ne=Dt+Yt<<2,Kt=dt[(ee=Ft+2*Yt)+1]<<8|dt[ee],St[ne]=St[ne+1]=St[ne+2]=Math.min(255,~~(Kt*et)),St[ne+3]=255;if(Rt==32)for(Yt=0;Yt<ot;Yt++){var ee;ne=Dt+Yt<<2,Kt=re[ee=(Ft>>>2)+Yt],St[ne]=St[ne+1]=St[ne+2]=~~(.5+255*Kt),St[ne+3]=255}}}else if(Tt==2)if(Rt==8){if(zt==1)for(Yt=0;Yt<ft;Yt++)St[4*Yt]=St[4*Yt+1]=St[4*Yt+2]=dt[Yt],St[4*Yt+3]=255;if(zt==3)for(Yt=0;Yt<ft;Yt++){var oe=3*Yt;St[ne=Yt<<2]=dt[oe],St[ne+1]=dt[oe+1],St[ne+2]=dt[oe+2],St[ne+3]=255}if(zt>=4)for(Yt=0;Yt<ft;Yt++)oe=Yt*zt,St[ne=Yt<<2]=dt[oe],St[ne+1]=dt[oe+1],St[ne+2]=dt[oe+2],St[ne+3]=dt[oe+3]}else if(Rt==16){if(zt==4)for(Yt=0;Yt<ft;Yt++)oe=8*Yt+1,St[ne=Yt<<2]=dt[oe],St[ne+1]=dt[oe+2],St[ne+2]=dt[oe+4],St[ne+3]=dt[oe+6];if(zt==3)for(Yt=0;Yt<ft;Yt++)oe=6*Yt+1,St[ne=Yt<<2]=dt[oe],St[ne+1]=dt[oe+2],St[ne+2]=dt[oe+4],St[ne+3]=255}else{if(Rt!=32)throw Rt;var Ut=new Float32Array(dt.buffer),ie=0;for(Yt=0;Yt<Ut.length;Yt++)ie=Math.min(ie,Ut[Yt]);if(ie<0)for(Yt=0;Yt<dt.length;Yt+=4){var ge=dt[Yt];dt[Yt]=dt[Yt+3],dt[Yt+3]=ge,ge=dt[Yt+1],dt[Yt+1]=dt[Yt+2],dt[Yt+2]=ge}var ce=[];for(Yt=0;Yt<65536;Yt++)ce.push(it(Yt/65535));for(Yt=0;Yt<Ut.length;Yt++){var le=Math.max(0,Math.min(1,Ut[Yt]));Ut[Yt]=ce[~~(.5+65535*le)]}if(zt==3)for(Yt=0;Yt<ft;Yt++)oe=3*Yt,St[ne=Yt<<2]=~~(.5+255*Ut[oe]),St[ne+1]=~~(.5+255*Ut[oe+1]),St[ne+2]=~~(.5+255*Ut[oe+2]),St[ne+3]=255;else{if(zt!=4)throw zt;for(Yt=0;Yt<ft;Yt++)oe=4*Yt,St[ne=Yt<<2]=~~(.5+255*Ut[oe]),St[ne+1]=~~(.5+255*Ut[oe+1]),St[ne+2]=~~(.5+255*Ut[oe+2]),St[ne+3]=~~(.5+255*Ut[oe+3])}}else if(Tt==3){var de=H.t320,Ae=1<<Rt,ve=Rt==8&&zt>1&&H.t338&&H.t338[0]!=0;for(jt=0;jt<ut;jt++)for(var ye=0;ye<ot;ye++){ne=(Yt=jt*ot+ye)<<2;var Me=0,ue=jt*Ht;if(Rt==1)Me=dt[ue+(ye>>>3)]>>>7-(7&ye)&1;else if(Rt==2)Me=dt[ue+(ye>>>2)]>>>6-2*(3&ye)&3;else if(Rt==4)Me=dt[ue+(ye>>>1)]>>>4-4*(1&ye)&15;else{if(Rt!=8)throw Rt;Me=dt[ue+ye*zt]}St[ne]=de[Me]>>8,St[ne+1]=de[Ae+Me]>>8,St[ne+2]=de[Ae+Ae+Me]>>8,St[ne+3]=ve?dt[ue+ye*zt+1]:255}}else if(Tt==5){var xe=zt>4?1:0;for(Yt=0;Yt<ft;Yt++){ne=Yt<<2;var Be=Yt*zt;if(window.UDOC){var Pe=dt[Be],Ee=dt[Be+1],Se=dt[Be+2],Ne=dt[Be+3],Fe=UDOC.C.cmykToRgb([Pe*(1/255),Ee*(1/255),Se*(1/255),Ne*(1/255)]);St[ne]=~~(.5+255*Fe[0]),St[ne+1]=~~(.5+255*Fe[1]),St[ne+2]=~~(.5+255*Fe[2])}else Pe=255-dt[Be],Ee=255-dt[Be+1],Se=255-dt[Be+2],Ne=(255-dt[Be+3])*(1/255),St[ne]=~~(Pe*Ne+.5),St[ne+1]=~~(Ee*Ne+.5),St[ne+2]=~~(Se*Ne+.5);St[ne+3]=255*(1-xe)+dt[Be+4]*xe}}else if(Tt==6&&H.t278){var Oe=H.t278[0];for(jt=0;jt<ut;jt+=Oe){Yt=jt*ot;for(var Ce=Oe*ot,Jt=0;Jt<Ce;Jt++){ne=4*(Yt+Jt),Se=dt[(Be=3*Yt+4*(Jt>>>1))+(1&Jt)];var Te=dt[Be+2]-128,he=dt[Be+3]-128,me=Se+((he>>2)+(he>>3)+(he>>5)),pe=Se-((Te>>2)+(Te>>4)+(Te>>5))-((he>>1)+(he>>3)+(he>>4)+(he>>5)),we=Se+(Te+(Te>>1)+(Te>>2)+(Te>>6));St[ne]=Math.max(0,Math.min(255,me)),St[ne+1]=Math.max(0,Math.min(255,pe)),St[ne+2]=Math.max(0,Math.min(255,we)),St[ne+3]=255}}}else if(Tt==32845)for(jt=0;jt<ut;jt++)for(ye=0;ye<ot;ye++){ne=4*(jt*ot+ye);var Re=dt[(Be=6*(jt*ot+ye))+1]<<8|dt[Be],Zt=(Re=Math.pow(2,(Re+.5)/256-64),(dt[Be+3]+.5)/410),ae=(dt[Be+5]+.5)/410,_e=9*Zt/(6*Zt-16*ae+12),be=4*ae/(6*Zt-16*ae+12),De=_e*Re/be,je=(1-_e-be)*Re/be;me=2.69*De-1.276*(Se=Re)-.414*je,pe=-1.022*De+1.978*Se+.044*je,we=.061*De-.224*Se+1.163*je,St[ne]=255*it(Math.min(me,1)),St[ne+1]=255*it(Math.min(pe,1)),St[ne+2]=255*it(Math.min(we,1)),St[ne+3]=255}else g("Unknown Photometric interpretation: "+Tt);return St},w.replaceIMG=function(H){H==null&&(H=document.getElementsByTagName("img"));for(var et=["tif","tiff","dng","cr2","nef"],it=0;it<H.length;it++){var ot=H[it],ut=ot.getAttribute("src");if(ut!=null){var ft=ut.split(".").pop().toLowerCase();if(et.indexOf(ft)!=-1){var dt=new XMLHttpRequest;w._xhrs.push(dt),w._imgs.push(ot),dt.open("GET",ut),dt.responseType="arraybuffer",dt.onload=w._imgLoaded,dt.send()}}}},w._xhrs=[],w._imgs=[],w._imgLoaded=function(H){var et=w._xhrs.indexOf(H.target),it=w._imgs[et];w._xhrs.splice(et,1),w._imgs.splice(et,1),it.setAttribute("src",w.bufferToURI(H.target.response))},w.bufferToURI=function(H){var et=w.decode(H),it=et,ot=0,ut=it[0];et[0].subIFD&&(it=it.concat(et[0].subIFD));for(var ft=0;ft<it.length;ft++){var dt=it[ft];if(!(dt.t258==null||dt.t258.length<3)){var St=dt.t256*dt.t257;St>ot&&(ot=St,ut=dt)}}w.decodeImage(H,ut,et);var Tt=w.toRGBA8(ut),Rt=ut.width,zt=ut.height,$t=document.createElement("canvas");$t.width=Rt,$t.height=zt;var Ht=$t.getContext("2d"),jt=new ImageData(new Uint8ClampedArray(Tt.buffer),Rt,zt);return Ht.putImageData(jt,0,0),$t.toDataURL()},w._binBE={nextZero:function(H,et){for(;H[et]!=0;)et++;return et},readUshort:function(H,et){return H[et]<<8|H[et+1]},readShort:function(H,et){var it=w._binBE.ui8;return it[0]=H[et+1],it[1]=H[et+0],w._binBE.i16[0]},readInt:function(H,et){var it=w._binBE.ui8;return it[0]=H[et+3],it[1]=H[et+2],it[2]=H[et+1],it[3]=H[et+0],w._binBE.i32[0]},readUint:function(H,et){var it=w._binBE.ui8;return it[0]=H[et+3],it[1]=H[et+2],it[2]=H[et+1],it[3]=H[et+0],w._binBE.ui32[0]},readASCII:function(H,et,it){for(var ot="",ut=0;ut<it;ut++)ot+=String.fromCharCode(H[et+ut]);return ot},readFloat:function(H,et){for(var it=w._binBE.ui8,ot=0;ot<4;ot++)it[ot]=H[et+3-ot];return w._binBE.fl32[0]},readDouble:function(H,et){for(var it=w._binBE.ui8,ot=0;ot<8;ot++)it[ot]=H[et+7-ot];return w._binBE.fl64[0]},writeUshort:function(H,et,it){H[et]=it>>8&255,H[et+1]=255&it},writeInt:function(H,et,it){var ot=w._binBE.ui8;w._binBE.i32[0]=it,H[et+3]=ot[0],H[et+2]=ot[1],H[et+1]=ot[2],H[et+0]=ot[3]},writeUint:function(H,et,it){H[et]=it>>24&255,H[et+1]=it>>16&255,H[et+2]=it>>8&255,H[et+3]=255&it},writeASCII:function(H,et,it){for(var ot=0;ot<it.length;ot++)H[et+ot]=it.charCodeAt(ot)},writeDouble:function(H,et,it){w._binBE.fl64[0]=it;for(var ot=0;ot<8;ot++)H[et+ot]=w._binBE.ui8[7-ot]}},w._binBE.ui8=new Uint8Array(8),w._binBE.i16=new Int16Array(w._binBE.ui8.buffer),w._binBE.i32=new Int32Array(w._binBE.ui8.buffer),w._binBE.ui32=new Uint32Array(w._binBE.ui8.buffer),w._binBE.fl32=new Float32Array(w._binBE.ui8.buffer),w._binBE.fl64=new Float64Array(w._binBE.ui8.buffer),w._binLE={nextZero:w._binBE.nextZero,readUshort:function(H,et){return H[et+1]<<8|H[et]},readShort:function(H,et){var it=w._binBE.ui8;return it[0]=H[et+0],it[1]=H[et+1],w._binBE.i16[0]},readInt:function(H,et){var it=w._binBE.ui8;return it[0]=H[et+0],it[1]=H[et+1],it[2]=H[et+2],it[3]=H[et+3],w._binBE.i32[0]},readUint:function(H,et){var it=w._binBE.ui8;return it[0]=H[et+0],it[1]=H[et+1],it[2]=H[et+2],it[3]=H[et+3],w._binBE.ui32[0]},readASCII:w._binBE.readASCII,readFloat:function(H,et){for(var it=w._binBE.ui8,ot=0;ot<4;ot++)it[ot]=H[et+ot];return w._binBE.fl32[0]},readDouble:function(H,et){for(var it=w._binBE.ui8,ot=0;ot<8;ot++)it[ot]=H[et+ot];return w._binBE.fl64[0]},writeUshort:function(H,et,it){H[et]=255&it,H[et+1]=it>>8&255},writeInt:function(H,et,it){var ot=w._binBE.ui8;w._binBE.i32[0]=it,H[et+0]=ot[0],H[et+1]=ot[1],H[et+2]=ot[2],H[et+3]=ot[3]},writeUint:function(H,et,it){H[et]=it>>>0&255,H[et+1]=it>>>8&255,H[et+2]=it>>>16&255,H[et+3]=it>>>24&255},writeASCII:w._binBE.writeASCII},w._copyTile=function(H,et,it,ot,ut,ft,dt,St){for(var Tt=Math.min(et,ut-dt),Rt=Math.min(it,ft-St),zt=0;zt<Rt;zt++)for(var $t=(St+zt)*ut+dt,Ht=zt*et,jt=0;jt<Tt;jt++)ot[$t+jt]=H[Ht+jt]},w.LosslessJpegDecode=function(){var H,et;function it(){return H[et++]}function ot(){return H[et++]<<8|H[et++]}function ut(Ft){for(var Dt=it(),Yt=[0,0,0,255],ne=[],Kt=0;Kt<16;Kt++)ne[Kt]=it();for(Kt=0;Kt<16;Kt++)for(var re=0;re<ne[Kt];re++)Yt[ft(Yt,0,Kt+1,1)+3]=it();var ee=new Uint8Array(256);for(Ft[Dt]=[new Uint8Array(Yt),ee],Kt=0;Kt<256;Kt++){for(var oe=8,Ut=Kt,ie=0;Yt[ie+3]==255&&oe!=0;)ie=Yt[ie+(Ut>>--oe&1)];ee[Kt]=ie}}function ft(Ft,Dt,Yt,ne){if(Ft[Dt+3]!=255)return 0;if(Yt==0)return Dt;for(var Kt=0;Kt<2;Kt++){Ft[Dt+Kt]==0&&(Ft[Dt+Kt]=Ft.length,Ft.push(0,0,ne,255));var re=ft(Ft,Ft[Dt+Kt],Yt-1,ne+1);if(re!=0)return re}return 0}function dt(Ft){for(var Dt=Ft.b,Yt=Ft.f;Dt<25&&Ft.a<Ft.d;){var ne=Ft.data[Ft.a++];ne!=255||Ft.c||Ft.a++,Yt=Yt<<8|ne,Dt+=8}if(Dt<0)throw"e";Ft.b=Dt,Ft.f=Yt}function St(Ft,Dt){return Dt.b<Ft&&dt(Dt),Dt.f>>(Dt.b-=Ft)&65535>>16-Ft}function Tt(Ft,Dt){var Yt=Ft[0],ne=0,Kt=255;Dt.b<16&&dt(Dt);var re=Dt.f>>Dt.b-8&255;for(Kt=Yt[(ne=Ft[1][re])+3],Dt.b-=Yt[ne+2];Kt==255;)Kt=Yt[(ne=Yt[ne+(Dt.f>>--Dt.b&1)])+3];return Kt}function Rt(Ft,Dt){return Ft<32768>>16-Dt&&(Ft+=1-(1<<Dt)),Ft}function zt(Ft,Dt){var Yt=Tt(Ft,Dt);return Yt==0?0:Yt==16?-32768:Rt(St(Yt,Dt),Yt)}function $t(Ft,Dt,Yt,ne,Kt,re){for(var ee=0,oe=0;oe<re;oe++){for(var Ut=oe*Dt,ie=0;ie<Dt;ie+=Kt){ee++;for(var ge=0;ge<Kt;ge++)Ft[Ut+ie+ge]=zt(ne[ge],Yt)}if(Yt.e!=0&&ee%Yt.e==0&&oe!=0){for(var ce=Yt.a,le=Yt.data;le[ce]!=255||!(208<=le[ce+1]&&le[ce+1]<=215);)ce--;Yt.a=ce+2,Yt.f=0,Yt.b=0}}}function Ht(Ft,Dt){return Rt(St(Ft,Dt),Ft)}function jt(Ft,Dt,Yt,ne,Kt,re,ee,oe){for(var Ut=Yt*ee,ie=Kt;ie<re;ie++)Ft[ie]+=1<<oe-1;for(var ge=ee;ge<Ut;ge+=ee)for(ie=Kt;ie<re;ie++)Ft[ge+ie]+=Ft[ge+ie-ee];for(var ce=1;ce<ne;ce++){var le=ce*Ut;for(ie=Kt;ie<re;ie++)Ft[le+ie]+=Ft[le+ie-Ut];for(ge=ee;ge<Ut;ge+=ee)for(ie=Kt;ie<re;ie++){var de=le+ge+ie,Ae=de-Ut,ve=Ft[de-ee],ye=0;if(Dt==0)ye=0;else if(Dt==1)ye=ve;else if(Dt==2)ye=Ft[Ae];else if(Dt==3)ye=Ft[Ae-ee];else if(Dt==4)ye=ve+(Ft[Ae]-Ft[Ae-ee]);else if(Dt==5)ye=ve+(Ft[Ae]-Ft[Ae-ee]>>>1);else if(Dt==6)ye=Ft[Ae]+(ve-Ft[Ae-ee]>>>1);else{if(Dt!=7)throw Dt;ye=ve+Ft[Ae]>>>1}Ft[de]+=ye}}}return function(Ft){if(H=Ft,et=0,ot()!=65496)throw"e";for(var Dt=[],Yt=0,ne=0,Kt=0,re=[],ee=[],oe=[],Ut=0,ie=0,ge=0;;){var ce=ot();if(ce!=65535){var le=ot();if(ce==65475){ne=it(),ie=ot(),ge=ot(),Ut=it();for(var de=0;de<Ut;de++){var Ae=it(),ve=it();if(it()!=0)throw"e";Dt[Ae]=[de,ve>>4,15&ve]}}else if(ce==65476)for(var ye=et+le-2;et<ye;)ut(ee);else{if(ce==65498){for(et++,de=0;de<Ut;de++){var Me=Dt[it()];oe[Me[0]]=ee[it()>>>4],re[Me[0]]=Me.slice(1)}Yt=it(),et+=2;break}ce==65501?Kt=ot():et+=le-2}}else et--}var ue=new(ne>8?Uint16Array:Uint8Array)(ie*ge*Ut),xe={b:0,f:0,c:Yt==8,a:et,data:H,d:H.length,e:Kt};if(xe.c)(function(De,je,er,ir,Xe){for(var ar=H.length-et,rr=0;rr<ar;rr+=4){var _r=H[et+rr];H[et+rr]=H[et+rr+3],H[et+rr+3]=_r,_r=H[et+rr+1],H[et+rr+1]=H[et+rr+2],H[et+rr+2]=_r}for(var dr=0;dr<Xe;dr++)for(var hr=32768,kr=32768,cr=0;cr<je;cr+=2){var ze=Tt(ir,er),nr=Tt(ir,er);ze!=0&&(hr+=Ht(ze,er)),nr!=0&&(kr+=Ht(nr,er)),De[dr*je+cr]=65535&hr,De[dr*je+cr+1]=65535&kr}})(ue,ge*Ut,xe,oe[0],ie);else{var Be=[],Pe=0,Ee=0;for(de=0;de<Ut;de++){var Se=re[de];(we=Se[0])>Pe&&(Pe=we),(pe=Se[1])>Ee&&(Ee=pe),Be.push(we*pe)}if(Pe!=1||Ee!=1){if(Ut!=3||Be[1]!=1||Be[2]!=1||Pe!=2||Ee!=1&&Ee!=2)throw"e";var Ne=[],Fe=0;for(de=0;de<Ut;de++){for(var Oe=0;Oe<Be[de];Oe++)Ne.push(oe[de]);Fe+=Be[de]}var Ce=ge/Pe,Jt=ie/Ee,Te=Ce*Jt;$t(ue,Ce*Fe,xe,Ne,Fe,Jt),jt(ue,Yt,Ce,Jt,Fe-2,Fe,Fe,ne);var he=new Uint16Array(Te*Be[0]);if(Pe==2&&Ee==2){for(de=0;de<Te;de++)he[4*de]=ue[6*de],he[4*de+1]=ue[6*de+1],he[4*de+2]=ue[6*de+2],he[4*de+3]=ue[6*de+3];for(jt(he,Yt,4*Ce,Jt,0,1,1,ne),de=0;de<Te;de++)ue[6*de]=he[4*de],ue[6*de+1]=he[4*de+1],ue[6*de+2]=he[4*de+2],ue[6*de+3]=he[4*de+3]}if(Pe==2&&Ee==1){for(de=0;de<Te;de++)he[2*de]=ue[4*de],he[2*de+1]=ue[4*de+1];for(jt(he,Yt,2*Ce,Jt,0,1,1,ne),de=0;de<Te;de++)ue[4*de]=he[2*de],ue[4*de+1]=he[2*de+1]}for(var me=ue.slice(0),pe=0;pe<ie;pe++)if(Ee==2)for(var we=0;we<ge;we++){var Re=((pe>>>1)*Ce+(we>>>1))*Fe,Zt=2*(1&pe)+(1&we);ue[ae=(pe*ge+we)*Ut]=me[Re+Zt],ue[ae+1]=me[Re+4],ue[ae+2]=me[Re+5]}else for(we=0;we<ge;we++){var ae;Re=(pe*Ce+(we>>>1))*Fe,Zt=1&we,ue[ae=(pe*ge+we)*Ut]=me[Re+Zt],ue[ae+1]=me[Re+2],ue[ae+2]=me[Re+3]}}else if($t(ue,ge*Ut,xe,oe,Ut,ie),Kt==0)jt(ue,Yt,ge,ie,0,Ut,Ut,ne);else{var _e=Math.floor(Kt/ge);for(pe=0;pe<ie;pe+=_e){var be=ue.slice(pe*ge*Ut,(pe+_e)*ge*Ut);jt(be,Yt,ge,_e,0,Ut,Ut,ne),ue.set(be,pe*ge*Ut)}}}return ue}}(),function(){var H=2,et=4,it=5,ot=6,ut=7,ft=12,dt=13,St=14,Tt=15,Rt=17;function zt(re){var ee={c:new Int8Array(2<<re.u)};return function(oe,Ut,ie){var ge=[Ut,3*Ut+18,5*Ut+67,7*Ut+276,ie];oe.o=Ut,oe.w=(ge[4]+2*Ut)/(2*Ut+1)+1|0,oe.v=Math.ceil(Math.log2(oe.w)),oe.t=9,function(ce,le){for(var de=-le[4],Ae=0;de<=le[4];Ae++,de++)ce[Ae]=de<=-le[3]?-4:de<=-le[2]?-3:de<=-le[1]?-2:de<-le[0]?-1:de<=le[0]?0:de<le[1]?1:de<le[2]?2:de<le[3]?3:4}(oe.c,ge)}(ee,0,re.g),ee}function $t(re){for(var ee=[[],[],[]],oe=Math.max(2,re.w+32>>>6),Ut=0;Ut<3;Ut++)for(var ie=0;ie<41;ie++)ee[Ut][ie]=[oe,1];return ee}function Ht(re,ee){var oe=0,Ut=8-re.a;if(re.j,re.a,ee){if(ee>=Ut)do oe<<=Ut,ee-=Ut,oe|=re[re.j]&(1<<Ut)-1,re.j++,Ut=8;while(ee>=8);ee&&(oe<<=ee,Ut-=ee,oe|=re[re.j]>>>Ut&(1<<ee)-1),re.a=8-Ut}return oe}function jt(re,ee,oe,Ut,ie,ge,ce,le){le==null&&(le=0);var de,Ae,ve,ye,Me,ue,xe=ge+1,Be=xe%2,Pe=0,Ee=Ut[ie],Se=Ut[ie-1],Ne=Ut[ie-2][xe],Fe=Se[xe-1],Oe=Se[xe],Ce=Se[xe+1],Jt=Ee[xe-1],Te=Ee[xe+1],he=Math.abs;if(Be&&(ve=he(Ce-Oe),ye=he(Ne-Oe),Me=he(Fe-Oe)),Be){if(ue=(ue=ve>Me&&ye<ve?Ne+Fe:ve<Me&&ye<Me?Ne+Ce:Ce+Fe)+2*Oe>>>2,le)return void(Ee[xe]=ue);de=ee.t*ee.c[re.g+Oe-Ne]+ee.c[re.g+Fe-Oe]}else ue=Oe>Fe&&Oe>Ce||Oe<Fe&&Oe<Ce?Te+Jt+2*Oe>>>2:Jt+Te>>>1,de=ee.t*ee.c[re.g+Oe-Fe]+ee.c[re.g+Fe-Jt];Ae=he(de);var me=function(we){for(var Re=-1,Zt=0;!Zt;Re++)Zt=we[we.j]>>>7-we.a&1,we.a++,we.a&=7,we.a||we.j++;return Re}(oe);if(me<re.n-ee.v-1){var pe=function(we,Re){var Zt=0;if(Re<we)for(;Zt<=14&&Re<<++Zt<we;);return Zt}(ce[Ae][0],ce[Ae][1]);Pe=Ht(oe,pe)+(me<<pe)}else Pe=Ht(oe,ee.v)+1;Pe=1&Pe?-1-(Pe>>>1):Pe>>>1,ce[Ae][0]+=he(Pe),ce[Ae][1]==re.f&&(ce[Ae][0]>>>=1,ce[Ae][1]>>>=1),ce[Ae][1]++,ue=de<0?ue-Pe:ue+Pe,re.i&&(ue<0?ue+=ee.w:ue>re.g&&(ue-=ee.w)),Ee[xe]=ue>=0?Math.min(ue,re.g):0}function Ft(re,ee,oe){for(var Ut=re[0].length,ie=ee;ie<=oe;ie++)re[ie][0]=re[ie-1][1],re[ie][Ut-1]=re[ie-1][Ut-2]}function Dt(re){Ft(re,ut,ft),Ft(re,H,et),Ft(re,Tt,Rt)}function Yt(re,ee,oe,Ut,ie,ge,ce,le,de,Ae,ve,ye,Me){for(var ue=0,xe=1,Be=ie<dt&&ie>et;xe<re.m;)ue<re.m&&(jt(re,ee,oe,Ut,ie,ue,ce[de],re.h&&(Be&&Ae||!Be&&(ve||(ue&ye)==Me))),jt(re,ee,oe,Ut,ge,ue,ce[de],re.h&&(!Be&&Ae||Be&&(ve||(ue&ye)==Me))),ue+=2),ue>8&&(jt(re,ee,oe,Ut,ie,xe,le[de]),jt(re,ee,oe,Ut,ge,xe,le[de]),xe+=2);Dt(Ut)}function ne(re,ee,oe,Ut,ie,ge){Yt(re,ee,oe,Ut,H,ut,ie,ge,0,0,1,0,8),Yt(re,ee,oe,Ut,8,Tt,ie,ge,1,0,1,0,8),Yt(re,ee,oe,Ut,3,9,ie,ge,2,1,0,3,0),Yt(re,ee,oe,Ut,10,16,ie,ge,0,0,0,3,2),Yt(re,ee,oe,Ut,et,11,ie,ge,1,0,0,3,2),Yt(re,ee,oe,Ut,ft,Rt,ie,ge,2,1,0,3,0)}function Kt(re,ee,oe,Ut,ie,ge){var ce=ge.length,le=re.l;ie+1==re.s&&(le=re.e-ie*re.l);for(var de=6*re.e*Ut+ie*re.l,Ae=0;Ae<6;Ae++){for(var ve=0;ve<le;ve++){var ye,Me=ge[Ae%ce][ve%ce];ye=Me==0?H+(Ae>>>1):Me==2?Tt+(Ae>>>1):ut+Ae;var ue=re.h?(2*ve/3&2147483646|ve%3&1)+(ve%3>>>1):ve>>>1;ee[de+ve]=oe[ye][ue+1]}de+=re.e}}w._decompressRAF=function(re,ee){var oe=function(xe){var Be=w._binBE.readUshort,Pe={b:Be(xe,0),i:xe[2],C:xe[3],u:xe[4],q:Be(xe,5),k:Be(xe,7),e:Be(xe,9),l:Be(xe,11),s:xe[13],d:Be(xe,14)};if(Pe.b!=18771||Pe.i>1||Pe.q<6||Pe.q%6||Pe.e<768||Pe.e%24||Pe.l!=768||Pe.k<Pe.l||Pe.k%Pe.l||Pe.k-Pe.e>=Pe.l||Pe.s>16||Pe.s!=Pe.k/Pe.l||Pe.s!=Math.ceil(Pe.e/Pe.l)||Pe.d!=Pe.q/6||Pe.u!=12&&Pe.u!=14&&Pe.u!=16||Pe.C!=16&&Pe.C!=0)throw"Invalid data";if(Pe.i==0)throw"Not implemented. We need this file!";return Pe.h=Pe.C==16,Pe.m=0|(Pe.h?2*Pe.l/3:Pe.l>>>1),Pe.A=Pe.m+2,Pe.f=64,Pe.g=(1<<Pe.u)-1,Pe.n=4*Pe.u,Pe}(re),Ut=function(xe,Be){var Pe=new Array(Be.s),Ee=4*Be.s,Se=16+Ee;12&Ee&&(Se+=16-(12&Ee));for(var Ne=0,Fe=16;Ne<Be.s;Fe+=4){var Oe=w._binBE.readUint(xe,Fe);Pe[Ne]=xe.slice(Se,Se+Oe),Pe[Ne].j=0,Pe[Ne].a=0,Se+=Oe,Ne++}if(Se!=xe.length)throw"Invalid data";return Pe}(re,oe),ie=zt(oe),ge=new Int16Array(oe.e*oe.q);ee==null&&(ee=oe.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var ce=[[0,3],[1,et],[it,11],[ot,ft],[dt,16],[St,Rt]],le=[],de=0;de<18;de++)le[de]=new Uint16Array(oe.A);for(var Ae=0;Ae<oe.s;Ae++){var ve=$t(ie),ye=$t(ie);for(de=0;de<18;de++)for(var Me=0;Me<oe.A;Me++)le[de][Me]=0;for(var ue=0;ue<oe.d;ue++){for(ne(oe,ie,Ut[Ae],le,ve,ye),de=0;de<6;de++)for(Me=0;Me<oe.A;Me++)le[ce[de][0]][Me]=le[ce[de][1]][Me];for(Kt(oe,ge,le,ue,Ae,ee),de=H;de<18;de++)if([it,ot,dt,St].indexOf(de)==-1)for(Me=0;Me<oe.A;Me++)le[de][Me]=0;Dt(le)}}return ge}}()}(m,typeof commonjsRequire=="function"?requirePako():self.pako)})()})(UTIF);var UTIFExports=UTIF.exports,utif=getDefaultExportFromCjs(UTIFExports),util$1,objectUtil;function getDimensionValue(d){return typeof d=="number"?d:d instanceof Uint8Array?d[0]:typeof d[0]=="string"?parseInt(d[0]):d[0]}function tiff(){return{mime:"image/tiff",encode:d=>{const m=utif.encodeImage(d.data,d.width,d.height);return Buffer.from(m)},decode:d=>{const m=utif.decode(d),g=m[0];if(!g)throw new Error("No page found in TIFF");if(!g.t256)throw new Error("No image width found in TIFF");if(!g.t257)throw new Error("No image height found in TIFF");m.forEach(j=>{utif.decodeImage(d,j)});const w=utif.toRGBA8(g);return{data:Buffer.from(w),width:getDimensionValue(g.t256),height:getDimensionValue(g.t257)}}}}(function(d){d.assertEqual=m=>m,d.assertIs=function(m){},d.assertNever=function(m){throw new Error},d.arrayToEnum=m=>{const g={};for(const w of m)g[w]=w;return g},d.getValidEnumValues=m=>{const g=d.objectKeys(m).filter(j=>typeof m[m[j]]!="number"),w={};for(const j of g)w[j]=m[j];return d.objectValues(w)},d.objectValues=m=>d.objectKeys(m).map(function(g){return m[g]}),d.objectKeys=typeof Object.keys=="function"?m=>Object.keys(m):m=>{const g=[];for(const w in m)Object.prototype.hasOwnProperty.call(m,w)&&g.push(w);return g},d.find=(m,g)=>{for(const w of m)if(g(w))return w},d.isInteger=typeof Number.isInteger=="function"?m=>Number.isInteger(m):m=>typeof m=="number"&&isFinite(m)&&Math.floor(m)===m,d.joinValues=function(m,g=" | "){return m.map(w=>typeof w=="string"?`'${w}'`:w).join(g)},d.jsonStringifyReplacer=(m,g)=>typeof g=="bigint"?g.toString():g})(util$1||(util$1={})),function(d){d.mergeShapes=(m,g)=>({...m,...g})}(objectUtil||(objectUtil={}));const ZodParsedType=util$1.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=d=>{switch(typeof d){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(d)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(d)?ZodParsedType.array:d===null?ZodParsedType.null:d.then&&typeof d.then=="function"&&d.catch&&typeof d.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&d instanceof Map?ZodParsedType.map:typeof Set<"u"&&d instanceof Set?ZodParsedType.set:typeof Date<"u"&&d instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$1.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=d=>JSON.stringify(d,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(m){super(),this.issues=[],this.addIssue=w=>{this.issues=[...this.issues,w]},this.addIssues=(w=[])=>{this.issues=[...this.issues,...w]};const g=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,g):this.__proto__=g,this.name="ZodError",this.issues=m}get errors(){return this.issues}format(m){const g=m||function(H){return H.message},w={_errors:[]},j=H=>{for(const et of H.issues)if(et.code==="invalid_union")et.unionErrors.map(j);else if(et.code==="invalid_return_type")j(et.returnTypeError);else if(et.code==="invalid_arguments")j(et.argumentsError);else if(et.path.length===0)w._errors.push(g(et));else{let it=w,ot=0;for(;ot<et.path.length;){const ut=et.path[ot];ot===et.path.length-1?(it[ut]=it[ut]||{_errors:[]},it[ut]._errors.push(g(et))):it[ut]=it[ut]||{_errors:[]},it=it[ut],ot++}}};return j(this),w}static assert(m){if(!(m instanceof ZodError))throw new Error(`Not a ZodError: ${m}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$1.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(m=g=>g.message){const g={},w=[];for(const j of this.issues)j.path.length>0?(g[j.path[0]]=g[j.path[0]]||[],g[j.path[0]].push(m(j))):w.push(m(j));return{formErrors:w,fieldErrors:g}}get formErrors(){return this.flatten()}}ZodError.create=d=>new ZodError(d);const errorMap=(d,m)=>{let g;switch(d.code){case ZodIssueCode.invalid_type:g=d.received===ZodParsedType.undefined?"Required":`Expected ${d.expected}, received ${d.received}`;break;case ZodIssueCode.invalid_literal:g=`Invalid literal value, expected ${JSON.stringify(d.expected,util$1.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:g=`Unrecognized key(s) in object: ${util$1.joinValues(d.keys,", ")}`;break;case ZodIssueCode.invalid_union:g="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:g=`Invalid discriminator value. Expected ${util$1.joinValues(d.options)}`;break;case ZodIssueCode.invalid_enum_value:g=`Invalid enum value. Expected ${util$1.joinValues(d.options)}, received '${d.received}'`;break;case ZodIssueCode.invalid_arguments:g="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:g="Invalid function return type";break;case ZodIssueCode.invalid_date:g="Invalid date";break;case ZodIssueCode.invalid_string:typeof d.validation=="object"?"includes"in d.validation?(g=`Invalid input: must include "${d.validation.includes}"`,typeof d.validation.position=="number"&&(g=`${g} at one or more positions greater than or equal to ${d.validation.position}`)):"startsWith"in d.validation?g=`Invalid input: must start with "${d.validation.startsWith}"`:"endsWith"in d.validation?g=`Invalid input: must end with "${d.validation.endsWith}"`:util$1.assertNever(d.validation):g=d.validation!=="regex"?`Invalid ${d.validation}`:"Invalid";break;case ZodIssueCode.too_small:g=d.type==="array"?`Array must contain ${d.exact?"exactly":d.inclusive?"at least":"more than"} ${d.minimum} element(s)`:d.type==="string"?`String must contain ${d.exact?"exactly":d.inclusive?"at least":"over"} ${d.minimum} character(s)`:d.type==="number"?`Number must be ${d.exact?"exactly equal to ":d.inclusive?"greater than or equal to ":"greater than "}${d.minimum}`:d.type==="date"?`Date must be ${d.exact?"exactly equal to ":d.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(d.minimum))}`:"Invalid input";break;case ZodIssueCode.too_big:g=d.type==="array"?`Array must contain ${d.exact?"exactly":d.inclusive?"at most":"less than"} ${d.maximum} element(s)`:d.type==="string"?`String must contain ${d.exact?"exactly":d.inclusive?"at most":"under"} ${d.maximum} character(s)`:d.type==="number"?`Number must be ${d.exact?"exactly":d.inclusive?"less than or equal to":"less than"} ${d.maximum}`:d.type==="bigint"?`BigInt must be ${d.exact?"exactly":d.inclusive?"less than or equal to":"less than"} ${d.maximum}`:d.type==="date"?`Date must be ${d.exact?"exactly":d.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(d.maximum))}`:"Invalid input";break;case ZodIssueCode.custom:g="Invalid input";break;case ZodIssueCode.invalid_intersection_types:g="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:g=`Number must be a multiple of ${d.multipleOf}`;break;case ZodIssueCode.not_finite:g="Number must be finite";break;default:g=m.defaultError,util$1.assertNever(d)}return{message:g}};let overrideErrorMap=errorMap;function setErrorMap(d){overrideErrorMap=d}function getErrorMap(){return overrideErrorMap}const makeIssue=d=>{const{data:m,path:g,errorMaps:w,issueData:j}=d,H=[...g,...j.path||[]],et={...j,path:H};if(j.message!==void 0)return{...j,path:H,message:j.message};let it="";const ot=w.filter(ut=>!!ut).slice().reverse();for(const ut of ot)it=ut(et,{data:m,defaultError:it}).message;return{...j,path:H,message:it}},EMPTY_PATH=[];function addIssueToContext(d,m){const g=getErrorMap(),w=makeIssue({issueData:m,data:d.data,path:d.path,errorMaps:[d.common.contextualErrorMap,d.schemaErrorMap,g,g===errorMap?void 0:errorMap].filter(j=>!!j)});d.common.issues.push(w)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(m,g){const w=[];for(const j of g){if(j.status==="aborted")return INVALID;j.status==="dirty"&&m.dirty(),w.push(j.value)}return{status:m.value,value:w}}static async mergeObjectAsync(m,g){const w=[];for(const j of g){const H=await j.key,et=await j.value;w.push({key:H,value:et})}return ParseStatus.mergeObjectSync(m,w)}static mergeObjectSync(m,g){const w={};for(const j of g){const{key:H,value:et}=j;if(H.status==="aborted"||et.status==="aborted")return INVALID;H.status==="dirty"&&m.dirty(),et.status==="dirty"&&m.dirty(),H.value==="__proto__"||et.value===void 0&&!j.alwaysSet||(w[H.value]=et.value)}return{status:m.value,value:w}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=d=>({status:"dirty",value:d}),OK=d=>({status:"valid",value:d}),isAborted=d=>d.status==="aborted",isDirty=d=>d.status==="dirty",isValid=d=>d.status==="valid",isAsync=d=>typeof Promise<"u"&&d instanceof Promise;function __classPrivateFieldGet(d,m,g,w){if(typeof m=="function"?d!==m||!0:!m.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m.get(d)}function __classPrivateFieldSet(d,m,g,w,j){if(typeof m=="function"?d!==m||!0:!m.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return m.set(d,g),g}var errorUtil,_ZodEnum_cache,_ZodNativeEnum_cache;typeof SuppressedError=="function"&&SuppressedError,function(d){d.errToObj=m=>typeof m=="string"?{message:m}:m||{},d.toString=m=>typeof m=="string"?m:m==null?void 0:m.message}(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(m,g,w,j){this._cachedPath=[],this.parent=m,this.data=g,this._path=w,this._key=j}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(d,m)=>{if(isValid(m))return{success:!0,data:m.value};if(!d.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const g=new ZodError(d.common.issues);return this._error=g,this._error}}};function processCreateParams(d){if(!d)return{};const{errorMap:m,invalid_type_error:g,required_error:w,description:j}=d;if(m&&(g||w))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return m?{errorMap:m,description:j}:{errorMap:(H,et)=>{var it,ot;const{message:ut}=d;return H.code==="invalid_enum_value"?{message:ut??et.defaultError}:et.data===void 0?{message:(it=ut??w)!==null&&it!==void 0?it:et.defaultError}:H.code!=="invalid_type"?{message:et.defaultError}:{message:(ot=ut??g)!==null&&ot!==void 0?ot:et.defaultError}},description:j}}class ZodType{constructor(m){this.spa=this.safeParseAsync,this._def=m,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(m){return getParsedType(m.data)}_getOrReturnCtx(m,g){return g||{common:m.parent.common,data:m.data,parsedType:getParsedType(m.data),schemaErrorMap:this._def.errorMap,path:m.path,parent:m.parent}}_processInputParams(m){return{status:new ParseStatus,ctx:{common:m.parent.common,data:m.data,parsedType:getParsedType(m.data),schemaErrorMap:this._def.errorMap,path:m.path,parent:m.parent}}}_parseSync(m){const g=this._parse(m);if(isAsync(g))throw new Error("Synchronous parse encountered promise.");return g}_parseAsync(m){const g=this._parse(m);return Promise.resolve(g)}parse(m,g){const w=this.safeParse(m,g);if(w.success)return w.data;throw w.error}safeParse(m,g){var w;const j={common:{issues:[],async:(w=g==null?void 0:g.async)!==null&&w!==void 0&&w,contextualErrorMap:g==null?void 0:g.errorMap},path:(g==null?void 0:g.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:m,parsedType:getParsedType(m)},H=this._parseSync({data:m,path:j.path,parent:j});return handleResult(j,H)}async parseAsync(m,g){const w=await this.safeParseAsync(m,g);if(w.success)return w.data;throw w.error}async safeParseAsync(m,g){const w={common:{issues:[],contextualErrorMap:g==null?void 0:g.errorMap,async:!0},path:(g==null?void 0:g.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:m,parsedType:getParsedType(m)},j=this._parse({data:m,path:w.path,parent:w}),H=await(isAsync(j)?j:Promise.resolve(j));return handleResult(w,H)}refine(m,g){const w=j=>typeof g=="string"||g===void 0?{message:g}:typeof g=="function"?g(j):g;return this._refinement((j,H)=>{const et=m(j),it=()=>H.addIssue({code:ZodIssueCode.custom,...w(j)});return typeof Promise<"u"&&et instanceof Promise?et.then(ot=>!!ot||(it(),!1)):!!et||(it(),!1)})}refinement(m,g){return this._refinement((w,j)=>!!m(w)||(j.addIssue(typeof g=="function"?g(w,j):g),!1))}_refinement(m){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:m}})}superRefine(m){return this._refinement(m)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(m){return ZodUnion.create([this,m],this._def)}and(m){return ZodIntersection.create(this,m,this._def)}transform(m){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:m}})}default(m){const g=typeof m=="function"?m:()=>m;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:g,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(m){const g=typeof m=="function"?m:()=>m;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:g,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(m){return new this.constructor({...this._def,description:m})}pipe(m){return ZodPipeline.create(this,m)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(d){let m="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return d.precision?m=`${m}\\.\\d{${d.precision}}`:d.precision==null&&(m=`${m}(\\.\\d+)?`),m}function timeRegex(d){return new RegExp(`^${timeRegexSource(d)}$`)}function datetimeRegex(d){let m=`${dateRegexSource}T${timeRegexSource(d)}`;const g=[];return g.push(d.local?"Z?":"Z"),d.offset&&g.push("([+-]\\d{2}:?\\d{2})"),m=`${m}(${g.join("|")})`,new RegExp(`^${m}$`)}function isValidIP(d,m){return!(m!=="v4"&&m||!ipv4Regex.test(d))||!(m!=="v6"&&m||!ipv6Regex.test(d))}class ZodString extends ZodType{_parse(m){if(this._def.coerce&&(m.data=String(m.data)),this._getType(m)!==ZodParsedType.string){const j=this._getOrReturnCtx(m);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:j.parsedType}),INVALID}const g=new ParseStatus;let w;for(const j of this._def.checks)if(j.kind==="min")m.data.length<j.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:j.value,type:"string",inclusive:!0,exact:!1,message:j.message}),g.dirty());else if(j.kind==="max")m.data.length>j.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:j.value,type:"string",inclusive:!0,exact:!1,message:j.message}),g.dirty());else if(j.kind==="length"){const H=m.data.length>j.value,et=m.data.length<j.value;(H||et)&&(w=this._getOrReturnCtx(m,w),H?addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:j.value,type:"string",inclusive:!0,exact:!0,message:j.message}):et&&addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:j.value,type:"string",inclusive:!0,exact:!0,message:j.message}),g.dirty())}else if(j.kind==="email")emailRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"email",code:ZodIssueCode.invalid_string,message:j.message}),g.dirty());else if(j.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"emoji",code:ZodIssueCode.invalid_string,message:j.message}),g.dirty());else if(j.kind==="uuid")uuidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"uuid",code:ZodIssueCode.invalid_string,message:j.message}),g.dirty());else if(j.kind==="nanoid")nanoidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:j.message}),g.dirty());else if(j.kind==="cuid")cuidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"cuid",code:ZodIssueCode.invalid_string,message:j.message}),g.dirty());else if(j.kind==="cuid2")cuid2Regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:j.message}),g.dirty());else if(j.kind==="ulid")ulidRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"ulid",code:ZodIssueCode.invalid_string,message:j.message}),g.dirty());else if(j.kind==="url")try{new URL(m.data)}catch{w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"url",code:ZodIssueCode.invalid_string,message:j.message}),g.dirty()}else j.kind==="regex"?(j.regex.lastIndex=0,j.regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"regex",code:ZodIssueCode.invalid_string,message:j.message}),g.dirty())):j.kind==="trim"?m.data=m.data.trim():j.kind==="includes"?m.data.includes(j.value,j.position)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{includes:j.value,position:j.position},message:j.message}),g.dirty()):j.kind==="toLowerCase"?m.data=m.data.toLowerCase():j.kind==="toUpperCase"?m.data=m.data.toUpperCase():j.kind==="startsWith"?m.data.startsWith(j.value)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{startsWith:j.value},message:j.message}),g.dirty()):j.kind==="endsWith"?m.data.endsWith(j.value)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:{endsWith:j.value},message:j.message}),g.dirty()):j.kind==="datetime"?datetimeRegex(j).test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"datetime",message:j.message}),g.dirty()):j.kind==="date"?dateRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"date",message:j.message}),g.dirty()):j.kind==="time"?timeRegex(j).test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.invalid_string,validation:"time",message:j.message}),g.dirty()):j.kind==="duration"?durationRegex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"duration",code:ZodIssueCode.invalid_string,message:j.message}),g.dirty()):j.kind==="ip"?isValidIP(m.data,j.version)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"ip",code:ZodIssueCode.invalid_string,message:j.message}),g.dirty()):j.kind==="base64"?base64Regex.test(m.data)||(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{validation:"base64",code:ZodIssueCode.invalid_string,message:j.message}),g.dirty()):util$1.assertNever(j);return{status:g.value,value:m.data}}_regex(m,g,w){return this.refinement(j=>m.test(j),{validation:g,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(w)})}_addCheck(m){return new ZodString({...this._def,checks:[...this._def.checks,m]})}email(m){return this._addCheck({kind:"email",...errorUtil.errToObj(m)})}url(m){return this._addCheck({kind:"url",...errorUtil.errToObj(m)})}emoji(m){return this._addCheck({kind:"emoji",...errorUtil.errToObj(m)})}uuid(m){return this._addCheck({kind:"uuid",...errorUtil.errToObj(m)})}nanoid(m){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(m)})}cuid(m){return this._addCheck({kind:"cuid",...errorUtil.errToObj(m)})}cuid2(m){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(m)})}ulid(m){return this._addCheck({kind:"ulid",...errorUtil.errToObj(m)})}base64(m){return this._addCheck({kind:"base64",...errorUtil.errToObj(m)})}ip(m){return this._addCheck({kind:"ip",...errorUtil.errToObj(m)})}datetime(m){var g,w;return typeof m=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:m}):this._addCheck({kind:"datetime",precision:(m==null?void 0:m.precision)===void 0?null:m==null?void 0:m.precision,offset:(g=m==null?void 0:m.offset)!==null&&g!==void 0&&g,local:(w=m==null?void 0:m.local)!==null&&w!==void 0&&w,...errorUtil.errToObj(m==null?void 0:m.message)})}date(m){return this._addCheck({kind:"date",message:m})}time(m){return typeof m=="string"?this._addCheck({kind:"time",precision:null,message:m}):this._addCheck({kind:"time",precision:(m==null?void 0:m.precision)===void 0?null:m==null?void 0:m.precision,...errorUtil.errToObj(m==null?void 0:m.message)})}duration(m){return this._addCheck({kind:"duration",...errorUtil.errToObj(m)})}regex(m,g){return this._addCheck({kind:"regex",regex:m,...errorUtil.errToObj(g)})}includes(m,g){return this._addCheck({kind:"includes",value:m,position:g==null?void 0:g.position,...errorUtil.errToObj(g==null?void 0:g.message)})}startsWith(m,g){return this._addCheck({kind:"startsWith",value:m,...errorUtil.errToObj(g)})}endsWith(m,g){return this._addCheck({kind:"endsWith",value:m,...errorUtil.errToObj(g)})}min(m,g){return this._addCheck({kind:"min",value:m,...errorUtil.errToObj(g)})}max(m,g){return this._addCheck({kind:"max",value:m,...errorUtil.errToObj(g)})}length(m,g){return this._addCheck({kind:"length",value:m,...errorUtil.errToObj(g)})}nonempty(m){return this.min(1,errorUtil.errToObj(m))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(m=>m.kind==="datetime")}get isDate(){return!!this._def.checks.find(m=>m.kind==="date")}get isTime(){return!!this._def.checks.find(m=>m.kind==="time")}get isDuration(){return!!this._def.checks.find(m=>m.kind==="duration")}get isEmail(){return!!this._def.checks.find(m=>m.kind==="email")}get isURL(){return!!this._def.checks.find(m=>m.kind==="url")}get isEmoji(){return!!this._def.checks.find(m=>m.kind==="emoji")}get isUUID(){return!!this._def.checks.find(m=>m.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(m=>m.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(m=>m.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(m=>m.kind==="cuid2")}get isULID(){return!!this._def.checks.find(m=>m.kind==="ulid")}get isIP(){return!!this._def.checks.find(m=>m.kind==="ip")}get isBase64(){return!!this._def.checks.find(m=>m.kind==="base64")}get minLength(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxLength(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}}function floatSafeRemainder(d,m){const g=(d.toString().split(".")[1]||"").length,w=(m.toString().split(".")[1]||"").length,j=g>w?g:w;return parseInt(d.toFixed(j).replace(".",""))%parseInt(m.toFixed(j).replace(".",""))/Math.pow(10,j)}ZodString.create=d=>{var m;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(m=d==null?void 0:d.coerce)!==null&&m!==void 0&&m,...processCreateParams(d)})};class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(m){if(this._def.coerce&&(m.data=Number(m.data)),this._getType(m)!==ZodParsedType.number){const j=this._getOrReturnCtx(m);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:j.parsedType}),INVALID}let g;const w=new ParseStatus;for(const j of this._def.checks)j.kind==="int"?util$1.isInteger(m.data)||(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:j.message}),w.dirty()):j.kind==="min"?(j.inclusive?m.data<j.value:m.data<=j.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_small,minimum:j.value,type:"number",inclusive:j.inclusive,exact:!1,message:j.message}),w.dirty()):j.kind==="max"?(j.inclusive?m.data>j.value:m.data>=j.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_big,maximum:j.value,type:"number",inclusive:j.inclusive,exact:!1,message:j.message}),w.dirty()):j.kind==="multipleOf"?floatSafeRemainder(m.data,j.value)!==0&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_multiple_of,multipleOf:j.value,message:j.message}),w.dirty()):j.kind==="finite"?Number.isFinite(m.data)||(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_finite,message:j.message}),w.dirty()):util$1.assertNever(j);return{status:w.value,value:m.data}}gte(m,g){return this.setLimit("min",m,!0,errorUtil.toString(g))}gt(m,g){return this.setLimit("min",m,!1,errorUtil.toString(g))}lte(m,g){return this.setLimit("max",m,!0,errorUtil.toString(g))}lt(m,g){return this.setLimit("max",m,!1,errorUtil.toString(g))}setLimit(m,g,w,j){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:m,value:g,inclusive:w,message:errorUtil.toString(j)}]})}_addCheck(m){return new ZodNumber({...this._def,checks:[...this._def.checks,m]})}int(m){return this._addCheck({kind:"int",message:errorUtil.toString(m)})}positive(m){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(m)})}negative(m){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(m)})}nonpositive(m){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(m)})}nonnegative(m){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(m)})}multipleOf(m,g){return this._addCheck({kind:"multipleOf",value:m,message:errorUtil.toString(g)})}finite(m){return this._addCheck({kind:"finite",message:errorUtil.toString(m)})}safe(m){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(m)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(m)})}get minValue(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxValue(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}get isInt(){return!!this._def.checks.find(m=>m.kind==="int"||m.kind==="multipleOf"&&util$1.isInteger(m.value))}get isFinite(){let m=null,g=null;for(const w of this._def.checks){if(w.kind==="finite"||w.kind==="int"||w.kind==="multipleOf")return!0;w.kind==="min"?(g===null||w.value>g)&&(g=w.value):w.kind==="max"&&(m===null||w.value<m)&&(m=w.value)}return Number.isFinite(g)&&Number.isFinite(m)}}ZodNumber.create=d=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(d==null?void 0:d.coerce)||!1,...processCreateParams(d)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(m){if(this._def.coerce&&(m.data=BigInt(m.data)),this._getType(m)!==ZodParsedType.bigint){const j=this._getOrReturnCtx(m);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:j.parsedType}),INVALID}let g;const w=new ParseStatus;for(const j of this._def.checks)j.kind==="min"?(j.inclusive?m.data<j.value:m.data<=j.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_small,type:"bigint",minimum:j.value,inclusive:j.inclusive,message:j.message}),w.dirty()):j.kind==="max"?(j.inclusive?m.data>j.value:m.data>=j.value)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.too_big,type:"bigint",maximum:j.value,inclusive:j.inclusive,message:j.message}),w.dirty()):j.kind==="multipleOf"?m.data%j.value!==BigInt(0)&&(g=this._getOrReturnCtx(m,g),addIssueToContext(g,{code:ZodIssueCode.not_multiple_of,multipleOf:j.value,message:j.message}),w.dirty()):util$1.assertNever(j);return{status:w.value,value:m.data}}gte(m,g){return this.setLimit("min",m,!0,errorUtil.toString(g))}gt(m,g){return this.setLimit("min",m,!1,errorUtil.toString(g))}lte(m,g){return this.setLimit("max",m,!0,errorUtil.toString(g))}lt(m,g){return this.setLimit("max",m,!1,errorUtil.toString(g))}setLimit(m,g,w,j){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:m,value:g,inclusive:w,message:errorUtil.toString(j)}]})}_addCheck(m){return new ZodBigInt({...this._def,checks:[...this._def.checks,m]})}positive(m){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(m)})}negative(m){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(m)})}nonpositive(m){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(m)})}nonnegative(m){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(m)})}multipleOf(m,g){return this._addCheck({kind:"multipleOf",value:m,message:errorUtil.toString(g)})}get minValue(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m}get maxValue(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m}}ZodBigInt.create=d=>{var m;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(m=d==null?void 0:d.coerce)!==null&&m!==void 0&&m,...processCreateParams(d)})};class ZodBoolean extends ZodType{_parse(m){if(this._def.coerce&&(m.data=!!m.data),this._getType(m)!==ZodParsedType.boolean){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:g.parsedType}),INVALID}return OK(m.data)}}ZodBoolean.create=d=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(d==null?void 0:d.coerce)||!1,...processCreateParams(d)});class ZodDate extends ZodType{_parse(m){if(this._def.coerce&&(m.data=new Date(m.data)),this._getType(m)!==ZodParsedType.date){const j=this._getOrReturnCtx(m);return addIssueToContext(j,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:j.parsedType}),INVALID}if(isNaN(m.data.getTime()))return addIssueToContext(this._getOrReturnCtx(m),{code:ZodIssueCode.invalid_date}),INVALID;const g=new ParseStatus;let w;for(const j of this._def.checks)j.kind==="min"?m.data.getTime()<j.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_small,message:j.message,inclusive:!0,exact:!1,minimum:j.value,type:"date"}),g.dirty()):j.kind==="max"?m.data.getTime()>j.value&&(w=this._getOrReturnCtx(m,w),addIssueToContext(w,{code:ZodIssueCode.too_big,message:j.message,inclusive:!0,exact:!1,maximum:j.value,type:"date"}),g.dirty()):util$1.assertNever(j);return{status:g.value,value:new Date(m.data.getTime())}}_addCheck(m){return new ZodDate({...this._def,checks:[...this._def.checks,m]})}min(m,g){return this._addCheck({kind:"min",value:m.getTime(),message:errorUtil.toString(g)})}max(m,g){return this._addCheck({kind:"max",value:m.getTime(),message:errorUtil.toString(g)})}get minDate(){let m=null;for(const g of this._def.checks)g.kind==="min"&&(m===null||g.value>m)&&(m=g.value);return m!=null?new Date(m):null}get maxDate(){let m=null;for(const g of this._def.checks)g.kind==="max"&&(m===null||g.value<m)&&(m=g.value);return m!=null?new Date(m):null}}ZodDate.create=d=>new ZodDate({checks:[],coerce:(d==null?void 0:d.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(d)});class ZodSymbol extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.symbol){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:g.parsedType}),INVALID}return OK(m.data)}}ZodSymbol.create=d=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(d)});class ZodUndefined extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.undefined){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:g.parsedType}),INVALID}return OK(m.data)}}ZodUndefined.create=d=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(d)});class ZodNull extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.null){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:g.parsedType}),INVALID}return OK(m.data)}}ZodNull.create=d=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(d)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(m){return OK(m.data)}}ZodAny.create=d=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(d)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(m){return OK(m.data)}}ZodUnknown.create=d=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(d)});class ZodNever extends ZodType{_parse(m){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:g.parsedType}),INVALID}}ZodNever.create=d=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(d)});class ZodVoid extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.undefined){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:g.parsedType}),INVALID}return OK(m.data)}}ZodVoid.create=d=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(d)});class ZodArray extends ZodType{_parse(m){const{ctx:g,status:w}=this._processInputParams(m),j=this._def;if(g.parsedType!==ZodParsedType.array)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:g.parsedType}),INVALID;if(j.exactLength!==null){const et=g.data.length>j.exactLength.value,it=g.data.length<j.exactLength.value;(et||it)&&(addIssueToContext(g,{code:et?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:it?j.exactLength.value:void 0,maximum:et?j.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:j.exactLength.message}),w.dirty())}if(j.minLength!==null&&g.data.length<j.minLength.value&&(addIssueToContext(g,{code:ZodIssueCode.too_small,minimum:j.minLength.value,type:"array",inclusive:!0,exact:!1,message:j.minLength.message}),w.dirty()),j.maxLength!==null&&g.data.length>j.maxLength.value&&(addIssueToContext(g,{code:ZodIssueCode.too_big,maximum:j.maxLength.value,type:"array",inclusive:!0,exact:!1,message:j.maxLength.message}),w.dirty()),g.common.async)return Promise.all([...g.data].map((et,it)=>j.type._parseAsync(new ParseInputLazyPath(g,et,g.path,it)))).then(et=>ParseStatus.mergeArray(w,et));const H=[...g.data].map((et,it)=>j.type._parseSync(new ParseInputLazyPath(g,et,g.path,it)));return ParseStatus.mergeArray(w,H)}get element(){return this._def.type}min(m,g){return new ZodArray({...this._def,minLength:{value:m,message:errorUtil.toString(g)}})}max(m,g){return new ZodArray({...this._def,maxLength:{value:m,message:errorUtil.toString(g)}})}length(m,g){return new ZodArray({...this._def,exactLength:{value:m,message:errorUtil.toString(g)}})}nonempty(m){return this.min(1,m)}}function deepPartialify(d){if(d instanceof ZodObject){const m={};for(const g in d.shape){const w=d.shape[g];m[g]=ZodOptional.create(deepPartialify(w))}return new ZodObject({...d._def,shape:()=>m})}return d instanceof ZodArray?new ZodArray({...d._def,type:deepPartialify(d.element)}):d instanceof ZodOptional?ZodOptional.create(deepPartialify(d.unwrap())):d instanceof ZodNullable?ZodNullable.create(deepPartialify(d.unwrap())):d instanceof ZodTuple?ZodTuple.create(d.items.map(m=>deepPartialify(m))):d}ZodArray.create=(d,m)=>new ZodArray({type:d,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(m)});class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const m=this._def.shape(),g=util$1.objectKeys(m);return this._cached={shape:m,keys:g}}_parse(m){if(this._getType(m)!==ZodParsedType.object){const ot=this._getOrReturnCtx(m);return addIssueToContext(ot,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ot.parsedType}),INVALID}const{status:g,ctx:w}=this._processInputParams(m),{shape:j,keys:H}=this._getCached(),et=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const ot in w.data)H.includes(ot)||et.push(ot);const it=[];for(const ot of H){const ut=j[ot],ft=w.data[ot];it.push({key:{status:"valid",value:ot},value:ut._parse(new ParseInputLazyPath(w,ft,w.path,ot)),alwaysSet:ot in w.data})}if(this._def.catchall instanceof ZodNever){const ot=this._def.unknownKeys;if(ot==="passthrough")for(const ut of et)it.push({key:{status:"valid",value:ut},value:{status:"valid",value:w.data[ut]}});else if(ot==="strict")et.length>0&&(addIssueToContext(w,{code:ZodIssueCode.unrecognized_keys,keys:et}),g.dirty());else if(ot!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const ot=this._def.catchall;for(const ut of et){const ft=w.data[ut];it.push({key:{status:"valid",value:ut},value:ot._parse(new ParseInputLazyPath(w,ft,w.path,ut)),alwaysSet:ut in w.data})}}return w.common.async?Promise.resolve().then(async()=>{const ot=[];for(const ut of it){const ft=await ut.key,dt=await ut.value;ot.push({key:ft,value:dt,alwaysSet:ut.alwaysSet})}return ot}).then(ot=>ParseStatus.mergeObjectSync(g,ot)):ParseStatus.mergeObjectSync(g,it)}get shape(){return this._def.shape()}strict(m){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...m!==void 0?{errorMap:(g,w)=>{var j,H,et,it;const ot=(et=(H=(j=this._def).errorMap)===null||H===void 0?void 0:H.call(j,g,w).message)!==null&&et!==void 0?et:w.defaultError;return g.code==="unrecognized_keys"?{message:(it=errorUtil.errToObj(m).message)!==null&&it!==void 0?it:ot}:{message:ot}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(m){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...m})})}merge(m){return new ZodObject({unknownKeys:m._def.unknownKeys,catchall:m._def.catchall,shape:()=>({...this._def.shape(),...m._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(m,g){return this.augment({[m]:g})}catchall(m){return new ZodObject({...this._def,catchall:m})}pick(m){const g={};return util$1.objectKeys(m).forEach(w=>{m[w]&&this.shape[w]&&(g[w]=this.shape[w])}),new ZodObject({...this._def,shape:()=>g})}omit(m){const g={};return util$1.objectKeys(this.shape).forEach(w=>{m[w]||(g[w]=this.shape[w])}),new ZodObject({...this._def,shape:()=>g})}deepPartial(){return deepPartialify(this)}partial(m){const g={};return util$1.objectKeys(this.shape).forEach(w=>{const j=this.shape[w];m&&!m[w]?g[w]=j:g[w]=j.optional()}),new ZodObject({...this._def,shape:()=>g})}required(m){const g={};return util$1.objectKeys(this.shape).forEach(w=>{if(m&&!m[w])g[w]=this.shape[w];else{let j=this.shape[w];for(;j instanceof ZodOptional;)j=j._def.innerType;g[w]=j}}),new ZodObject({...this._def,shape:()=>g})}keyof(){return createZodEnum(util$1.objectKeys(this.shape))}}ZodObject.create=(d,m)=>new ZodObject({shape:()=>d,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)}),ZodObject.strictCreate=(d,m)=>new ZodObject({shape:()=>d,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)}),ZodObject.lazycreate=(d,m)=>new ZodObject({shape:d,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(m)});class ZodUnion extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w=this._def.options;if(g.common.async)return Promise.all(w.map(async j=>{const H={...g,common:{...g.common,issues:[]},parent:null};return{result:await j._parseAsync({data:g.data,path:g.path,parent:H}),ctx:H}})).then(function(j){for(const et of j)if(et.result.status==="valid")return et.result;for(const et of j)if(et.result.status==="dirty")return g.common.issues.push(...et.ctx.common.issues),et.result;const H=j.map(et=>new ZodError(et.ctx.common.issues));return addIssueToContext(g,{code:ZodIssueCode.invalid_union,unionErrors:H}),INVALID});{let j;const H=[];for(const it of w){const ot={...g,common:{...g.common,issues:[]},parent:null},ut=it._parseSync({data:g.data,path:g.path,parent:ot});if(ut.status==="valid")return ut;ut.status!=="dirty"||j||(j={result:ut,ctx:ot}),ot.common.issues.length&&H.push(ot.common.issues)}if(j)return g.common.issues.push(...j.ctx.common.issues),j.result;const et=H.map(it=>new ZodError(it));return addIssueToContext(g,{code:ZodIssueCode.invalid_union,unionErrors:et}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(d,m)=>new ZodUnion({options:d,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(m)});const getDiscriminator=d=>d instanceof ZodLazy?getDiscriminator(d.schema):d instanceof ZodEffects?getDiscriminator(d.innerType()):d instanceof ZodLiteral?[d.value]:d instanceof ZodEnum?d.options:d instanceof ZodNativeEnum?util$1.objectValues(d.enum):d instanceof ZodDefault?getDiscriminator(d._def.innerType):d instanceof ZodUndefined?[void 0]:d instanceof ZodNull?[null]:d instanceof ZodOptional?[void 0,...getDiscriminator(d.unwrap())]:d instanceof ZodNullable?[null,...getDiscriminator(d.unwrap())]:d instanceof ZodBranded||d instanceof ZodReadonly?getDiscriminator(d.unwrap()):d instanceof ZodCatch?getDiscriminator(d._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.object)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:g.parsedType}),INVALID;const w=this.discriminator,j=g.data[w],H=this.optionsMap.get(j);return H?g.common.async?H._parseAsync({data:g.data,path:g.path,parent:g}):H._parseSync({data:g.data,path:g.path,parent:g}):(addIssueToContext(g,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[w]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(m,g,w){const j=new Map;for(const H of g){const et=getDiscriminator(H.shape[m]);if(!et.length)throw new Error(`A discriminator value for key \`${m}\` could not be extracted from all schema options`);for(const it of et){if(j.has(it))throw new Error(`Discriminator property ${String(m)} has duplicate value ${String(it)}`);j.set(it,H)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:m,options:g,optionsMap:j,...processCreateParams(w)})}}function mergeValues(d,m){const g=getParsedType(d),w=getParsedType(m);if(d===m)return{valid:!0,data:d};if(g===ZodParsedType.object&&w===ZodParsedType.object){const j=util$1.objectKeys(m),H=util$1.objectKeys(d).filter(it=>j.indexOf(it)!==-1),et={...d,...m};for(const it of H){const ot=mergeValues(d[it],m[it]);if(!ot.valid)return{valid:!1};et[it]=ot.data}return{valid:!0,data:et}}if(g===ZodParsedType.array&&w===ZodParsedType.array){if(d.length!==m.length)return{valid:!1};const j=[];for(let H=0;H<d.length;H++){const et=mergeValues(d[H],m[H]);if(!et.valid)return{valid:!1};j.push(et.data)}return{valid:!0,data:j}}return g===ZodParsedType.date&&w===ZodParsedType.date&&+d==+m?{valid:!0,data:d}:{valid:!1}}class ZodIntersection extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m),j=(H,et)=>{if(isAborted(H)||isAborted(et))return INVALID;const it=mergeValues(H.value,et.value);return it.valid?((isDirty(H)||isDirty(et))&&g.dirty(),{status:g.value,value:it.data}):(addIssueToContext(w,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return w.common.async?Promise.all([this._def.left._parseAsync({data:w.data,path:w.path,parent:w}),this._def.right._parseAsync({data:w.data,path:w.path,parent:w})]).then(([H,et])=>j(H,et)):j(this._def.left._parseSync({data:w.data,path:w.path,parent:w}),this._def.right._parseSync({data:w.data,path:w.path,parent:w}))}}ZodIntersection.create=(d,m,g)=>new ZodIntersection({left:d,right:m,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(g)});class ZodTuple extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.array)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:w.parsedType}),INVALID;if(w.data.length<this._def.items.length)return addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&w.data.length>this._def.items.length&&(addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),g.dirty());const j=[...w.data].map((H,et)=>{const it=this._def.items[et]||this._def.rest;return it?it._parse(new ParseInputLazyPath(w,H,w.path,et)):null}).filter(H=>!!H);return w.common.async?Promise.all(j).then(H=>ParseStatus.mergeArray(g,H)):ParseStatus.mergeArray(g,j)}get items(){return this._def.items}rest(m){return new ZodTuple({...this._def,rest:m})}}ZodTuple.create=(d,m)=>{if(!Array.isArray(d))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:d,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(m)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.object)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:w.parsedType}),INVALID;const j=[],H=this._def.keyType,et=this._def.valueType;for(const it in w.data)j.push({key:H._parse(new ParseInputLazyPath(w,it,w.path,it)),value:et._parse(new ParseInputLazyPath(w,w.data[it],w.path,it)),alwaysSet:it in w.data});return w.common.async?ParseStatus.mergeObjectAsync(g,j):ParseStatus.mergeObjectSync(g,j)}get element(){return this._def.valueType}static create(m,g,w){return new ZodRecord(g instanceof ZodType?{keyType:m,valueType:g,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(w)}:{keyType:ZodString.create(),valueType:m,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(g)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.map)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:w.parsedType}),INVALID;const j=this._def.keyType,H=this._def.valueType,et=[...w.data.entries()].map(([it,ot],ut)=>({key:j._parse(new ParseInputLazyPath(w,it,w.path,[ut,"key"])),value:H._parse(new ParseInputLazyPath(w,ot,w.path,[ut,"value"]))}));if(w.common.async){const it=new Map;return Promise.resolve().then(async()=>{for(const ot of et){const ut=await ot.key,ft=await ot.value;if(ut.status==="aborted"||ft.status==="aborted")return INVALID;ut.status!=="dirty"&&ft.status!=="dirty"||g.dirty(),it.set(ut.value,ft.value)}return{status:g.value,value:it}})}{const it=new Map;for(const ot of et){const ut=ot.key,ft=ot.value;if(ut.status==="aborted"||ft.status==="aborted")return INVALID;ut.status!=="dirty"&&ft.status!=="dirty"||g.dirty(),it.set(ut.value,ft.value)}return{status:g.value,value:it}}}}ZodMap.create=(d,m,g)=>new ZodMap({valueType:m,keyType:d,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(g)});class ZodSet extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.parsedType!==ZodParsedType.set)return addIssueToContext(w,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:w.parsedType}),INVALID;const j=this._def;j.minSize!==null&&w.data.size<j.minSize.value&&(addIssueToContext(w,{code:ZodIssueCode.too_small,minimum:j.minSize.value,type:"set",inclusive:!0,exact:!1,message:j.minSize.message}),g.dirty()),j.maxSize!==null&&w.data.size>j.maxSize.value&&(addIssueToContext(w,{code:ZodIssueCode.too_big,maximum:j.maxSize.value,type:"set",inclusive:!0,exact:!1,message:j.maxSize.message}),g.dirty());const H=this._def.valueType;function et(ot){const ut=new Set;for(const ft of ot){if(ft.status==="aborted")return INVALID;ft.status==="dirty"&&g.dirty(),ut.add(ft.value)}return{status:g.value,value:ut}}const it=[...w.data.values()].map((ot,ut)=>H._parse(new ParseInputLazyPath(w,ot,w.path,ut)));return w.common.async?Promise.all(it).then(ot=>et(ot)):et(it)}min(m,g){return new ZodSet({...this._def,minSize:{value:m,message:errorUtil.toString(g)}})}max(m,g){return new ZodSet({...this._def,maxSize:{value:m,message:errorUtil.toString(g)}})}size(m,g){return this.min(m,g).max(m,g)}nonempty(m){return this.min(1,m)}}ZodSet.create=(d,m)=>new ZodSet({valueType:d,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(m)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.function)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:g.parsedType}),INVALID;function w(it,ot){return makeIssue({data:it,path:g.path,errorMaps:[g.common.contextualErrorMap,g.schemaErrorMap,getErrorMap(),errorMap].filter(ut=>!!ut),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:ot}})}function j(it,ot){return makeIssue({data:it,path:g.path,errorMaps:[g.common.contextualErrorMap,g.schemaErrorMap,getErrorMap(),errorMap].filter(ut=>!!ut),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:ot}})}const H={errorMap:g.common.contextualErrorMap},et=g.data;if(this._def.returns instanceof ZodPromise){const it=this;return OK(async function(...ot){const ut=new ZodError([]),ft=await it._def.args.parseAsync(ot,H).catch(Tt=>{throw ut.addIssue(w(ot,Tt)),ut}),dt=await Reflect.apply(et,this,ft);return await it._def.returns._def.type.parseAsync(dt,H).catch(Tt=>{throw ut.addIssue(j(dt,Tt)),ut})})}{const it=this;return OK(function(...ot){const ut=it._def.args.safeParse(ot,H);if(!ut.success)throw new ZodError([w(ot,ut.error)]);const ft=Reflect.apply(et,this,ut.data),dt=it._def.returns.safeParse(ft,H);if(!dt.success)throw new ZodError([j(ft,dt.error)]);return dt.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...m){return new ZodFunction({...this._def,args:ZodTuple.create(m).rest(ZodUnknown.create())})}returns(m){return new ZodFunction({...this._def,returns:m})}implement(m){return this.parse(m)}strictImplement(m){return this.parse(m)}static create(m,g,w){return new ZodFunction({args:m||ZodTuple.create([]).rest(ZodUnknown.create()),returns:g||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(w)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(m){const{ctx:g}=this._processInputParams(m);return this._def.getter()._parse({data:g.data,path:g.path,parent:g})}}ZodLazy.create=(d,m)=>new ZodLazy({getter:d,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(m)});class ZodLiteral extends ZodType{_parse(m){if(m.data!==this._def.value){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{received:g.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:m.data}}get value(){return this._def.value}}function createZodEnum(d,m){return new ZodEnum({values:d,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(m)})}ZodLiteral.create=(d,m)=>new ZodLiteral({value:d,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(m)});class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(m){if(typeof m.data!="string"){const g=this._getOrReturnCtx(m),w=this._def.values;return addIssueToContext(g,{expected:util$1.joinValues(w),received:g.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodEnum_cache)||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet(this,_ZodEnum_cache).has(m.data)){const g=this._getOrReturnCtx(m),w=this._def.values;return addIssueToContext(g,{received:g.data,code:ZodIssueCode.invalid_enum_value,options:w}),INVALID}return OK(m.data)}get options(){return this._def.values}get enum(){const m={};for(const g of this._def.values)m[g]=g;return m}get Values(){const m={};for(const g of this._def.values)m[g]=g;return m}get Enum(){const m={};for(const g of this._def.values)m[g]=g;return m}extract(m,g=this._def){return ZodEnum.create(m,{...this._def,...g})}exclude(m,g=this._def){return ZodEnum.create(this.options.filter(w=>!m.includes(w)),{...this._def,...g})}}_ZodEnum_cache=new WeakMap,ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(m){const g=util$1.getValidEnumValues(this._def.values),w=this._getOrReturnCtx(m);if(w.parsedType!==ZodParsedType.string&&w.parsedType!==ZodParsedType.number){const j=util$1.objectValues(g);return addIssueToContext(w,{expected:util$1.joinValues(j),received:w.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache)||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util$1.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_ZodNativeEnum_cache).has(m.data)){const j=util$1.objectValues(g);return addIssueToContext(w,{received:w.data,code:ZodIssueCode.invalid_enum_value,options:j}),INVALID}return OK(m.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap,ZodNativeEnum.create=(d,m)=>new ZodNativeEnum({values:d,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(m)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(m){const{ctx:g}=this._processInputParams(m);if(g.parsedType!==ZodParsedType.promise&&g.common.async===!1)return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:g.parsedType}),INVALID;const w=g.parsedType===ZodParsedType.promise?g.data:Promise.resolve(g.data);return OK(w.then(j=>this._def.type.parseAsync(j,{path:g.path,errorMap:g.common.contextualErrorMap})))}}ZodPromise.create=(d,m)=>new ZodPromise({type:d,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(m)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(m){const{status:g,ctx:w}=this._processInputParams(m),j=this._def.effect||null,H={addIssue:et=>{addIssueToContext(w,et),et.fatal?g.abort():g.dirty()},get path(){return w.path}};if(H.addIssue=H.addIssue.bind(H),j.type==="preprocess"){const et=j.transform(w.data,H);if(w.common.async)return Promise.resolve(et).then(async it=>{if(g.value==="aborted")return INVALID;const ot=await this._def.schema._parseAsync({data:it,path:w.path,parent:w});return ot.status==="aborted"?INVALID:ot.status==="dirty"||g.value==="dirty"?DIRTY(ot.value):ot});{if(g.value==="aborted")return INVALID;const it=this._def.schema._parseSync({data:et,path:w.path,parent:w});return it.status==="aborted"?INVALID:it.status==="dirty"||g.value==="dirty"?DIRTY(it.value):it}}if(j.type==="refinement"){const et=it=>{const ot=j.refinement(it,H);if(w.common.async)return Promise.resolve(ot);if(ot instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return it};if(w.common.async===!1){const it=this._def.schema._parseSync({data:w.data,path:w.path,parent:w});return it.status==="aborted"?INVALID:(it.status==="dirty"&&g.dirty(),et(it.value),{status:g.value,value:it.value})}return this._def.schema._parseAsync({data:w.data,path:w.path,parent:w}).then(it=>it.status==="aborted"?INVALID:(it.status==="dirty"&&g.dirty(),et(it.value).then(()=>({status:g.value,value:it.value}))))}if(j.type==="transform"){if(w.common.async===!1){const et=this._def.schema._parseSync({data:w.data,path:w.path,parent:w});if(!isValid(et))return et;const it=j.transform(et.value,H);if(it instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:g.value,value:it}}return this._def.schema._parseAsync({data:w.data,path:w.path,parent:w}).then(et=>isValid(et)?Promise.resolve(j.transform(et.value,H)).then(it=>({status:g.value,value:it})):et)}util$1.assertNever(j)}}ZodEffects.create=(d,m,g)=>new ZodEffects({schema:d,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:m,...processCreateParams(g)}),ZodEffects.createWithPreprocess=(d,m,g)=>new ZodEffects({schema:m,effect:{type:"preprocess",transform:d},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(g)});class ZodOptional extends ZodType{_parse(m){return this._getType(m)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(m)}unwrap(){return this._def.innerType}}ZodOptional.create=(d,m)=>new ZodOptional({innerType:d,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(m)});class ZodNullable extends ZodType{_parse(m){return this._getType(m)===ZodParsedType.null?OK(null):this._def.innerType._parse(m)}unwrap(){return this._def.innerType}}ZodNullable.create=(d,m)=>new ZodNullable({innerType:d,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(m)});class ZodDefault extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m);let w=g.data;return g.parsedType===ZodParsedType.undefined&&(w=this._def.defaultValue()),this._def.innerType._parse({data:w,path:g.path,parent:g})}removeDefault(){return this._def.innerType}}ZodDefault.create=(d,m)=>new ZodDefault({innerType:d,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof m.default=="function"?m.default:()=>m.default,...processCreateParams(m)});class ZodCatch extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w={...g,common:{...g.common,issues:[]}},j=this._def.innerType._parse({data:w.data,path:w.path,parent:{...w}});return isAsync(j)?j.then(H=>({status:"valid",value:H.status==="valid"?H.value:this._def.catchValue({get error(){return new ZodError(w.common.issues)},input:w.data})})):{status:"valid",value:j.status==="valid"?j.value:this._def.catchValue({get error(){return new ZodError(w.common.issues)},input:w.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(d,m)=>new ZodCatch({innerType:d,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof m.catch=="function"?m.catch:()=>m.catch,...processCreateParams(m)});class ZodNaN extends ZodType{_parse(m){if(this._getType(m)!==ZodParsedType.nan){const g=this._getOrReturnCtx(m);return addIssueToContext(g,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:g.parsedType}),INVALID}return{status:"valid",value:m.data}}}ZodNaN.create=d=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(d)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(m){const{ctx:g}=this._processInputParams(m),w=g.data;return this._def.type._parse({data:w,path:g.path,parent:g})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(m){const{status:g,ctx:w}=this._processInputParams(m);if(w.common.async)return(async()=>{const j=await this._def.in._parseAsync({data:w.data,path:w.path,parent:w});return j.status==="aborted"?INVALID:j.status==="dirty"?(g.dirty(),DIRTY(j.value)):this._def.out._parseAsync({data:j.value,path:w.path,parent:w})})();{const j=this._def.in._parseSync({data:w.data,path:w.path,parent:w});return j.status==="aborted"?INVALID:j.status==="dirty"?(g.dirty(),{status:"dirty",value:j.value}):this._def.out._parseSync({data:j.value,path:w.path,parent:w})}}static create(m,g){return new ZodPipeline({in:m,out:g,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(m){const g=this._def.innerType._parse(m),w=j=>(isValid(j)&&(j.value=Object.freeze(j.value)),j);return isAsync(g)?g.then(j=>w(j)):w(g)}unwrap(){return this._def.innerType}}function custom(d,m={},g){return d?ZodAny.create().superRefine((w,j)=>{var H,et;if(!d(w)){const it=typeof m=="function"?m(w):typeof m=="string"?{message:m}:m,ot=(et=(H=it.fatal)!==null&&H!==void 0?H:g)===null||et===void 0||et,ut=typeof it=="string"?{message:it}:it;j.addIssue({code:"custom",...ut,fatal:ot})}}):ZodAny.create()}ZodReadonly.create=(d,m)=>new ZodReadonly({innerType:d,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(m)});const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(d){d.ZodString="ZodString",d.ZodNumber="ZodNumber",d.ZodNaN="ZodNaN",d.ZodBigInt="ZodBigInt",d.ZodBoolean="ZodBoolean",d.ZodDate="ZodDate",d.ZodSymbol="ZodSymbol",d.ZodUndefined="ZodUndefined",d.ZodNull="ZodNull",d.ZodAny="ZodAny",d.ZodUnknown="ZodUnknown",d.ZodNever="ZodNever",d.ZodVoid="ZodVoid",d.ZodArray="ZodArray",d.ZodObject="ZodObject",d.ZodUnion="ZodUnion",d.ZodDiscriminatedUnion="ZodDiscriminatedUnion",d.ZodIntersection="ZodIntersection",d.ZodTuple="ZodTuple",d.ZodRecord="ZodRecord",d.ZodMap="ZodMap",d.ZodSet="ZodSet",d.ZodFunction="ZodFunction",d.ZodLazy="ZodLazy",d.ZodLiteral="ZodLiteral",d.ZodEnum="ZodEnum",d.ZodEffects="ZodEffects",d.ZodNativeEnum="ZodNativeEnum",d.ZodOptional="ZodOptional",d.ZodNullable="ZodNullable",d.ZodDefault="ZodDefault",d.ZodCatch="ZodCatch",d.ZodPromise="ZodPromise",d.ZodBranded="ZodBranded",d.ZodPipeline="ZodPipeline",d.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(d,m={message:`Input not instance of ${d.name}`})=>custom(g=>g instanceof d,m),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:d=>ZodString.create({...d,coerce:!0}),number:d=>ZodNumber.create({...d,coerce:!0}),boolean:d=>ZodBoolean.create({...d,coerce:!0}),bigint:d=>ZodBigInt.create({...d,coerce:!0}),date:d=>ZodDate.create({...d,coerce:!0})},NEVER=INVALID;var z$1=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util$1},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError}),Edge,Edge2;Edge2=Edge||(Edge={}),Edge2[Edge2.EXTEND=1]="EXTEND",Edge2[Edge2.WRAP=2]="WRAP",Edge2[Edge2.CROP=3]="CROP";const JimpClassSchema=z$1.object({bitmap:z$1.object({data:z$1.union([z$1.instanceof(Buffer),z$1.instanceof(Uint8Array)]),width:z$1.number(),height:z$1.number()})}),BlitOptionsSchemaComplex=z$1.object({src:JimpClassSchema,x:z$1.number().optional(),y:z$1.number().optional(),srcX:z$1.number().optional(),srcY:z$1.number().optional(),srcW:z$1.number().optional(),srcH:z$1.number().optional()}),BlitOptionsSchema=z$1.union([JimpClassSchema,BlitOptionsSchemaComplex]),methods$h={blit(d,m){const g=BlitOptionsSchema.parse(m);let{src:w,x:j=0,y:H=0,srcX:et=0,srcY:it=0,srcW:ot=w.bitmap.width,srcH:ut=w.bitmap.height}="bitmap"in g?{src:g}:g;if(!("bitmap"in w))throw new Error("The source must be a Jimp image");if(typeof j!="number"||typeof H!="number")throw new Error("x and y must be numbers");j=Math.round(j),H=Math.round(H),et=Math.round(et),it=Math.round(it),ot=Math.round(ot),ut=Math.round(ut);const ft=d.bitmap.width,dt=d.bitmap.height;return scan(w,et,it,ot,ut,function(St,Tt,Rt){const zt=j+St-et,$t=H+Tt-it;if(zt>=0&&$t>=0&&ft-zt>0&&dt-$t>0){const Ht=d.getPixelIndex(zt,$t),jt={r:w.bitmap.data[Rt]||0,g:w.bitmap.data[Rt+1]||0,b:w.bitmap.data[Rt+2]||0,a:w.bitmap.data[Rt+3]||0},Ft={r:d.bitmap.data[Ht]||0,g:d.bitmap.data[Ht+1]||0,b:d.bitmap.data[Ht+2]||0,a:d.bitmap.data[Ht+3]||0};d.bitmap.data[Ht]=(jt.a*(jt.r-Ft.r)-Ft.r+255>>8)+Ft.r,d.bitmap.data[Ht+1]=(jt.a*(jt.g-Ft.g)-Ft.g+255>>8)+Ft.g,d.bitmap.data[Ht+2]=(jt.a*(jt.b-Ft.b)-Ft.b+255>>8)+Ft.b,d.bitmap.data[Ht+3]=limit255(Ft.a+jt.a)}}),d}},mulTable=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],shgTable=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18],methods$g={blur(d,m){if(typeof m!="number")throw new Error("r must be a number");if(m<1)throw new Error("r must be greater than 0");let g,w,j,H,et,it,ot,ut,ft,dt,St,Tt,Rt;const zt=d.bitmap.width-1,$t=d.bitmap.height-1,Ht=m+1,jt=mulTable[m],Ft=shgTable[m],Dt=[],Yt=[],ne=[],Kt=[],re=[],ee=[];let oe=2;for(;oe-- >0;){for(Tt=0,Rt=0,it=0;it<d.bitmap.height;it++){for(g=d.bitmap.data[Rt]*Ht,w=d.bitmap.data[Rt+1]*Ht,j=d.bitmap.data[Rt+2]*Ht,H=d.bitmap.data[Rt+3]*Ht,ot=1;ot<=m;ot++)ut=Rt+((ot>zt?zt:ot)<<2),g+=d.bitmap.data[ut++],w+=d.bitmap.data[ut++],j+=d.bitmap.data[ut++],H+=d.bitmap.data[ut];for(et=0;et<d.bitmap.width;et++)Dt[Tt]=g,Yt[Tt]=w,ne[Tt]=j,Kt[Tt]=H,it===0&&(re[et]=((ut=et+Ht)<zt?ut:zt)<<2,ee[et]=(ut=et-m)>0?ut<<2:0),ft=Rt+re[et],dt=Rt+ee[et],g+=d.bitmap.data[ft++]-d.bitmap.data[dt++],w+=d.bitmap.data[ft++]-d.bitmap.data[dt++],j+=d.bitmap.data[ft++]-d.bitmap.data[dt++],H+=d.bitmap.data[ft]-d.bitmap.data[dt++],Tt++;Rt+=d.bitmap.width<<2}for(et=0;et<d.bitmap.width;et++){for(St=et,g=Dt[St]*Ht,w=Yt[St]*Ht,j=ne[St]*Ht,H=Kt[St]*Ht,ot=1;ot<=m;ot++)St+=ot>$t?0:d.bitmap.width,g+=Dt[St],w+=Yt[St],j+=ne[St],H+=Kt[St];for(Tt=et<<2,it=0;it<d.bitmap.height;it++)d.bitmap.data[Tt]=limit255(g*jt>>>Ft),d.bitmap.data[Tt+1]=limit255(w*jt>>>Ft),d.bitmap.data[Tt+2]=limit255(j*jt>>>Ft),d.bitmap.data[Tt+3]=limit255(H*jt>>>Ft),et===0&&(re[it]=((ut=it+Ht)<$t?ut:$t)*d.bitmap.width,ee[it]=(ut=it-m)>0?ut*d.bitmap.width:0),ft=et+re[it],dt=et+ee[it],g+=Dt[ft]-Dt[dt],w+=Yt[ft]-Yt[dt],j+=ne[ft]-ne[dt],H+=Kt[ft]-Kt[dt],Tt+=d.bitmap.width<<2}}return d},gaussian(d,m){if(typeof m!="number")throw new Error("r must be a number");if(m<1)throw new Error("r must be greater than 0");const g=Math.ceil(2.57*m),w=2*g+1,j=m*m*2,H=j*Math.PI,et=[];for(let it=0;it<w;it++){const ot=[];for(let ut=0;ut<w;ut++){const ft=(ut-g)**2+(it-g)**2;ot[ut]=Math.exp(-ft/j)/H}et.push(ot)}for(let it=0;it<d.bitmap.height;it++)for(let ot=0;ot<d.bitmap.width;ot++){let ut=0,ft=0,dt=0,St=0,Tt=0;for(let Rt=0;Rt<w;Rt++){for(let $t=0;$t<w;$t++){const Ht=Math.min(d.bitmap.width-1,Math.max(0,$t+ot-g)),jt=Math.min(d.bitmap.height-1,Math.max(0,Rt+it-g)),Ft=et[Rt][$t],Dt=jt*d.bitmap.width+Ht<<2;ut+=d.bitmap.data[Dt]*Ft,ft+=d.bitmap.data[Dt+1]*Ft,dt+=d.bitmap.data[Dt+2]*Ft,St+=d.bitmap.data[Dt+3]*Ft,Tt+=Ft}const zt=it*d.bitmap.width+ot<<2;d.bitmap.data[zt]=Math.round(ut/Tt),d.bitmap.data[zt+1]=Math.round(ft/Tt),d.bitmap.data[zt+2]=Math.round(dt/Tt),d.bitmap.data[zt+3]=Math.round(St/Tt)}}return d}},CircleOptionsSchema=z$1.object({x:z$1.number().optional(),y:z$1.number().optional(),radius:z$1.number().min(0).optional()}),methods$f={circle(d,m={}){const g=CircleOptionsSchema.parse(m),w=g.radius||(d.bitmap.width>d.bitmap.height?d.bitmap.height:d.bitmap.width)/2,j=typeof g.x=="number"?g.x:d.bitmap.width/2,H=typeof g.y=="number"?g.y:d.bitmap.height/2;return d.scan((et,it,ot)=>{const ut=Math.sqrt(Math.pow(et-j,2)+Math.pow(it-H,2));w-ut<=0?d.bitmap.data[ot+3]=0:w-ut<1&&(d.bitmap.data[ot+3]=255*(w-ut))}),d}},ConvolutionMatrixSchema=z$1.array(z$1.number()).min(1).array(),ConvolutionComplexOptionsSchema=z$1.object({kernel:ConvolutionMatrixSchema,edgeHandling:z$1.nativeEnum(Edge).optional()}),ConvolutionOptionsSchema=z$1.union([ConvolutionMatrixSchema,ConvolutionComplexOptionsSchema]),ConvoluteComplexOptionsSchema=z$1.object({kernel:ConvolutionMatrixSchema,x:z$1.number().optional(),y:z$1.number().optional(),w:z$1.number().optional(),h:z$1.number().optional()}),ConvoluteOptionsSchema=z$1.union([ConvolutionMatrixSchema,ConvoluteComplexOptionsSchema]),PixelateSize=z$1.number().min(1).max(1/0),PixelateComplexOptionsSchema=z$1.object({size:PixelateSize,x:z$1.number().optional(),y:z$1.number().optional(),w:z$1.number().optional(),h:z$1.number().optional()}),PixelateOptionsSchema=z$1.union([PixelateSize,PixelateComplexOptionsSchema]);function applyKernel(d,m,g,w){const j=[0,0,0,0],H=(m.length-1)/2;for(let et=0;et<m.length;et+=1)for(let it=0;it<m[et].length;it+=1){const ot=d.getPixelIndex(g+et-H,w+it-H);j[0]+=d.bitmap.data[ot]*m[et][it],j[1]+=d.bitmap.data[ot+1]*m[et][it],j[2]+=d.bitmap.data[ot+2]*m[et][it],j[3]+=d.bitmap.data[ot+3]*m[et][it]}return j}function mix(d,m,g=50){return{r:(m.r-d.r)*(g/100)+d.r,g:(m.g-d.g)*(g/100)+d.g,b:(m.b-d.b)*(g/100)+d.b}}const HueActionSchema=z$1.object({apply:z$1.literal("hue"),params:z$1.tuple([z$1.number().min(-360).max(360)])}),SpinActionSchema=z$1.object({apply:z$1.literal("spin"),params:z$1.tuple([z$1.number().min(-360).max(360)])}),LightenActionSchema=z$1.object({apply:z$1.literal("lighten"),params:z$1.tuple([z$1.number().min(0).max(100)]).optional()}),RGBColorSchema=z$1.object({r:z$1.number().min(0).max(255),g:z$1.number().min(0).max(255),b:z$1.number().min(0).max(255)}),MixActionSchema=z$1.object({apply:z$1.literal("mix"),params:z$1.union([z$1.tuple([RGBColorSchema]),z$1.tuple([RGBColorSchema,z$1.number().min(0).max(100)])])}),TintActionSchema=z$1.object({apply:z$1.literal("tint"),params:z$1.tuple([z$1.number().min(0).max(100)]).optional()}),ShadeActionSchema=z$1.object({apply:z$1.literal("shade"),params:z$1.tuple([z$1.number().min(0).max(100)]).optional()}),XorActionSchema=z$1.object({apply:z$1.literal("xor"),params:z$1.tuple([RGBColorSchema])}),RedActionSchema=z$1.object({apply:z$1.literal("red"),params:z$1.tuple([z$1.number().min(-255).max(255)])}),GreenActionSchema=z$1.object({apply:z$1.literal("green"),params:z$1.tuple([z$1.number().min(-255).max(255)])}),BlueActionSchema=z$1.object({apply:z$1.literal("blue"),params:z$1.tuple([z$1.number().min(-255).max(255)])}),BrightenActionSchema=z$1.object({apply:z$1.literal("brighten"),params:z$1.tuple([z$1.number().min(0).max(100)]).optional()}),DarkenActionSchema=z$1.object({apply:z$1.literal("darken"),params:z$1.tuple([z$1.number().min(0).max(100)]).optional()}),DesaturateActionSchema=z$1.object({apply:z$1.literal("desaturate"),params:z$1.tuple([z$1.number().min(0).max(100)]).optional()}),SaturateActionSchema=z$1.object({apply:z$1.literal("saturate"),params:z$1.tuple([z$1.number().min(0).max(100)]).optional()}),GrayscaleActionSchema=z$1.object({apply:z$1.literal("greyscale"),params:z$1.tuple([]).optional()}),ColorActionNameSchema=z$1.union([HueActionSchema,SpinActionSchema,LightenActionSchema,MixActionSchema,TintActionSchema,ShadeActionSchema,XorActionSchema,RedActionSchema,GreenActionSchema,BlueActionSchema,BrightenActionSchema,DarkenActionSchema,DesaturateActionSchema,SaturateActionSchema,GrayscaleActionSchema]);function histogram(d){const m={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return d.scan((g,w,j)=>{m.r[d.bitmap.data[j+0]]++,m.g[d.bitmap.data[j+1]]++,m.b[d.bitmap.data[j+2]]++}),m}const normalizeValue=function(d,m,g){return 255*(d-m)/(g-m)},getBounds=function(d){return[d.findIndex(m=>m>0),255-d.slice().reverse().findIndex(m=>m>0)]},methods$e={normalize(d){const m=histogram(d),g={r:getBounds(m.r),g:getBounds(m.g),b:getBounds(m.b)};return d.scan((w,j,H)=>{const et=d.bitmap.data[H+0],it=d.bitmap.data[H+1],ot=d.bitmap.data[H+2];d.bitmap.data[H+0]=normalizeValue(et,g.r[0],g.r[1]),d.bitmap.data[H+1]=normalizeValue(it,g.g[0],g.g[1]),d.bitmap.data[H+2]=normalizeValue(ot,g.b[0],g.b[1])}),d},invert:d=>(d.scan((m,g,w)=>{d.bitmap.data[w]=255-d.bitmap.data[w],d.bitmap.data[w+1]=255-d.bitmap.data[w+1],d.bitmap.data[w+2]=255-d.bitmap.data[w+2]}),d),brightness(d,m){if(typeof m!="number")throw new Error("val must be numbers");return d.scan((g,w,j)=>{d.bitmap.data[j]=limit255(d.bitmap.data[j]*m),d.bitmap.data[j+1]=limit255(d.bitmap.data[j+1]*m),d.bitmap.data[j+2]=limit255(d.bitmap.data[j+2]*m)}),d},contrast(d,m){if(typeof m!="number")throw new Error("val must be numbers");if(m<-1||m>1)throw new Error("val must be a number between -1 and +1");const g=(m+1)/(1-m);function w(j){return(j=Math.floor(g*(j-127)+127))<0?0:j>255?255:j}return d.scan((j,H,et)=>{d.bitmap.data[et]=w(d.bitmap.data[et]),d.bitmap.data[et+1]=w(d.bitmap.data[et+1]),d.bitmap.data[et+2]=w(d.bitmap.data[et+2])}),d},posterize(d,m){if(typeof m!="number")throw new Error("n must be numbers");return m<2&&(m=2),d.scan((g,w,j)=>{const H=d.bitmap.data[j],et=d.bitmap.data[j+1],it=d.bitmap.data[j+2];d.bitmap.data[j]=Math.floor(H/255*(m-1))/(m-1)*255,d.bitmap.data[j+1]=Math.floor(et/255*(m-1))/(m-1)*255,d.bitmap.data[j+2]=Math.floor(it/255*(m-1))/(m-1)*255}),d},greyscale:d=>(d.scan((m,g,w)=>{const j=.2126*d.bitmap.data[w]+.7152*d.bitmap.data[w+1]+.0722*d.bitmap.data[w+2];d.bitmap.data[w]=j,d.bitmap.data[w+1]=j,d.bitmap.data[w+2]=j}),d),opacity(d,m){if(typeof m!="number")throw new Error("f must be a number");if(m<0||m>1)throw new Error("f must be a number from 0 to 1");return d.scan((g,w,j)=>{const H=d.bitmap.data[j+3]*m;d.bitmap.data[j+3]=H}),d},sepia:d=>(d.scan((m,g,w)=>{let j=d.bitmap.data[w],H=d.bitmap.data[w+1],et=d.bitmap.data[w+2];j=.393*j+.769*H+.189*et,H=.349*j+.686*H+.168*et,et=.272*j+.534*H+.131*et,d.bitmap.data[w]=j<255?j:255,d.bitmap.data[w+1]=H<255?H:255,d.bitmap.data[w+2]=et<255?et:255}),d),fade(d,m){if(typeof m!="number")throw new Error("f must be a number");if(m<0||m>1)throw new Error("f must be a number from 0 to 1");return this.opacity(d,1-m)},convolution(d,m){const g=ConvolutionOptionsSchema.parse(m),{kernel:w,edgeHandling:j=Edge.EXTEND}="kernel"in g?g:{kernel:g,edgeHandling:void 0};if(!w[0])throw new Error("kernel must be a matrix");const H=Buffer.from(d.bitmap.data),et=w.length,it=w[0].length,ot=Math.floor(et/2),ut=Math.floor(it/2),ft=-ot,dt=-ut;let St,Tt,Rt,zt,$t,Ht,jt,Ft,Dt,Yt;return d.scan((ne,Kt,re)=>{zt=0,Rt=0,Tt=0;for(let ee=ft;ee<=ot;ee++)for(let oe=dt;oe<=ut;oe++)Ft=ne+oe,Dt=Kt+ee,St=w[ee+ot][oe+ut],Yt=d.getPixelIndex(Ft,Dt,j),Yt===-1?(jt=0,Ht=0,$t=0):($t=d.bitmap.data[Yt+0],Ht=d.bitmap.data[Yt+1],jt=d.bitmap.data[Yt+2]),Tt+=St*$t,Rt+=St*Ht,zt+=St*jt;Tt<0&&(Tt=0),Rt<0&&(Rt=0),zt<0&&(zt=0),Tt>255&&(Tt=255),Rt>255&&(Rt=255),zt>255&&(zt=255),H[re+0]=Tt,H[re+1]=Rt,H[re+2]=zt}),d.bitmap.data=H,d},opaque:d=>(d.scan((m,g,w)=>{d.bitmap.data[w+3]=255}),d),pixelate(d,m){const g=PixelateOptionsSchema.parse(m),{size:w,x:j=0,y:H=0,w:et=d.bitmap.width-j,h:it=d.bitmap.height-H}=typeof g=="number"?{size:g}:g,ot=[[1/16,2/16,1/16],[2/16,.25,2/16],[1/16,2/16,1/16]],ut=clone(d);return scan(ut,j,H,et,it,(ft,dt,St)=>{ft=w*Math.floor(ft/w),dt=w*Math.floor(dt/w);const Tt=applyKernel(ut,ot,ft,dt);d.bitmap.data[St]=Tt[0],d.bitmap.data[St+1]=Tt[1],d.bitmap.data[St+2]=Tt[2],d.bitmap.data[St+3]=Tt[3]}),d},convolute(d,m){const g=ConvoluteOptionsSchema.parse(m),{kernel:w,x:j=0,y:H=0,w:et=d.bitmap.width-j,h:it=d.bitmap.height-H}="kernel"in g?g:{kernel:g},ot=clone(d);return scan(ot,j,H,et,it,(ut,ft,dt)=>{const St=applyKernel(ot,w,ut,ft);d.bitmap.data[dt]=limit255(St[0]),d.bitmap.data[dt+1]=limit255(St[1]),d.bitmap.data[dt+2]=limit255(St[2]),d.bitmap.data[dt+3]=limit255(St[3])}),d},color(d,m){if(!m||!Array.isArray(m))throw new Error("actions must be an array");return m.forEach(g=>ColorActionNameSchema.parse(g)),m=m.map(g=>(g.apply!=="xor"&&g.apply!=="mix"||(g.params[0]=tinycolor(g.params[0]).toRgb()),g)),d.scan((g,w,j)=>{let H={r:d.bitmap.data[j],g:d.bitmap.data[j+1],b:d.bitmap.data[j+2]};const et=(it,ot)=>limit255(H[it]+ot);m.forEach(it=>{var ot,ut;if(it.apply==="mix")H=mix(H,it.params[0],it.params[1]);else if(it.apply==="tint")H=mix(H,{r:255,g:255,b:255},(ot=it.params)==null?void 0:ot[0]);else if(it.apply==="shade")H=mix(H,{r:0,g:0,b:0},(ut=it.params)==null?void 0:ut[0]);else if(it.apply==="xor")H={r:H.r^it.params[0].r,g:H.g^it.params[0].g,b:H.b^it.params[0].b};else if(it.apply==="red")H.r=et("r",it.params[0]);else if(it.apply==="green")H.g=et("g",it.params[0]);else if(it.apply==="blue")H.b=et("b",it.params[0]);else{it.apply==="hue"&&(it.apply="spin");const ft=tinycolor(H),dt=ft[it.apply].bind(ft);if(!dt)throw new Error("action "+it.apply+" not supported");H=dt(...it.params||[]).toRgb()}}),d.bitmap.data[j]=H.r,d.bitmap.data[j+1]=H.g,d.bitmap.data[j+2]=H.b}),d}};var lib$1={},ieee754={read:function(d,m,g,w,j){var H,et,it=8*j-w-1,ot=(1<<it)-1,ut=ot>>1,ft=-7,dt=g?j-1:0,St=g?-1:1,Tt=d[m+dt];for(dt+=St,H=Tt&(1<<-ft)-1,Tt>>=-ft,ft+=it;ft>0;H=256*H+d[m+dt],dt+=St,ft-=8);for(et=H&(1<<-ft)-1,H>>=-ft,ft+=w;ft>0;et=256*et+d[m+dt],dt+=St,ft-=8);if(H===0)H=1-ut;else{if(H===ot)return et?NaN:1/0*(Tt?-1:1);et+=Math.pow(2,w),H-=ut}return(Tt?-1:1)*et*Math.pow(2,H-w)},write:function(d,m,g,w,j,H){var et,it,ot,ut=8*H-j-1,ft=(1<<ut)-1,dt=ft>>1,St=j===23?Math.pow(2,-24)-Math.pow(2,-77):0,Tt=w?0:H-1,Rt=w?1:-1,zt=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(it=isNaN(m)?1:0,et=ft):(et=Math.floor(Math.log(m)/Math.LN2),m*(ot=Math.pow(2,-et))<1&&(et--,ot*=2),(m+=et+dt>=1?St/ot:St*Math.pow(2,1-dt))*ot>=2&&(et++,ot/=2),et+dt>=ft?(it=0,et=ft):et+dt>=1?(it=(m*ot-1)*Math.pow(2,j),et+=dt):(it=m*Math.pow(2,dt-1)*Math.pow(2,j),et=0));j>=8;d[g+Tt]=255&it,Tt+=Rt,it/=256,j-=8);for(et=et<<j|it,ut+=j;ut>0;d[g+Tt]=255&et,Tt+=Rt,et/=256,ut-=8);d[g+Tt-Rt]|=128*zt}};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.AnsiStringType=d.StringType=d.BufferType=d.Uint8ArrayType=d.IgnoreType=d.Float80_LE=d.Float80_BE=d.Float64_LE=d.Float64_BE=d.Float32_LE=d.Float32_BE=d.Float16_LE=d.Float16_BE=d.INT64_BE=d.UINT64_BE=d.INT64_LE=d.UINT64_LE=d.INT32_LE=d.INT32_BE=d.INT24_BE=d.INT24_LE=d.INT16_LE=d.INT16_BE=d.INT8=d.UINT32_BE=d.UINT32_LE=d.UINT24_BE=d.UINT24_LE=d.UINT16_BE=d.UINT16_LE=d.UINT8=void 0;const m=ieee754;function g(j){return new DataView(j.buffer,j.byteOffset)}d.UINT8={len:1,get:(j,H)=>g(j).getUint8(H),put:(j,H,et)=>(g(j).setUint8(H,et),H+1)},d.UINT16_LE={len:2,get:(j,H)=>g(j).getUint16(H,!0),put:(j,H,et)=>(g(j).setUint16(H,et,!0),H+2)},d.UINT16_BE={len:2,get:(j,H)=>g(j).getUint16(H),put:(j,H,et)=>(g(j).setUint16(H,et),H+2)},d.UINT24_LE={len:3,get(j,H){const et=g(j);return et.getUint8(H)+(et.getUint16(H+1,!0)<<8)},put(j,H,et){const it=g(j);return it.setUint8(H,255&et),it.setUint16(H+1,et>>8,!0),H+3}},d.UINT24_BE={len:3,get(j,H){const et=g(j);return(et.getUint16(H)<<8)+et.getUint8(H+2)},put(j,H,et){const it=g(j);return it.setUint16(H,et>>8),it.setUint8(H+2,255&et),H+3}},d.UINT32_LE={len:4,get:(j,H)=>g(j).getUint32(H,!0),put:(j,H,et)=>(g(j).setUint32(H,et,!0),H+4)},d.UINT32_BE={len:4,get:(j,H)=>g(j).getUint32(H),put:(j,H,et)=>(g(j).setUint32(H,et),H+4)},d.INT8={len:1,get:(j,H)=>g(j).getInt8(H),put:(j,H,et)=>(g(j).setInt8(H,et),H+1)},d.INT16_BE={len:2,get:(j,H)=>g(j).getInt16(H),put:(j,H,et)=>(g(j).setInt16(H,et),H+2)},d.INT16_LE={len:2,get:(j,H)=>g(j).getInt16(H,!0),put:(j,H,et)=>(g(j).setInt16(H,et,!0),H+2)},d.INT24_LE={len:3,get(j,H){const et=d.UINT24_LE.get(j,H);return et>8388607?et-16777216:et},put(j,H,et){const it=g(j);return it.setUint8(H,255&et),it.setUint16(H+1,et>>8,!0),H+3}},d.INT24_BE={len:3,get(j,H){const et=d.UINT24_BE.get(j,H);return et>8388607?et-16777216:et},put(j,H,et){const it=g(j);return it.setUint16(H,et>>8),it.setUint8(H+2,255&et),H+3}},d.INT32_BE={len:4,get:(j,H)=>g(j).getInt32(H),put:(j,H,et)=>(g(j).setInt32(H,et),H+4)},d.INT32_LE={len:4,get:(j,H)=>g(j).getInt32(H,!0),put:(j,H,et)=>(g(j).setInt32(H,et,!0),H+4)},d.UINT64_LE={len:8,get:(j,H)=>g(j).getBigUint64(H,!0),put:(j,H,et)=>(g(j).setBigUint64(H,et,!0),H+8)},d.INT64_LE={len:8,get:(j,H)=>g(j).getBigInt64(H,!0),put:(j,H,et)=>(g(j).setBigInt64(H,et,!0),H+8)},d.UINT64_BE={len:8,get:(j,H)=>g(j).getBigUint64(H),put:(j,H,et)=>(g(j).setBigUint64(H,et),H+8)},d.INT64_BE={len:8,get:(j,H)=>g(j).getBigInt64(H),put:(j,H,et)=>(g(j).setBigInt64(H,et),H+8)},d.Float16_BE={len:2,get(j,H){return m.read(j,H,!1,10,this.len)},put(j,H,et){return m.write(j,et,H,!1,10,this.len),H+this.len}},d.Float16_LE={len:2,get(j,H){return m.read(j,H,!0,10,this.len)},put(j,H,et){return m.write(j,et,H,!0,10,this.len),H+this.len}},d.Float32_BE={len:4,get:(j,H)=>g(j).getFloat32(H),put:(j,H,et)=>(g(j).setFloat32(H,et),H+4)},d.Float32_LE={len:4,get:(j,H)=>g(j).getFloat32(H,!0),put:(j,H,et)=>(g(j).setFloat32(H,et,!0),H+4)},d.Float64_BE={len:8,get:(j,H)=>g(j).getFloat64(H),put:(j,H,et)=>(g(j).setFloat64(H,et),H+8)},d.Float64_LE={len:8,get:(j,H)=>g(j).getFloat64(H,!0),put:(j,H,et)=>(g(j).setFloat64(H,et,!0),H+8)},d.Float80_BE={len:10,get(j,H){return m.read(j,H,!1,63,this.len)},put(j,H,et){return m.write(j,et,H,!1,63,this.len),H+this.len}},d.Float80_LE={len:10,get(j,H){return m.read(j,H,!0,63,this.len)},put(j,H,et){return m.write(j,et,H,!0,63,this.len),H+this.len}},d.IgnoreType=class{constructor(j){this.len=j}get(j,H){}},d.Uint8ArrayType=class{constructor(j){this.len=j}get(j,H){return j.subarray(H,H+this.len)}},d.BufferType=class{constructor(j){this.len=j}get(j,H){return Buffer.from(j.subarray(H,H+this.len))}},d.StringType=class{constructor(j,H){this.len=j,this.encoding=H}get(j,H){return Buffer.from(j).toString(this.encoding,H,H+this.len)}};class w{constructor(H){this.len=H}static decode(H,et,it){let ot="";for(let ut=et;ut<it;++ut)ot+=w.codePointToString(w.singleByteDecoder(H[ut]));return ot}static inRange(H,et,it){return et<=H&&H<=it}static codePointToString(H){return H<=65535?String.fromCharCode(H):(H-=65536,String.fromCharCode(55296+(H>>10),56320+(1023&H)))}static singleByteDecoder(H){if(w.inRange(H,0,127))return H;const et=w.windows1252[H-128];if(et===null)throw Error("invaliding encoding");return et}get(H,et=0){return w.decode(H,et,et+this.len)}}d.AnsiStringType=w,w.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]})(lib$1);var core$1={},ReadStreamTokenizer$1={},AbstractTokenizer$1={},lib={},EndOfFileStream={};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.EndOfStreamError=d.defaultMessages=void 0,d.defaultMessages="End-Of-Stream";class m extends Error{constructor(){super(d.defaultMessages)}}d.EndOfStreamError=m})(EndOfFileStream);var StreamReader={},Deferred$1={};Object.defineProperty(Deferred$1,"__esModule",{value:!0}),Deferred$1.Deferred=void 0;class Deferred{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((m,g)=>{this.reject=g,this.resolve=m})}}Deferred$1.Deferred=Deferred,function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;const m=EndOfFileStream,g=Deferred$1;var w=EndOfFileStream;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}}),d.StreamReader=class{constructor(j){if(this.s=j,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!j.read||!j.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new m.EndOfStreamError)),this.s.once("error",H=>this.reject(H)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(j,H,et){const it=await this.read(j,H,et);return this.peekQueue.push(j.subarray(H,H+it)),it}async read(j,H,et){if(et===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new m.EndOfStreamError;let it=et,ot=0;for(;this.peekQueue.length>0&&it>0;){const ut=this.peekQueue.pop();if(!ut)throw new Error("peekData should be defined");const ft=Math.min(ut.length,it);j.set(ut.subarray(0,ft),H+ot),ot+=ft,it-=ft,ft<ut.length&&this.peekQueue.push(ut.subarray(ft))}for(;it>0&&!this.endOfStream;){const ut=Math.min(it,1048576),ft=await this.readFromStream(j,H+ot,ut);if(ot+=ft,ft<ut)break;it-=ft}return ot}async readFromStream(j,H,et){const it=this.s.read(et);if(it)return j.set(it,H),it.length;{const ot={buffer:j,offset:H,length:et,deferred:new g.Deferred};return this.deferred=ot.deferred,this.s.once("readable",()=>{this.readDeferred(ot)}),ot.deferred.promise}}readDeferred(j){const H=this.s.read(j.length);H?(j.buffer.set(H,j.offset),j.deferred.resolve(H.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(j)})}reject(j){this.endOfStream=!0,this.deferred&&(this.deferred.reject(j),this.deferred=null)}}}(StreamReader),function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.StreamReader=d.EndOfStreamError=void 0;var m=EndOfFileStream;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return m.EndOfStreamError}});var g=StreamReader;Object.defineProperty(d,"StreamReader",{enumerable:!0,get:function(){return g.StreamReader}})}(lib),Object.defineProperty(AbstractTokenizer$1,"__esModule",{value:!0}),AbstractTokenizer$1.AbstractTokenizer=void 0;const peek_readable_1$2=lib;class AbstractTokenizer{constructor(m){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=m||{}}async readToken(m,g=this.position){const w=Buffer.alloc(m.len);if(await this.readBuffer(w,{position:g})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(w,0)}async peekToken(m,g=this.position){const w=Buffer.alloc(m.len);if(await this.peekBuffer(w,{position:g})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(w,0)}async readNumber(m){if(await this.readBuffer(this.numBuffer,{length:m.len})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(this.numBuffer,0)}async peekNumber(m){if(await this.peekBuffer(this.numBuffer,{length:m.len})<m.len)throw new peek_readable_1$2.EndOfStreamError;return m.get(this.numBuffer,0)}async ignore(m){if(this.fileInfo.size!==void 0){const g=this.fileInfo.size-this.position;if(m>g)return this.position+=g,g}return this.position+=m,m}async close(){}normalizeOptions(m,g){if(g&&g.position!==void 0&&g.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return g?{mayBeLess:g.mayBeLess===!0,offset:g.offset?g.offset:0,length:g.length?g.length:m.length-(g.offset?g.offset:0),position:g.position?g.position:this.position}:{mayBeLess:!1,offset:0,length:m.length,position:this.position}}}AbstractTokenizer$1.AbstractTokenizer=AbstractTokenizer,Object.defineProperty(ReadStreamTokenizer$1,"__esModule",{value:!0}),ReadStreamTokenizer$1.ReadStreamTokenizer=void 0;const AbstractTokenizer_1$1=AbstractTokenizer$1,peek_readable_1$1=lib,maxBufferSize=256e3;class ReadStreamTokenizer extends AbstractTokenizer_1$1.AbstractTokenizer{constructor(m,g){super(g),this.streamReader=new peek_readable_1$1.StreamReader(m)}async getFileInfo(){return this.fileInfo}async readBuffer(m,g){const w=this.normalizeOptions(m,g),j=w.position-this.position;if(j>0)return await this.ignore(j),this.readBuffer(m,g);if(j<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(w.length===0)return 0;const H=await this.streamReader.read(m,w.offset,w.length);if(this.position+=H,(!g||!g.mayBeLess)&&H<w.length)throw new peek_readable_1$1.EndOfStreamError;return H}async peekBuffer(m,g){const w=this.normalizeOptions(m,g);let j=0;if(w.position){const H=w.position-this.position;if(H>0){const et=new Uint8Array(w.length+H);return j=await this.peekBuffer(et,{mayBeLess:w.mayBeLess}),m.set(et.subarray(H),w.offset),j-H}if(H<0)throw new Error("Cannot peek from a negative offset in a stream")}if(w.length>0){try{j=await this.streamReader.peek(m,w.offset,w.length)}catch(H){if(g&&g.mayBeLess&&H instanceof peek_readable_1$1.EndOfStreamError)return 0;throw H}if(!w.mayBeLess&&j<w.length)throw new peek_readable_1$1.EndOfStreamError}return j}async ignore(m){const g=Math.min(maxBufferSize,m),w=new Uint8Array(g);let j=0;for(;j<m;){const H=m-j,et=await this.readBuffer(w,{length:Math.min(g,H)});if(et<0)return et;j+=et}return j}}ReadStreamTokenizer$1.ReadStreamTokenizer=ReadStreamTokenizer;var BufferTokenizer$1={};Object.defineProperty(BufferTokenizer$1,"__esModule",{value:!0}),BufferTokenizer$1.BufferTokenizer=void 0;const peek_readable_1=lib,AbstractTokenizer_1=AbstractTokenizer$1;class BufferTokenizer extends AbstractTokenizer_1.AbstractTokenizer{constructor(m,g){super(g),this.uint8Array=m,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:m.length}async readBuffer(m,g){if(g&&g.position){if(g.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=g.position}const w=await this.peekBuffer(m,g);return this.position+=w,w}async peekBuffer(m,g){const w=this.normalizeOptions(m,g),j=Math.min(this.uint8Array.length-w.position,w.length);if(!w.mayBeLess&&j<w.length)throw new peek_readable_1.EndOfStreamError;return m.set(this.uint8Array.subarray(w.position,w.position+j),w.offset),j}async close(){}}BufferTokenizer$1.BufferTokenizer=BufferTokenizer,function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.fromBuffer=d.fromStream=d.EndOfStreamError=void 0;const m=ReadStreamTokenizer$1,g=BufferTokenizer$1;var w=lib;Object.defineProperty(d,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}}),d.fromStream=function(j,H){return H=H||{},new m.ReadStreamTokenizer(j,H)},d.fromBuffer=function(j,H){return new g.BufferTokenizer(j,H)}}(core$1);var util={stringToBytes:d=>[...d].map(m=>m.charCodeAt(0)),tarHeaderChecksumMatches:(d,m=0)=>{const g=parseInt(d.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(g))return!1;let w=256;for(let j=m;j<m+148;j++)w+=d[j];for(let j=m+156;j<m+512;j++)w+=d[j];return g===w},uint32SyncSafeToken:{get:(d,m)=>127&d[m+3]|d[m+2]<<7|d[m+1]<<14|d[m]<<21,len:4}},supported$1={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]};const Token=lib$1,strtok3=core$1,{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=util,supported=supported$1,minimumBytes=4100;async function fromStream(d){const m=await strtok3.fromStream(d);try{return await fromTokenizer(m)}finally{await m.close()}}async function fromBuffer(d){if(!(d instanceof Uint8Array||d instanceof ArrayBuffer||Buffer.isBuffer(d)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof d}\``);const m=d instanceof Buffer?d:Buffer.from(d);if(m&&m.length>1)return fromTokenizer(strtok3.fromBuffer(m))}function _check(d,m,g){g={offset:0,...g};for(const[w,j]of m.entries())if(g.mask){if(j!==(g.mask[w]&d[w+g.offset]))return!1}else if(j!==d[w+g.offset])return!1;return!0}async function fromTokenizer(d){try{return _fromTokenizer(d)}catch(m){if(!(m instanceof strtok3.EndOfStreamError))throw m}}async function _fromTokenizer(d){let m=Buffer.alloc(minimumBytes);const g=(j,H)=>_check(m,j,H),w=(j,H)=>g(stringToBytes(j),H);if(d.fileInfo.size||(d.fileInfo.size=Number.MAX_SAFE_INTEGER),await d.peekBuffer(m,{length:12,mayBeLess:!0}),g([66,77]))return{ext:"bmp",mime:"image/bmp"};if(g([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(g([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(g([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(g([37,33]))return await d.peekBuffer(m,{length:24,mayBeLess:!0}),w("PS-Adobe-",{offset:2})&&w(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(g([31,160])||g([31,157]))return{ext:"Z",mime:"application/x-compress"};if(g([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(g([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(g([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(g([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(w("ID3")){await d.ignore(6);const j=await d.readToken(uint32SyncSafeToken);return d.position+j>d.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await d.ignore(j),fromTokenizer(d))}if(w("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((m[0]===67||m[0]===70)&&g([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(g([71,73,70]))return{ext:"gif",mime:"image/gif"};if(w("FLIF"))return{ext:"flif",mime:"image/flif"};if(w("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(w("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(w("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(w("FORM"))return{ext:"aif",mime:"audio/aiff"};if(w("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(g([80,75,3,4])){try{for(;d.position+30<d.fileInfo.size;){await d.readBuffer(m,{length:30});const j={compressedSize:m.readUInt32LE(18),uncompressedSize:m.readUInt32LE(22),filenameLength:m.readUInt16LE(26),extraFieldLength:m.readUInt16LE(28)};if(j.filename=await d.readToken(new Token.StringType(j.filenameLength,"utf-8")),await d.ignore(j.extraFieldLength),j.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(j.filename.endsWith(".rels")||j.filename.endsWith(".xml"))switch(j.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(j.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(j.filename.startsWith("3D/")&&j.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(j.filename==="mimetype"&&j.compressedSize===j.uncompressedSize)switch(await d.readToken(new Token.StringType(j.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(j.compressedSize===0){let H=-1;for(;H<0&&d.position<d.fileInfo.size;)await d.peekBuffer(m,{mayBeLess:!0}),H=m.indexOf("504B0304",0,"hex"),await d.ignore(H>=0?H:m.length)}else await d.ignore(j.compressedSize)}}catch(j){if(!(j instanceof strtok3.EndOfStreamError))throw j}return{ext:"zip",mime:"application/zip"}}if(w("OggS")){await d.ignore(28);const j=Buffer.alloc(8);return await d.readBuffer(j),_check(j,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(j,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(j,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(j,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(j,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(j,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(g([80,75])&&(m[2]===3||m[2]===5||m[2]===7)&&(m[3]===4||m[3]===6||m[3]===8))return{ext:"zip",mime:"application/zip"};if(w("ftyp",{offset:4})&&96&m[8]){const j=m.toString("binary",8,12).replace("\0"," ").trim();switch(j){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return j.startsWith("3g")?j.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(w("MThd"))return{ext:"mid",mime:"audio/midi"};if(w("wOFF")&&(g([0,1,0,0],{offset:4})||w("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(w("wOF2")&&(g([0,1,0,0],{offset:4})||w("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(g([212,195,178,161])||g([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(w("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(w("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(w("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(g([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(w("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(w("%PDF")){await d.ignore(1350);const j=10485760,H=Buffer.alloc(Math.min(j,d.fileInfo.size));return await d.readBuffer(H,{mayBeLess:!0}),H.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(g([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(g([73,73,42,0]))return w("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:g([28,0,254,0],{offset:8})||g([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:g([8,0,0,0],{offset:4})&&(g([45,0,254,0],{offset:8})||g([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(m=Buffer.alloc(24),await d.peekBuffer(m),(g([16,251,134,1],{offset:4})||g([8,0,0,0],{offset:4}))&&g([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(g([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(w("MAC "))return{ext:"ape",mime:"audio/ape"};if(g([26,69,223,163])){async function j(){const ot=await d.peekNumber(Token.UINT8);let ut=128,ft=0;for(;!(ot&ut)&&ut!==0;)++ft,ut>>=1;const dt=Buffer.alloc(ft+1);return await d.readBuffer(dt),dt}async function H(){const ot=await j(),ut=await j();ut[0]^=128>>ut.length-1;const ft=Math.min(6,ut.length);return{id:ot.readUIntBE(0,ot.length),len:ut.readUIntBE(ut.length-ft,ft)}}async function et(ot,ut){for(;ut>0;){const ft=await H();if(ft.id===17026)return d.readToken(new Token.StringType(ft.len,"utf-8"));await d.ignore(ft.len),--ut}}const it=await H();switch(await et(0,it.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(g([82,73,70,70])){if(g([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(g([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(g([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(w("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(g([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(w("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(w("MSCF")||w("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(g([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(g([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(g([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(g([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(w("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(w("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(g([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(w("IMPM"))return{ext:"it",mime:"audio/x-it"};if(w("-lh0-",{offset:2})||w("-lh1-",{offset:2})||w("-lh2-",{offset:2})||w("-lh3-",{offset:2})||w("-lh4-",{offset:2})||w("-lh5-",{offset:2})||w("-lh6-",{offset:2})||w("-lh7-",{offset:2})||w("-lzs-",{offset:2})||w("-lz4-",{offset:2})||w("-lz5-",{offset:2})||w("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(g([0,0,1,186])){if(g([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(g([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(w("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(g([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(w("<?xml "))return{ext:"xml",mime:"application/xml"};if(g([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(g([82,97,114,33,26,7])&&(m[6]===0||m[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(w("solid "))return{ext:"stl",mime:"model/stl"};if(w("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(w("!<arch>"))return await d.ignore(8),await d.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(g([137,80,78,71,13,10,26,10])){async function j(){return{length:await d.readToken(Token.INT32_BE),type:await d.readToken(new Token.StringType(4,"binary"))}}await d.ignore(8);do{const H=await j();if(H.length<0)return;switch(H.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await d.ignore(H.length+4)}}while(d.position+8<d.fileInfo.size);return{ext:"png",mime:"image/png"}}if(g([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(g([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(g([102,114,101,101],{offset:4})||g([109,100,97,116],{offset:4})||g([109,111,111,118],{offset:4})||g([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(g([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(w("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(g([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(g([48,38,178,117,142,102,207,17,166,217])){async function j(){const H=Buffer.alloc(16);return await d.readBuffer(H),{id:H,size:Number(await d.readToken(Token.UINT64_LE))}}for(await d.ignore(30);d.position+24<d.fileInfo.size;){const H=await j();let et=H.size-24;if(_check(H.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const it=Buffer.alloc(16);if(et-=await d.readBuffer(it),_check(it,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(it,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await d.ignore(et)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(g([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((g([126,16,4])||g([126,24,4]))&&g([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(g([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(g([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await d.ignore(20),await d.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(g([255,10])||g([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(g([0,0,1,186])||g([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(g([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(g([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(g([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(g([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await d.peekBuffer(m,{length:Math.min(256,d.fileInfo.size),mayBeLess:!0}),w("BEGIN:")){if(w("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(w("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(w("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(w("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(w("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(g([4,0,0,0])&&m.length>=16){const j=m.readUInt32LE(12);if(j>12&&m.length>=j+16)try{const H=m.slice(16,j+16).toString();if(JSON.parse(H).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(g([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(w("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(g([71],{offset:4})&&(g([71],{offset:192})||g([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(g([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(g([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(g([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(g([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(g([76,80],{offset:34})&&(g([0,0,1],{offset:8})||g([1,0,2],{offset:8})||g([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(g([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await d.peekBuffer(m,{length:Math.min(512,d.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(m))return{ext:"tar",mime:"application/x-tar"};if(g([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(w("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(m.length>=2&&g([255,224],{offset:0,mask:[255,224]})){if(g([16],{offset:1,mask:[22]}))return g([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(g([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(g([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(g([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}const stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const d=new stream.PassThrough;let m;m=stream.pipeline?stream.pipeline(readableStream,d,()=>{}):readableStream.pipe(d);const g=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const w=await fromBuffer(g);d.fileType=w}catch(w){reject(w)}resolve(m)})}),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)});var core=fileType,fileType$1=getDefaultExportFromCjs(core);function to(d,m){return d.then(function(g){return[null,g]}).catch(function(g){return[g,void 0]})}const writeFile=async()=>{throw new Error("Not supported")};function Mime$1(){this._types=Object.create(null),this._extensions=Object.create(null);for(let d=0;d<arguments.length;d++)this.define(arguments[d]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime$1.prototype.define=function(d,m){for(let g in d){let w=d[g].map(function(j){return j.toLowerCase()});g=g.toLowerCase();for(let j=0;j<w.length;j++){const H=w[j];if(H[0]!=="*"){if(!m&&H in this._types)throw new Error('Attempt to change mapping for "'+H+'" extension from "'+this._types[H]+'" to "'+g+'". Pass `force=true` to allow this, otherwise remove "'+H+'" from the list of extensions for "'+g+'".');this._types[H]=g}}if(m||!this._extensions[g]){const j=w[0];this._extensions[g]=j[0]!=="*"?j:j.substr(1)}}},Mime$1.prototype.getType=function(d){let m=(d=String(d)).replace(/^.*[/\\]/,"").toLowerCase(),g=m.replace(/^.*\./,"").toLowerCase(),w=m.length<d.length;return(g.length<m.length-1||!w)&&this._types[g]||null},Mime$1.prototype.getExtension=function(d){return(d=/^\s*([^;\s]*)/.test(d)&&RegExp.$1)&&this._extensions[d.toLowerCase()]||null};var Mime_1=Mime$1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};let Mime=Mime_1;var lite=new Mime(standard),mime=getDefaultExportFromCjs(lite),HorizontalAlign,HorizontalAlign2,VerticalAlign,VerticalAlign2,BlendMode,BlendMode2;function srcOver(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a;return{r:(d.r*d.a+m.r*m.a*(1-d.a))/w,g:(d.g*d.a+m.g*m.a*(1-d.a))/w,b:(d.b*d.a+m.b*m.a*(1-d.a))/w,a:w}}function dstOver(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a;return{r:(m.r*m.a+d.r*d.a*(1-m.a))/w,g:(m.g*m.a+d.g*d.a*(1-m.a))/w,b:(m.b*m.a+d.b*d.a*(1-m.a))/w,a:w}}function multiply(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,j=d.r*d.a,H=d.g*d.a,et=d.b*d.a,it=m.r*m.a,ot=m.g*m.a,ut=m.b*m.a;return{r:(j*it+j*(1-m.a)+it*(1-d.a))/w,g:(H*ot+H*(1-m.a)+ot*(1-d.a))/w,b:(et*ut+et*(1-m.a)+ut*(1-d.a))/w,a:w}}function add(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,j=d.r*d.a,H=d.g*d.a,et=d.b*d.a;return{r:(j+m.r*m.a)/w,g:(H+m.g*m.a)/w,b:(et+m.b*m.a)/w,a:w}}function screen(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,j=d.r*d.a,H=d.g*d.a,et=d.b*d.a,it=m.r*m.a,ot=m.g*m.a,ut=m.b*m.a;return{r:(j*m.a+it*d.a-j*it+j*(1-m.a)+it*(1-d.a))/w,g:(H*m.a+ot*d.a-H*ot+H*(1-m.a)+ot*(1-d.a))/w,b:(et*m.a+ut*d.a-et*ut+et*(1-m.a)+ut*(1-d.a))/w,a:w}}function overlay(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,j=d.r*d.a,H=d.g*d.a,et=d.b*d.a,it=m.r*m.a,ot=m.g*m.a,ut=m.b*m.a;return{r:(2*it<=m.a?2*j*it+j*(1-m.a)+it*(1-d.a):j*(1+m.a)+it*(1+d.a)-2*it*j-m.a*d.a)/w,g:(2*ot<=m.a?2*H*ot+H*(1-m.a)+ot*(1-d.a):H*(1+m.a)+ot*(1+d.a)-2*ot*H-m.a*d.a)/w,b:(2*ut<=m.a?2*et*ut+et*(1-m.a)+ut*(1-d.a):et*(1+m.a)+ut*(1+d.a)-2*ut*et-m.a*d.a)/w,a:w}}function darken(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,j=d.r*d.a,H=d.g*d.a,et=d.b*d.a,it=m.r*m.a,ot=m.g*m.a,ut=m.b*m.a;return{r:(Math.min(j*m.a,it*d.a)+j*(1-m.a)+it*(1-d.a))/w,g:(Math.min(H*m.a,ot*d.a)+H*(1-m.a)+ot*(1-d.a))/w,b:(Math.min(et*m.a,ut*d.a)+et*(1-m.a)+ut*(1-d.a))/w,a:w}}function lighten(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,j=d.r*d.a,H=d.g*d.a,et=d.b*d.a,it=m.r*m.a,ot=m.g*m.a,ut=m.b*m.a;return{r:(Math.max(j*m.a,it*d.a)+j*(1-m.a)+it*(1-d.a))/w,g:(Math.max(H*m.a,ot*d.a)+H*(1-m.a)+ot*(1-d.a))/w,b:(Math.max(et*m.a,ut*d.a)+et*(1-m.a)+ut*(1-d.a))/w,a:w}}function hardLight(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,j=d.r*d.a,H=d.g*d.a,et=d.b*d.a,it=m.r*m.a,ot=m.g*m.a,ut=m.b*m.a;return{r:(2*j<=d.a?2*j*it+j*(1-m.a)+it*(1-d.a):j*(1+m.a)+it*(1+d.a)-2*it*j-m.a*d.a)/w,g:(2*H<=d.a?2*H*ot+H*(1-m.a)+ot*(1-d.a):H*(1+m.a)+ot*(1+d.a)-2*ot*H-m.a*d.a)/w,b:(2*et<=d.a?2*et*ut+et*(1-m.a)+ut*(1-d.a):et*(1+m.a)+ut*(1+d.a)-2*ut*et-m.a*d.a)/w,a:w}}function difference(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,j=d.r*d.a,H=d.g*d.a,et=d.b*d.a,it=m.r*m.a,ot=m.g*m.a,ut=m.b*m.a;return{r:(j+it-2*Math.min(j*m.a,it*d.a))/w,g:(H+ot-2*Math.min(H*m.a,ot*d.a))/w,b:(et+ut-2*Math.min(et*m.a,ut*d.a))/w,a:w}}function exclusion(d,m,g=1){d.a*=g;const w=m.a+d.a-m.a*d.a,j=d.r*d.a,H=d.g*d.a,et=d.b*d.a,it=m.r*m.a,ot=m.g*m.a,ut=m.b*m.a;return{r:(j*m.a+it*d.a-2*j*it+j*(1-m.a)+it*(1-d.a))/w,g:(H*m.a+ot*d.a-2*H*ot+H*(1-m.a)+ot*(1-d.a))/w,b:(et*m.a+ut*d.a-2*et*ut+et*(1-m.a)+ut*(1-d.a))/w,a:w}}HorizontalAlign2=HorizontalAlign||(HorizontalAlign={}),HorizontalAlign2[HorizontalAlign2.LEFT=1]="LEFT",HorizontalAlign2[HorizontalAlign2.CENTER=2]="CENTER",HorizontalAlign2[HorizontalAlign2.RIGHT=4]="RIGHT",VerticalAlign2=VerticalAlign||(VerticalAlign={}),VerticalAlign2[VerticalAlign2.TOP=8]="TOP",VerticalAlign2[VerticalAlign2.MIDDLE=16]="MIDDLE",VerticalAlign2[VerticalAlign2.BOTTOM=32]="BOTTOM",BlendMode2=BlendMode||(BlendMode={}),BlendMode2.SRC_OVER="srcOver",BlendMode2.DST_OVER="dstOver",BlendMode2.MULTIPLY="multiply",BlendMode2.ADD="add",BlendMode2.SCREEN="screen",BlendMode2.OVERLAY="overlay",BlendMode2.DARKEN="darken",BlendMode2.LIGHTEN="lighten",BlendMode2.HARD_LIGHT="hardLight",BlendMode2.DIFFERENCE="difference",BlendMode2.EXCLUSION="exclusion";const names=[srcOver,dstOver,multiply,add,screen,overlay,darken,lighten,hardLight,difference,exclusion];var compositeModes=Object.freeze({__proto__:null,add,darken,difference,dstOver,exclusion,hardLight,lighten,multiply,names,overlay,screen,srcOver});function composite(d,m,g=0,w=0,j={}){if(!(m instanceof d.constructor))throw new Error("The source must be a Jimp image");if(typeof g!="number"||typeof w!="number")throw new Error("x and y must be numbers");const{mode:H=BlendMode.SRC_OVER}=j;let{opacitySource:et=1,opacityDest:it=1}=j;(typeof et!="number"||et<0||et>1)&&(et=1),(typeof it!="number"||it<0||it>1)&&(it=1);const ot=compositeModes[H];return g=Math.round(g),w=Math.round(w),it!==1&&d.scan((ut,ft,dt)=>{const St=d.bitmap.data[dt+3]*it;d.bitmap.data[dt+3]=St}),m.scan((ut,ft,dt)=>{const St=d.getPixelIndex(g+ut,w+ft,Edge.CROP);if(St===-1)return;const Tt=ot({r:m.bitmap.data[dt+0]/255,g:m.bitmap.data[dt+1]/255,b:m.bitmap.data[dt+2]/255,a:m.bitmap.data[dt+3]/255},{r:d.bitmap.data[St+0]/255,g:d.bitmap.data[St+1]/255,b:d.bitmap.data[St+2]/255,a:d.bitmap.data[St+3]/255},et);d.bitmap.data[St+0]=limit255(255*Tt.r),d.bitmap.data[St+1]=limit255(255*Tt.g),d.bitmap.data[St+2]=limit255(255*Tt.b),d.bitmap.data[St+3]=limit255(255*Tt.a)}),d}var jpeg$1={parseSections:function(d,m){var g,w;for(d.setBigEndian(!0);d.remainingLength()>0&&w!==218;){if(d.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");g=(w=d.nextUInt8())>=208&&w<=217||w===218?0:d.nextUInt16()-2,m(w,d.branch(0,g)),d.skip(g)}},getSizeFromSOFSection:function(d){return d.skip(1),{height:d.nextUInt16(),width:d.nextUInt16()}},getSectionName:function(d){var m,g;switch(d){case 216:m="SOI";break;case 196:m="DHT";break;case 219:m="DQT";break;case 221:m="DRI";break;case 218:m="SOS";break;case 254:m="COM";break;case 217:m="EOI";break;default:d>=224&&d<=239?(m="APP",g=d-224):d>=192&&d<=207&&d!==196&&d!==200&&d!==204?(m="SOF",g=d-192):d>=208&&d<=215&&(m="RST",g=d-208)}var w={name:m};return typeof g=="number"&&(w.index=g),w}};function readExifValue(d,m){switch(d){case 1:return m.nextUInt8();case 3:case 8:return m.nextUInt16();case 4:case 9:return m.nextUInt32();case 5:return[m.nextUInt32(),m.nextUInt32()];case 6:return m.nextInt8();case 10:return[m.nextInt32(),m.nextInt32()];case 11:return m.nextFloat();case 12:return m.nextDouble();default:throw new Error("Invalid format while decoding: "+d)}}function getBytesPerComponent(d){switch(d){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function readExifTag(d,m){var g,w,j=m.nextUInt16(),H=m.nextUInt16(),et=getBytesPerComponent(H),it=m.nextUInt32(),ot=et*it;if(ot>4&&(m=d.openWithOffset(m.nextUInt32())),H===2){var ut=(g=m.nextString(it)).indexOf("\0");ut!==-1&&(g=g.substr(0,ut))}else if(H===7)g=m.nextBuffer(it);else if(H!==0)for(g=[],w=0;w<it;++w)g.push(readExifValue(H,m));return ot<4&&m.skip(4-ot),[j,g,H]}function readIFDSection(d,m,g){var w,j,H=m.nextUInt16();for(j=0;j<H;++j)g((w=readExifTag(d,m))[0],w[1],w[2])}function readHeader(d){if(d.nextString(6)!=="Exif\0\0")throw new Error("Invalid EXIF header");var m=d.mark(),g=d.nextUInt16();if(g===18761)d.setBigEndian(!1);else{if(g!==19789)throw new Error("Invalid TIFF header");d.setBigEndian(!0)}if(d.nextUInt16()!==42)throw new Error("Invalid TIFF data");return m}var exif$2={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(d,m){var g,w,j,H;try{g=readHeader(d)}catch{return!1}var et=g.openWithOffset(d.nextUInt32()),it=this.IFD0;readIFDSection(g,et,function(Rt,zt,$t){switch(Rt){case 34853:j=zt[0];break;case 34665:w=zt[0];break;default:m(it,Rt,zt,$t)}});var ot=et.nextUInt32();if(ot!==0){var ut=g.openWithOffset(ot);readIFDSection(g,ut,m.bind(null,this.IFD1))}if(j){var ft=g.openWithOffset(j);readIFDSection(g,ft,m.bind(null,this.GPSIFD))}if(w){var dt=g.openWithOffset(w),St=this.InteropIFD;readIFDSection(g,dt,function(Rt,zt,$t){Rt===40965?H=zt[0]:m(St,Rt,zt,$t)})}if(H){var Tt=g.openWithOffset(H);readIFDSection(g,Tt,m.bind(null,this.InteropIFD))}return!0}};function parseNumber(d){return parseInt(d,10)}var hours=3600,minutes=60;function parseDateTimeParts(d,m){d=d.map(parseNumber),m=m.map(parseNumber);var g=d[0],w=d[1]-1,j=d[2],H=m[0],et=m[1],it=m[2];return Date.UTC(g,w,j,H,et,it,0)/1e3}function parseDateWithTimezoneFormat(d){var m=d.substr(0,10).split("-"),g=d.substr(11,8).split(":"),w=d.substr(19,6).split(":").map(parseNumber),j=w[0]*hours+w[1]*minutes,H=parseDateTimeParts(m,g);if(typeof(H-=j)=="number"&&!isNaN(H))return H}function parseDateWithSpecFormat(d){var m=d.split(" "),g=parseDateTimeParts(m[0].split(":"),m[1].split(":"));if(typeof g=="number"&&!isNaN(g))return g}function parseExifDate(d){var m=d.length===19&&d.charAt(4)===":";return d.length===25&&d.charAt(10)==="T"?parseDateWithTimezoneFormat(d):m?parseDateWithSpecFormat(d):void 0}var date$1={parseDateWithSpecFormat,parseDateWithTimezoneFormat,parseExifDate},exif$1=exif$2,date=date$1,degreeTags=[{section:exif$1.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:exif$1.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],dateTags=[{section:exif$1.SubIFD,type:306,name:"ModifyDate"},{section:exif$1.SubIFD,type:36867,name:"DateTimeOriginal"},{section:exif$1.SubIFD,type:36868,name:"CreateDate"},{section:exif$1.SubIFD,type:306,name:"ModifyDate"}],simplify$1={castDegreeValues:function(d,m){degreeTags.forEach(function(g){var w=d(g);if(w){var j=d({section:g.section,type:g.refType,name:g.refName})===g.posVal?1:-1,H=(w[0]+w[1]/60+w[2]/3600)*j;m(g,H)}})},castDateValues:function(d,m){dateTags.forEach(function(g){var w=d(g);if(w){var j=date.parseExifDate(w);j!==void 0&&m(g,j)}})},simplifyValue:function(d,m){return Array.isArray(d)&&(d=d.map(function(g){return m===10||m===5?g[0]/g[1]:g})).length===1&&(d=d[0]),d}},exifTags,hasRequiredExifTags;function requireExifTags(){return hasRequiredExifTags?exifTags:(hasRequiredExifTags=1,exifTags={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}})}var jpeg=jpeg$1,exif=exif$2,simplify=simplify$1;function ExifResult(d,m,g,w,j,H,et){this.startMarker=d,this.tags=m,this.imageSize=g,this.thumbnailOffset=w,this.thumbnailLength=j,this.thumbnailType=H,this.app1Offset=et}function Parser$1(d){this.stream=d,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}ExifResult.prototype={hasThumbnail:function(d){return!(!this.thumbnailOffset||!this.thumbnailLength)&&(typeof d!="string"||(d.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:d.toLowerCase().trim()==="image/tiff"&&this.thumbnailType===1))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var d,m=this._getThumbnailStream();return jpeg.parseSections(m,function(g,w){jpeg.getSectionName(g).name==="SOF"&&(d=jpeg.getSizeFromSOFSection(w))}),d}},Parser$1.prototype={enableBinaryFields:function(d){return this.flags.readBinaryTags=!!d,this},enablePointers:function(d){return this.flags.hidePointers=!d,this},enableTagNames:function(d){return this.flags.resolveTagNames=!!d,this},enableImageSize:function(d){return this.flags.imageSize=!!d,this},enableReturnTags:function(d){return this.flags.returnTags=!!d,this},enableSimpleValues:function(d){return this.flags.simplifyValues=!!d,this},parse:function(){var d,m,g,w,j,H,et,it,ot,ut=this.stream.mark(),ft=ut.openWithOffset(0),dt=this.flags;return dt.resolveTagNames&&(et=requireExifTags()),dt.resolveTagNames?(d={},it=function(St){return d[St.name]},ot=function(St,Tt){d[St.name]=Tt}):(d=[],it=function(St){var Tt;for(Tt=0;Tt<d.length;++Tt)if(d[Tt].type===St.type&&d[Tt].section===St.section)return d.value},ot=function(St,Tt){var Rt;for(Rt=0;Rt<d.length;++Rt)if(d[Rt].type===St.type&&d[Rt].section===St.section)return void(d.value=Tt)}),jpeg.parseSections(ft,function(St,Tt){var Rt=Tt.offsetFrom(ut);St===225?exif.parseTags(Tt,function(zt,$t,Ht,jt){if(dt.readBinaryTags||jt!==7){if($t===513){if(g=Ht[0],dt.hidePointers)return}else if($t===514){if(w=Ht[0],dt.hidePointers)return}else if($t===259&&(j=Ht[0],dt.hidePointers))return;if(dt.returnTags)if(dt.simplifyValues&&(Ht=simplify.simplifyValue(Ht,jt)),dt.resolveTagNames){var Ft=(zt===exif.GPSIFD?et.gps:et.exif)[$t];Ft||(Ft=et.exif[$t]),d.hasOwnProperty(Ft)||(d[Ft]=Ht)}else d.push({section:zt,type:$t,value:Ht})}})&&(H=Rt):dt.imageSize&&jpeg.getSectionName(St).name==="SOF"&&(m=jpeg.getSizeFromSOFSection(Tt))}),dt.simplifyValues&&(simplify.castDegreeValues(it,ot),simplify.castDateValues(it,ot)),new ExifResult(ut,d,m,g,w,j,H)}};var parser=Parser$1,domBufferstream,hasRequiredDomBufferstream,bufferstream,hasRequiredBufferstream;function requireDomBufferstream(){if(hasRequiredDomBufferstream)return domBufferstream;function d(m,g,w,j,H,et){this.global=H,g=g||0,w=w||m.byteLength-g,this.arrayBuffer=m.slice(g,g+w),this.view=new H.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(j),this.offset=0,this.parentOffset=(et||0)+g}return hasRequiredDomBufferstream=1,d.prototype={setBigEndian:function(m){this.littleEndian=!m},nextUInt8:function(){var m=this.view.getUint8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.view.getInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,m},nextUInt32:function(){var m=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,m},nextInt16:function(){var m=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,m},nextInt32:function(){var m=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,m},nextFloat:function(){var m=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,m},nextDouble:function(){var m=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,m},nextBuffer:function(m){var g=this.arrayBuffer.slice(this.offset,this.offset+m);return this.offset+=m,g},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(m){var g=this.arrayBuffer.slice(this.offset,this.offset+m);return g=String.fromCharCode.apply(null,new this.global.Uint8Array(g)),this.offset+=m,g},mark:function(){var m=this;return{openWithOffset:function(g){return g=(g||0)+this.offset,new d(m.arrayBuffer,g,m.arrayBuffer.byteLength-g,!m.littleEndian,m.global,m.parentOffset)},offset:this.offset,getParentOffset:function(){return m.parentOffset}}},offsetFrom:function(m){return this.parentOffset+this.offset-(m.offset+m.getParentOffset())},skip:function(m){this.offset+=m},branch:function(m,g){return g=typeof g=="number"?g:this.arrayBuffer.byteLength-(this.offset+m),new d(this.arrayBuffer,this.offset+m,g,!this.littleEndian,this.global,this.parentOffset)}},domBufferstream=d}function requireBufferstream(){if(hasRequiredBufferstream)return bufferstream;function d(m,g,w,j){this.buffer=m,this.offset=g||0,w=typeof w=="number"?w:m.length,this.endPosition=this.offset+w,this.setBigEndian(j)}return hasRequiredBufferstream=1,d.prototype={setBigEndian:function(m){this.bigEndian=!!m},nextUInt8:function(){var m=this.buffer.readUInt8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.buffer.readInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,m},nextUInt32:function(){var m=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,m},nextInt16:function(){var m=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,m},nextInt32:function(){var m=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,m},nextFloat:function(){var m=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,m},nextDouble:function(){var m=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,m},nextBuffer:function(m){var g=this.buffer.slice(this.offset,this.offset+m);return this.offset+=m,g},remainingLength:function(){return this.endPosition-this.offset},nextString:function(m){var g=this.buffer.toString("utf8",this.offset,this.offset+m);return this.offset+=m,g},mark:function(){var m=this;return{openWithOffset:function(g){return g=(g||0)+this.offset,new d(m.buffer,g,m.endPosition-g,m.bigEndian)},offset:this.offset}},offsetFrom:function(m){return this.offset-m.offset},skip:function(m){this.offset+=m},branch:function(m,g){return g=typeof g=="number"?g:this.endPosition-(this.offset+m),new d(this.buffer,this.offset+m,g,this.bigEndian)}},bufferstream=d}var Parser=parser;function getGlobal(){return(0,eval)("this")}var exifParser={create:function(d,m){if(d instanceof(m=m||getGlobal()).ArrayBuffer){var g=requireDomBufferstream();return new Parser(new g(d,0,d.byteLength,!0,m))}var w=requireBufferstream();return new Parser(new w(d,0,d.length,!0))}},EXIFParser=getDefaultExportFromCjs(exifParser);function getExifOrientation(d){const m=d._exif;return m&&m.tags&&m.tags.Orientation||1}function getExifOrientationTransformation(d){const m=d.bitmap.width,g=d.bitmap.height;switch(getExifOrientation(d)){case 1:default:return null;case 2:return function(w,j){return[m-w-1,j]};case 3:return function(w,j){return[m-w-1,g-j-1]};case 4:return function(w,j){return[w,g-j-1]};case 5:return function(w,j){return[j,w]};case 6:return function(w,j){return[j,g-w-1]};case 7:return function(w,j){return[m-j-1,g-w-1]};case 8:return function(w,j){return[m-j-1,w]}}}function transformBitmap(d,m,g,w){const j=d.bitmap.data,H=d.bitmap.width,et=Buffer.alloc(j.length);for(let it=0;it<m;it++)for(let ot=0;ot<g;ot++){const[ut,ft]=w(it,ot),dt=m*ot+it<<2,St=H*ft+ut<<2,Tt=j.readUInt32BE(St);et.writeUInt32BE(Tt,dt)}d.bitmap.data=et,d.bitmap.width=m,d.bitmap.height=g,d._exif.tags.Orientation=1}function exifRotate(d){if(getExifOrientation(d)<2)return;const m=getExifOrientationTransformation(d),g=getExifOrientation(d)>4,w=g?d.bitmap.height:d.bitmap.width,j=g?d.bitmap.width:d.bitmap.height;m&&transformBitmap(d,w,j,m)}async function attemptExifRotate(d,m){try{d._exif=EXIFParser.create(m).parse(),exifRotate(d)}catch{}}var __defProp$2=Object.defineProperty,__defNormalProp$2=(d,m,g)=>m in d?__defProp$2(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__publicField$2=(d,m,g)=>__defNormalProp$2(d,typeof m!="symbol"?m+"":m,g);const emptyBitmap={data:Buffer.alloc(0),width:0,height:0};function bufferFromArrayBuffer(d){const m=Buffer.alloc(d.byteLength),g=new Uint8Array(d);for(let w=0;w<m.length;++w)m[w]=g[w];return m}function createJimp({plugins:d,formats:m}={}){const g=d||[],w=(m||[]).map(H=>H()),j=class{constructor(H=emptyBitmap){if(__publicField$2(this,"bitmap",emptyBitmap),__publicField$2(this,"background",0),__publicField$2(this,"formats",[]),__publicField$2(this,"mime"),this.formats=w,"data"in H)this.bitmap=H;else if(this.bitmap={data:Buffer.alloc(H.width*H.height*4),width:H.width,height:H.height},H.color){this.background=typeof H.color=="string"?cssColorToHex(H.color):H.color;for(let et=0;et<this.bitmap.data.length;et+=4)this.bitmap.data.writeUInt32BE(this.background,et)}for(const et of g)for(const it in et)this[it]=(...ot)=>{var ft;const ut=(ft=et[it])==null?void 0:ft.call(et,this,...ot);return typeof ut=="object"&&"bitmap"in ut?(this.bitmap=ut.bitmap,this):ut}}static async read(H,et){if(Buffer.isBuffer(H)||H instanceof ArrayBuffer)return this.fromBuffer(H);const[it,ot]=await to(fetch(H));if(it)throw new Error(`Could not load Buffer from URL: ${H}`);if(!ot.ok)throw new Error(`HTTP Status ${ot.status} for url ${H}`);const[ut,ft]=await to(ot.arrayBuffer());if(ut)throw new Error(`Could not load Buffer from ${H}`);const dt=bufferFromArrayBuffer(ft);return this.fromBuffer(dt,et)}static fromBitmap(H){let et;if(H.data instanceof Buffer&&(et=Buffer.from(H.data)),(H.data instanceof Uint8Array||H.data instanceof Uint8ClampedArray)&&(et=Buffer.from(H.data.buffer)),Array.isArray(H.data)&&(et=Buffer.concat(H.data.map(it=>Buffer.from(it.toString(16).padStart(8,"0"),"hex")))),!et)throw new Error("data must be a Buffer");if(typeof H.height!="number"||typeof H.width!="number")throw new Error("bitmap must have width and height");return new j({height:H.height,width:H.width,data:et})}static async fromBuffer(H,et){const it=H instanceof ArrayBuffer?bufferFromArrayBuffer(H):H,ot=await fileType$1.fromBuffer(it);if(!ot||!ot.mime)throw new Error("Could not find MIME for Buffer");const ut=w.find(dt=>dt.mime===ot.mime);if(!ut||!ut.decode)throw new Error(`Mime type ${ot.mime} does not support decoding`);const ft=new j(await ut.decode(it,et==null?void 0:et[ut.mime]));return ft.mime=ot.mime,attemptExifRotate(ft,it),ft}inspect(){return"<Jimp "+(this.bitmap===emptyBitmap?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}toString(){return"[object Jimp]"}get width(){return this.bitmap.width}get height(){return this.bitmap.height}async getBuffer(H,et){const it=this.formats.find(ut=>ut.mime===H);if(!it||!it.encode)throw new Error(`Unsupported MIME type: ${H}`);let ot;return it.hasAlpha?ot=this:(ot=new j({width:this.bitmap.width,height:this.bitmap.height,color:this.background}),composite(ot,this)),it.encode(ot.bitmap,et)}async getBase64(H,et){return"data:"+H+";base64,"+(await this.getBuffer(H,et)).toString("base64")}async write(H,et){const it=mime.getType(H);await writeFile(H,await this.getBuffer(it,et))}clone(){return new j({...this.bitmap,data:Buffer.from(this.bitmap.data)})}getPixelIndex(H,et,it){let ot,ut;if(it||(it=Edge.EXTEND),typeof H!="number"||typeof et!="number")throw new Error("x and y must be numbers");ot=H=Math.round(H),ut=et=Math.round(et),it===Edge.EXTEND&&(H<0&&(ot=0),H>=this.bitmap.width&&(ot=this.bitmap.width-1),et<0&&(ut=0),et>=this.bitmap.height&&(ut=this.bitmap.height-1)),it===Edge.WRAP&&(H<0&&(ot=this.bitmap.width+H),H>=this.bitmap.width&&(ot=H%this.bitmap.width),et<0&&(ut=this.bitmap.height+et),et>=this.bitmap.height&&(ut=et%this.bitmap.height));let ft=this.bitmap.width*ut+ot<<2;return(ot<0||ot>=this.bitmap.width)&&(ft=-1),(ut<0||ut>=this.bitmap.height)&&(ft=-1),ft}getPixelColor(H,et){if(typeof H!="number"||typeof et!="number")throw new Error("x and y must be numbers");const it=this.getPixelIndex(H,et);return this.bitmap.data.readUInt32BE(it)}setPixelColor(H,et,it){if(typeof H!="number"||typeof et!="number"||typeof it!="number")throw new Error("hex, x and y must be numbers");const ot=this.getPixelIndex(et,it);return this.bitmap.data.writeUInt32BE(H,ot),this}hasAlpha(){const{width:H,height:et,data:it}=this.bitmap,ot=H*et<<2;for(let ut=3;ut<ot;ut+=4)if(it[ut]!==255)return!0;return!1}composite(H,et=0,it=0,ot={}){return composite(this,H,et,it,ot)}scan(H,et,it,ot,ut){return scan(this,H,et,it,ot,ut)}scanIterator(H=0,et=0,it=this.bitmap.width,ot=this.bitmap.height){if(typeof H!="number"||typeof et!="number")throw new Error("x and y must be numbers");if(typeof it!="number"||typeof ot!="number")throw new Error("w and h must be numbers");return scanIterator(this,H,et,it,ot)}};return j}var ResizeStrategy,ResizeStrategy2;function Resize(d,m,g,w,j,H,et){this.widthOriginal=Math.abs(Math.floor(d)||0),this.heightOriginal=Math.abs(Math.floor(m)||0),this.targetWidth=Math.abs(Math.floor(g)||0),this.targetHeight=Math.abs(Math.floor(w)||0),this.colorChannels=j?4:3,this.interpolationPass=!!H,this.resizeCallback=typeof et=="function"?et:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}ResizeStrategy2=ResizeStrategy||(ResizeStrategy={}),ResizeStrategy2.NEAREST_NEIGHBOR="nearestNeighbor",ResizeStrategy2.BILINEAR="bilinearInterpolation",ResizeStrategy2.BICUBIC="bicubicInterpolation",ResizeStrategy2.HERMITE="hermiteInterpolation",ResizeStrategy2.BEZIER="bezierInterpolation",Resize.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw console.log(this),new Error("Invalid settings specified for the resizer.");this.configurePasses()},Resize.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},Resize.prototype._resizeWidthInterpolatedRGBChannels=function(d,m){const g=m?4:3,w=this.ratioWeightWidthPass,j=this.widthBuffer;let H,et,it=0,ot=0,ut=0,ft=0,dt=0;for(H=0;it<1/3;H+=g,it+=w)for(ot=H,ut=0;ot<this.widthPassResultSize;ut+=this.originalWidthMultipliedByChannels,ot+=this.targetWidthMultipliedByChannels)j[ot]=d[ut],j[ot+1]=d[ut+1],j[ot+2]=d[ut+2],m&&(j[ot+3]=d[ut+3]);for(it-=1/3,et=this.widthOriginal-1;it<et;H+=g,it+=w)for(dt=it%1,ft=1-dt,ot=H,ut=Math.floor(it)*g;ot<this.widthPassResultSize;ut+=this.originalWidthMultipliedByChannels,ot+=this.targetWidthMultipliedByChannels)j[ot+0]=d[ut+0]*ft+d[ut+g+0]*dt,j[ot+1]=d[ut+1]*ft+d[ut+g+1]*dt,j[ot+2]=d[ut+2]*ft+d[ut+g+2]*dt,m&&(j[ot+3]=d[ut+3]*ft+d[ut+g+3]*dt);for(et=this.originalWidthMultipliedByChannels-g;H<this.targetWidthMultipliedByChannels;H+=g)for(ot=H,ut=et;ot<this.widthPassResultSize;ut+=this.originalWidthMultipliedByChannels,ot+=this.targetWidthMultipliedByChannels)j[ot]=d[ut],j[ot+1]=d[ut+1],j[ot+2]=d[ut+2],m&&(j[ot+3]=d[ut+3]);return j},Resize.prototype._resizeWidthRGBChannels=function(d,m){const g=m?4:3,w=this.ratioWeightWidthPass,j=1/w,H=this.originalWidthMultipliedByChannels-g+1,et=this.targetWidthMultipliedByChannels-g+1,it=this.outputWidthWorkBench,ot=this.widthBuffer,ut=this.outputWidthWorkBenchOpaquePixelsCount;let ft=0,dt=0,St=0,Tt=0,Rt=0,zt=0,$t=0,Ht=1,jt=0,Ft=0,Dt=0,Yt=0;do{for(Rt=0;Rt<this.originalHeightMultipliedByChannels;)it[Rt++]=0,it[Rt++]=0,it[Rt++]=0,m&&(it[Rt++]=0,ut[Rt/g-1]=0);ft=w;do{for(dt=1+St-Tt,Ht=Math.min(ft,dt),Rt=0,zt=St;Rt<this.originalHeightMultipliedByChannels;zt+=H)jt=d[zt],Ft=d[++zt],Dt=d[++zt],Yt=m?d[++zt]:255,it[Rt++]+=(Yt?jt:0)*Ht,it[Rt++]+=(Yt?Ft:0)*Ht,it[Rt++]+=(Yt?Dt:0)*Ht,m&&(it[Rt++]+=Yt*Ht,ut[Rt/g-1]+=Yt?Ht:0);if(!(ft>=dt)){Tt+=ft;break}St+=g,Tt=St,ft-=dt}while(ft>0&&St<this.originalWidthMultipliedByChannels);for(Rt=0,zt=$t;Rt<this.originalHeightMultipliedByChannels;zt+=et)ft=m?ut[Rt/g]:1,Ht=m?ft?1/ft:0:j,ot[zt]=it[Rt++]*Ht,ot[++zt]=it[Rt++]*Ht,ot[++zt]=it[Rt++]*Ht,m&&(ot[++zt]=it[Rt++]*j);$t+=g}while($t<this.targetWidthMultipliedByChannels);return ot},Resize.prototype._resizeHeightRGBChannels=function(d,m){const g=this.ratioWeightHeightPass,w=1/g,j=this.outputHeightWorkBench,H=this.heightBuffer,et=this.outputHeightWorkBenchOpaquePixelsCount;let it=0,ot=0,ut=0,ft=0,dt=0,St=0,Tt=0,Rt=1,zt=0,$t=0,Ht=0,jt=0;do{for(dt=0;dt<this.targetWidthMultipliedByChannels;)j[dt++]=0,j[dt++]=0,j[dt++]=0,m&&(j[dt++]=0,et[dt/4-1]=0);it=g;do{for(ot=1+ut-ft,Rt=Math.min(it,ot),Tt=ut,dt=0;dt<this.targetWidthMultipliedByChannels;)zt=d[Tt++],$t=d[Tt++],Ht=d[Tt++],jt=m?d[Tt++]:255,j[dt++]+=(jt?zt:0)*Rt,j[dt++]+=(jt?$t:0)*Rt,j[dt++]+=(jt?Ht:0)*Rt,m&&(j[dt++]+=jt*Rt,et[dt/4-1]+=jt?Rt:0);if(!(it>=ot)){ft+=it;break}ut=Tt,ft=ut,it-=ot}while(it>0&&ut<this.widthPassResultSize);for(dt=0;dt<this.targetWidthMultipliedByChannels;)it=m?et[dt/4]:1,Rt=m?it?1/it:0:w,H[St++]=Math.round(j[dt++]*Rt),H[St++]=Math.round(j[dt++]*Rt),H[St++]=Math.round(j[dt++]*Rt),m&&(H[St++]=Math.round(j[dt++]*w))}while(St<this.finalResultSize);return H},Resize.prototype.resizeWidthInterpolatedRGB=function(d){return this._resizeWidthInterpolatedRGBChannels(d,!1)},Resize.prototype.resizeWidthInterpolatedRGBA=function(d){return this._resizeWidthInterpolatedRGBChannels(d,!0)},Resize.prototype.resizeWidthRGB=function(d){return this._resizeWidthRGBChannels(d,!1)},Resize.prototype.resizeWidthRGBA=function(d){return this._resizeWidthRGBChannels(d,!0)},Resize.prototype.resizeHeightInterpolated=function(d){const m=this.ratioWeightHeightPass,g=this.heightBuffer;let w,j=0,H=0,et=0,it=0,ot=0,ut=0,ft=0;for(;j<1/3;j+=m)for(et=0;et<this.targetWidthMultipliedByChannels;)g[H++]=Math.round(d[et++]);for(j-=1/3,w=this.heightOriginal-1;j<w;j+=m)for(ft=j%1,ut=1-ft,it=Math.floor(j)*this.targetWidthMultipliedByChannels,ot=it+this.targetWidthMultipliedByChannels,et=0;et<this.targetWidthMultipliedByChannels;++et)g[H++]=Math.round(d[it++]*ut+d[ot++]*ft);for(;H<this.finalResultSize;)for(et=0,it=w*this.targetWidthMultipliedByChannels;et<this.targetWidthMultipliedByChannels;++et)g[H++]=Math.round(d[it++]);return g},Resize.prototype.resizeHeightRGB=function(d){return this._resizeHeightRGBChannels(d,!1)},Resize.prototype.resizeHeightRGBA=function(d){return this._resizeHeightRGBChannels(d,!0)},Resize.prototype.resize=function(d){this.resizeCallback(this.resizeHeight(this.resizeWidth(d)))},Resize.prototype.bypassResizer=function(d){return d},Resize.prototype.initializeFirstPassBuffers=function(d){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),d||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},Resize.prototype.initializeSecondPassBuffers=function(d){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),d||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},Resize.prototype.generateFloatBuffer=function(d){try{return new Float32Array(d)}catch(m){return console.error(m),[]}},Resize.prototype.generateFloat64Buffer=function(d){try{return new Float64Array(d)}catch(m){return console.error(m),[]}},Resize.prototype.generateUint8Buffer=function(d){try{return new Uint8Array(d)}catch(m){return console.error(m),[]}};const operations={nearestNeighbor(d,m){const g=d.width,w=d.height,j=m.width,H=m.height,et=d.data,it=m.data;for(let ot=0;ot<H;ot++)for(let ut=0;ut<j;ut++){let ft=4*(ot*j+ut),dt=4*(Math.floor(ot*w/H)*g+Math.floor(ut*g/j));it[ft++]=et[dt++],it[ft++]=et[dt++],it[ft++]=et[dt++],it[ft++]=et[dt++]}},bilinearInterpolation(d,m){const g=d.width,w=d.height,j=m.width,H=m.height,et=d.data,it=m.data,ot=function(ft,dt,St,Tt,Rt){return dt===Tt?St:Math.round((ft-dt)*Rt+(Tt-ft)*St)},ut=function(ft,dt,St,Tt,Rt,zt,$t,Ht){let jt=4*($t*g+Tt)+dt,Ft=4*($t*g+Rt)+dt;const Dt=ot(St,Tt,et[jt],Rt,et[Ft]);if(Ht===$t)it[ft+dt]=Dt;else{jt=4*(Ht*g+Tt)+dt,Ft=4*(Ht*g+Rt)+dt;const Yt=ot(St,Tt,et[jt],Rt,et[Ft]);it[ft+dt]=ot(zt,$t,Dt,Ht,Yt)}};for(let ft=0;ft<H;ft++)for(let dt=0;dt<j;dt++){const St=4*(ft*j+dt),Tt=dt*g/j,Rt=Math.floor(Tt),zt=Math.min(Math.ceil(Tt),g-1),$t=ft*w/H,Ht=Math.floor($t),jt=Math.min(Math.ceil($t),w-1);ut(St,0,Tt,Rt,zt,$t,Ht,jt),ut(St,1,Tt,Rt,zt,$t,Ht,jt),ut(St,2,Tt,Rt,zt,$t,Ht,jt),ut(St,3,Tt,Rt,zt,$t,Ht,jt)}},_interpolate2D(d,m,g,w){const j=d.data,H=m.data,et=d.width,it=d.height,ot=m.width,ut=m.height,ft=Math.max(1,Math.floor(et/ot)),dt=ot*ft,St=Math.max(1,Math.floor(it/ut)),Tt=ut*St,Rt=Buffer.alloc(dt*it*4);for(let Ht=0;Ht<it;Ht++)for(let jt=0;jt<dt;jt++){const Ft=jt*(et-1)/dt,Dt=Math.floor(Ft),Yt=Ft-Dt,ne=4*(Ht*et+Dt),Kt=4*(Ht*dt+jt);for(let re=0;re<4;re++){const ee=ne+re,oe=Dt>0?j[ee-4]:2*j[ee]-j[ee+4],Ut=j[ee],ie=j[ee+4],ge=Dt<et-2?j[ee+8]:2*j[ee+4]-j[ee];Rt[Kt+re]=w(oe,Ut,ie,ge,Yt)}}const zt=Buffer.alloc(dt*Tt*4);for(let Ht=0;Ht<Tt;Ht++)for(let jt=0;jt<dt;jt++){const Ft=Ht*(it-1)/Tt,Dt=Math.floor(Ft),Yt=Ft-Dt,ne=4*(Dt*dt+jt),Kt=4*(Ht*dt+jt);for(let re=0;re<4;re++){const ee=ne+re,oe=Dt>0?Rt[ee-4*dt]:2*Rt[ee]-Rt[ee+4*dt],Ut=Rt[ee],ie=Rt[ee+4*dt],ge=Dt<it-2?Rt[ee+8*dt]:2*Rt[ee+4*dt]-Rt[ee];zt[Kt+re]=w(oe,Ut,ie,ge,Yt)}}const $t=ft*St;if($t>1)for(let Ht=0;Ht<ut;Ht++)for(let jt=0;jt<ot;jt++){let Ft=0,Dt=0,Yt=0,ne=0,Kt=0;for(let ee=0;ee<St;ee++){const oe=Ht*St+ee;for(let Ut=0;Ut<ft;Ut++){const ie=4*(oe*dt+(jt*ft+Ut)),ge=zt[ie+3];ge&&(Ft+=zt[ie],Dt+=zt[ie+1],Yt+=zt[ie+2],Kt++),ne+=ge}}const re=4*(Ht*ot+jt);H[re]=Kt?Math.round(Ft/Kt):0,H[re+1]=Kt?Math.round(Dt/Kt):0,H[re+2]=Kt?Math.round(Yt/Kt):0,H[re+3]=Math.round(ne/$t)}else m.data=zt},bicubicInterpolation(d,m,g){return this._interpolate2D(d,m,g,function(w,j,H,et,it){const ot=et-H-w+j,ut=w-j-ot,ft=H-w,dt=j;return Math.max(0,Math.min(255,ot*(it*it*it)+ut*(it*it)+ft*it+dt))})},hermiteInterpolation(d,m,g){return this._interpolate2D(d,m,g,function(w,j,H,et,it){const ot=j,ut=.5*(H-w),ft=w-2.5*j+2*H-.5*et,dt=.5*(et-w)+1.5*(j-H);return Math.max(0,Math.min(255,Math.round(((dt*it+ft)*it+ut)*it+ot)))})},bezierInterpolation(d,m,g){return this._interpolate2D(d,m,g,function(w,j,H,et,it){const ot=1-it,ut=j*ot*ot*ot,ft=3*(j+(H-w)/4)*ot*ot*it,dt=3*(H-(et-j)/4)*ot*it*it,St=H*it*it*it;return Math.max(0,Math.min(255,Math.round(ut+ft+dt+St)))})}},ResizeOptionsSchema=z$1.union([z$1.object({w:z$1.number().min(0),h:z$1.number().min(0).optional(),mode:z$1.nativeEnum(ResizeStrategy).optional()}),z$1.object({w:z$1.number().min(0).optional(),h:z$1.number().min(0),mode:z$1.nativeEnum(ResizeStrategy).optional()})]),ScaleToFitOptionsSchema=z$1.object({w:z$1.number().min(0),h:z$1.number().min(0),mode:z$1.nativeEnum(ResizeStrategy).optional()}),ScaleComplexOptionsSchema=z$1.object({f:z$1.number().min(0),mode:z$1.nativeEnum(ResizeStrategy).optional()}),methods$d={resize(d,m){const{mode:g}=ResizeOptionsSchema.parse(m);let w,j;if(typeof m.w=="number")w=m.w,j=m.h??d.bitmap.height*(w/d.bitmap.width);else{if(typeof m.h!="number")throw new Error("w must be a number");j=m.h,w=m.w??d.bitmap.width*(j/d.bitmap.height)}if(w=Math.round(w)||1,j=Math.round(j)||1,g&&typeof operations[g]=="function"){const H={data:Buffer.alloc(w*j*4),width:w,height:j};operations[g](d.bitmap,H),d.bitmap=H}else new Resize(d.bitmap.width,d.bitmap.height,w,j,!0,!0,H=>{d.bitmap.data=Buffer.from(H),d.bitmap.width=w,d.bitmap.height=j}).resize(d.bitmap.data);return d},scale(d,m){const{f:g,mode:w}=typeof m=="number"?{f:m}:ScaleComplexOptionsSchema.parse(m),j=d.bitmap.width*g,H=d.bitmap.height*g;return this.resize(d,{w:j,h:H,mode:w})},scaleToFit(d,m){const{h:g,w,mode:j}=ScaleToFitOptionsSchema.parse(m),H=w/g>d.bitmap.width/d.bitmap.height?g/d.bitmap.height:w/d.bitmap.width;return this.scale(d,{f:H,mode:j})}},ContainOptionsSchema=z$1.object({w:z$1.number(),h:z$1.number(),align:z$1.number().optional(),mode:z$1.nativeEnum(ResizeStrategy).optional()}),methods$c={contain(d,m){const{w:g,h:w,align:j=HorizontalAlign.CENTER|VerticalAlign.MIDDLE,mode:H}=ContainOptionsSchema.parse(m),et=7&j,it=j>>3;if((et===0||et&et-1)&&(it===0||it&it-1))throw new Error("only use one flag per alignment direction");const ot=et>>1,ut=it>>1,ft=g/w>d.bitmap.width/d.bitmap.height?w/d.bitmap.height:g/d.bitmap.width,dt=methods$d.scale(clone(d),{f:ft,mode:H});return(d=methods$d.resize(d,{w:g,h:w,mode:H})).scan((St,Tt,Rt)=>{d.bitmap.data.writeUInt32BE(d.background,Rt)}),d=methods$h.blit(d,{src:dt,x:(d.bitmap.width-dt.bitmap.width)/2*ot,y:(d.bitmap.height-dt.bitmap.height)/2*ut})}},CropOptionsSchema=z$1.object({x:z$1.number(),y:z$1.number(),w:z$1.number(),h:z$1.number()}),AutocropComplexOptionsSchema=z$1.object({tolerance:z$1.number().min(0).max(1).optional(),cropOnlyFrames:z$1.boolean().optional(),cropSymmetric:z$1.boolean().optional(),leaveBorder:z$1.number().optional(),ignoreSides:z$1.object({north:z$1.boolean().optional(),south:z$1.boolean().optional(),east:z$1.boolean().optional(),west:z$1.boolean().optional()}).optional()}),methods$b={crop(d,m){let{x:g,y:w,w:j,h:H}=CropOptionsSchema.parse(m);if(g=Math.round(g),w=Math.round(w),j=Math.round(j),H=Math.round(H),g===0&&j===d.bitmap.width){const et=j*w+g<<2,it=et+(H*j<<2);d.bitmap.data=d.bitmap.data.slice(et,it)}else{const et=Buffer.allocUnsafe(j*H*4);let it=0;scan(d,g,w,j,H,function(ot,ut,ft){const dt=d.bitmap.data.readUInt32BE(ft);et.writeUInt32BE(dt,it),it+=4}),d.bitmap.data=et}return d.bitmap.width=j,d.bitmap.height=H,d},autocrop(d,m={}){const{tolerance:g=2e-4,cropOnlyFrames:w=!0,cropSymmetric:j=!1,leaveBorder:H=0,ignoreSides:et}=typeof m=="number"?{tolerance:m}:AutocropComplexOptionsSchema.parse(m),it=d.bitmap.width,ot=d.bitmap.height,ut={north:!1,south:!1,east:!1,west:!1,...et};let ft=d.getPixelColor(0,0);const dt=intToRGBA$1(ft);let St=0,Tt=0,Rt=0,zt=0;if(ft=d.getPixelColor(0,0),!ut.north)t:for(let Ft=0;Ft<ot-1;Ft++){for(let Dt=0;Dt<it;Dt++)if(colorDiff(dt,intToRGBA$1(d.getPixelColor(Dt,Ft)))>g)break t;St++}if(ft=d.getPixelColor(it,0),!ut.west)t:for(let Ft=0;Ft<it-1;Ft++){for(let Dt=0+St;Dt<ot;Dt++)if(colorDiff(dt,intToRGBA$1(d.getPixelColor(Ft,Dt)))>g)break t;zt++}if(ft=d.getPixelColor(0,ot),!ut.south)t:for(let Ft=ot-1;Ft>=St+1;Ft--){for(let Dt=it-Tt-1;Dt>=0;Dt--)if(colorDiff(dt,intToRGBA$1(d.getPixelColor(Dt,Ft)))>g)break t;Rt++}if(ft=d.getPixelColor(it,ot),!ut.east)t:for(let Ft=it-1;Ft>=0+zt+1;Ft--){for(let Dt=ot-1;Dt>=0+St;Dt--)if(colorDiff(dt,intToRGBA$1(d.getPixelColor(Ft,Dt)))>g)break t;Tt++}let $t=!1;if(zt-=H,Tt-=H,St-=H,Rt-=H,j){const Ft=Math.min(Tt,zt),Dt=Math.min(St,Rt);zt=Ft,Tt=Ft,St=Dt,Rt=Dt}zt=zt>=0?zt:0,Tt=Tt>=0?Tt:0,St=St>=0?St:0,Rt=Rt>=0?Rt:0;const Ht=it-(zt+Tt),jt=ot-(Rt+St);return $t=w?Tt!==0&&St!==0&&zt!==0&&Rt!==0:Tt!==0||St!==0||zt!==0||Rt!==0,$t&&this.crop(d,{x:zt,y:St,w:Ht,h:jt}),d}},CoverOptionsSchema=z$1.object({w:z$1.number(),h:z$1.number(),align:z$1.number().optional(),mode:z$1.nativeEnum(ResizeStrategy).optional()}),methods$a={cover(d,m){const{w:g,h:w,align:j=HorizontalAlign.CENTER|VerticalAlign.MIDDLE,mode:H}=CoverOptionsSchema.parse(m),et=7&j,it=j>>3;if((et===0||et&et-1)&&(it===0||it&it-1))throw new Error("only use one flag per alignment direction");const ot=et>>1,ut=it>>1,ft=g/w>d.bitmap.width/d.bitmap.height?g/d.bitmap.width:w/d.bitmap.height;return d=methods$d.scale(d,{f:ft,mode:H}),d=methods$b.crop(d,{x:(d.bitmap.width-g)/2*ot,y:(d.bitmap.height-w)/2*ut,w:g,h:w})}},DisplaceOptionsSchema=z$1.object({map:JimpClassSchema,offset:z$1.number()}),methods$9={displace(d,m){const{map:g,offset:w}=DisplaceOptionsSchema.parse(m),j=clone(d);return d.scan((H,et,it)=>{let ot=g.bitmap.data[it]/256*w;ot=Math.round(ot);const ut=d.getPixelIndex(H+ot,et);d.bitmap.data[ut]=j.bitmap.data[it],d.bitmap.data[ut+1]=j.bitmap.data[it+1],d.bitmap.data[ut+2]=j.bitmap.data[it+2]}),d}},methods$8={dither(d){const m=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return d.scan((g,w,j)=>{const H=m[((3&w)<<2)+g%4];d.bitmap.data[j]=Math.min(d.bitmap.data[j]+H,255),d.bitmap.data[j+1]=Math.min(d.bitmap.data[j+1]+H,255),d.bitmap.data[j+2]=Math.min(d.bitmap.data[j+2]+H,255)}),d}},FisheyeOptionsSchema=z$1.object({radius:z$1.number().min(0).optional()}),methods$7={fisheye(d,m={}){const{radius:g=2.5}=FisheyeOptionsSchema.parse(m),w=clone(d),{width:j,height:H}=w.bitmap;return w.scan((et,it)=>{const ot=et/j,ut=it/H,ft=Math.sqrt(Math.pow(ot-.5,2)+Math.pow(ut-.5,2)),dt=2*Math.pow(ft,g),St=(ot-.5)/ft,Tt=(ut-.5)/ft,Rt=Math.round((dt*St+.5)*j),zt=Math.round((dt*Tt+.5)*H),$t=w.getPixelColor(Rt,zt);d.setPixelColor($t,et,it)}),d.setPixelColor(w.getPixelColor(j/2,H/2),j/2,H/2),d}},FlipOptionsSchema=z$1.object({horizontal:z$1.boolean().optional(),vertical:z$1.boolean().optional()}),methods$6={flip(d,m){const{horizontal:g,vertical:w}=FlipOptionsSchema.parse(m),j=Buffer.alloc(d.bitmap.data.length);return d.scan((H,et,it)=>{const ot=g?d.bitmap.width-1-H:H,ut=w?d.bitmap.height-1-et:et,ft=d.bitmap.width*ut+ot<<2,dt=d.bitmap.data.readUInt32BE(it);j.writeUInt32BE(dt,ft)}),d.bitmap.data=Buffer.from(j),d}};function Converter$1(d,m){if(!(d&&m&&d.length&&m.length))throw new Error("Bad alphabet");this.srcAlphabet=d,this.dstAlphabet=m}Converter$1.prototype.convert=function(d){var m,g,w,j={},H=this.srcAlphabet.length,et=this.dstAlphabet.length,it=d.length,ot=typeof d=="string"?"":[];if(!this.isValid(d))throw new Error('Number "'+d+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return d;for(m=0;m<it;m++)j[m]=this.srcAlphabet.indexOf(d[m]);do{for(g=0,w=0,m=0;m<it;m++)(g=g*H+j[m])>=et?(j[w++]=parseInt(g/et,10),g%=et):w>0&&(j[w++]=0);it=w,ot=this.dstAlphabet.slice(g,g+1).concat(ot)}while(w!==0);return ot},Converter$1.prototype.isValid=function(d){for(var m=0;m<d.length;++m)if(this.srcAlphabet.indexOf(d[m])===-1)return!1;return!0};var converter=Converter$1,Converter=converter;function anyBase(d,m){var g=new Converter(d,m);return function(w){return g.convert(w)}}anyBase.BIN="01",anyBase.OCT="01234567",anyBase.DEC="0123456789",anyBase.HEX="0123456789abcdef";var anyBase_1=anyBase,anyBase$1=getDefaultExportFromCjs(anyBase_1),__defProp$1=Object.defineProperty,__defNormalProp$1=(d,m,g)=>m in d?__defProp$1(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__publicField$1=(d,m,g)=>__defNormalProp$1(d,typeof m!="symbol"?m+"":m,g);class ImagePHash{constructor(m,g){__publicField$1(this,"size"),__publicField$1(this,"smallerSize"),this.size=m||32,this.smallerSize=g||8,initCoefficients(this.size)}distance(m,g){let w=0;for(let j=0;j<m.length;j++)m[j]!==g[j]&&w++;return w/m.length}getHash(m){m=methods$d.resize(clone(m),{w:this.size,h:this.size}),m=methods$e.greyscale(m);const g=[];for(let it=0;it<m.bitmap.width;it++){const ot=[];for(let ut=0;ut<m.bitmap.height;ut++)ot[ut]=intToRGBA(m.getPixelColor(it,ut)).b;g[it]=ot}const w=applyDCT(g,this.size);let j=0;for(let it=0;it<this.smallerSize;it++)for(let ot=0;ot<this.smallerSize;ot++)j+=w[it][ot];const H=j/(this.smallerSize*this.smallerSize);let et="";for(let it=0;it<this.smallerSize;it++)for(let ot=0;ot<this.smallerSize;ot++)et+=w[it][ot]>H?"1":"0";return et}}function intToRGBA(d){const m=255&d,g=255&(d>>>=8),w=255&(d>>>=8);return{r:255&(d>>>=8),g:w,b:g,a:m}}const c$1=[];function initCoefficients(d){for(let m=1;m<d;m++)c$1[m]=1;c$1[0]=1/Math.sqrt(2)}function applyDCT(d,m){const g=m,w=[];for(let j=0;j<g;j++){const H=[];for(let et=0;et<g;et++){let it=0;for(let ot=0;ot<g;ot++)for(let ut=0;ut<g;ut++)it+=Math.cos((2*ot+1)/(2*g)*j*Math.PI)*Math.cos((2*ut+1)/(2*g)*et*Math.PI)*d[ot][ut];it*=c$1[j]*c$1[et]/4,H[et]=it,w[j]=H}}return w}const alphabet="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",maxHashLength=[NaN,NaN];for(let d=2;d<65;d++){const m=anyBase$1(anyBase$1.BIN,alphabet.slice(0,d))(new Array(65).join("1"));maxHashLength.push(m.length)}const methods$5={pHash:d=>new ImagePHash().getHash(d),hash(d,m=64){if(m<2||m>64)throw new Error("base must be a number between 2 and 64");const g=alphabet.slice(0,m),w=this.pHash(d),j=maxHashLength[m];return anyBase$1(anyBase$1.BIN,g)(w).padStart(j,"0")},distanceFromHash(d,m){const g=new ImagePHash,w=g.getHash(d);return g.distance(w,m)}},MaskOptionsObjectSchema=z$1.object({src:JimpClassSchema,x:z$1.number().optional(),y:z$1.number().optional()}),MaskOptionsSchema=z$1.union([JimpClassSchema,MaskOptionsObjectSchema]),methods$4={mask(d,m){let g,w,j;MaskOptionsSchema.parse(m),"bitmap"in m?(g=m,w=0,j=0):(g=m.src,w=m.x??0,j=m.y??0),w=Math.round(w),j=Math.round(j);const H=d.bitmap.width,et=d.bitmap.height;return g.scan(function(it,ot,ut){const ft=w+it,dt=j+ot;if(ft>=0&&dt>=0&&ft<H&&dt<et){const St=d.getPixelIndex(ft,dt),{data:Tt}=g.bitmap,Rt=(Tt[ut+0]+Tt[ut+1]+Tt[ut+2])/3;d.bitmap.data[St+3]*=Rt/255}}),d}};function measureText(d,m){let g=0;for(let w=0;w<m.length;w++){const j=m[w],H=d.chars[j];if(H){const et=d.kernings[j],it=m[w+1],ot=et&&it&&et[it]&&et[it]||0;g+=(H.xadvance||0)+ot}}return g}function splitLines(d,m,g){const w=m.replace(/[\r\n]+/g,` 
`).split(" "),j=[];let H=[],et=0;return w.forEach(it=>{if(measureText(d,it+(w.length>1?" ":""))>g){const ft=it[Symbol.iterator]();let dt="";for(const St of ft){const Tt=[...H,dt+St].join(" "),Rt=measureText(d,Tt);Rt<g?dt+=St:Rt>g?(j.push([...H,dt]),H=[],dt=St):(j.push([...H,dt+St]),H=[],dt="")}return}const ot=[...H,it].join(" "),ut=measureText(d,ot);ut<=g&&!it.includes(`
`)?(ut>et&&(et=ut),H.push(it)):(j.push(H),H=[it.replace(`
`,"")])}),j.push(H),{lines:j,longestLine:et}}function measureTextHeight(d,m,g){const{lines:w}=splitLines(d,m,g);return w.length*d.common.lineHeight}const PrintOptionsSchema=z$1.object({x:z$1.number(),y:z$1.number(),text:z$1.union([z$1.union([z$1.string(),z$1.number()]),z$1.object({text:z$1.union([z$1.string(),z$1.number()]),alignmentX:z$1.nativeEnum(HorizontalAlign).optional(),alignmentY:z$1.nativeEnum(VerticalAlign).optional()})]),maxWidth:z$1.number().optional(),maxHeight:z$1.number().optional(),cb:z$1.function(z$1.tuple([z$1.object({x:z$1.number(),y:z$1.number()})])).optional()});function xOffsetBasedOnAlignment(d,m,g,w){return w===HorizontalAlign.LEFT?0:w===HorizontalAlign.CENTER?(g-measureText(d,m))/2:g-measureText(d,m)}function drawCharacter(d,m,g,w,j){if(j.width>0&&j.height>0){const H=m.pages[j.page];H&&(d=methods$h.blit(d,{src:H,x:g+j.xoffset,y:w+j.yoffset,srcX:j.x,srcY:j.y,srcW:j.width,srcH:j.height}))}return d}function printText(d,m,g,w,j,H){for(let et=0;et<j.length;et++){const it=j[et];let ot;ot=m.chars[it]?it:/\s/.test(it)?"":"?";const ut=m.chars[ot]||{xadvance:void 0},ft=m.kernings[ot];drawCharacter(d,m,g,w,ut);const dt=j[et+1];g+=(ft&&dt&&ft[dt]&&ft[dt]||0)+(ut.xadvance||H)}}const methods$3={print(d,{font:m,...g}){var Rt;let w,j,{x:H,y:et,text:it,maxWidth:ot=1/0,maxHeight:ut=1/0,cb:ft=()=>{}}=PrintOptionsSchema.parse(g);typeof it=="object"&&it.text!==null&&it.text!==void 0?(w=it.alignmentX||HorizontalAlign.LEFT,j=it.alignmentY||VerticalAlign.TOP,{text:it}=it):(w=HorizontalAlign.LEFT,j=VerticalAlign.TOP,it=it.toString()),typeof it=="number"&&(it=it.toString()),ut!==1/0&&j===VerticalAlign.BOTTOM?et+=ut-measureTextHeight(m,it,ot):ut!==1/0&&j===VerticalAlign.MIDDLE&&(et+=ut/2-measureTextHeight(m,it,ot)/2);const dt=(Rt=Object.entries(m.chars).find(zt=>zt[1].xadvance))==null?void 0:Rt[1].xadvance;if(typeof dt!="number")throw new Error("Could not find default character width");const{lines:St,longestLine:Tt}=splitLines(m,it,ot);return St.forEach(zt=>{const $t=zt.join(" "),Ht=xOffsetBasedOnAlignment(m,$t,ot,w);printText(d,m,H+Ht,et,$t,dt),et+=m.common.lineHeight}),ft.bind(d)({x:H+Tt,y:et}),d}},RotateOptionsSchema=z$1.union([z$1.number(),z$1.object({deg:z$1.number(),mode:z$1.union([z$1.boolean(),z$1.nativeEnum(ResizeStrategy)]).optional()})]);function createIdxTranslationFunction(d){return function(m,g){return g*d+m<<2}}function matrixRotate(d,m){if(Math.abs(m)%90!=0)throw new Error("Unsupported matrix rotation degree");const g=d.bitmap.width,w=d.bitmap.height;let j;switch(m){case 90:case-270:j=90;break;case 180:case-180:j=180;break;case 270:case-90:j=-90;break;default:throw new Error("Unsupported matrix rotation degree")}const H=j===180?g:w,et=j===180?w:g,it=Buffer.alloc(d.bitmap.data.length),ot=createIdxTranslationFunction(g),ut=createIdxTranslationFunction(H);for(let ft=0;ft<g;ft++)for(let dt=0;dt<w;dt++){const St=ot(ft,dt),Tt=d.bitmap.data.readUInt32BE(St);let Rt;switch(j){case 90:Rt=ut(dt,g-ft-1);break;case-90:Rt=ut(w-dt-1,ft);break;case 180:Rt=ut(g-ft-1,w-dt-1);break;default:throw new Error("Unsupported matrix rotation angle")}it.writeUInt32BE(Tt,Rt)}d.bitmap.data=it,d.bitmap.width=H,d.bitmap.height=et}function createTranslationFunction(d,m){return function(g,w){return{x:g+d,y:w+m}}}function advancedRotate(d,m,g){const w=m*Math.PI/180,j=Math.cos(w),H=Math.sin(w);let et=d.bitmap.width,it=d.bitmap.height;if(g===!0||typeof g=="string"){et=Math.ceil(Math.abs(d.bitmap.width*j)+Math.abs(d.bitmap.height*H))+1,it=Math.ceil(Math.abs(d.bitmap.width*H)+Math.abs(d.bitmap.height*j))+1,et%2!=0&&et++,it%2!=0&&it++;const Tt=clone(d);d.scan((zt,$t,Ht)=>{d.bitmap.data.writeUInt32BE(d.background,Ht)});const Rt=Math.max(et,it,d.bitmap.width,d.bitmap.height);d=composite(d=methods$d.resize(d,{h:Rt,w:Rt,mode:g===!0?void 0:g}),Tt,d.bitmap.width/2-Tt.bitmap.width/2,d.bitmap.height/2-Tt.bitmap.height/2)}const ot=d.bitmap.width,ut=d.bitmap.height,ft=Buffer.alloc(d.bitmap.data.length),dt=createTranslationFunction(-ot/2,-ut/2),St=createTranslationFunction(ot/2+.5,ut/2+.5);for(let Tt=1;Tt<=ut;Tt++)for(let Rt=1;Rt<=ot;Rt++){const zt=dt(Rt,Tt),$t=St(j*zt.x-H*zt.y,j*zt.y+H*zt.x),Ht=ot*(Tt-1)+Rt-1<<2;if($t.x>=0&&$t.x<ot&&$t.y>=0&&$t.y<ut){const jt=ot*(0|$t.y)+$t.x<<2,Ft=d.bitmap.data.readUInt32BE(jt);ft.writeUInt32BE(Ft,Ht)}else ft.writeUInt32BE(d.background,Ht)}if(d.bitmap.data=ft,g===!0||typeof g=="string"){const Tt=Math.max(ot/2-et/2,0),Rt=Math.max(ut/2-it/2,0);d=methods$b.crop(d,{x:Tt,y:Rt,w:et,h:it})}}const methods$2={rotate(d,m){const g=RotateOptionsSchema.parse(m),w=typeof g=="number"?{deg:g}:g,{mode:j=!0}=w;let{deg:H}=w;return H%=360,H%360==0||(H%90==0&&(j||d.bitmap.width===d.bitmap.height||H%180==0)?matrixRotate(d,H):advancedRotate(d,H,j)),d}},ThresholdOptionsSchema=z$1.object({max:z$1.number().min(0).max(255),replace:z$1.number().min(0).max(255).optional(),autoGreyscale:z$1.boolean().optional()}),methods$1={threshold(d,m){let{max:g,replace:w=255,autoGreyscale:j=!0}=ThresholdOptionsSchema.parse(m);return g=limit255(g),w=limit255(w),j&&methods$e.greyscale(d),d.scan((H,et,it)=>{const ot=d.bitmap.data[it]<g?d.bitmap.data[it]:w;d.bitmap.data[it]=ot,d.bitmap.data[it+1]=ot,d.bitmap.data[it+2]=ot}),d}};var __defProp=Object.defineProperty,__defNormalProp=(d,m,g)=>m in d?__defProp(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,__export=(d,m)=>{for(var g in m)__defProp(d,g,{get:m[g],enumerable:!0})},__publicField=(d,m,g)=>(__defNormalProp(d,typeof m!="symbol"?m+"":m,g),g),constants_exports={};__export(constants_exports,{bt709:()=>bt709_exports});var bt709_exports={};__export(bt709_exports,{Y:()=>Y,x:()=>x$1,y:()=>y$1});var Y=(d=>(d[d.RED=.2126]="RED",d[d.GREEN=.7152]="GREEN",d[d.BLUE=.0722]="BLUE",d[d.WHITE=1]="WHITE",d))(Y||{}),x$1=(d=>(d[d.RED=.64]="RED",d[d.GREEN=.3]="GREEN",d[d.BLUE=.15]="BLUE",d[d.WHITE=.3127]="WHITE",d))(x$1||{}),y$1=(d=>(d[d.RED=.33]="RED",d[d.GREEN=.6]="GREEN",d[d.BLUE=.06]="BLUE",d[d.WHITE=.329]="WHITE",d))(y$1||{}),conversion_exports={};function correctGamma(d){return d>.04045?((d+.055)/1.055)**2.4:d/12.92}function rgb2xyz(d,m,g){return{x:.4124*(d=correctGamma(d/255))+.3576*(m=correctGamma(m/255))+.1805*(g=correctGamma(g/255)),y:.2126*d+.7152*m+.0722*g,z:.0193*d+.1192*m+.9505*g}}__export(conversion_exports,{lab2rgb:()=>lab2rgb,lab2xyz:()=>lab2xyz,rgb2hsl:()=>rgb2hsl,rgb2lab:()=>rgb2lab,rgb2xyz:()=>rgb2xyz,xyz2lab:()=>xyz2lab,xyz2rgb:()=>xyz2rgb});var arithmetic_exports={};function degrees2radians(d){return d*(Math.PI/180)}function max3(d,m,g){let w=d;return w<m&&(w=m),w<g&&(w=g),w}function min3(d,m,g){let w=d;return w>m&&(w=m),w>g&&(w=g),w}function intInRange(d,m,g){return d>g&&(d=g),d<m&&(d=m),0|d}function inRange0to255Rounded(d){return(d=Math.round(d))>255?d=255:d<0&&(d=0),d}function inRange0to255(d){return d>255?d=255:d<0&&(d=0),d}function stableSort(d,m){const g=typeof d[0];let w;if(g==="number"||g==="string"){const j=Object.create(null);for(let H=0,et=d.length;H<et;H++){const it=d[H];j[it]||j[it]===0||(j[it]=H)}w=d.sort((H,et)=>m(H,et)||j[H]-j[et])}else{const j=d.slice(0);w=d.sort((H,et)=>m(H,et)||j.indexOf(H)-j.indexOf(et))}return w}function rgb2hsl(d,m,g){const w=min3(d,m,g),j=max3(d,m,g),H=j-w,et=(w+j)/510;let it=0;et>0&&et<1&&(it=H/(et<.5?j+w:510-j-w));let ot=0;return H>0&&(ot=j===d?(m-g)/H:j===m?2+(g-d)/H:4+(d-m)/H,ot*=60,ot<0&&(ot+=360)),{h:ot,s:it,l:et}}__export(arithmetic_exports,{degrees2radians:()=>degrees2radians,inRange0to255:()=>inRange0to255,inRange0to255Rounded:()=>inRange0to255Rounded,intInRange:()=>intInRange,max3:()=>max3,min3:()=>min3,stableSort:()=>stableSort});var refX=.95047,refY=1,refZ=1.08883;function pivot(d){return d>.008856?d**(1/3):7.787*d+16/116}function xyz2lab(d,m,g){if(d=pivot(d/refX),m=pivot(m/refY),g=pivot(g/refZ),116*m-16<0)throw new Error("xxx");return{L:Math.max(0,116*m-16),a:500*(d-m),b:200*(m-g)}}function rgb2lab(d,m,g){const w=rgb2xyz(d,m,g);return xyz2lab(w.x,w.y,w.z)}var refX2=.95047,refY2=1,refZ2=1.08883;function pivot2(d){return d>.206893034?d**3:(d-16/116)/7.787}function lab2xyz(d,m,g){const w=(d+16)/116,j=w-g/200;return{x:refX2*pivot2(m/500+w),y:refY2*pivot2(w),z:refZ2*pivot2(j)}}function correctGamma2(d){return d>.0031308?1.055*d**(1/2.4)-.055:12.92*d}function xyz2rgb(d,m,g){const w=correctGamma2(3.2406*d+-1.5372*m+-.4986*g),j=correctGamma2(-.9689*d+1.8758*m+.0415*g),H=correctGamma2(.0557*d+-.204*m+1.057*g);return{r:inRange0to255Rounded(255*w),g:inRange0to255Rounded(255*j),b:inRange0to255Rounded(255*H)}}function lab2rgb(d,m,g){const w=lab2xyz(d,m,g);return xyz2rgb(w.x,w.y,w.z)}var distance_exports={};__export(distance_exports,{AbstractDistanceCalculator:()=>AbstractDistanceCalculator,AbstractEuclidean:()=>AbstractEuclidean,AbstractManhattan:()=>AbstractManhattan,CIE94GraphicArts:()=>CIE94GraphicArts,CIE94Textiles:()=>CIE94Textiles,CIEDE2000:()=>CIEDE2000,CMetric:()=>CMetric,Euclidean:()=>Euclidean,EuclideanBT709:()=>EuclideanBT709,EuclideanBT709NoAlpha:()=>EuclideanBT709NoAlpha,Manhattan:()=>Manhattan,ManhattanBT709:()=>ManhattanBT709,ManhattanNommyde:()=>ManhattanNommyde,PNGQuant:()=>PNGQuant});var AbstractDistanceCalculator=class{constructor(){__publicField(this,"_maxDistance"),__publicField(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(d,m,g,w){this._whitePoint={r:d>0?255/d:0,g:m>0?255/m:0,b:g>0?255/g:0,a:w>0?255/w:0},this._maxDistance=this.calculateRaw(d,m,g,w,0,0,0,0)}calculateNormalized(d,m){return this.calculateRaw(d.r,d.g,d.b,d.a,m.r,m.g,m.b,m.a)/this._maxDistance}},AbstractCIE94=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,j,H,et,it){const ot=rgb2lab(inRange0to255(d*this._whitePoint.r),inRange0to255(m*this._whitePoint.g),inRange0to255(g*this._whitePoint.b)),ut=rgb2lab(inRange0to255(j*this._whitePoint.r),inRange0to255(H*this._whitePoint.g),inRange0to255(et*this._whitePoint.b)),ft=ot.L-ut.L,dt=ot.a-ut.a,St=ot.b-ut.b,Tt=Math.sqrt(ot.a*ot.a+ot.b*ot.b),Rt=Tt-Math.sqrt(ut.a*ut.a+ut.b*ut.b);let zt=dt*dt+St*St-Rt*Rt;zt=zt<0?0:Math.sqrt(zt);const $t=(it-w)*this._whitePoint.a*this._kA;return Math.sqrt((ft/this._Kl)**2+(Rt/(1+this._K1*Tt))**2+(zt/(1+this._K2*Tt))**2+$t**2)}},CIE94Textiles=class extends AbstractCIE94{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},CIE94GraphicArts=class extends AbstractCIE94{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},_CIEDE2000=class extends AbstractDistanceCalculator{_setDefaults(){}static _calculatehp(d,m){const g=Math.atan2(d,m);return g>=0?g:g+_CIEDE2000._deg360InRad}static _calculateRT(d,m){const g=m**7,w=2*Math.sqrt(g/(g+_CIEDE2000._pow25to7)),j=_CIEDE2000._deg30InRad*Math.exp(-(((d-_CIEDE2000._deg275InRad)/_CIEDE2000._deg25InRad)**2));return-Math.sin(2*j)*w}static _calculateT(d){return 1-.17*Math.cos(d-_CIEDE2000._deg30InRad)+.24*Math.cos(2*d)+.32*Math.cos(3*d+_CIEDE2000._deg6InRad)-.2*Math.cos(4*d-_CIEDE2000._deg63InRad)}static _calculate_ahp(d,m,g,w){const j=g+w;return d===0?j:m<=_CIEDE2000._deg180InRad?j/2:j<_CIEDE2000._deg360InRad?(j+_CIEDE2000._deg360InRad)/2:(j-_CIEDE2000._deg360InRad)/2}static _calculate_dHp(d,m,g,w){let j;return j=d===0?0:m<=_CIEDE2000._deg180InRad?g-w:g<=w?g-w+_CIEDE2000._deg360InRad:g-w-_CIEDE2000._deg360InRad,2*Math.sqrt(d)*Math.sin(j/2)}calculateRaw(d,m,g,w,j,H,et,it){const ot=rgb2lab(inRange0to255(d*this._whitePoint.r),inRange0to255(m*this._whitePoint.g),inRange0to255(g*this._whitePoint.b)),ut=rgb2lab(inRange0to255(j*this._whitePoint.r),inRange0to255(H*this._whitePoint.g),inRange0to255(et*this._whitePoint.b)),ft=(it-w)*this._whitePoint.a*_CIEDE2000._kA,dt=this.calculateRawInLab(ot,ut);return Math.sqrt(dt+ft*ft)}calculateRawInLab(d,m){const g=d.L,w=d.a,j=d.b,H=m.L,et=m.a,it=m.b,ot=((Math.sqrt(w*w+j*j)+Math.sqrt(et*et+it*it))/2)**7,ut=.5*(1-Math.sqrt(ot/(ot+_CIEDE2000._pow25to7))),ft=(1+ut)*w,dt=(1+ut)*et,St=Math.sqrt(ft*ft+j*j),Tt=Math.sqrt(dt*dt+it*it),Rt=St*Tt,zt=_CIEDE2000._calculatehp(j,ft),$t=_CIEDE2000._calculatehp(it,dt),Ht=Math.abs(zt-$t),jt=H-g,Ft=Tt-St,Dt=_CIEDE2000._calculate_dHp(Rt,Ht,$t,zt),Yt=_CIEDE2000._calculate_ahp(Rt,Ht,zt,$t),ne=(St+Tt)/2,Kt=((g+H)/2-50)**2,re=Ft/(1+.045*ne),ee=Dt/(1+.015*_CIEDE2000._calculateT(Yt)*ne);return(jt/(1+.015*Kt/Math.sqrt(20+Kt)))**2+re**2+ee**2+_CIEDE2000._calculateRT(Yt,ne)*re*ee}},CIEDE2000=_CIEDE2000;__publicField(CIEDE2000,"_kA",25/255),__publicField(CIEDE2000,"_pow25to7",25**7),__publicField(CIEDE2000,"_deg360InRad",degrees2radians(360)),__publicField(CIEDE2000,"_deg180InRad",degrees2radians(180)),__publicField(CIEDE2000,"_deg30InRad",degrees2radians(30)),__publicField(CIEDE2000,"_deg6InRad",degrees2radians(6)),__publicField(CIEDE2000,"_deg63InRad",degrees2radians(63)),__publicField(CIEDE2000,"_deg275InRad",degrees2radians(275)),__publicField(CIEDE2000,"_deg25InRad",degrees2radians(25));var CMetric=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,j,H,et,it){const ot=(d+j)/2*this._whitePoint.r,ut=(d-j)*this._whitePoint.r,ft=(m-H)*this._whitePoint.g,dt=(g-et)*this._whitePoint.b,St=((512+ot)*ut*ut>>8)+4*ft*ft+((767-ot)*dt*dt>>8),Tt=(it-w)*this._whitePoint.a;return Math.sqrt(St+Tt*Tt)}_setDefaults(){}},AbstractEuclidean=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,j,H,et,it){const ot=j-d,ut=H-m,ft=et-g,dt=it-w;return Math.sqrt(this._kR*ot*ot+this._kG*ut*ut+this._kB*ft*ft+this._kA*dt*dt)}},Euclidean=class extends AbstractEuclidean{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},EuclideanBT709=class extends AbstractEuclidean{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},EuclideanBT709NoAlpha=class extends AbstractEuclidean{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},AbstractManhattan=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,j,H,et,it){let ot=j-d,ut=H-m,ft=et-g,dt=it-w;return ot<0&&(ot=0-ot),ut<0&&(ut=0-ut),ft<0&&(ft=0-ft),dt<0&&(dt=0-dt),this._kR*ot+this._kG*ut+this._kB*ft+this._kA*dt}},Manhattan=class extends AbstractManhattan{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},ManhattanNommyde=class extends AbstractManhattan{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},ManhattanBT709=class extends AbstractManhattan{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},PNGQuant=class extends AbstractDistanceCalculator{calculateRaw(d,m,g,w,j,H,et,it){const ot=(it-w)*this._whitePoint.a;return this._colordifferenceCh(d*this._whitePoint.r,j*this._whitePoint.r,ot)+this._colordifferenceCh(m*this._whitePoint.g,H*this._whitePoint.g,ot)+this._colordifferenceCh(g*this._whitePoint.b,et*this._whitePoint.b,ot)}_colordifferenceCh(d,m,g){const w=d-m,j=w+g;return w*w+j*j}_setDefaults(){}},palette_exports={};__export(palette_exports,{AbstractPaletteQuantizer:()=>AbstractPaletteQuantizer,ColorHistogram:()=>ColorHistogram,NeuQuant:()=>NeuQuant,NeuQuantFloat:()=>NeuQuantFloat,RGBQuant:()=>RGBQuant,WuColorCube:()=>WuColorCube,WuQuant:()=>WuQuant});var AbstractPaletteQuantizer=class{quantizeSync(){for(const d of this.quantize())if(d.palette)return d.palette;throw new Error("unreachable")}},Point=class{constructor(){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),__publicField(this,"uint32"),__publicField(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(d){const m=new Point;return m.r=0|d[0],m.g=0|d[1],m.b=0|d[2],m.a=0|d[3],m._loadUINT32(),m._loadQuadruplet(),m}static createByRGBA(d,m,g,w){const j=new Point;return j.r=0|d,j.g=0|m,j.b=0|g,j.a=0|w,j._loadUINT32(),j._loadQuadruplet(),j}static createByUint32(d){const m=new Point;return m.uint32=d>>>0,m._loadRGBA(),m._loadQuadruplet(),m}from(d){this.r=d.r,this.g=d.g,this.b=d.b,this.a=d.a,this.uint32=d.uint32,this.rgba[0]=d.r,this.rgba[1]=d.g,this.rgba[2]=d.b,this.rgba[3]=d.a}getLuminosity(d){let m=this.r,g=this.g,w=this.b;return d&&(m=Math.min(255,255-this.a+this.a*m/255),g=Math.min(255,255-this.a+this.a*g/255),w=Math.min(255,255-this.a+this.a*w/255)),.2126*m+.7152*g+.0722*w}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},PointContainer=class{constructor(){__publicField(this,"_pointArray"),__publicField(this,"_width"),__publicField(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(d){this._width=d}setHeight(d){this._height=d}getPointArray(){return this._pointArray}clone(){const d=new PointContainer;d._width=this._width,d._height=this._height;for(let m=0,g=this._pointArray.length;m<g;m++)d._pointArray[m]=Point.createByUint32(0|this._pointArray[m].uint32);return d}toUint32Array(){const d=this._pointArray.length,m=new Uint32Array(d);for(let g=0;g<d;g++)m[g]=this._pointArray[g].uint32;return m}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(d){const m=d.naturalWidth,g=d.naturalHeight,w=document.createElement("canvas");return w.width=m,w.height=g,w.getContext("2d").drawImage(d,0,0,m,g,0,0,m,g),PointContainer.fromHTMLCanvasElement(w)}static fromHTMLCanvasElement(d){const m=d.width,g=d.height,w=d.getContext("2d").getImageData(0,0,m,g);return PointContainer.fromImageData(w)}static fromImageData(d){const m=d.width,g=d.height;return PointContainer.fromUint8Array(d.data,m,g)}static fromUint8Array(d,m,g){switch(Object.prototype.toString.call(d)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:d=new Uint8Array(d)}const w=new Uint32Array(d.buffer);return PointContainer.fromUint32Array(w,m,g)}static fromUint32Array(d,m,g){const w=new PointContainer;w._width=m,w._height=g;for(let j=0,H=d.length;j<H;j++)w._pointArray[j]=Point.createByUint32(0|d[j]);return w}static fromBuffer(d,m,g){const w=new Uint32Array(d.buffer,d.byteOffset,d.byteLength/Uint32Array.BYTES_PER_ELEMENT);return PointContainer.fromUint32Array(w,m,g)}},hueGroups=10;function hueGroup(d,m){const g=360/m;for(let w=1,j=g-g/2;w<m;w++,j+=g)if(d>=j&&d<j+g)return w;return 0}var Palette=class{constructor(){__publicField(this,"_pointContainer"),__publicField(this,"_pointArray",[]),__publicField(this,"_i32idx",{}),this._pointContainer=new PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(d){this._pointArray.push(d),this._pointContainer.setWidth(this._pointArray.length)}has(d){for(let m=this._pointArray.length-1;m>=0;m--)if(d.uint32===this._pointArray[m].uint32)return!0;return!1}getNearestColor(d,m){return this._pointArray[0|this._getNearestIndex(d,m)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(d){return typeof this._i32idx[d]=="number"?this._i32idx[d]:-1}_getNearestIndex(d,m){let g=this._nearestPointFromCache(""+m.uint32);if(g>=0)return g;let w=Number.MAX_VALUE;g=0;for(let j=0,H=this._pointArray.length;j<H;j++){const et=this._pointArray[j],it=d.calculateRaw(m.r,m.g,m.b,m.a,et.r,et.g,et.b,et.a);it<w&&(w=it,g=j)}return this._i32idx[m.uint32]=g,g}sort(){this._i32idx={},this._pointArray.sort((d,m)=>{const g=rgb2hsl(d.r,d.g,d.b),w=rgb2hsl(m.r,m.g,m.b),j=d.r===d.g&&d.g===d.b?0:1+hueGroup(g.h,hueGroups),H=(m.r===m.g&&m.g===m.b?0:1+hueGroup(w.h,hueGroups))-j;if(H)return-H;const et=d.getLuminosity(!0),it=m.getLuminosity(!0);if(it-et!=0)return it-et;const ot=(100*w.s|0)-(100*g.s|0);return ot?-ot:0})}},utils_exports={};__export(utils_exports,{HueStatistics:()=>HueStatistics,Palette:()=>Palette,Point:()=>Point,PointContainer:()=>PointContainer,ProgressTracker:()=>ProgressTracker,arithmetic:()=>arithmetic_exports});var HueGroup=class{constructor(){__publicField(this,"num",0),__publicField(this,"cols",[])}},HueStatistics=class{constructor(d,m){__publicField(this,"_numGroups"),__publicField(this,"_minCols"),__publicField(this,"_stats"),__publicField(this,"_groupsFull"),this._numGroups=d,this._minCols=m,this._stats=[];for(let g=0;g<=d;g++)this._stats[g]=new HueGroup;this._groupsFull=0}check(d){this._groupsFull===this._numGroups+1&&(this.check=()=>{});const m=255&d,g=d>>>8&255,w=d>>>16&255,j=m===g&&g===w?0:1+hueGroup(rgb2hsl(m,g,w).h,this._numGroups),H=this._stats[j],et=this._minCols;H.num++,H.num>et||(H.num===et&&this._groupsFull++,H.num<=et&&this._stats[j].cols.push(d))}injectIntoDictionary(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d[g]?d[g]++:d[g]=1})}injectIntoArray(d){for(let m=0;m<=this._numGroups;m++)this._stats[m].num<=this._minCols&&this._stats[m].cols.forEach(g=>{d.indexOf(g)===-1&&d.push(g)})}},_ProgressTracker=class{constructor(d,m){__publicField(this,"progress"),__publicField(this,"_step"),__publicField(this,"_range"),__publicField(this,"_last"),__publicField(this,"_progressRange"),this._range=d,this._progressRange=m,this._step=Math.max(1,this._range/(_ProgressTracker.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(d){return d-this._last>=this._step&&(this._last=d,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},ProgressTracker=_ProgressTracker;__publicField(ProgressTracker,"steps",100);var networkBiasShift=3,Neuron=class{constructor(d){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point.createByRGBA(this.r>>networkBiasShift,this.g>>networkBiasShift,this.b>>networkBiasShift,this.a>>networkBiasShift)}subtract(d,m,g,w){this.r-=0|d,this.g-=0|m,this.b-=0|g,this.a-=0|w}},_NeuQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256){super(),__publicField(this,"_pointArray"),__publicField(this,"_networkSize"),__publicField(this,"_network"),__publicField(this,"_sampleFactor"),__publicField(this,"_radPower"),__publicField(this,"_freq"),__publicField(this,"_bias"),__publicField(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift,255<<networkBiasShift,255<<networkBiasShift,255<<networkBiasShift)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new Neuron((d<<networkBiasShift+8)/this._networkSize|0),this._freq[d]=_NeuQuant._initialBias/this._networkSize|0,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuant._minpicturebytes&&(d=1);const g=30+(d-1)/3|0,w=m/d|0;let j,H=w/_NeuQuant._nCycles|0,et=_NeuQuant._initAlpha,it=(this._networkSize>>3)*_NeuQuant._radiusBias,ot=it>>_NeuQuant._radiusBiasShift;ot<=1&&(ot=0);for(let ft=0;ft<ot;ft++)this._radPower[ft]=et*((ot*ot-ft*ft)*_NeuQuant._radBias/(ot*ot))>>>0;j=m<_NeuQuant._minpicturebytes?1:m%_NeuQuant._prime1!=0?_NeuQuant._prime1:m%_NeuQuant._prime2!=0?_NeuQuant._prime2:m%_NeuQuant._prime3!=0?_NeuQuant._prime3:_NeuQuant._prime4;const ut=new ProgressTracker(w,99);for(let ft=0,dt=0;ft<w;){ut.shouldNotify(ft)&&(yield{progress:ut.progress});const St=this._pointArray[dt],Tt=St.b<<networkBiasShift,Rt=St.g<<networkBiasShift,zt=St.r<<networkBiasShift,$t=St.a<<networkBiasShift,Ht=this._contest(Tt,Rt,zt,$t);if(this._alterSingle(et,Ht,Tt,Rt,zt,$t),ot!==0&&this._alterNeighbour(ot,Ht,Tt,Rt,zt,$t),dt+=j,dt>=m&&(dt-=m),ft++,H===0&&(H=1),ft%H==0){et-=et/g|0,it-=it/_NeuQuant._radiusDecrease|0,ot=it>>_NeuQuant._radiusBiasShift,ot<=1&&(ot=0);for(let jt=0;jt<ot;jt++)this._radPower[jt]=et*((ot*ot-jt*jt)*_NeuQuant._radBias/(ot*ot))>>>0}}}_buildPalette(){const d=new Palette;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,j,H){let et=m-d;et<-1&&(et=-1);let it=m+d;it>this._networkSize&&(it=this._networkSize);let ot=m+1,ut=m-1,ft=1;for(;ot<it||ut>et;){const dt=this._radPower[ft++]/_NeuQuant._alphaRadBias;if(ot<it){const St=this._network[ot++];St.subtract(dt*(St.r-j),dt*(St.g-w),dt*(St.b-g),dt*(St.a-H))}if(ut>et){const St=this._network[ut--];St.subtract(dt*(St.r-j),dt*(St.g-w),dt*(St.b-g),dt*(St.a-H))}}}_alterSingle(d,m,g,w,j,H){d/=_NeuQuant._initAlpha;const et=this._network[m];et.subtract(d*(et.r-j),d*(et.g-w),d*(et.b-g),d*(et.a-H))}_contest(d,m,g,w){const j=1020<<networkBiasShift;let H=2147483647,et=H,it=-1,ot=it;for(let ut=0;ut<this._networkSize;ut++){const ft=this._network[ut],dt=this._distance.calculateNormalized(ft,{r:g,g:m,b:d,a:w})*j|0;dt<H&&(H=dt,it=ut);const St=dt-(this._bias[ut]>>_NeuQuant._initialBiasShift-networkBiasShift);St<et&&(et=St,ot=ut);const Tt=this._freq[ut]>>_NeuQuant._betaShift;this._freq[ut]-=Tt,this._bias[ut]+=Tt<<_NeuQuant._gammaShift}return this._freq[it]+=_NeuQuant._beta,this._bias[it]-=_NeuQuant._betaGamma,ot}},NeuQuant=_NeuQuant;__publicField(NeuQuant,"_prime1",499),__publicField(NeuQuant,"_prime2",491),__publicField(NeuQuant,"_prime3",487),__publicField(NeuQuant,"_prime4",503),__publicField(NeuQuant,"_minpicturebytes",_NeuQuant._prime4),__publicField(NeuQuant,"_nCycles",100),__publicField(NeuQuant,"_initialBiasShift",16),__publicField(NeuQuant,"_initialBias",1<<_NeuQuant._initialBiasShift),__publicField(NeuQuant,"_gammaShift",10),__publicField(NeuQuant,"_betaShift",10),__publicField(NeuQuant,"_beta",_NeuQuant._initialBias>>_NeuQuant._betaShift),__publicField(NeuQuant,"_betaGamma",_NeuQuant._initialBias<<_NeuQuant._gammaShift-_NeuQuant._betaShift),__publicField(NeuQuant,"_radiusBiasShift",6),__publicField(NeuQuant,"_radiusBias",1<<_NeuQuant._radiusBiasShift),__publicField(NeuQuant,"_radiusDecrease",30),__publicField(NeuQuant,"_alphaBiasShift",10),__publicField(NeuQuant,"_initAlpha",1<<_NeuQuant._alphaBiasShift),__publicField(NeuQuant,"_radBiasShift",8),__publicField(NeuQuant,"_radBias",1<<_NeuQuant._radBiasShift),__publicField(NeuQuant,"_alphaRadBiasShift",_NeuQuant._alphaBiasShift+_NeuQuant._radBiasShift),__publicField(NeuQuant,"_alphaRadBias",1<<_NeuQuant._alphaRadBiasShift);var networkBiasShift2=3,NeuronFloat=class{constructor(d){__publicField(this,"r"),__publicField(this,"g"),__publicField(this,"b"),__publicField(this,"a"),this.r=this.g=this.b=this.a=d}toPoint(){return Point.createByRGBA(this.r>>networkBiasShift2,this.g>>networkBiasShift2,this.b>>networkBiasShift2,this.a>>networkBiasShift2)}subtract(d,m,g,w){this.r-=d,this.g-=m,this.b-=g,this.a-=w}},_NeuQuantFloat=class extends AbstractPaletteQuantizer{constructor(d,m=256){super(),__publicField(this,"_pointArray"),__publicField(this,"_networkSize"),__publicField(this,"_network"),__publicField(this,"_sampleFactor"),__publicField(this,"_radPower"),__publicField(this,"_freq"),__publicField(this,"_bias"),__publicField(this,"_distance"),this._distance=d,this._pointArray=[],this._sampleFactor=1,this._networkSize=m,this._distance.setWhitePoint(255<<networkBiasShift2,255<<networkBiasShift2,255<<networkBiasShift2,255<<networkBiasShift2)}sample(d){this._pointArray=this._pointArray.concat(d.getPointArray())}*quantize(){this._init(),yield*this._learn(),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let d=0;d<this._networkSize;d++)this._network[d]=new NeuronFloat((d<<networkBiasShift2+8)/this._networkSize),this._freq[d]=_NeuQuantFloat._initialBias/this._networkSize,this._bias[d]=0}*_learn(){let d=this._sampleFactor;const m=this._pointArray.length;m<_NeuQuantFloat._minpicturebytes&&(d=1);const g=30+(d-1)/3,w=m/d;let j,H=w/_NeuQuantFloat._nCycles|0,et=_NeuQuantFloat._initAlpha,it=(this._networkSize>>3)*_NeuQuantFloat._radiusBias,ot=it>>_NeuQuantFloat._radiusBiasShift;ot<=1&&(ot=0);for(let ft=0;ft<ot;ft++)this._radPower[ft]=et*((ot*ot-ft*ft)*_NeuQuantFloat._radBias/(ot*ot));j=m<_NeuQuantFloat._minpicturebytes?1:m%_NeuQuantFloat._prime1!=0?_NeuQuantFloat._prime1:m%_NeuQuantFloat._prime2!=0?_NeuQuantFloat._prime2:m%_NeuQuantFloat._prime3!=0?_NeuQuantFloat._prime3:_NeuQuantFloat._prime4;const ut=new ProgressTracker(w,99);for(let ft=0,dt=0;ft<w;){ut.shouldNotify(ft)&&(yield{progress:ut.progress});const St=this._pointArray[dt],Tt=St.b<<networkBiasShift2,Rt=St.g<<networkBiasShift2,zt=St.r<<networkBiasShift2,$t=St.a<<networkBiasShift2,Ht=this._contest(Tt,Rt,zt,$t);if(this._alterSingle(et,Ht,Tt,Rt,zt,$t),ot!==0&&this._alterNeighbour(ot,Ht,Tt,Rt,zt,$t),dt+=j,dt>=m&&(dt-=m),ft++,H===0&&(H=1),ft%H==0){et-=et/g,it-=it/_NeuQuantFloat._radiusDecrease,ot=it>>_NeuQuantFloat._radiusBiasShift,ot<=1&&(ot=0);for(let jt=0;jt<ot;jt++)this._radPower[jt]=et*((ot*ot-jt*jt)*_NeuQuantFloat._radBias/(ot*ot))}}}_buildPalette(){const d=new Palette;return this._network.forEach(m=>{d.add(m.toPoint())}),d.sort(),d}_alterNeighbour(d,m,g,w,j,H){let et=m-d;et<-1&&(et=-1);let it=m+d;it>this._networkSize&&(it=this._networkSize);let ot=m+1,ut=m-1,ft=1;for(;ot<it||ut>et;){const dt=this._radPower[ft++]/_NeuQuantFloat._alphaRadBias;if(ot<it){const St=this._network[ot++];St.subtract(dt*(St.r-j),dt*(St.g-w),dt*(St.b-g),dt*(St.a-H))}if(ut>et){const St=this._network[ut--];St.subtract(dt*(St.r-j),dt*(St.g-w),dt*(St.b-g),dt*(St.a-H))}}}_alterSingle(d,m,g,w,j,H){d/=_NeuQuantFloat._initAlpha;const et=this._network[m];et.subtract(d*(et.r-j),d*(et.g-w),d*(et.b-g),d*(et.a-H))}_contest(d,m,g,w){const j=1020<<networkBiasShift2;let H=2147483647,et=H,it=-1,ot=it;for(let ut=0;ut<this._networkSize;ut++){const ft=this._network[ut],dt=this._distance.calculateNormalized(ft,{r:g,g:m,b:d,a:w})*j;dt<H&&(H=dt,it=ut);const St=dt-(this._bias[ut]>>_NeuQuantFloat._initialBiasShift-networkBiasShift2);St<et&&(et=St,ot=ut);const Tt=this._freq[ut]>>_NeuQuantFloat._betaShift;this._freq[ut]-=Tt,this._bias[ut]+=Tt<<_NeuQuantFloat._gammaShift}return this._freq[it]+=_NeuQuantFloat._beta,this._bias[it]-=_NeuQuantFloat._betaGamma,ot}},NeuQuantFloat=_NeuQuantFloat;__publicField(NeuQuantFloat,"_prime1",499),__publicField(NeuQuantFloat,"_prime2",491),__publicField(NeuQuantFloat,"_prime3",487),__publicField(NeuQuantFloat,"_prime4",503),__publicField(NeuQuantFloat,"_minpicturebytes",_NeuQuantFloat._prime4),__publicField(NeuQuantFloat,"_nCycles",100),__publicField(NeuQuantFloat,"_initialBiasShift",16),__publicField(NeuQuantFloat,"_initialBias",1<<_NeuQuantFloat._initialBiasShift),__publicField(NeuQuantFloat,"_gammaShift",10),__publicField(NeuQuantFloat,"_betaShift",10),__publicField(NeuQuantFloat,"_beta",_NeuQuantFloat._initialBias>>_NeuQuantFloat._betaShift),__publicField(NeuQuantFloat,"_betaGamma",_NeuQuantFloat._initialBias<<_NeuQuantFloat._gammaShift-_NeuQuantFloat._betaShift),__publicField(NeuQuantFloat,"_radiusBiasShift",6),__publicField(NeuQuantFloat,"_radiusBias",1<<_NeuQuantFloat._radiusBiasShift),__publicField(NeuQuantFloat,"_radiusDecrease",30),__publicField(NeuQuantFloat,"_alphaBiasShift",10),__publicField(NeuQuantFloat,"_initAlpha",1<<_NeuQuantFloat._alphaBiasShift),__publicField(NeuQuantFloat,"_radBiasShift",8),__publicField(NeuQuantFloat,"_radBias",1<<_NeuQuantFloat._radBiasShift),__publicField(NeuQuantFloat,"_alphaRadBiasShift",_NeuQuantFloat._alphaBiasShift+_NeuQuantFloat._radBiasShift),__publicField(NeuQuantFloat,"_alphaRadBias",1<<_NeuQuantFloat._alphaRadBiasShift);var _ColorHistogram=class{constructor(d,m){__publicField(this,"_method"),__publicField(this,"_hueStats"),__publicField(this,"_histogram"),__publicField(this,"_initColors"),__publicField(this,"_minHueCols"),this._method=d,this._minHueCols=m<<2,this._initColors=m<<2,this._hueStats=new HueStatistics(_ColorHistogram._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(d){switch(this._method){case 1:this._colorStats1D(d);break;case 2:this._colorStats2D(d)}}getImportanceSortedColorsIDXI32(){const d=stableSort(Object.keys(this._histogram),(g,w)=>this._histogram[w]-this._histogram[g]);if(d.length===0)return[];let m;switch(this._method){case 1:const g=Math.min(d.length,this._initColors),w=d[g-1],j=this._histogram[w];m=d.slice(0,g);let H=g;const et=d.length;for(;H<et&&this._histogram[d[H]]===j;)m.push(d[H++]);this._hueStats.injectIntoArray(m);break;case 2:m=d;break;default:throw new Error("Incorrect method")}return m.map(g=>+g)}_colorStats1D(d){const m=this._histogram,g=d.getPointArray(),w=g.length;for(let j=0;j<w;j++){const H=g[j].uint32;this._hueStats.check(H),H in m?m[H]++:m[H]=1}}_colorStats2D(d){const m=d.getWidth(),g=d.getHeight(),w=d.getPointArray(),j=_ColorHistogram._boxSize[0],H=_ColorHistogram._boxSize[1],et=j*H,it=this._makeBoxes(m,g,j,H),ot=this._histogram;it.forEach(ut=>{let ft=Math.round(ut.w*ut.h/et)*_ColorHistogram._boxPixels;ft<2&&(ft=2);const dt={};this._iterateBox(ut,m,St=>{const Tt=w[St].uint32;this._hueStats.check(Tt),Tt in ot?ot[Tt]++:Tt in dt?++dt[Tt]>=ft&&(ot[Tt]=dt[Tt]):dt[Tt]=1})}),this._hueStats.injectIntoDictionary(ot)}_iterateBox(d,m,g){const w=d,j=w.y*m+w.x,H=(w.y+w.h-1)*m+(w.x+w.w-1),et=m-w.w+1;let it=0,ot=j;do g.call(this,ot),ot+=++it%w.w==0?et:1;while(ot<=H)}_makeBoxes(d,m,g,w){const j=d%g,H=m%w,et=d-j,it=m-H,ot=[];for(let ut=0;ut<m;ut+=w)for(let ft=0;ft<d;ft+=g)ot.push({x:ft,y:ut,w:ft===et?j:g,h:ut===it?H:w});return ot}},ColorHistogram=_ColorHistogram;__publicField(ColorHistogram,"_boxSize",[64,64]),__publicField(ColorHistogram,"_boxPixels",2),__publicField(ColorHistogram,"_hueGroups",10);var RemovedColor=class{constructor(d,m,g){__publicField(this,"index"),__publicField(this,"color"),__publicField(this,"distance"),this.index=d,this.color=m,this.distance=g}},RGBQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256,g=2){super(),__publicField(this,"_colors"),__publicField(this,"_initialDistance"),__publicField(this,"_distanceIncrement"),__publicField(this,"_histogram"),__publicField(this,"_distance"),this._distance=d,this._colors=m,this._histogram=new ColorHistogram(g,m),this._initialDistance=.01,this._distanceIncrement=.005}sample(d){this._histogram.sample(d)}*quantize(){const d=this._histogram.getImportanceSortedColorsIDXI32();if(d.length===0)throw new Error("No colors in image");yield*this._buildPalette(d)}*_buildPalette(d){const m=new Palette,g=m.getPointContainer().getPointArray(),w=new Array(d.length);for(let ft=0;ft<d.length;ft++)g.push(Point.createByUint32(d[ft])),w[ft]=1;const j=g.length,H=[];let et=j,it=this._initialDistance;const ot=new ProgressTracker(et-this._colors,99);for(;et>this._colors;){H.length=0;for(let ft=0;ft<j;ft++){if(ot.shouldNotify(j-et)&&(yield{progress:ot.progress}),w[ft]===0)continue;const dt=g[ft];for(let St=ft+1;St<j;St++){if(w[St]===0)continue;const Tt=g[St],Rt=this._distance.calculateNormalized(dt,Tt);Rt<it&&(H.push(new RemovedColor(St,Tt,Rt)),w[St]=0,et--)}}it+=et>3*this._colors?this._initialDistance:this._distanceIncrement}if(et<this._colors){stableSort(H,(dt,St)=>St.distance-dt.distance);let ft=0;for(;et<this._colors&&ft<H.length;)w[H[ft].index]=1,et++,ft++}let ut=g.length;for(let ft=ut-1;ft>=0;ft--)w[ft]===0&&(ft!==ut-1&&(g[ft]=g[ut-1]),--ut);g.length=ut,m.sort(),yield{palette:m,progress:100}}};function createArray1D(d){const m=[];for(let g=0;g<d;g++)m[g]=0;return m}function createArray4D(d,m,g,w){const j=new Array(d);for(let H=0;H<d;H++){j[H]=new Array(m);for(let et=0;et<m;et++){j[H][et]=new Array(g);for(let it=0;it<g;it++){j[H][et][it]=new Array(w);for(let ot=0;ot<w;ot++)j[H][et][it][ot]=0}}}return j}function createArray3D(d,m,g){const w=new Array(d);for(let j=0;j<d;j++){w[j]=new Array(m);for(let H=0;H<m;H++){w[j][H]=new Array(g);for(let et=0;et<g;et++)w[j][H][et]=0}}return w}function fillArray3D(d,m,g,w,j){for(let H=0;H<m;H++){d[H]=[];for(let et=0;et<g;et++){d[H][et]=[];for(let it=0;it<w;it++)d[H][et][it]=j}}}function fillArray1D(d,m,g){for(let w=0;w<m;w++)d[w]=g}var WuColorCube=class{constructor(){__publicField(this,"redMinimum"),__publicField(this,"redMaximum"),__publicField(this,"greenMinimum"),__publicField(this,"greenMaximum"),__publicField(this,"blueMinimum"),__publicField(this,"blueMaximum"),__publicField(this,"volume"),__publicField(this,"alphaMinimum"),__publicField(this,"alphaMaximum")}},_WuQuant=class extends AbstractPaletteQuantizer{constructor(d,m=256,g=5){super(),__publicField(this,"_reds"),__publicField(this,"_greens"),__publicField(this,"_blues"),__publicField(this,"_alphas"),__publicField(this,"_sums"),__publicField(this,"_weights"),__publicField(this,"_momentsRed"),__publicField(this,"_momentsGreen"),__publicField(this,"_momentsBlue"),__publicField(this,"_momentsAlpha"),__publicField(this,"_moments"),__publicField(this,"_table"),__publicField(this,"_pixels"),__publicField(this,"_cubes"),__publicField(this,"_colors"),__publicField(this,"_significantBitsPerChannel"),__publicField(this,"_maxSideIndex"),__publicField(this,"_alphaMaxSideIndex"),__publicField(this,"_sideSize"),__publicField(this,"_alphaSideSize"),__publicField(this,"_distance"),this._distance=d,this._setQuality(g),this._initialize(m)}sample(d){const m=d.getPointArray();for(let g=0,w=m.length;g<w;g++)this._addColor(m[g]);this._pixels=this._pixels.concat(m)}*quantize(){yield*this._preparePalette();const d=new Palette;for(let m=0;m<this._colors;m++)if(this._sums[m]>0){const g=this._sums[m],w=this._reds[m]/g,j=this._greens[m]/g,H=this._blues[m]/g,et=this._alphas[m]/g,it=Point.createByRGBA(0|w,0|j,0|H,0|et);d.add(it)}d.sort(),yield{palette:d,progress:100}}*_preparePalette(){yield*this._calculateMoments();let d=0;const m=createArray1D(this._colors);for(let et=1;et<this._colors;++et){this._cut(this._cubes[d],this._cubes[et])?(m[d]=this._cubes[d].volume>1?this._calculateVariance(this._cubes[d]):0,m[et]=this._cubes[et].volume>1?this._calculateVariance(this._cubes[et]):0):(m[d]=0,et--),d=0;let it=m[0];for(let ot=1;ot<=et;++ot)m[ot]>it&&(it=m[ot],d=ot);if(it<=0){this._colors=et+1;break}}const g=[],w=[],j=[],H=[];for(let et=0;et<this._colors;++et){const it=_WuQuant._volume(this._cubes[et],this._weights);it>0?(g[et]=_WuQuant._volume(this._cubes[et],this._momentsRed)/it|0,w[et]=_WuQuant._volume(this._cubes[et],this._momentsGreen)/it|0,j[et]=_WuQuant._volume(this._cubes[et],this._momentsBlue)/it|0,H[et]=_WuQuant._volume(this._cubes[et],this._momentsAlpha)/it|0):(g[et]=0,w[et]=0,j[et]=0,H[et]=0)}this._reds=createArray1D(this._colors+1),this._greens=createArray1D(this._colors+1),this._blues=createArray1D(this._colors+1),this._alphas=createArray1D(this._colors+1),this._sums=createArray1D(this._colors+1);for(let et=0,it=this._pixels.length;et<it;et++){const ot=this._pixels[et];let ut=-1,ft=Number.MAX_VALUE;for(let dt=0;dt<this._colors;dt++){const St=g[dt],Tt=w[dt],Rt=j[dt],zt=H[dt],$t=this._distance.calculateRaw(St,Tt,Rt,zt,ot.r,ot.g,ot.b,ot.a);$t<ft&&(ft=$t,ut=dt)}this._reds[ut]+=ot.r,this._greens[ut]+=ot.g,this._blues[ut]+=ot.b,this._alphas[ut]+=ot.a,this._sums[ut]++}}_addColor(d){const m=8-this._significantBitsPerChannel,g=1+(d.r>>m),w=1+(d.g>>m),j=1+(d.b>>m),H=1+(d.a>>m);this._weights[H][g][w][j]++,this._momentsRed[H][g][w][j]+=d.r,this._momentsGreen[H][g][w][j]+=d.g,this._momentsBlue[H][g][w][j]+=d.b,this._momentsAlpha[H][g][w][j]+=d.a,this._moments[H][g][w][j]+=this._table[d.r]+this._table[d.g]+this._table[d.b]+this._table[d.a]}*_calculateMoments(){const d=[],m=[],g=[],w=[],j=[],H=[],et=createArray3D(this._sideSize,this._sideSize,this._sideSize),it=createArray3D(this._sideSize,this._sideSize,this._sideSize),ot=createArray3D(this._sideSize,this._sideSize,this._sideSize),ut=createArray3D(this._sideSize,this._sideSize,this._sideSize),ft=createArray3D(this._sideSize,this._sideSize,this._sideSize),dt=createArray3D(this._sideSize,this._sideSize,this._sideSize);let St=0;const Tt=new ProgressTracker(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let Rt=1;Rt<=this._alphaMaxSideIndex;++Rt){fillArray3D(et,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(it,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(ot,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(ut,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(ft,this._sideSize,this._sideSize,this._sideSize,0),fillArray3D(dt,this._sideSize,this._sideSize,this._sideSize,0);for(let zt=1;zt<=this._maxSideIndex;++zt,++St){Tt.shouldNotify(St)&&(yield{progress:Tt.progress}),fillArray1D(d,this._sideSize,0),fillArray1D(m,this._sideSize,0),fillArray1D(g,this._sideSize,0),fillArray1D(w,this._sideSize,0),fillArray1D(j,this._sideSize,0),fillArray1D(H,this._sideSize,0);for(let $t=1;$t<=this._maxSideIndex;++$t){let Ht=0,jt=0,Ft=0,Dt=0,Yt=0,ne=0;for(let Kt=1;Kt<=this._maxSideIndex;++Kt)Ht+=this._weights[Rt][zt][$t][Kt],jt+=this._momentsRed[Rt][zt][$t][Kt],Ft+=this._momentsGreen[Rt][zt][$t][Kt],Dt+=this._momentsBlue[Rt][zt][$t][Kt],Yt+=this._momentsAlpha[Rt][zt][$t][Kt],ne+=this._moments[Rt][zt][$t][Kt],d[Kt]+=Ht,m[Kt]+=jt,g[Kt]+=Ft,w[Kt]+=Dt,j[Kt]+=Yt,H[Kt]+=ne,et[zt][$t][Kt]=et[zt-1][$t][Kt]+d[Kt],it[zt][$t][Kt]=it[zt-1][$t][Kt]+m[Kt],ot[zt][$t][Kt]=ot[zt-1][$t][Kt]+g[Kt],ut[zt][$t][Kt]=ut[zt-1][$t][Kt]+w[Kt],ft[zt][$t][Kt]=ft[zt-1][$t][Kt]+j[Kt],dt[zt][$t][Kt]=dt[zt-1][$t][Kt]+H[Kt],this._weights[Rt][zt][$t][Kt]=this._weights[Rt-1][zt][$t][Kt]+et[zt][$t][Kt],this._momentsRed[Rt][zt][$t][Kt]=this._momentsRed[Rt-1][zt][$t][Kt]+it[zt][$t][Kt],this._momentsGreen[Rt][zt][$t][Kt]=this._momentsGreen[Rt-1][zt][$t][Kt]+ot[zt][$t][Kt],this._momentsBlue[Rt][zt][$t][Kt]=this._momentsBlue[Rt-1][zt][$t][Kt]+ut[zt][$t][Kt],this._momentsAlpha[Rt][zt][$t][Kt]=this._momentsAlpha[Rt-1][zt][$t][Kt]+ft[zt][$t][Kt],this._moments[Rt][zt][$t][Kt]=this._moments[Rt-1][zt][$t][Kt]+dt[zt][$t][Kt]}}}}static _volumeFloat(d,m){return m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMaximum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(m[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]-m[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+m[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-m[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]+m[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-m[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum])}static _volume(d,m){return 0|_WuQuant._volumeFloat(d,m)}static _top(d,m,g,w){let j;switch(m){case _WuQuant._alpha:j=w[g][d.redMaximum][d.greenMaximum][d.blueMaximum]-w[g][d.redMaximum][d.greenMinimum][d.blueMaximum]-w[g][d.redMinimum][d.greenMaximum][d.blueMaximum]+w[g][d.redMinimum][d.greenMinimum][d.blueMaximum]-(w[g][d.redMaximum][d.greenMaximum][d.blueMinimum]-w[g][d.redMaximum][d.greenMinimum][d.blueMinimum]-w[g][d.redMinimum][d.greenMaximum][d.blueMinimum]+w[g][d.redMinimum][d.greenMinimum][d.blueMinimum]);break;case _WuQuant._red:j=w[d.alphaMaximum][g][d.greenMaximum][d.blueMaximum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMaximum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMaximum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMaximum]-(w[d.alphaMaximum][g][d.greenMaximum][d.blueMinimum]-w[d.alphaMaximum][g][d.greenMinimum][d.blueMinimum]-w[d.alphaMinimum][g][d.greenMaximum][d.blueMinimum]+w[d.alphaMinimum][g][d.greenMinimum][d.blueMinimum]);break;case _WuQuant._green:j=w[d.alphaMaximum][d.redMaximum][g][d.blueMaximum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMaximum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMaximum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMaximum]-(w[d.alphaMaximum][d.redMaximum][g][d.blueMinimum]-w[d.alphaMaximum][d.redMinimum][g][d.blueMinimum]-w[d.alphaMinimum][d.redMaximum][g][d.blueMinimum]+w[d.alphaMinimum][d.redMinimum][g][d.blueMinimum]);break;case _WuQuant._blue:j=w[d.alphaMaximum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMaximum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMaximum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMaximum][d.redMinimum][d.greenMinimum][g]-(w[d.alphaMinimum][d.redMaximum][d.greenMaximum][g]-w[d.alphaMinimum][d.redMaximum][d.greenMinimum][g]-w[d.alphaMinimum][d.redMinimum][d.greenMaximum][g]+w[d.alphaMinimum][d.redMinimum][d.greenMinimum][g]);break;default:throw new Error("impossible")}return 0|j}static _bottom(d,m,g){switch(m){case _WuQuant._alpha:return-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._red:return-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._green:return-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMaximum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMaximum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMaximum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMaximum]-(-g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);case _WuQuant._blue:return-g[d.alphaMaximum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMaximum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMaximum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMaximum][d.redMinimum][d.greenMinimum][d.blueMinimum]-(-g[d.alphaMinimum][d.redMaximum][d.greenMaximum][d.blueMinimum]+g[d.alphaMinimum][d.redMaximum][d.greenMinimum][d.blueMinimum]+g[d.alphaMinimum][d.redMinimum][d.greenMaximum][d.blueMinimum]-g[d.alphaMinimum][d.redMinimum][d.greenMinimum][d.blueMinimum]);default:return 0}}_calculateVariance(d){const m=_WuQuant._volume(d,this._momentsRed),g=_WuQuant._volume(d,this._momentsGreen),w=_WuQuant._volume(d,this._momentsBlue),j=_WuQuant._volume(d,this._momentsAlpha);return _WuQuant._volumeFloat(d,this._moments)-(m*m+g*g+w*w+j*j)/_WuQuant._volume(d,this._weights)}_maximize(d,m,g,w,j,H,et,it,ot){const ut=0|_WuQuant._bottom(d,m,this._momentsRed),ft=0|_WuQuant._bottom(d,m,this._momentsGreen),dt=0|_WuQuant._bottom(d,m,this._momentsBlue),St=0|_WuQuant._bottom(d,m,this._momentsAlpha),Tt=0|_WuQuant._bottom(d,m,this._weights);let Rt=0,zt=-1;for(let $t=g;$t<w;++$t){let Ht=ut+_WuQuant._top(d,m,$t,this._momentsRed),jt=ft+_WuQuant._top(d,m,$t,this._momentsGreen),Ft=dt+_WuQuant._top(d,m,$t,this._momentsBlue),Dt=St+_WuQuant._top(d,m,$t,this._momentsAlpha),Yt=Tt+_WuQuant._top(d,m,$t,this._weights);if(Yt!==0){let ne=Ht*Ht+jt*jt+Ft*Ft+Dt*Dt,Kt=ne/Yt;Ht=j-Ht,jt=H-jt,Ft=et-Ft,Dt=it-Dt,Yt=ot-Yt,Yt!==0&&(ne=Ht*Ht+jt*jt+Ft*Ft+Dt*Dt,Kt+=ne/Yt,Kt>Rt&&(Rt=Kt,zt=$t))}}return{max:Rt,position:zt}}_cut(d,m){let g;const w=_WuQuant._volume(d,this._momentsRed),j=_WuQuant._volume(d,this._momentsGreen),H=_WuQuant._volume(d,this._momentsBlue),et=_WuQuant._volume(d,this._momentsAlpha),it=_WuQuant._volume(d,this._weights),ot=this._maximize(d,_WuQuant._red,d.redMinimum+1,d.redMaximum,w,j,H,et,it),ut=this._maximize(d,_WuQuant._green,d.greenMinimum+1,d.greenMaximum,w,j,H,et,it),ft=this._maximize(d,_WuQuant._blue,d.blueMinimum+1,d.blueMaximum,w,j,H,et,it),dt=this._maximize(d,_WuQuant._alpha,d.alphaMinimum+1,d.alphaMaximum,w,j,H,et,it);if(dt.max>=ot.max&&dt.max>=ut.max&&dt.max>=ft.max){if(g=_WuQuant._alpha,dt.position<0)return!1}else g=ot.max>=dt.max&&ot.max>=ut.max&&ot.max>=ft.max?_WuQuant._red:ut.max>=dt.max&&ut.max>=ot.max&&ut.max>=ft.max?_WuQuant._green:_WuQuant._blue;switch(m.redMaximum=d.redMaximum,m.greenMaximum=d.greenMaximum,m.blueMaximum=d.blueMaximum,m.alphaMaximum=d.alphaMaximum,g){case _WuQuant._red:m.redMinimum=d.redMaximum=ot.position,m.greenMinimum=d.greenMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._green:m.greenMinimum=d.greenMaximum=ut.position,m.redMinimum=d.redMinimum,m.blueMinimum=d.blueMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._blue:m.blueMinimum=d.blueMaximum=ft.position,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum,m.alphaMinimum=d.alphaMinimum;break;case _WuQuant._alpha:m.alphaMinimum=d.alphaMaximum=dt.position,m.blueMinimum=d.blueMinimum,m.redMinimum=d.redMinimum,m.greenMinimum=d.greenMinimum}return d.volume=(d.redMaximum-d.redMinimum)*(d.greenMaximum-d.greenMinimum)*(d.blueMaximum-d.blueMinimum)*(d.alphaMaximum-d.alphaMinimum),m.volume=(m.redMaximum-m.redMinimum)*(m.greenMaximum-m.greenMinimum)*(m.blueMaximum-m.blueMinimum)*(m.alphaMaximum-m.alphaMinimum),!0}_initialize(d){this._colors=d,this._cubes=[];for(let m=0;m<d;m++)this._cubes[m]=new WuColorCube;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=createArray4D(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let m=0;m<256;++m)this._table[m]=m*m;this._pixels=[]}_setQuality(d=5){this._significantBitsPerChannel=d,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},WuQuant=_WuQuant;__publicField(WuQuant,"_alpha",3),__publicField(WuQuant,"_red",2),__publicField(WuQuant,"_green",1),__publicField(WuQuant,"_blue",0);var image_exports={};__export(image_exports,{AbstractImageQuantizer:()=>AbstractImageQuantizer,ErrorDiffusionArray:()=>ErrorDiffusionArray,ErrorDiffusionArrayKernel:()=>ErrorDiffusionArrayKernel,ErrorDiffusionRiemersma:()=>ErrorDiffusionRiemersma,NearestColor:()=>NearestColor});var AbstractImageQuantizer=class{quantizeSync(d,m){for(const g of this.quantize(d,m))if(g.pointContainer)return g.pointContainer;throw new Error("unreachable")}},NearestColor=class extends AbstractImageQuantizer{constructor(d){super(),__publicField(this,"_distance"),this._distance=d}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),j=d.getHeight(),H=new ProgressTracker(j,99);for(let et=0;et<j;et++){H.shouldNotify(et)&&(yield{progress:H.progress});for(let it=0,ot=et*w;it<w;it++,ot++){const ut=g[ot];ut.from(m.getNearestColor(this._distance,ut))}}yield{pointContainer:d,progress:100}}},ErrorDiffusionArrayKernel=(d=>(d[d.FloydSteinberg=0]="FloydSteinberg",d[d.FalseFloydSteinberg=1]="FalseFloydSteinberg",d[d.Stucki=2]="Stucki",d[d.Atkinson=3]="Atkinson",d[d.Jarvis=4]="Jarvis",d[d.Burkes=5]="Burkes",d[d.Sierra=6]="Sierra",d[d.TwoSierra=7]="TwoSierra",d[d.SierraLite=8]="SierraLite",d))(ErrorDiffusionArrayKernel||{}),ErrorDiffusionArray=class extends AbstractImageQuantizer{constructor(d,m,g=!0,w=0,j=!1){super(),__publicField(this,"_minColorDistance"),__publicField(this,"_serpentine"),__publicField(this,"_kernel"),__publicField(this,"_calculateErrorLikeGIMP"),__publicField(this,"_distance"),this._setKernel(m),this._distance=d,this._minColorDistance=w,this._serpentine=g,this._calculateErrorLikeGIMP=j}*quantize(d,m){const g=d.getPointArray(),w=new Point,j=d.getWidth(),H=d.getHeight(),et=[];let it=1,ot=1;for(const ft of this._kernel){const dt=ft[2]+1;ot<dt&&(ot=dt)}for(let ft=0;ft<ot;ft++)this._fillErrorLine(et[ft]=[],j);const ut=new ProgressTracker(H,99);for(let ft=0;ft<H;ft++){ut.shouldNotify(ft)&&(yield{progress:ut.progress}),this._serpentine&&(it*=-1);const dt=ft*j,St=it===1?0:j-1,Tt=it===1?j:-1;this._fillErrorLine(et[0],j),et.push(et.shift());const Rt=et[0];for(let zt=St,$t=dt+St;zt!==Tt;zt+=it,$t+=it){const Ht=g[$t],jt=Rt[zt];w.from(Ht);const Ft=Point.createByRGBA(inRange0to255Rounded(Ht.r+jt[0]),inRange0to255Rounded(Ht.g+jt[1]),inRange0to255Rounded(Ht.b+jt[2]),inRange0to255Rounded(Ht.a+jt[3])),Dt=m.getNearestColor(this._distance,Ft);if(Ht.from(Dt),this._minColorDistance&&this._distance.calculateNormalized(w,Dt)<this._minColorDistance)continue;let Yt,ne,Kt,re;this._calculateErrorLikeGIMP?(Yt=Ft.r-Dt.r,ne=Ft.g-Dt.g,Kt=Ft.b-Dt.b,re=Ft.a-Dt.a):(Yt=w.r-Dt.r,ne=w.g-Dt.g,Kt=w.b-Dt.b,re=w.a-Dt.a);const ee=it===1?0:this._kernel.length-1,oe=it===1?this._kernel.length:-1;for(let Ut=ee;Ut!==oe;Ut+=it){const ie=this._kernel[Ut][1]*it,ge=this._kernel[Ut][2];if(ie+zt>=0&&ie+zt<j&&ge+ft>=0&&ge+ft<H){const ce=this._kernel[Ut][0],le=et[ge][ie+zt];le[0]+=Yt*ce,le[1]+=ne*ce,le[2]+=Kt*ce,le[3]+=re*ce}}}}yield{pointContainer:d,progress:100}}_fillErrorLine(d,m){d.length>m&&(d.length=m);const g=d.length;for(let w=0;w<g;w++){const j=d[w];j[0]=j[1]=j[2]=j[3]=0}for(let w=g;w<m;w++)d[w]=[0,0,0,0]}_setKernel(d){switch(d){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${d}`)}}};function*hilbertCurve(d,m,g){const w=Math.max(d,m),j={width:d,height:m,level:Math.floor(Math.log(w)/Math.log(2)+1),callback:g,tracker:new ProgressTracker(d*m,99),index:0,x:0,y:0};yield*walkHilbert(j,1),visit(j,0)}function*walkHilbert(d,m){if(!(d.level<1)){switch(d.tracker.shouldNotify(d.index)&&(yield{progress:d.tracker.progress}),d.level--,m){case 2:yield*walkHilbert(d,1),visit(d,3),yield*walkHilbert(d,2),visit(d,4),yield*walkHilbert(d,2),visit(d,2),yield*walkHilbert(d,4);break;case 3:yield*walkHilbert(d,4),visit(d,2),yield*walkHilbert(d,3),visit(d,1),yield*walkHilbert(d,3),visit(d,3),yield*walkHilbert(d,1);break;case 1:yield*walkHilbert(d,2),visit(d,4),yield*walkHilbert(d,1),visit(d,3),yield*walkHilbert(d,1),visit(d,1),yield*walkHilbert(d,3);break;case 4:yield*walkHilbert(d,3),visit(d,1),yield*walkHilbert(d,4),visit(d,2),yield*walkHilbert(d,4),visit(d,4),yield*walkHilbert(d,2)}d.level++}}function visit(d,m){switch(d.x>=0&&d.x<d.width&&d.y>=0&&d.y<d.height&&(d.callback(d.x,d.y),d.index++),m){case 2:d.x--;break;case 3:d.x++;break;case 1:d.y--;break;case 4:d.y++}}var ErrorDiffusionRiemersma=class extends AbstractImageQuantizer{constructor(d,m=16,g=1){super(),__publicField(this,"_distance"),__publicField(this,"_weights"),__publicField(this,"_errorQueueSize"),this._distance=d,this._errorQueueSize=m,this._weights=ErrorDiffusionRiemersma._createWeights(g,m)}*quantize(d,m){const g=d.getPointArray(),w=d.getWidth(),j=d.getHeight(),H=[];let et=0;for(let it=0;it<this._errorQueueSize;it++)H[it]={r:0,g:0,b:0,a:0};yield*hilbertCurve(w,j,(it,ot)=>{const ut=g[it+ot*w];let{r:ft,g:dt,b:St,a:Tt}=ut;for(let Ht=0;Ht<this._errorQueueSize;Ht++){const jt=this._weights[Ht],Ft=H[(Ht+et)%this._errorQueueSize];ft+=Ft.r*jt,dt+=Ft.g*jt,St+=Ft.b*jt,Tt+=Ft.a*jt}const Rt=Point.createByRGBA(inRange0to255Rounded(ft),inRange0to255Rounded(dt),inRange0to255Rounded(St),inRange0to255Rounded(Tt)),zt=m.getNearestColor(this._distance,Rt);et=(et+1)%this._errorQueueSize;const $t=(et+this._errorQueueSize-1)%this._errorQueueSize;H[$t].r=ut.r-zt.r,H[$t].g=ut.g-zt.g,H[$t].b=ut.b-zt.b,H[$t].a=ut.a-zt.a,ut.from(zt)}),yield{pointContainer:d,progress:100}}static _createWeights(d,m){const g=[],w=Math.exp(Math.log(m)/(m-1));for(let j=0,H=1;j<m;j++)g[j]=(H+.5|0)/m*d,H*=w;return g}},quality_exports={};__export(quality_exports,{ssim:()=>ssim});var K1=.01,K2=.03;function ssim(d,m){if(d.getHeight()!==m.getHeight()||d.getWidth()!==m.getWidth())throw new Error("Images have different sizes!");const g=(255*K1)**2,w=(255*K2)**2;let j=0,H=0;return iterate(d,m,(et,it,ot,ut)=>{let ft=0,dt=0,St=0;for(let Rt=0;Rt<et.length;Rt++)dt+=(et[Rt]-ot)**2,St+=(it[Rt]-ut)**2,ft+=(et[Rt]-ot)*(it[Rt]-ut);const Tt=et.length-1;dt/=Tt,St/=Tt,ft/=Tt,H+=(2*ot*ut+g)*(2*ft+w)/((ot**2+ut**2+g)*(dt+St+w)),j++}),H/j}function iterate(d,m,g){const w=d.getWidth(),j=d.getHeight();for(let H=0;H<j;H+=8)for(let et=0;et<w;et+=8){const it=Math.min(8,w-et),ot=Math.min(8,j-H),ut=calculateLumaValuesForWindow(d,et,H,it,ot),ft=calculateLumaValuesForWindow(m,et,H,it,ot);g(ut,ft,calculateAverageLuma(ut),calculateAverageLuma(ft))}}function calculateLumaValuesForWindow(d,m,g,w,j){const H=d.getPointArray(),et=[];let it=0;for(let ot=g;ot<g+j;ot++){const ut=ot*d.getWidth();for(let ft=m;ft<m+w;ft++){const dt=H[ut+ft];et[it]=.2126*dt.r+.7152*dt.g+.0722*dt.b,it++}}return et}function calculateAverageLuma(d){let m=0;for(const g of d)m+=g;return m/d.length}function buildPaletteSync(d,{colorDistanceFormula:m,paletteQuantization:g,colors:w}={}){const j=paletteQuantizationToPaletteQuantizer(colorDistanceFormulaToColorDistance(m),g,w);return d.forEach(H=>j.sample(H)),j.quantizeSync()}function applyPaletteSync(d,m,{colorDistanceFormula:g,imageQuantization:w}={}){return imageQuantizationToImageQuantizer(colorDistanceFormulaToColorDistance(g),w).quantizeSync(d,m)}function colorDistanceFormulaToColorDistance(d="euclidean-bt709"){switch(d){case"cie94-graphic-arts":return new CIE94GraphicArts;case"cie94-textiles":return new CIE94Textiles;case"ciede2000":return new CIEDE2000;case"color-metric":return new CMetric;case"euclidean":return new Euclidean;case"euclidean-bt709":return new EuclideanBT709;case"euclidean-bt709-noalpha":return new EuclideanBT709NoAlpha;case"manhattan":return new Manhattan;case"manhattan-bt709":return new ManhattanBT709;case"manhattan-nommyde":return new ManhattanNommyde;case"pngquant":return new PNGQuant;default:throw new Error(`Unknown colorDistanceFormula ${d}`)}}function imageQuantizationToImageQuantizer(d,m="floyd-steinberg"){switch(m){case"nearest":return new NearestColor(d);case"riemersma":return new ErrorDiffusionRiemersma(d);case"floyd-steinberg":return new ErrorDiffusionArray(d,0);case"false-floyd-steinberg":return new ErrorDiffusionArray(d,1);case"stucki":return new ErrorDiffusionArray(d,2);case"atkinson":return new ErrorDiffusionArray(d,3);case"jarvis":return new ErrorDiffusionArray(d,4);case"burkes":return new ErrorDiffusionArray(d,5);case"sierra":return new ErrorDiffusionArray(d,6);case"two-sierra":return new ErrorDiffusionArray(d,7);case"sierra-lite":return new ErrorDiffusionArray(d,8);default:throw new Error(`Unknown imageQuantization ${m}`)}}function paletteQuantizationToPaletteQuantizer(d,m="wuquant",g=256){switch(m){case"neuquant":return new NeuQuant(d,g);case"rgbquant":return new RGBQuant(d,g);case"wuquant":return new WuQuant(d,g);case"neuquant-float":return new NeuQuantFloat(d,g);default:throw new Error(`Unknown paletteQuantization ${m}`)}}/**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * common.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ditherErrorDiffusionArray.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * helper.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * nearestColor.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * palette.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ssim.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 *//**
 * @preserve
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 *//**
 * @preserve
 * MIT License
 *
 * Copyright 2015-2018 Igor Bezkrovnyi
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * riemersma.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 *//**
 * @preserve TypeScript port:
 * Copyright 2015-2018 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */typeof setImmediate=="function"?setImmediate:typeof process<"u"&&(process==null||process.nextTick);const QuantizeOptionsSchema=z$1.object({colors:z$1.number().optional(),colorDistanceFormula:z$1.union([z$1.literal("cie94-textiles"),z$1.literal("cie94-graphic-arts"),z$1.literal("ciede2000"),z$1.literal("color-metric"),z$1.literal("euclidean"),z$1.literal("euclidean-bt709-noalpha"),z$1.literal("euclidean-bt709"),z$1.literal("manhattan"),z$1.literal("manhattan-bt709"),z$1.literal("manhattan-nommyde"),z$1.literal("pngquant")]).optional(),paletteQuantization:z$1.union([z$1.literal("neuquant"),z$1.literal("neuquant-float"),z$1.literal("rgbquant"),z$1.literal("wuquant")]).optional(),imageQuantization:z$1.union([z$1.literal("nearest"),z$1.literal("riemersma"),z$1.literal("floyd-steinberg"),z$1.literal("false-floyd-steinberg"),z$1.literal("stucki"),z$1.literal("atkinson"),z$1.literal("jarvis"),z$1.literal("burkes"),z$1.literal("sierra"),z$1.literal("two-sierra"),z$1.literal("sierra-lite")]).optional()}),methods={quantize(d,m){const{colors:g,colorDistanceFormula:w,paletteQuantization:j,imageQuantization:H}=QuantizeOptionsSchema.parse(m),et=utils_exports.PointContainer.fromUint8Array(d.bitmap.data,d.bitmap.width,d.bitmap.height),it=applyPaletteSync(et,buildPaletteSync([et],{colors:g,colorDistanceFormula:w,paletteQuantization:j}),{colorDistanceFormula:w,imageQuantization:H});return d.bitmap.data=Buffer.from(it.toUint8Array()),d}};var parseBmfontAscii=function(d){if(!d)throw new Error("no data provided");var m={pages:[],chars:[],kernings:[]},g=(d=d.toString().trim()).split(/\r\n?|\n/g);if(g.length===0)throw new Error("no data in BMFont file");for(var w=0;w<g.length;w++){var j=splitLine(g[w],w);if(j)if(j.key==="page"){if(typeof j.data.id!="number")throw new Error("malformed file at line "+w+" -- needs page id=N");if(typeof j.data.file!="string")throw new Error("malformed file at line "+w+' -- needs page file="path"');m.pages[j.data.id]=j.data.file}else j.key==="chars"||j.key==="kernings"||(j.key==="char"?m.chars.push(j.data):j.key==="kerning"?m.kernings.push(j.data):m[j.key]=j.data)}return m};function splitLine(d,m){if(!(d=d.replace(/\t+/g," ").trim()))return null;var g=d.indexOf(" ");if(g===-1)throw new Error("no named row at line "+m);var w=d.substring(0,g);d=(d=(d=(d=d.substring(g+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(ot){return ot.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var j=[],H=0;H<d.length;H++){var et=d[H];H===0?j.push({key:et[0],data:""}):H===d.length-1?j[j.length-1].data=parseData(et[0]):(j[j.length-1].data=parseData(et[0]),j.push({key:et[1],data:""}))}var it={key:w,data:{}};return j.forEach(function(ot){it.data[ot.key]=ot.data}),it}function parseData(d){return d&&d.length!==0?d.indexOf('"')===0||d.indexOf("'")===0?d.substring(1,d.length-1):d.indexOf(",")!==-1?parseIntList$1(d):parseInt(d,10):""}function parseIntList$1(d){return d.split(",").map(function(m){return parseInt(m,10)})}getDefaultExportFromCjs(parseBmfontAscii);var GLYPH_DESIGNER_ERROR="chasrset",parseAttribs=function(d){for(var m in d=Object.assign({},d),GLYPH_DESIGNER_ERROR in d&&(d.charset=d[GLYPH_DESIGNER_ERROR],delete d[GLYPH_DESIGNER_ERROR]),d)m!=="face"&&m!=="charset"&&(d[m]=m==="padding"||m==="spacing"?parseIntList(d[m]):parseInt(d[m],10));return d};function parseIntList(d){return d.split(",").map(function(m){return parseInt(m,10)})}var xmlParseFromString=self.DOMParser!==void 0?function(d){return new self.DOMParser().parseFromString(d,"application/xml")}:self.ActiveXObject!==void 0&&new self.ActiveXObject("Microsoft.XMLDOM")?function(d){var m=new self.ActiveXObject("Microsoft.XMLDOM");return m.async="false",m.loadXML(d),m}:function(d){var m=document.createElement("div");return m.innerHTML=d,m},parseAttributes=parseAttribs,parseFromString=xmlParseFromString,NAME_MAP={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"},browser=function(d){d=d.toString();var m=parseFromString(d),g={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(ut){var ft=m.getElementsByTagName(ut)[0];ft&&(g[ut]=parseAttributes(getAttribs(ft)))});var w=m.getElementsByTagName("pages")[0];if(!w)throw new Error("malformed file -- no <pages> element");for(var j=w.getElementsByTagName("page"),H=0;H<j.length;H++){var et=j[H],it=parseInt(et.getAttribute("id"),10),ot=et.getAttribute("file");if(isNaN(it))throw new Error('malformed file -- page "id" attribute is NaN');if(!ot)throw new Error('malformed file -- needs page "file" attribute');g.pages[parseInt(it,10)]=ot}return["chars","kernings"].forEach(function(ut){var ft=m.getElementsByTagName(ut)[0];if(ft)for(var dt=ut.substring(0,ut.length-1),St=ft.getElementsByTagName(dt),Tt=0;Tt<St.length;Tt++){var Rt=St[Tt];g[ut].push(parseAttributes(getAttribs(Rt)))}}),g};function getAttribs(d){return getAttribList(d).reduce(function(m,g){return m[mapName(g.nodeName)]=g.nodeValue,m},{})}function getAttribList(d){for(var m=[],g=0;g<d.attributes.length;g++)m.push(d.attributes[g]);return m}function mapName(d){return NAME_MAP[d.toLowerCase()]||d}getDefaultExportFromCjs(browser);var HEADER$1=[66,77,70],parseBmfontBinary=function(d){if(d.length<6)throw new Error("invalid buffer length for BMFont");var m=HEADER$1.every(function(H,et){return d.readUInt8(et)===H});if(!m)throw new Error("BMFont missing BMF byte header");var g=3;if(d.readUInt8(g++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var w={kernings:[],chars:[]},j=0;j<5;j++)g+=readBlock(w,d,g);return w};function readBlock(d,m,g){if(g>m.length-1)return 0;var w=m.readUInt8(g++),j=m.readInt32LE(g);switch(g+=4,w){case 1:d.info=readInfo(m,g);break;case 2:d.common=readCommon(m,g);break;case 3:d.pages=readPages(m,g,j);break;case 4:d.chars=readChars(m,g,j);break;case 5:d.kernings=readKernings(m,g,j)}return 5+j}function readInfo(d,m){var g={};g.size=d.readInt16LE(m);var w=d.readUInt8(m+2);return g.smooth=w>>7&1,g.unicode=w>>6&1,g.italic=w>>5&1,g.bold=w>>4&1,w>>3&1&&(g.fixedHeight=1),g.charset=d.readUInt8(m+3)||"",g.stretchH=d.readUInt16LE(m+4),g.aa=d.readUInt8(m+6),g.padding=[d.readInt8(m+7),d.readInt8(m+8),d.readInt8(m+9),d.readInt8(m+10)],g.spacing=[d.readInt8(m+11),d.readInt8(m+12)],g.outline=d.readUInt8(m+13),g.face=readStringNT(d,m+14),g}function readCommon(d,m){var g={};return g.lineHeight=d.readUInt16LE(m),g.base=d.readUInt16LE(m+2),g.scaleW=d.readUInt16LE(m+4),g.scaleH=d.readUInt16LE(m+6),g.pages=d.readUInt16LE(m+8),d.readUInt8(m+10),g.packed=0,g.alphaChnl=d.readUInt8(m+11),g.redChnl=d.readUInt8(m+12),g.greenChnl=d.readUInt8(m+13),g.blueChnl=d.readUInt8(m+14),g}function readPages(d,m,g){for(var w=[],j=readNameNT(d,m),H=j.length+1,et=g/H,it=0;it<et;it++)w[it]=d.slice(m,m+j.length).toString("utf8"),m+=H;return w}function readChars(d,m,g){for(var w=[],j=g/20,H=0;H<j;H++){var et={},it=20*H;et.id=d.readUInt32LE(m+0+it),et.x=d.readUInt16LE(m+4+it),et.y=d.readUInt16LE(m+6+it),et.width=d.readUInt16LE(m+8+it),et.height=d.readUInt16LE(m+10+it),et.xoffset=d.readInt16LE(m+12+it),et.yoffset=d.readInt16LE(m+14+it),et.xadvance=d.readInt16LE(m+16+it),et.page=d.readUInt8(m+18+it),et.chnl=d.readUInt8(m+19+it),w[H]=et}return w}function readKernings(d,m,g){for(var w=[],j=g/10,H=0;H<j;H++){var et={},it=10*H;et.first=d.readUInt32LE(m+0+it),et.second=d.readUInt32LE(m+4+it),et.amount=d.readInt16LE(m+8+it),w[H]=et}return w}function readNameNT(d,m){for(var g=m;g<d.length&&d[g]!==0;g++);return d.slice(m,g)}function readStringNT(d,m){return readNameNT(d,m).toString("utf8")}getDefaultExportFromCjs(parseBmfontBinary);function e(d){return d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}const t=d=>{if(!d)return null;const m={};switch(d.type){case"ELEMENT":{let g={};const w=E(d.value.attributes),j=t(d.value.children);if(w&&(g=Object.assign(g,w)),j){const H=r$1(d.value.children);g=Object.assign(g,H)}m[d.value.type]=g;break}case"ATTRIBUTE":{const g=d.value;m[g.name]=g.value;break}case"CONTENT":return{content:d.value}}return m},r$1=d=>d&&Array.isArray(d)&&d.length!==0?n(d)?{content:d[0].value}:{children:d.map(t)}:null,n=d=>d&&Array.isArray(d)&&d.length===1&&d[0].type==="CONTENT",E=d=>d&&Array.isArray(d)?d.map(t).reduce((m,g)=>Object.assign(m,g),{}):null;var s={convert:d=>t(d.value.children[0])},a={Token:(d,m)=>({type:d,value:m}),TOKEN_TYPE:{OPEN_BRACKET:"OPEN_BRACKET",ELEMENT_TYPE:"ELEMENT_TYPE",CLOSE_ELEMENT:"CLOSE_ELEMENT",ATTRIB_NAME:"ATTRIB_NAME",ATTRIB_VALUE:"ATTRIB_VALUE",ASSIGN:"ASSIGN",CLOSE_BRACKET:"CLOSE_BRACKET",CONTENT:"CONTENT",EOF:"EOF"}};const{Token:T,TOKEN_TYPE:u}=a,c=T("EOF"),l=d=>d===" "||d===`
`||d==="\r"||d==="	",o=d=>d.replace(/'/g,'"');var N$1={createLexer:function(d){let m=null,g=(dt=>{let St=0;for(;St<dt.length&&l(dt[St]);)St++;return((Tt,Rt)=>{if(Tt.startsWith("<?xml",Rt)){const zt=Tt.length;for(;Rt<zt;)if(Tt[Rt]!=="?")Rt++;else{if(Tt[Rt+1]===">")return Rt+2;Rt++}}return Rt})(dt,St)})(d),w=[];const j=()=>d[g],H=()=>m!==c&&g<d.length,et=dt=>dt==='"'||dt==="'",it=()=>{for(;H()&&l(d[g]);)g++},ot=dt=>{if(H()){if(d[g]==="<"){let St="<";return g++,H()&&d[g]==="/"?(g++,St="</"):H()&&d[g]==="!"&&d[g+1]==="-"&&d[g+2]==="-"&&(g++,g++,g++,St="<!--"),St}if(j()==="/"){let St="/";return g++,H()&&j()===">"&&(g++,St="/>"),St}if(d[g]==="="||d[g]===">"){const St=d[g];return g++,St}}return ut(!!dt)},ut=dt=>{const St=dt?/[^>=<]/u:/[a-zA-Z0-9_:-]/;let Tt=g;for(;H()&&d[g].match(St);)g++;return o(d.substring(Tt,g))},ft=()=>{const dt=g;it();const St=g-dt;if(H())if(m&&m.type===u.OPEN_BRACKET){it();const Tt=ot(!1);m=T(u.ELEMENT_TYPE,Tt),w.push(Tt)}else if(m&&m.type===u.ASSIGN){H()&&et(j())&&g++;let Tt=g;for(;H()&&!et(j());)g++;const Rt=o(d.substring(Tt,g));g++,m=T(u.ATTRIB_VALUE,Rt)}else{it();let Tt=ot(!0);switch(Tt){case"=":m=m.type===u.ATTRIB_NAME?T(u.ASSIGN):T(u.CONTENT,Tt);break;case"</":{const Rt=g;for(;d[g]!==">";)g++;m=T(u.CLOSE_ELEMENT,d.substring(Rt,g)),g++,w.pop();break}case"/>":{const Rt=w.pop();m=T(u.CLOSE_ELEMENT,Rt);break}case"<!--":{const Rt=["!","-","-"];for(;H()&&(Rt[2]!==">"||Rt[1]!=="-"||Rt[0]!=="-");)Rt.shift(),Rt.push(d[g]),g++;return ft()}case">":m=T(u.CLOSE_BRACKET);break;case"<":m=T(u.OPEN_BRACKET);break;default:if(Tt&&Tt.length>0){if(m.type===u.CLOSE_BRACKET){let Rt="";j()!=="<"&&(Rt=ut(!0)),m=T(u.CONTENT,Tt+Rt)}else if(m.type!==u.ATTRIB_NAME&&m.type!==u.CONTENT)m.type===u.CLOSE_ELEMENT?(Tt=" ".repeat(St)+Tt,m=T(u.CONTENT,Tt)):m=T(u.ATTRIB_NAME,Tt);else{const Rt=" ".repeat(St)+Tt;m=T(u.CONTENT,Rt)}break}{const Rt='Unknown Syntax : "'+d[g]+'"';throw new Error(Rt)}}}else m=c;return m};return{peek:j,next:ft,hasNext:H}}};const{createLexer:i}=N$1,{Token:p,TOKEN_TYPE:O}=a,[A,f,C,h]=["ROOT","ELEMENT","ATTRIBUTE","CONTENT"],_=(d,m)=>({type:d,value:m}),L$1=d=>_(h,d),y$3=(d,m,g)=>_(f,{type:d,attributes:m,children:g}),v=(d,m)=>_(C,{name:d,value:m}),S=(d,m)=>{const g=[];for(;d.hasNext();){const w=d.next();switch(w.type){case O.OPEN_BRACKET:{const j=d.next(),[H,et]=R(d);let it=[];et.type!==O.CLOSE_ELEMENT&&(it=S(d,j)),it&&it.length>0&&it[0].type===O.CONTENT&&(it=b(it)),g.push(y$3(j.value,H,it));break}case O.CLOSE_ELEMENT:if(w.value===m.value)return g;break;case O.CONTENT:g.push(L$1(w.value));break;case O.EOF:return g;default:throw new Error(`Unknown Lexem type: ${w.type} "${w.value}, scoping element: ${m.value}"`)}}return g},R=d=>{const m=[];let g=d.peek();if(!d.hasNext()||g&&g.type===O.CLOSE_BRACKET||g&&g.type===O.CLOSE_ELEMENT)return[m,g];for(g=d.next();d.hasNext()&&g&&g.type!==O.CLOSE_BRACKET&&g.type!==O.CLOSE_ELEMENT;){const w=g;d.next();const j=d.next(),H=v(w.value,j.value);m.push(H),g=d.next()}return[m,g]};function b(d){let m=[],g="";return d.forEach(w=>{w.type===O.CONTENT?g+=w.value:(g.length&&(m.push(L$1(g)),g=""),m.push(w))}),g.length&&m.push(L$1(g)),m}var B$1={transpile:function(d,m){const g=(w=>_(A,{children:S(w,p(A,"ROOT"))}))(i(d));return m?m.convert(g):g},Node:_,ElementNode:y$3,AttribNode:v};const M=s,{transpile:x}=B$1;var k=e({convertXML:function(d,m){return x(d,m||M)},createAST:function(d){return x(d)}}),simpleXmlToJson_min=k;getDefaultExportFromCjs(simpleXmlToJson_min);createJimp({formats:[png]});Buffer.from([66,77,70,3]);var pixelmatch_1=pixelmatch;const defaultOptions={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};function pixelmatch(d,m,g,w,j,H){if(!isPixelData(d)||!isPixelData(m)||g&&!isPixelData(g))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(d.length!==m.length||g&&g.length!==d.length)throw new Error("Image sizes do not match.");if(d.length!==w*j*4)throw new Error("Image data size does not match width/height.");H=Object.assign({},defaultOptions,H);const et=w*j,it=new Uint32Array(d.buffer,d.byteOffset,et),ot=new Uint32Array(m.buffer,m.byteOffset,et);let ut=!0;for(let St=0;St<et;St++)if(it[St]!==ot[St]){ut=!1;break}if(ut){if(g&&!H.diffMask)for(let St=0;St<et;St++)drawGrayPixel(d,4*St,H.alpha,g);return 0}const ft=35215*H.threshold*H.threshold;let dt=0;for(let St=0;St<j;St++)for(let Tt=0;Tt<w;Tt++){const Rt=4*(St*w+Tt),zt=colorDelta(d,m,Rt,Rt);Math.abs(zt)>ft?H.includeAA||!antialiased(d,Tt,St,w,j,m)&&!antialiased(m,Tt,St,w,j,d)?(g&&drawPixel(g,Rt,...zt<0&&H.diffColorAlt||H.diffColor),dt++):g&&!H.diffMask&&drawPixel(g,Rt,...H.aaColor):g&&(H.diffMask||drawGrayPixel(d,Rt,H.alpha,g))}return dt}function isPixelData(d){return ArrayBuffer.isView(d)&&d.constructor.BYTES_PER_ELEMENT===1}function antialiased(d,m,g,w,j,H){const et=Math.max(m-1,0),it=Math.max(g-1,0),ot=Math.min(m+1,w-1),ut=Math.min(g+1,j-1),ft=4*(g*w+m);let dt,St,Tt,Rt,zt=m===et||m===ot||g===it||g===ut?1:0,$t=0,Ht=0;for(let jt=et;jt<=ot;jt++)for(let Ft=it;Ft<=ut;Ft++){if(jt===m&&Ft===g)continue;const Dt=colorDelta(d,d,ft,4*(Ft*w+jt),!0);if(Dt===0){if(zt++,zt>2)return!1}else Dt<$t?($t=Dt,dt=jt,St=Ft):Dt>Ht&&(Ht=Dt,Tt=jt,Rt=Ft)}return $t!==0&&Ht!==0&&(hasManySiblings(d,dt,St,w,j)&&hasManySiblings(H,dt,St,w,j)||hasManySiblings(d,Tt,Rt,w,j)&&hasManySiblings(H,Tt,Rt,w,j))}function hasManySiblings(d,m,g,w,j){const H=Math.max(m-1,0),et=Math.max(g-1,0),it=Math.min(m+1,w-1),ot=Math.min(g+1,j-1),ut=4*(g*w+m);let ft=m===H||m===it||g===et||g===ot?1:0;for(let dt=H;dt<=it;dt++)for(let St=et;St<=ot;St++){if(dt===m&&St===g)continue;const Tt=4*(St*w+dt);if(d[ut]===d[Tt]&&d[ut+1]===d[Tt+1]&&d[ut+2]===d[Tt+2]&&d[ut+3]===d[Tt+3]&&ft++,ft>2)return!0}return!1}function colorDelta(d,m,g,w,j){let H=d[g+0],et=d[g+1],it=d[g+2],ot=d[g+3],ut=m[w+0],ft=m[w+1],dt=m[w+2],St=m[w+3];if(ot===St&&H===ut&&et===ft&&it===dt)return 0;ot<255&&(ot/=255,H=blend(H,ot),et=blend(et,ot),it=blend(it,ot)),St<255&&(St/=255,ut=blend(ut,St),ft=blend(ft,St),dt=blend(dt,St));const Tt=rgb2y(H,et,it),Rt=rgb2y(ut,ft,dt),zt=Tt-Rt;if(j)return zt;const $t=rgb2i(H,et,it)-rgb2i(ut,ft,dt),Ht=rgb2q(H,et,it)-rgb2q(ut,ft,dt),jt=.5053*zt*zt+.299*$t*$t+.1957*Ht*Ht;return Tt>Rt?-jt:jt}function rgb2y(d,m,g){return .29889531*d+.58662247*m+.11448223*g}function rgb2i(d,m,g){return .59597799*d-.2741761*m-.32180189*g}function rgb2q(d,m,g){return .21147017*d-.52261711*m+.31114694*g}function blend(d,m){return 255+(d-255)*m}function drawPixel(d,m,g,w,j){d[m+0]=g,d[m+1]=w,d[m+2]=j,d[m+3]=255}function drawGrayPixel(d,m,g,w){const j=blend(rgb2y(d[m+0],d[m+1],d[m+2]),g*d[m+3]/255);drawPixel(w,m,j,j,j)}getDefaultExportFromCjs(pixelmatch_1);const defaultPlugins=[methods$h,methods$g,methods$f,methods$e,methods$c,methods$a,methods$b,methods$9,methods$8,methods$7,methods$6,methods$5,methods$4,methods$3,methods$d,methods$2,methods$1,methods],defaultFormats=[bmp,msBmp,gif,jpeg$2,png,tiff];bmp().mime,gif().mime,jpeg$2().mime,png().mime,tiff().mime;const Jimp=createJimp({formats:defaultFormats,plugins:defaultPlugins}),handleUploadClick=d=>{var m;(m=d.current)==null||m.click()},handleFileChange=(d,m)=>{var w;const g=(w=d.target.files)==null?void 0:w[0];if(g){const j=new FileReader;j.onload=H=>{var et;m((et=H.target)==null?void 0:et.result)},j.readAsDataURL(g)}},processImage=async(d,m,g,w)=>{if(!d){w("No image uploaded.",!0);return}try{const H=await(await fetch(d)).arrayBuffer(),et=await Jimp.read(H),it={r:255,g:255,b:255,a:255},ot={r:0,g:0,b:0,a:0},ut=(St,Tt)=>Math.sqrt(Math.pow(St.r-Tt.r,2)+Math.pow(St.g-Tt.g,2)+Math.pow(St.b-Tt.b,2)+Math.pow(St.a-Tt.a,2));et.scan(0,0,et.bitmap.width,et.bitmap.height,(St,Tt,Rt)=>{const zt={r:et.bitmap.data[Rt],g:et.bitmap.data[Rt+1],b:et.bitmap.data[Rt+2],a:et.bitmap.data[Rt+3]};ut(it,zt)<=m&&(et.bitmap.data[Rt]=ot.r,et.bitmap.data[Rt+1]=ot.g,et.bitmap.data[Rt+2]=ot.b,et.bitmap.data[Rt+3]=ot.a)}),g(await et.getBase64("image/png")),await new Promise(St=>setTimeout(St,1e3));const ft=await et.getBuffer("image/png"),dt=new Blob([ft],{type:"image/png"});await navigator.clipboard.write([new ClipboardItem({[dt.type]:dt})])}catch(j){console.error("Error processing image:",j)}},handlePaste=(d,m)=>{var w;const g=(w=d.clipboardData)==null?void 0:w.items;if(g){for(const j of g)if(j.type.startsWith("image/")){const H=j.getAsFile();if(H){const et=new FileReader;et.onload=it=>{var ot;m((ot=it.target)==null?void 0:ot.result)},et.readAsDataURL(H)}}}};function r(d){var m,g,w="";if(typeof d=="string"||typeof d=="number")w+=d;else if(typeof d=="object")if(Array.isArray(d)){var j=d.length;for(m=0;m<j;m++)d[m]&&(g=r(d[m]))&&(w&&(w+=" "),w+=g)}else for(g in d)d[g]&&(w&&(w+=" "),w+=g);return w}function clsx(){for(var d,m,g=0,w="",j=arguments.length;g<j;g++)(d=arguments[g])&&(m=r(d))&&(w&&(w+=" "),w+=m);return w}function Mt(d){if(typeof document>"u")return;let m=document.head||document.getElementsByTagName("head")[0],g=document.createElement("style");g.type="text/css",m.firstChild?m.insertBefore(g,m.firstChild):m.appendChild(g),g.styleSheet?g.styleSheet.cssText=d:g.appendChild(document.createTextNode(d))}Mt(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var L=d=>typeof d=="number"&&!isNaN(d),N=d=>typeof d=="string",P=d=>typeof d=="function",mt=d=>N(d)||L(d),B=d=>N(d)||P(d)?d:null,pt=(d,m)=>d===!1||L(d)&&d>0?d:m,z=d=>reactExports.isValidElement(d)||N(d)||P(d)||L(d);function Z(d,m,g=300){let{scrollHeight:w,style:j}=d;requestAnimationFrame(()=>{j.minHeight="initial",j.height=w+"px",j.transition=`all ${g}ms`,requestAnimationFrame(()=>{j.height="0",j.padding="0",j.margin="0",setTimeout(m,g)})})}function $({enter:d,exit:m,appendPosition:g=!1,collapse:w=!0,collapseDuration:j=300}){return function({children:H,position:et,preventExitTransition:it,done:ot,nodeRef:ut,isIn:ft,playToast:dt}){let St=g?`${d}--${et}`:d,Tt=g?`${m}--${et}`:m,Rt=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{let zt=ut.current,$t=St.split(" "),Ht=jt=>{jt.target===ut.current&&(dt(),zt.removeEventListener("animationend",Ht),zt.removeEventListener("animationcancel",Ht),Rt.current===0&&jt.type!=="animationcancel"&&zt.classList.remove(...$t))};zt.classList.add(...$t),zt.addEventListener("animationend",Ht),zt.addEventListener("animationcancel",Ht)},[]),reactExports.useEffect(()=>{let zt=ut.current,$t=()=>{zt.removeEventListener("animationend",$t),w?Z(zt,ot,j):ot()};ft||(it?$t():(Rt.current=1,zt.className+=` ${Tt}`,zt.addEventListener("animationend",$t)))},[ft]),ct.createElement(ct.Fragment,null,H)}}function J(d,m){return{content:tt(d.content,d.props),containerId:d.props.containerId,id:d.props.toastId,theme:d.props.theme,type:d.props.type,data:d.props.data||{},isLoading:d.props.isLoading,icon:d.props.icon,reason:d.removalReason,status:m}}function tt(d,m,g=!1){return reactExports.isValidElement(d)&&!N(d.type)?reactExports.cloneElement(d,{closeToast:m.closeToast,toastProps:m,data:m.data,isPaused:g}):P(d)?d({closeToast:m.closeToast,toastProps:m,data:m.data,isPaused:g}):d}function yt({closeToast:d,theme:m,ariaLabel:g="close"}){return ct.createElement("button",{className:`Toastify__close-button Toastify__close-button--${m}`,type:"button",onClick:w=>{w.stopPropagation(),d(!0)},"aria-label":g},ct.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ct.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gt({delay:d,isRunning:m,closeToast:g,type:w="default",hide:j,className:H,controlledProgress:et,progress:it,rtl:ot,isIn:ut,theme:ft}){let dt=j||et&&it===0,St={animationDuration:`${d}ms`,animationPlayState:m?"running":"paused"};et&&(St.transform=`scaleX(${it})`);let Tt=clsx("Toastify__progress-bar",et?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${ft}`,`Toastify__progress-bar--${w}`,{"Toastify__progress-bar--rtl":ot}),Rt=P(H)?H({rtl:ot,type:w,defaultClassName:Tt}):clsx(Tt,H),zt={[et&&it>=1?"onTransitionEnd":"onAnimationEnd"]:et&&it<1?null:()=>{ut&&g()}};return ct.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":dt},ct.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${ft} Toastify__progress-bar--${w}`}),ct.createElement("div",{role:"progressbar","aria-hidden":dt?"true":"false","aria-label":"notification timer",className:Rt,style:St,...zt}))}var Xt=1,at=()=>`${Xt++}`;function _t(d,m,g){let w=1,j=0,H=[],et=[],it=m,ot=new Map,ut=new Set,ft=jt=>(ut.add(jt),()=>ut.delete(jt)),dt=()=>{et=Array.from(ot.values()),ut.forEach(jt=>jt())},St=({containerId:jt,toastId:Ft,updateId:Dt})=>{let Yt=jt?jt!==d:d!==1,ne=ot.has(Ft)&&Dt==null;return Yt||ne},Tt=(jt,Ft)=>{ot.forEach(Dt=>{var Yt;(Ft==null||Ft===Dt.props.toastId)&&((Yt=Dt.toggle)==null||Yt.call(Dt,jt))})},Rt=jt=>{var Ft,Dt;(Dt=(Ft=jt.props)==null?void 0:Ft.onClose)==null||Dt.call(Ft,jt.removalReason),jt.isActive=!1},zt=jt=>{if(jt==null)ot.forEach(Rt);else{let Ft=ot.get(jt);Ft&&Rt(Ft)}dt()},$t=()=>{j-=H.length,H=[]},Ht=jt=>{var Ft,Dt;let{toastId:Yt,updateId:ne}=jt.props,Kt=ne==null;jt.staleId&&ot.delete(jt.staleId),jt.isActive=!0,ot.set(Yt,jt),dt(),g(J(jt,Kt?"added":"updated")),Kt&&((Dt=(Ft=jt.props).onOpen)==null||Dt.call(Ft))};return{id:d,props:it,observe:ft,toggle:Tt,removeToast:zt,toasts:ot,clearQueue:$t,buildToast:(jt,Ft)=>{if(St(Ft))return;let{toastId:Dt,updateId:Yt,data:ne,staleId:Kt,delay:re}=Ft,ee=Yt==null;ee&&j++;let oe={...it,style:it.toastStyle,key:w++,...Object.fromEntries(Object.entries(Ft).filter(([ie,ge])=>ge!=null)),toastId:Dt,updateId:Yt,data:ne,isIn:!1,className:B(Ft.className||it.toastClassName),progressClassName:B(Ft.progressClassName||it.progressClassName),autoClose:Ft.isLoading?!1:pt(Ft.autoClose,it.autoClose),closeToast(ie){ot.get(Dt).removalReason=ie,zt(Dt)},deleteToast(){let ie=ot.get(Dt);if(ie!=null){if(g(J(ie,"removed")),ot.delete(Dt),j--,j<0&&(j=0),H.length>0){Ht(H.shift());return}dt()}}};oe.closeButton=it.closeButton,Ft.closeButton===!1||z(Ft.closeButton)?oe.closeButton=Ft.closeButton:Ft.closeButton===!0&&(oe.closeButton=z(it.closeButton)?it.closeButton:!0);let Ut={content:jt,props:oe,staleId:Kt};it.limit&&it.limit>0&&j>it.limit&&ee?H.push(Ut):L(re)?setTimeout(()=>{Ht(Ut)},re):Ht(Ut)},setProps(jt){it=jt},setToggle:(jt,Ft)=>{let Dt=ot.get(jt);Dt&&(Dt.toggle=Ft)},isToastActive:jt=>{var Ft;return(Ft=ot.get(jt))==null?void 0:Ft.isActive},getSnapshot:()=>et}}var I=new Map,F=[],st=new Set,Vt=d=>st.forEach(m=>m(d)),bt=()=>I.size>0;function Qt(){F.forEach(d=>nt(d.content,d.options)),F=[]}var vt=(d,{containerId:m})=>{var g;return(g=I.get(m||1))==null?void 0:g.toasts.get(d)};function X(d,m){var g;if(m)return!!((g=I.get(m))!=null&&g.isToastActive(d));let w=!1;return I.forEach(j=>{j.isToastActive(d)&&(w=!0)}),w}function ht(d){if(!bt()){F=F.filter(m=>d!=null&&m.options.toastId!==d);return}if(d==null||mt(d))I.forEach(m=>{m.removeToast(d)});else if(d&&("containerId"in d||"id"in d)){let m=I.get(d.containerId);m?m.removeToast(d.id):I.forEach(g=>{g.removeToast(d.id)})}}var Ct=(d={})=>{I.forEach(m=>{m.props.limit&&(!d.containerId||m.id===d.containerId)&&m.clearQueue()})};function nt(d,m){z(d)&&(bt()||F.push({content:d,options:m}),I.forEach(g=>{g.buildToast(d,m)}))}function xt(d){var m;(m=I.get(d.containerId||1))==null||m.setToggle(d.id,d.fn)}function rt(d,m){I.forEach(g=>{(m==null||!(m!=null&&m.containerId)||(m==null?void 0:m.containerId)===g.id)&&g.toggle(d,m==null?void 0:m.id)})}function Et(d){let m=d.containerId||1;return{subscribe(g){let w=_t(m,d,Vt);I.set(m,w);let j=w.observe(g);return Qt(),()=>{j(),I.delete(m)}},setProps(g){var w;(w=I.get(m))==null||w.setProps(g)},getSnapshot(){var g;return(g=I.get(m))==null?void 0:g.getSnapshot()}}}function Pt(d){return st.add(d),()=>{st.delete(d)}}function Wt(d){return d&&(N(d.toastId)||L(d.toastId))?d.toastId:at()}function U(d,m){return nt(d,m),m.toastId}function V(d,m){return{...m,type:m&&m.type||d,toastId:Wt(m)}}function Q(d){return(m,g)=>U(m,V(d,g))}function y(d,m){return U(d,V("default",m))}y.loading=(d,m)=>U(d,V("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...m}));function Gt(d,{pending:m,error:g,success:w},j){let H;m&&(H=N(m)?y.loading(m,j):y.loading(m.render,{...j,...m}));let et={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},it=(ut,ft,dt)=>{if(ft==null){y.dismiss(H);return}let St={type:ut,...et,...j,data:dt},Tt=N(ft)?{render:ft}:ft;return H?y.update(H,{...St,...Tt}):y(Tt.render,{...St,...Tt}),dt},ot=P(d)?d():d;return ot.then(ut=>it("success",w,ut)).catch(ut=>it("error",g,ut)),ot}y.promise=Gt;y.success=Q("success");y.info=Q("info");y.error=Q("error");y.warning=Q("warning");y.warn=y.warning;y.dark=(d,m)=>U(d,V("default",{theme:"dark",...m}));function qt(d){ht(d)}y.dismiss=qt;y.clearWaitingQueue=Ct;y.isActive=X;y.update=(d,m={})=>{let g=vt(d,m);if(g){let{props:w,content:j}=g,H={delay:100,...w,...m,toastId:m.toastId||d,updateId:at()};H.toastId!==d&&(H.staleId=d);let et=H.render||j;delete H.render,U(et,H)}};y.done=d=>{y.update(d,{progress:1})};y.onChange=Pt;y.play=d=>rt(!0,d);y.pause=d=>rt(!1,d);function It(d){var m;let{subscribe:g,getSnapshot:w,setProps:j}=reactExports.useRef(Et(d)).current;j(d);let H=(m=reactExports.useSyncExternalStore(g,w,w))==null?void 0:m.slice();function et(it){if(!H)return[];let ot=new Map;return d.newestOnTop&&H.reverse(),H.forEach(ut=>{let{position:ft}=ut.props;ot.has(ft)||ot.set(ft,[]),ot.get(ft).push(ut)}),Array.from(ot,ut=>it(ut[0],ut[1]))}return{getToastToRender:et,isToastActive:X,count:H==null?void 0:H.length}}function At(d){let[m,g]=reactExports.useState(!1),[w,j]=reactExports.useState(!1),H=reactExports.useRef(null),et=reactExports.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:it,pauseOnHover:ot,closeToast:ut,onClick:ft,closeOnClick:dt}=d;xt({id:d.toastId,containerId:d.containerId,fn:g}),reactExports.useEffect(()=>{if(d.pauseOnFocusLoss)return St(),()=>{Tt()}},[d.pauseOnFocusLoss]);function St(){document.hasFocus()||Ht(),window.addEventListener("focus",$t),window.addEventListener("blur",Ht)}function Tt(){window.removeEventListener("focus",$t),window.removeEventListener("blur",Ht)}function Rt(Kt){if(d.draggable===!0||d.draggable===Kt.pointerType){jt();let re=H.current;et.canCloseOnClick=!0,et.canDrag=!0,re.style.transition="none",d.draggableDirection==="x"?(et.start=Kt.clientX,et.removalDistance=re.offsetWidth*(d.draggablePercent/100)):(et.start=Kt.clientY,et.removalDistance=re.offsetHeight*(d.draggablePercent===80?d.draggablePercent*1.5:d.draggablePercent)/100)}}function zt(Kt){let{top:re,bottom:ee,left:oe,right:Ut}=H.current.getBoundingClientRect();Kt.nativeEvent.type!=="touchend"&&d.pauseOnHover&&Kt.clientX>=oe&&Kt.clientX<=Ut&&Kt.clientY>=re&&Kt.clientY<=ee?Ht():$t()}function $t(){g(!0)}function Ht(){g(!1)}function jt(){et.didMove=!1,document.addEventListener("pointermove",Dt),document.addEventListener("pointerup",Yt)}function Ft(){document.removeEventListener("pointermove",Dt),document.removeEventListener("pointerup",Yt)}function Dt(Kt){let re=H.current;if(et.canDrag&&re){et.didMove=!0,m&&Ht(),d.draggableDirection==="x"?et.delta=Kt.clientX-et.start:et.delta=Kt.clientY-et.start,et.start!==Kt.clientX&&(et.canCloseOnClick=!1);let ee=d.draggableDirection==="x"?`${et.delta}px, var(--y)`:`0, calc(${et.delta}px + var(--y))`;re.style.transform=`translate3d(${ee},0)`,re.style.opacity=`${1-Math.abs(et.delta/et.removalDistance)}`}}function Yt(){Ft();let Kt=H.current;if(et.canDrag&&et.didMove&&Kt){if(et.canDrag=!1,Math.abs(et.delta)>et.removalDistance){j(!0),d.closeToast(!0),d.collapseAll();return}Kt.style.transition="transform 0.2s, opacity 0.2s",Kt.style.removeProperty("transform"),Kt.style.removeProperty("opacity")}}let ne={onPointerDown:Rt,onPointerUp:zt};return it&&ot&&(ne.onMouseEnter=Ht,d.stacked||(ne.onMouseLeave=$t)),dt&&(ne.onClick=Kt=>{ft&&ft(Kt),et.canCloseOnClick&&ut(!0)}),{playToast:$t,pauseToast:Ht,isRunning:m,preventExitTransition:w,toastRef:H,eventHandlers:ne}}var Ot=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,G=({theme:d,type:m,isLoading:g,...w})=>ct.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:d==="colored"?"currentColor":`var(--toastify-icon-color-${m})`,...w});function ao(d){return ct.createElement(G,{...d},ct.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function so(d){return ct.createElement(G,{...d},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function no(d){return ct.createElement(G,{...d},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ro(d){return ct.createElement(G,{...d},ct.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function io(){return ct.createElement("div",{className:"Toastify__spinner"})}var W={info:so,warning:ao,success:no,error:ro,spinner:io},lo=d=>d in W;function Nt({theme:d,type:m,isLoading:g,icon:w}){let j=null,H={theme:d,type:m};return w===!1||(P(w)?j=w({...H,isLoading:g}):reactExports.isValidElement(w)?j=reactExports.cloneElement(w,H):g?j=W.spinner():lo(m)&&(j=W[m](H))),j}var wt=d=>{let{isRunning:m,preventExitTransition:g,toastRef:w,eventHandlers:j,playToast:H}=At(d),{closeButton:et,children:it,autoClose:ot,onClick:ut,type:ft,hideProgressBar:dt,closeToast:St,transition:Tt,position:Rt,className:zt,style:$t,progressClassName:Ht,updateId:jt,role:Ft,progress:Dt,rtl:Yt,toastId:ne,deleteToast:Kt,isIn:re,isLoading:ee,closeOnClick:oe,theme:Ut,ariaLabel:ie}=d,ge=clsx("Toastify__toast",`Toastify__toast-theme--${Ut}`,`Toastify__toast--${ft}`,{"Toastify__toast--rtl":Yt},{"Toastify__toast--close-on-click":oe}),ce=P(zt)?zt({rtl:Yt,position:Rt,type:ft,defaultClassName:ge}):clsx(ge,zt),le=Nt(d),de=!!Dt||!ot,Ae={closeToast:St,type:ft,theme:Ut},ve=null;return et===!1||(P(et)?ve=et(Ae):reactExports.isValidElement(et)?ve=reactExports.cloneElement(et,Ae):ve=yt(Ae)),ct.createElement(Tt,{isIn:re,done:Kt,position:Rt,preventExitTransition:g,nodeRef:w,playToast:H},ct.createElement("div",{id:ne,tabIndex:0,onClick:ut,"data-in":re,className:ce,...j,style:$t,ref:w,...re&&{role:Ft,"aria-label":ie}},le!=null&&ct.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ee})},le),tt(it,d,!m),ve,!d.customProgressBar&&ct.createElement(gt,{...jt&&!de?{key:`p-${jt}`}:{},rtl:Yt,theme:Ut,delay:ot,isRunning:m,isIn:re,closeToast:St,hide:dt,type:ft,className:Ht,controlledProgress:de,progress:Dt||0})))},K=(d,m=!1)=>({enter:`Toastify--animate Toastify__${d}-enter`,exit:`Toastify--animate Toastify__${d}-exit`,appendPosition:m}),lt=$(K("bounce",!0)),_o={position:"top-right",transition:lt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:d=>d.altKey&&d.code==="KeyT"};function Lt(d){let m={..._o,...d},g=d.stacked,[w,j]=reactExports.useState(!0),H=reactExports.useRef(null),{getToastToRender:et,isToastActive:it,count:ot}=It(m),{className:ut,style:ft,rtl:dt,containerId:St,hotKeys:Tt}=m;function Rt($t){let Ht=clsx("Toastify__toast-container",`Toastify__toast-container--${$t}`,{"Toastify__toast-container--rtl":dt});return P(ut)?ut({position:$t,rtl:dt,defaultClassName:Ht}):clsx(Ht,B(ut))}function zt(){g&&(j(!0),y.play())}return Ot(()=>{var $t;if(g){let Ht=H.current.querySelectorAll('[data-in="true"]'),jt=12,Ft=($t=m.position)==null?void 0:$t.includes("top"),Dt=0,Yt=0;Array.from(Ht).reverse().forEach((ne,Kt)=>{let re=ne;re.classList.add("Toastify__toast--stacked"),Kt>0&&(re.dataset.collapsed=`${w}`),re.dataset.pos||(re.dataset.pos=Ft?"top":"bot");let ee=Dt*(w?.2:1)+(w?0:jt*Kt);re.style.setProperty("--y",`${Ft?ee:ee*-1}px`),re.style.setProperty("--g",`${jt}`),re.style.setProperty("--s",`${1-(w?Yt:0)}`),Dt+=re.offsetHeight,Yt+=.025})}},[w,ot,g]),reactExports.useEffect(()=>{function $t(Ht){var jt;let Ft=H.current;Tt(Ht)&&((jt=Ft.querySelector('[tabIndex="0"]'))==null||jt.focus(),j(!1),y.pause()),Ht.key==="Escape"&&(document.activeElement===Ft||Ft!=null&&Ft.contains(document.activeElement))&&(j(!0),y.play())}return document.addEventListener("keydown",$t),()=>{document.removeEventListener("keydown",$t)}},[Tt]),ct.createElement("section",{ref:H,className:"Toastify",id:St,onMouseEnter:()=>{g&&(j(!1),y.pause())},onMouseLeave:zt,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":m["aria-label"]},et(($t,Ht)=>{let jt=Ht.length?{...ft}:{...ft,pointerEvents:"none"};return ct.createElement("div",{tabIndex:-1,className:Rt($t),"data-stacked":g,style:jt,key:`c-${$t}`},Ht.map(({content:Ft,props:Dt})=>ct.createElement(wt,{...Dt,stacked:g,collapseAll:zt,isIn:it(Dt.toastId,Dt.containerId),key:`t-${Dt.key}`},Ft)))}))}const App=()=>{const[d,m]=reactExports.useState(null),[g,w]=reactExports.useState(null),[j,H]=reactExports.useState(240),et=reactExports.useRef(null),it=(ot,ut)=>{ut?y.error(ot):y.success(ot)};return reactExports.useEffect(()=>(window.addEventListener("paste",ot=>handlePaste(ot,m)),()=>{window.removeEventListener("paste",ot=>handlePaste(ot,m))}),[]),reactExports.useEffect(()=>{d&&processImage(d,j,w,it).then()},[d,j]),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",padding:"20px",fontFamily:"Arial, sans-serif"},children:[jsxRuntimeExports.jsx("h1",{children:"Remove White Background"}),jsxRuntimeExports.jsxs("div",{style:{margin:"20px 0"},children:[jsxRuntimeExports.jsxs("label",{htmlFor:"tolerance",children:["Tolerance: ",j]}),jsxRuntimeExports.jsx("input",{type:"range",id:"tolerance",min:"0",max:"255",value:j,onChange:ot=>H(Number(ot.target.value)),style:{marginLeft:"10px"}})]}),g?jsxRuntimeExports.jsx("img",{src:g,alt:"Processed",style:{maxWidth:"100%",margin:"20px auto",backgroundColor:"#333"}}):jsxRuntimeExports.jsx("input",{type:"text",style:{border:"2px dashed #ccc",padding:"50px",margin:"20px auto",maxWidth:"600px",height:"300px",backgroundColor:"#f9f9f9",color:"#000",width:"100%",caretColor:"transparent"},onClick:()=>handleUploadClick(et),onDragOver:ot=>ot.preventDefault(),placeholder:"Click here or paste an image to get started"}),jsxRuntimeExports.jsx("input",{type:"file",ref:et,style:{display:"none"},accept:"image/*",onChange:ot=>handleFileChange(ot,m)}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{onClick:()=>{m(null),w(null)},style:{margin:"10px",padding:"10px 20px",fontSize:"16px"},children:"Reset"}),jsxRuntimeExports.jsx(Lt,{position:"top-center",hideProgressBar:!0,closeOnClick:!0})]})},container=document.getElementById("root"),root=clientExports.createRoot(container);root.render(jsxRuntimeExports.jsx(App,{}))});export default Wd();
